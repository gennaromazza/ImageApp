function aD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function oD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oU={exports:{}},eg={},lU={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=Symbol.for("react.element"),lD=Symbol.for("react.portal"),cD=Symbol.for("react.fragment"),uD=Symbol.for("react.strict_mode"),dD=Symbol.for("react.profiler"),hD=Symbol.for("react.provider"),fD=Symbol.for("react.context"),pD=Symbol.for("react.forward_ref"),gD=Symbol.for("react.suspense"),mD=Symbol.for("react.memo"),yD=Symbol.for("react.lazy"),EE=Symbol.iterator;function vD(t){return t===null||typeof t!="object"?null:(t=EE&&t[EE]||t["@@iterator"],typeof t=="function"?t:null)}var cU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uU=Object.assign,dU={};function rl(t,e,n){this.props=t,this.context=e,this.refs=dU,this.updater=n||cU}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hU(){}hU.prototype=rl.prototype;function Tw(t,e,n){this.props=t,this.context=e,this.refs=dU,this.updater=n||cU}var Iw=Tw.prototype=new hU;Iw.constructor=Tw;uU(Iw,rl.prototype);Iw.isPureReactComponent=!0;var _E=Array.isArray,fU=Object.prototype.hasOwnProperty,Uw={current:null},pU={key:!0,ref:!0,__self:!0,__source:!0};function gU(t,e,n){var r,s={},i=null,A=null;if(e!=null)for(r in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)fU.call(e,r)&&!pU.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wu,type:t,key:i,ref:A,props:s,_owner:Uw.current}}function wD(t,e){return{$$typeof:Wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wu}function BD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bE=/\/+/g;function Sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BD(""+t.key):e.toString(36)}function zh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Wu:case lD:A=!0}}if(A)return A=t,s=s(A),t=r===""?"."+Sm(A,0):r,_E(s)?(n="",t!=null&&(n=t.replace(bE,"$&/")+"/"),zh(s,e,n,"",function(c){return c})):s!=null&&(Fw(s)&&(s=wD(s,n+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(bE,"$&/")+"/")+t)),e.push(s)),1;if(A=0,r=r===""?".":r+":",_E(t))for(var a=0;a<t.length;a++){i=t[a];var o=r+Sm(i,a);A+=zh(i,e,n,o,s)}else if(o=vD(t),typeof o=="function")for(t=o.call(t),a=0;!(i=t.next()).done;)i=i.value,o=r+Sm(i,a++),A+=zh(i,e,n,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Kd(t,e,n){if(t==null)return t;var r=[],s=0;return zh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function xD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Gh={transition:null},CD={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:Uw};function mU(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Kd,forEach:function(t,e,n){Kd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kd(t,function(){e++}),e},toArray:function(t){return Kd(t,function(e){return e})||[]},only:function(t){if(!Fw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=rl;Ue.Fragment=cD;Ue.Profiler=dD;Ue.PureComponent=Tw;Ue.StrictMode=uD;Ue.Suspense=gD;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CD;Ue.act=mU;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uU({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=Uw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)fU.call(e,o)&&!pU.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var c=0;c<o;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wu,type:t.type,key:s,ref:i,props:r,_owner:A}};Ue.createContext=function(t){return t={$$typeof:fD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hD,_context:t},t.Consumer=t};Ue.createElement=gU;Ue.createFactory=function(t){var e=gU.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:pD,render:t}};Ue.isValidElement=Fw;Ue.lazy=function(t){return{$$typeof:yD,_payload:{_status:-1,_result:t},_init:xD}};Ue.memo=function(t,e){return{$$typeof:mD,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};Ue.unstable_act=mU;Ue.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Ue.useContext=function(t){return Dn.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Ue.useId=function(){return Dn.current.useId()};Ue.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Ue.useRef=function(t){return Dn.current.useRef(t)};Ue.useState=function(t){return Dn.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Dn.current.useTransition()};Ue.version="18.3.1";lU.exports=Ue;var U=lU.exports;const tt=oD(U),ED=aD({__proto__:null,default:tt},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _D=U,bD=Symbol.for("react.element"),TD=Symbol.for("react.fragment"),ID=Object.prototype.hasOwnProperty,UD=_D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FD={key:!0,ref:!0,__self:!0,__source:!0};function yU(t,e,n){var r,s={},i=null,A=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(r in e)ID.call(e,r)&&!FD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bD,type:t,key:i,ref:A,props:s,_owner:UD.current}}eg.Fragment=TD;eg.jsx=yU;eg.jsxs=yU;oU.exports=eg;var l=oU.exports,vU={exports:{}},or={},wU={exports:{}},BU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var W=L.length;L.push(H);e:for(;0<W;){var G=W-1>>>1,fe=L[G];if(0<s(fe,H))L[G]=H,L[W]=fe,W=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],W=L.pop();if(W!==H){L[0]=W;e:for(var G=0,fe=L.length,Be=fe>>>1;G<Be;){var Je=2*(G+1)-1,Ge=L[Je],st=Je+1,ut=L[st];if(0>s(Ge,W))st<fe&&0>s(ut,Ge)?(L[G]=ut,L[st]=W,G=st):(L[G]=Ge,L[Je]=W,G=Je);else if(st<fe&&0>s(ut,W))L[G]=ut,L[st]=W,G=st;else break e}}return H}function s(L,H){var W=L.sortIndex-H.sortIndex;return W!==0?W:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],c=[],u=1,h=null,f=3,g=!1,m=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=L)r(c),H.sortIndex=H.expirationTime,e(o,H);else break;H=n(c)}}function F(L){if(y=!1,w(L),!m)if(n(o)!==null)m=!0,K(T);else{var H=n(c);H!==null&&J(F,H.startTime-L)}}function T(L,H){m=!1,y&&(y=!1,x(C),C=-1),g=!0;var W=f;try{for(w(H),h=n(o);h!==null&&(!(h.expirationTime>H)||L&&!k());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var fe=G(h.expirationTime<=H);H=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(o)&&r(o),w(H)}else r(o);h=n(o)}if(h!==null)var Be=!0;else{var Je=n(c);Je!==null&&J(F,Je.startTime-H),Be=!1}return Be}finally{h=null,f=W,g=!1}}var N=!1,b=null,C=-1,_=5,I=-1;function k(){return!(t.unstable_now()-I<_)}function R(){if(b!==null){var L=t.unstable_now();I=L;var H=!0;try{H=b(!0,L)}finally{H?S():(N=!1,b=null)}}else N=!1}var S;if(typeof v=="function")S=function(){v(R)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Ae=ee.port2;ee.port1.onmessage=R,S=function(){Ae.postMessage(null)}}else S=function(){E(R,0)};function K(L){b=L,N||(N=!0,S())}function J(L,H){C=E(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,K(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var W=f;f=H;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return H()}finally{f=W}},t.unstable_scheduleCallback=function(L,H,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=W+fe,L={id:u++,callback:H,priorityLevel:L,startTime:W,expirationTime:fe,sortIndex:-1},W>G?(L.sortIndex=W,e(c,L),n(o)===null&&L===n(c)&&(y?(x(C),C=-1):y=!0,J(F,W-G))):(L.sortIndex=fe,e(o,L),m||g||(m=!0,K(T))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var H=f;return function(){var W=f;f=H;try{return L.apply(this,arguments)}finally{f=W}}}})(BU);wU.exports=BU;var SD=wU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD=U,ir=SD;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xU=new Set,Wc={};function pa(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(Wc[t]=e,t=0;t<e.length;t++)xU.add(e[t])}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ay=Object.prototype.hasOwnProperty,ND=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TE={},IE={};function kD(t){return ay.call(IE,t)?!0:ay.call(TE,t)?!1:ND.test(t)?IE[t]=!0:(TE[t]=!0,!1)}function RD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DD(t,e,n,r){if(e===null||typeof e>"u"||RD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sw=/[\-:]([a-z])/g;function Qw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sw,Qw);an[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sw,Qw);an[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sw,Qw);an[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nw(t,e,n,r){var s=an.hasOwnProperty(e)?an[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DD(e,n,s,r)&&(n=null),r||s===null?kD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=QD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zd=Symbol.for("react.element"),$a=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),CU=Symbol.for("react.provider"),EU=Symbol.for("react.context"),Rw=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),Dw=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),_U=Symbol.for("react.offscreen"),UE=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=UE&&t[UE]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,Qm;function Zl(t){if(Qm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qm=e&&e[1]||""}return`
`+Qm+t}var Nm=!1;function km(t,e){if(!t||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var o=`
`+s[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zl(t):""}function PD(t){switch(t.tag){case 5:return Zl(t.type);case 16:return Zl("Lazy");case 13:return Zl("Suspense");case 19:return Zl("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wa:return"Fragment";case $a:return"Portal";case oy:return"Profiler";case kw:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EU:return(t.displayName||"Context")+".Consumer";case CU:return(t._context.displayName||"Context")+".Provider";case Rw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dw:return e=t.displayName||null,e!==null?e:uy(t.type)||"Memo";case fi:e=t._payload,t=t._init;try{return uy(t(e))}catch{}}return null}function LD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(e);case 8:return e===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jD(t){var e=bU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){r=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gd(t){t._valueTracker||(t._valueTracker=jD(t))}function TU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dy(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IU(t,e){e=e.checked,e!=null&&Nw(t,"checked",e,!1)}function hy(t,e){IU(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fy(t,e.type,n):e.hasOwnProperty("defaultValue")&&fy(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fy(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ec=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(ec(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function UU(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function NE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $d,SU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($d=$d||document.createElement("div"),$d.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$d.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MD=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(t){MD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bc[e]=Bc[t]})});function QU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bc.hasOwnProperty(t)&&Bc[t]?(""+e).trim():e+"px"}function NU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var OD=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function my(t,e){if(e){if(OD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function yy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=null;function Pw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wy=null,go=null,mo=null;function kE(t){if(t=Yu(t)){if(typeof wy!="function")throw Error(X(280));var e=t.stateNode;e&&(e=ig(e),wy(t.stateNode,t.type,e))}}function kU(t){go?mo?mo.push(t):mo=[t]:go=t}function RU(){if(go){var t=go,e=mo;if(mo=go=null,kE(t),e)for(t=0;t<e.length;t++)kE(e[t])}}function DU(t,e){return t(e)}function PU(){}var Rm=!1;function LU(t,e,n){if(Rm)return t(e,n);Rm=!0;try{return DU(t,e,n)}finally{Rm=!1,(go!==null||mo!==null)&&(PU(),RU())}}function Xc(t,e){var n=t.stateNode;if(n===null)return null;var r=ig(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var By=!1;if(Os)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){By=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{By=!1}function VD(t,e,n,r,s,i,A,a,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var xc=!1,_f=null,bf=!1,xy=null,HD={onError:function(t){xc=!0,_f=t}};function KD(t,e,n,r,s,i,A,a,o){xc=!1,_f=null,VD.apply(HD,arguments)}function zD(t,e,n,r,s,i,A,a,o){if(KD.apply(this,arguments),xc){if(xc){var c=_f;xc=!1,_f=null}else throw Error(X(198));bf||(bf=!0,xy=c)}}function ga(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RE(t){if(ga(t)!==t)throw Error(X(188))}function GD(t){var e=t.alternate;if(!e){if(e=ga(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return RE(s),t;if(i===r)return RE(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var A=!1,a=s.child;a;){if(a===n){A=!0,n=s,r=i;break}if(a===r){A=!0,r=s,n=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===n){A=!0,n=i,r=s;break}if(a===r){A=!0,r=i,n=s;break}a=a.sibling}if(!A)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function MU(t){return t=GD(t),t!==null?OU(t):null}function OU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OU(t);if(e!==null)return e;t=t.sibling}return null}var VU=ir.unstable_scheduleCallback,DE=ir.unstable_cancelCallback,$D=ir.unstable_shouldYield,WD=ir.unstable_requestPaint,Ut=ir.unstable_now,qD=ir.unstable_getCurrentPriorityLevel,Lw=ir.unstable_ImmediatePriority,HU=ir.unstable_UserBlockingPriority,Tf=ir.unstable_NormalPriority,XD=ir.unstable_LowPriority,KU=ir.unstable_IdlePriority,tg=null,ts=null;function YD(t){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(tg,t,void 0,(t.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:eP,JD=Math.log,ZD=Math.LN2;function eP(t){return t>>>=0,t===0?32:31-(JD(t)/ZD|0)|0}var Wd=64,qd=4194304;function tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function If(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,A=n&268435455;if(A!==0){var a=A&~s;a!==0?r=tc(a):(i&=A,i!==0&&(r=tc(i)))}else A=n&~s,A!==0?r=tc(A):i!==0&&(r=tc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kr(e),s=1<<n,r|=t[n],e&=~s;return r}function tP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-kr(i),a=1<<A,o=s[A];o===-1?(!(a&n)||a&r)&&(s[A]=tP(a,e)):o<=e&&(t.expiredLanes|=a),i&=~a}}function Cy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zU(){var t=Wd;return Wd<<=1,!(Wd&4194240)&&(Wd=64),t}function Dm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kr(e),t[e]=n}function rP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function jw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var We=0;function GU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $U,Mw,WU,qU,XU,Ey=!1,Xd=[],ki=null,Ri=null,Di=null,Yc=new Map,Jc=new Map,mi=[],sP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PE(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jc.delete(e.pointerId)}}function Dl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yu(e),e!==null&&Mw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function iP(t,e,n,r,s){switch(e){case"focusin":return ki=Dl(ki,t,e,n,r,s),!0;case"dragenter":return Ri=Dl(Ri,t,e,n,r,s),!0;case"mouseover":return Di=Dl(Di,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yc.set(i,Dl(Yc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Jc.set(i,Dl(Jc.get(i)||null,t,e,n,r,s)),!0}return!1}function YU(t){var e=RA(t.target);if(e!==null){var n=ga(e);if(n!==null){if(e=n.tag,e===13){if(e=jU(n),e!==null){t.blockedOn=e,XU(t.priority,function(){WU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $h(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_y(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vy=r,n.target.dispatchEvent(r),vy=null}else return e=Yu(n),e!==null&&Mw(e),t.blockedOn=n,!1;e.shift()}return!0}function LE(t,e,n){$h(t)&&n.delete(e)}function AP(){Ey=!1,ki!==null&&$h(ki)&&(ki=null),Ri!==null&&$h(Ri)&&(Ri=null),Di!==null&&$h(Di)&&(Di=null),Yc.forEach(LE),Jc.forEach(LE)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ey||(Ey=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,AP)))}function Zc(t){function e(s){return Pl(s,t)}if(0<Xd.length){Pl(Xd[0],t);for(var n=1;n<Xd.length;n++){var r=Xd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ki!==null&&Pl(ki,t),Ri!==null&&Pl(Ri,t),Di!==null&&Pl(Di,t),Yc.forEach(e),Jc.forEach(e),n=0;n<mi.length;n++)r=mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mi.length&&(n=mi[0],n.blockedOn===null);)YU(n),n.blockedOn===null&&mi.shift()}var yo=ni.ReactCurrentBatchConfig,Uf=!0;function aP(t,e,n,r){var s=We,i=yo.transition;yo.transition=null;try{We=1,Ow(t,e,n,r)}finally{We=s,yo.transition=i}}function oP(t,e,n,r){var s=We,i=yo.transition;yo.transition=null;try{We=4,Ow(t,e,n,r)}finally{We=s,yo.transition=i}}function Ow(t,e,n,r){if(Uf){var s=_y(t,e,n,r);if(s===null)Gm(t,e,r,Ff,n),PE(t,r);else if(iP(s,t,e,n,r))r.stopPropagation();else if(PE(t,r),e&4&&-1<sP.indexOf(t)){for(;s!==null;){var i=Yu(s);if(i!==null&&$U(i),i=_y(t,e,n,r),i===null&&Gm(t,e,r,Ff,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gm(t,e,r,null,n)}}var Ff=null;function _y(t,e,n,r){if(Ff=null,t=Pw(r),t=RA(t),t!==null)if(e=ga(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ff=t,null}function JU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qD()){case Lw:return 1;case HU:return 4;case Tf:case XD:return 16;case KU:return 536870912;default:return 16}default:return 16}}var bi=null,Vw=null,Wh=null;function ZU(){if(Wh)return Wh;var t,e=Vw,n=e.length,r,s="value"in bi?bi.value:bi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var A=n-t;for(r=1;r<=A&&e[n-r]===s[i-r];r++);return Wh=s.slice(t,1<r?1-r:void 0)}function qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yd(){return!0}function jE(){return!1}function lr(t){function e(n,r,s,i,A){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yd:jE,this.isPropagationStopped=jE,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yd)},persist:function(){},isPersistent:Yd}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hw=lr(sl),Xu=gt({},sl,{view:0,detail:0}),lP=lr(Xu),Pm,Lm,Ll,ng=gt({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ll&&(Ll&&t.type==="mousemove"?(Pm=t.screenX-Ll.screenX,Lm=t.screenY-Ll.screenY):Lm=Pm=0,Ll=t),Pm)},movementY:function(t){return"movementY"in t?t.movementY:Lm}}),ME=lr(ng),cP=gt({},ng,{dataTransfer:0}),uP=lr(cP),dP=gt({},Xu,{relatedTarget:0}),jm=lr(dP),hP=gt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),fP=lr(hP),pP=gt({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gP=lr(pP),mP=gt({},sl,{data:0}),OE=lr(mP),yP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wP[t])?!!e[t]:!1}function Kw(){return BP}var xP=gt({},Xu,{key:function(t){if(t.key){var e=yP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kw,charCode:function(t){return t.type==="keypress"?qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CP=lr(xP),EP=gt({},ng,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VE=lr(EP),_P=gt({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kw}),bP=lr(_P),TP=gt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=lr(TP),UP=gt({},ng,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FP=lr(UP),SP=[9,13,27,32],zw=Os&&"CompositionEvent"in window,Cc=null;Os&&"documentMode"in document&&(Cc=document.documentMode);var QP=Os&&"TextEvent"in window&&!Cc,eF=Os&&(!zw||Cc&&8<Cc&&11>=Cc),HE=" ",KE=!1;function tF(t,e){switch(t){case"keyup":return SP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function NP(t,e){switch(t){case"compositionend":return nF(e);case"keypress":return e.which!==32?null:(KE=!0,HE);case"textInput":return t=e.data,t===HE&&KE?null:t;default:return null}}function kP(t,e){if(qa)return t==="compositionend"||!zw&&tF(t,e)?(t=ZU(),Wh=Vw=bi=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eF&&e.locale!=="ko"?null:e.data;default:return null}}var RP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RP[t.type]:e==="textarea"}function rF(t,e,n,r){kU(r),e=Sf(e,"onChange"),0<e.length&&(n=new Hw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,eu=null;function DP(t){fF(t,0)}function rg(t){var e=Ja(t);if(TU(e))return t}function PP(t,e){if(t==="change")return e}var sF=!1;if(Os){var Mm;if(Os){var Om="oninput"in document;if(!Om){var GE=document.createElement("div");GE.setAttribute("oninput","return;"),Om=typeof GE.oninput=="function"}Mm=Om}else Mm=!1;sF=Mm&&(!document.documentMode||9<document.documentMode)}function $E(){Ec&&(Ec.detachEvent("onpropertychange",iF),eu=Ec=null)}function iF(t){if(t.propertyName==="value"&&rg(eu)){var e=[];rF(e,eu,t,Pw(t)),LU(DP,e)}}function LP(t,e,n){t==="focusin"?($E(),Ec=e,eu=n,Ec.attachEvent("onpropertychange",iF)):t==="focusout"&&$E()}function jP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rg(eu)}function MP(t,e){if(t==="click")return rg(e)}function OP(t,e){if(t==="input"||t==="change")return rg(e)}function VP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:VP;function tu(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ay.call(e,s)||!Lr(t[s],e[s]))return!1}return!0}function WE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qE(t,e){var n=WE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WE(n)}}function AF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aF(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HP(t){var e=aF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AF(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=qE(n,i);var A=qE(n,r);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KP=Os&&"documentMode"in document&&11>=document.documentMode,Xa=null,by=null,_c=null,Ty=!1;function XE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||Xa==null||Xa!==Ef(r)||(r=Xa,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&tu(_c,r)||(_c=r,r=Sf(by,"onSelect"),0<r.length&&(e=new Hw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function Jd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ya={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},Vm={},oF={};Os&&(oF=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function sg(t){if(Vm[t])return Vm[t];if(!Ya[t])return t;var e=Ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oF)return Vm[t]=e[n];return t}var lF=sg("animationend"),cF=sg("animationiteration"),uF=sg("animationstart"),dF=sg("transitionend"),hF=new Map,YE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cA(t,e){hF.set(t,e),pa(e,[t])}for(var Hm=0;Hm<YE.length;Hm++){var Km=YE[Hm],zP=Km.toLowerCase(),GP=Km[0].toUpperCase()+Km.slice(1);cA(zP,"on"+GP)}cA(lF,"onAnimationEnd");cA(cF,"onAnimationIteration");cA(uF,"onAnimationStart");cA("dblclick","onDoubleClick");cA("focusin","onFocus");cA("focusout","onBlur");cA(dF,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$P=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function JE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zD(r,e,void 0,t),t.currentTarget=null}function fF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var A=r.length-1;0<=A;A--){var a=r[A],o=a.instance,c=a.currentTarget;if(a=a.listener,o!==i&&s.isPropagationStopped())break e;JE(s,a,c),i=o}else for(A=0;A<r.length;A++){if(a=r[A],o=a.instance,c=a.currentTarget,a=a.listener,o!==i&&s.isPropagationStopped())break e;JE(s,a,c),i=o}}}if(bf)throw t=xy,bf=!1,xy=null,t}function At(t,e){var n=e[Qy];n===void 0&&(n=e[Qy]=new Set);var r=t+"__bubble";n.has(r)||(pF(e,t,2,!1),n.add(r))}function zm(t,e,n){var r=0;e&&(r|=4),pF(n,t,r,e)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[Zd]){t[Zd]=!0,xU.forEach(function(n){n!=="selectionchange"&&($P.has(n)||zm(n,!1,t),zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zd]||(e[Zd]=!0,zm("selectionchange",!1,e))}}function pF(t,e,n,r){switch(JU(e)){case 1:var s=aP;break;case 4:s=oP;break;default:s=Ow}n=s.bind(null,e,n,t),s=void 0,!By||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=r.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;A=A.return}for(;a!==null;){if(A=RA(a),A===null)return;if(o=A.tag,o===5||o===6){r=i=A;continue e}a=a.parentNode}}r=r.return}LU(function(){var c=i,u=Pw(n),h=[];e:{var f=hF.get(t);if(f!==void 0){var g=Hw,m=t;switch(t){case"keypress":if(qh(n)===0)break e;case"keydown":case"keyup":g=CP;break;case"focusin":m="focus",g=jm;break;case"focusout":m="blur",g=jm;break;case"beforeblur":case"afterblur":g=jm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ME;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=bP;break;case lF:case cF:case uF:g=fP;break;case dF:g=IP;break;case"scroll":g=lP;break;case"wheel":g=FP;break;case"copy":case"cut":case"paste":g=gP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=VE}var y=(e&4)!==0,E=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var F=w.stateNode;if(w.tag===5&&F!==null&&(w=F,x!==null&&(F=Xc(v,x),F!=null&&y.push(ru(v,F,w)))),E)break;v=v.return}0<y.length&&(f=new g(f,m,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==vy&&(m=n.relatedTarget||n.fromElement)&&(RA(m)||m[Vs]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=c,m=m?RA(m):null,m!==null&&(E=ga(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(y=ME,F="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=VE,F="onPointerLeave",x="onPointerEnter",v="pointer"),E=g==null?f:Ja(g),w=m==null?f:Ja(m),f=new y(F,v+"leave",g,n,u),f.target=E,f.relatedTarget=w,F=null,RA(u)===c&&(y=new y(x,v+"enter",m,n,u),y.target=w,y.relatedTarget=E,F=y),E=F,g&&m)t:{for(y=g,x=m,v=0,w=y;w;w=Qa(w))v++;for(w=0,F=x;F;F=Qa(F))w++;for(;0<v-w;)y=Qa(y),v--;for(;0<w-v;)x=Qa(x),w--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=Qa(y),x=Qa(x)}y=null}else y=null;g!==null&&ZE(h,f,g,y,!1),m!==null&&E!==null&&ZE(h,E,m,y,!0)}}e:{if(f=c?Ja(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=PP;else if(zE(f))if(sF)T=OP;else{T=jP;var N=LP}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=MP);if(T&&(T=T(t,c))){rF(h,T,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&fy(f,"number",f.value)}switch(N=c?Ja(c):window,t){case"focusin":(zE(N)||N.contentEditable==="true")&&(Xa=N,by=c,_c=null);break;case"focusout":_c=by=Xa=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,XE(h,n,u);break;case"selectionchange":if(KP)break;case"keydown":case"keyup":XE(h,n,u)}var b;if(zw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else qa?tF(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(eF&&n.locale!=="ko"&&(qa||C!=="onCompositionStart"?C==="onCompositionEnd"&&qa&&(b=ZU()):(bi=u,Vw="value"in bi?bi.value:bi.textContent,qa=!0)),N=Sf(c,C),0<N.length&&(C=new OE(C,t,null,n,u),h.push({event:C,listeners:N}),b?C.data=b:(b=nF(n),b!==null&&(C.data=b)))),(b=QP?NP(t,n):kP(t,n))&&(c=Sf(c,"onBeforeInput"),0<c.length&&(u=new OE("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}fF(h,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xc(t,n),i!=null&&r.unshift(ru(t,i,s)),i=Xc(t,e),i!=null&&r.push(ru(t,i,s))),t=t.return}return r}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZE(t,e,n,r,s){for(var i=e._reactName,A=[];n!==null&&n!==r;){var a=n,o=a.alternate,c=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&c!==null&&(a=c,s?(o=Xc(n,i),o!=null&&A.unshift(ru(n,o,a))):s||(o=Xc(n,i),o!=null&&A.push(ru(n,o,a)))),n=n.return}A.length!==0&&t.push({event:e,listeners:A})}var WP=/\r\n?/g,qP=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(WP,`
`).replace(qP,"")}function eh(t,e,n){if(e=e_(e),e_(t)!==e&&n)throw Error(X(425))}function Qf(){}var Iy=null,Uy=null;function Fy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sy=typeof setTimeout=="function"?setTimeout:void 0,XP=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,YP=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(JP)}:Sy;function JP(t){setTimeout(function(){throw t})}function $m(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Zc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zc(e)}function Pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),qr="__reactFiber$"+il,su="__reactProps$"+il,Vs="__reactContainer$"+il,Qy="__reactEvents$"+il,ZP="__reactListeners$"+il,eL="__reactHandles$"+il;function RA(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vs]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n_(t);t!==null;){if(n=t[qr])return n;t=n_(t)}return e}t=n,n=t.parentNode}return null}function Yu(t){return t=t[qr]||t[Vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ja(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function ig(t){return t[su]||null}var Ny=[],Za=-1;function uA(t){return{current:t}}function at(t){0>Za||(t.current=Ny[Za],Ny[Za]=null,Za--)}function rt(t,e){Za++,Ny[Za]=t.current,t.current=e}var qi={},En=uA(qi),Kn=uA(!1),JA=qi;function ko(t,e){var n=t.type.contextTypes;if(!n)return qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zn(t){return t=t.childContextTypes,t!=null}function Nf(){at(Kn),at(En)}function r_(t,e,n){if(En.current!==qi)throw Error(X(168));rt(En,e),rt(Kn,n)}function gF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,LD(t)||"Unknown",s));return gt({},n,r)}function kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,JA=En.current,rt(En,t),rt(Kn,Kn.current),!0}function s_(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=gF(t,e,JA),r.__reactInternalMemoizedMergedChildContext=t,at(Kn),at(En),rt(En,t)):at(Kn),rt(Kn,n)}var Us=null,Ag=!1,Wm=!1;function mF(t){Us===null?Us=[t]:Us.push(t)}function tL(t){Ag=!0,mF(t)}function dA(){if(!Wm&&Us!==null){Wm=!0;var t=0,e=We;try{var n=Us;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Us=null,Ag=!1}catch(s){throw Us!==null&&(Us=Us.slice(t+1)),VU(Lw,dA),s}finally{We=e,Wm=!1}}return null}var eo=[],to=0,Rf=null,Df=0,fr=[],pr=0,ZA=null,Ss=1,Qs="";function IA(t,e){eo[to++]=Df,eo[to++]=Rf,Rf=t,Df=e}function yF(t,e,n){fr[pr++]=Ss,fr[pr++]=Qs,fr[pr++]=ZA,ZA=t;var r=Ss;t=Qs;var s=32-kr(r)-1;r&=~(1<<s),n+=1;var i=32-kr(e)+s;if(30<i){var A=s-s%5;i=(r&(1<<A)-1).toString(32),r>>=A,s-=A,Ss=1<<32-kr(e)+s|n<<s|r,Qs=i+t}else Ss=1<<i|n<<s|r,Qs=t}function $w(t){t.return!==null&&(IA(t,1),yF(t,1,0))}function Ww(t){for(;t===Rf;)Rf=eo[--to],eo[to]=null,Df=eo[--to],eo[to]=null;for(;t===ZA;)ZA=fr[--pr],fr[pr]=null,Qs=fr[--pr],fr[pr]=null,Ss=fr[--pr],fr[pr]=null}var tr=null,Jn=null,ct=!1,Sr=null;function vF(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Jn=Pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ZA!==null?{id:Ss,overflow:Qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Jn=null,!0):!1;default:return!1}}function ky(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ry(t){if(ct){var e=Jn;if(e){var n=e;if(!i_(t,e)){if(ky(t))throw Error(X(418));e=Pi(n.nextSibling);var r=tr;e&&i_(t,e)?vF(r,n):(t.flags=t.flags&-4097|2,ct=!1,tr=t)}}else{if(ky(t))throw Error(X(418));t.flags=t.flags&-4097|2,ct=!1,tr=t}}}function A_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function th(t){if(t!==tr)return!1;if(!ct)return A_(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fy(t.type,t.memoizedProps)),e&&(e=Jn)){if(ky(t))throw wF(),Error(X(418));for(;e;)vF(t,e),e=Pi(e.nextSibling)}if(A_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=tr?Pi(t.stateNode.nextSibling):null;return!0}function wF(){for(var t=Jn;t;)t=Pi(t.nextSibling)}function Ro(){Jn=tr=null,ct=!1}function qw(t){Sr===null?Sr=[t]:Sr.push(t)}var nL=ni.ReactCurrentBatchConfig;function jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function nh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a_(t){var e=t._init;return e(t._payload)}function BF(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Oi(x,v),x.index=0,x.sibling=null,x}function i(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function A(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,w,F){return v===null||v.tag!==6?(v=t0(w,x.mode,F),v.return=x,v):(v=s(v,w),v.return=x,v)}function o(x,v,w,F){var T=w.type;return T===Wa?u(x,v,w.props.children,F,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fi&&a_(T)===v.type)?(F=s(v,w.props),F.ref=jl(x,v,w),F.return=x,F):(F=nf(w.type,w.key,w.props,null,x.mode,F),F.ref=jl(x,v,w),F.return=x,F)}function c(x,v,w,F){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=n0(w,x.mode,F),v.return=x,v):(v=s(v,w.children||[]),v.return=x,v)}function u(x,v,w,F,T){return v===null||v.tag!==7?(v=KA(w,x.mode,F,T),v.return=x,v):(v=s(v,w),v.return=x,v)}function h(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=t0(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zd:return w=nf(v.type,v.key,v.props,null,x.mode,w),w.ref=jl(x,null,v),w.return=x,w;case $a:return v=n0(v,x.mode,w),v.return=x,v;case fi:var F=v._init;return h(x,F(v._payload),w)}if(ec(v)||kl(v))return v=KA(v,x.mode,w,null),v.return=x,v;nh(x,v)}return null}function f(x,v,w,F){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(x,v,""+w,F);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zd:return w.key===T?o(x,v,w,F):null;case $a:return w.key===T?c(x,v,w,F):null;case fi:return T=w._init,f(x,v,T(w._payload),F)}if(ec(w)||kl(w))return T!==null?null:u(x,v,w,F,null);nh(x,w)}return null}function g(x,v,w,F,T){if(typeof F=="string"&&F!==""||typeof F=="number")return x=x.get(w)||null,a(v,x,""+F,T);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case zd:return x=x.get(F.key===null?w:F.key)||null,o(v,x,F,T);case $a:return x=x.get(F.key===null?w:F.key)||null,c(v,x,F,T);case fi:var N=F._init;return g(x,v,w,N(F._payload),T)}if(ec(F)||kl(F))return x=x.get(w)||null,u(v,x,F,T,null);nh(v,F)}return null}function m(x,v,w,F){for(var T=null,N=null,b=v,C=v=0,_=null;b!==null&&C<w.length;C++){b.index>C?(_=b,b=null):_=b.sibling;var I=f(x,b,w[C],F);if(I===null){b===null&&(b=_);break}t&&b&&I.alternate===null&&e(x,b),v=i(I,v,C),N===null?T=I:N.sibling=I,N=I,b=_}if(C===w.length)return n(x,b),ct&&IA(x,C),T;if(b===null){for(;C<w.length;C++)b=h(x,w[C],F),b!==null&&(v=i(b,v,C),N===null?T=b:N.sibling=b,N=b);return ct&&IA(x,C),T}for(b=r(x,b);C<w.length;C++)_=g(b,x,C,w[C],F),_!==null&&(t&&_.alternate!==null&&b.delete(_.key===null?C:_.key),v=i(_,v,C),N===null?T=_:N.sibling=_,N=_);return t&&b.forEach(function(k){return e(x,k)}),ct&&IA(x,C),T}function y(x,v,w,F){var T=kl(w);if(typeof T!="function")throw Error(X(150));if(w=T.call(w),w==null)throw Error(X(151));for(var N=T=null,b=v,C=v=0,_=null,I=w.next();b!==null&&!I.done;C++,I=w.next()){b.index>C?(_=b,b=null):_=b.sibling;var k=f(x,b,I.value,F);if(k===null){b===null&&(b=_);break}t&&b&&k.alternate===null&&e(x,b),v=i(k,v,C),N===null?T=k:N.sibling=k,N=k,b=_}if(I.done)return n(x,b),ct&&IA(x,C),T;if(b===null){for(;!I.done;C++,I=w.next())I=h(x,I.value,F),I!==null&&(v=i(I,v,C),N===null?T=I:N.sibling=I,N=I);return ct&&IA(x,C),T}for(b=r(x,b);!I.done;C++,I=w.next())I=g(b,x,C,I.value,F),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?C:I.key),v=i(I,v,C),N===null?T=I:N.sibling=I,N=I);return t&&b.forEach(function(R){return e(x,R)}),ct&&IA(x,C),T}function E(x,v,w,F){if(typeof w=="object"&&w!==null&&w.type===Wa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case zd:e:{for(var T=w.key,N=v;N!==null;){if(N.key===T){if(T=w.type,T===Wa){if(N.tag===7){n(x,N.sibling),v=s(N,w.props.children),v.return=x,x=v;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fi&&a_(T)===N.type){n(x,N.sibling),v=s(N,w.props),v.ref=jl(x,N,w),v.return=x,x=v;break e}n(x,N);break}else e(x,N);N=N.sibling}w.type===Wa?(v=KA(w.props.children,x.mode,F,w.key),v.return=x,x=v):(F=nf(w.type,w.key,w.props,null,x.mode,F),F.ref=jl(x,v,w),F.return=x,x=F)}return A(x);case $a:e:{for(N=w.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=s(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=n0(w,x.mode,F),v.return=x,x=v}return A(x);case fi:return N=w._init,E(x,v,N(w._payload),F)}if(ec(w))return m(x,v,w,F);if(kl(w))return y(x,v,w,F);nh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,w),v.return=x,x=v):(n(x,v),v=t0(w,x.mode,F),v.return=x,x=v),A(x)):n(x,v)}return E}var Do=BF(!0),xF=BF(!1),Pf=uA(null),Lf=null,no=null,Xw=null;function Yw(){Xw=no=Lf=null}function Jw(t){var e=Pf.current;at(Pf),t._currentValue=e}function Dy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){Lf=t,Xw=no=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function xr(t){var e=t._currentValue;if(Xw!==t)if(t={context:t,memoizedValue:e,next:null},no===null){if(Lf===null)throw Error(X(308));no=t,Lf.dependencies={lanes:0,firstContext:t}}else no=no.next=t;return e}var DA=null;function Zw(t){DA===null?DA=[t]:DA.push(t)}function CF(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hs(t,r)}function Hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function eB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hs(t,n)}return s=r.interleaved,s===null?(e.next=e,Zw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hs(t,n)}function Xh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jw(t,n)}}function o_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=A:i=i.next=A,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jf(t,e,n,r){var s=t.updateQueue;pi=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var o=a,c=o.next;o.next=null,A===null?i=c:A.next=c,A=o;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==A&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;A=0,u=c=o=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,g=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=gt({},h,f);break e;case 2:pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,o=h):u=u.next=g,A|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(o=h),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ta|=A,t.lanes=A,t.memoizedState=h}}function l_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Ju={},ns=uA(Ju),iu=uA(Ju),Au=uA(Ju);function PA(t){if(t===Ju)throw Error(X(174));return t}function tB(t,e){switch(rt(Au,e),rt(iu,t),rt(ns,Ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gy(e,t)}at(ns),rt(ns,e)}function Po(){at(ns),at(iu),at(Au)}function _F(t){PA(Au.current);var e=PA(ns.current),n=gy(e,t.type);e!==n&&(rt(iu,t),rt(ns,n))}function nB(t){iu.current===t&&(at(ns),at(iu))}var ht=uA(0);function Mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function rB(){for(var t=0;t<qm.length;t++)qm[t]._workInProgressVersionPrimary=null;qm.length=0}var Yh=ni.ReactCurrentDispatcher,Xm=ni.ReactCurrentBatchConfig,ea=0,pt=null,jt=null,zt=null,Of=!1,bc=!1,au=0,rL=0;function hn(){throw Error(X(321))}function sB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function iB(t,e,n,r,s,i){if(ea=i,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yh.current=t===null||t.memoizedState===null?aL:oL,t=n(r,s),bc){i=0;do{if(bc=!1,au=0,25<=i)throw Error(X(301));i+=1,zt=jt=null,e.updateQueue=null,Yh.current=lL,t=n(r,s)}while(bc)}if(Yh.current=Vf,e=jt!==null&&jt.next!==null,ea=0,zt=jt=pt=null,Of=!1,e)throw Error(X(300));return t}function AB(){var t=au!==0;return au=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?pt.memoizedState=zt=t:zt=zt.next=t,zt}function Cr(){if(jt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=zt===null?pt.memoizedState:zt.next;if(e!==null)zt=e,jt=t;else{if(t===null)throw Error(X(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},zt===null?pt.memoizedState=zt=t:zt=zt.next=t}return zt}function ou(t,e){return typeof e=="function"?e(t):e}function Ym(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=A=null,o=null,c=i;do{var u=c.lane;if((ea&u)===u)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(a=o=h,A=r):o=o.next=h,pt.lanes|=u,ta|=u}c=c.next}while(c!==null&&c!==i);o===null?A=r:o.next=a,Lr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=A,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,pt.lanes|=i,ta|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jm(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Lr(i,e.memoizedState)||(Vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bF(){}function TF(t,e){var n=pt,r=Cr(),s=e(),i=!Lr(r.memoizedState,s);if(i&&(r.memoizedState=s,Vn=!0),r=r.queue,aB(FF.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,lu(9,UF.bind(null,n,r,s,e),void 0,null),$t===null)throw Error(X(349));ea&30||IF(n,e,s)}return s}function IF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UF(t,e,n,r){e.value=n,e.getSnapshot=r,SF(e)&&QF(t)}function FF(t,e,n){return n(function(){SF(e)&&QF(t)})}function SF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function QF(t){var e=Hs(t,1);e!==null&&Rr(e,t,1,-1)}function c_(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=AL.bind(null,pt,t),[e.memoizedState,t]}function lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NF(){return Cr().memoizedState}function Jh(t,e,n,r){var s=$r();pt.flags|=t,s.memoizedState=lu(1|e,n,void 0,r===void 0?null:r)}function ag(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var A=jt.memoizedState;if(i=A.destroy,r!==null&&sB(r,A.deps)){s.memoizedState=lu(e,n,i,r);return}}pt.flags|=t,s.memoizedState=lu(1|e,n,i,r)}function u_(t,e){return Jh(8390656,8,t,e)}function aB(t,e){return ag(2048,8,t,e)}function kF(t,e){return ag(4,2,t,e)}function RF(t,e){return ag(4,4,t,e)}function DF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PF(t,e,n){return n=n!=null?n.concat([t]):null,ag(4,4,DF.bind(null,e,t),n)}function oB(){}function LF(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jF(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MF(t,e,n){return ea&21?(Lr(n,e)||(n=zU(),pt.lanes|=n,ta|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function sL(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Xm.transition;Xm.transition={};try{t(!1),e()}finally{We=n,Xm.transition=r}}function OF(){return Cr().memoizedState}function iL(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VF(t))HF(e,n);else if(n=CF(t,e,n,r),n!==null){var s=Nn();Rr(n,t,r,s),KF(n,e,r)}}function AL(t,e,n){var r=Mi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VF(t))HF(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,n);if(s.hasEagerState=!0,s.eagerState=a,Lr(a,A)){var o=e.interleaved;o===null?(s.next=s,Zw(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}n=CF(t,e,s,r),n!==null&&(s=Nn(),Rr(n,t,r,s),KF(n,e,r))}}function VF(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function HF(t,e){bc=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jw(t,n)}}var Vf={readContext:xr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},aL={readContext:xr,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:xr,useEffect:u_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jh(4194308,4,DF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jh(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iL.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:c_,useDebugValue:oB,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=c_(!1),e=t[0];return t=sL.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,s=$r();if(ct){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),$t===null)throw Error(X(349));ea&30||IF(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,u_(FF.bind(null,r,i,t),[t]),r.flags|=2048,lu(9,UF.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$r(),e=$t.identifierPrefix;if(ct){var n=Qs,r=Ss;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oL={readContext:xr,useCallback:LF,useContext:xr,useEffect:aB,useImperativeHandle:PF,useInsertionEffect:kF,useLayoutEffect:RF,useMemo:jF,useReducer:Ym,useRef:NF,useState:function(){return Ym(ou)},useDebugValue:oB,useDeferredValue:function(t){var e=Cr();return MF(e,jt.memoizedState,t)},useTransition:function(){var t=Ym(ou)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:bF,useSyncExternalStore:TF,useId:OF,unstable_isNewReconciler:!1},lL={readContext:xr,useCallback:LF,useContext:xr,useEffect:aB,useImperativeHandle:PF,useInsertionEffect:kF,useLayoutEffect:RF,useMemo:jF,useReducer:Jm,useRef:NF,useState:function(){return Jm(ou)},useDebugValue:oB,useDeferredValue:function(t){var e=Cr();return jt===null?e.memoizedState=t:MF(e,jt.memoizedState,t)},useTransition:function(){var t=Jm(ou)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:bF,useSyncExternalStore:TF,useId:OF,unstable_isNewReconciler:!1};function Ur(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Py(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var og={isMounted:function(t){return(t=t._reactInternals)?ga(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=Mi(t),i=Ds(r,s);i.payload=e,n!=null&&(i.callback=n),e=Li(t,i,s),e!==null&&(Rr(e,t,s,r),Xh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=Mi(t),i=Ds(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Li(t,i,s),e!==null&&(Rr(e,t,s,r),Xh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=Mi(t),s=Ds(n,r);s.tag=2,e!=null&&(s.callback=e),e=Li(t,s,r),e!==null&&(Rr(e,t,r,n),Xh(e,t,r))}};function d_(t,e,n,r,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,A):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(s,i):!0}function zF(t,e,n){var r=!1,s=qi,i=e.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=zn(e)?JA:En.current,r=e.contextTypes,i=(r=r!=null)?ko(t,s):qi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=og,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function h_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&og.enqueueReplaceState(e,e.state,null)}function Ly(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},eB(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=zn(e)?JA:En.current,s.context=ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Py(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&og.enqueueReplaceState(s,s.state,null),jf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lo(t,e){try{var n="",r=e;do n+=PD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cL=typeof WeakMap=="function"?WeakMap:Map;function GF(t,e,n){n=Ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kf||(Kf=!0,qy=r),jy(t,e)},n}function $F(t,e,n){n=Ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){jy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){jy(t,e),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),n}function f_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=EL.bind(null,t,e,n),e.then(t,t))}function p_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ds(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var uL=ni.ReactCurrentOwner,Vn=!1;function Fn(t,e,n,r){e.child=t===null?xF(e,null,n,r):Do(e,t.child,n,r)}function m_(t,e,n,r,s){n=n.render;var i=e.ref;return vo(e,s),r=iB(t,e,n,r,i,s),n=AB(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ks(t,e,s)):(ct&&n&&$w(e),e.flags|=1,Fn(t,e,r,s),e.child)}function y_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gB(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,WF(t,e,i,r,s)):(t=nf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(A,r)&&t.ref===e.ref)return Ks(t,e,s)}return e.flags|=1,t=Oi(i,r),t.ref=e.ref,t.return=e,e.child=t}function WF(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(tu(i,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Ks(t,e,s)}return My(t,e,n,r,s)}function qF(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(so,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(so,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,rt(so,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,rt(so,Yn),Yn|=r;return Fn(t,e,s,n),e.child}function XF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function My(t,e,n,r,s){var i=zn(n)?JA:En.current;return i=ko(e,i),vo(e,s),n=iB(t,e,n,r,i,s),r=AB(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ks(t,e,s)):(ct&&r&&$w(e),e.flags|=1,Fn(t,e,n,s),e.child)}function v_(t,e,n,r,s){if(zn(n)){var i=!0;kf(e)}else i=!1;if(vo(e,s),e.stateNode===null)Zh(t,e),zF(e,n,r),Ly(e,n,r,s),r=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,c=n.contextType;typeof c=="object"&&c!==null?c=xr(c):(c=zn(n)?JA:En.current,c=ko(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";h||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==r||o!==c)&&h_(e,A,r,c),pi=!1;var f=e.memoizedState;A.state=f,jf(e,r,A,s),o=e.memoizedState,a!==r||f!==o||Kn.current||pi?(typeof u=="function"&&(Py(e,n,u,r),o=e.memoizedState),(a=pi||d_(e,n,a,r,f,o,c))?(h||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),A.props=r,A.state=o,A.context=c,r=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{A=e.stateNode,EF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ur(e.type,a),A.props=c,h=e.pendingProps,f=A.context,o=n.contextType,typeof o=="object"&&o!==null?o=xr(o):(o=zn(n)?JA:En.current,o=ko(e,o));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==h||f!==o)&&h_(e,A,r,o),pi=!1,f=e.memoizedState,A.state=f,jf(e,r,A,s);var m=e.memoizedState;a!==h||f!==m||Kn.current||pi?(typeof g=="function"&&(Py(e,n,g,r),m=e.memoizedState),(c=pi||d_(e,n,c,r,f,m,o)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,m,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,m,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),A.props=r,A.state=m,A.context=o,r=c):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Oy(t,e,n,r,i,s)}function Oy(t,e,n,r,s,i){XF(t,e);var A=(e.flags&128)!==0;if(!r&&!A)return s&&s_(e,n,!1),Ks(t,e,i);r=e.stateNode,uL.current=e;var a=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&A?(e.child=Do(e,t.child,null,i),e.child=Do(e,null,a,i)):Fn(t,e,a,i),e.memoizedState=r.state,s&&s_(e,n,!0),e.child}function YF(t){var e=t.stateNode;e.pendingContext?r_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r_(t,e.context,!1),tB(t,e.containerInfo)}function w_(t,e,n,r,s){return Ro(),qw(s),e.flags|=256,Fn(t,e,n,r),e.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function Hy(t){return{baseLanes:t,cachePool:null,transitions:null}}function JF(t,e,n){var r=e.pendingProps,s=ht.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),rt(ht,s&1),t===null)return Ry(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=r.children,t=r.fallback,i?(r=e.mode,i=e.child,A={mode:"hidden",children:A},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=ug(A,r,0,null),t=KA(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Hy(n),e.memoizedState=Vy,t):lB(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return dL(t,e,A,r,a,s,n);if(i){i=r.fallback,A=e.mode,s=t.child,a=s.sibling;var o={mode:"hidden",children:r.children};return!(A&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Oi(s,o),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Oi(a,i):(i=KA(i,A,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,A=t.child.memoizedState,A=A===null?Hy(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~n,e.memoizedState=Vy,r}return i=t.child,t=i.sibling,r=Oi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lB(t,e){return e=ug({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rh(t,e,n,r){return r!==null&&qw(r),Do(e,t.child,null,n),t=lB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dL(t,e,n,r,s,i,A){if(n)return e.flags&256?(e.flags&=-257,r=Zm(Error(X(422))),rh(t,e,A,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ug({mode:"visible",children:r.children},s,0,null),i=KA(i,s,A,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Do(e,t.child,null,A),e.child.memoizedState=Hy(A),e.memoizedState=Vy,i);if(!(e.mode&1))return rh(t,e,A,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=Zm(i,r,void 0),rh(t,e,A,r)}if(a=(A&t.childLanes)!==0,Vn||a){if(r=$t,r!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hs(t,s),Rr(r,t,s,-1))}return pB(),r=Zm(Error(X(421))),rh(t,e,A,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_L.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=Pi(s.nextSibling),tr=e,ct=!0,Sr=null,t!==null&&(fr[pr++]=Ss,fr[pr++]=Qs,fr[pr++]=ZA,Ss=t.id,Qs=t.overflow,ZA=e),e=lB(e,r.children),e.flags|=4096,e)}function B_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dy(t.return,e,n)}function e0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZF(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Fn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,n,e);else if(t.tag===19)B_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),e0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}e0(e,!0,n,null,i);break;case"together":e0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ks(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ta|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hL(t,e,n){switch(e.tag){case 3:YF(e),Ro();break;case 5:_F(e);break;case 1:zn(e.type)&&kf(e);break;case 4:tB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;rt(Pf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?JF(t,e,n):(rt(ht,ht.current&1),t=Ks(t,e,n),t!==null?t.sibling:null);rt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZF(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,qF(t,e,n)}return Ks(t,e,n)}var eS,Ky,tS,nS;eS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ky=function(){};tS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,PA(ns.current);var i=null;switch(n){case"input":s=dy(t,s),r=dy(t,r),i=[];break;case"select":s=gt({},s,{value:void 0}),r=gt({},r,{value:void 0}),i=[];break;case"textarea":s=py(t,s),r=py(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qf)}my(n,r);var A;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(A in a)a.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var o=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&o!==a&&(o!=null||a!=null))if(c==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(n||(n={}),n[A]=o[A])}else n||(i||(i=[]),i.push(c,n)),n=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(i=i||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wc.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&At("scroll",t),i||a===o||(i=[])):(i=i||[]).push(c,o))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};nS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ml(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function fn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fL(t,e,n){var r=e.pendingProps;switch(Ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(e),null;case 1:return zn(e.type)&&Nf(),fn(e),null;case 3:return r=e.stateNode,Po(),at(Kn),at(En),rB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(Jy(Sr),Sr=null))),Ky(t,e),fn(e),null;case 5:nB(e);var s=PA(Au.current);if(n=e.type,t!==null&&e.stateNode!=null)tS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return fn(e),null}if(t=PA(ns.current),th(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[qr]=e,r[su]=i,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<nc.length;s++)At(nc[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":FE(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":QE(r,i),At("invalid",r)}my(n,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&eh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&eh(r.textContent,a,t),s=["children",""+a]):Wc.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&At("scroll",r)}switch(n){case"input":Gd(r),SE(r,i,!0);break;case"textarea":Gd(r),NE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=A.createElement(n,{is:r.is}):(t=A.createElement(n),n==="select"&&(A=t,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):t=A.createElementNS(t,n),t[qr]=e,t[su]=r,eS(t,e,!1,!1),e.stateNode=t;e:{switch(A=yy(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<nc.length;s++)At(nc[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":FE(t,r),s=dy(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=gt({},r,{value:void 0}),At("invalid",t);break;case"textarea":QE(t,r),s=py(t,r),At("invalid",t);break;default:s=r}my(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="style"?NU(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&SU(t,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&qc(t,o):typeof o=="number"&&qc(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wc.hasOwnProperty(i)?o!=null&&i==="onScroll"&&At("scroll",t):o!=null&&Nw(t,i,o,A))}switch(n){case"input":Gd(t),SE(t,r,!1);break;case"textarea":Gd(t),NE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?po(t,!!r.multiple,i,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fn(e),null;case 6:if(t&&e.stateNode!=null)nS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=PA(Au.current),PA(ns.current),th(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(i=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:eh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return fn(e),null;case 13:if(at(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Jn!==null&&e.mode&1&&!(e.flags&128))wF(),Ro(),e.flags|=98560,i=!1;else if(i=th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[qr]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fn(e),i=!1}else Sr!==null&&(Jy(Sr),Sr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Ot===0&&(Ot=3):pB())),e.updateQueue!==null&&(e.flags|=4),fn(e),null);case 4:return Po(),Ky(t,e),t===null&&nu(e.stateNode.containerInfo),fn(e),null;case 10:return Jw(e.type._context),fn(e),null;case 17:return zn(e.type)&&Nf(),fn(e),null;case 19:if(at(ht),i=e.memoizedState,i===null)return fn(e),null;if(r=(e.flags&128)!==0,A=i.rendering,A===null)if(r)Ml(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Mf(t),A!==null){for(e.flags|=128,Ml(i,!1),r=A.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(ht,ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ut()>jo&&(e.flags|=128,r=!0,Ml(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mf(A),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ml(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!ct)return fn(e),null}else 2*Ut()-i.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,Ml(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(n=i.last,n!==null?n.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ut(),e.sibling=null,n=ht.current,rt(ht,r?n&1|2:n&1),e):(fn(e),null);case 22:case 23:return fB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(fn(e),e.subtreeFlags&6&&(e.flags|=8192)):fn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function pL(t,e){switch(Ww(e),e.tag){case 1:return zn(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),at(Kn),at(En),rB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nB(e),null;case 13:if(at(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ht),null;case 4:return Po(),null;case 10:return Jw(e.type._context),null;case 22:case 23:return fB(),null;case 24:return null;default:return null}}var sh=!1,Bn=!1,gL=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function zy(t,e,n){try{n()}catch(r){wt(t,e,r)}}var x_=!1;function mL(t,e){if(Iy=Uf,t=aF(),Gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var A=0,a=-1,o=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=A+s),h!==i||r!==0&&h.nodeType!==3||(o=A+r),h.nodeType===3&&(A+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=A),f===i&&++u===r&&(o=A),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uy={focusedElem:t,selectionRange:n},Uf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,E=m.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ur(e.type,y),E);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(F){wt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=x_,x_=!1,m}function Tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zy(e,n,i)}s=s.next}while(s!==r)}}function lg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rS(t){var e=t.alternate;e!==null&&(t.alternate=null,rS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[su],delete e[Qy],delete e[ZP],delete e[eL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sS(t){return t.tag===5||t.tag===3||t.tag===4}function C_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $y(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qf));else if(r!==4&&(t=t.child,t!==null))for($y(t,e,n),t=t.sibling;t!==null;)$y(t,e,n),t=t.sibling}function Wy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wy(t,e,n),t=t.sibling;t!==null;)Wy(t,e,n),t=t.sibling}var qt=null,Fr=!1;function oi(t,e,n){for(n=n.child;n!==null;)iS(t,e,n),n=n.sibling}function iS(t,e,n){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(tg,n)}catch{}switch(n.tag){case 5:Bn||ro(n,e);case 6:var r=qt,s=Fr;qt=null,oi(t,e,n),qt=r,Fr=s,qt!==null&&(Fr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(Fr?(t=qt,n=n.stateNode,t.nodeType===8?$m(t.parentNode,n):t.nodeType===1&&$m(t,n),Zc(t)):$m(qt,n.stateNode));break;case 4:r=qt,s=Fr,qt=n.stateNode.containerInfo,Fr=!0,oi(t,e,n),qt=r,Fr=s;break;case 0:case 11:case 14:case 15:if(!Bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&zy(n,e,A),s=s.next}while(s!==r)}oi(t,e,n);break;case 1:if(!Bn&&(ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(Bn=(r=Bn)||n.memoizedState!==null,oi(t,e,n),Bn=r):oi(t,e,n);break;default:oi(t,e,n)}}function E_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gL),e.forEach(function(r){var s=bL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,Fr=!1;break e;case 3:qt=a.stateNode.containerInfo,Fr=!0;break e;case 4:qt=a.stateNode.containerInfo,Fr=!0;break e}a=a.return}if(qt===null)throw Error(X(160));iS(i,A,s),qt=null,Fr=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(c){wt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AS(e,t),e=e.sibling}function AS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),zr(t),r&4){try{Tc(3,t,t.return),lg(3,t)}catch(y){wt(t,t.return,y)}try{Tc(5,t,t.return)}catch(y){wt(t,t.return,y)}}break;case 1:br(e,t),zr(t),r&512&&n!==null&&ro(n,n.return);break;case 5:if(br(e,t),zr(t),r&512&&n!==null&&ro(n,n.return),t.flags&32){var s=t.stateNode;try{qc(s,"")}catch(y){wt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=n!==null?n.memoizedProps:i,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&IU(s,i),yy(a,A);var c=yy(a,i);for(A=0;A<o.length;A+=2){var u=o[A],h=o[A+1];u==="style"?NU(s,h):u==="dangerouslySetInnerHTML"?SU(s,h):u==="children"?qc(s,h):Nw(s,u,h,c)}switch(a){case"input":hy(s,i);break;case"textarea":UU(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?po(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?po(s,!!i.multiple,i.defaultValue,!0):po(s,!!i.multiple,i.multiple?[]:"",!1))}s[su]=i}catch(y){wt(t,t.return,y)}}break;case 6:if(br(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){wt(t,t.return,y)}}break;case 3:if(br(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(y){wt(t,t.return,y)}break;case 4:br(e,t),zr(t);break;case 13:br(e,t),zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dB=Ut())),r&4&&E_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Bn=(c=Bn)||u,br(e,t),Bn=c):br(e,t),zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ce=t,u=t.child;u!==null;){for(h=ce=u;ce!==null;){switch(f=ce,g=f.child,f.tag){case 0:case 11:case 14:case 15:Tc(4,f,f.return);break;case 1:ro(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){wt(r,n,y)}}break;case 5:ro(f,f.return);break;case 22:if(f.memoizedState!==null){b_(h);continue}}g!==null?(g.return=f,ce=g):b_(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,o=h.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=QU("display",A))}catch(y){wt(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){wt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(e,t),zr(t),r&4&&E_(t);break;case 21:break;default:br(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qc(s,""),r.flags&=-33);var i=C_(t);Wy(t,i,s);break;case 3:case 4:var A=r.stateNode.containerInfo,a=C_(t);$y(t,a,A);break;default:throw Error(X(161))}}catch(o){wt(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yL(t,e,n){ce=t,aS(t)}function aS(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var A=s.memoizedState!==null||sh;if(!A){var a=s.alternate,o=a!==null&&a.memoizedState!==null||Bn;a=sh;var c=Bn;if(sh=A,(Bn=o)&&!c)for(ce=s;ce!==null;)A=ce,o=A.child,A.tag===22&&A.memoizedState!==null?T_(s):o!==null?(o.return=A,ce=o):T_(s);for(;i!==null;)ce=i,aS(i),i=i.sibling;ce=s,sh=a,Bn=c}__(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):__(t)}}function __(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bn||lg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ur(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&l_(e,i,r);break;case 3:var A=e.updateQueue;if(A!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l_(e,A,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Zc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Bn||e.flags&512&&Gy(e)}catch(f){wt(e,e.return,f)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function b_(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function T_(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lg(4,e)}catch(o){wt(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(o){wt(e,s,o)}}var i=e.return;try{Gy(e)}catch(o){wt(e,i,o)}break;case 5:var A=e.return;try{Gy(e)}catch(o){wt(e,A,o)}}}catch(o){wt(e,e.return,o)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var vL=Math.ceil,Hf=ni.ReactCurrentDispatcher,cB=ni.ReactCurrentOwner,wr=ni.ReactCurrentBatchConfig,Le=0,$t=null,Dt=null,nn=0,Yn=0,so=uA(0),Ot=0,cu=null,ta=0,cg=0,uB=0,Ic=null,On=null,dB=0,jo=1/0,Is=null,Kf=!1,qy=null,ji=null,ih=!1,Ti=null,zf=0,Uc=0,Xy=null,ef=-1,tf=0;function Nn(){return Le&6?Ut():ef!==-1?ef:ef=Ut()}function Mi(t){return t.mode&1?Le&2&&nn!==0?nn&-nn:nL.transition!==null?(tf===0&&(tf=zU()),tf):(t=We,t!==0||(t=window.event,t=t===void 0?16:JU(t.type)),t):1}function Rr(t,e,n,r){if(50<Uc)throw Uc=0,Xy=null,Error(X(185));qu(t,n,r),(!(Le&2)||t!==$t)&&(t===$t&&(!(Le&2)&&(cg|=n),Ot===4&&yi(t,nn)),Gn(t,r),n===1&&Le===0&&!(e.mode&1)&&(jo=Ut()+500,Ag&&dA()))}function Gn(t,e){var n=t.callbackNode;nP(t,e);var r=If(t,t===$t?nn:0);if(r===0)n!==null&&DE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DE(n),e===1)t.tag===0?tL(I_.bind(null,t)):mF(I_.bind(null,t)),YP(function(){!(Le&6)&&dA()}),n=null;else{switch(GU(r)){case 1:n=Lw;break;case 4:n=HU;break;case 16:n=Tf;break;case 536870912:n=KU;break;default:n=Tf}n=pS(n,oS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oS(t,e){if(ef=-1,tf=0,Le&6)throw Error(X(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=If(t,t===$t?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gf(t,r);else{e=r;var s=Le;Le|=2;var i=cS();($t!==t||nn!==e)&&(Is=null,jo=Ut()+500,HA(t,e));do try{xL();break}catch(a){lS(t,a)}while(!0);Yw(),Hf.current=i,Le=s,Dt!==null?e=0:($t=null,nn=0,e=Ot)}if(e!==0){if(e===2&&(s=Cy(t),s!==0&&(r=s,e=Yy(t,s))),e===1)throw n=cu,HA(t,0),yi(t,r),Gn(t,Ut()),n;if(e===6)yi(t,r);else{if(s=t.current.alternate,!(r&30)&&!wL(s)&&(e=Gf(t,r),e===2&&(i=Cy(t),i!==0&&(r=i,e=Yy(t,i))),e===1))throw n=cu,HA(t,0),yi(t,r),Gn(t,Ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:UA(t,On,Is);break;case 3:if(yi(t,r),(r&130023424)===r&&(e=dB+500-Ut(),10<e)){if(If(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sy(UA.bind(null,t,On,Is),e);break}UA(t,On,Is);break;case 4:if(yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var A=31-kr(r);i=1<<A,A=e[A],A>s&&(s=A),r&=~i}if(r=s,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vL(r/1960))-r,10<r){t.timeoutHandle=Sy(UA.bind(null,t,On,Is),r);break}UA(t,On,Is);break;case 5:UA(t,On,Is);break;default:throw Error(X(329))}}}return Gn(t,Ut()),t.callbackNode===n?oS.bind(null,t):null}function Yy(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(HA(t,e).flags|=256),t=Gf(t,e),t!==2&&(e=On,On=n,e!==null&&Jy(e)),t}function Jy(t){On===null?On=t:On.push.apply(On,t)}function wL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Lr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e){for(e&=~uB,e&=~cg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kr(e),r=1<<n;t[n]=-1,e&=~r}}function I_(t){if(Le&6)throw Error(X(327));wo();var e=If(t,0);if(!(e&1))return Gn(t,Ut()),null;var n=Gf(t,e);if(t.tag!==0&&n===2){var r=Cy(t);r!==0&&(e=r,n=Yy(t,r))}if(n===1)throw n=cu,HA(t,0),yi(t,e),Gn(t,Ut()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,UA(t,On,Is),Gn(t,Ut()),null}function hB(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(jo=Ut()+500,Ag&&dA())}}function na(t){Ti!==null&&Ti.tag===0&&!(Le&6)&&wo();var e=Le;Le|=1;var n=wr.transition,r=We;try{if(wr.transition=null,We=1,t)return t()}finally{We=r,wr.transition=n,Le=e,!(Le&6)&&dA()}}function fB(){Yn=so.current,at(so)}function HA(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XP(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(Ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:Po(),at(Kn),at(En),rB();break;case 5:nB(r);break;case 4:Po();break;case 13:at(ht);break;case 19:at(ht);break;case 10:Jw(r.type._context);break;case 22:case 23:fB()}n=n.return}if($t=t,Dt=t=Oi(t.current,null),nn=Yn=e,Ot=0,cu=null,uB=cg=ta=0,On=Ic=null,DA!==null){for(e=0;e<DA.length;e++)if(n=DA[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var A=i.next;i.next=s,r.next=A}n.pending=r}DA=null}return t}function lS(t,e){do{var n=Dt;try{if(Yw(),Yh.current=Vf,Of){for(var r=pt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Of=!1}if(ea=0,zt=jt=pt=null,bc=!1,au=0,cB.current=null,n===null||n.return===null){Ot=1,cu=e,Dt=null;break}e:{var i=t,A=n.return,a=n,o=e;if(e=nn,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=p_(A);if(g!==null){g.flags&=-257,g_(g,A,a,i,e),g.mode&1&&f_(i,c,e),e=g,o=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(o),e.updateQueue=y}else m.add(o);break e}else{if(!(e&1)){f_(i,c,e),pB();break e}o=Error(X(426))}}else if(ct&&a.mode&1){var E=p_(A);if(E!==null){!(E.flags&65536)&&(E.flags|=256),g_(E,A,a,i,e),qw(Lo(o,a));break e}}i=o=Lo(o,a),Ot!==4&&(Ot=2),Ic===null?Ic=[i]:Ic.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=GF(i,o,e);o_(i,x);break e;case 1:a=o;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ji===null||!ji.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var F=$F(i,a,e);o_(i,F);break e}}i=i.return}while(i!==null)}dS(n)}catch(T){e=T,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function cS(){var t=Hf.current;return Hf.current=Vf,t===null?Vf:t}function pB(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(ta&268435455)&&!(cg&268435455)||yi($t,nn)}function Gf(t,e){var n=Le;Le|=2;var r=cS();($t!==t||nn!==e)&&(Is=null,HA(t,e));do try{BL();break}catch(s){lS(t,s)}while(!0);if(Yw(),Le=n,Hf.current=r,Dt!==null)throw Error(X(261));return $t=null,nn=0,Ot}function BL(){for(;Dt!==null;)uS(Dt)}function xL(){for(;Dt!==null&&!$D();)uS(Dt)}function uS(t){var e=fS(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?dS(t):Dt=e,cB.current=null}function dS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pL(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Dt=null;return}}else if(n=fL(n,e,Yn),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Ot===0&&(Ot=5)}function UA(t,e,n){var r=We,s=wr.transition;try{wr.transition=null,We=1,CL(t,e,n,r)}finally{wr.transition=s,We=r}return null}function CL(t,e,n,r){do wo();while(Ti!==null);if(Le&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rP(t,i),t===$t&&(Dt=$t=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ih||(ih=!0,pS(Tf,function(){return wo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wr.transition,wr.transition=null;var A=We;We=1;var a=Le;Le|=4,cB.current=null,mL(t,n),AS(n,t),HP(Uy),Uf=!!Iy,Uy=Iy=null,t.current=n,yL(n),WD(),Le=a,We=A,wr.transition=i}else t.current=n;if(ih&&(ih=!1,Ti=t,zf=s),i=t.pendingLanes,i===0&&(ji=null),YD(n.stateNode),Gn(t,Ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kf)throw Kf=!1,t=qy,qy=null,t;return zf&1&&t.tag!==0&&wo(),i=t.pendingLanes,i&1?t===Xy?Uc++:(Uc=0,Xy=t):Uc=0,dA(),null}function wo(){if(Ti!==null){var t=GU(zf),e=wr.transition,n=We;try{if(wr.transition=null,We=16>t?16:t,Ti===null)var r=!1;else{if(t=Ti,Ti=null,zf=0,Le&6)throw Error(X(331));var s=Le;for(Le|=4,ce=t.current;ce!==null;){var i=ce,A=i.child;if(ce.flags&16){var a=i.deletions;if(a!==null){for(var o=0;o<a.length;o++){var c=a[o];for(ce=c;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:Tc(8,u,i)}var h=u.child;if(h!==null)h.return=u,ce=h;else for(;ce!==null;){u=ce;var f=u.sibling,g=u.return;if(rS(u),u===c){ce=null;break}if(f!==null){f.return=g,ce=f;break}ce=g}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}ce=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,ce=A;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ce=x;break e}ce=i.return}}var v=t.current;for(ce=v;ce!==null;){A=ce;var w=A.child;if(A.subtreeFlags&2064&&w!==null)w.return=A,ce=w;else e:for(A=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lg(9,a)}}catch(T){wt(a,a.return,T)}if(a===A){ce=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,ce=F;break e}ce=a.return}}if(Le=s,dA(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(tg,t)}catch{}r=!0}return r}finally{We=n,wr.transition=e}}return!1}function U_(t,e,n){e=Lo(n,e),e=GF(t,e,1),t=Li(t,e,1),e=Nn(),t!==null&&(qu(t,1,e),Gn(t,e))}function wt(t,e,n){if(t.tag===3)U_(t,t,n);else for(;e!==null;){if(e.tag===3){U_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){t=Lo(n,t),t=$F(e,t,1),e=Li(e,t,1),t=Nn(),e!==null&&(qu(e,1,t),Gn(e,t));break}}e=e.return}}function EL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(nn&n)===n&&(Ot===4||Ot===3&&(nn&130023424)===nn&&500>Ut()-dB?HA(t,0):uB|=n),Gn(t,e)}function hS(t,e){e===0&&(t.mode&1?(e=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):e=1);var n=Nn();t=Hs(t,e),t!==null&&(qu(t,e,n),Gn(t,n))}function _L(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hS(t,n)}function bL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),hS(t,n)}var fS;fS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,hL(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,ct&&e.flags&1048576&&yF(e,Df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zh(t,e),t=e.pendingProps;var s=ko(e,En.current);vo(e,n),s=iB(null,e,r,t,s,n);var i=AB();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(i=!0,kf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eB(e),s.updater=og,e.stateNode=s,s._reactInternals=e,Ly(e,r,t,n),e=Oy(null,e,r,!0,i,n)):(e.tag=0,ct&&i&&$w(e),Fn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=IL(r),t=Ur(r,t),s){case 0:e=My(null,e,r,t,n);break e;case 1:e=v_(null,e,r,t,n);break e;case 11:e=m_(null,e,r,t,n);break e;case 14:e=y_(null,e,r,Ur(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),My(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),v_(t,e,r,s,n);case 3:e:{if(YF(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,EF(t,e),jf(e,r,null,n);var A=e.memoizedState;if(r=A.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lo(Error(X(423)),e),e=w_(t,e,r,n,s);break e}else if(r!==s){s=Lo(Error(X(424)),e),e=w_(t,e,r,n,s);break e}else for(Jn=Pi(e.stateNode.containerInfo.firstChild),tr=e,ct=!0,Sr=null,n=xF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===s){e=Ks(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return _F(e),t===null&&Ry(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,Fy(r,s)?A=null:i!==null&&Fy(r,i)&&(e.flags|=32),XF(t,e),Fn(t,e,A,n),e.child;case 6:return t===null&&Ry(e),null;case 13:return JF(t,e,n);case 4:return tB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),m_(t,e,r,s,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,rt(Pf,r._currentValue),r._currentValue=A,i!==null)if(Lr(i.value,A)){if(i.children===s.children&&!Kn.current){e=Ks(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(i.tag===1){o=Ds(-1,n&-n),o.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?o.next=o:(o.next=u.next,u.next=o),c.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Dy(i.return,n,e),a.lanes|=n;break}o=o.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(X(341));A.lanes|=n,a=A.alternate,a!==null&&(a.lanes|=n),Dy(A,n,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}Fn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vo(e,n),s=xr(s),r=r(s),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,s=Ur(r,e.pendingProps),s=Ur(r.type,s),y_(t,e,r,s,n);case 15:return WF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),Zh(t,e),e.tag=1,zn(r)?(t=!0,kf(e)):t=!1,vo(e,n),zF(e,r,s),Ly(e,r,s,n),Oy(null,e,r,!0,t,n);case 19:return ZF(t,e,n);case 22:return qF(t,e,n)}throw Error(X(156,e.tag))};function pS(t,e){return VU(t,e)}function TL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new TL(t,e,n,r)}function gB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IL(t){if(typeof t=="function")return gB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rw)return 11;if(t===Dw)return 14}return 2}function Oi(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nf(t,e,n,r,s,i){var A=2;if(r=t,typeof t=="function")gB(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Wa:return KA(n.children,s,i,e);case kw:A=8,s|=8;break;case oy:return t=mr(12,n,e,s|2),t.elementType=oy,t.lanes=i,t;case ly:return t=mr(13,n,e,s),t.elementType=ly,t.lanes=i,t;case cy:return t=mr(19,n,e,s),t.elementType=cy,t.lanes=i,t;case _U:return ug(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CU:A=10;break e;case EU:A=9;break e;case Rw:A=11;break e;case Dw:A=14;break e;case fi:A=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=mr(A,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function KA(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function ug(t,e,n,r){return t=mr(22,t,r,e),t.elementType=_U,t.lanes=n,t.stateNode={isHidden:!1},t}function t0(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function n0(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mB(t,e,n,r,s,i,A,a,o){return t=new UL(t,e,n,a,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eB(i),t}function FL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$a,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gS(t){if(!t)return qi;t=t._reactInternals;e:{if(ga(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(zn(n))return gF(t,n,e)}return e}function mS(t,e,n,r,s,i,A,a,o){return t=mB(n,r,!0,t,s,i,A,a,o),t.context=gS(null),n=t.current,r=Nn(),s=Mi(n),i=Ds(r,s),i.callback=e??null,Li(n,i,s),t.current.lanes=s,qu(t,s,r),Gn(t,r),t}function dg(t,e,n,r){var s=e.current,i=Nn(),A=Mi(s);return n=gS(n),e.context===null?e.context=n:e.pendingContext=n,e=Ds(i,A),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Li(s,e,A),t!==null&&(Rr(t,s,A,i),Xh(t,s,A)),A}function $f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yB(t,e){F_(t,e),(t=t.alternate)&&F_(t,e)}function SL(){return null}var yS=typeof reportError=="function"?reportError:function(t){console.error(t)};function vB(t){this._internalRoot=t}hg.prototype.render=vB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));dg(t,e,null,null)};hg.prototype.unmount=vB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;na(function(){dg(null,t,null,null)}),e[Vs]=null}};function hg(t){this._internalRoot=t}hg.prototype.unstable_scheduleHydration=function(t){if(t){var e=qU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mi.length&&e!==0&&e<mi[n].priority;n++);mi.splice(n,0,t),n===0&&YU(t)}};function wB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S_(){}function QL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$f(A);i.call(c)}}var A=mS(e,r,t,0,null,!1,!1,"",S_);return t._reactRootContainer=A,t[Vs]=A.current,nu(t.nodeType===8?t.parentNode:t),na(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$f(o);a.call(c)}}var o=mB(t,0,!1,null,null,!1,!1,"",S_);return t._reactRootContainer=o,t[Vs]=o.current,nu(t.nodeType===8?t.parentNode:t),na(function(){dg(e,o,n,r)}),o}function pg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var o=$f(A);a.call(o)}}dg(e,A,t,s)}else A=QL(n,e,t,s,r);return $f(A)}$U=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=tc(e.pendingLanes);n!==0&&(jw(e,n|1),Gn(e,Ut()),!(Le&6)&&(jo=Ut()+500,dA()))}break;case 13:na(function(){var r=Hs(t,1);if(r!==null){var s=Nn();Rr(r,t,1,s)}}),yB(t,1)}};Mw=function(t){if(t.tag===13){var e=Hs(t,134217728);if(e!==null){var n=Nn();Rr(e,t,134217728,n)}yB(t,134217728)}};WU=function(t){if(t.tag===13){var e=Mi(t),n=Hs(t,e);if(n!==null){var r=Nn();Rr(n,t,e,r)}yB(t,e)}};qU=function(){return We};XU=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};wy=function(t,e,n){switch(e){case"input":if(hy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ig(r);if(!s)throw Error(X(90));TU(r),hy(r,s)}}}break;case"textarea":UU(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};DU=hB;PU=na;var NL={usingClientEntryPoint:!1,Events:[Yu,Ja,ig,kU,RU,hB]},Ol={findFiberByHostInstance:RA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kL={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MU(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||SL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{tg=Ah.inject(kL),ts=Ah}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wB(e))throw Error(X(200));return FL(t,e,null,n)};or.createRoot=function(t,e){if(!wB(t))throw Error(X(299));var n=!1,r="",s=yS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mB(t,1,!1,null,null,n,!1,r,s),t[Vs]=e.current,nu(t.nodeType===8?t.parentNode:t),new vB(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=MU(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return na(t)};or.hydrate=function(t,e,n){if(!fg(e))throw Error(X(200));return pg(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!wB(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",A=yS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),e=mS(e,null,t,1,n??null,s,!1,i,A),t[Vs]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hg(e)};or.render=function(t,e,n){if(!fg(e))throw Error(X(200));return pg(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!fg(t))throw Error(X(40));return t._reactRootContainer?(na(function(){pg(null,null,t,!1,function(){t._reactRootContainer=null,t[Vs]=null})}),!0):!1};or.unstable_batchedUpdates=hB;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fg(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return pg(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function vS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vS)}catch(t){console.error(t)}}vS(),vU.exports=or;var RL=vU.exports,BB,Q_=RL;BB=Q_.createRoot,Q_.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}var Ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ii||(Ii={}));const N_="popstate";function DL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:A,hash:a}=r.location;return Zy("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wf(s)}return LL(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PL(){return Math.random().toString(36).substr(2,8)}function k_(t,e){return{usr:t.state,key:t.key,idx:e}}function Zy(t,e,n,r){return n===void 0&&(n=null),uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Al(e):e,{state:n,key:e&&e.key||r||PL()})}function Wf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,A=s.history,a=Ii.Pop,o=null,c=u();c==null&&(c=0,A.replaceState(uu({},A.state,{idx:c}),""));function u(){return(A.state||{idx:null}).idx}function h(){a=Ii.Pop;let E=u(),x=E==null?null:E-c;c=E,o&&o({action:a,location:y.location,delta:x})}function f(E,x){a=Ii.Push;let v=Zy(y.location,E,x);c=u()+1;let w=k_(v,c),F=y.createHref(v);try{A.pushState(w,"",F)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(F)}i&&o&&o({action:a,location:y.location,delta:1})}function g(E,x){a=Ii.Replace;let v=Zy(y.location,E,x);c=u();let w=k_(v,c),F=y.createHref(v);A.replaceState(w,"",F),i&&o&&o({action:a,location:y.location,delta:0})}function m(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:Wf(E);return v=v.replace(/ $/,"%20"),Ft(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return a},get location(){return t(s,A)},listen(E){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(N_,h),o=E,()=>{s.removeEventListener(N_,h),o=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let x=m(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(E){return A.go(E)}};return y}var R_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R_||(R_={}));function jL(t,e,n){return n===void 0&&(n="/"),ML(t,e,n,!1)}function ML(t,e,n,r){let s=typeof e=="string"?Al(e):e,i=xB(s.pathname||"/",n);if(i==null)return null;let A=BS(t);OL(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let c=JL(i);a=XL(A[o],c,r)}return a}function BS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,A,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};o.relativePath.startsWith("/")&&(Ft(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let c=Vi([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(Ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BS(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:WL(c,i.index),routesMeta:u})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let o of xS(i.path))s(i,A,o)}),e}function xS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let A=xS(r.join("/")),a=[];return a.push(...A.map(o=>o===""?i:[i,o].join("/"))),s&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function OL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const VL=/^:[\w-]+$/,HL=3,KL=2,zL=1,GL=10,$L=-2,D_=t=>t==="*";function WL(t,e){let n=t.split("/"),r=n.length;return n.some(D_)&&(r+=$L),e&&(r+=KL),n.filter(s=>!D_(s)).reduce((s,i)=>s+(VL.test(i)?HL:i===""?zL:GL),r)}function qL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XL(t,e,n){let{routesMeta:r}=t,s={},i="/",A=[];for(let a=0;a<r.length;++a){let o=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=P_({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u),f=o.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=P_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),A.push({params:s,pathname:Vi([i,h.pathname]),pathnameBase:nj(Vi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Vi([i,h.pathnameBase]))}return A}function P_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let y=a[h]||"";A=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return g&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:t}}function YL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function JL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xB(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Al(t):t;return{pathname:n?n.startsWith("/")?n:ej(n,e):e,search:rj(r),hash:sj(s)}}function ej(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function r0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CB(t,e){let n=tj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EB(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Al(t):(s=uu({},t),Ft(!s.pathname||!s.pathname.includes("?"),r0("?","pathname","search",s)),Ft(!s.pathname||!s.pathname.includes("#"),r0("#","pathname","hash",s)),Ft(!s.search||!s.search.includes("#"),r0("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=n;else{let h=e.length-1;if(!r&&A.startsWith("..")){let f=A.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let o=ZL(s,a),c=A&&A!=="/"&&A.endsWith("/"),u=(i||A===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||u)&&(o.pathname+="/"),o}const Vi=t=>t.join("/").replace(/\/\/+/g,"/"),nj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ij(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CS=["post","put","patch","delete"];new Set(CS);const Aj=["get",...CS];new Set(Aj);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}const _B=U.createContext(null),aj=U.createContext(null),hA=U.createContext(null),gg=U.createContext(null),ms=U.createContext({outlet:null,matches:[],isDataRoute:!1}),ES=U.createContext(null);function oj(t,e){let{relative:n}=e===void 0?{}:e;al()||Ft(!1);let{basename:r,navigator:s}=U.useContext(hA),{hash:i,pathname:A,search:a}=bS(t,{relative:n}),o=A;return r!=="/"&&(o=A==="/"?r:Vi([r,A])),s.createHref({pathname:o,search:a,hash:i})}function al(){return U.useContext(gg)!=null}function fA(){return al()||Ft(!1),U.useContext(gg).location}function _S(t){U.useContext(hA).static||U.useLayoutEffect(t)}function ol(){let{isDataRoute:t}=U.useContext(ms);return t?Ej():lj()}function lj(){al()||Ft(!1);let t=U.useContext(_B),{basename:e,future:n,navigator:r}=U.useContext(hA),{matches:s}=U.useContext(ms),{pathname:i}=fA(),A=JSON.stringify(CB(s,n.v7_relativeSplatPath)),a=U.useRef(!1);return _S(()=>{a.current=!0}),U.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=EB(c,JSON.parse(A),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,A,i,t])}const cj=U.createContext(null);function uj(t){let e=U.useContext(ms).outlet;return e&&U.createElement(cj.Provider,{value:t},e)}function dj(){let{matches:t}=U.useContext(ms),e=t[t.length-1];return e?e.params:{}}function bS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(hA),{matches:s}=U.useContext(ms),{pathname:i}=fA(),A=JSON.stringify(CB(s,r.v7_relativeSplatPath));return U.useMemo(()=>EB(t,JSON.parse(A),i,n==="path"),[t,A,i,n])}function hj(t,e){return fj(t,e)}function fj(t,e,n,r){al()||Ft(!1);let{navigator:s,static:i}=U.useContext(hA),{matches:A}=U.useContext(ms),a=A[A.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=fA(),h;if(e){var f;let x=typeof e=="string"?Al(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ft(!1),h=x}else h=u;let g=h.pathname||"/",m=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:jL(t,{pathname:m}),E=vj(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Vi([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Vi([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),A,n,r);return e&&E?U.createElement(gg.Provider,{value:{location:du({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ii.Pop}},E):E}function pj(){let t=Cj(),e=ij(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:s},n):null,null)}const gj=U.createElement(pj,null);class mj extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(ms.Provider,{value:this.props.routeContext},U.createElement(ES.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yj(t){let{routeContext:e,match:n,children:r}=t,s=U.useContext(_B);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(ms.Provider,{value:e},r)}function vj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let A=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=A.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ft(!1),A=A.slice(0,Math.min(A.length,u+1))}let o=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<A.length;u++){let h=A[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){o=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((u,h,f)=>{let g,m=!1,y=null,E=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||gj,o&&(c<0&&f===0?(m=!0,E=null):c===f&&(m=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(A.slice(0,f+1)),v=()=>{let w;return g?w=y:m?w=E:h.route.Component?w=U.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,U.createElement(yj,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?U.createElement(mj,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var TS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TS||{}),qf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qf||{});function wj(t){let e=U.useContext(_B);return e||Ft(!1),e}function Bj(t){let e=U.useContext(aj);return e||Ft(!1),e}function xj(t){let e=U.useContext(ms);return e||Ft(!1),e}function IS(t){let e=xj(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function Cj(){var t;let e=U.useContext(ES),n=Bj(qf.UseRouteError),r=IS(qf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ej(){let{router:t}=wj(TS.UseNavigateStable),e=IS(qf.UseNavigateStable),n=U.useRef(!1);return _S(()=>{n.current=!0}),U.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,du({fromRouteId:e},i)))},[t,e])}function _j(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bo(t){let{to:e,replace:n,state:r,relative:s}=t;al()||Ft(!1);let{future:i,static:A}=U.useContext(hA),{matches:a}=U.useContext(ms),{pathname:o}=fA(),c=ol(),u=EB(e,CB(a,i.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(u);return U.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function US(t){return uj(t.context)}function Tt(t){Ft(!1)}function bj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ii.Pop,navigator:i,static:A=!1,future:a}=t;al()&&Ft(!1);let o=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:o,navigator:i,static:A,future:du({v7_relativeSplatPath:!1},a)}),[o,a,i,A]);typeof r=="string"&&(r=Al(r));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:m="default"}=r,y=U.useMemo(()=>{let E=xB(u,o);return E==null?null:{location:{pathname:E,search:h,hash:f,state:g,key:m},navigationType:s}},[o,u,h,f,g,m,s]);return y==null?null:U.createElement(hA.Provider,{value:c},U.createElement(gg.Provider,{children:n,value:y}))}function FS(t){let{children:e,location:n}=t;return hj(ev(e),n)}new Promise(()=>{});function ev(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,s)=>{if(!U.isValidElement(r))return;let i=[...e,s];if(r.type===U.Fragment){n.push.apply(n,ev(r.props.children,i));return}r.type!==Tt&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let A={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(A.children=ev(r.props.children,i)),n.push(A)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function Tj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ij(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Uj(t,e){return t.button===0&&(!e||e==="_self")&&!Ij(t)}const Fj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sj="6";try{window.__reactRouterVersion=Sj}catch{}const Qj="startTransition",L_=ED[Qj];function Nj(t){let{basename:e,children:n,future:r,window:s}=t,i=U.useRef();i.current==null&&(i.current=DL({window:s,v5Compat:!0}));let A=i.current,[a,o]=U.useState({action:A.action,location:A.location}),{v7_startTransition:c}=r||{},u=U.useCallback(h=>{c&&L_?L_(()=>o(h)):o(h)},[o,c]);return U.useLayoutEffect(()=>A.listen(u),[A,u]),U.useEffect(()=>_j(r),[r]),U.createElement(bj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:A,future:r})}const kj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xf=U.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:A,state:a,target:o,to:c,preventScrollReset:u,viewTransition:h}=e,f=Tj(e,Fj),{basename:g}=U.useContext(hA),m,y=!1;if(typeof c=="string"&&Rj.test(c)&&(m=c,kj))try{let w=new URL(window.location.href),F=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=xB(F.pathname,g);F.origin===w.origin&&T!=null?c=T+F.search+F.hash:y=!0}catch{}let E=oj(c,{relative:s}),x=Dj(c,{replace:A,state:a,target:o,preventScrollReset:u,relative:s,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||x(w)}return U.createElement("a",tv({},f,{href:m||E,onClick:y||i?r:v,ref:n,target:o}))});var j_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j_||(j_={}));var M_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M_||(M_={}));function Dj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,o=ol(),c=fA(),u=bS(t,{relative:A});return U.useCallback(h=>{if(Uj(h,n)){h.preventDefault();let f=r!==void 0?r:Wf(c)===Wf(u);o(t,{replace:f,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[c,o,u,r,s,n,t,i,A,a])}var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Pj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],A=t[n++],a=t[n++],o=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(o&1023))}else{const i=t[n++],A=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,o=s+2<t.length,c=o?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;o||(g=64,A||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Pj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Lj;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jj=function(t){const e=SS(t);return QS.encodeByteArray(e,!0)},Yf=function(t){return jj(t).replace(/\./g,"")},NS=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=()=>Mj().__FIREBASE_DEFAULTS__,Vj=()=>{if(typeof process>"u"||typeof O_>"u")return;const t=O_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NS(t[1]);return e&&JSON.parse(e)},mg=()=>{try{return Oj()||Vj()||Hj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kS=t=>{var e,n;return(n=(e=mg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bB=t=>{const e=kS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RS=()=>{var t;return(t=mg())===null||t===void 0?void 0:t.config},DS=t=>{var e;return(e=mg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yf(JSON.stringify(n)),Yf(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function Gj(){var t;const e=(t=mg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $j(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xj(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yj(){return!Gj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jj(){try{return typeof indexedDB=="object"}catch{return!1}}function Zj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eM,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?tM(i,r):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new Hr(s,a,r)}}function tM(t,e){return t.replace(nM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nM=/\{\$([^}]+)}/g;function rM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],A=e[s];if(V_(i)&&V_(A)){if(!Jf(i,A))return!1}else if(i!==A)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function V_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sM(t,e){const n=new iM(t,e);return n.subscribe.bind(n)}class iM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=s0),s.error===void 0&&(s.error=s0),s.complete===void 0&&(s.complete=s0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function s0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lM(e))try{this.getOrInitializeService({instanceIdentifier:FA})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=FA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=FA){return this.instances.has(e)}getOptions(e=FA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&A.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=FA){return this.component?this.component.multipleInstances?e:FA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oM(t){return t===FA?void 0:t}function lM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const uM={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},dM=Ne.INFO,hM={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},fM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=hM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let TB=class{constructor(e){this.name=e,this._logLevel=dM,this._logHandler=fM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};const pM=(t,e)=>e.some(n=>t instanceof n);let H_,K_;function gM(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mM(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LS=new WeakMap,nv=new WeakMap,jS=new WeakMap,i0=new WeakMap,IB=new WeakMap;function yM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{n(Hi(t.result)),s()},A=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&LS.set(n,t)}).catch(()=>{}),IB.set(e,t),e}function vM(t){if(nv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{n(),s()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});nv.set(t,e)}let rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wM(t){rv=t(rv)}function BM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(A0(this),e,...n);return jS.set(r,e.sort?e.sort():[e]),Hi(r)}:mM().includes(t)?function(...e){return t.apply(A0(this),e),Hi(LS.get(this))}:function(...e){return Hi(t.apply(A0(this),e))}}function xM(t){return typeof t=="function"?BM(t):(t instanceof IDBTransaction&&vM(t),pM(t,gM())?new Proxy(t,rv):t)}function Hi(t){if(t instanceof IDBRequest)return yM(t);if(i0.has(t))return i0.get(t);const e=xM(t);return e!==t&&(i0.set(t,e),IB.set(e,t)),e}const A0=t=>IB.get(t);function CM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=Hi(A);return r&&A.addEventListener("upgradeneeded",o=>{r(Hi(A.result),o.oldVersion,o.newVersion,Hi(A.transaction),o)}),n&&A.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EM=["get","getKey","getAll","getAllKeys","count"],_M=["put","add","delete","clear"],a0=new Map;function z_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a0.get(e))return a0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_M.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||EM.includes(n)))return;const i=async function(A,...a){const o=this.transaction(A,s?"readwrite":"readonly");let c=o.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&o.done]))[0]};return a0.set(e,i),i}wM(t=>({...t,get:(e,n,r)=>z_(e,n)||t.get(e,n,r),has:(e,n)=>!!z_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sv="@firebase/app",G_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new TB("@firebase/app"),IM="@firebase/app-compat",UM="@firebase/analytics-compat",FM="@firebase/analytics",SM="@firebase/app-check-compat",QM="@firebase/app-check",NM="@firebase/auth",kM="@firebase/auth-compat",RM="@firebase/database",DM="@firebase/data-connect",PM="@firebase/database-compat",LM="@firebase/functions",jM="@firebase/functions-compat",MM="@firebase/installations",OM="@firebase/installations-compat",VM="@firebase/messaging",HM="@firebase/messaging-compat",KM="@firebase/performance",zM="@firebase/performance-compat",GM="@firebase/remote-config",$M="@firebase/remote-config-compat",WM="@firebase/storage",qM="@firebase/storage-compat",XM="@firebase/firestore",YM="@firebase/vertexai-preview",JM="@firebase/firestore-compat",ZM="firebase",eO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="[DEFAULT]",tO={[sv]:"fire-core",[IM]:"fire-core-compat",[FM]:"fire-analytics",[UM]:"fire-analytics-compat",[QM]:"fire-app-check",[SM]:"fire-app-check-compat",[NM]:"fire-auth",[kM]:"fire-auth-compat",[RM]:"fire-rtdb",[DM]:"fire-data-connect",[PM]:"fire-rtdb-compat",[LM]:"fire-fn",[jM]:"fire-fn-compat",[MM]:"fire-iid",[OM]:"fire-iid-compat",[VM]:"fire-fcm",[HM]:"fire-fcm-compat",[KM]:"fire-perf",[zM]:"fire-perf-compat",[GM]:"fire-rc",[$M]:"fire-rc-compat",[WM]:"fire-gcs",[qM]:"fire-gcs-compat",[XM]:"fire-fst",[JM]:"fire-fst-compat",[YM]:"fire-vertex","fire-js":"fire-js",[ZM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,nO=new Map,Av=new Map;function $_(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xi(t){const e=t.name;if(Av.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;Av.set(e,t);for(const n of Zf.values())$_(n,t);for(const n of nO.values())$_(n,t);return!0}function td(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ui(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Zu("app","Firebase",rO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=eO;function MS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ki.create("bad-app-name",{appName:String(s)});if(n||(n=RS()),!n)throw Ki.create("no-options");const i=Zf.get(s);if(i){if(Jf(n,i.options)&&Jf(r,i.config))return i;throw Ki.create("duplicate-app",{appName:s})}const A=new cM(s);for(const o of Av.values())A.addComponent(o);const a=new sO(n,r,A);return Zf.set(s,a),a}function yg(t=iv){const e=Zf.get(t);if(!e&&t===iv&&RS())return MS();if(!e)throw Ki.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let s=(r=tO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(a.join(" "));return}Xi(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="firebase-heartbeat-database",AO=1,hu="firebase-heartbeat-store";let o0=null;function OS(){return o0||(o0=CM(iO,AO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),o0}async function aO(t){try{const n=(await OS()).transaction(hu),r=await n.objectStore(hu).get(VS(t));return await n.done,r}catch(e){if(e instanceof Hr)Gs.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gs.warn(n.message)}}}async function W_(t,e){try{const r=(await OS()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,VS(t)),await r.done}catch(n){if(n instanceof Hr)Gs.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gs.warn(r.message)}}}function VS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1024,lO=30*24*60*60*1e3;class cO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=q_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=lO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=q_(),{heartbeatsToSend:r,unsentEntries:s}=uO(this._heartbeatsCache.heartbeats),i=Yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gs.warn(n),""}}}function q_(){return new Date().toISOString().substring(0,10)}function uO(t,e=oO){const n=[];let r=t.slice();for(const s of t){const i=n.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),X_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),X_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jj()?Zj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X_(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){Xi(new zs("platform-logger",e=>new bM(e),"PRIVATE")),Xi(new zs("heartbeat",e=>new cO(e),"PRIVATE")),Br(sv,G_,t),Br(sv,G_,"esm2017"),Br("fire-js","")}hO("");var fO="firebase",pO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(fO,pO,"app");function UB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function HS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gO=HS,KS=new Zu("auth","Firebase",HS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new TB("@firebase/auth");function mO(t,...e){ep.logLevel<=Ne.WARN&&ep.warn(`Auth (${ma}): ${t}`,...e)}function rf(t,...e){ep.logLevel<=Ne.ERROR&&ep.error(`Auth (${ma}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,...e){throw FB(t,...e)}function rs(t,...e){return FB(t,...e)}function zS(t,e,n){const r=Object.assign(Object.assign({},gO()),{[e]:n});return new Zu("auth","Firebase",r).create(e,{appName:t.name})}function zA(t){return zS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FB(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KS.create(t,...e)}function Ee(t,e,...n){if(!t)throw FB(e,...n)}function Ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function Ws(t,e){t||Ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yO(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yO()||Wj()||"connection"in navigator)?navigator.onLine:!0}function wO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ws(n>e,"Short delay should be less than long delay!"),this.isMobile=zj()||qj()}get(){return vO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t,e){Ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new nd(3e4,6e4);function vg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ri(t,e,n,r,s={}){return $S(t,s,async()=>{let i={},A={};r&&(e==="GET"?A=r:i={body:JSON.stringify(r)});const a=ed(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:o},i);return $j()||(c.referrerPolicy="no-referrer"),GS.fetch()(WS(t,t.config.apiHost,n,a),c)})}async function $S(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},BO),e);try{const s=new EO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw ah(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[o,c]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw ah(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw ah(t,"user-disabled",A);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zS(t,u,c);$s(t,u)}}catch(s){if(s instanceof Hr)throw s;$s(t,"network-request-failed",{message:String(s)})}}async function CO(t,e,n,r,s={}){const i=await ri(t,e,n,r,s);return"mfaPendingCredential"in i&&$s(t,"multi-factor-auth-required",{_serverResponse:i}),i}function WS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?SB(t.config,s):`${t.config.apiScheme}://${s}`}class EO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),xO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ah(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rs(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function qS(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bO(t,e=!1){const n=ze(t),r=await n.getIdToken(e),s=QB(r);Ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fc(l0(s.auth_time)),issuedAtTime:Fc(l0(s.iat)),expirationTime:Fc(l0(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function l0(t){return Number(t)*1e3}function QB(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const s=NS(n);return s?JSON.parse(s):(rf("Failed to decode base64 JWT payload"),null)}catch(s){return rf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function J_(t){const e=QB(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&TO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ra(t,qS(n,{idToken:r}));Ee(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?XS(i.providerUserInfo):[],a=FO(t.providerData,A),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ov(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function UO(t){const e=ze(t);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XS(t){return t.map(e=>{var{providerId:n}=e,r=UB(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){const n=await $S(t,{},async()=>{const r=ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=WS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GS.fetch()(A,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QO(t,e){return ri(t,"POST","/v2/accounts:revokeToken",vg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=J_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await SO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,A=new xo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),A.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(Ee(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=UB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ov(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ra(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bO(this,e)}reload(){return UO(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(zA(this.auth));const e=await this.getIdToken();return await ra(this,_O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,A,a,o,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(A=n.photoURL)!==null&&A!==void 0?A:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(o=n._redirectEventId)!==null&&o!==void 0?o:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:F,isAnonymous:T,providerData:N,stsTokenManager:b}=n;Ee(w&&b,e,"internal-error");const C=xo.fromJSON(this.name,b);Ee(typeof w=="string",e,"internal-error"),li(h,e.name),li(f,e.name),Ee(typeof F=="boolean",e,"internal-error"),Ee(typeof T=="boolean",e,"internal-error"),li(g,e.name),li(m,e.name),li(y,e.name),li(E,e.name),li(x,e.name),li(v,e.name);const _=new ks({uid:w,auth:e,email:f,emailVerified:F,displayName:h,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:y,stsTokenManager:C,createdAt:x,lastLoginAt:v});return N&&Array.isArray(N)&&(_.providerData=N.map(I=>Object.assign({},I))),E&&(_._redirectEventId=E),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new xo;s.updateFromServerResponse(n);const i=new ks({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await tp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XS(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new xo;a.updateFromIdToken(r);const o=new ks({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ov(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function Rs(t){Ws(t instanceof Function,"Expected a class definition");let e=Z_.get(t);return e?(Ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Z_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YS.type="NONE";const e1=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sf(this.userKey,s.apiKey,i),this.fullPersistenceKey=sf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(Rs(e1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Rs(e1);const A=sf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(A);if(u){const h=ks._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const o=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new Co(i,e,r):(i=o[0],a&&await i._set(A,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(A)}catch{}})),new Co(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r2(e))return"Blackberry";if(s2(e))return"Webos";if(ZS(e))return"Safari";if((e.includes("chrome/")||e2(e))&&!e.includes("edge/"))return"Chrome";if(n2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JS(t=_n()){return/firefox\//i.test(t)}function ZS(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e2(t=_n()){return/crios\//i.test(t)}function t2(t=_n()){return/iemobile/i.test(t)}function n2(t=_n()){return/android/i.test(t)}function r2(t=_n()){return/blackberry/i.test(t)}function s2(t=_n()){return/webos/i.test(t)}function NB(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NO(t=_n()){var e;return NB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kO(){return Xj()&&document.documentMode===10}function i2(t=_n()){return NB(t)||n2(t)||s2(t)||r2(t)||/windows phone/i.test(t)||t2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e=[]){let n;switch(t){case"Browser":n=t1(_n());break;case"Worker":n=`${t1(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((A,a)=>{try{const o=e(i);A(o)}catch(o){a(o)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e={}){return ri(t,"GET","/v2/passwordPolicy",vg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=6;class LO{constructor(e){var n,r,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=A.minPasswordLength)!==null&&n!==void 0?n:PO,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(n=o.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n1(this),this.idTokenSubscription=new n1(this),this.beforeStateQueue=new RO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qS(this,{idToken:e}),r=await ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ui(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ui(this.app))return Promise.reject(zA(this));const n=e?ze(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(zA(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ui(this.app)?Promise.reject(zA(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DO(this),n=new LO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[Rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,r,s);return()=>{A=!0,o()}}else{const o=e.addObserver(n);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kB(t){return ze(t)}class n1{constructor(e){this.auth=e,this.observer=null,this.addObserver=sM(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RB={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MO(t){RB=t}function OO(t){return RB.loadJS(t)}function VO(){return RB.gapiScript}function HO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t,e){const n=td(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Jf(i,e??{}))return s;$s(s,"already-initialized")}return n.initialize({options:e})}function zO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GO(t,e,n){const r=kB(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=a2(e),{host:A,port:a}=$O(e),o=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${A}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),WO()}function a2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $O(t){const e=a2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:r1(r.substr(i.length+1))}}else{const[i,A]=r.split(":");return{host:i,port:r1(A)}}}function r1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ns("not implemented")}_getIdTokenResponse(e){return Ns("not implemented")}_linkToIdToken(e,n){return Ns("not implemented")}_getReauthenticationResolver(e){return Ns("not implemented")}}async function qO(t,e){return ri(t,"POST","/v1/accounts:update",e)}async function XO(t,e){return ri(t,"POST","/v1/accounts:sendOobCode",vg(t,e))}async function YO(t,e){return XO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e){return CO(t,"POST","/v1/accounts:signInWithIdp",vg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="http://localhost";class sa extends o2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$s("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=UB(n,["providerId","signInMethod"]);if(!r||!s)return null;const A=new sa(r,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:JO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ed(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends l2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends rd{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wi.credential(n,r)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends rd{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends rd{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ks._fromIdTokenResponse(e,r,s),A=s1(r);return new Mo({user:i,providerId:A,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=s1(r);return new Mo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function s1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Hr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new np(e,n,r,s)}}function c2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(t,i,e,r):i})}async function ZO(t,e,n=!1){const r=await ra(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e,n=!1){const{auth:r}=t;if(Ui(r.app))return Promise.reject(zA(r));const s="reauthenticate";try{const i=await ra(t,c2(r,s,e,t),n);Ee(i.idToken,r,"internal-error");const A=QB(i.idToken);Ee(A,r,"internal-error");const{sub:a}=A;return Ee(t.uid===a,r,"user-mismatch"),Mo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$s(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(t,e,n=!1){if(Ui(t.app))return Promise.reject(zA(t));const r="signIn",s=await c2(t,r,e),i=await Mo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function nV(t,e){const n=ze(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await YO(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e){return ri(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ze(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},A=await ra(r,rV(r.auth,i));r.displayName=A.displayName||null,r.photoURL=A.photoUrl||null;const a=r.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(A)}function iV(t,e){return AV(ze(t),null,e)}async function AV(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const A=await ra(t,qO(r,i));await t._updateTokensIfNecessary(A,!0)}function aV(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function oV(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}const rp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rp,"1"),this.storage.removeItem(rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=1e3,cV=10;class d2 extends u2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(r);!n&&this.localCache[r]===A||this.notifyListeners(r,A)},i=this.storage.getItem(r);kO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}d2.type="LOCAL";const uV=d2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends u2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h2.type="SESSION";const f2=h2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(A).map(async c=>c(n.origin,i)),o=await dV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,o)=>{const c=DB("",20);s.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},r);A={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function fV(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function pV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mV(){return p2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="firebaseLocalStorageDb",yV=1,sp="firebaseLocalStorage",m2="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bg(t,e){return t.transaction([sp],e?"readwrite":"readonly").objectStore(sp)}function vV(){const t=indexedDB.deleteDatabase(g2);return new sd(t).toPromise()}function lv(){const t=indexedDB.open(g2,yV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sp,{keyPath:m2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sp)?e(r):(r.close(),await vV(),e(await lv()))})})}async function i1(t,e,n){const r=Bg(t,!0).put({[m2]:e,value:n});return new sd(r).toPromise()}async function wV(t,e){const n=Bg(t,!1).get(e),r=await new sd(n).toPromise();return r===void 0?null:r.value}function A1(t,e){const n=Bg(t,!0).delete(e);return new sd(n).toPromise()}const BV=800,xV=3;class y2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wg._getInstance(mV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pV(),!this.activeServiceWorker)return;this.sender=new hV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lv();return await i1(e,rp,"1"),await A1(e,rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>i1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Bg(s,!1).getAll();return new sd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y2.type="LOCAL";const CV=y2;new nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t,e){return e?Rs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB extends o2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _V(t){return tV(t.auth,new PB(t),t.bypassAuthState)}function bV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),eV(n,new PB(t),t.bypassAuthState)}async function TV(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),ZO(n,new PB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _V;case"linkViaPopup":case"linkViaRedirect":return TV;case"reauthViaPopup":case"reauthViaRedirect":return bV;default:$s(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new nd(2e3,1e4);class io extends v2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ws(this.filter.length===1,"Popup operations only handle one event");const e=DB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IV.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="pendingRedirect",Af=new Map;class FV extends v2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await SV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SV(t,e){const n=kV(e),r=NV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function QV(t,e){Af.set(t._key(),e)}function NV(t){return Rs(t._redirectPersistence)}function kV(t){return sf(UV,t.config.apiKey,t.name)}async function RV(t,e,n=!1){if(Ui(t.app))return Promise.reject(zA(t));const r=kB(t),s=EV(r,e),A=await new FV(r,s,n).execute();return A&&!n&&(delete A.user._redirectEventId,await r._persistUserIfCurrent(A.user),await r._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=10*60*1e3;class PV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!w2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(a1(e))}saveEventToCache(e){this.cachedEventUids.add(a1(e)),this.lastProcessedEventTime=Date.now()}}function a1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OV=/^https?/;async function VV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jV(t);for(const n of e)try{if(HV(n))return}catch{}$s(t,"unauthorized-domain")}function HV(t){const e=av(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&A.hostname===r}if(!OV.test(n))return!1;if(MV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new nd(3e4,6e4);function o1(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zV(t){return new Promise((e,n)=>{var r,s,i;function A(){o1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o1(),n(rs(t,"network-request-failed"))},timeout:KV.get()})}if(!((s=(r=ss().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ss().gapi)===null||i===void 0)&&i.load)A();else{const a=HO("iframefcb");return ss()[a]=()=>{gapi.load?A():n(rs(t,"network-request-failed"))},OO(`${VO()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw af=null,e})}let af=null;function GV(t){return af=af||zV(t),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new nd(5e3,15e3),WV="__/auth/iframe",qV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JV(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SB(e,qV):`https://${t.config.authDomain}/${WV}`,r={apiKey:e.apiKey,appName:t.name,v:ma},s=YV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ed(r).slice(1)}`}async function ZV(t){const e=await GV(t),n=ss().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:JV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const A=rs(t,"network-request-failed"),a=ss().setTimeout(()=>{i(A)},$V.get());function o(){ss().clearTimeout(a),s(r)}r.ping(o).then(o,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tH=500,nH=600,rH="_blank",sH="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iH(t,e,n,r=tH,s=nH){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const o=Object.assign(Object.assign({},eH),{width:r.toString(),height:s.toString(),top:i,left:A}),c=_n().toLowerCase();n&&(a=e2(c)?rH:n),JS(c)&&(e=e||sH,o.scrollbars="yes");const u=Object.entries(o).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(NO(c)&&a!=="_self")return AH(e||"",a),new l1(null);const h=window.open(e||"",a,u);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new l1(h)}function AH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="__/auth/handler",oH="emulator/auth/handler",lH=encodeURIComponent("fac");async function c1(t,e,n,r,s,i){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ma,eventId:s};if(e instanceof l2){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",rM(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))A[u]=h}if(e instanceof rd){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const o=await t._getAppCheckToken(),c=o?`#${lH}=${encodeURIComponent(o)}`:"";return`${cH(t)}?${ed(a).slice(1)}${c}`}function cH({config:t}){return t.emulator?SB(t,oH):`https://${t.authDomain}/${aH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="webStorageSupport";class uH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f2,this._completeRedirectFn=RV,this._overrideRedirectResult=QV}async _openPopup(e,n,r,s){var i;Ws((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await c1(e,n,r,av(),s);return iH(e,A,DB())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await c1(e,n,r,av(),s);return fV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ws(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZV(e),r=new PV(e);return n.register("authEvent",s=>(Ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(c0,{type:c0},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[c0];A!==void 0&&n(!!A),$s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i2()||ZS()||NB()}}const dH=uH;var u1="@firebase/auth",d1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pH(t){Xi(new zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=r.options;Ee(A&&!A.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A2(t)},c=new jO(r,s,i,o);return zO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xi(new zs("auth-internal",e=>{const n=kB(e.getProvider("auth").getImmediate());return(r=>new hH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(u1,d1,fH(t)),Br(u1,d1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=5*60,mH=DS("authIdTokenMaxAge")||gH;let h1=null;const yH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mH)return;const s=n==null?void 0:n.token;h1!==s&&(h1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vH(t=yg()){const e=td(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KO(t,{popupRedirectResolver:dH,persistence:[CV,uV,f2]}),r=DS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const A=yH(i.toString());oV(n,A,()=>A(n.currentUser)),aV(n,a=>A(a))}}const s=kS("auth");return s&&GO(n,`http://${s}`),n}function wH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=rs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",wH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pH("Browser");var f1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GA,B2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function _(){}_.prototype=C.prototype,b.D=C.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(I,k,R){for(var S=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)S[ee-2]=arguments[ee];return C.prototype[k].apply(I,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,_){_||(_=0);var I=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)I[k]=C.charCodeAt(_++)|C.charCodeAt(_++)<<8|C.charCodeAt(_++)<<16|C.charCodeAt(_++)<<24;else for(k=0;16>k;++k)I[k]=C[_++]|C[_++]<<8|C[_++]<<16|C[_++]<<24;C=b.g[0],_=b.g[1],k=b.g[2];var R=b.g[3],S=C+(R^_&(k^R))+I[0]+3614090360&4294967295;C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+I[1]+3905402710&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+I[2]+606105819&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+I[3]+3250441966&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(R^_&(k^R))+I[4]+4118548399&4294967295,C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+I[5]+1200080426&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+I[6]+2821735955&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+I[7]+4249261313&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(R^_&(k^R))+I[8]+1770035416&4294967295,C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+I[9]+2336552879&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+I[10]+4294925233&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+I[11]+2304563134&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(R^_&(k^R))+I[12]+1804603682&4294967295,C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+I[13]+4254626195&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+I[14]+2792965006&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+I[15]+1236535329&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(k^R&(_^k))+I[1]+4129170786&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+I[6]+3225465664&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+I[11]+643717713&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+I[0]+3921069994&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(k^R&(_^k))+I[5]+3593408605&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+I[10]+38016083&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+I[15]+3634488961&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+I[4]+3889429448&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(k^R&(_^k))+I[9]+568446438&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+I[14]+3275163606&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+I[3]+4107603335&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+I[8]+1163531501&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(k^R&(_^k))+I[13]+2850285829&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+I[2]+4243563512&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+I[7]+1735328473&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+I[12]+2368359562&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(_^k^R)+I[5]+4294588738&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+I[8]+2272392833&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+I[11]+1839030562&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+I[14]+4259657740&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(_^k^R)+I[1]+2763975236&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+I[4]+1272893353&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+I[7]+4139469664&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+I[10]+3200236656&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(_^k^R)+I[13]+681279174&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+I[0]+3936430074&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+I[3]+3572445317&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+I[6]+76029189&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(_^k^R)+I[9]+3654602809&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+I[12]+3873151461&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+I[15]+530742520&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+I[2]+3299628645&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(k^(_|~R))+I[0]+4096336452&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+I[7]+1126891415&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+I[14]+2878612391&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+I[5]+4237533241&4294967295,_=k+(S<<21&4294967295|S>>>11),S=C+(k^(_|~R))+I[12]+1700485571&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+I[3]+2399980690&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+I[10]+4293915773&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+I[1]+2240044497&4294967295,_=k+(S<<21&4294967295|S>>>11),S=C+(k^(_|~R))+I[8]+1873313359&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+I[15]+4264355552&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+I[6]+2734768916&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+I[13]+1309151649&4294967295,_=k+(S<<21&4294967295|S>>>11),S=C+(k^(_|~R))+I[4]+4149444226&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+I[11]+3174756917&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+I[2]+718787259&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+I[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(k+(S<<21&4294967295|S>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+R&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var _=C-this.blockSize,I=this.B,k=this.h,R=0;R<C;){if(k==0)for(;R<=_;)s(this,b,R),R+=this.blockSize;if(typeof b=="string"){for(;R<C;)if(I[k++]=b.charCodeAt(R++),k==this.blockSize){s(this,I),k=0;break}}else for(;R<C;)if(I[k++]=b[R++],k==this.blockSize){s(this,I),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var _=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=_&255,_/=256;for(this.u(b),b=Array(16),C=_=0;4>C;++C)for(var I=0;32>I;I+=8)b[_++]=this.g[C]>>>I&255;return b};function i(b,C){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=C(b)}function A(b,C){this.h=C;for(var _=[],I=!0,k=b.length-1;0<=k;k--){var R=b[k]|0;I&&R==C||(_[k]=R,I=!1)}this.g=_}var a={};function o(b){return-128<=b&&128>b?i(b,function(C){return new A([C|0],0>C?-1:0)}):new A([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return E(c(-b));for(var C=[],_=1,I=0;b>=_;I++)C[I]=b/_|0,_*=4294967296;return new A(C,0)}function u(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return E(u(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(C,8)),I=h,k=0;k<b.length;k+=8){var R=Math.min(8,b.length-k),S=parseInt(b.substring(k,k+R),C);8>R?(R=c(Math.pow(C,R)),I=I.j(R).add(c(S))):(I=I.j(_),I=I.add(c(S)))}return I}var h=o(0),f=o(1),g=o(16777216);t=A.prototype,t.m=function(){if(y(this))return-E(this).m();for(var b=0,C=1,_=0;_<this.g.length;_++){var I=this.i(_);b+=(0<=I?I:4294967296+I)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(m(this))return"0";if(y(this))return"-"+E(this).toString(b);for(var C=c(Math.pow(b,6)),_=this,I="";;){var k=F(_,C).g;_=x(_,k.j(C));var R=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=k,m(_))return R+I;for(;6>R.length;)R="0"+R;I=R+I}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function m(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=x(this,b),y(b)?-1:m(b)?0:1};function E(b){for(var C=b.g.length,_=[],I=0;I<C;I++)_[I]=~b.g[I];return new A(_,~b.h).add(f)}t.abs=function(){return y(this)?E(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],I=0,k=0;k<=C;k++){var R=I+(this.i(k)&65535)+(b.i(k)&65535),S=(R>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);I=S>>>16,R&=65535,S&=65535,_[k]=S<<16|R}return new A(_,_[_.length-1]&-2147483648?-1:0)};function x(b,C){return b.add(E(C))}t.j=function(b){if(m(this)||m(b))return h;if(y(this))return y(b)?E(this).j(E(b)):E(E(this).j(b));if(y(b))return E(this.j(E(b)));if(0>this.l(g)&&0>b.l(g))return c(this.m()*b.m());for(var C=this.g.length+b.g.length,_=[],I=0;I<2*C;I++)_[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<b.g.length;k++){var R=this.i(I)>>>16,S=this.i(I)&65535,ee=b.i(k)>>>16,Ae=b.i(k)&65535;_[2*I+2*k]+=S*Ae,v(_,2*I+2*k),_[2*I+2*k+1]+=R*Ae,v(_,2*I+2*k+1),_[2*I+2*k+1]+=S*ee,v(_,2*I+2*k+1),_[2*I+2*k+2]+=R*ee,v(_,2*I+2*k+2)}for(I=0;I<C;I++)_[I]=_[2*I+1]<<16|_[2*I];for(I=C;I<2*C;I++)_[I]=0;return new A(_,0)};function v(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function w(b,C){this.g=b,this.h=C}function F(b,C){if(m(C))throw Error("division by zero");if(m(b))return new w(h,h);if(y(b))return C=F(E(b),C),new w(E(C.g),E(C.h));if(y(C))return C=F(b,E(C)),new w(E(C.g),C.h);if(30<b.g.length){if(y(b)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var _=f,I=C;0>=I.l(b);)_=T(_),I=T(I);var k=N(_,1),R=N(I,1);for(I=N(I,2),_=N(_,2);!m(I);){var S=R.add(I);0>=S.l(b)&&(k=k.add(_),R=S),I=N(I,1),_=N(_,1)}return C=x(b,k.j(C)),new w(k,C)}for(k=h;0<=b.l(C);){for(_=Math.max(1,Math.floor(b.m()/C.m())),I=Math.ceil(Math.log(_)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),R=c(_),S=R.j(C);y(S)||0<S.l(b);)_-=I,R=c(_),S=R.j(C);m(R)&&(R=f),k=k.add(R),b=x(b,S)}return new w(k,b)}t.A=function(b){return F(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],I=0;I<C;I++)_[I]=this.i(I)&b.i(I);return new A(_,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],I=0;I<C;I++)_[I]=this.i(I)|b.i(I);return new A(_,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],I=0;I<C;I++)_[I]=this.i(I)^b.i(I);return new A(_,this.h^b.h)};function T(b){for(var C=b.g.length+1,_=[],I=0;I<C;I++)_[I]=b.i(I)<<1|b.i(I-1)>>>31;return new A(_,b.h)}function N(b,C){var _=C>>5;C%=32;for(var I=b.g.length-_,k=[],R=0;R<I;R++)k[R]=0<C?b.i(R+_)>>>C|b.i(R+_+1)<<32-C:b.i(R+_);return new A(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,B2=r,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=c,A.fromString=u,GA=A}).apply(typeof f1<"u"?f1:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x2,rc,C2,of,cv,E2,_2,b2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,p,B){return d==Array.prototype||d==Object.prototype||(d[p]=B.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var p=0;p<d.length;++p){var B=d[p];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function s(d,p){if(p)e:{var B=r;d=d.split(".");for(var Q=0;Q<d.length-1;Q++){var P=d[Q];if(!(P in B))break e;B=B[P]}d=d[d.length-1],Q=B[d],p=p(Q),p!=Q&&p!=null&&e(B,d,{configurable:!0,writable:!0,value:p})}}function i(d,p){d instanceof String&&(d+="");var B=0,Q=!1,P={next:function(){if(!Q&&B<d.length){var M=B++;return{value:p(M,d[M]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}s("Array.prototype.values",function(d){return d||function(){return i(this,function(p,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(d){var p=typeof d;return p=p!="object"?p:d?Array.isArray(d)?"array":p:"null",p=="array"||p=="object"&&typeof d.length=="number"}function c(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function u(d,p,B){return d.call.apply(d.bind,arguments)}function h(d,p,B){if(!d)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,Q),d.apply(p,P)}}return function(){return d.apply(p,arguments)}}function f(d,p,B){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,p){var B=Array.prototype.slice.call(arguments,1);return function(){var Q=B.slice();return Q.push.apply(Q,arguments),d.apply(this,Q)}}function m(d,p){function B(){}B.prototype=p.prototype,d.aa=p.prototype,d.prototype=new B,d.prototype.constructor=d,d.Qb=function(Q,P,M){for(var Z=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Z[Ze-2]=arguments[Ze];return p.prototype[P].apply(Q,Z)}}function y(d){const p=d.length;if(0<p){const B=Array(p);for(let Q=0;Q<p;Q++)B[Q]=d[Q];return B}return[]}function E(d,p){for(let B=1;B<arguments.length;B++){const Q=arguments[B];if(o(Q)){const P=d.length||0,M=Q.length||0;d.length=P+M;for(let Z=0;Z<M;Z++)d[P+Z]=Q[Z]}else d.push(Q)}}class x{constructor(p,B){this.i=p,this.j=B,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function N(d,p,B){for(const Q in d)p.call(B,d[Q],Q,d)}function b(d,p){for(const B in d)p.call(void 0,d[B],B,d)}function C(d){const p={};for(const B in d)p[B]=d[B];return p}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,p){let B,Q;for(let P=1;P<arguments.length;P++){Q=arguments[P];for(B in Q)d[B]=Q[B];for(let M=0;M<_.length;M++)B=_[M],Object.prototype.hasOwnProperty.call(Q,B)&&(d[B]=Q[B])}}function k(d){var p=1;d=d.split(":");const B=[];for(;0<p&&d.length;)B.push(d.shift()),p--;return d.length&&B.push(d.join(":")),B}function R(d){a.setTimeout(()=>{throw d},0)}function S(){var d=H;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,B){const Q=Ae.get();Q.set(p,B),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var Ae=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,B){this.h=p,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let J,L=!1,H=new ee,W=()=>{const d=a.Promise.resolve(void 0);J=()=>{d.then(G)}};var G=()=>{for(var d;d=S();){try{d.h.call(d.g)}catch(B){R(B)}var p=Ae;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}L=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const B=()=>{};a.addEventListener("test",B,p),a.removeEventListener("test",B,p)}catch{}return d}();function Ge(d,p){if(Be.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var B=this.type=d.type,Q=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(T){e:{try{F(p.nodeName);var P=!0;break e}catch{}P=!1}P||(p=null)}}else B=="mouseover"?p=d.fromElement:B=="mouseout"&&(p=d.toElement);this.relatedTarget=p,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:st[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ge.aa.h.call(this)}}m(Ge,Be);var st={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),vA=0;function _d(d,p,B,Q,P){this.listener=d,this.proxy=null,this.src=p,this.type=B,this.capture=!!Q,this.ha=P,this.key=++vA,this.da=this.fa=!1}function Ca(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function wA(d){this.src=d,this.g={},this.h=0}wA.prototype.add=function(d,p,B,Q,P){var M=d.toString();d=this.g[M],d||(d=this.g[M]=[],this.h++);var Z=Ea(d,p,Q,P);return-1<Z?(p=d[Z],B||(p.fa=!1)):(p=new _d(p,this.src,M,!!Q,P),p.fa=B,d.push(p)),p};function vl(d,p){var B=p.type;if(B in d.g){var Q=d.g[B],P=Array.prototype.indexOf.call(Q,p,void 0),M;(M=0<=P)&&Array.prototype.splice.call(Q,P,1),M&&(Ca(p),d.g[B].length==0&&(delete d.g[B],d.h--))}}function Ea(d,p,B,Q){for(var P=0;P<d.length;++P){var M=d[P];if(!M.da&&M.listener==p&&M.capture==!!B&&M.ha==Q)return P}return-1}var _a="closure_lm_"+(1e6*Math.random()|0),bd={};function pm(d,p,B,Q,P){if(Array.isArray(p)){for(var M=0;M<p.length;M++)pm(d,p[M],B,Q,P);return null}return B=Te(B),d&&d[ut]?d.K(p,B,c(Q)?!!Q.capture:!!Q,P):QC(d,p,B,!1,Q,P)}function QC(d,p,B,Q,P,M){if(!p)throw Error("Invalid event type");var Z=c(P)?!!P.capture:!!P,Ze=Y(d);if(Ze||(d[_a]=Ze=new wA(d)),B=Ze.add(p,B,Q,Z,M),B.proxy)return B;if(Q=D(),B.proxy=Q,Q.src=d,Q.listener=B,d.addEventListener)Je||(P=Z),P===void 0&&(P=!1),d.addEventListener(p.toString(),Q,P);else if(d.attachEvent)d.attachEvent(se(p.toString()),Q);else if(d.addListener&&d.removeListener)d.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return B}function D(){function d(B){return p.call(d.src,d.listener,B)}const p=ne;return d}function j(d,p,B,Q,P){if(Array.isArray(p))for(var M=0;M<p.length;M++)j(d,p[M],B,Q,P);else Q=c(Q)?!!Q.capture:!!Q,B=Te(B),d&&d[ut]?(d=d.i,p=String(p).toString(),p in d.g&&(M=d.g[p],B=Ea(M,B,Q,P),-1<B&&(Ca(M[B]),Array.prototype.splice.call(M,B,1),M.length==0&&(delete d.g[p],d.h--)))):d&&(d=Y(d))&&(p=d.g[p.toString()],d=-1,p&&(d=Ea(p,B,Q,P)),(B=-1<d?p[d]:null)&&O(B))}function O(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[ut])vl(p.i,d);else{var B=d.type,Q=d.proxy;p.removeEventListener?p.removeEventListener(B,Q,d.capture):p.detachEvent?p.detachEvent(se(B),Q):p.addListener&&p.removeListener&&p.removeListener(Q),(B=Y(p))?(vl(B,d),B.h==0&&(B.src=null,p[_a]=null)):Ca(d)}}}function se(d){return d in bd?bd[d]:bd[d]="on"+d}function ne(d,p){if(d.da)d=!0;else{p=new Ge(p,this);var B=d.listener,Q=d.ha||d.src;d.fa&&O(d),d=B.call(Q,p)}return d}function Y(d){return d=d[_a],d instanceof wA?d:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(d){return typeof d=="function"?d:(d[ge]||(d[ge]=function(p){return d.handleEvent(p)}),d[ge])}function Qe(){fe.call(this),this.i=new wA(this),this.M=this,this.F=null}m(Qe,fe),Qe.prototype[ut]=!0,Qe.prototype.removeEventListener=function(d,p,B,Q){j(this,d,p,B,Q)};function ke(d,p){var B,Q=d.F;if(Q)for(B=[];Q;Q=Q.F)B.push(Q);if(d=d.M,Q=p.type||p,typeof p=="string")p=new Be(p,d);else if(p instanceof Be)p.target=p.target||d;else{var P=p;p=new Be(Q,d),I(p,P)}if(P=!0,B)for(var M=B.length-1;0<=M;M--){var Z=p.g=B[M];P=Wn(Z,Q,!0,p)&&P}if(Z=p.g=d,P=Wn(Z,Q,!0,p)&&P,P=Wn(Z,Q,!1,p)&&P,B)for(M=0;M<B.length;M++)Z=p.g=B[M],P=Wn(Z,Q,!1,p)&&P}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var d=this.i,p;for(p in d.g){for(var B=d.g[p],Q=0;Q<B.length;Q++)Ca(B[Q]);delete d.g[p],d.h--}}this.F=null},Qe.prototype.K=function(d,p,B,Q){return this.i.add(String(d),p,!1,B,Q)},Qe.prototype.L=function(d,p,B,Q){return this.i.add(String(d),p,!0,B,Q)};function Wn(d,p,B,Q){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();for(var P=!0,M=0;M<p.length;++M){var Z=p[M];if(Z&&!Z.da&&Z.capture==B){var Ze=Z.listener,Wt=Z.ha||Z.src;Z.fa&&vl(d.i,Z),P=Ze.call(Wt,Q)!==!1&&P}}return P&&!Q.defaultPrevented}function Td(d,p,B){if(typeof d=="function")B&&(d=f(d,B));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function ba(d){d.g=Td(()=>{d.g=null,d.i&&(d.i=!1,ba(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class wl extends fe{constructor(p,B){super(),this.m=p,this.l=B,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function BA(d){fe.call(this),this.h=d,this.g={}}m(BA,fe);var Bl=[];function Id(d){N(d.g,function(p,B){this.g.hasOwnProperty(B)&&O(p)},d),d.g={}}BA.prototype.N=function(){BA.aa.N.call(this),Id(this)},BA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ta=a.JSON.stringify,DR=a.JSON.parse,PR=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function gm(){}gm.prototype.h=null;function NC(d){return d.h||(d.h=d.i())}function kC(){}var xl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mm(){Be.call(this,"d")}m(mm,Be);function ym(){Be.call(this,"c")}m(ym,Be);var xA={},RC=null;function Ud(){return RC=RC||new Qe}xA.La="serverreachability";function DC(d){Be.call(this,xA.La,d)}m(DC,Be);function Cl(d){const p=Ud();ke(p,new DC(p))}xA.STAT_EVENT="statevent";function PC(d,p){Be.call(this,xA.STAT_EVENT,d),this.stat=p}m(PC,Be);function Tn(d){const p=Ud();ke(p,new PC(p,d))}xA.Ma="timingevent";function LC(d,p){Be.call(this,xA.Ma,d),this.size=p}m(LC,Be);function El(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function _l(){this.g=!0}_l.prototype.xa=function(){this.g=!1};function LR(d,p,B,Q,P,M){d.info(function(){if(d.g)if(M)for(var Z="",Ze=M.split("&"),Wt=0;Wt<Ze.length;Wt++){var Me=Ze[Wt].split("=");if(1<Me.length){var un=Me[0];Me=Me[1];var dn=un.split("_");Z=2<=dn.length&&dn[1]=="type"?Z+(un+"="+Me+"&"):Z+(un+"=redacted&")}}else Z=null;else Z=M;return"XMLHTTP REQ ("+Q+") [attempt "+P+"]: "+p+`
`+B+`
`+Z})}function jR(d,p,B,Q,P,M,Z){d.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+P+"]: "+p+`
`+B+`
`+M+" "+Z})}function Ia(d,p,B,Q){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+OR(d,B)+(Q?" "+Q:"")})}function MR(d,p){d.info(function(){return"TIMEOUT: "+p})}_l.prototype.info=function(){};function OR(d,p){if(!d.g)return p;if(!p)return null;try{var B=JSON.parse(p);if(B){for(d=0;d<B.length;d++)if(Array.isArray(B[d])){var Q=B[d];if(!(2>Q.length)){var P=Q[1];if(Array.isArray(P)&&!(1>P.length)){var M=P[0];if(M!="noop"&&M!="stop"&&M!="close")for(var Z=1;Z<P.length;Z++)P[Z]=""}}}}return Ta(B)}catch{return p}}var Fd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vm;function Sd(){}m(Sd,gm),Sd.prototype.g=function(){return new XMLHttpRequest},Sd.prototype.i=function(){return{}},vm=new Sd;function ii(d,p,B,Q){this.j=d,this.i=p,this.l=B,this.R=Q||1,this.U=new BA(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MC}function MC(){this.i=null,this.g="",this.h=!1}var OC={},wm={};function Bm(d,p,B){d.L=1,d.v=Rd(Bs(p)),d.m=B,d.P=!0,VC(d,null)}function VC(d,p){d.F=Date.now(),Qd(d),d.A=Bs(d.v);var B=d.A,Q=d.R;Array.isArray(Q)||(Q=[String(Q)]),nE(B.i,"t",Q),d.C=0,B=d.j.J,d.h=new MC,d.g=wE(d.j,B?p:null,!d.m),0<d.O&&(d.M=new wl(f(d.Y,d,d.g),d.O)),p=d.U,B=d.g,Q=d.ca;var P="readystatechange";Array.isArray(P)||(P&&(Bl[0]=P.toString()),P=Bl);for(var M=0;M<P.length;M++){var Z=pm(B,P[M],Q||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),Cl(),LR(d.i,d.u,d.A,d.l,d.R,d.m)}ii.prototype.ca=function(d){d=d.target;const p=this.M;p&&xs(d)==3?p.j():this.Y(d)},ii.prototype.Y=function(d){try{if(d==this.g)e:{const dn=xs(this.g);var p=this.g.Ba();const Sa=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||lE(this.g)))){this.J||dn!=4||p==7||(p==8||0>=Sa?Cl(3):Cl(2)),xm(this);var B=this.g.Z();this.X=B;t:if(HC(this)){var Q=lE(this.g);d="";var P=Q.length,M=xs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){CA(this),bl(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<P;p++)this.h.h=!0,d+=this.h.i.decode(Q[p],{stream:!(M&&p==P-1)});Q.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=B==200,jR(this.i,this.u,this.A,this.l,this.R,dn,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Wt=this.g;if((Ze=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ze)){var Me=Ze;break t}}Me=null}if(B=Me)Ia(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cm(this,B);else{this.o=!1,this.s=3,Tn(12),CA(this),bl(this);break e}}if(this.P){B=!0;let _r;for(;!this.J&&this.C<Z.length;)if(_r=VR(this,Z),_r==wm){dn==4&&(this.s=4,Tn(14),B=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==OC){this.s=4,Tn(15),Ia(this.i,this.l,Z,"[Invalid Chunk]"),B=!1;break}else Ia(this.i,this.l,_r,null),Cm(this,_r);if(HC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||Z.length!=0||this.h.h||(this.s=1,Tn(16),B=!1),this.o=this.o&&B,!B)Ia(this.i,this.l,Z,"[Invalid Chunked Response]"),CA(this),bl(this);else if(0<Z.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Um(un),un.M=!0,Tn(11))}}else Ia(this.i,this.l,Z,null),Cm(this,Z);dn==4&&CA(this),this.o&&!this.J&&(dn==4?gE(this.j,this):(this.o=!1,Qd(this)))}else iD(this.g),B==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),CA(this),bl(this)}}}catch{}finally{}};function HC(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function VR(d,p){var B=d.C,Q=p.indexOf(`
`,B);return Q==-1?wm:(B=Number(p.substring(B,Q)),isNaN(B)?OC:(Q+=1,Q+B>p.length?wm:(p=p.slice(Q,Q+B),d.C=Q+B,p)))}ii.prototype.cancel=function(){this.J=!0,CA(this)};function Qd(d){d.S=Date.now()+d.I,KC(d,d.I)}function KC(d,p){if(d.B!=null)throw Error("WatchDog timer not null");d.B=El(f(d.ba,d),p)}function xm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ii.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(MR(this.i,this.A),this.L!=2&&(Cl(),Tn(17)),CA(this),this.s=2,bl(this)):KC(this,this.S-d)};function bl(d){d.j.G==0||d.J||gE(d.j,d)}function CA(d){xm(d);var p=d.M;p&&typeof p.ma=="function"&&p.ma(),d.M=null,Id(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function Cm(d,p){try{var B=d.j;if(B.G!=0&&(B.g==d||Em(B.h,d))){if(!d.K&&Em(B.h,d)&&B.G==3){try{var Q=B.Da.g.parse(p)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var P=Q;if(P[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<d.F)Od(B),jd(B);else break e;Im(B),Tn(18)}}else B.za=P[1],0<B.za-B.T&&37500>P[2]&&B.F&&B.v==0&&!B.C&&(B.C=El(f(B.Za,B),6e3));if(1>=$C(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else _A(B,11)}else if((d.K||B.g==d)&&Od(B),!v(p))for(P=B.Da.g.parse(p),p=0;p<P.length;p++){let Me=P[p];if(B.T=Me[0],Me=Me[1],B.G==2)if(Me[0]=="c"){B.K=Me[1],B.ia=Me[2];const un=Me[3];un!=null&&(B.la=un,B.j.info("VER="+B.la));const dn=Me[4];dn!=null&&(B.Aa=dn,B.j.info("SVER="+B.Aa));const Sa=Me[5];Sa!=null&&typeof Sa=="number"&&0<Sa&&(Q=1.5*Sa,B.L=Q,B.j.info("backChannelRequestTimeoutMs_="+Q)),Q=B;const _r=d.g;if(_r){const Hd=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hd){var M=Q.h;M.g||Hd.indexOf("spdy")==-1&&Hd.indexOf("quic")==-1&&Hd.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(_m(M,M.h),M.h=null))}if(Q.D){const Fm=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Fm&&(Q.ya=Fm,it(Q.I,Q.D,Fm))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-d.F,B.j.info("Handshake RTT: "+B.R+"ms")),Q=B;var Z=d;if(Q.qa=vE(Q,Q.J?Q.ia:null,Q.W),Z.K){WC(Q.h,Z);var Ze=Z,Wt=Q.L;Wt&&(Ze.I=Wt),Ze.B&&(xm(Ze),Qd(Ze)),Q.g=Z}else fE(Q);0<B.i.length&&Md(B)}else Me[0]!="stop"&&Me[0]!="close"||_A(B,7);else B.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?_A(B,7):Tm(B):Me[0]!="noop"&&B.l&&B.l.ta(Me),B.v=0)}}Cl(4)}catch{}}var HR=class{constructor(d,p){this.g=d,this.map=p}};function zC(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function GC(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function $C(d){return d.h?1:d.g?d.g.size:0}function Em(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function _m(d,p){d.g?d.g.add(p):d.h=p}function WC(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}zC.prototype.cancel=function(){if(this.i=qC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function qC(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const B of d.g.values())p=p.concat(B.D);return p}return y(d.i)}function KR(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(o(d)){for(var p=[],B=d.length,Q=0;Q<B;Q++)p.push(d[Q]);return p}p=[],B=0;for(Q in d)p[B++]=d[Q];return p}function zR(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(o(d)||typeof d=="string"){var p=[];d=d.length;for(var B=0;B<d;B++)p.push(B);return p}p=[],B=0;for(const Q in d)p[B++]=Q;return p}}}function XC(d,p){if(d.forEach&&typeof d.forEach=="function")d.forEach(p,void 0);else if(o(d)||typeof d=="string")Array.prototype.forEach.call(d,p,void 0);else for(var B=zR(d),Q=KR(d),P=Q.length,M=0;M<P;M++)p.call(void 0,Q[M],B&&B[M],d)}var YC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GR(d,p){if(d){d=d.split("&");for(var B=0;B<d.length;B++){var Q=d[B].indexOf("="),P=null;if(0<=Q){var M=d[B].substring(0,Q);P=d[B].substring(Q+1)}else M=d[B];p(M,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function EA(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof EA){this.h=d.h,Nd(this,d.j),this.o=d.o,this.g=d.g,kd(this,d.s),this.l=d.l;var p=d.i,B=new Ul;B.i=p.i,p.g&&(B.g=new Map(p.g),B.h=p.h),JC(this,B),this.m=d.m}else d&&(p=String(d).match(YC))?(this.h=!1,Nd(this,p[1]||"",!0),this.o=Tl(p[2]||""),this.g=Tl(p[3]||"",!0),kd(this,p[4]),this.l=Tl(p[5]||"",!0),JC(this,p[6]||"",!0),this.m=Tl(p[7]||"")):(this.h=!1,this.i=new Ul(null,this.h))}EA.prototype.toString=function(){var d=[],p=this.j;p&&d.push(Il(p,ZC,!0),":");var B=this.g;return(B||p=="file")&&(d.push("//"),(p=this.o)&&d.push(Il(p,ZC,!0),"@"),d.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&d.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&d.push("/"),d.push(Il(B,B.charAt(0)=="/"?qR:WR,!0))),(B=this.i.toString())&&d.push("?",B),(B=this.m)&&d.push("#",Il(B,YR)),d.join("")};function Bs(d){return new EA(d)}function Nd(d,p,B){d.j=B?Tl(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function kd(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function JC(d,p,B){p instanceof Ul?(d.i=p,JR(d.i,d.h)):(B||(p=Il(p,XR)),d.i=new Ul(p,d.h))}function it(d,p,B){d.i.set(p,B)}function Rd(d){return it(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tl(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Il(d,p,B){return typeof d=="string"?(d=encodeURI(d).replace(p,$R),B&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function $R(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ZC=/[#\/\?@]/g,WR=/[#\?:]/g,qR=/[#\?]/g,XR=/[#\?@]/g,YR=/#/g;function Ul(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function Ai(d){d.g||(d.g=new Map,d.h=0,d.i&&GR(d.i,function(p,B){d.add(decodeURIComponent(p.replace(/\+/g," ")),B)}))}t=Ul.prototype,t.add=function(d,p){Ai(this),this.i=null,d=Ua(this,d);var B=this.g.get(d);return B||this.g.set(d,B=[]),B.push(p),this.h+=1,this};function eE(d,p){Ai(d),p=Ua(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function tE(d,p){return Ai(d),p=Ua(d,p),d.g.has(p)}t.forEach=function(d,p){Ai(this),this.g.forEach(function(B,Q){B.forEach(function(P){d.call(p,P,Q,this)},this)},this)},t.na=function(){Ai(this);const d=Array.from(this.g.values()),p=Array.from(this.g.keys()),B=[];for(let Q=0;Q<p.length;Q++){const P=d[Q];for(let M=0;M<P.length;M++)B.push(p[Q])}return B},t.V=function(d){Ai(this);let p=[];if(typeof d=="string")tE(this,d)&&(p=p.concat(this.g.get(Ua(this,d))));else{d=Array.from(this.g.values());for(let B=0;B<d.length;B++)p=p.concat(d[B])}return p},t.set=function(d,p){return Ai(this),this.i=null,d=Ua(this,d),tE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=this.V(d),0<d.length?String(d[0]):p):p};function nE(d,p,B){eE(d,p),0<B.length&&(d.i=null,d.g.set(Ua(d,p),y(B)),d.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(var B=0;B<p.length;B++){var Q=p[B];const M=encodeURIComponent(String(Q)),Z=this.V(Q);for(Q=0;Q<Z.length;Q++){var P=M;Z[Q]!==""&&(P+="="+encodeURIComponent(String(Z[Q]))),d.push(P)}}return this.i=d.join("&")};function Ua(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function JR(d,p){p&&!d.j&&(Ai(d),d.i=null,d.g.forEach(function(B,Q){var P=Q.toLowerCase();Q!=P&&(eE(this,Q),nE(this,P,B))},d)),d.j=p}function ZR(d,p){const B=new _l;if(a.Image){const Q=new Image;Q.onload=g(ai,B,"TestLoadImage: loaded",!0,p,Q),Q.onerror=g(ai,B,"TestLoadImage: error",!1,p,Q),Q.onabort=g(ai,B,"TestLoadImage: abort",!1,p,Q),Q.ontimeout=g(ai,B,"TestLoadImage: timeout",!1,p,Q),a.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=d}else p(!1)}function eD(d,p){const B=new _l,Q=new AbortController,P=setTimeout(()=>{Q.abort(),ai(B,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:Q.signal}).then(M=>{clearTimeout(P),M.ok?ai(B,"TestPingServer: ok",!0,p):ai(B,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),ai(B,"TestPingServer: error",!1,p)})}function ai(d,p,B,Q,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),Q(B)}catch{}}function tD(){this.g=new PR}function nD(d,p,B){const Q=B||"";try{XC(d,function(P,M){let Z=P;c(P)&&(Z=Ta(P)),p.push(Q+M+"="+encodeURIComponent(Z))})}catch(P){throw p.push(Q+"type="+encodeURIComponent("_badmap")),P}}function Dd(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Dd,gm),Dd.prototype.g=function(){return new Pd(this.l,this.j)},Dd.prototype.i=function(d){return function(){return d}}({});function Pd(d,p){Qe.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Pd,Qe),t=Pd.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,Sl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function rE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?Fl(this):Sl(this),this.readyState==3&&rE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Fl(this))},t.Qa=function(d){this.g&&(this.response=d,Fl(this))},t.ga=function(){this.g&&Fl(this)};function Fl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Sl(d)}t.setRequestHeader=function(d,p){this.u.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var B=p.next();!B.done;)B=B.value,d.push(B[0]+": "+B[1]),B=p.next();return d.join(`\r
`)};function Sl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function sE(d){let p="";return N(d,function(B,Q){p+=Q,p+=":",p+=B,p+=`\r
`}),p}function bm(d,p,B){e:{for(Q in B){var Q=!1;break e}Q=!0}Q||(B=sE(B),typeof d=="string"?B!=null&&encodeURIComponent(String(B)):it(d,p,B))}function yt(d){Qe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(yt,Qe);var rD=/^https?$/i,sD=["POST","PUT"];t=yt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,p,B,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vm.g(),this.v=this.o?NC(this.o):NC(vm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(M){iE(this,M);return}if(d=B||"",B=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var P in Q)B.set(P,Q[P]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const M of Q.keys())B.set(M,Q.get(M));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(B.keys()).find(M=>M.toLowerCase()=="content-type"),P=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sD,p,void 0))||Q||P||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,Z]of B)this.g.setRequestHeader(M,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oE(this),this.u=!0,this.g.send(d),this.u=!1}catch(M){iE(this,M)}};function iE(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,AE(d),Ld(d)}function AE(d){d.A||(d.A=!0,ke(d,"complete"),ke(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ke(this,"complete"),ke(this,"abort"),Ld(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ld(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?aE(this):this.bb())},t.bb=function(){aE(this)};function aE(d){if(d.h&&typeof A<"u"&&(!d.v[1]||xs(d)!=4||d.Z()!=2)){if(d.u&&xs(d)==4)Td(d.Ea,0,d);else if(ke(d,"readystatechange"),xs(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var B;if(!(B=p)){var Q;if(Q=Z===0){var P=String(d.D).match(YC)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),Q=!rD.test(P?P.toLowerCase():"")}B=Q}if(B)ke(d,"complete"),ke(d,"success");else{d.m=6;try{var M=2<xs(d)?d.g.statusText:""}catch{M=""}d.l=M+" ["+d.Z()+"]",AE(d)}}finally{Ld(d)}}}}function Ld(d,p){if(d.g){oE(d);const B=d.g,Q=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||ke(d,"ready");try{B.onreadystatechange=Q}catch{}}}function oE(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function xs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<xs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),DR(p)}};function lE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function iD(d){const p={};d=(d.g&&2<=xs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<d.length;Q++){if(v(d[Q]))continue;var B=k(d[Q]);const P=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const M=p[P]||[];p[P]=M,M.push(B)}b(p,function(Q){return Q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ql(d,p,B){return B&&B.internalChannelParams&&B.internalChannelParams[d]||p}function cE(d){this.Aa=0,this.i=[],this.j=new _l,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ql("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ql("baseRetryDelayMs",5e3,d),this.cb=Ql("retryDelaySeedMs",1e4,d),this.Wa=Ql("forwardChannelMaxRetries",2,d),this.wa=Ql("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new zC(d&&d.concurrentRequestLimit),this.Da=new tD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cE.prototype,t.la=8,t.G=1,t.connect=function(d,p,B,Q){Tn(0),this.W=d,this.H=p||{},B&&Q!==void 0&&(this.H.OSID=B,this.H.OAID=Q),this.F=this.X,this.I=vE(this,null,this.W),Md(this)};function Tm(d){if(uE(d),d.G==3){var p=d.U++,B=Bs(d.I);if(it(B,"SID",d.K),it(B,"RID",p),it(B,"TYPE","terminate"),Nl(d,B),p=new ii(d,d.j,p),p.L=2,p.v=Rd(Bs(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=p.v,B=!0),B||(p.g=wE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Qd(p)}yE(d)}function jd(d){d.g&&(Um(d),d.g.cancel(),d.g=null)}function uE(d){jd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Od(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Md(d){if(!GC(d.h)&&!d.s){d.s=!0;var p=d.Ga;J||W(),L||(J(),L=!0),H.add(p,d),d.B=0}}function AD(d,p){return $C(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=p.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=El(f(d.Ga,d,p),mE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const P=new ii(this,this.j,d);let M=this.o;if(this.S&&(M?(M=C(M),I(M,this.S)):M=this.S),this.m!==null||this.O||(P.H=M,M=null),this.P)e:{for(var p=0,B=0;B<this.i.length;B++){t:{var Q=this.i[B];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(p+=Q,4096<p){p=B;break e}if(p===4096||B===this.i.length-1){p=B+1;break e}}p=1e3}else p=1e3;p=hE(this,P,p),B=Bs(this.I),it(B,"RID",d),it(B,"CVER",22),this.D&&it(B,"X-HTTP-Session-Id",this.D),Nl(this,B),M&&(this.O?p="headers="+encodeURIComponent(String(sE(M)))+"&"+p:this.m&&bm(B,this.m,M)),_m(this.h,P),this.Ua&&it(B,"TYPE","init"),this.P?(it(B,"$req",p),it(B,"SID","null"),P.T=!0,Bm(P,B,null)):Bm(P,B,p),this.G=2}}else this.G==3&&(d?dE(this,d):this.i.length==0||GC(this.h)||dE(this))};function dE(d,p){var B;p?B=p.l:B=d.U++;const Q=Bs(d.I);it(Q,"SID",d.K),it(Q,"RID",B),it(Q,"AID",d.T),Nl(d,Q),d.m&&d.o&&bm(Q,d.m,d.o),B=new ii(d,d.j,B,d.B+1),d.m===null&&(B.H=d.o),p&&(d.i=p.D.concat(d.i)),p=hE(d,B,1e3),B.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),_m(d.h,B),Bm(B,Q,p)}function Nl(d,p){d.H&&N(d.H,function(B,Q){it(p,Q,B)}),d.l&&XC({},function(B,Q){it(p,Q,B)})}function hE(d,p,B){B=Math.min(d.i.length,B);var Q=d.l?f(d.l.Na,d.l,d):null;e:{var P=d.i;let M=-1;for(;;){const Z=["count="+B];M==-1?0<B?(M=P[0].g,Z.push("ofs="+M)):M=0:Z.push("ofs="+M);let Ze=!0;for(let Wt=0;Wt<B;Wt++){let Me=P[Wt].g;const un=P[Wt].map;if(Me-=M,0>Me)M=Math.max(0,P[Wt].g-100),Ze=!1;else try{nD(un,Z,"req"+Me+"_")}catch{Q&&Q(un)}}if(Ze){Q=Z.join("&");break e}}}return d=d.i.splice(0,B),p.D=d,Q}function fE(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;J||W(),L||(J(),L=!0),H.add(p,d),d.v=0}}function Im(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=El(f(d.Fa,d),mE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,pE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=El(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),jd(this),pE(this))};function Um(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function pE(d){d.g=new ii(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var p=Bs(d.qa);it(p,"RID","rpc"),it(p,"SID",d.K),it(p,"AID",d.T),it(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&it(p,"TO",d.ja),it(p,"TYPE","xmlhttp"),Nl(d,p),d.m&&d.o&&bm(p,d.m,d.o),d.L&&(d.g.I=d.L);var B=d.g;d=d.ia,B.L=1,B.v=Rd(Bs(p)),B.m=null,B.P=!0,VC(B,d)}t.Za=function(){this.C!=null&&(this.C=null,jd(this),Im(this),Tn(19))};function Od(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function gE(d,p){var B=null;if(d.g==p){Od(d),Um(d),d.g=null;var Q=2}else if(Em(d.h,p))B=p.D,WC(d.h,p),Q=1;else return;if(d.G!=0){if(p.o)if(Q==1){B=p.m?p.m.length:0,p=Date.now()-p.F;var P=d.B;Q=Ud(),ke(Q,new LC(Q,B)),Md(d)}else fE(d);else if(P=p.s,P==3||P==0&&0<p.X||!(Q==1&&AD(d,p)||Q==2&&Im(d)))switch(B&&0<B.length&&(p=d.h,p.i=p.i.concat(B)),P){case 1:_A(d,5);break;case 4:_A(d,10);break;case 3:_A(d,6);break;default:_A(d,2)}}}function mE(d,p){let B=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(B*=2),B*p}function _A(d,p){if(d.j.info("Error code "+p),p==2){var B=f(d.fb,d),Q=d.Xa;const P=!Q;Q=new EA(Q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nd(Q,"https"),Rd(Q),P?ZR(Q.toString(),B):eD(Q.toString(),B)}else Tn(2);d.G=0,d.l&&d.l.sa(p),yE(d),uE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function yE(d){if(d.G=0,d.ka=[],d.l){const p=qC(d.h);(p.length!=0||d.i.length!=0)&&(E(d.ka,p),E(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function vE(d,p,B){var Q=B instanceof EA?Bs(B):new EA(B);if(Q.g!="")p&&(Q.g=p+"."+Q.g),kd(Q,Q.s);else{var P=a.location;Q=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;var M=new EA(null);Q&&Nd(M,Q),p&&(M.g=p),P&&kd(M,P),B&&(M.l=B),Q=M}return B=d.D,p=d.ya,B&&p&&it(Q,B,p),it(Q,"VER",d.la),Nl(d,Q),Q}function wE(d,p,B){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Ca&&!d.pa?new yt(new Dd({eb:B})):new yt(d.pa),p.Ha(d.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BE(){}t=BE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vd(){}Vd.prototype.g=function(d,p){return new qn(d,p)};function qn(d,p){Qe.call(this),this.g=new cE(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!v(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new Fa(this)}m(qn,Qe),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Tm(this.g)},qn.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var B={};B.__data__=d,d=B}else this.u&&(B={},B.__data__=Ta(d),d=B);p.i.push(new HR(p.Ya++,d)),p.G==3&&Md(p)},qn.prototype.N=function(){this.g.l=null,delete this.j,Tm(this.g),delete this.g,qn.aa.N.call(this)};function xE(d){mm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const B in p){d=B;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}m(xE,mm);function CE(){ym.call(this),this.status=1}m(CE,ym);function Fa(d){this.g=d}m(Fa,BE),Fa.prototype.ua=function(){ke(this.g,"a")},Fa.prototype.ta=function(d){ke(this.g,new xE(d))},Fa.prototype.sa=function(d){ke(this.g,new CE)},Fa.prototype.ra=function(){ke(this.g,"b")},Vd.prototype.createWebChannel=Vd.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,b2=function(){return new Vd},_2=function(){return Ud()},E2=xA,cv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fd.NO_ERROR=0,Fd.TIMEOUT=8,Fd.HTTP_ERROR=6,of=Fd,jC.COMPLETE="complete",C2=jC,kC.EventType=xl,xl.OPEN="a",xl.CLOSE="b",xl.ERROR="c",xl.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,rc=kC,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,x2=yt}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const p1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new TB("@firebase/firestore");function Vl(){return ia.logLevel}function de(t,...e){if(ia.logLevel<=Ne.DEBUG){const n=e.map(LB);ia.debug(`Firestore (${ll}): ${t}`,...n)}}function qs(t,...e){if(ia.logLevel<=Ne.ERROR){const n=e.map(LB);ia.error(`Firestore (${ll}): ${t}`,...n)}}function Oo(t,...e){if(ia.logLevel<=Ne.WARN){const n=e.map(LB);ia.warn(`Firestore (${ll}): ${t}`,...n)}}function LB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+t;throw qs(e),new Error(e)}function je(t,e){t||ve()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class xH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CH{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const s=o=>this.i!==r?(r=this.i,n(o)):Promise.resolve();let i=new is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new is,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const o=i;e.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},a=o=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new is)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new T2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new yn(e)}}class EH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _H{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new EH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,de("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new bH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=IH(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Vt(0,0))}static max(){return new xe(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),A=n.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends fu{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const UH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends fu{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return UH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new te(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(r+=a,s++):(i(),s++)}if(i(),A)throw new te(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Xe.fromString(e))}static fromName(e){return new pe(Xe.fromString(e).popFirst(5))}static empty(){return new pe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Xe(e.slice()))}}function FH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Yi(s,pe.empty(),e)}function SH(t){return new Yi(t.readTime,t.key,-1)}class Yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yi(xe.min(),pe.empty(),-1)}static max(){return new Yi(xe.max(),pe.empty(),-1)}}function QH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==NH)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&n()},o=>r(o))}),A=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,A=new Array(i);let a=0;for(let o=0;o<i;o++){const c=o;n(e[c]).next(u=>{A[c]=u,++a,a===i&&r(A)},u=>s(u))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function RH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ad(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jB.oe=-1;function ad(t){return t==null}function ip(t){return t===0&&1/t==-1/0}function DH(t){return typeof t=="number"&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function U2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=s??Jt.EMPTY,this.right=i??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m1(this.data.getIterator())}getIteratorFrom(e){return new m1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class m1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new rn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new F2("Invalid base64 string: "+i):i}}(e);return new on(n)}static fromUint8Array(e){const n=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const PH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(je(!!t),typeof t=="string"){let e=0;const n=PH.exec(t);if(je(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Aa(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function MB(t){const e=t.mapValue.fields.__previous_value__;return xg(e)?MB(e):e}function pu(t){const e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n,r,s,i,A,a,o,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=c}}class gu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xg(t)?4:MH(t)?9007199254740991:jH(t)?10:11:ve()}function cs(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Ji(s.timestampValue),a=Ji(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Aa(s.bytesValue).isEqual(Aa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return It(s.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return It(s.integerValue)===It(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=It(s.doubleValue),a=It(i.doubleValue);return A===a?ip(A)===ip(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if(g1(A)!==g1(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!cs(A[o],a[o])))return!1;return!0}(t,e);default:return ve()}}function mu(t,e){return(t.values||[]).find(n=>cs(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=It(i.integerValue||i.doubleValue),o=It(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return y1(t.timestampValue,e.timestampValue);case 4:return y1(pu(t),pu(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,A){const a=Aa(i),o=Aa(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),o=A.split("/");for(let c=0;c<a.length&&c<o.length;c++){const u=Oe(a[c],o[c]);if(u!==0)return u}return Oe(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=Oe(It(i.latitude),It(A.latitude));return a!==0?a:Oe(It(i.longitude),It(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return v1(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,o,c,u;const h=i.fields||{},f=A.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=Oe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:v1(g,m)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===ch.mapValue&&A===ch.mapValue)return 0;if(i===ch.mapValue)return 1;if(A===ch.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),c=A.fields||{},u=Object.keys(c);o.sort(),u.sort();for(let h=0;h<o.length&&h<u.length;++h){const f=Oe(o[h],u[h]);if(f!==0)return f;const g=Ho(a[o[h]],c[u[h]]);if(g!==0)return g}return Oe(o.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function y1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ji(t),r=Ji(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function v1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ho(n[s],r[s]);if(i)return i}return Oe(n.length,r.length)}function Ko(t){return uv(t)}function uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Aa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=uv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const A of r)i?i=!1:s+=",",s+=`${A}:${uv(n.fields[A])}`;return s+"}"}(t.mapValue):ve()}function Ap(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dv(t){return!!t&&"integerValue"in t}function OB(t){return!!t&&"arrayValue"in t}function w1(t){return!!t&&"nullValue"in t}function B1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lf(t){return!!t&&"mapValue"in t}function jH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ya(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Zt.emptyPath(),r={},s=[];e.forEach((A,a)=>{if(!n.isImmediateParentOf(a)){const o=this.getFieldsMap(n);this.applyChanges(o,r,s),r={},s=[],n=a.popLast()}A?r[a.lastSegment()]=Sc(A):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ya(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Qn(Sc(this.value))}}function S2(t){const e=[];return ya(t.fields,(n,r)=>{const s=new Zt([n]);if(lf(r)){const i=S2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,s,i,A,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,xe.min(),xe.min(),xe.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,xe.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,xe.min(),xe.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,xe.min(),xe.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.position=e,this.inclusive=n}}function x1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(A.referenceValue),n.key):r=Ho(A,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function C1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n="asc"){this.field=e,this.dir=n}}function OH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q2=class{};class Pt extends Q2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HH(e,n,r):n==="array-contains"?new GH(e,r):n==="in"?new $H(e,r):n==="not-in"?new WH(e,r):n==="array-contains-any"?new qH(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KH(e,r):new zH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ho(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends Q2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jr(e,n)}matches(e){return N2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function N2(t){return t.op==="and"}function k2(t){return VH(t)&&N2(t)}function VH(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function hv(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(k2(t))return t.filters.map(e=>hv(e)).join(",");{const e=t.filters.map(n=>hv(n)).join(",");return`${t.op}(${e})`}}function R2(t,e){return t instanceof Pt?function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&cs(r.value,s.value)}(t,e):t instanceof jr?function(r,s){return s instanceof jr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,A,a)=>i&&R2(A,s.filters[a]),!0):!1}(t,e):void ve()}function D2(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(D2).join(" ,")+"}"}(t):"Filter"}class HH extends Pt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class KH extends Pt{constructor(e,n){super(e,"in",n),this.keys=P2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zH extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=P2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function P2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class GH extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return OB(n)&&mu(n.arrayValue,this.value)}}class $H extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class WH extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!mu(this.value.arrayValue,n)}}class qH extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!OB(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,n=null,r=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function E1(t,e=null,n=[],r=[],s=null,i=null,A=null){return new XH(t,e,n,r,s,i,A)}function VB(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.ue=n}return e.ue}function HB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C1(t.startAt,e.startAt)&&C1(t.endAt,e.endAt)}function fv(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n=null,r=[],s=[],i=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function YH(t,e,n,r,s,i,A,a){return new va(t,e,n,r,s,i,A,a)}function Cg(t){return new va(t)}function _1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KB(t){return t.collectionGroup!==null}function _o(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new rn(Zt.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new yu(i,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new yu(Zt.keyField(),r))}return e.ce}function As(t){const e=_e(t);return e.le||(e.le=JH(e,_o(t))),e.le}function JH(t,e){if(t.limitType==="F")return E1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yu(s.field,i)});const n=t.endAt?new zo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zo(t.startAt.position,t.startAt.inclusive):null;return E1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pv(t,e){const n=t.filters.concat([e]);return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ap(t,e,n){return new va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eg(t,e){return HB(As(t),As(e))&&t.limitType===e.limitType}function L2(t){return`${VB(As(t))}|lt:${t.limitType}`}function Oa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>D2(s)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ko(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ko(s)).join(",")),`Target(${r})`}(As(t))}; limitType=${t.limitType})`}function _g(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of _o(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(A,a,o){const c=x1(A,a,o);return A.inclusive?c<=0:c<0}(r.startAt,_o(r),s)||r.endAt&&!function(A,a,o){const c=x1(A,a,o);return A.inclusive?c>=0:c>0}(r.endAt,_o(r),s))}(t,e)}function ZH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j2(t){return(e,n)=>{let r=!1;for(const s of _o(t)){const i=e3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function e3(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(i,A,a){const o=A.data.field(i),c=a.data.field(i);return o!==null&&c!==null?Ho(o,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return U2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new mt(pe.comparator);function Xs(){return t3}const M2=new mt(pe.comparator);function sc(...t){let e=M2;for(const n of t)e=e.insert(n.key,n);return e}function O2(t){let e=M2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function LA(){return Qc()}function V2(){return Qc()}function Qc(){return new cl(t=>t.toString(),(t,e)=>t.isEqual(e))}const n3=new mt(pe.comparator),r3=new rn(pe.comparator);function Se(...t){let e=r3;for(const n of t)e=e.add(n);return e}const s3=new rn(Oe);function i3(){return s3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function H2(t){return{integerValue:""+t}}function A3(t,e){return DH(e)?H2(e):zB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(){this._=void 0}}function a3(t,e,n){return t instanceof vu?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xg(i)&&(i=MB(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(n,e):t instanceof wu?z2(t,e):t instanceof Bu?G2(t,e):function(s,i){const A=K2(s,i),a=b1(A)+b1(s.Pe);return dv(A)&&dv(s.Pe)?H2(a):zB(s.serializer,a)}(t,e)}function o3(t,e,n){return t instanceof wu?z2(t,e):t instanceof Bu?G2(t,e):n}function K2(t,e){return t instanceof op?function(r){return dv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vu extends bg{}class wu extends bg{constructor(e){super(),this.elements=e}}function z2(t,e){const n=$2(e);for(const r of t.elements)n.some(s=>cs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Bu extends bg{constructor(e){super(),this.elements=e}}function G2(t,e){let n=$2(e);for(const r of t.elements)n=n.filter(s=>!cs(s,r));return{arrayValue:{values:n}}}class op extends bg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function b1(t){return It(t.integerValue||t.doubleValue)}function $2(t){return OB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.field=e,this.transform=n}}function c3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wu&&s instanceof wu||r instanceof Bu&&s instanceof Bu?Vo(r.elements,s.elements,cs):r instanceof op&&s instanceof op?cs(r.Pe,s.Pe):r instanceof vu&&s instanceof vu}(t.transform,e.transform)}class u3{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tg{}function W2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ig(t.key,en.none()):new od(t.key,t.data,en.none());{const n=t.data,r=Qn.empty();let s=new rn(Zt.comparator);for(let i of e.fields)if(!s.has(i)){let A=n.field(i);A===null&&i.length>1&&(i=i.popLast(),A=n.field(i)),A===null?r.delete(i):r.set(i,A),s=s.add(i)}return new pA(t.key,r,new Zn(s.toArray()),en.none())}}function d3(t,e,n){t instanceof od?function(s,i,A){const a=s.value.clone(),o=I1(s.fieldTransforms,i,A.transformResults);a.setAll(o),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pA?function(s,i,A){if(!cf(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=I1(s.fieldTransforms,i,A.transformResults),o=i.data;o.setAll(q2(s)),o.setAll(a),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,n):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,n)}function Nc(t,e,n,r){return t instanceof od?function(i,A,a,o){if(!cf(i.precondition,A))return a;const c=i.value.clone(),u=U1(i.fieldTransforms,o,A);return c.setAll(u),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof pA?function(i,A,a,o){if(!cf(i.precondition,A))return a;const c=U1(i.fieldTransforms,o,A),u=A.data;return u.setAll(q2(i)),u.setAll(c),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,A,a){return cf(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,n)}function h3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=K2(r.transform,s||null);i!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,i))}return n||null}function T1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vo(r,s,(i,A)=>c3(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends Tg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pA extends Tg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function q2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I1(t,e,n){const r=new Map;je(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);r.set(i.field,o3(A,a,n[s]))}return r}function U1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,A=n.data.field(s.field);r.set(s.field,a3(i,A,e))}return r}class Ig extends Tg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X2 extends Tg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&d3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V2();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=n.has(s.key)?null:a;const o=W2(A,a);o!==null&&r.set(s.key,o),A.isValidDocument()||A.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>T1(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>T1(n,r))}}class GB{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length);let s=function(){return n3}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,r[A].version);return new GB(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Re;function Y2(t){switch(t){default:return ve();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function J2(t){if(t===void 0)return qs("GRPC error has no .code"),V.UNKNOWN;switch(t){case Nt.OK:return V.OK;case Nt.CANCELLED:return V.CANCELLED;case Nt.UNKNOWN:return V.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return V.INTERNAL;case Nt.UNAVAILABLE:return V.UNAVAILABLE;case Nt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Nt.NOT_FOUND:return V.NOT_FOUND;case Nt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Nt.ABORTED:return V.ABORTED;case Nt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Nt.DATA_LOSS:return V.DATA_LOSS;default:return ve()}}(Re=Nt||(Nt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new GA([4294967295,4294967295],0);function F1(t){const e=m3().encode(t),n=new B2;return n.update(e),new Uint8Array(n.digest())}function S1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new GA([n,r],0),new GA([s,i],0)]}class $B{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=GA.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(GA.fromNumber(r)));return s.compare(y3)===1&&(s=new GA([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=F1(e),[r,s]=S1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);if(!this.de(A))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new $B(i,s,n);return r.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const n=F1(e),[r,s]=S1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);this.Ae(A)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ug(xe.min(),s,new mt(Oe),Xs(),Se())}}class ld{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ld(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Z2{constructor(e,n){this.targetId=e,this.me=n}}class eQ{constructor(e,n,r=on.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Q1{constructor(){this.fe=0,this.ge=k1(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ve()}}),new ld(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=k1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class v3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xs(),this.qe=N1(),this.Qe=new mt(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(fv(i))if(r===0){const A=new pe(i.path);this.Ue(n,A,Gt.newNoDocument(A,xe.min()))}else je(r===1);else{const A=this.Ye(n);if(A!==r){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(n);const c=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let A,a;try{A=Aa(r).toUint8Array()}catch(o){if(o instanceof F2)return Oo("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new $B(A,s,i)}catch(o){return Oo(o instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&fv(a.target)){const o=new pe(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,Gt.newNoDocument(o,e))}i.be&&(n.set(A,i.ve()),i.Ce())}});let r=Se();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(o=>{const c=this.Je(o);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new Ug(e,n,this.Qe,this.ke,r);return this.ke=Xs(),this.qe=N1(),this.Qe=new mt(Oe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Q1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rn(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Q1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function N1(){return new mt(pe.comparator)}function k1(){return new mt(pe.comparator)}const w3={asc:"ASCENDING",desc:"DESCENDING"},B3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x3={and:"AND",or:"OR"};class C3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gv(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E3(t,e){return lp(t,e.toTimestamp())}function nr(t){return je(!!t),xe.fromTimestamp(function(n){const r=Ji(n);return new Vt(r.seconds,r.nanos)}(t))}function WB(t,e){return mv(t,e).canonicalString()}function mv(t,e){const n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nQ(t){const e=Xe.fromString(t);return je(oQ(e)),e}function cp(t,e){return WB(t.databaseId,e.path)}function kc(t,e){const n=nQ(e);if(n.get(1)!==t.databaseId.projectId)throw new te(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(sQ(n))}function rQ(t,e){return WB(t.databaseId,e)}function _3(t){const e=nQ(t);return e.length===4?Xe.emptyPath():sQ(e)}function yv(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sQ(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R1(t,e,n){return{name:cp(t,e),fields:n.value.mapValue.fields}}function b3(t,e){return"found"in e?function(r,s){je(!!s.found),s.found.name,s.found.updateTime;const i=kc(r,s.found.name),A=nr(s.found.updateTime),a=s.found.createTime?nr(s.found.createTime):xe.min(),o=new Qn({mapValue:{fields:s.found.fields}});return Gt.newFoundDocument(i,A,a,o)}(t,e):"missing"in e?function(r,s){je(!!s.missing),je(!!s.readTime);const i=kc(r,s.missing),A=nr(s.readTime);return Gt.newNoDocument(i,A)}(t,e):ve()}function T3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(je(u===void 0||typeof u=="string"),on.fromBase64String(u||"")):(je(u===void 0||u instanceof Buffer||u instanceof Uint8Array),on.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(c){const u=c.code===void 0?V.UNKNOWN:J2(c.code);return new te(u,c.message||"")}(A);n=new eQ(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kc(t,r.document.name),i=nr(r.document.updateTime),A=r.document.createTime?nr(r.document.createTime):xe.min(),a=new Qn({mapValue:{fields:r.document.fields}}),o=Gt.newFoundDocument(s,i,A,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new uf(c,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kc(t,r.document),i=r.readTime?nr(r.readTime):xe.min(),A=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new uf([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kc(t,r.document),i=r.removedTargetIds||[];n=new uf([],i,s,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,A=new g3(s,i),a=r.targetId;n=new Z2(a,A)}}return n}function iQ(t,e){let n;if(e instanceof od)n={update:R1(t,e.key,e.value)};else if(e instanceof Ig)n={delete:cp(t,e.key)};else if(e instanceof pA)n={update:R1(t,e.key,e.data),updateMask:D3(e.fieldMask)};else{if(!(e instanceof X2))return ve();n={verify:cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,A){const a=A.transform;if(a instanceof vu)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wu)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bu)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof op)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:E3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()}(t,e.precondition)),n}function I3(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(s,i){let A=s.updateTime?nr(s.updateTime):nr(i);return A.isEqual(xe.min())&&(A=nr(i)),new u3(A,s.transformResults||[])}(n,e))):[]}function U3(t,e){return{documents:[rQ(t,e.path)]}}function F3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rQ(t,s);const i=function(c){if(c.length!==0)return aQ(jr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const A=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Va(f.field),direction:N3(f.dir)}}(u))}(e.orderBy);A&&(n.structuredQuery.orderBy=A);const a=gv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function S3(t){let e=_3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=AQ(h);return f instanceof jr&&k2(f)?f.getFilters():[f]}(n.where));let A=[];n.orderBy&&(A=function(h){return h.map(f=>function(m){return new yu(Ha(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ad(f)?null:f}(n.limit));let o=null;n.startAt&&(o=function(h){const f=!!h.before,g=h.values||[];return new zo(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new zo(g,f)}(n.endAt)),YH(e,s,A,i,a,"F",o,c)}function Q3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AQ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ha(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ha(n.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ha(n.unaryFilter.field);return Pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Ha(n.unaryFilter.field);return Pt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Ha(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>AQ(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function N3(t){return w3[t]}function k3(t){return B3[t]}function R3(t){return x3[t]}function Va(t){return{fieldPath:t.canonicalString()}}function Ha(t){return Zt.fromServerFormat(t.fieldPath)}function aQ(t){return t instanceof Pt?function(n){if(n.op==="=="){if(B1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(w1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(w1(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:k3(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(s=>aQ(s));return r.length===1?r[0]:{compositeFilter:{op:R3(n.op),filters:r}}}(t):ve()}function D3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oQ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,s,i=xe.min(),A=xe.min(),a=on.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.ct=e}}function L3(t){const e=S3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.un=new M3}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Yi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class M3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new rn(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rn(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Go(0)}static kn(){return new Go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.changes=new cl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nc(r.mutation,s,Zn.empty(),Vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const s=LA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let A=sc();return i.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,n){const r=LA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{n.set(A,a)})})}computeViews(e,n,r,s){let i=Xs();const A=Qc(),a=function(){return Qc()}();return n.forEach((o,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof pA)?i=i.insert(c.key,c):u!==void 0?(A.set(c.key,u.mutation.getFieldMask()),Nc(u.mutation,c,u.mutation.getFieldMask(),Vt.now())):A.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(o=>(o.forEach((c,u)=>A.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new V3(u,(h=A.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qc();let s=new mt((A,a)=>A-a),i=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(A=>{for(const a of A)a.keys().forEach(o=>{const c=n.get(o);if(c===null)return;let u=r.get(o)||Zn.empty();u=a.applyToLocalView(c,u),r.set(o,u);const h=(s.get(a.batchId)||Se()).add(o);s=s.insert(a.batchId,h)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),c=o.key,u=o.value,h=V2();u.forEach(f=>{if(!i.has(f)){const g=W2(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),A.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(A)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(A){return pe.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(LA());let a=-1,o=i;return A.next(c=>$.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{o=o.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,o,c,Se())).next(u=>({batchId:a,changes:O2(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let s=sc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let A=sc();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,o=>{const c=function(h,f){return new va(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,f)=>{A=A.insert(h,f)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(A=>{i.forEach((o,c)=>{const u=c.getKey();A.get(u)===null&&(A=A.insert(u,Gt.newInvalidDocument(u)))});let a=sc();return A.forEach((o,c)=>{const u=i.get(o);u!==void 0&&Nc(u.mutation,c,Zn.empty(),Vt.now()),_g(n,c)&&(a=a.insert(o,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:L3(s.bundledQuery),readTime:nr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.overlays=new mt(pe.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=LA();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=LA(),i=n.length+1,A=new pe(n.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,c=o.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&o.largestBatchId>r&&s.set(o.getKey(),o)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((c,u)=>c-u);const A=this.overlays.getIterator();for(;A.hasNext();){const c=A.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=LA(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=LA(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return $.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new p3(n,r));let i=this.Ir.get(n);i===void 0&&(i=Se(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.Tr=new rn(Kt.Er),this.dr=new rn(Kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Kt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new Xe([])),r=new Kt(n,e),s=new Kt(n,e+1),i=[];return this.dr.forEachInRange([r,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new Xe([])),r=new Kt(n,e),s=new Kt(n,e+1);let i=Se();return this.dr.forEachInRange([r,s],A=>{i=i.add(A.key)}),i}containsKey(e){const n=new Kt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||Oe(e.wr,n.wr)}static Ar(e,n){return Oe(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rn(Kt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new f3(i,n,r,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new Kt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(A)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),s=new Kt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],A=>{const a=this.Dr(A.wr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(Oe);return n.forEach(s=>{const i=new Kt(s,0),A=new Kt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const A=new Kt(new pe(i),0);let a=new rn(Oe);return this.br.forEachWhile(o=>{const c=o.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(o.wr)),!0)},A),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,s=>{const i=new Kt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Kt(n,0),s=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.Mr=e,this.docs=function(){return new mt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,A=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Xs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Xs();const A=n.path,a=new pe(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:c,value:{document:u}}=o.getNext();if(!A.isPrefixOf(c.path))break;c.path.length>A.length+1||QH(SH(u),r)<=0||(s.has(u.key)||_g(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ve()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q3(this)}getSize(e){return $.resolve(this.size)}}class q3 extends O3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.persistence=e,this.Nr=new cl(n=>VB(n),HB),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qB,this.targetCount=0,this.kr=Go.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Go(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new jB(0),this.Kr=!1,this.Kr=!0,this.$r=new G3,this.referenceDelegate=e(this),this.Ur=new X3(this),this.indexManager=new j3,this.remoteDocumentCache=function(s){return new W3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new P3(n),this.Gr=new K3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new J3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class J3 extends kH{constructor(e){super(),this.currentSequenceNumber=e}}class XB{constructor(e){this.persistence=e,this.Jr=new qB,this.Yr=null}static Zr(e){return new XB(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const s=pe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Se(),s=Se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new YB(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Yj()?8:RH(_n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new Z3;return this.Xi(e,n,A).next(a=>{if(i.result=a,this.zi)return this.es(e,n,A,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Vl()<=Ne.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Oa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Vl()<=Ne.DEBUG&&de("QueryEngine","Query:",Oa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Vl()<=Ne.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Oa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,As(n))):$.resolve())}Yi(e,n){if(_1(n))return $.resolve(null);let r=As(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ap(n,null,"F"),r=As(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const A=Se(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,r).next(o=>{const c=this.ts(n,a);return this.ns(n,c,A,o.readTime)?this.Yi(e,ap(n,null,"F")):this.rs(e,c,n,o)}))})))}Zi(e,n,r,s){return _1(n)||s.isEqual(xe.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const A=this.ts(n,i);return this.ns(n,A,r,s)?$.resolve(null):(Vl()<=Ne.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Oa(n)),this.rs(e,A,n,FH(s,-1)).next(a=>a))})}ts(e,n){let r=new rn(j2(e));return n.forEach((s,i)=>{_g(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Vl()<=Ne.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Oa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Yi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new mt(Oe),this._s=new cl(i=>VB(i),HB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function n6(t,e,n,r){return new t6(t,e,n,r)}async function lQ(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const A=[],a=[];let o=Se();for(const c of s){A.push(c.batchId);for(const u of c.mutations)o=o.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(c=>({hs:c,removedBatchIds:A,addedBatchIds:a}))})})}function r6(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,c,u){const h=c.batch,f=h.keys();let g=$.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(o,m)).next(y=>{const E=c.docVersions.get(m);je(E!==null),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(o=o.add(a.batch.mutations[c].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function cQ(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function s6(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(on.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(y,E,x){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let o=Xs(),c=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(i6(i,A,e.documentUpdates).next(u=>{o=u.Ps,c=u.Is})),!r.isEqual(xe.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>A.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,o,c)).next(()=>o)}).then(i=>(n.os=s,i))}function i6(t,e,n){let r=Se(),s=Se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let A=Xs();return n.forEach((a,o)=>{const c=i.get(a);o.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),o.isNoDocument()&&o.version.isEqual(xe.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!c.isValidDocument()||o.version.compareTo(c.version)>0||o.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",o.version)}),{Ps:A,Is:s}})}function A6(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a6(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Ur.allocateTargetId(r).next(A=>(s=new Fi(e,A,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function vv(t,e,n){const r=_e(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,A=>r.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!Ad(A))throw A;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function D1(t,e,n){const r=_e(t);let s=xe.min(),i=Se();return r.persistence.runTransaction("Execute query","readwrite",A=>function(o,c,u){const h=_e(o),f=h._s.get(u);return f!==void 0?$.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,A,As(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{i=o})}).next(()=>r.ss.getDocumentsMatchingQuery(A,e,n?s:xe.min(),n?i:Se())).next(a=>(o6(r,ZH(e),a),{documents:a,Ts:i})))}function o6(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class P1{constructor(){this.activeTargetIds=i3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l6{constructor(){this.so=new P1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new P1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function u0(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class h6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,A){const a=u0(),o=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${a}:`,o,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,A),this.No(n,o,c,s).then(u=>(de("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Oo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",o,"request:",s),u})}Lo(n,r,s,i,A,a){return this.Mo(n,r,s,i,A)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,A)=>n[A]=i),s&&s.headers.forEach((i,A)=>n[A]=i)}xo(n,r){const s=u6[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=u0();return new Promise((A,a)=>{const o=new x2;o.setWithCredentials(!0),o.listenOnce(C2.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case of.NO_ERROR:const u=o.getResponseJson();de(pn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),A(u);break;case of.TIMEOUT:de(pn,`RPC '${e}' ${i} timed out`),a(new te(V.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const h=o.getStatus();if(de(pn,`RPC '${e}' ${i} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(x)>=0?x:V.UNKNOWN}(g.status);a(new te(m,g.message))}else a(new te(V.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new te(V.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{de(pn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);de(pn,`RPC '${e}' ${i} sending request:`,s),o.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=u0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=b2(),a=_2(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=i.join("");de(pn,`Creating RPC '${e}' stream ${s}: ${u}`,o);const h=A.createWebChannel(u,o);let f=!1,g=!1;const m=new d6({Io:E=>{g?de(pn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(de(pn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),de(pn,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},To:()=>h.close()}),y=(E,x,v)=>{E.listen(x,w=>{try{v(w)}catch(F){setTimeout(()=>{throw F},0)}})};return y(h,rc.EventType.OPEN,()=>{g||(de(pn,`RPC '${e}' stream ${s} transport opened.`),m.yo())}),y(h,rc.EventType.CLOSE,()=>{g||(g=!0,de(pn,`RPC '${e}' stream ${s} transport closed`),m.So())}),y(h,rc.EventType.ERROR,E=>{g||(g=!0,Oo(pn,`RPC '${e}' stream ${s} transport errored:`,E),m.So(new te(V.UNAVAILABLE,"The operation could not be completed")))}),y(h,rc.EventType.MESSAGE,E=>{var x;if(!g){const v=E.data[0];je(!!v);const w=v,F=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(F){de(pn,`RPC '${e}' stream ${s} received error:`,F);const T=F.status;let N=function(_){const I=Nt[_];if(I!==void 0)return J2(I)}(T),b=F.message;N===void 0&&(N=V.INTERNAL,b="Unknown error status: "+T+" with message "+F.message),g=!0,m.So(new te(N,b)),h.close()}else de(pn,`RPC '${e}' stream ${s} received:`,v),m.bo(v)}}),y(a,E2.STAT_EVENT,E=>{E.stat===cv.PROXY?de(pn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===cv.NOPROXY&&de(pn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function d0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){return new C3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e,n,r,s,i,A,a,o){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new JB(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new te(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f6 extends uQ{constructor(e,n,r,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=T3(this.serializer,e),r=function(i){if(!("targetChange"in i))return xe.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?xe.min():A.readTime?nr(A.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=yv(this.serializer),n.addTarget=function(i,A){let a;const o=A.target;if(a=fv(o)?{documents:U3(i,o)}:{query:F3(i,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=tQ(i,A.resumeToken);const c=gv(i,A.expectedCount);c!==null&&(a.expectedCount=c)}else if(A.snapshotVersion.compareTo(xe.min())>0){a.readTime=lp(i,A.snapshotVersion.toTimestamp());const c=gv(i,A.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Q3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=yv(this.serializer),n.removeTarget=e,this.a_(n)}}class p6 extends uQ{constructor(e,n,r,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=I3(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=yv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iQ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new te(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,mv(n,r),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(V.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,mv(n,r),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new te(V.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class m6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qs(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{r.enqueueAndForget(async()=>{wa(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(o){const c=_e(o);c.L_.add(4),await cd(c),c.q_.set("Unknown"),c.L_.delete(4),await Sg(c)}(this))})}),this.q_=new m6(r,s)}}async function Sg(t){if(wa(t))for(const e of t.B_)await e(!0)}async function cd(t){for(const e of t.B_)await e(!1)}function dQ(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),nx(n)?tx(n):ul(n).r_()&&ex(n,e))}function ZB(t,e){const n=_e(t),r=ul(n);n.N_.delete(e),r.r_()&&hQ(n,e),n.N_.size===0&&(r.r_()?r.o_():wa(n)&&n.q_.set("Unknown"))}function ex(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).A_(e)}function hQ(t,e){t.Q_.xe(e),ul(t).R_(e)}function tx(t){t.Q_=new v3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.q_.v_()}function nx(t){return wa(t)&&!ul(t).n_()&&t.N_.size>0}function wa(t){return _e(t).L_.size===0}function fQ(t){t.Q_=void 0}async function v6(t){t.q_.set("Online")}async function w6(t){t.N_.forEach((e,n)=>{ex(t,e)})}async function B6(t,e){fQ(t),nx(t)?(t.q_.M_(e),tx(t)):t.q_.set("Unknown")}async function x6(t,e,n){if(t.q_.set("Online"),e instanceof eQ&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await up(t,r)}else if(e instanceof uf?t.Q_.Ke(e):e instanceof Z2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await cQ(t.localStore);n.compareTo(r)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((o,c)=>{if(o.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,c)=>{const u=i.N_.get(o);if(!u)return;i.N_.set(o,u.withResumeToken(on.EMPTY_BYTE_STRING,u.snapshotVersion)),hQ(i,o);const h=new Fi(u.target,o,c,u.sequenceNumber);ex(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await up(t,r)}}async function up(t,e,n){if(!Ad(e))throw e;t.L_.add(1),await cd(t),t.q_.set("Offline"),n||(n=()=>cQ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Sg(t)})}function pQ(t,e){return e().catch(n=>up(t,n,e))}async function Qg(t){const e=_e(t),n=Zi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;C6(e);)try{const s=await A6(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,E6(e,s)}catch(s){await up(e,s)}gQ(e)&&mQ(e)}function C6(t){return wa(t)&&t.O_.length<10}function E6(t,e){t.O_.push(e);const n=Zi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function gQ(t){return wa(t)&&!Zi(t).n_()&&t.O_.length>0}function mQ(t){Zi(t).start()}async function _6(t){Zi(t).p_()}async function b6(t){const e=Zi(t);for(const n of t.O_)e.m_(n.mutations)}async function T6(t,e,n){const r=t.O_.shift(),s=GB.from(r,e,n);await pQ(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Qg(t)}async function I6(t,e){e&&Zi(t).V_&&await async function(r,s){if(function(A){return Y2(A)&&A!==V.ABORTED}(s.code)){const i=r.O_.shift();Zi(r).s_(),await pQ(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Qg(r)}}(t,e),gQ(t)&&mQ(t)}async function j1(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=wa(n);n.L_.add(3),await cd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Sg(n)}async function U6(t,e){const n=_e(t);e?(n.L_.delete(2),await Sg(n)):e||(n.L_.add(2),await cd(n),n.q_.set("Unknown"))}function ul(t){return t.K_||(t.K_=function(n,r,s){const i=_e(n);return i.w_(),new f6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:v6.bind(null,t),Ro:w6.bind(null,t),mo:B6.bind(null,t),d_:x6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nx(t)?tx(t):t.q_.set("Unknown")):(await t.K_.stop(),fQ(t))})),t.K_}function Zi(t){return t.U_||(t.U_=function(n,r,s){const i=_e(n);return i.w_(),new p6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_6.bind(null,t),mo:I6.bind(null,t),f_:b6.bind(null,t),g_:T6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Qg(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const A=Date.now()+r,a=new rx(e,n,A,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sx(t,e){if(qs("AsyncQueue",`${e}: ${t}`),Ad(t))return new te(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.W_=new mt(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $o{constructor(e,n,r,s,i,A,a,o,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const A=[];return n.forEach(a=>{A.push({type:0,doc:a})}),new $o(e,n,bo.emptySet(n),A,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class S6{constructor(){this.queries=O1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=_e(n),i=s.queries;s.queries=O1(),i.forEach((A,a)=>{for(const o of a.j_)o.onError(r)})})(this,new te(V.ABORTED,"Firestore shutting down"))}}function O1(){return new cl(t=>L2(t),Eg)}async function ix(t,e){const n=_e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new F6,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(A){const a=sx(A,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&ax(n)}async function Ax(t,e){const n=_e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Q6(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,A=n.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(r=!0);A.z_=s}}r&&ax(n)}function N6(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function ax(t){t.Y_.forEach(e=>{e.next()})}var wv,V1;(V1=wv||(wv={})).ea="default",V1.Cache="cache";class ox{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e){this.key=e}}class vQ{constructor(e){this.key=e}}class k6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=j2(e),this.Ra=new bo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new M1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,A=s,a=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),g=_g(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?m!==y&&(r.track({type:3,doc:g}),E=!0):this.ga(f,g)||(r.track({type:2,doc:g}),E=!0,(o&&this.Aa(g,o)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),E=!0):f&&!g&&(r.track({type:1,doc:f}),E=!0,(o||c)&&(a=!0)),E&&(g?(A=A.add(g),i=y?i.add(u):i.delete(u)):(A=A.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:A,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,h)=>function(g,m){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return y(g)-y(m)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,c=o!==this.Ea;return this.Ea=o,A.length!==0||c?{snapshot:new $o(this.query,e.Ra,i,A,e.mutatedKeys,o===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new M1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vQ(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yQ(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $o.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class R6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D6{constructor(e){this.key=e,this.va=!1}}class P6{constructor(e,n,r,s,i,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new cl(a=>L2(a),Eg),this.Ma=new Map,this.xa=new Set,this.Oa=new mt(pe.comparator),this.Na=new Map,this.La=new qB,this.Ba={},this.ka=new Map,this.qa=Go.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function L6(t,e,n=!0){const r=_Q(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await wQ(r,e,n,!0),s}async function j6(t,e){const n=_Q(t);await wQ(n,e,!0,!1)}async function wQ(t,e,n,r){const s=await a6(t.localStore,As(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await M6(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&n&&dQ(t.remoteStore,s),a}async function M6(t,e,n,r,s){t.Ka=(h,f,g)=>async function(y,E,x,v){let w=E.view.ma(x);w.ns&&(w=await D1(y.localStore,E.query,!1).then(({documents:b})=>E.view.ma(b,w)));const F=v&&v.targetChanges.get(E.targetId),T=v&&v.targetMismatches.get(E.targetId)!=null,N=E.view.applyChanges(w,y.isPrimaryClient,F,T);return K1(y,E.targetId,N.wa),N.snapshot}(t,h,f,g);const i=await D1(t.localStore,e,!0),A=new k6(e,i.Ts),a=A.ma(i.documents),o=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=A.applyChanges(a,t.isPrimaryClient,o);K1(t,n,c.wa);const u=new R6(e,n,A);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function O6(t,e,n){const r=_e(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(A=>!Eg(A,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await vv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ZB(r.remoteStore,s.targetId),Bv(r,s.targetId)}).catch(id)):(Bv(r,s.targetId),await vv(r.localStore,s.targetId,!0))}async function V6(t,e){const n=_e(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZB(n.remoteStore,r.targetId))}async function H6(t,e,n){const r=X6(t);try{const s=await function(A,a){const o=_e(A),c=Vt.now(),u=a.reduce((g,m)=>g.add(m.key),Se());let h,f;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=Xs(),y=Se();return o.cs.getEntries(g,u).next(E=>{m=E,m.forEach((x,v)=>{v.isValidDocument()||(y=y.add(x))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,m)).next(E=>{h=E;const x=[];for(const v of a){const w=h3(v,h.get(v.key).overlayedDocument);w!=null&&x.push(new pA(v.key,w,S2(w.value.mapValue),en.exists(!0)))}return o.mutationQueue.addMutationBatch(g,c,x,a)}).next(E=>{f=E;const x=E.applyToLocalDocumentSet(h,y);return o.documentOverlayCache.saveOverlays(g,E.batchId,x)})}).then(()=>({batchId:f.batchId,changes:O2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(A,a,o){let c=A.Ba[A.currentUser.toKey()];c||(c=new mt(Oe)),c=c.insert(a,o),A.Ba[A.currentUser.toKey()]=c}(r,s.batchId,n),await ud(r,s.changes),await Qg(r.remoteStore)}catch(s){const i=sx(s,"Failed to persist write");n.reject(i)}}async function BQ(t,e){const n=_e(t);try{const r=await s6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const A=n.Na.get(i);A&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?je(A.va):s.removedDocuments.size>0&&(je(A.va),A.va=!1))}),await ud(n,r,e)}catch(r){await id(r)}}function H1(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const o=_e(A);o.onlineState=a;let c=!1;o.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&ax(o)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K6(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let A=new mt(pe.comparator);A=A.insert(i,Gt.newNoDocument(i,xe.min()));const a=Se().add(i),o=new Ug(xe.min(),new Map,new mt(Oe),A,a);await BQ(r,o),r.Oa=r.Oa.remove(i),r.Na.delete(e),lx(r)}else await vv(r.localStore,e,!1).then(()=>Bv(r,e,n)).catch(id)}async function z6(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await r6(n.localStore,e);CQ(n,r,null),xQ(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ud(n,s)}catch(s){await id(s)}}async function G6(t,e,n){const r=_e(t);try{const s=await function(A,a){const o=_e(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return o.mutationQueue.lookupMutationBatch(c,a).next(h=>(je(h!==null),u=h.keys(),o.mutationQueue.removeMutationBatch(c,h))).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>o.localDocuments.getDocuments(c,u))})}(r.localStore,e);CQ(r,e,n),xQ(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ud(r,s)}catch(s){await id(s)}}function xQ(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function CQ(t,e,n){const r=_e(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Bv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||EQ(t,r)})}function EQ(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ZB(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lx(t))}function K1(t,e,n){for(const r of n)r instanceof yQ?(t.La.addReference(r.key,e),$6(t,r)):r instanceof vQ?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||EQ(t,r.key)):ve()}function $6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),lx(t))}function lx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new D6(n)),t.Oa=t.Oa.insert(n,r),dQ(t.remoteStore,new Fi(As(Cg(n.path)),r,"TargetPurposeLimboResolution",jB.oe))}}async function ud(t,e,n){const r=_e(t),s=[],i=[],A=[];r.Fa.isEmpty()||(r.Fa.forEach((a,o)=>{A.push(r.Ka(o,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(o.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(o.targetId,h?"current":"not-current")}if(c){s.push(c);const h=YB.Wi(o.targetId,c);i.push(h)}}))}),await Promise.all(A),r.Ca.d_(s),await async function(o,c){const u=_e(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,f=>$.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>$.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Ad(h))throw h;de("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=u.os.get(f),m=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,y)}}}(r.localStore,i))}async function W6(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await lQ(n.localStore,e);n.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(o=>{o.reject(new te(V.CANCELLED,A))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ud(n,r.hs)}}function q6(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let s=Se();const i=n.Ma.get(e);if(!i)return s;for(const A of i){const a=n.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function _Q(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K6.bind(null,e),e.Ca.d_=Q6.bind(null,e.eventManager),e.Ca.$a=N6.bind(null,e.eventManager),e}function X6(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G6.bind(null,e),e}class dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return n6(this.persistence,new e6,e.initialUser,this.serializer)}Ga(e){return new Y3(XB.Zr,this.serializer)}Wa(e){return new l6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dp.provider={build:()=>new dp};class xv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await U6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new S6}()}createDatastore(e){const n=Fg(e.databaseInfo.databaseId),r=function(i){return new h6(i)}(e.databaseInfo);return function(i,A,a,o){return new g6(i,A,a,o)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,A,a){return new y6(r,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,n=>H1(this.syncEngine,n,0),function(){return L1.D()?new L1:new c6}())}createSyncEngine(e,n){return function(s,i,A,a,o,c,u){const h=new P6(s,i,A,a,o,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=_e(s);de("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await cd(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xv.provider={build:()=>new xv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new te(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const A=_e(s),a={documents:i.map(h=>cp(A.serializer,h))},o=await A.Lo("BatchGetDocuments",A.serializer.databaseId,Xe.emptyPath(),a,i.length),c=new Map;o.forEach(h=>{const f=b3(A.serializer,h);c.set(f.key.toString(),f)});const u=[];return i.forEach(h=>{const f=c.get(h.toString());je(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ig(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=pe.fromPath(r);this.mutations.push(new X2(s,this.precondition(s)))}),await async function(r,s){const i=_e(r),A={writes:s.map(a=>iQ(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Xe.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ve();n=xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(xe.min())?en.exists(!1):en.updateTime(n):en.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(xe.min()))throw new te(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return en.updateTime(n)}return en.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new JB(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Y6(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!ad(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Y2(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=I2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async A=>{de("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(r,A=>(de("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h0(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lQ(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function z1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eK(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>j1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>j1(e.remoteStore,s)),t._onlineComponents=e}async function eK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await h0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await h0(t,new dp)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await h0(t,new dp);return t._offlineComponents}async function ux(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await z1(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await z1(t,new xv))),t._onlineComponents}function tK(t){return ux(t).then(e=>e.syncEngine)}function nK(t){return ux(t).then(e=>e.datastore)}async function hp(t){const e=await ux(t),n=e.eventManager;return n.onListen=L6.bind(null,e.syncEngine),n.onUnlisten=O6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V6.bind(null,e.syncEngine),n}function rK(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,c){const u=new cx({next:f=>{u.Za(),A.enqueueAndForget(()=>Ax(i,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new te(V.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&o&&o.source==="server"?c.reject(new te(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new ox(Cg(a.path),u,{includeMetadataChanges:!0,_a:!0});return ix(i,h)}(await hp(t),t.asyncQueue,e,n,r)),r.promise}function sK(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,c){const u=new cx({next:f=>{u.Za(),A.enqueueAndForget(()=>Ax(i,h)),f.fromCache&&o.source==="server"?c.reject(new te(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new ox(a,u,{includeMetadataChanges:!0,_a:!0});return ix(i,h)}(await hp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(t,e,n){if(!n)throw new te(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iK(t,e,n,r){if(e===!0&&r===!0)throw new te(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $1(t){if(!pe.isDocumentKey(t))throw new te(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W1(t){if(pe.isDocumentKey(t))throw new te(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ng(t);throw new te(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bQ((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BH;switch(r.type){case"firstParty":return new _H(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=G1.get(n);r&&(de("ComponentProvider","Removing Datastore"),G1.delete(n),r.terminate())}(this),Promise.resolve()}}function AK(t,e,n,r={}){var s;const i=(t=kn(t,kg))._getSettings(),A=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),r.mockUserToken){let a,o;if(typeof r.mockUserToken=="string")a=r.mockUserToken,o=yn.MOCK_USER;else{a=PS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new yn(c)}t._authCredentials=new xH(new T2(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class zi extends ys{constructor(e,n,r){super(e,n,Cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new pe(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function St(t,e,...n){if(t=ze(t),TQ("collection","path",e),t instanceof kg){const r=Xe.fromString(e,...n);return W1(r),new zi(t,null,r)}{if(!(t instanceof sn||t instanceof zi))throw new te(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return W1(r),new zi(t.firestore,null,r)}}function Ve(t,e,...n){if(t=ze(t),arguments.length===1&&(e=I2.newId()),TQ("doc","path",e),t instanceof kg){const r=Xe.fromString(e,...n);return $1(r),new sn(t,null,new pe(r))}{if(!(t instanceof sn||t instanceof zi))throw new te(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return $1(r),new sn(t.firestore,t instanceof zi?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new JB(this,"async_queue_retry"),this.Vu=()=>{const r=d0();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=d0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=d0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new is;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ad(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(r);throw qs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=rx.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Y1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class us extends kg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new X1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new X1(e),this._firestoreClient=void 0,await e}}}function aK(t,e){const n=typeof t=="object"?t:yg(),r=typeof t=="string"?t:"(default)",s=td(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bB("firestore");i&&AK(s,...i)}return s}function dd(t){if(t._terminated)throw new te(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oK(t),t._firestoreClient}function oK(t){var e,n,r;const s=t._freezeSettings(),i=function(a,o,c,u){return new LH(a,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,bQ(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Z6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(on.fromBase64String(e))}catch(n){throw new te(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=/^__.*__$/;class cK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pA(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}class IQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pA(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UQ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class fx{constructor(e,n,r,s,i,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(UQ(this.Cu)&&lK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fg(e)}Qu(e,n,r,s=!1){return new fx({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dl(t){const e=t._freezeSettings(),n=Fg(t._databaseId);return new uK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function px(t,e,n,r,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);mx("Data must be an object, but it was:",A,r);const a=NQ(r,A);let o,c;if(i.merge)o=new Zn(A.fieldMask),c=A.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Cv(e,h,n);if(!A.contains(f))throw new te(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);RQ(u,f)||u.push(f)}o=new Zn(u),c=A.fieldTransforms.filter(h=>o.covers(h.field))}else o=null,c=A.fieldTransforms;return new cK(new Qn(a),o,c)}class Dg extends Rg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dg}}class gx extends Rg{_toFieldTransform(e){return new l3(e.path,new vu)}isEqual(e){return e instanceof gx}}function FQ(t,e,n,r){const s=t.Qu(1,e,n);mx("Data must be an object, but it was:",s,r);const i=[],A=Qn.empty();ya(r,(o,c)=>{const u=yx(e,o,n);c=ze(c);const h=s.Nu(u);if(c instanceof Dg)i.push(u);else{const f=fd(c,h);f!=null&&(i.push(u),A.set(u,f))}});const a=new Zn(i);return new IQ(A,a,s.fieldTransforms)}function SQ(t,e,n,r,s,i){const A=t.Qu(1,e,n),a=[Cv(e,r,n)],o=[s];if(i.length%2!=0)throw new te(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Cv(e,i[f])),o.push(i[f+1]);const c=[],u=Qn.empty();for(let f=a.length-1;f>=0;--f)if(!RQ(c,a[f])){const g=a[f];let m=o[f];m=ze(m);const y=A.Nu(g);if(m instanceof Dg)c.push(g);else{const E=fd(m,y);E!=null&&(c.push(g),u.set(g,E))}}const h=new Zn(c);return new IQ(u,h,A.fieldTransforms)}function QQ(t,e,n,r=!1){return fd(n,t.Qu(r?4:3,e))}function fd(t,e){if(kQ(t=ze(t)))return mx("Unsupported field value:",e,t),NQ(t,e);if(t instanceof Rg)return function(r,s){if(!UQ(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let A=0;for(const a of r){let o=fd(a,s.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),A++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Vt.fromDate(r);return{timestampValue:lp(s.serializer,i)}}if(r instanceof Vt){const i=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lp(s.serializer,i)}}if(r instanceof dx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:tQ(s.serializer,r._byteString)};if(r instanceof sn){const i=s.databaseId,A=r.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WB(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hx)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return zB(a.serializer,o)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Ng(r)}`)}(t,e)}function NQ(t,e){const n={};return U2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(t,(r,s)=>{const i=fd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function kQ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof dx||t instanceof oa||t instanceof sn||t instanceof Rg||t instanceof hx)}function mx(t,e,n){if(!kQ(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Ng(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Cv(t,e,n){if((e=ze(e))instanceof hd)return e._internalPath;if(typeof e=="string")return yx(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,n)}const dK=new RegExp("[~\\*/\\[\\]]");function yx(t,e,n){if(e.search(dK)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hd(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fp(t,e,n,r,s){const i=r&&!r.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||A)&&(o+=" (found",i&&(o+=` in field ${r}`),A&&(o+=` in document ${s}`),o+=")"),new te(V.INVALID_ARGUMENT,a+t+o)}function RQ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hK extends xu{data(){return super.data()}}function Pg(t,e){return typeof e=="string"?yx(t,e):e instanceof hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vx{}class Lg extends vx{}function ds(t,e,...n){let r=[];e instanceof vx&&r.push(e),r=r.concat(n),function(i){const A=i.filter(o=>o instanceof wx).length,a=i.filter(o=>o instanceof jg).length;if(A>1||A>0&&a>0)throw new te(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class jg extends Lg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jg(e,n,r)}_apply(e){const n=this._parse(e);return PQ(e._query,n),new ys(e.firestore,e.converter,pv(e._query,n))}_parse(e){const n=dl(e.firestore);return function(i,A,a,o,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eb(h,u);const g=[];for(const m of h)g.push(Z1(o,i,m));f={arrayValue:{values:g}}}else f=Z1(o,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eb(h,u),f=QQ(a,A,h,u==="in"||u==="not-in");return Pt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function la(t,e,n){const r=e,s=Pg("where",t);return jg._create(s,r,n)}class wx extends vx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const o of a)PQ(A,o),A=pv(A,o)}(e._query,n),new ys(e.firestore,e.converter,pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bx extends Lg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bx(e,n)}_apply(e){const n=function(s,i,A){if(s.startAt!==null)throw new te(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yu(i,A)}(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new va(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Ys(t,e="asc"){const n=e,r=Pg("orderBy",t);return Bx._create(r,n)}class xx extends Lg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new xx(e,n,r)}_apply(e){return new ys(e.firestore,e.converter,ap(e._query,this._limit,this._limitType))}}function J1(t){return xx._create("limit",t,"F")}class Cx extends Lg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Cx(e,n,r)}_apply(e){const n=pK(e,this.type,this._docOrFields,this._inclusive);return new ys(e.firestore,e.converter,function(s,i){return new va(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function fK(...t){return Cx._create("startAfter",t,!1)}function pK(t,e,n,r){if(n[0]=ze(n[0]),n[0]instanceof xu)return function(i,A,a,o,c){if(!o)throw new te(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const h of _o(i))if(h.field.isKeyField())u.push(Ap(A,o.key));else{const f=o.data.field(h.field);if(xg(f))throw new te(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const g=h.field.canonicalString();throw new te(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(f)}return new zo(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=dl(t.firestore);return function(A,a,o,c,u,h){const f=A.explicitOrderBy;if(u.length>f.length)throw new te(V.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let m=0;m<u.length;m++){const y=u[m];if(f[m].field.isKeyField()){if(typeof y!="string")throw new te(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!KB(A)&&y.indexOf("/")!==-1)throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const E=A.path.child(Xe.fromString(y));if(!pe.isDocumentKey(E))throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const x=new pe(E);g.push(Ap(a,x))}else{const E=QQ(o,c,y);g.push(E)}}return new zo(g,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function Z1(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new te(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KB(e)&&n.indexOf("/")!==-1)throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!pe.isDocumentKey(r))throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ap(t,new pe(r))}if(n instanceof sn)return Ap(t,n._key);throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ng(n)}.`)}function eb(t,e){if(!Array.isArray(t)||t.length===0)throw new te(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PQ(t,e){const n=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LQ{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ya(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(A=>It(A.doubleValue));return new hx(i)}convertGeoPoint(e){return new dx(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=MB(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);je(oQ(r));const s=new gu(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||qs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gK extends LQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _x extends xu{constructor(e,n,r,s,i,A){super(e,n,r,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class df extends _x{data(e={}){return super.data(e)}}class jQ{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ao(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new df(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const o=new df(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ao(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new df(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ao(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),u=A.indexOf(a.doc.key)),{type:mK(a.type),doc:o,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){t=kn(t,sn);const e=kn(t.firestore,us);return rK(dd(e),t._key).then(n=>MQ(e,t,n))}class Mg extends LQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Cu(t){t=kn(t,ys);const e=kn(t.firestore,us),n=dd(e),r=new Mg(e);return DQ(t._query),sK(n,t._query).then(s=>new jQ(e,r,t,s))}function Og(t,e,n){t=kn(t,sn);const r=kn(t.firestore,us),s=Ex(t.converter,e,n);return Vg(r,[px(dl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,en.none())])}function Er(t,e,n,...r){t=kn(t,sn);const s=kn(t.firestore,us),i=dl(s);let A;return A=typeof(e=ze(e))=="string"||e instanceof hd?SQ(i,"updateDoc",t._key,e,n,r):FQ(i,"updateDoc",t._key,e),Vg(s,[A.toMutation(t._key,en.exists(!0))])}function bx(t){return Vg(kn(t.firestore,us),[new Ig(t._key,en.none())])}function Or(t,e){const n=kn(t.firestore,us),r=Ve(t),s=Ex(t.converter,e);return Vg(n,[px(dl(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,en.exists(!1))]).then(()=>r)}function hl(t,...e){var n,r,s;t=ze(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||Y1(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Y1(e[A])){const h=e[A];e[A]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[A+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[A+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let o,c,u;if(t instanceof sn)c=kn(t.firestore,us),u=Cg(t._key.path),o={next:h=>{e[A]&&e[A](MQ(c,t,h))},error:e[A+1],complete:e[A+2]};else{const h=kn(t,ys);c=kn(h.firestore,us),u=h._query;const f=new Mg(c);o={next:g=>{e[A]&&e[A](new jQ(c,f,h,g))},error:e[A+1],complete:e[A+2]},DQ(t._query)}return function(f,g,m,y){const E=new cx(y),x=new ox(g,E,m);return f.asyncQueue.enqueueAndForget(async()=>ix(await hp(f),x)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>Ax(await hp(f),x))}}(dd(c),u,a,o)}function Vg(t,e){return function(r,s){const i=new is;return r.asyncQueue.enqueueAndForget(async()=>H6(await tK(r),s,i)),i.promise}(dd(t),e)}function MQ(t,e,n){const r=n.docs.get(e._key),s=new Mg(t);return new _x(t,s,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK={maxAttempts:5};function Hl(t,e){if((t=ze(t)).firestore!==e)throw new te(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=dl(n)}get(n){const r=Hl(n,this._firestore),s=new gK(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ve();const A=i[0];if(A.isFoundDocument())return new xu(this._firestore,s,A.key,A,r.converter);if(A.isNoDocument())return new xu(this._firestore,s,r._key,null,r.converter);throw ve()})}set(n,r,s){const i=Hl(n,this._firestore),A=Ex(i.converter,r,s),a=px(this._dataReader,"Transaction.set",i._key,A,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const A=Hl(n,this._firestore);let a;return a=typeof(r=ze(r))=="string"||r instanceof hd?SQ(this._dataReader,"Transaction.update",A._key,r,s,i):FQ(this._dataReader,"Transaction.update",A._key,r),this._transaction.update(A._key,a),this}delete(n){const r=Hl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hl(e,this._firestore),r=new Mg(this._firestore);return super.get(e).then(s=>new _x(this._firestore,r,n._key,s._document,new Ao(!1,!1),n.converter))}}function tb(t,e,n){t=kn(t,us);const r=Object.assign(Object.assign({},yK),n);return function(i){if(i.maxAttempts<1)throw new te(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,A,a){const o=new is;return i.asyncQueue.enqueueAndForget(async()=>{const c=await nK(i);new J6(i.asyncQueue,c,a,A,o).au()}),o.promise}(dd(t),s=>e(new vK(t,s)),r)}function Hn(){return new gx("serverTimestamp")}(function(e,n=!0){(function(s){ll=s})(ma),Xi(new zs("firestore",(r,{instanceIdentifier:s,options:i})=>{const A=r.getProvider("app").getImmediate(),a=new us(new CH(r.getProvider("auth-internal")),new TH(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(c.options.projectId,u)}(A,s),A);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Br(p1,"4.7.3",e),Br(p1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK="type.googleapis.com/google.protobuf.Int64Value",BK="type.googleapis.com/google.protobuf.UInt64Value";function OQ(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Ev(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Ev(e));if(typeof t=="function"||typeof t=="object")return OQ(t,e=>Ev(e));throw new Error("Data cannot be encoded in JSON: "+t)}function pp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case wK:case BK:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>pp(e)):typeof t=="function"||typeof t=="object"?OQ(t,e=>pp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class To extends Hr{constructor(e,n,r){super(`${Tx}/${e}`,n||""),this.details=r}}function xK(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function CK(t,e){let n=xK(t),r=n,s;try{const i=e&&e.error;if(i){const A=i.status;if(typeof A=="string"){if(!nb[A])return new To("internal","internal");n=nb[A],r=A}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=pp(s))}}catch{}return n==="ok"?null:new To(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="us-central1";function _K(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new To("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class bK{constructor(e,n,r,s,i=_v,A){this.app=e,this.fetchImpl=A,this.emulatorOrigin=null,this.contextProvider=new EK(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=_v}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function TK(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function IK(t,e,n){return r=>FK(t,e,r,{})}async function UK(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function FK(t,e,n,r){const s=t._url(e);return SK(t,s,n,r)}async function SK(t,e,n,r){n=Ev(n);const s={data:n},i={},A=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);A.authToken&&(i.Authorization="Bearer "+A.authToken),A.messagingToken&&(i["Firebase-Instance-ID-Token"]=A.messagingToken),A.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=A.appCheckToken);const a=r.timeout||7e4,o=_K(a),c=await Promise.race([UK(e,s,i,t.fetchImpl),o.promise,t.cancelAllRequests]);if(o.cancel(),!c)throw new To("cancelled","Firebase Functions instance was deleted.");const u=CK(c.status,c.json);if(u)throw u;if(!c.json)throw new To("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new To("internal","Response is missing data field.");return{data:pp(h)}}const rb="@firebase/functions",sb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK="auth-internal",NK="app-check-internal",kK="messaging-internal";function RK(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),A=r.getProvider(QK),a=r.getProvider(kK),o=r.getProvider(NK);return new bK(i,A,a,o,s,t)};Xi(new zs(Tx,n,"PUBLIC").setMultipleInstances(!0)),Br(rb,sb,e),Br(rb,sb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DK(t=yg(),e=_v){const r=td(ze(t),Tx).getImmediate({identifier:e}),s=bB("functions");return s&&PK(r,...s),r}function PK(t,e,n){TK(ze(t),e,n)}function LK(t,e,n){return IK(ze(t),e)}RK(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ="firebasestorage.googleapis.com",HQ="storageBucket",jK=2*60*1e3,MK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Hr{constructor(e,n,r=0){super(f0(e),`Firebase Storage: ${n} (${f0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return f0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bt||(Bt={}));function f0(t){return"storage/"+t}function Ix(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(Bt.UNKNOWN,t)}function OK(t){return new Ct(Bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function VK(t){return new Ct(Bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Bt.UNAUTHENTICATED,t)}function KK(){return new Ct(Bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zK(t){return new Ct(Bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GK(){return new Ct(Bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $K(){return new Ct(Bt.CANCELED,"User canceled the upload/download.")}function WK(t){return new Ct(Bt.INVALID_URL,"Invalid URL '"+t+"'.")}function qK(t){return new Ct(Bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function XK(){return new Ct(Bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HQ+"' property when initializing the app?")}function YK(){return new Ct(Bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JK(){return new Ct(Bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZK(t){return new Ct(Bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function bv(t){return new Ct(Bt.INVALID_ARGUMENT,t)}function KQ(){return new Ct(Bt.APP_DELETED,"The Firebase app was deleted.")}function e5(t){return new Ct(Bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(t,e){return new Ct(Bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Kl(t){throw new Ct(Bt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw qK(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const A="(/(.*))?$",a=new RegExp("^gs://"+s+A,"i"),o={bucket:1,path:3};function c(F){F.path_=decodeURIComponent(F.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},y=n===VQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",x=new RegExp(`^https?://${y}/${s}/${E}`,"i"),w=[{regex:a,indices:o,postModify:i},{regex:g,indices:m,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let F=0;F<w.length;F++){const T=w[F],N=T.regex.exec(e);if(N){const b=N[T.indices.bucket];let C=N[T.indices.path];C||(C=""),r=new er(b,C),T.postModify(r);break}}if(r==null)throw WK(e);return r}}class t5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t,e,n){let r=1,s=null,i=null,A=!1,a=0;function o(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(g,o())},E)}function f(){i&&clearTimeout(i)}function g(E,...x){if(c){f();return}if(E){f(),u.call(null,E,...x);return}if(o()||A){f(),u.call(null,E,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let m=!1;function y(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{A=!0,y(!0)},n),y}function r5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){return t!==void 0}function i5(t){return typeof t=="object"&&!Array.isArray(t)}function Ux(t){return typeof t=="string"||t instanceof String}function ib(t){return Fx()&&t instanceof Blob}function Fx(){return typeof Blob<"u"}function Ab(t,e,n,r){if(r<e)throw bv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw bv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var $A;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($A||($A={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r,s,i,A,a,o,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=A,this.callback_=a,this.errorCallback_=o,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,m)=>{this.resolve_=g,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new dh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const A=a=>{const o=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,c)};this.progressCallback_!==null&&i.addUploadProgressListener(A),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(A),this.pendingConnection_=null;const a=i.getErrorCode()===$A.NO_ERROR,o=i.getStatus();if(!a||A5(o,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===$A.ABORT;r(!1,new dh(!1,null,u));return}const c=this.successCodes_.indexOf(o)!==-1;r(!0,new dh(c,i))})},n=(r,s)=>{const i=this.resolve_,A=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const o=this.callback_(a,a.getResponse());s5(o)?i(o):i()}catch(o){A(o)}else if(a!==null){const o=Ix();o.serverResponse=a.getErrorText(),this.errorCallback_?A(this.errorCallback_(a,o)):A(o)}else if(s.canceled){const o=this.appDelete_?KQ():$K();A(o)}else{const o=GK();A(o)}};this.canceled_?n(!1,new dh(!1,null,!0)):this.backoffId_=n5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function o5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function l5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function u5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function d5(t,e,n,r,s,i,A=!0){const a=zQ(t.urlParams),o=t.url+a,c=Object.assign({},t.headers);return c5(c,e),o5(c,n),l5(c,i),u5(c,r),new a5(o,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function f5(...t){const e=h5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Fx())return new Blob(t);throw new Ct(Bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){if(typeof atob>"u")throw ZK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class p0{constructor(e,n){this.data=e,this.contentType=n||null}}function m5(t,e){switch(t){case Zr.RAW:return new p0(GQ(e));case Zr.BASE64:case Zr.BASE64URL:return new p0($Q(t,e));case Zr.DATA_URL:return new p0(v5(e),w5(e))}throw Ix()}function GQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,A=t.charCodeAt(++n);r=65536|(i&1023)<<10|A&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function y5(t){let e;try{e=decodeURIComponent(t)}catch{throw Rc(Zr.DATA_URL,"Malformed data URL.")}return GQ(e)}function $Q(t,e){switch(t){case Zr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Rc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Rc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=g5(e)}catch(s){throw s.message.includes("polyfill")?s:Rc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class WQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rc(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=B5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function v5(t){const e=new WQ(t);return e.base64?$Q(Zr.BASE64,e.rest):y5(e.rest)}function w5(t){return new WQ(t).contentType}function B5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){let r=0,s="";ib(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(ib(this.data_)){const r=this.data_,s=p5(r,e,n);return s===null?null:new Ci(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ci(r,!0)}}static getBlob(...e){if(Fx()){const n=e.map(r=>r instanceof Ci?r.data_:r);return new Ci(f5.apply(null,n))}else{const n=e.map(A=>Ux(A)?m5(Zr.RAW,A).data:A.data_);let r=0;n.forEach(A=>{r+=A.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(A=>{for(let a=0;a<A.length;a++)s[i++]=A[a]}),new Ci(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(t){let e;try{e=JSON.parse(t)}catch{return null}return i5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function C5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function XQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e){return e}class In{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||E5}}let hh=null;function _5(t){return!Ux(t)||t.length<2?t:XQ(t)}function YQ(){if(hh)return hh;const t=[];t.push(new In("bucket")),t.push(new In("generation")),t.push(new In("metageneration")),t.push(new In("name","fullPath",!0));function e(i,A){return _5(A)}const n=new In("name");n.xform=e,t.push(n);function r(i,A){return A!==void 0?Number(A):A}const s=new In("size");return s.xform=r,t.push(s),t.push(new In("timeCreated")),t.push(new In("updated")),t.push(new In("md5Hash",null,!0)),t.push(new In("cacheControl",null,!0)),t.push(new In("contentDisposition",null,!0)),t.push(new In("contentEncoding",null,!0)),t.push(new In("contentLanguage",null,!0)),t.push(new In("contentType",null,!0)),t.push(new In("metadata","customMetadata",!0)),hh=t,hh}function b5(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new er(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function T5(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const A=n[i];r[A.local]=A.xform(r,e[A.server])}return b5(r,t),r}function JQ(t,e,n){const r=qQ(e);return r===null?null:T5(t,r,n)}function I5(t,e,n,r){const s=qQ(e);if(s===null||!Ux(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const A=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+A(u)+"/o/"+A(h),g=Hg(f,n,r),m=zQ({alt:"media",token:c});return g+m})[0]}function U5(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Sx{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t){if(!t)throw Ix()}function F5(t,e){function n(r,s){const i=JQ(t,s,e);return ZQ(i!==null),i}return n}function S5(t,e){function n(r,s){const i=JQ(t,s,e);return ZQ(i!==null),I5(i,s,t.host,t._protocol)}return n}function eN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=KK():s=HK():n.getStatus()===402?s=VK(t.bucket):n.getStatus()===403?s=zK(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function tN(t){const e=eN(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=OK(t.path)),i.serverResponse=s.serverResponse,i}return n}function Q5(t,e,n){const r=e.fullServerUrl(),s=Hg(r,t.host,t._protocol),i="GET",A=t.maxOperationRetryTime,a=new Sx(s,i,S5(t,n),A);return a.errorHandler=tN(e),a}function N5(t,e){const n=e.fullServerUrl(),r=Hg(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function A(o,c){}const a=new Sx(r,s,A,i);return a.successCodes=[200,204],a.errorHandler=tN(e),a}function k5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function R5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=k5(null,e)),r}function D5(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let F=0;F<2;F++)w=w+Math.random().toString().slice(2);return w}const o=a();A["Content-Type"]="multipart/related; boundary="+o;const c=R5(e,r,s),u=U5(c,n),h="--"+o+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+o+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+o+"--",g=Ci.getBlob(h,r,f);if(g===null)throw YK();const m={name:c.fullPath},y=Hg(i,t.host,t._protocol),E="POST",x=t.maxUploadRetryTime,v=new Sx(y,E,F5(t,n),x);return v.urlParams=m,v.headers=A,v.body=g.uploadData(),v.errorHandler=eN(e),v}class P5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$A.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$A.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$A.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Kl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L5 extends P5{initXhr(){this.xhr_.responseType="text"}}function Qx(){return new L5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ca(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XQ(this._location.path)}get storage(){return this._service}get parent(){const e=x5(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e5(e)}}function j5(t,e,n){t._throwIfRoot("uploadBytes");const r=D5(t.storage,t._location,YQ(),new Ci(e,!0),n);return t.storage.makeRequestWithTokens(r,Qx).then(s=>({metadata:s,ref:t}))}function M5(t){t._throwIfRoot("getDownloadURL");const e=Q5(t.storage,t._location,YQ());return t.storage.makeRequestWithTokens(e,Qx).then(n=>{if(n===null)throw JK();return n})}function O5(t){t._throwIfRoot("deleteObject");const e=N5(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Qx)}function V5(t,e){const n=C5(t._location.path,e),r=new er(t._location.bucket,n);return new ca(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){return/^[A-Za-z]+:\/\//.test(t)}function K5(t,e){return new ca(t,e)}function nN(t,e){if(t instanceof Nx){const n=t;if(n._bucket==null)throw XK();const r=new ca(n,n._bucket);return e!=null?nN(r,e):r}else return e!==void 0?V5(t,e):t}function z5(t,e){if(e&&H5(e)){if(t instanceof Nx)return K5(t,e);throw bv("To use ref(service, url), the first argument must be a Storage instance.")}else return nN(t,e)}function ab(t,e){const n=e==null?void 0:e[HQ];return n==null?null:er.makeFromBucketSpec(n,t)}function G5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:PS(s,t.app.options.projectId))}class Nx{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=VQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jK,this._maxUploadRetryTime=MK,this._requests=new Set,s!=null?this._bucket=er.makeFromBucketSpec(s,this._host):this._bucket=ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new t5(KQ());{const A=d5(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const ob="@firebase/storage",lb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="storage";function $5(t,e,n){return t=ze(t),j5(t,e,n)}function W5(t){return t=ze(t),M5(t)}function q5(t){return t=ze(t),O5(t)}function cb(t,e){return t=ze(t),z5(t,e)}function X5(t=yg(),e){t=ze(t);const r=td(t,rN).getImmediate({identifier:e}),s=bB("storage");return s&&Y5(r,...s),r}function Y5(t,e,n,r={}){G5(t,e,n,r)}function J5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Nx(n,r,s,e,ma)}function Z5(){Xi(new zs(rN,J5,"PUBLIC").setMultipleInstances(!0)),Br(ob,lb,""),Br(ob,lb,"esm2017")}Z5();const ez={apiKey:"AIzaSyCjm6MOIuRFXQkTKwREvVWo8zogfNA6HPg",authDomain:"cinema-70fbc.firebaseapp.com",projectId:"cinema-70fbc",storageBucket:"cinema-70fbc.appspot.com",messagingSenderId:"508764987276",appId:"1:508764987276:web:878a0e32d806071bf380a9",measurementId:"G-E9KFW2B3BW"},Kg=MS(ez),vn=vH(Kg),me=aK(Kg),tz=DK(Kg,"europe-west1"),ub=X5(Kg);let db=new Map;const nz=t=>{db.clear(),t.forEach(e=>db.set(e.id,e))},rz=t=>{const e=Ve(me,"settings","event-settings");return hl(e,n=>{if(n.exists()){const r=n.data(),s=(r==null?void 0:r.bookingStatuses)||[];nz(s),t(s)}else t([])})},sN=U.createContext(void 0),sz=({children:t})=>{const[e,n]=U.useState([]),[r,s]=U.useState(!0),[i,A]=U.useState(null),[a,o]=U.useState(0);U.useEffect(()=>{const g=rz(m=>{n(m),s(!1),A(null)});return()=>g()},[a]);const c=g=>e.find(m=>m.id===g),u=g=>{var m;return((m=c(g))==null?void 0:m.color)||"#718096"},h=g=>{var m;return((m=c(g))==null?void 0:m.name)||g},f=()=>o(g=>g+1);return l.jsx(sN.Provider,{value:{statuses:e,loading:r,error:i,getStatusById:c,getStatusColor:u,getStatusName:h,refreshStatuses:f},children:t})},pd=()=>{const t=U.useContext(sN);if(!t)throw new Error("useBookingStatus must be used within a BookingStatusProvider");return t},iz="gennaro.mazzacane@gmail.com",Az=t=>t===iz,iN=U.createContext(void 0),az=({children:t})=>{const[e,n]=U.useState(null),[r,s]=U.useState(!0),[i,A]=U.useState(!1);return U.useEffect(()=>{const a=vn.onAuthStateChanged(o=>{n(o),A(o?Az(o.email||""):!1),s(!1)});return()=>a()},[]),l.jsx(iN.Provider,{value:{user:e,loading:r,isAdmin:i},children:t})},si=()=>{const t=U.useContext(iN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};let oz={data:""},lz=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||oz,cz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,uz=/\/\*[^]*?\*\/|  +/g,hb=/\n+/g,Ei=(t,e)=>{let n="",r="",s="";for(let i in t){let A=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+A+";":r+=i[1]=="f"?Ei(A,i):i+"{"+Ei(A,i[1]=="k"?"":e)+"}":typeof A=="object"?r+=Ei(A,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,a):a?a+" "+o:o)):i):A!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ei.p?Ei.p(i,A):i+":"+A+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Cs={},AN=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+AN(t[n]);return e}return t},dz=(t,e,n,r,s)=>{let i=AN(t),A=Cs[i]||(Cs[i]=(o=>{let c=0,u=11;for(;c<o.length;)u=101*u+o.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Cs[A]){let o=i!==t?t:(c=>{let u,h,f=[{}];for(;u=cz.exec(c.replace(uz,""));)u[4]?f.shift():u[3]?(h=u[3].replace(hb," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(hb," ").trim();return f[0]})(t);Cs[A]=Ei(s?{["@keyframes "+A]:o}:o,n?"":"."+A)}let a=n&&Cs.g?Cs.g:null;return n&&(Cs.g=Cs[A]),((o,c,u,h)=>{h?c.data=c.data.replace(h,o):c.data.indexOf(o)===-1&&(c.data=u?o+c.data:c.data+o)})(Cs[A],e,r,a),A},hz=(t,e,n)=>t.reduce((r,s,i)=>{let A=e[i];if(A&&A.call){let a=A(n),o=a&&a.props&&a.props.className||/^go/.test(a)&&a;A=o?"."+o:a&&typeof a=="object"?a.props?"":Ei(a,""):a===!1?"":a}return r+s+(A??"")},"");function zg(t){let e=this||{},n=t.call?t(e.p):t;return dz(n.unshift?n.raw?hz(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,lz(e.target),e.g,e.o,e.k)}let aN,Tv,Iv;zg.bind({g:1});let Js=zg.bind({k:1});function fz(t,e,n,r){Ei.p=e,aN=t,Tv=n,Iv=r}function gA(t,e){let n=this||{};return function(){let r=arguments;function s(i,A){let a=Object.assign({},i),o=a.className||s.className;n.p=Object.assign({theme:Tv&&Tv()},a),n.o=/ *go\d+/.test(o),a.className=zg.apply(n,r)+(o?" "+o:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Iv&&c[0]&&Iv(a),aN(c,a)}return s}}var pz=t=>typeof t=="function",gp=(t,e)=>pz(t)?t(e):t,gz=(()=>{let t=0;return()=>(++t).toString()})(),oN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),mz=20,lN=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,mz)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return lN(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},hf=[],ff={toasts:[],pausedAt:void 0},Ba=t=>{ff=lN(ff,t),hf.forEach(e=>{e(ff)})},yz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vz=(t={})=>{let[e,n]=U.useState(ff);U.useEffect(()=>(hf.push(n),()=>{let s=hf.indexOf(n);s>-1&&hf.splice(s,1)}),[e]);let r=e.toasts.map(s=>{var i,A,a;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((A=t[s.type])==null?void 0:A.duration)||(t==null?void 0:t.duration)||yz[s.type],style:{...t.style,...(a=t[s.type])==null?void 0:a.style,...s.style}}});return{...e,toasts:r}},wz=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||gz()}),gd=t=>(e,n)=>{let r=wz(e,t,n);return Ba({type:2,toast:r}),r.id},De=(t,e)=>gd("blank")(t,e);De.error=gd("error");De.success=gd("success");De.loading=gd("loading");De.custom=gd("custom");De.dismiss=t=>{Ba({type:3,toastId:t})};De.remove=t=>Ba({type:4,toastId:t});De.promise=(t,e,n)=>{let r=De.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?gp(e.success,s):void 0;return i?De.success(i,{id:r,...n,...n==null?void 0:n.success}):De.dismiss(r),s}).catch(s=>{let i=e.error?gp(e.error,s):void 0;i?De.error(i,{id:r,...n,...n==null?void 0:n.error}):De.dismiss(r)}),t};var Bz=(t,e)=>{Ba({type:1,toast:{id:t,height:e}})},xz=()=>{Ba({type:5,time:Date.now()})},Dc=new Map,Cz=1e3,Ez=(t,e=Cz)=>{if(Dc.has(t))return;let n=setTimeout(()=>{Dc.delete(t),Ba({type:4,toastId:t})},e);Dc.set(t,n)},_z=t=>{let{toasts:e,pausedAt:n}=vz(t);U.useEffect(()=>{if(n)return;let i=Date.now(),A=e.map(a=>{if(a.duration===1/0)return;let o=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(o<0){a.visible&&De.dismiss(a.id);return}return setTimeout(()=>De.dismiss(a.id),o)});return()=>{A.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=U.useCallback(()=>{n&&Ba({type:6,time:Date.now()})},[n]),s=U.useCallback((i,A)=>{let{reverseOrder:a=!1,gutter:o=8,defaultPosition:c}=A||{},u=e.filter(g=>(g.position||c)===(i.position||c)&&g.height),h=u.findIndex(g=>g.id===i.id),f=u.filter((g,m)=>m<h&&g.visible).length;return u.filter(g=>g.visible).slice(...a?[f+1]:[0,f]).reduce((g,m)=>g+(m.height||0)+o,0)},[e]);return U.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Ez(i.id,i.removeDelay);else{let A=Dc.get(i.id);A&&(clearTimeout(A),Dc.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:Bz,startPause:xz,endPause:r,calculateOffset:s}}},bz=Js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Tz=Js`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iz=Js`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Uz=gA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Tz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Iz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Fz=Js`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Sz=gA("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Fz} 1s linear infinite;
`,Qz=Js`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Nz=Js`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kz=gA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Nz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Rz=gA("div")`
  position: absolute;
`,Dz=gA("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Pz=Js`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lz=gA("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Pz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jz=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(Lz,null,e):e:n==="blank"?null:U.createElement(Dz,null,U.createElement(Sz,{...r}),n!=="loading"&&U.createElement(Rz,null,n==="error"?U.createElement(Uz,{...r}):U.createElement(kz,{...r})))},Mz=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Oz=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Vz="0%{opacity:0;} 100%{opacity:1;}",Hz="0%{opacity:1;} 100%{opacity:0;}",Kz=gA("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zz=gA("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Gz=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=oN()?[Vz,Hz]:[Mz(n),Oz(n)];return{animation:e?`${Js(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Js(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$z=U.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Gz(t.position||e||"top-center",t.visible):{opacity:0},i=U.createElement(jz,{toast:t}),A=U.createElement(zz,{...t.ariaProps},gp(t.message,t));return U.createElement(Kz,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:A}):U.createElement(U.Fragment,null,i,A))});fz(U.createElement);var Wz=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=U.useCallback(A=>{if(A){let a=()=>{let o=A.getBoundingClientRect().height;r(t,o)};a(),new MutationObserver(a).observe(A,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:i,className:e,style:n},s)},qz=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:oN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Xz=zg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fh=16,Yz=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:A})=>{let{toasts:a,handlers:o}=_z(n);return U.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:fh,left:fh,right:fh,bottom:fh,pointerEvents:"none",...i},className:A,onMouseEnter:o.startPause,onMouseLeave:o.endPause},a.map(c=>{let u=c.position||e,h=o.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=qz(u,h);return U.createElement(Wz,{id:c.id,key:c.id,onHeightUpdate:o.updateHeight,className:c.visible?Xz:"",style:f},c.type==="custom"?gp(c.message,c):s?s(c):U.createElement($z,{toast:c,position:u}))}))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:o,...c},u)=>U.createElement("svg",{ref:u,...Jz,width:s,height:s,stroke:r,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Zz(t)}`,a].join(" "),...c},[...e.map(([h,f])=>U.createElement(h,f)),...Array.isArray(o)?o:[o]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ue("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=ue("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ue("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=ue("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=ue("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=ue("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=ue("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ue("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=ue("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=ue("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=ue("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=ue("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=ue("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ue("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=ue("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ue("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);class B9 extends U.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[l.jsx(cN,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Qualcosa  andato storto"})]}),l.jsx("p",{className:"text-gray-300 mb-4",children:"Si  verificato un errore imprevisto. Ricarica la pagina o prova pi tardi."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Ricarica la pagina"}),this.state.error&&l.jsx("pre",{className:"mt-4 p-4 bg-gray-800 rounded text-sm text-gray-400 overflow-auto",children:this.state.error.message})]})}):this.props.children}}const wb=({children:t,requireAdmin:e=!1})=>{const{user:n,loading:r,isAdmin:s}=si();return r?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):!n||e&&!s?l.jsx(Bo,{to:"/",replace:!0}):l.jsx(l.Fragment,{children:t})},Rx=U.createContext({});function Dx(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xg=U.createContext(null),Px=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class x9 extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function C9({children:t,isPresent:e}){const n=U.useId(),r=U.useRef(null),s=U.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=U.useContext(Px);return U.useInsertionEffect(()=>{const{width:A,height:a,top:o,left:c}=s.current;if(e||!r.current||!A||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),l.jsx(x9,{isPresent:e,childRef:r,sizeRef:s,children:U.cloneElement(t,{ref:r})})}const E9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:A})=>{const a=Dx(_9),o=U.useId(),c=U.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=U.useMemo(()=>({id:o,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return U.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),U.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),A==="popLayout"&&(t=l.jsx(C9,{isPresent:n,children:t})),l.jsx(Xg.Provider,{value:u,children:t})};function _9(){return new Map}function yN(t=!0){const e=U.useContext(Xg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=U.useId();U.useEffect(()=>{t&&s(i)},[t]);const A=U.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,A]:[!0]}const ph=t=>t.key||"";function Bb(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const Lx=typeof window<"u",vN=Lx?U.useLayoutEffect:U.useEffect,cn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:A=!1})=>{const[a,o]=yN(A),c=U.useMemo(()=>Bb(t),[t]),u=A&&!a?[]:c.map(ph),h=U.useRef(!0),f=U.useRef(c),g=Dx(()=>new Map),[m,y]=U.useState(c),[E,x]=U.useState(c);vN(()=>{h.current=!1,f.current=c;for(let F=0;F<E.length;F++){const T=ph(E[F]);u.includes(T)?g.delete(T):g.get(T)!==!0&&g.set(T,!1)}},[E,u.length,u.join("-")]);const v=[];if(c!==m){let F=[...c];for(let T=0;T<E.length;T++){const N=E[T],b=ph(N);u.includes(b)||(F.splice(T,0,N),v.push(N))}i==="wait"&&v.length&&(F=v),x(Bb(F)),y(c);return}const{forceRender:w}=U.useContext(Rx);return l.jsx(l.Fragment,{children:E.map(F=>{const T=ph(F),N=A&&!a?!1:c===E||u.includes(T),b=()=>{if(g.has(T))g.set(T,!0);else return;let C=!0;g.forEach(_=>{_||(C=!1)}),C&&(w==null||w(),x(f.current),A&&(o==null||o()),r&&r())};return l.jsx(E9,{isPresent:N,initial:!h.current||n?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:N?void 0:b,children:F},T)})})},rr=t=>t;let Qv=rr;function jx(t){let e;return()=>(e===void 0&&(e=t()),e)}const qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ls=t=>t*1e3,js=t=>t/1e3,b9={skipAnimations:!1,useManualTiming:!1};function T9(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(o.schedule(c),t()),c(A)}const o={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(A=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,o.process(c))}};return o}const gh=["read","resolveKeyframes","update","preRender","render","postRender"],I9=40;function wN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,A=gh.reduce((x,v)=>(x[v]=T9(i),x),{}),{read:a,resolveKeyframes:o,update:c,preRender:u,render:h,postRender:f}=A,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,I9),1),s.timestamp=x,s.isProcessing=!0,a.process(s),o.process(s),c.process(s),u.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},m=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:gh.reduce((x,v)=>{const w=A[v];return x[v]=(F,T=!1,N=!1)=>(n||m(),w.schedule(F,T,N)),x},{}),cancel:x=>{for(let v=0;v<gh.length;v++)A[gh[v]].cancel(x)},state:s,steps:A}}const{schedule:ot,cancel:rA,state:Xt,steps:g0}=wN(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0),BN=U.createContext({strict:!1}),xb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const t in xb)Xo[t]={isEnabled:e=>xb[t].some(n=>!!e[n])};function U9(t){for(const e in t)Xo[e]={...Xo[e],...t[e]}}const F9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||F9.has(t)}let xN=t=>!mp(t);function S9(t){t&&(xN=e=>e.startsWith("on")?!mp(e):t(e))}try{S9(require("@emotion/is-prop-valid").default)}catch{}function Q9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(xN(s)||n===!0&&mp(s)||!e&&!mp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function N9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Yg=U.createContext({});function Tu(t){return typeof t=="string"||Array.isArray(t)}function Jg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Mx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ox=["initial",...Mx];function Zg(t){return Jg(t.animate)||Ox.some(e=>Tu(t[e]))}function CN(t){return!!(Zg(t)||t.variants)}function k9(t,e){if(Zg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(r)?r:void 0}}return t.inherit!==!1?e:{}}function R9(t){const{initial:e,animate:n}=k9(t,U.useContext(Yg));return U.useMemo(()=>({initial:e,animate:n}),[Cb(e),Cb(n)])}function Cb(t){return Array.isArray(t)?t.join(" "):t}const D9=Symbol.for("motionComponentSymbol");function ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P9(t,e,n){return U.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ao(n)&&(n.current=r))},[e])}const Vx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L9="framerAppearId",EN="data-"+Vx(L9),{schedule:Hx,cancel:Pse}=wN(queueMicrotask,!1),_N=U.createContext({});function j9(t,e,n,r,s){var i,A;const{visualElement:a}=U.useContext(Yg),o=U.useContext(BN),c=U.useContext(Xg),u=U.useContext(Px).reducedMotion,h=U.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=U.useContext(_N);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&M9(h.current,n,s,g);const m=U.useRef(!1);U.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const y=n[EN],E=U.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((A=window.MotionHasOptimisedAnimation)===null||A===void 0?void 0:A.call(window,y)));return vN(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Hx.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),U.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),E.current=!1))}),f}function M9(t,e,n,r){const{layoutId:s,layout:i,drag:A,dragConstraints:a,layoutScroll:o,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:bN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!A||a&&ao(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:c})}function bN(t){if(t)return t.options.allowProjection!==!1?t.projection:bN(t.parent)}function O9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,A;t&&U9(t);function a(c,u){let h;const f={...U.useContext(Px),...c,layoutId:V9(c)},{isStatic:g}=f,m=R9(c),y=r(c,g);if(!g&&Lx){H9();const E=K9(f);h=E.MeasureLayout,m.visualElement=j9(s,y,f,e,E.ProjectionNode)}return l.jsxs(Yg.Provider,{value:m,children:[h&&m.visualElement?l.jsx(h,{visualElement:m.visualElement,...f}):null,n(s,c,P9(y,m.visualElement,u),y,g,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(A=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&A!==void 0?A:""})`}`;const o=U.forwardRef(a);return o[D9]=s,o}function V9({layoutId:t}){const e=U.useContext(Rx).id;return e&&t!==void 0?e+"-"+t:t}function H9(t,e){U.useContext(BN).strict}function K9(t){const{drag:e,layout:n}=Xo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const z9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kx(t){return typeof t!="string"||t.includes("-")?!1:!!(z9.indexOf(t)>-1||/[A-Z]/u.test(t))}function Eb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zx(t,e,n,r){if(typeof e=="function"){const[s,i]=Eb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Eb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Nv=t=>Array.isArray(t),G9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$9=t=>Nv(t)?t[t.length-1]||0:t,xn=t=>!!(t&&t.getVelocity);function pf(t){const e=xn(t)?t.get():t;return G9(e)?e.toValue():e}function W9({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const A={latestValues:q9(r,s,i,t),renderState:e()};return n&&(A.onMount=a=>n({props:r,current:a,...A}),A.onUpdate=a=>n(a)),A}const TN=t=>(e,n)=>{const r=U.useContext(Yg),s=U.useContext(Xg),i=()=>W9(t,e,r,s);return n?i():Dx(i)};function q9(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=pf(i[f]);let{initial:A,animate:a}=t;const o=Zg(t),c=CN(t);e&&c&&!o&&t.inherit!==!1&&(A===void 0&&(A=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||A===!1;const h=u?a:A;if(h&&typeof h!="boolean"&&!Jg(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const m=zx(t,f[g]);if(m){const{transitionEnd:y,transition:E,...x}=m;for(const v in x){let w=x[v];if(Array.isArray(w)){const F=u?w.length-1:0;w=w[F]}w!==null&&(s[v]=w)}for(const v in y)s[v]=y[v]}}}return s}const gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xa=new Set(gl),IN=t=>e=>typeof e=="string"&&e.startsWith(t),UN=IN("--"),X9=IN("var(--"),Gx=t=>X9(t)?Y9.test(t.split("/*")[0].trim()):!1,Y9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,FN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Zs=(t,e,n)=>n>e?e:n<t?t:n,ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Iu={...ml,transform:t=>Zs(0,1,t)},mh={...ml,default:1},md=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ui=md("deg"),as=md("%"),ye=md("px"),J9=md("vh"),Z9=md("vw"),_b={...as,parse:t=>as.parse(t)/100,transform:t=>as.transform(t*100)},e8={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},t8={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:mh,scaleX:mh,scaleY:mh,scaleZ:mh,skew:ui,skewX:ui,skewY:ui,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Iu,originX:_b,originY:_b,originZ:ye},bb={...ml,transform:Math.round},$x={...e8,...t8,zIndex:bb,size:ye,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:bb},n8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r8=gl.length;function s8(t,e,n){let r="",s=!0;for(let i=0;i<r8;i++){const A=gl[i],a=t[A];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(A.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||n){const c=FN(a,$x[A]);if(!o){s=!1;const u=n8[A]||A;r+=`${u}(${c}) `}n&&(e[A]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Wx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let A=!1,a=!1;for(const o in e){const c=e[o];if(xa.has(o)){A=!0;continue}else if(UN(o)){s[o]=c;continue}else{const u=FN(c,$x[o]);o.startsWith("origin")?(a=!0,i[o]=u):r[o]=u}}if(e.transform||(A||n?r.transform=s8(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:o="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${o} ${c} ${u}`}}const i8={offset:"stroke-dashoffset",array:"stroke-dasharray"},A8={offset:"strokeDashoffset",array:"strokeDasharray"};function a8(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?i8:A8;t[i.offset]=ye.transform(-r);const A=ye.transform(e),a=ye.transform(n);t[i.array]=`${A} ${a}`}function Tb(t,e,n){return typeof t=="string"?t:ye.transform(e+n*t)}function o8(t,e,n){const r=Tb(e,t.x,t.width),s=Tb(n,t.y,t.height);return`${r} ${s}`}function qx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:A,pathSpacing:a=1,pathOffset:o=0,...c},u,h){if(Wx(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:m}=t;f.transform&&(m&&(g.transform=f.transform),delete f.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=o8(m,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),A!==void 0&&a8(f,A,a,o,!1)}const Xx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),SN=()=>({...Xx(),attrs:{}}),Yx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QN(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const NN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kN(t,e,n,r){QN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(NN.has(s)?s:Vx(s),e.attrs[s])}const yp={};function l8(t){Object.assign(yp,t)}function RN(t,{layout:e,layoutId:n}){return xa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yp[t]||t==="opacity")}function Jx(t,e,n){var r;const{style:s}=t,i={};for(const A in s)(xn(s[A])||e.style&&xn(e.style[A])||RN(A,t)||((r=n==null?void 0:n.getValue(A))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[A]=s[A]);return i}function DN(t,e,n){const r=Jx(t,e,n);for(const s in t)if(xn(t[s])||xn(e[s])){const i=gl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function c8(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Ib=["x","y","width","height","cx","cy","r"],u8={useVisualState:TN({scrapeMotionValuesFromProps:DN,createRenderState:SN,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(xa.has(a)){i=!0;break}}if(!i)return;let A=!e;if(e)for(let a=0;a<Ib.length;a++){const o=Ib[a];t[o]!==e[o]&&(A=!0)}A&&ot.read(()=>{c8(n,r),ot.render(()=>{qx(r,s,Yx(n.tagName),t.transformTemplate),kN(n,r)})})}})},d8={useVisualState:TN({scrapeMotionValuesFromProps:Jx,createRenderState:Xx})};function PN(t,e,n){for(const r in e)!xn(e[r])&&!RN(r,n)&&(t[r]=e[r])}function h8({transformTemplate:t},e){return U.useMemo(()=>{const n=Xx();return Wx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function f8(t,e){const n=t.style||{},r={};return PN(r,n,t),Object.assign(r,h8(t,e)),r}function p8(t,e){const n={},r=f8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function g8(t,e,n,r){const s=U.useMemo(()=>{const i=SN();return qx(i,e,Yx(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};PN(i,t.style,t),s.style={...i,...s.style}}return s}function m8(t=!1){return(n,r,s,{latestValues:i},A)=>{const o=(Kx(n)?g8:p8)(r,i,A,n),c=Q9(r,typeof n=="string",t),u=n!==U.Fragment?{...c,...o,ref:s}:{},{children:h}=r,f=U.useMemo(()=>xn(h)?h.get():h,[h]);return U.createElement(n,{...u,children:f})}}function y8(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const A={...Kx(r)?u8:d8,preloadedFeatures:t,useRender:m8(s),createVisualElement:e,Component:r};return O9(A)}}function LN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function em(t,e,n){const r=t.getProps();return zx(r,e,n!==void 0?n:r.custom,t)}const v8=jx(()=>window.ScrollTimeline!==void 0);class w8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(v8()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class B8 extends w8{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Zx(t,e){return t?t[e]||t.default||t:void 0}const kv=2e4;function jN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kv;)e+=n,r=t.next(e);return e>=kv?1/0:e}function eC(t){return typeof t=="function"}function Ub(t,e){t.timeline=e,t.onfinish=null}const tC=t=>Array.isArray(t)&&typeof t[0]=="number",x8={linearEasing:void 0};function C8(t,e){const n=jx(t);return()=>{var r;return(r=x8[e])!==null&&r!==void 0?r:n()}}const vp=C8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(qo(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function ON(t){return!!(typeof t=="function"&&vp()||!t||typeof t=="string"&&(t in Rv||vp())||tC(t)||Array.isArray(t)&&t.every(ON))}const oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Rv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function VN(t,e){if(t)return typeof t=="function"&&vp()?MN(t,e):tC(t)?oc(t):Array.isArray(t)?t.map(n=>VN(n,e)||Rv.easeOut):Rv[t]}const Ir={x:!1,y:!1};function HN(){return Ir.x||Ir.y}function E8(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function KN(t,e){const n=E8(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Fb(t){return e=>{e.pointerType==="touch"||HN()||t(e)}}function _8(t,e,n={}){const[r,s,i]=KN(t,n),A=Fb(a=>{const{target:o}=a,c=e(a);if(typeof c!="function"||!o)return;const u=Fb(h=>{c(h),o.removeEventListener("pointerleave",u)});o.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",A,s)}),i}const zN=(t,e)=>e?t===e?!0:zN(t,e.parentElement):!1,nC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,b8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T8(t){return b8.has(t.tagName)||t.tabIndex!==-1}const lc=new WeakSet;function Sb(t){return e=>{e.key==="Enter"&&t(e)}}function m0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Sb(()=>{if(lc.has(n))return;m0(n,"down");const s=Sb(()=>{m0(n,"up")}),i=()=>m0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Qb(t){return nC(t)&&!HN()}function U8(t,e,n={}){const[r,s,i]=KN(t,n),A=a=>{const o=a.currentTarget;if(!Qb(a)||lc.has(o))return;lc.add(o);const c=e(a),u=(g,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Qb(g)||!lc.has(o))&&(lc.delete(o),typeof c=="function"&&c(g,{success:m}))},h=g=>{u(g,n.useGlobalTarget||zN(o,g.target))},f=g=>{u(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!T8(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",A,s),a.addEventListener("focus",c=>I8(c,s),s)}),i}function F8(t){return t==="x"||t==="y"?Ir[t]?null:(Ir[t]=!0,()=>{Ir[t]=!1}):Ir.x||Ir.y?null:(Ir.x=Ir.y=!0,()=>{Ir.x=Ir.y=!1})}const GN=new Set(["width","height","top","left","right","bottom",...gl]);let gf;function S8(){gf=void 0}const os={now:()=>(gf===void 0&&os.set(Xt.isProcessing||b9.useManualTiming?Xt.timestamp:performance.now()),gf),set:t=>{gf=t,queueMicrotask(S8)}};function rC(t,e){t.indexOf(e)===-1&&t.push(e)}function sC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class iC{constructor(){this.subscriptions=[]}add(e){return rC(this.subscriptions,e),()=>sC(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const A=this.subscriptions[i];A&&A(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $N(t,e){return e?t*(1e3/e):0}const Nb=30,Q8=t=>!isNaN(parseFloat(t));class N8{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=os.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=os.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Q8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new iC);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=os.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Nb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Nb);return $N(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(t,e){return new N8(t,e)}function k8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Uu(n))}function R8(t,e){const n=em(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const A in i){const a=$9(i[A]);k8(t,A,a)}}function D8(t){return!!(xn(t)&&t.add)}function Dv(t,e){const n=t.getValue("willChange");if(D8(n))return n.add(e)}function WN(t){return t.props[EN]}const qN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,P8=1e-7,L8=12;function j8(t,e,n,r,s){let i,A,a=0;do A=e+(n-e)/2,i=qN(A,r,s)-t,i>0?n=A:e=A;while(Math.abs(i)>P8&&++a<L8);return A}function yd(t,e,n,r){if(t===e&&n===r)return rr;const s=i=>j8(i,0,1,t,n);return i=>i===0||i===1?i:qN(s(i),e,r)}const XN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YN=t=>e=>1-t(1-e),JN=yd(.33,1.53,.69,.99),AC=YN(JN),ZN=XN(AC),ek=t=>(t*=2)<1?.5*AC(t):.5*(2-Math.pow(2,-10*(t-1))),aC=t=>1-Math.sin(Math.acos(t)),tk=YN(aC),nk=XN(aC),rk=t=>/^0[^.\s]+$/u.test(t);function M8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||rk(t):!0}const Lc=t=>Math.round(t*1e5)/1e5,oC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O8(t){return t==null}const V8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lC=(t,e)=>n=>!!(typeof n=="string"&&V8.test(n)&&n.startsWith(t)||e&&!O8(n)&&Object.prototype.hasOwnProperty.call(n,e)),sk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,A,a]=r.match(oC);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(A),alpha:a!==void 0?parseFloat(a):1}},H8=t=>Zs(0,255,t),y0={...ml,transform:t=>Math.round(H8(t))},MA={test:lC("rgb","red"),parse:sk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+y0.transform(t)+", "+y0.transform(e)+", "+y0.transform(n)+", "+Lc(Iu.transform(r))+")"};function K8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Pv={test:lC("#"),parse:K8,transform:MA.transform},oo={test:lC("hsl","hue"),parse:sk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+as.transform(Lc(e))+", "+as.transform(Lc(n))+", "+Lc(Iu.transform(r))+")"},mn={test:t=>MA.test(t)||Pv.test(t)||oo.test(t),parse:t=>MA.test(t)?MA.parse(t):oo.test(t)?oo.parse(t):Pv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?MA.transform(t):oo.transform(t)},z8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G8(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(z8))===null||n===void 0?void 0:n.length)||0)>0}const ik="number",Ak="color",$8="var",W8="var(",kb="${}",q8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(q8,o=>(mn.test(o)?(r.color.push(i),s.push(Ak),n.push(mn.parse(o))):o.startsWith(W8)?(r.var.push(i),s.push($8),n.push(o)):(r.number.push(i),s.push(ik),n.push(parseFloat(o))),++i,kb)).split(kb);return{values:n,split:a,indexes:r,types:s}}function ak(t){return Fu(t).values}function ok(t){const{split:e,types:n}=Fu(t),r=e.length;return s=>{let i="";for(let A=0;A<r;A++)if(i+=e[A],s[A]!==void 0){const a=n[A];a===ik?i+=Lc(s[A]):a===Ak?i+=mn.transform(s[A]):i+=s[A]}return i}}const X8=t=>typeof t=="number"?0:t;function Y8(t){const e=ak(t);return ok(t)(e.map(X8))}const sA={test:G8,parse:ak,createTransformer:ok,getAnimatableNone:Y8},J8=new Set(["brightness","contrast","saturate","opacity"]);function Z8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(oC)||[];if(!r)return t;const s=n.replace(r,"");let i=J8.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const eG=/\b([a-z-]*)\(.*?\)/gu,Lv={...sA,getAnimatableNone:t=>{const e=t.match(eG);return e?e.map(Z8).join(" "):t}},tG={...$x,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:Lv,WebkitFilter:Lv},cC=t=>tG[t];function lk(t,e){let n=cC(t);return n!==Lv&&(n=sA),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nG=new Set(["auto","none","0"]);function rG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!nG.has(i)&&Fu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=lk(n,s)}const Rb=t=>t===ml||t===ye,Db=(t,e)=>parseFloat(t.split(", ")[e]),Pb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Db(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Db(i[1],t):0}},sG=new Set(["x","y","z"]),iG=gl.filter(t=>!sG.has(t));function AG(t){const e=[];return iG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Pb(4,13),y:Pb(5,14)};Yo.translateX=Yo.x;Yo.translateY=Yo.y;const WA=new Set;let jv=!1,Mv=!1;function ck(){if(Mv){const t=Array.from(WA).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=AG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,A])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(A)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Mv=!1,jv=!1,WA.forEach(t=>t.complete()),WA.clear()}function uk(){WA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mv=!0)})}function aG(){uk(),ck()}class uC{constructor(e,n,r,s,i,A=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=A}scheduleResolve(){this.isScheduled=!0,this.isAsync?(WA.add(this),jv||(jv=!0,ot.read(uk),ot.resolveKeyframes(ck))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const A=s==null?void 0:s.get(),a=e[e.length-1];if(A!==void 0)e[0]=A;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&A===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),WA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,WA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),oG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lG(t){const e=oG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function hk(t,e,n=1){const[r,s]=lG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const A=i.trim();return dk(A)?parseFloat(A):A}return Gx(s)?hk(s,e,n+1):s}const fk=t=>e=>e.test(t),cG={test:t=>t==="auto",parse:t=>t},pk=[ml,ye,as,ui,Z9,J9,cG],Lb=t=>pk.find(fk(t));class gk extends uC{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="string"&&(c=c.trim(),Gx(c))){const u=hk(c,n.current);u!==void 0&&(e[o]=u),o===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!GN.has(r)||e.length!==2)return;const[s,i]=e,A=Lb(s),a=Lb(i);if(A!==a)if(Rb(A)&&Rb(a))for(let o=0;o<e.length;o++){const c=e[o];typeof c=="string"&&(e[o]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)M8(e[s])&&r.push(s);r.length&&rG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const A=s.length-1,a=s[A];s[A]=Yo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([o,c])=>{n.getValue(o).set(c)}),this.resolveNoneKeyframes()}}const jb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(sA.test(t)||t==="0")&&!t.startsWith("url("));function uG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],A=jb(s,e),a=jb(i,e);return!A||!a?!1:uG(t)||(n==="spring"||eC(n))&&r}const hG=t=>t!==null;function tm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(hG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const fG=40;class mk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:A="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=os.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:A,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&aG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=os.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:A,onComplete:a,onUpdate:o,isGenerator:c}=this.options;if(!c&&!dG(e,r,s,i))if(A)this.options.duration=0;else{o&&o(tm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,n)=>t+(e-t)*n;function v0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,A=0;if(!e)s=i=A=n;else{const a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;s=v0(o,a,t+1/3),i=v0(o,a,t),A=v0(o,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(A*255),alpha:r}}function wp(t,e){return n=>n>0?e:t}const w0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},gG=[Pv,MA,oo],mG=t=>gG.find(e=>e.test(t));function Mb(t){const e=mG(t);if(!e)return!1;let n=e.parse(t);return e===oo&&(n=pG(n)),n}const Ob=(t,e)=>{const n=Mb(t),r=Mb(e);if(!n||!r)return wp(t,e);const s={...n};return i=>(s.red=w0(n.red,r.red,i),s.green=w0(n.green,r.green,i),s.blue=w0(n.blue,r.blue,i),s.alpha=ft(n.alpha,r.alpha,i),MA.transform(s))},yG=(t,e)=>n=>e(t(n)),vd=(...t)=>t.reduce(yG),Ov=new Set(["none","hidden"]);function vG(t,e){return Ov.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wG(t,e){return n=>ft(t,e,n)}function dC(t){return typeof t=="number"?wG:typeof t=="string"?Gx(t)?wp:mn.test(t)?Ob:CG:Array.isArray(t)?yk:typeof t=="object"?mn.test(t)?Ob:BG:wp}function yk(t,e){const n=[...t],r=n.length,s=t.map((i,A)=>dC(i)(i,e[A]));return i=>{for(let A=0;A<r;A++)n[A]=s[A](i);return n}}function BG(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=dC(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function xG(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const A=e.types[i],a=t.indexes[A][s[A]],o=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=o,s[A]++}return r}const CG=(t,e)=>{const n=sA.createTransformer(e),r=Fu(t),s=Fu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ov.has(t)&&!s.values.length||Ov.has(e)&&!r.values.length?vG(t,e):vd(yk(xG(r,s),s.values),n):wp(t,e)};function vk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):dC(t)(t,e)}const EG=5;function wk(t,e,n){const r=Math.max(e-EG,0);return $N(n-t(r),e-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},B0=.001;function _G({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:r=vt.mass}){let s,i,A=1-e;A=Zs(vt.minDamping,vt.maxDamping,A),t=Zs(vt.minDuration,vt.maxDuration,js(t)),A<1?(s=c=>{const u=c*A,h=u*t,f=u-n,g=Vv(c,A),m=Math.exp(-h);return B0-f/g*m},i=c=>{const h=c*A*t,f=h*n+n,g=Math.pow(A,2)*Math.pow(c,2)*t,m=Math.exp(-h),y=Vv(Math.pow(c,2),A);return(-s(c)+B0>0?-1:1)*((f-g)*m)/y}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-B0+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,o=TG(s,i,a);if(t=Ls(t),isNaN(o))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const c=Math.pow(o,2)*r;return{stiffness:c,damping:A*2*Math.sqrt(r*c),duration:t}}}const bG=12;function TG(t,e,n){let r=n;for(let s=1;s<bG;s++)r=r-t(r)/e(r);return r}function Vv(t,e){return t*Math.sqrt(1-e*e)}const IG=["duration","bounce"],UG=["stiffness","damping","mass"];function Vb(t,e){return e.some(n=>t[n]!==void 0)}function FG(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!Vb(t,UG)&&Vb(t,IG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Zs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:vt.mass,stiffness:s,damping:i}}else{const n=_G(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function Bk(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],A=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:o,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=FG({...n,velocity:-js(n.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(o*u)),E=A-i,x=js(Math.sqrt(o/u)),v=Math.abs(E)<5;r||(r=v?vt.restSpeed.granular:vt.restSpeed.default),s||(s=v?vt.restDelta.granular:vt.restDelta.default);let w;if(y<1){const T=Vv(x,y);w=N=>{const b=Math.exp(-y*x*N);return A-b*((m+y*x*E)/T*Math.sin(T*N)+E*Math.cos(T*N))}}else if(y===1)w=T=>A-Math.exp(-x*T)*(E+(m+x*E)*T);else{const T=x*Math.sqrt(y*y-1);w=N=>{const b=Math.exp(-y*x*N),C=Math.min(T*N,300);return A-b*((m+y*x*E)*Math.sinh(C)+T*E*Math.cosh(C))/T}}const F={calculatedDuration:g&&h||null,next:T=>{const N=w(T);if(g)a.done=T>=h;else{let b=0;y<1&&(b=T===0?Ls(m):wk(w,T,N));const C=Math.abs(b)<=r,_=Math.abs(A-N)<=s;a.done=C&&_}return a.value=a.done?A:N,a},toString:()=>{const T=Math.min(jN(F),kv),N=MN(b=>F.next(T*b).value,T,30);return T+"ms "+N}};return F}function Hb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:A,min:a,max:o,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=C=>a!==void 0&&C<a||o!==void 0&&C>o,m=C=>a===void 0?o:o===void 0||Math.abs(a-C)<Math.abs(o-C)?a:o;let y=n*e;const E=h+y,x=A===void 0?E:A(E);x!==E&&(y=x-h);const v=C=>-y*Math.exp(-C/r),w=C=>x+v(C),F=C=>{const _=v(C),I=w(C);f.done=Math.abs(_)<=c,f.value=f.done?x:I};let T,N;const b=C=>{g(f.value)&&(T=C,N=Bk({keyframes:[f.value,m(f.value)],velocity:wk(w,C,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return b(0),{calculatedDuration:null,next:C=>{let _=!1;return!N&&T===void 0&&(_=!0,F(C),b(C)),T!==void 0&&C>=T?N.next(C-T):(!_&&F(C),f)}}}const SG=yd(.42,0,1,1),QG=yd(0,0,.58,1),xk=yd(.42,0,.58,1),NG=t=>Array.isArray(t)&&typeof t[0]!="number",Kb={linear:rr,easeIn:SG,easeInOut:xk,easeOut:QG,circIn:aC,circInOut:nk,circOut:tk,backIn:AC,backInOut:ZN,backOut:JN,anticipate:ek},zb=t=>{if(tC(t)){Qv(t.length===4);const[e,n,r,s]=t;return yd(e,n,r,s)}else if(typeof t=="string")return Qv(Kb[t]!==void 0),Kb[t];return t};function kG(t,e,n){const r=[],s=n||vk,i=t.length-1;for(let A=0;A<i;A++){let a=s(t[A],t[A+1]);if(e){const o=Array.isArray(e)?e[A]||rr:e;a=vd(o,a)}r.push(a)}return r}function RG(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Qv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const A=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=kG(e,r,s),o=a.length,c=u=>{if(A&&u<t[0])return e[0];let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=qo(t[h],t[h+1],u);return a[h](f)};return n?u=>c(Zs(t[0],t[i-1],u)):c}function DG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=qo(0,e,r);t.push(ft(n,1,s))}}function PG(t){const e=[0];return DG(e,t.length-1),e}function LG(t,e){return t.map(n=>n*e)}function jG(t,e){return t.map(()=>e||xk).splice(0,t.length-1)}function Bp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=NG(r)?r.map(zb):zb(r),i={done:!1,value:e[0]},A=LG(n&&n.length===e.length?n:PG(e),t),a=RG(A,e,{ease:Array.isArray(s)?s:jG(e,s)});return{calculatedDuration:t,next:o=>(i.value=a(o),i.done=o>=t,i)}}const MG=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ot.update(e,!0),stop:()=>rA(e),now:()=>Xt.isProcessing?Xt.timestamp:os.now()}},OG={decay:Hb,inertia:Hb,tween:Bp,keyframes:Bp,spring:Bk},VG=t=>t/100;class hC extends mk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,A=(s==null?void 0:s.KeyframeResolver)||uC,a=(o,c)=>this.onKeyframesResolved(o,c);this.resolver=new A(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:A=0}=this.options,a=eC(n)?n:OG[n]||Bp;let o,c;a!==Bp&&typeof e[0]!="number"&&(o=vd(VG,vk(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-A})),u.calculatedDuration===null&&(u.calculatedDuration=jN(u));const{calculatedDuration:h}=u,f=h+s,g=f*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:o,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:A,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:m,repeatDelay:y,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,F=i;if(g){const C=Math.min(this.currentTime,u)/h;let _=Math.floor(C),I=C%1;!I&&C>=1&&(I=1),I===1&&_--,_=Math.min(_,g+1),!!(_%2)&&(m==="reverse"?(I=1-I,y&&(I-=y/h)):m==="mirror"&&(F=A)),w=Zs(0,1,I)*h}const T=v?{done:!1,value:o[0]}:F.next(w);a&&(T.value=a(T.value));let{done:N}=T;!v&&c!==null&&(N=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return b&&s!==void 0&&(T.value=tm(o,this.options,s)),E&&E(T.value),b&&this.finish(),T}get duration(){const{resolved:e}=this;return e?js(e.calculatedDuration):0}get time(){return js(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=js(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=MG,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const HG=new Set(["opacity","clipPath","filter","transform"]);function KG(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:A="loop",ease:a="easeInOut",times:o}={}){const c={[e]:n};o&&(c.offset=o);const u=VN(a,s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:A==="reverse"?"alternate":"normal"})}const zG=jx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),xp=10,GG=2e4;function $G(t){return eC(t.type)||t.type==="spring"||!ON(t.ease)}function WG(t,e){const n=new hC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<GG;)r=n.sample(i),s.push(r.value),i+=xp;return{times:void 0,keyframes:s,duration:i-xp,ease:"linear"}}const Ck={anticipate:ek,backInOut:ZN,circInOut:nk};function qG(t){return t in Ck}class Gb extends mk{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new gk(i,(A,a)=>this.onKeyframesResolved(A,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:A,motionValue:a,name:o,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&vp()&&qG(i)&&(i=Ck[i]),$G(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:m,...y}=this.options,E=WG(e,y);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,s=E.times,i=E.ease,A="keyframes"}const u=KG(a.owner.current,o,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Ub(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(tm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:A,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return js(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return js(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ls(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rr;const{animation:r}=n;Ub(r,e)}return rr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:A,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...g}=this.options,m=new hC({...g,keyframes:r,duration:s,type:i,ease:A,times:a,isGenerator:!0}),y=Ls(this.time);c.setWithVelocity(m.sample(y-xp).value,m.sample(y).value,xp)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:A,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=n.owner.getProps();return zG()&&r&&HG.has(r)&&!o&&!c&&!s&&i!=="mirror"&&A!==0&&a!=="inertia"}}const XG={type:"spring",stiffness:500,damping:25,restSpeed:10},YG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),JG={type:"keyframes",duration:.8},ZG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e$=(t,{keyframes:e})=>e.length>2?JG:xa.has(t)?t.startsWith("scale")?YG(e[1]):XG:ZG;function t$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:A,repeatDelay:a,from:o,elapsed:c,...u}){return!!Object.keys(u).length}const fC=(t,e,n,r={},s,i)=>A=>{const a=Zx(r,t)||{},o=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ls(o);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{A(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};t$(a)||(u={...u,...e$(t,u)}),u.duration&&(u.duration=Ls(u.duration)),u.repeatDelay&&(u.repeatDelay=Ls(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=tm(u.keyframes,a);if(f!==void 0)return ot.update(()=>{u.onUpdate(f),u.onComplete()}),new B8([])}return!i&&Gb.supports(u)?new Gb(u):new hC(u)};function n$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ek(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:A=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(A=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=o[h];if(g===void 0||u&&n$(u,h))continue;const m={delay:n,...Zx(A||{},h)};let y=!1;if(window.MotionHandoffAnimation){const x=WN(t);if(x){const v=window.MotionHandoffAnimation(x,h,ot);v!==null&&(m.startTime=v,y=!0)}}Dv(t,h),f.start(fC(h,f,g,t.shouldReduceMotion&&GN.has(h)?{type:!1}:m,t,y));const E=f.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{ot.update(()=>{a&&R8(t,a)})}),c}function Hv(t,e,n={}){var r;const s=em(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const A=s?()=>Promise.all(Ek(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return r$(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[A,a]:[a,A];return c().then(()=>u())}else return Promise.all([A(),a(n.delay)])}function r$(t,e,n=0,r=0,s=1,i){const A=[],a=(t.variantChildren.size-1)*r,o=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(s$).forEach((c,u)=>{c.notify("AnimationStart",e),A.push(Hv(c,e,{...i,delay:n+o(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(A)}function s$(t,e){return t.sortNodePosition(e)}function i$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Hv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Hv(t,e,n);else{const s=typeof e=="function"?em(t,e,n.custom):e;r=Promise.all(Ek(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const A$=Ox.length;function _k(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_k(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<A$;n++){const r=Ox[n],s=t.props[r];(Tu(s)||s===!1)&&(e[r]=s)}return e}const a$=[...Mx].reverse(),o$=Mx.length;function l$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>i$(t,n,r)))}function c$(t){let e=l$(t),n=$b(),r=!0;const s=o=>(c,u)=>{var h;const f=em(t,u,o==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:m,...y}=f;c={...c,...y,...m}}return c};function i(o){e=o(t)}function A(o){const{props:c}=t,u=_k(t.parent)||{},h=[],f=new Set;let g={},m=1/0;for(let E=0;E<o$;E++){const x=a$[E],v=n[x],w=c[x]!==void 0?c[x]:u[x],F=Tu(w),T=x===o?v.isActive:null;T===!1&&(m=E);let N=w===u[x]&&w!==c[x]&&F;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),v.protectedKeys={...g},!v.isActive&&T===null||!w&&!v.prevProp||Jg(w)||typeof w=="boolean")continue;const b=u$(v.prevProp,w);let C=b||x===o&&v.isActive&&!N&&F||E>m&&F,_=!1;const I=Array.isArray(w)?w:[w];let k=I.reduce(s(x),{});T===!1&&(k={});const{prevResolvedValues:R={}}=v,S={...R,...k},ee=J=>{C=!0,f.has(J)&&(_=!0,f.delete(J)),v.needsAnimating[J]=!0;const L=t.getValue(J);L&&(L.liveStyle=!1)};for(const J in S){const L=k[J],H=R[J];if(g.hasOwnProperty(J))continue;let W=!1;Nv(L)&&Nv(H)?W=!LN(L,H):W=L!==H,W?L!=null?ee(J):f.add(J):L!==void 0&&f.has(J)?ee(J):v.protectedKeys[J]=!0}v.prevProp=w,v.prevResolvedValues=k,v.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(N&&b)||_)&&h.push(...I.map(J=>({animation:J,options:{type:x}})))}if(f.size){const E={};f.forEach(x=>{const v=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),E[x]=v??null}),h.push({animation:E})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(o,c){var u;if(n[o].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(o,c)}),n[o].isActive=c;const h=A(o);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:A,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=$b(),r=!0}}}function u$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LN(e,t):!1}function bA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $b(){return{animate:bA(!0),whileInView:bA(),whileHover:bA(),whileTap:bA(),whileDrag:bA(),whileFocus:bA(),exit:bA()}}class mA{constructor(e){this.isMounted=!1,this.node=e}update(){}}class d$ extends mA{constructor(e){super(e),e.animationState||(e.animationState=c$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let h$=0;class f$ extends mA{constructor(){super(...arguments),this.id=h$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const p$={animation:{Feature:d$},exit:{Feature:f$}};function Su(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wd(t){return{point:{x:t.pageX,y:t.pageY}}}const g$=t=>e=>nC(e)&&t(e,wd(e));function jc(t,e,n,r){return Su(t,e,g$(n),r)}const Wb=(t,e)=>Math.abs(t-e);function m$(t,e){const n=Wb(t.x,e.x),r=Wb(t.y,e.y);return Math.sqrt(n**2+r**2)}class bk{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=C0(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=m$(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:m}=h,{timestamp:y}=Xt;this.history.push({...m,timestamp:y});const{onStart:E,onMove:x}=this.handlers;f||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=x0(f,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=C0(h.type==="pointercancel"?this.lastMoveEventInfo:x0(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,E),m&&m(h,E)},!nC(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const A=wd(e),a=x0(A,this.transformPagePoint),{point:o}=a,{timestamp:c}=Xt;this.history=[{...o,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,C0(a,this.history)),this.removeListeners=vd(jc(this.contextWindow,"pointermove",this.handlePointerMove),jc(this.contextWindow,"pointerup",this.handlePointerUp),jc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rA(this.updatePoint)}}function x0(t,e){return e?{point:e(t.point)}:t}function qb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C0({point:t},e){return{point:t,delta:qb(t,Tk(e)),offset:qb(t,y$(e)),velocity:v$(e,.1)}}function y$(t){return t[0]}function Tk(t){return t[t.length-1]}function v$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Tk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ls(e)));)n--;if(!r)return{x:0,y:0};const i=js(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const A={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}const Ik=1e-4,w$=1-Ik,B$=1+Ik,Uk=.01,x$=0-Uk,C$=0+Uk;function Ar(t){return t.max-t.min}function E$(t,e,n){return Math.abs(t-e)<=n}function Xb(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Ar(n)/Ar(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=w$&&t.scale<=B$||isNaN(t.scale))&&(t.scale=1),(t.translate>=x$&&t.translate<=C$||isNaN(t.translate))&&(t.translate=0)}function Mc(t,e,n,r){Xb(t.x,e.x,n.x,r?r.originX:void 0),Xb(t.y,e.y,n.y,r?r.originY:void 0)}function Yb(t,e,n){t.min=n.min+e.min,t.max=t.min+Ar(e)}function _$(t,e,n){Yb(t.x,e.x,n.x),Yb(t.y,e.y,n.y)}function Jb(t,e,n){t.min=e.min-n.min,t.max=t.min+Ar(e)}function Oc(t,e,n){Jb(t.x,e.x,n.x),Jb(t.y,e.y,n.y)}function b$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function Zb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function T$(t,{top:e,left:n,bottom:r,right:s}){return{x:Zb(t.x,n,s),y:Zb(t.y,e,r)}}function eT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function I$(t,e){return{x:eT(t.x,e.x),y:eT(t.y,e.y)}}function U$(t,e){let n=.5;const r=Ar(t),s=Ar(e);return s>r?n=qo(e.min,e.max-r,t.min):r>s&&(n=qo(t.min,t.max-s,e.min)),Zs(0,1,n)}function F$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kv=.35;function S$(t=Kv){return t===!1?t=0:t===!0&&(t=Kv),{x:tT(t,"left","right"),y:tT(t,"top","bottom")}}function tT(t,e,n){return{min:nT(t,e),max:nT(t,n)}}function nT(t,e){return typeof t=="number"?t:t[e]||0}const rT=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:rT(),y:rT()}),sT=()=>({min:0,max:0}),_t=()=>({x:sT(),y:sT()});function dr(t){return[t("x"),t("y")]}function Fk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Q$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function E0(t){return t===void 0||t===1}function zv({scale:t,scaleX:e,scaleY:n}){return!E0(t)||!E0(e)||!E0(n)}function SA(t){return zv(t)||Sk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Sk(t){return iT(t.x)||iT(t.y)}function iT(t){return t&&t!=="0%"}function Cp(t,e,n){const r=t-n,s=e*r;return n+s}function AT(t,e,n,r,s){return s!==void 0&&(t=Cp(t,s,r)),Cp(t,n,r)+e}function Gv(t,e=0,n=1,r,s){t.min=AT(t.min,e,n,r,s),t.max=AT(t.max,e,n,r,s)}function Qk(t,{x:e,y:n}){Gv(t.x,e.translate,e.scale,e.originPoint),Gv(t.y,n.translate,n.scale,n.originPoint)}const aT=.999999999999,oT=1.0000000000001;function k$(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,A;for(let a=0;a<s;a++){i=n[a],A=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,Qk(t,A)),r&&SA(i.latestValues)&&uo(t,i.latestValues))}e.x<oT&&e.x>aT&&(e.x=1),e.y<oT&&e.y>aT&&(e.y=1)}function co(t,e){t.min=t.min+e,t.max=t.max+e}function lT(t,e,n,r,s=.5){const i=ft(t.min,t.max,s);Gv(t,e,n,i,r)}function uo(t,e){lT(t.x,e.x,e.scaleX,e.scale,e.originX),lT(t.y,e.y,e.scaleY,e.scale,e.originY)}function Nk(t,e){return Fk(N$(t.getBoundingClientRect(),e))}function R$(t,e,n){const r=Nk(t,n),{scroll:s}=e;return s&&(co(r.x,s.offset.x),co(r.y,s.offset.y)),r}const kk=({current:t})=>t?t.ownerDocument.defaultView:null,D$=new WeakMap;class P${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wd(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F8(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(E=>{let x=this.getAxisMotionValue(E).get()||0;if(as.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[E];w&&(x=Ar(w)*(parseFloat(x)/100))}}this.originPoint[E]=x}),m&&ot.postRender(()=>m(u,h)),Dv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},A=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=h;if(g&&this.currentDirection===null){this.currentDirection=L$(E),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),o=()=>dr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bk(e,{onSessionStart:s,onStart:i,onMove:A,onSessionEnd:a,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:kk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ot.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!yh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let A=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(A=b$(A,this.constraints[e],this.elastic[e])),i.set(A)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=T$(s.layoutBox,n):this.constraints=!1,this.elastic=S$(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dr(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=F$(s.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ao(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=R$(r,s.root,this.visualElement.getTransformPagePoint());let A=I$(s.layout.layoutBox,i);if(n){const a=n(Q$(A));this.hasMutatedConstraints=!!a,a&&(A=Fk(a))}return A}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:A,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},c=dr(u=>{if(!yh(u,n,this.currentDirection))return;let h=o&&o[u]||{};A&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Dv(this.visualElement,e),r.start(fC(e,r,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:r}=this.getProps();if(!yh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:A,max:a}=s.layout.layoutBox[n];i.set(e[n]-ft(A,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ao(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dr(A=>{const a=this.getAxisMotionValue(A);if(a&&this.constraints!==!1){const o=a.get();s[A]=U$({min:o,max:o},this.constraints[A])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dr(A=>{if(!yh(A,e,null))return;const a=this.getAxisMotionValue(A),{min:o,max:c}=this.constraints[A];a.set(ft(o,c,s[A]))})}addListeners(){if(!this.visualElement.current)return;D$.set(this.visualElement,this);const e=this.visualElement.current,n=jc(e,"pointerdown",o=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();ao(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ot.read(r);const A=Su(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:o,hasLayoutChanged:c})=>{this.isDragging&&c&&(dr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=o[u].translate,h.set(h.get()+o[u].translate))}),this.visualElement.render())});return()=>{A(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:A=Kv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:A,dragMomentum:a}}}function yh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class j$ extends mA{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new P$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const cT=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class M$ extends mA{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new bk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:cT(e),onStart:cT(n),onMove:r,onEnd:(i,A)=>{delete this.session,s&&ot.postRender(()=>s(i,A))}}}mount(){this.removePointerDownListener=jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=uT(t,e.target.x),r=uT(t,e.target.y);return`${n}% ${r}%`}},O$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=sA.parse(t);if(s.length>5)return r;const i=sA.createTransformer(t),A=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,o=n.y.scale*e.y;s[0+A]/=a,s[1+A]/=o;const c=ft(a,o,.5);return typeof s[2+A]=="number"&&(s[2+A]/=c),typeof s[3+A]=="number"&&(s[3+A]/=c),i(s)}};class V$ extends U.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;l8(H$),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,A=r.projection;return A&&(A.isPresent=i,s||e.layoutDependency!==n||n===void 0?A.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?A.promote():A.relegate()||ot.postRender(()=>{const a=A.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rk(t){const[e,n]=yN(),r=U.useContext(Rx);return l.jsx(V$,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(_N),isPresent:e,safeToRemove:n})}const H$={borderRadius:{...zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zl,borderTopRightRadius:zl,borderBottomLeftRadius:zl,borderBottomRightRadius:zl,boxShadow:O$};function K$(t,e,n){const r=xn(t)?t:Uu(t);return r.start(fC("",r,e,n)),r.animation}function z$(t){return t instanceof SVGElement&&t.tagName!=="svg"}const G$=(t,e)=>t.depth-e.depth;class $${constructor(){this.children=[],this.isDirty=!1}add(e){rC(this.children,e),this.isDirty=!0}remove(e){sC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G$),this.isDirty=!1,this.children.forEach(e)}}function W$(t,e){const n=os.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(rA(r),t(i-e))};return ot.read(r,!0),()=>rA(r)}const Dk=["TopLeft","TopRight","BottomLeft","BottomRight"],q$=Dk.length,dT=t=>typeof t=="string"?parseFloat(t):t,hT=t=>typeof t=="number"||ye.test(t);function X$(t,e,n,r,s,i){s?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,Y$(r)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,J$(r))):i&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let A=0;A<q$;A++){const a=`border${Dk[A]}Radius`;let o=fT(e,a),c=fT(n,a);if(o===void 0&&c===void 0)continue;o||(o=0),c||(c=0),o===0||c===0||hT(o)===hT(c)?(t[a]=Math.max(ft(dT(o),dT(c),r),0),(as.test(c)||as.test(o))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function fT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Y$=Pk(0,.5,tk),J$=Pk(.5,.95,rr);function Pk(t,e,n){return r=>r<t?0:r>e?1:n(qo(t,e,r))}function pT(t,e){t.min=e.min,t.max=e.max}function cr(t,e){pT(t.x,e.x),pT(t.y,e.y)}function gT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mT(t,e,n,r,s){return t-=e,t=Cp(t,1/n,r),s!==void 0&&(t=Cp(t,1/s,r)),t}function Z$(t,e=0,n=1,r=.5,s,i=t,A=t){if(as.test(e)&&(e=parseFloat(e),e=ft(A.min,A.max,e/100)-A.min),typeof e!="number")return;let a=ft(i.min,i.max,r);t===i&&(a-=e),t.min=mT(t.min,e,n,a,s),t.max=mT(t.max,e,n,a,s)}function yT(t,e,[n,r,s],i,A){Z$(t,e[n],e[r],e[s],e.scale,i,A)}const e7=["x","scaleX","originX"],t7=["y","scaleY","originY"];function vT(t,e,n,r){yT(t.x,e,e7,n?n.x:void 0,r?r.x:void 0),yT(t.y,e,t7,n?n.y:void 0,r?r.y:void 0)}function wT(t){return t.translate===0&&t.scale===1}function Lk(t){return wT(t.x)&&wT(t.y)}function BT(t,e){return t.min===e.min&&t.max===e.max}function n7(t,e){return BT(t.x,e.x)&&BT(t.y,e.y)}function xT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jk(t,e){return xT(t.x,e.x)&&xT(t.y,e.y)}function CT(t){return Ar(t.x)/Ar(t.y)}function ET(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class r7{constructor(){this.members=[]}add(e){rC(this.members,e),e.scheduleRender()}remove(e){if(sC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function s7(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,A=(n==null?void 0:n.z)||0;if((s||i||A)&&(r=`translate3d(${s}px, ${i}px, ${A}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const QA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cc=typeof window<"u"&&window.MotionDebug!==void 0,_0=["","X","Y","Z"],i7={visibility:"hidden"},_T=1e3;let A7=0;function b0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Mk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=WN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Mk(r)}function Ok({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(A={},a=e==null?void 0:e()){this.id=A7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cc&&(QA.totalNodes=QA.resolvedTargetDeltas=QA.recalculatedProjection=0),this.nodes.forEach(l7),this.nodes.forEach(f7),this.nodes.forEach(p7),this.nodes.forEach(c7),cc&&window.MotionDebug.record(QA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new $$)}addEventListener(A,a){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new iC),this.eventHandlers.get(A).add(a)}notifyListeners(A,...a){const o=this.eventHandlers.get(A);o&&o.notify(...a)}hasListeners(A){return this.eventHandlers.has(A)}mount(A,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=z$(A),this.instance=A;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||o)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(A,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=W$(f,250),mf.hasAnimatedSinceResize&&(mf.hasAnimatedSinceResize=!1,this.nodes.forEach(TT))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||w7,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!jk(this.targetLayout,m)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const F={...Zx(y,"layout"),onPlay:E,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else f||TT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g7),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bT);return}this.isUpdating||this.nodes.forEach(d7),this.isUpdating=!1,this.nodes.forEach(h7),this.nodes.forEach(a7),this.nodes.forEach(o7),this.clearAllSnapshots();const a=os.now();Xt.delta=Zs(0,1e3/60,a-Xt.timestamp),Xt.timestamp=a,Xt.isProcessing=!0,g0.update.process(Xt),g0.preRender.process(Xt),g0.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u7),this.sharedNodes.forEach(m7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(a=!1),a){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!s)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Lk(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;A&&(a||SA(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return A&&(o=this.removeTransform(o)),B7(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var A;const{visualElement:a}=this.options;if(!a)return _t();const o=a.measureViewportBox();if(!(((A=this.scroll)===null||A===void 0?void 0:A.wasRoot)||this.path.some(x7))){const{scroll:u}=this.root;u&&(co(o.x,u.offset.x),co(o.y,u.offset.y))}return o}removeElementScroll(A){var a;const o=_t();if(cr(o,A),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&cr(o,A),co(o.x,h.offset.x),co(o.y,h.offset.y))}return o}applyTransform(A,a=!1){const o=_t();cr(o,A);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&uo(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),SA(u.latestValues)&&uo(o,u.latestValues)}return SA(this.latestValues)&&uo(o,this.latestValues),o}removeTransform(A){const a=_t();cr(a,A);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!SA(c.latestValues))continue;zv(c.latestValues)&&c.updateSnapshot();const u=_t(),h=c.measurePageBox();cr(u,h),vT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return SA(this.latestValues)&&vT(a,this.latestValues),a}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var a;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(A||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Xt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),Qk(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Oc(this.relativeTargetOrigin,this.target,g.target),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cc&&QA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zv(this.parent.latestValues)||Sk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((A=this.parent)===null||A===void 0)&&A.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;cr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;k$(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=_t());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gT(this.prevProjectionDelta.x,this.projectionDelta.x),gT(this.prevProjectionDelta.y,this.projectionDelta.y)),Mc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!ET(this.projectionDelta.x,this.prevProjectionDelta.x)||!ET(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),cc&&QA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),A){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lo(),this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo()}setAnimationOrigin(A,a=!1){const o=this.snapshot,c=o?o.latestValues:{},u={...this.latestValues},h=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=_t(),g=o?o.source:void 0,m=this.layout?this.layout.source:void 0,y=g!==m,E=this.getStack(),x=!E||E.members.length<=1,v=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(v7));this.animationProgress=0;let w;this.mixTargetDelta=F=>{const T=F/1e3;IT(h.x,A.x,T),IT(h.y,A.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y7(this.relativeTarget,this.relativeTargetOrigin,f,T),w&&n7(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=_t()),cr(w,this.relativeTarget)),y&&(this.animationValues=u,X$(u,c,this.latestValues,T,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{mf.hasAnimatedSinceResize=!0,this.currentAnimation=K$(0,_T,{...A,onUpdate:a=>{this.mixTargetDelta(a),A.onUpdate&&A.onUpdate(a)},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_T),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:a,target:o,layout:c,latestValues:u}=A;if(!(!a||!o||!c)){if(this!==A&&this.layout&&c&&Vk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||_t();const h=Ar(this.layout.layoutBox.x);o.x.min=A.target.x.min,o.x.max=o.x.min+h;const f=Ar(this.layout.layoutBox.y);o.y.min=A.target.y.min,o.y.max=o.y.min+f}cr(a,o),uo(a,u),Mc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(A,a){this.sharedNodes.has(A)||this.sharedNodes.set(A,new r7),this.sharedNodes.get(A).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var A;const{layoutId:a}=this.options;return a?((A=this.getStack())===null||A===void 0?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:a}=this.options;return a?(A=this.getStack())===null||A===void 0?void 0:A.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:a,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),A&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let a=!1;const{latestValues:o}=A;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const c={};o.z&&b0("z",A,c,this.animationValues);for(let u=0;u<_0.length;u++)b0(`rotate${_0[u]}`,A,c,this.animationValues),b0(`skew${_0[u]}`,A,c,this.animationValues);A.render();for(const u in c)A.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);A.scheduleRender()}getProjectionStyles(A){var a,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return i7;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pf(A==null?void 0:A.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=pf(A==null?void 0:A.pointerEvents)||""),this.hasProjected&&!SA(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=s7(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:g,y:m}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(o=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in yp){if(f[y]===void 0)continue;const{correct:E,applyTo:x}=yp[y],v=c.transform==="none"?f[y]:E(f[y],h);if(x){const w=x.length;for(let F=0;F<w;F++)c[x[F]]=v}else c[y]=v}return this.options.layoutId&&(c.pointerEvents=h===this?pf(A==null?void 0:A.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var a;return(a=A.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(bT),this.root.sharedNodes.clear()}}}function a7(t){t.updateLayout()}function o7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,A=n.source!==t.layout.source;i==="size"?dr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=Ar(f);f.min=r[h].min,f.max=f.min+g}):Vk(i,n.layoutBox,r)&&dr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=Ar(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=lo();Mc(a,r,n.layoutBox);const o=lo();A?Mc(o,t.applyTransform(s,!0),n.measuredBox):Mc(o,r,n.layoutBox);const c=!Lk(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const m=_t();Oc(m,n.layoutBox,f.layoutBox);const y=_t();Oc(y,r,g.layoutBox),jk(m,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l7(t){cc&&QA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u7(t){t.clearSnapshot()}function bT(t){t.clearMeasurements()}function d7(t){t.isLayoutDirty=!1}function h7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f7(t){t.resolveTargetDelta()}function p7(t){t.calcProjection()}function g7(t){t.resetSkewAndRotation()}function m7(t){t.removeLeadSnapshot()}function IT(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UT(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function y7(t,e,n,r){UT(t.x,e.x,n.x,r),UT(t.y,e.y,n.y,r)}function v7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const w7={duration:.45,ease:[.4,0,.1,1]},FT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ST=FT("applewebkit/")&&!FT("chrome/")?Math.round:rr;function QT(t){t.min=ST(t.min),t.max=ST(t.max)}function B7(t){QT(t.x),QT(t.y)}function Vk(t,e,n){return t==="position"||t==="preserve-aspect"&&!E$(CT(e),CT(n),.2)}function x7(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const C7=Ok({attachResizeListener:(t,e)=>Su(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T0={current:void 0},Hk=Ok({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!T0.current){const t=new C7({});t.mount(window),t.setOptions({layoutScroll:!0}),T0.current=t}return T0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E7={pan:{Feature:M$},drag:{Feature:j$,ProjectionNode:Hk,MeasureLayout:Rk}};function NT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ot.postRender(()=>i(e,wd(e)))}class _7 extends mA{mount(){const{current:e}=this.node;e&&(this.unmount=_8(e,n=>(NT(this.node,n,"Start"),r=>NT(this.node,r,"End"))))}unmount(){}}class b7 extends mA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vd(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ot.postRender(()=>i(e,wd(e)))}class T7 extends mA{mount(){const{current:e}=this.node;e&&(this.unmount=U8(e,n=>(kT(this.node,n,"Start"),(r,{success:s})=>kT(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $v=new WeakMap,I0=new WeakMap,I7=t=>{const e=$v.get(t.target);e&&e(t)},U7=t=>{t.forEach(I7)};function F7({root:t,...e}){const n=t||document;I0.has(n)||I0.set(n,{});const r=I0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(U7,{root:t,...e})),r[s]}function S7(t,e,n){const r=F7(e);return $v.set(t,n),r.observe(t),()=>{$v.delete(t),r.unobserve(t)}}const Q7={some:0,all:1};class N7 extends mA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,A={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Q7[s]},a=o=>{const{isIntersecting:c}=o;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(o)};return S7(this.node.current,A,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k7(e,n))&&this.startObserver()}unmount(){}}function k7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R7={inView:{Feature:N7},tap:{Feature:T7},focus:{Feature:b7},hover:{Feature:_7}},D7={layout:{ProjectionNode:Hk,MeasureLayout:Rk}},Wv={current:null},Kk={current:!1};function P7(){if(Kk.current=!0,!!Lx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wv.current=t.matches;t.addListener(e),e()}else Wv.current=!1}const L7=[...pk,mn,sA],j7=t=>L7.find(fk(t)),RT=new WeakMap;function M7(t,e,n){for(const r in e){const s=e[r],i=n[r];if(xn(s))t.addValue(r,s);else if(xn(i))t.addValue(r,Uu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const A=t.getValue(r);A.liveStyle===!0?A.jump(s):A.hasAnimated||A.set(s)}else{const A=t.getStaticValue(r);t.addValue(r,Uu(A!==void 0?A:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const DT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O7{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:A},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=os.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ot.render(this.render,!1,!0))};const{latestValues:o,renderState:c,onUpdate:u}=A;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Zg(n),this.isVariantNode=CN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];o[g]!==void 0&&xn(m)&&m.set(o[g],!1)}}mount(e){this.current=e,RT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Kk.current||P7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){RT.delete(this.current),this.projection&&this.projection.unmount(),rA(this.notifyUpdate),rA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xa.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let A;window.MotionCheckAppearSync&&(A=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),A&&A(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xo){const n=Xo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<DT.length;r++){const s=DT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,A=e[i];A&&(this.propEventSubscriptions[s]=this.on(s,A))}this.prevMotionValues=M7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Uu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(dk(s)||rk(s))?s=parseFloat(s):!j7(s)&&sA.test(n)&&(s=lk(e,n)),this.setBaseTarget(e,xn(s)?s.get():s)),xn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const A=zx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);A&&(s=A[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!xn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new iC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class zk extends O7{constructor(){super(...arguments),this.KeyframeResolver=gk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function V7(t){return window.getComputedStyle(t)}class H7 extends zk{constructor(){super(...arguments),this.type="html",this.renderInstance=QN}readValueFromInstance(e,n){if(xa.has(n)){const r=cC(n);return r&&r.default||0}else{const r=V7(e),s=(UN(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Nk(e,n)}build(e,n,r){Wx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Jx(e,n,r)}}class K7 extends zk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xa.has(n)){const r=cC(n);return r&&r.default||0}return n=NN.has(n)?n:Vx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return DN(e,n,r)}build(e,n,r){qx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){kN(e,n,r,s)}mount(e){this.isSVGTag=Yx(e.tagName),super.mount(e)}}const z7=(t,e)=>Kx(t)?new K7(e):new H7(e,{allowProjection:t!==U.Fragment}),G7=y8({...p$,...R7,...E7,...D7},z7),z=N9(G7),$7=({onMenuClick:t})=>l.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"flex justify-between items-center h-16",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white rounded-lg",children:l.jsx(pN,{size:24})}),l.jsxs(Xf,{to:"/",className:"flex items-center gap-2",children:[l.jsx(Dr,{className:"w-8 h-8 text-[--theater-gold]"}),l.jsx("span",{className:"text-xl font-bold text-white",children:"Booking Manager"})]})]})})})}),W7=[{path:"/",icon:hN,label:"Home"},{path:"/prenota",icon:Cn,label:"Prenotazioni"},{path:"/profile",icon:nA,label:"Profilo"}],q7=[{path:"/dashboard",icon:jA,label:"Dashboard"},{path:"/dashboard/users",icon:Wo,label:"Utenti"},{path:"/dashboard/products",icon:Sv,label:"Prodotti"}],X7=()=>{const[t,e]=U.useState(!1),n=fA(),r=ol(),{user:s,isAdmin:i}=si(),A=async()=>{try{await vn.signOut(),r("/")}catch(o){console.error("Error signing out:",o)}},a=o=>n.pathname===o||n.pathname.startsWith(`${o}/`);return l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx($7,{onMenuClick:()=>e(!0)}),l.jsx(cn,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>e(!1)}),l.jsxs(z.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:20},className:"fixed left-0 top-0 bottom-0 w-80 bg-gray-800 z-50 shadow-xl",children:[l.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Menu"}),l.jsx("button",{onClick:()=>e(!1),className:"p-2 text-gray-400 hover:text-white rounded-lg",children:l.jsx($n,{size:24})})]}),l.jsxs("div",{className:"p-4",children:[s&&l.jsx("div",{className:"mb-6 p-4 bg-gray-700 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-[--theater-gold] flex items-center justify-center",children:l.jsx(nA,{className:"w-6 h-6 text-black"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:s.email}),l.jsx("div",{className:"text-sm text-gray-400",children:i?"Amministratore":"Utente"})]})]})}),l.jsxs("nav",{className:"space-y-2",children:[W7.map(o=>l.jsxs("button",{onClick:()=>{r(o.path),e(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a(o.path)?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[l.jsx(o.icon,{size:20}),l.jsx("span",{children:o.label}),l.jsx(Eu,{size:16,className:"ml-auto"})]},o.path)),i&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-4 border-t border-gray-700"}),q7.map(o=>l.jsxs("button",{onClick:()=>{r(o.path),e(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${a(o.path)?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[l.jsx(o.icon,{size:20}),l.jsx("span",{children:o.label}),l.jsx(Eu,{size:16,className:"ml-auto"})]},o.path))]})]}),s&&l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:l.jsxs("button",{onClick:A,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[l.jsx(fN,{size:20}),l.jsx("span",{children:"Esci"})]})})]})]})]})}),l.jsx(z.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-8",children:l.jsx(US,{})})]})};var Bd=t=>t.type==="checkbox",OA=t=>t instanceof Date,Sn=t=>t==null;const Gk=t=>typeof t=="object";var Qt=t=>!Sn(t)&&!Array.isArray(t)&&Gk(t)&&!OA(t),Y7=t=>Qt(t)&&t.target?Bd(t.target)?t.target.checked:t.target.value:t,J7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Z7=(t,e)=>t.has(J7(e)),eW=t=>{const e=t.constructor&&t.constructor.prototype;return Qt(e)&&e.hasOwnProperty("isPrototypeOf")},pC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ur(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(pC&&(t instanceof Blob||r))&&(n||Qt(t)))if(e=n?[]:{},!n&&!eW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ur(t[s]));else return t;return e}var nm=t=>Array.isArray(t)?t.filter(Boolean):[],kt=t=>t===void 0,le=(t,e,n)=>{if(!e||!Qt(t))return n;const r=nm(e.split(/[,[\].]+?/)).reduce((s,i)=>Sn(s)?s:s[i],t);return kt(r)||r===t?kt(t[e])?n:t[e]:r},Wr=t=>typeof t=="boolean",gC=t=>/^\w*$/.test(t),$k=t=>nm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(t,e,n)=>{let r=-1;const s=gC(e)?[e]:$k(e),i=s.length,A=i-1;for(;++r<i;){const a=s[r];let o=n;if(r!==A){const c=t[a];o=Qt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=o,t=t[a]}return t};const PT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};tt.createContext(null);var tW=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const A=i;return e._proxyFormState[A]!==Qr.all&&(e._proxyFormState[A]=!r||Qr.all),t[A]}});return s},Ln=t=>Qt(t)&&!Object.keys(t).length,nW=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Ln(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(A=>e[A]===Qr.all)},yf=t=>Array.isArray(t)?t:[t];function rW(t){const e=tt.useRef(t);e.current=t,tt.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var es=t=>typeof t=="string",sW=(t,e,n,r,s)=>es(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n),Wk=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},LT=t=>({isOnSubmit:!t||t===Qr.onSubmit,isOnBlur:t===Qr.onBlur,isOnChange:t===Qr.onChange,isOnAll:t===Qr.all,isOnTouch:t===Qr.onTouched}),jT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Vc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:A,...a}=i;if(A){if(A.refs&&A.refs[0]&&e(A.refs[0],s)&&!r)return!0;if(A.ref&&e(A.ref,A.name)&&!r)return!0;if(Vc(a,e))break}else if(Qt(a)&&Vc(a,e))break}}};var iW=(t,e,n)=>{const r=yf(le(t,n));return qe(r,"root",e[n]),qe(t,n,r),t},mC=t=>t.type==="file",Xr=t=>typeof t=="function",Ep=t=>{if(!pC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},vf=t=>es(t),yC=t=>t.type==="radio",_p=t=>t instanceof RegExp;const MT={value:!1,isValid:!1},OT={value:!0,isValid:!0};var qk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!kt(t[0].attributes.value)?kt(t[0].value)||t[0].value===""?OT:{value:t[0].value,isValid:!0}:OT:MT}return MT};const VT={isValid:!1,value:null};var Xk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,VT):VT;function HT(t,e,n="validate"){if(vf(t)||Array.isArray(t)&&t.every(vf)||Wr(t)&&!t)return{type:n,message:vf(t)?t:"",ref:e}}var Na=t=>Qt(t)&&!_p(t)?t:{value:t,message:""},KT=async(t,e,n,r,s,i)=>{const{ref:A,refs:a,required:o,maxLength:c,minLength:u,min:h,max:f,pattern:g,validate:m,name:y,valueAsNumber:E,mount:x}=t._f,v=le(n,y);if(!x||e.has(y))return{};const w=a?a[0]:A,F=R=>{s&&w.reportValidity&&(w.setCustomValidity(Wr(R)?"":R||""),w.reportValidity())},T={},N=yC(A),b=Bd(A),C=N||b,_=(E||mC(A))&&kt(A.value)&&kt(v)||Ep(A)&&A.value===""||v===""||Array.isArray(v)&&!v.length,I=Wk.bind(null,y,r,T),k=(R,S,ee,Ae=Es.maxLength,K=Es.minLength)=>{const J=R?S:ee;T[y]={type:R?Ae:K,message:J,ref:A,...I(R?Ae:K,J)}};if(i?!Array.isArray(v)||!v.length:o&&(!C&&(_||Sn(v))||Wr(v)&&!v||b&&!qk(a).isValid||N&&!Xk(a).isValid)){const{value:R,message:S}=vf(o)?{value:!!o,message:o}:Na(o);if(R&&(T[y]={type:Es.required,message:S,ref:w,...I(Es.required,S)},!r))return F(S),T}if(!_&&(!Sn(h)||!Sn(f))){let R,S;const ee=Na(f),Ae=Na(h);if(!Sn(v)&&!isNaN(v)){const K=A.valueAsNumber||v&&+v;Sn(ee.value)||(R=K>ee.value),Sn(Ae.value)||(S=K<Ae.value)}else{const K=A.valueAsDate||new Date(v),J=W=>new Date(new Date().toDateString()+" "+W),L=A.type=="time",H=A.type=="week";es(ee.value)&&v&&(R=L?J(v)>J(ee.value):H?v>ee.value:K>new Date(ee.value)),es(Ae.value)&&v&&(S=L?J(v)<J(Ae.value):H?v<Ae.value:K<new Date(Ae.value))}if((R||S)&&(k(!!R,ee.message,Ae.message,Es.max,Es.min),!r))return F(T[y].message),T}if((c||u)&&!_&&(es(v)||i&&Array.isArray(v))){const R=Na(c),S=Na(u),ee=!Sn(R.value)&&v.length>+R.value,Ae=!Sn(S.value)&&v.length<+S.value;if((ee||Ae)&&(k(ee,R.message,S.message),!r))return F(T[y].message),T}if(g&&!_&&es(v)){const{value:R,message:S}=Na(g);if(_p(R)&&!v.match(R)&&(T[y]={type:Es.pattern,message:S,ref:A,...I(Es.pattern,S)},!r))return F(S),T}if(m){if(Xr(m)){const R=await m(v,n),S=HT(R,w);if(S&&(T[y]={...S,...I(Es.validate,S.message)},!r))return F(S.message),T}else if(Qt(m)){let R={};for(const S in m){if(!Ln(R)&&!r)break;const ee=HT(await m[S](v,n),w,S);ee&&(R={...ee,...I(S,ee.message)},F(ee.message),r&&(T[y]=R))}if(!Ln(R)&&(T[y]={ref:w,...R},!r))return T}}return F(!0),T};function AW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=kt(t)?r++:t[e[r++]];return t}function aW(t){for(const e in t)if(t.hasOwnProperty(e)&&!kt(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:gC(e)?[e]:$k(e),r=n.length===1?t:AW(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Qt(r)&&Ln(r)||Array.isArray(r)&&aW(r))&&Lt(t,n.slice(0,-1)),t}var U0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},qv=t=>Sn(t)||!Gk(t);function _i(t,e){if(qv(t)||qv(e))return t===e;if(OA(t)&&OA(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const A=e[s];if(OA(i)&&OA(A)||Qt(i)&&Qt(A)||Array.isArray(i)&&Array.isArray(A)?!_i(i,A):i!==A)return!1}}return!0}var Yk=t=>t.type==="select-multiple",oW=t=>yC(t)||Bd(t),F0=t=>Ep(t)&&t.isConnected,Jk=t=>{for(const e in t)if(Xr(t[e]))return!0;return!1};function bp(t,e={}){const n=Array.isArray(t);if(Qt(t)||n)for(const r in t)Array.isArray(t[r])||Qt(t[r])&&!Jk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},bp(t[r],e[r])):Sn(t[r])||(e[r]=!0);return e}function Zk(t,e,n){const r=Array.isArray(t);if(Qt(t)||r)for(const s in t)Array.isArray(t[s])||Qt(t[s])&&!Jk(t[s])?kt(e)||qv(n[s])?n[s]=Array.isArray(t[s])?bp(t[s],[]):{...bp(t[s])}:Zk(t[s],Sn(e)?{}:e[s],n[s]):n[s]=!_i(t[s],e[s]);return n}var Gl=(t,e)=>Zk(t,e,bp(e)),e4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>kt(t)?t:e?t===""?NaN:t&&+t:n&&es(t)?new Date(t):r?r(t):t;function S0(t){const e=t.ref;return mC(e)?e.files:yC(e)?Xk(t.refs).value:Yk(e)?[...e.selectedOptions].map(({value:n})=>n):Bd(e)?qk(t.refs).value:e4(kt(e.value)?t.ref.value:e.value,t)}var lW=(t,e,n,r)=>{const s={};for(const i of t){const A=le(e,i);A&&qe(s,i,A._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},$l=t=>kt(t)?t:_p(t)?t.source:Qt(t)?_p(t.value)?t.value.source:t.value:t;const zT="AsyncFunction";var cW=t=>!!t&&!!t.validate&&!!(Xr(t.validate)&&t.validate.constructor.name===zT||Qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===zT)),uW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function GT(t,e,n){const r=le(t,n);if(r||gC(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),A=le(e,i),a=le(t,i);if(A&&!Array.isArray(A)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var dW=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,hW=(t,e)=>!nm(le(t,e)).length&&Lt(t,e);const fW={mode:Qr.onSubmit,reValidateMode:Qr.onChange,shouldFocusError:!0};function pW(t={}){let e={...fW,...t},n={submitCount:0,isDirty:!1,isLoading:Xr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Qt(e.defaultValues)||Qt(e.values)?ur(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:ur(s),A={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:U0(),array:U0(),state:U0()},f=LT(e.mode),g=LT(e.reValidateMode),m=e.criteriaMode===Qr.all,y=D=>j=>{clearTimeout(c),c=setTimeout(D,j)},E=async D=>{if(!e.disabled&&(u.isValid||D)){const j=e.resolver?Ln((await C()).errors):await I(r,!0);j!==n.isValid&&h.state.next({isValid:j})}},x=(D,j)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((D||Array.from(a.mount)).forEach(O=>{O&&(j?qe(n.validatingFields,O,j):Lt(n.validatingFields,O))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Ln(n.validatingFields)}))},v=(D,j=[],O,se,ne=!0,Y=!0)=>{if(se&&O&&!e.disabled){if(A.action=!0,Y&&Array.isArray(le(r,D))){const ge=O(le(r,D),se.argA,se.argB);ne&&qe(r,D,ge)}if(Y&&Array.isArray(le(n.errors,D))){const ge=O(le(n.errors,D),se.argA,se.argB);ne&&qe(n.errors,D,ge),hW(n.errors,D)}if(u.touchedFields&&Y&&Array.isArray(le(n.touchedFields,D))){const ge=O(le(n.touchedFields,D),se.argA,se.argB);ne&&qe(n.touchedFields,D,ge)}u.dirtyFields&&(n.dirtyFields=Gl(s,i)),h.state.next({name:D,isDirty:R(D,j),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else qe(i,D,j)},w=(D,j)=>{qe(n.errors,D,j),h.state.next({errors:n.errors})},F=D=>{n.errors=D,h.state.next({errors:n.errors,isValid:!1})},T=(D,j,O,se)=>{const ne=le(r,D);if(ne){const Y=le(i,D,kt(O)?le(s,D):O);kt(Y)||se&&se.defaultChecked||j?qe(i,D,j?Y:S0(ne._f)):Ae(D,Y),A.mount&&E()}},N=(D,j,O,se,ne)=>{let Y=!1,ge=!1;const Te={name:D};if(!e.disabled){const Qe=!!(le(r,D)&&le(r,D)._f&&le(r,D)._f.disabled);if(!O||se){u.isDirty&&(ge=n.isDirty,n.isDirty=Te.isDirty=R(),Y=ge!==Te.isDirty);const ke=Qe||_i(le(s,D),j);ge=!!(!Qe&&le(n.dirtyFields,D)),ke||Qe?Lt(n.dirtyFields,D):qe(n.dirtyFields,D,!0),Te.dirtyFields=n.dirtyFields,Y=Y||u.dirtyFields&&ge!==!ke}if(O){const ke=le(n.touchedFields,D);ke||(qe(n.touchedFields,D,O),Te.touchedFields=n.touchedFields,Y=Y||u.touchedFields&&ke!==O)}Y&&ne&&h.state.next(Te)}return Y?Te:{}},b=(D,j,O,se)=>{const ne=le(n.errors,D),Y=u.isValid&&Wr(j)&&n.isValid!==j;if(e.delayError&&O?(o=y(()=>w(D,O)),o(e.delayError)):(clearTimeout(c),o=null,O?qe(n.errors,D,O):Lt(n.errors,D)),(O?!_i(ne,O):ne)||!Ln(se)||Y){const ge={...se,...Y&&Wr(j)?{isValid:j}:{},errors:n.errors,name:D};n={...n,...ge},h.state.next(ge)}},C=async D=>{x(D,!0);const j=await e.resolver(i,e.context,lW(D||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(D),j},_=async D=>{const{errors:j}=await C(D);if(D)for(const O of D){const se=le(j,O);se?qe(n.errors,O,se):Lt(n.errors,O)}else n.errors=j;return j},I=async(D,j,O={valid:!0})=>{for(const se in D){const ne=D[se];if(ne){const{_f:Y,...ge}=ne;if(Y){const Te=a.array.has(Y.name),Qe=ne._f&&cW(ne._f);Qe&&u.validatingFields&&x([se],!0);const ke=await KT(ne,a.disabled,i,m,e.shouldUseNativeValidation&&!j,Te);if(Qe&&u.validatingFields&&x([se]),ke[Y.name]&&(O.valid=!1,j))break;!j&&(le(ke,Y.name)?Te?iW(n.errors,ke,Y.name):qe(n.errors,Y.name,ke[Y.name]):Lt(n.errors,Y.name))}!Ln(ge)&&await I(ge,j,O)}}return O.valid},k=()=>{for(const D of a.unMount){const j=le(r,D);j&&(j._f.refs?j._f.refs.every(O=>!F0(O)):!F0(j._f.ref))&&st(D)}a.unMount=new Set},R=(D,j)=>!e.disabled&&(D&&j&&qe(i,D,j),!_i(G(),s)),S=(D,j,O)=>sW(D,a,{...A.mount?i:kt(j)?s:es(D)?{[D]:j}:j},O,j),ee=D=>nm(le(A.mount?i:s,D,e.shouldUnregister?le(s,D,[]):[])),Ae=(D,j,O={})=>{const se=le(r,D);let ne=j;if(se){const Y=se._f;Y&&(!Y.disabled&&qe(i,D,e4(j,Y)),ne=Ep(Y.ref)&&Sn(j)?"":j,Yk(Y.ref)?[...Y.ref.options].forEach(ge=>ge.selected=ne.includes(ge.value)):Y.refs?Bd(Y.ref)?Y.refs.length>1?Y.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(ne)?!!ne.find(Te=>Te===ge.value):ne===ge.value)):Y.refs[0]&&(Y.refs[0].checked=!!ne):Y.refs.forEach(ge=>ge.checked=ge.value===ne):mC(Y.ref)?Y.ref.value="":(Y.ref.value=ne,Y.ref.type||h.values.next({name:D,values:{...i}})))}(O.shouldDirty||O.shouldTouch)&&N(D,ne,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&W(D)},K=(D,j,O)=>{for(const se in j){const ne=j[se],Y=`${D}.${se}`,ge=le(r,Y);(a.array.has(D)||Qt(ne)||ge&&!ge._f)&&!OA(ne)?K(Y,ne,O):Ae(Y,ne,O)}},J=(D,j,O={})=>{const se=le(r,D),ne=a.array.has(D),Y=ur(j);qe(i,D,Y),ne?(h.array.next({name:D,values:{...i}}),(u.isDirty||u.dirtyFields)&&O.shouldDirty&&h.state.next({name:D,dirtyFields:Gl(s,i),isDirty:R(D,Y)})):se&&!se._f&&!Sn(Y)?K(D,Y,O):Ae(D,Y,O),jT(D,a)&&h.state.next({...n}),h.values.next({name:A.mount?D:void 0,values:{...i}})},L=async D=>{A.mount=!0;const j=D.target;let O=j.name,se=!0;const ne=le(r,O),Y=()=>j.type?S0(ne._f):Y7(D),ge=Te=>{se=Number.isNaN(Te)||OA(Te)&&isNaN(Te.getTime())||_i(Te,le(i,O,Te))};if(ne){let Te,Qe;const ke=Y(),Wn=D.type===PT.BLUR||D.type===PT.FOCUS_OUT,Td=!uW(ne._f)&&!e.resolver&&!le(n.errors,O)&&!ne._f.deps||dW(Wn,le(n.touchedFields,O),n.isSubmitted,g,f),ba=jT(O,a,Wn);qe(i,O,ke),Wn?(ne._f.onBlur&&ne._f.onBlur(D),o&&o(0)):ne._f.onChange&&ne._f.onChange(D);const wl=N(O,ke,Wn,!1),BA=!Ln(wl)||ba;if(!Wn&&h.values.next({name:O,type:D.type,values:{...i}}),Td)return u.isValid&&(e.mode==="onBlur"&&Wn?E():Wn||E()),BA&&h.state.next({name:O,...ba?{}:wl});if(!Wn&&ba&&h.state.next({...n}),e.resolver){const{errors:Bl}=await C([O]);if(ge(ke),se){const Id=GT(n.errors,r,O),Ta=GT(Bl,r,Id.name||O);Te=Ta.error,O=Ta.name,Qe=Ln(Bl)}}else x([O],!0),Te=(await KT(ne,a.disabled,i,m,e.shouldUseNativeValidation))[O],x([O]),ge(ke),se&&(Te?Qe=!1:u.isValid&&(Qe=await I(r,!0)));se&&(ne._f.deps&&W(ne._f.deps),b(O,Qe,Te,wl))}},H=(D,j)=>{if(le(n.errors,j)&&D.focus)return D.focus(),1},W=async(D,j={})=>{let O,se;const ne=yf(D);if(e.resolver){const Y=await _(kt(D)?D:ne);O=Ln(Y),se=D?!ne.some(ge=>le(Y,ge)):O}else D?(se=(await Promise.all(ne.map(async Y=>{const ge=le(r,Y);return await I(ge&&ge._f?{[Y]:ge}:ge)}))).every(Boolean),!(!se&&!n.isValid)&&E()):se=O=await I(r);return h.state.next({...!es(D)||u.isValid&&O!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:O}:{},errors:n.errors}),j.shouldFocus&&!se&&Vc(r,H,D?ne:a.mount),se},G=D=>{const j={...A.mount?i:s};return kt(D)?j:es(D)?le(j,D):D.map(O=>le(j,O))},fe=(D,j)=>({invalid:!!le((j||n).errors,D),isDirty:!!le((j||n).dirtyFields,D),error:le((j||n).errors,D),isValidating:!!le(n.validatingFields,D),isTouched:!!le((j||n).touchedFields,D)}),Be=D=>{D&&yf(D).forEach(j=>Lt(n.errors,j)),h.state.next({errors:D?n.errors:{}})},Je=(D,j,O)=>{const se=(le(r,D,{_f:{}})._f||{}).ref,ne=le(n.errors,D)||{},{ref:Y,message:ge,type:Te,...Qe}=ne;qe(n.errors,D,{...Qe,...j,ref:se}),h.state.next({name:D,errors:n.errors,isValid:!1}),O&&O.shouldFocus&&se&&se.focus&&se.focus()},Ge=(D,j)=>Xr(D)?h.values.subscribe({next:O=>D(S(void 0,j),O)}):S(D,j,!0),st=(D,j={})=>{for(const O of D?yf(D):a.mount)a.mount.delete(O),a.array.delete(O),j.keepValue||(Lt(r,O),Lt(i,O)),!j.keepError&&Lt(n.errors,O),!j.keepDirty&&Lt(n.dirtyFields,O),!j.keepTouched&&Lt(n.touchedFields,O),!j.keepIsValidating&&Lt(n.validatingFields,O),!e.shouldUnregister&&!j.keepDefaultValue&&Lt(s,O);h.values.next({values:{...i}}),h.state.next({...n,...j.keepDirty?{isDirty:R()}:{}}),!j.keepIsValid&&E()},ut=({disabled:D,name:j,field:O,fields:se})=>{(Wr(D)&&A.mount||D||a.disabled.has(j))&&(D?a.disabled.add(j):a.disabled.delete(j),N(j,S0(O?O._f:le(se,j)._f),!1,!1,!0))},vA=(D,j={})=>{let O=le(r,D);const se=Wr(j.disabled)||Wr(e.disabled);return qe(r,D,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:D}},name:D,mount:!0,...j}}),a.mount.add(D),O?ut({field:O,disabled:Wr(j.disabled)?j.disabled:e.disabled,name:D}):T(D,!0,j.value),{...se?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:$l(j.min),max:$l(j.max),minLength:$l(j.minLength),maxLength:$l(j.maxLength),pattern:$l(j.pattern)}:{},name:D,onChange:L,onBlur:L,ref:ne=>{if(ne){vA(D,j),O=le(r,D);const Y=kt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ge=oW(Y),Te=O._f.refs||[];if(ge?Te.find(Qe=>Qe===Y):Y===O._f.ref)return;qe(r,D,{_f:{...O._f,...ge?{refs:[...Te.filter(F0),Y,...Array.isArray(le(s,D))?[{}]:[]],ref:{type:Y.type,name:D}}:{ref:Y}}}),T(D,!1,void 0,Y)}else O=le(r,D,{}),O._f&&(O._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(Z7(a.array,D)&&A.action)&&a.unMount.add(D)}}},_d=()=>e.shouldFocusError&&Vc(r,H,a.mount),Ca=D=>{Wr(D)&&(h.state.next({disabled:D}),Vc(r,(j,O)=>{const se=le(r,O);se&&(j.disabled=se._f.disabled||D,Array.isArray(se._f.refs)&&se._f.refs.forEach(ne=>{ne.disabled=se._f.disabled||D}))},0,!1))},wA=(D,j)=>async O=>{let se;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let ne=ur(i);if(a.disabled.size)for(const Y of a.disabled)qe(ne,Y,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:ge}=await C();n.errors=Y,ne=ge}else await I(r);if(Lt(n.errors,"root"),Ln(n.errors)){h.state.next({errors:{}});try{await D(ne,O)}catch(Y){se=Y}}else j&&await j({...n.errors},O),_d(),setTimeout(_d);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ln(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},vl=(D,j={})=>{le(r,D)&&(kt(j.defaultValue)?J(D,ur(le(s,D))):(J(D,j.defaultValue),qe(s,D,ur(j.defaultValue))),j.keepTouched||Lt(n.touchedFields,D),j.keepDirty||(Lt(n.dirtyFields,D),n.isDirty=j.defaultValue?R(D,ur(le(s,D))):R()),j.keepError||(Lt(n.errors,D),u.isValid&&E()),h.state.next({...n}))},Ea=(D,j={})=>{const O=D?ur(D):s,se=ur(O),ne=Ln(D),Y=ne?s:se;if(j.keepDefaultValues||(s=O),!j.keepValues){if(j.keepDirtyValues){const ge=new Set([...a.mount,...Object.keys(Gl(s,i))]);for(const Te of Array.from(ge))le(n.dirtyFields,Te)?qe(Y,Te,le(i,Te)):J(Te,le(Y,Te))}else{if(pC&&kt(D))for(const ge of a.mount){const Te=le(r,ge);if(Te&&Te._f){const Qe=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(Ep(Qe)){const ke=Qe.closest("form");if(ke){ke.reset();break}}}}r={}}i=e.shouldUnregister?j.keepDefaultValues?ur(s):{}:ur(Y),h.array.next({values:{...Y}}),h.values.next({values:{...Y}})}a={mount:j.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},A.mount=!u.isValid||!!j.keepIsValid||!!j.keepDirtyValues,A.watch=!!e.shouldUnregister,h.state.next({submitCount:j.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:j.keepDirty?n.isDirty:!!(j.keepDefaultValues&&!_i(D,s)),isSubmitted:j.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?{}:j.keepDirtyValues?j.keepDefaultValues&&i?Gl(s,i):n.dirtyFields:j.keepDefaultValues&&D?Gl(s,D):j.keepDirty?n.dirtyFields:{},touchedFields:j.keepTouched?n.touchedFields:{},errors:j.keepErrors?n.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_a=(D,j)=>Ea(Xr(D)?D(i):D,j);return{control:{register:vA,unregister:st,getFieldState:fe,handleSubmit:wA,setError:Je,_executeSchema:C,_getWatch:S,_getDirty:R,_updateValid:E,_removeUnmounted:k,_updateFieldArray:v,_updateDisabledField:ut,_getFieldArray:ee,_reset:Ea,_resetDefaultValues:()=>Xr(e.defaultValues)&&e.defaultValues().then(D=>{_a(D,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:D=>{n={...n,...D}},_disableForm:Ca,_subjects:h,_proxyFormState:u,_setErrors:F,get _fields(){return r},get _formValues(){return i},get _state(){return A},set _state(D){A=D},get _defaultValues(){return s},get _names(){return a},set _names(D){a=D},get _formState(){return n},set _formState(D){n=D},get _options(){return e},set _options(D){e={...e,...D}}},trigger:W,register:vA,handleSubmit:wA,watch:Ge,setValue:J,getValues:G,reset:_a,resetField:vl,clearErrors:Be,unregister:st,setError:Je,setFocus:(D,j={})=>{const O=le(r,D),se=O&&O._f;if(se){const ne=se.refs?se.refs[0]:se.ref;ne.focus&&(ne.focus(),j.shouldSelect&&Xr(ne.select)&&ne.select())}},getFieldState:fe}}function t4(t={}){const e=tt.useRef(void 0),n=tt.useRef(void 0),[r,s]=tt.useState({isDirty:!1,isValidating:!1,isLoading:Xr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Xr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...pW(t),formState:r});const i=e.current.control;return i._options=t,rW({subject:i._subjects.state,next:A=>{nW(A,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),tt.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),tt.useEffect(()=>{if(i._proxyFormState.isDirty){const A=i._getDirty();A!==r.isDirty&&i._subjects.state.next({isDirty:A})}},[i,r.isDirty]),tt.useEffect(()=>{t.values&&!_i(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(A=>({...A}))):i._resetDefaultValues()},[t.values,i]),tt.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),tt.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),tt.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=tW(r,i),e.current}const $T=(t,e,n)=>{if(t&&"reportValidity"in t){const r=le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},n4=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?$T(r.ref,n,t):r.refs&&r.refs.forEach(s=>$T(s,n,t))}},gW=(t,e)=>{e.shouldUseNativeValidation&&n4(t,e);const n={};for(const r in t){const s=le(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(mW(e.names||Object.keys(t),r)){const A=Object.assign({},le(n,r));qe(A,"root",i),qe(n,r,A)}else qe(n,r,i)}return n},mW=(t,e)=>t.some(n=>n.startsWith(e+"."));var yW=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,A=r.path.join(".");if(!n[A])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[A]={message:a.message,type:a.code}}else n[A]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var o=n[A].types,c=o&&o[r.code];n[A]=Wk(A,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},r4=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(A,a){try{var o=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&n4({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return o&&o.then?o.then(void 0,a):o}(0,function(A){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(A))return{values:{},errors:gW(yW(A.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw A}))}catch(A){return Promise.reject(A)}}},Pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const A of s)i[A]=A;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),A={};for(const a of i)A[a]=s[a];return t.objectValues(A)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const A in s)Object.prototype.hasOwnProperty.call(s,A)&&i.push(A);return i},t.find=(s,i)=>{for(const A of s)if(i(A))return A},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(A=>typeof A=="string"?`'${A}'`:A).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pe||(Pe={}));var Xv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Xv||(Xv={}));const oe=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fs=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},q=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),vW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class sr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const A of i.issues)if(A.code==="invalid_union")A.unionErrors.map(s);else if(A.code==="invalid_return_type")s(A.returnTypeError);else if(A.code==="invalid_arguments")s(A.argumentsError);else if(A.path.length===0)r._errors.push(n(A));else{let a=r,o=0;for(;o<A.path.length;){const c=A.path[o];o===A.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(A))):a[c]=a[c]||{_errors:[]},a=a[c],o++}}};return s(this),r}static assert(e){if(!(e instanceof sr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}sr.create=t=>new sr(t);const Jo=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pe.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pe.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pe.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${Pe.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pe.assertNever(t)}return{message:n}};let s4=Jo;function wW(t){s4=t}function Tp(){return s4}const Ip=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],A={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const o=r.filter(c=>!!c).slice().reverse();for(const c of o)a=c(A,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},BW=[];function re(t,e){const n=Tp(),r=Ip({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Jo?void 0:Jo].filter(s=>!!s)});t.common.issues.push(r)}class bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ce;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,A=await s.value;r.push({key:i,value:A})}return bn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:A}=s;if(i.status==="aborted"||A.status==="aborted")return Ce;i.status==="dirty"&&e.dirty(),A.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof A.value<"u"||s.alwaysSet)&&(r[i.value]=A.value)}return{status:e.value,value:r}}}const Ce=Object.freeze({status:"aborted"}),ho=t=>({status:"dirty",value:t}),Rn=t=>({status:"valid",value:t}),Yv=t=>t.status==="aborted",Jv=t=>t.status==="dirty",ua=t=>t.status==="valid",Qu=t=>typeof Promise<"u"&&t instanceof Promise;function Up(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function i4(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var he;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(he||(he={}));var uc,dc;class fs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WT=(t,e)=>{if(ua(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new sr(t.common.issues);return this._error=n,this._error}}};function be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(A,a)=>{var o,c;const{message:u}=t;return A.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(o=u??r)!==null&&o!==void 0?o:a.defaultError}:A.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ie{get description(){return this._def.description}_getType(e){return Fs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bn,ctx:{common:e.parent.common,data:e.data,parsedType:Fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return WT(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return ua(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>ua(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Qu(s)?s:Promise.resolve(s));return WT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const A=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&A instanceof Promise?A.then(o=>o?!0:(a(),!1)):A?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Vr({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ls.create(this,this._def)}nullable(){return oA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pr.create(this)}promise(){return el.create(this,this._def)}or(e){return Du.create([this,e],this._def)}and(e){return Pu.create(this,e,this._def)}transform(e){return new Vr({...be(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Vu({...be(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new vC({typeName:we.ZodBranded,type:this,...be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hu({...be(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return xd.create(this,e)}readonly(){return Ku.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xW=/^c[^\s-]{8,}$/i,CW=/^[0-9a-z]+$/,EW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_W=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bW=/^[a-z0-9_-]{21}$/i,TW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,UW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,FW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Q0;const SW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,NW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,A4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PW=new RegExp(`^${A4}$`);function a4(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function LW(t){return new RegExp(`^${a4(t)}$`)}function o4(t){let e=`${A4}T${a4(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function jW(t,e){return!!((e==="v4"||!e)&&SW.test(t)||(e==="v6"||!e)&&NW.test(t))}function MW(t,e){if(!TW.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function OW(t,e){return!!((e==="v4"||!e)&&QW.test(t)||(e==="v6"||!e)&&kW.test(t))}class Nr extends Ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_type,expected:oe.string,received:i.parsedType}),Ce}const r=new bn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const A=e.data.length>i.value,a=e.data.length<i.value;(A||a)&&(s=this._getOrReturnCtx(e,s),A?re(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&re(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")UW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Q0||(Q0=new RegExp(FW,"u")),Q0.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")_W.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")bW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")xW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")CW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")EW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),re(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?o4(i).test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?PW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?LW(i).test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?IW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?jW(e.data,i.version)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?MW(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?OW(e.data,i.version)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?RW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?DW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...he.errToObj(r)})}_addCheck(e){return new Nr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...he.errToObj(e)})}url(e){return this._addCheck({kind:"url",...he.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...he.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...he.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...he.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...he.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...he.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...he.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...he.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...he.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...he.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...he.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...he.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...he.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...he.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...he.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...he.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...he.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...he.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...he.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...he.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...he.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...he.errToObj(n)})}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new Nr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Nr.create=t=>{var e;return new Nr({checks:[],typeName:we.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};function VW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),A=parseInt(e.toFixed(s).replace(".",""));return i%A/Math.pow(10,s)}class iA extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_type,expected:oe.number,received:i.parsedType}),Ce}let r;const s=new bn;for(const i of this._def.checks)i.kind==="int"?Pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?VW(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:q.not_finite,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,s){return new iA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(s)}]})}_addCheck(e){return new iA({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}iA.create=t=>new iA({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class AA extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let r;const s=new bn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return re(n,{code:q.invalid_type,expected:oe.bigint,received:n.parsedType}),Ce}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,s){return new AA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(s)}]})}_addCheck(e){return new AA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}AA.create=t=>{var e;return new AA({checks:[],typeName:we.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};class Nu extends Ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.boolean,received:r.parsedType}),Ce}return Rn(e.data)}}Nu.create=t=>new Nu({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class da extends Ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_type,expected:oe.date,received:i.parsedType}),Ce}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_date}),Ce}const r=new bn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new da({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}da.create=t=>new da({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...be(t)});class Fp extends Ie{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.symbol,received:r.parsedType}),Ce}return Rn(e.data)}}Fp.create=t=>new Fp({typeName:we.ZodSymbol,...be(t)});class ku extends Ie{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.undefined,received:r.parsedType}),Ce}return Rn(e.data)}}ku.create=t=>new ku({typeName:we.ZodUndefined,...be(t)});class Ru extends Ie{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.null,received:r.parsedType}),Ce}return Rn(e.data)}}Ru.create=t=>new Ru({typeName:we.ZodNull,...be(t)});class Zo extends Ie{constructor(){super(...arguments),this._any=!0}_parse(e){return Rn(e.data)}}Zo.create=t=>new Zo({typeName:we.ZodAny,...be(t)});class qA extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rn(e.data)}}qA.create=t=>new qA({typeName:we.ZodUnknown,...be(t)});class ei extends Ie{_parse(e){const n=this._getOrReturnCtx(e);return re(n,{code:q.invalid_type,expected:oe.never,received:n.parsedType}),Ce}}ei.create=t=>new ei({typeName:we.ZodNever,...be(t)});class Sp extends Ie{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.void,received:r.parsedType}),Ce}return Rn(e.data)}}Sp.create=t=>new Sp({typeName:we.ZodVoid,...be(t)});class Pr extends Ie{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return re(n,{code:q.invalid_type,expected:oe.array,received:n.parsedType}),Ce;if(s.exactLength!==null){const A=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(A||a)&&(re(n,{code:A?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:A?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(re(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(re(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((A,a)=>s.type._parseAsync(new fs(n,A,n.path,a)))).then(A=>bn.mergeArray(r,A));const i=[...n.data].map((A,a)=>s.type._parseSync(new fs(n,A,n.path,a)));return bn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Pr({...this._def,minLength:{value:e,message:he.toString(n)}})}max(e,n){return new Pr({...this._def,maxLength:{value:e,message:he.toString(n)}})}length(e,n){return new Pr({...this._def,exactLength:{value:e,message:he.toString(n)}})}nonempty(e){return this.min(1,e)}}Pr.create=(t,e)=>new Pr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...be(e)});function Ka(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ls.create(Ka(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof Pr?new Pr({...t._def,type:Ka(t.element)}):t instanceof ls?ls.create(Ka(t.unwrap())):t instanceof oA?oA.create(Ka(t.unwrap())):t instanceof ps?ps.create(t.items.map(e=>Ka(e))):t}class dt extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==oe.object){const c=this._getOrReturnCtx(e);return re(c,{code:q.invalid_type,expected:oe.object,received:c.parsedType}),Ce}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:A}=this._getCached(),a=[];if(!(this._def.catchall instanceof ei&&this._def.unknownKeys==="strip"))for(const c in s.data)A.includes(c)||a.push(c);const o=[];for(const c of A){const u=i[c],h=s.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new fs(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ei){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)o.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(re(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=s.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new fs(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>bn.mergeObjectSync(r,c)):bn.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,A,a;const o=(A=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&A!==void 0?A:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=he.errToObj(e).message)!==null&&a!==void 0?a:o}:{message:o}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};return Pe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}omit(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}deepPartial(){return Ka(this)}partial(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new dt({...this._def,shape:()=>n})}required(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ls;)i=i._def.innerType;n[r]=i}}),new dt({...this._def,shape:()=>n})}keyof(){return l4(Pe.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:ei.create(),typeName:we.ZodObject,...be(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:ei.create(),typeName:we.ZodObject,...be(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:ei.create(),typeName:we.ZodObject,...be(e)});class Du extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const A=i.map(a=>new sr(a.ctx.common.issues));return re(n,{code:q.invalid_union,unionErrors:A}),Ce}if(n.common.async)return Promise.all(r.map(async i=>{const A={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:A}),ctx:A}})).then(s);{let i;const A=[];for(const o of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=o._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&A.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=A.map(o=>new sr(o));return re(n,{code:q.invalid_union,unionErrors:a}),Ce}}get options(){return this._def.options}}Du.create=(t,e)=>new Du({options:t,typeName:we.ZodUnion,...be(e)});const Ts=t=>t instanceof ju?Ts(t.schema):t instanceof Vr?Ts(t.innerType()):t instanceof Mu?[t.value]:t instanceof aA?t.options:t instanceof Ou?Pe.objectValues(t.enum):t instanceof Vu?Ts(t._def.innerType):t instanceof ku?[void 0]:t instanceof Ru?[null]:t instanceof ls?[void 0,...Ts(t.unwrap())]:t instanceof oA?[null,...Ts(t.unwrap())]:t instanceof vC||t instanceof Ku?Ts(t.unwrap()):t instanceof Hu?Ts(t._def.innerType):[];class rm extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return re(n,{code:q.invalid_type,expected:oe.object,received:n.parsedType}),Ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(re(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const A=Ts(i.shape[e]);if(!A.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of A){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new rm({typeName:we.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...be(r)})}}function Zv(t,e){const n=Fs(t),r=Fs(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=Pe.objectKeys(e),i=Pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),A={...t,...e};for(const a of i){const o=Zv(t[a],e[a]);if(!o.valid)return{valid:!1};A[a]=o.data}return{valid:!0,data:A}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const A=t[i],a=e[i],o=Zv(A,a);if(!o.valid)return{valid:!1};s.push(o.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pu extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,A)=>{if(Yv(i)||Yv(A))return Ce;const a=Zv(i.value,A.value);return a.valid?((Jv(i)||Jv(A))&&n.dirty(),{status:n.value,value:a.data}):(re(r,{code:q.invalid_intersection_types}),Ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,A])=>s(i,A)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pu.create=(t,e,n)=>new Pu({left:t,right:e,typeName:we.ZodIntersection,...be(n)});class ps extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return re(r,{code:q.invalid_type,expected:oe.array,received:r.parsedType}),Ce;if(r.data.length<this._def.items.length)return re(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&r.data.length>this._def.items.length&&(re(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((A,a)=>{const o=this._def.items[a]||this._def.rest;return o?o._parse(new fs(r,A,r.path,a)):null}).filter(A=>!!A);return r.common.async?Promise.all(i).then(A=>bn.mergeArray(n,A)):bn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ps({...this._def,rest:e})}}ps.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ps({items:t,typeName:we.ZodTuple,rest:null,...be(e)})};class Lu extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return re(r,{code:q.invalid_type,expected:oe.object,received:r.parsedType}),Ce;const s=[],i=this._def.keyType,A=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new fs(r,a,r.path,a)),value:A._parse(new fs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?bn.mergeObjectAsync(n,s):bn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ie?new Lu({keyType:e,valueType:n,typeName:we.ZodRecord,...be(r)}):new Lu({keyType:Nr.create(),valueType:e,typeName:we.ZodRecord,...be(n)})}}class Qp extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return re(r,{code:q.invalid_type,expected:oe.map,received:r.parsedType}),Ce;const s=this._def.keyType,i=this._def.valueType,A=[...r.data.entries()].map(([a,o],c)=>({key:s._parse(new fs(r,a,r.path,[c,"key"])),value:i._parse(new fs(r,o,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const o of A){const c=await o.key,u=await o.value;if(c.status==="aborted"||u.status==="aborted")return Ce;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const o of A){const c=o.key,u=o.value;if(c.status==="aborted"||u.status==="aborted")return Ce;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Qp.create=(t,e,n)=>new Qp({valueType:e,keyType:t,typeName:we.ZodMap,...be(n)});class ha extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return re(r,{code:q.invalid_type,expected:oe.set,received:r.parsedType}),Ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(re(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(re(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function A(o){const c=new Set;for(const u of o){if(u.status==="aborted")return Ce;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((o,c)=>i._parse(new fs(r,o,r.path,c)));return r.common.async?Promise.all(a).then(o=>A(o)):A(a)}min(e,n){return new ha({...this._def,minSize:{value:e,message:he.toString(n)}})}max(e,n){return new ha({...this._def,maxSize:{value:e,message:he.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ha.create=(t,e)=>new ha({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...be(e)});class Fo extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return re(n,{code:q.invalid_type,expected:oe.function,received:n.parsedType}),Ce;function r(a,o){return Ip({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Tp(),Jo].filter(c=>!!c),issueData:{code:q.invalid_arguments,argumentsError:o}})}function s(a,o){return Ip({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Tp(),Jo].filter(c=>!!c),issueData:{code:q.invalid_return_type,returnTypeError:o}})}const i={errorMap:n.common.contextualErrorMap},A=n.data;if(this._def.returns instanceof el){const a=this;return Rn(async function(...o){const c=new sr([]),u=await a._def.args.parseAsync(o,i).catch(g=>{throw c.addIssue(r(o,g)),c}),h=await Reflect.apply(A,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(g=>{throw c.addIssue(s(h,g)),c})})}else{const a=this;return Rn(function(...o){const c=a._def.args.safeParse(o,i);if(!c.success)throw new sr([r(o,c.error)]);const u=Reflect.apply(A,this,c.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new sr([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Fo({...this._def,args:ps.create(e).rest(qA.create())})}returns(e){return new Fo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Fo({args:e||ps.create([]).rest(qA.create()),returns:n||qA.create(),typeName:we.ZodFunction,...be(r)})}}class ju extends Ie{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ju.create=(t,e)=>new ju({getter:t,typeName:we.ZodLazy,...be(e)});class Mu extends Ie{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return re(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Mu.create=(t,e)=>new Mu({value:t,typeName:we.ZodLiteral,...be(e)});function l4(t,e){return new aA({values:t,typeName:we.ZodEnum,...be(e)})}class aA extends Ie{constructor(){super(...arguments),uc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{expected:Pe.joinValues(r),received:n.parsedType,code:q.invalid_type}),Ce}if(Up(this,uc)||i4(this,uc,new Set(this._def.values)),!Up(this,uc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{received:n.data,code:q.invalid_enum_value,options:r}),Ce}return Rn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return aA.create(e,{...this._def,...n})}exclude(e,n=this._def){return aA.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}uc=new WeakMap;aA.create=l4;class Ou extends Ie{constructor(){super(...arguments),dc.set(this,void 0)}_parse(e){const n=Pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=Pe.objectValues(n);return re(r,{expected:Pe.joinValues(s),received:r.parsedType,code:q.invalid_type}),Ce}if(Up(this,dc)||i4(this,dc,new Set(Pe.getValidEnumValues(this._def.values))),!Up(this,dc).has(e.data)){const s=Pe.objectValues(n);return re(r,{received:r.data,code:q.invalid_enum_value,options:s}),Ce}return Rn(e.data)}get enum(){return this._def.values}}dc=new WeakMap;Ou.create=(t,e)=>new Ou({values:t,typeName:we.ZodNativeEnum,...be(e)});class el extends Ie{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return re(n,{code:q.invalid_type,expected:oe.promise,received:n.parsedType}),Ce;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return Rn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}el.create=(t,e)=>new el({type:t,typeName:we.ZodPromise,...be(e)});class Vr extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:A=>{re(r,A),A.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const A=s.transform(r.data,i);if(r.common.async)return Promise.resolve(A).then(async a=>{if(n.value==="aborted")return Ce;const o=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return o.status==="aborted"?Ce:o.status==="dirty"||n.value==="dirty"?ho(o.value):o});{if(n.value==="aborted")return Ce;const a=this._def.schema._parseSync({data:A,path:r.path,parent:r});return a.status==="aborted"?Ce:a.status==="dirty"||n.value==="dirty"?ho(a.value):a}}if(s.type==="refinement"){const A=a=>{const o=s.refinement(a,i);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),A(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),A(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const A=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ua(A))return A;const a=s.transform(A.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(A=>ua(A)?Promise.resolve(s.transform(A.value,i)).then(a=>({status:n.value,value:a})):A);Pe.assertNever(s)}}Vr.create=(t,e,n)=>new Vr({schema:t,typeName:we.ZodEffects,effect:e,...be(n)});Vr.createWithPreprocess=(t,e,n)=>new Vr({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...be(n)});class ls extends Ie{_parse(e){return this._getType(e)===oe.undefined?Rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ls.create=(t,e)=>new ls({innerType:t,typeName:we.ZodOptional,...be(e)});class oA extends Ie{_parse(e){return this._getType(e)===oe.null?Rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oA.create=(t,e)=>new oA({innerType:t,typeName:we.ZodNullable,...be(e)});class Vu extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Vu.create=(t,e)=>new Vu({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class Hu extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hu.create=(t,e)=>new Hu({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class Np extends Ie{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.nan,received:r.parsedType}),Ce}return{status:"valid",value:e.data}}}Np.create=t=>new Np({typeName:we.ZodNaN,...be(t)});const HW=Symbol("zod_brand");class vC extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class xd extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ce:i.status==="dirty"?(n.dirty(),ho(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new xd({in:e,out:n,typeName:we.ZodPipeline})}}class Ku extends Ie{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ua(s)&&(s.value=Object.freeze(s.value)),s);return Qu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ku.create=(t,e)=>new Ku({innerType:t,typeName:we.ZodReadonly,...be(e)});function c4(t,e={},n){return t?Zo.create().superRefine((r,s)=>{var i,A;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,o=(A=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&A!==void 0?A:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:o})}}):Zo.create()}const KW={object:dt.lazycreate};var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const zW=(t,e={message:`Input not instance of ${t.name}`})=>c4(n=>n instanceof t,e),u4=Nr.create,d4=iA.create,GW=Np.create,$W=AA.create,h4=Nu.create,WW=da.create,qW=Fp.create,XW=ku.create,YW=Ru.create,JW=Zo.create,ZW=qA.create,eq=ei.create,tq=Sp.create,nq=Pr.create,rq=dt.create,sq=dt.strictCreate,iq=Du.create,Aq=rm.create,aq=Pu.create,oq=ps.create,lq=Lu.create,cq=Qp.create,uq=ha.create,dq=Fo.create,hq=ju.create,fq=Mu.create,pq=aA.create,gq=Ou.create,mq=el.create,qT=Vr.create,yq=ls.create,vq=oA.create,wq=Vr.createWithPreprocess,Bq=xd.create,xq=()=>u4().optional(),Cq=()=>d4().optional(),Eq=()=>h4().optional(),_q={string:t=>Nr.create({...t,coerce:!0}),number:t=>iA.create({...t,coerce:!0}),boolean:t=>Nu.create({...t,coerce:!0}),bigint:t=>AA.create({...t,coerce:!0}),date:t=>da.create({...t,coerce:!0})},bq=Ce;var jn=Object.freeze({__proto__:null,defaultErrorMap:Jo,setErrorMap:wW,getErrorMap:Tp,makeIssue:Ip,EMPTY_PATH:BW,addIssueToContext:re,ParseStatus:bn,INVALID:Ce,DIRTY:ho,OK:Rn,isAborted:Yv,isDirty:Jv,isValid:ua,isAsync:Qu,get util(){return Pe},get objectUtil(){return Xv},ZodParsedType:oe,getParsedType:Fs,ZodType:Ie,datetimeRegex:o4,ZodString:Nr,ZodNumber:iA,ZodBigInt:AA,ZodBoolean:Nu,ZodDate:da,ZodSymbol:Fp,ZodUndefined:ku,ZodNull:Ru,ZodAny:Zo,ZodUnknown:qA,ZodNever:ei,ZodVoid:Sp,ZodArray:Pr,ZodObject:dt,ZodUnion:Du,ZodDiscriminatedUnion:rm,ZodIntersection:Pu,ZodTuple:ps,ZodRecord:Lu,ZodMap:Qp,ZodSet:ha,ZodFunction:Fo,ZodLazy:ju,ZodLiteral:Mu,ZodEnum:aA,ZodNativeEnum:Ou,ZodPromise:el,ZodEffects:Vr,ZodTransformer:Vr,ZodOptional:ls,ZodNullable:oA,ZodDefault:Vu,ZodCatch:Hu,ZodNaN:Np,BRAND:HW,ZodBranded:vC,ZodPipeline:xd,ZodReadonly:Ku,custom:c4,Schema:Ie,ZodSchema:Ie,late:KW,get ZodFirstPartyTypeKind(){return we},coerce:_q,any:JW,array:nq,bigint:$W,boolean:h4,date:WW,discriminatedUnion:Aq,effect:qT,enum:pq,function:dq,instanceof:zW,intersection:aq,lazy:hq,literal:fq,map:cq,nan:GW,nativeEnum:gq,never:eq,null:YW,nullable:vq,number:d4,object:rq,oboolean:Eq,onumber:Cq,optional:yq,ostring:xq,pipeline:Bq,preprocess:wq,promise:mq,record:lq,set:uq,strictObject:sq,string:u4,symbol:qW,transformer:qT,tuple:oq,undefined:XW,union:iq,unknown:ZW,void:tq,NEVER:bq,ZodIssueCode:q,quotelessJson:vW,ZodError:sr});const N0={clientId:"164337596330-todg1eiufp3sb6h4aotrnq6srh06a478.apps.googleusercontent.com",clientSecret:"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",redirectUri:`${window.location.origin}/calendar/callback`,scopes:["https://www.googleapis.com/auth/calendar.events"]},ew={defaultDuration:60,defaultReminder:60,timeZone:"Europe/Rome"};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function ar(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function He(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function xt(t){He(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||kp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Rp(t,e){He(2,arguments);var n=xt(t),r=ar(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var A=i.getDate();return s>=A?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function f4(t,e){He(2,arguments);var n=xt(t).getTime(),r=ar(e);return new Date(n+r)}var Tq={};function sm(){return Tq}function tw(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function nw(t){He(1,arguments);var e=xt(t);return e.setHours(0,0,0,0),e}var Iq=864e5;function Uq(t,e){He(2,arguments);var n=nw(t),r=nw(e),s=n.getTime()-tw(n),i=r.getTime()-tw(r);return Math.round((s-i)/Iq)}var Fq=6e4;function p4(t,e){He(2,arguments);var n=ar(e);return f4(t,n*Fq)}var wC=6e4,BC=36e5;function Sq(t){return He(1,arguments),t instanceof Date||kp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Dp(t){if(He(1,arguments),!Sq(t)&&typeof t!="number")return!1;var e=xt(t);return!isNaN(Number(e))}function XT(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function g4(t,e){He(2,arguments);var n=xt(t),r=xt(e),s=XT(n,r),i=Math.abs(Uq(n,r));n.setDate(n.getDate()-s*i);var A=+(XT(n,r)===-s),a=s*(i-A);return a===0?0:a}function xC(t,e){return He(2,arguments),xt(t).getTime()-xt(e).getTime()}var YT={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Qq="trunc";function CC(t){return t?YT[t]:YT[Qq]}function Nq(t,e,n){He(2,arguments);var r=xC(t,e)/BC;return CC(void 0)(r)}function kq(t,e,n){He(2,arguments);var r=xC(t,e)/wC;return CC(void 0)(r)}function Rq(t,e,n){He(2,arguments);var r=xC(t,e)/1e3;return CC(void 0)(r)}function Dq(t,e){He(2,arguments);var n=ar(e);return f4(t,-n)}var Pq=864e5;function Lq(t){He(1,arguments);var e=xt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/Pq)+1}function Pp(t){He(1,arguments);var e=1,n=xt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function m4(t){He(1,arguments);var e=xt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Pp(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var A=Pp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=A.getTime()?n:n-1}function jq(t){He(1,arguments);var e=m4(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Pp(n);return r}var Mq=6048e5;function Oq(t){He(1,arguments);var e=xt(t),n=Pp(e).getTime()-jq(e).getTime();return Math.round(n/Mq)+1}function tl(t,e){var n,r,s,i,A,a,o,c;He(1,arguments);var u=sm(),h=ar((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=xt(t),g=f.getUTCDay(),m=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function y4(t,e){var n,r,s,i,A,a,o,c;He(1,arguments);var u=xt(t),h=u.getUTCFullYear(),f=sm(),g=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(o=f.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,g),m.setUTCHours(0,0,0,0);var y=tl(m,e),E=new Date(0);E.setUTCFullYear(h,0,g),E.setUTCHours(0,0,0,0);var x=tl(E,e);return u.getTime()>=y.getTime()?h+1:u.getTime()>=x.getTime()?h:h-1}function Vq(t,e){var n,r,s,i,A,a,o,c;He(1,arguments);var u=sm(),h=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=y4(t,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var m=tl(g,e);return m}var Hq=6048e5;function Kq(t,e){He(1,arguments);var n=xt(t),r=tl(n,e).getTime()-Vq(n,e).getTime();return Math.round(r/Hq)+1}function $e(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var ci={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return $e(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$e(r+1,2)},d:function(e,n){return $e(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $e(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $e(e.getUTCHours(),n.length)},m:function(e,n){return $e(e.getUTCMinutes(),n.length)},s:function(e,n){return $e(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return $e(i,n.length)}},ka={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zq={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return ci.y(e,n)},Y:function(e,n,r,s){var i=y4(e,s),A=i>0?i:1-i;if(n==="YY"){var a=A%100;return $e(a,2)}return n==="Yo"?r.ordinalNumber(A,{unit:"year"}):$e(A,n.length)},R:function(e,n){var r=m4(e);return $e(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $e(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return $e(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return ci.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=Kq(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):$e(i,n.length)},I:function(e,n,r){var s=Oq(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):$e(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):ci.d(e,n)},D:function(e,n,r){var s=Lq(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(A);case"ee":return $e(A,2);case"eo":return r.ordinalNumber(A,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(A);case"cc":return $e(A,n.length);case"co":return r.ordinalNumber(A,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return $e(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=ka.noon:s===0?i=ka.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=ka.evening:s>=12?i=ka.afternoon:s>=4?i=ka.morning:i=ka.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ci.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ci.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ci.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ci.s(e,n)},S:function(e,n){return ci.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();if(A===0)return"Z";switch(n){case"X":return ZT(A);case"XXXX":case"XX":return NA(A);case"XXXXX":case"XXX":default:return NA(A,":")}},x:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"x":return ZT(A);case"xxxx":case"xx":return NA(A);case"xxxxx":case"xxx":default:return NA(A,":")}},O:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+JT(A,":");case"OOOO":default:return"GMT"+NA(A,":")}},z:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+JT(A,":");case"zzzz":default:return"GMT"+NA(A,":")}},t:function(e,n,r,s){var i=s._originalDate||e,A=Math.floor(i.getTime()/1e3);return $e(A,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,A=i.getTime();return $e(A,n.length)}};function JT(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var A=e;return n+String(s)+A+$e(i,2)}function ZT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$e(Math.abs(t)/60,2)}return NA(t,e)}function NA(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=$e(Math.floor(s/60),2),A=$e(s%60,2);return r+i+n+A}var eI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},v4=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Gq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return eI(e,n);var A;switch(s){case"P":A=n.dateTime({width:"short"});break;case"PP":A=n.dateTime({width:"medium"});break;case"PPP":A=n.dateTime({width:"long"});break;case"PPPP":default:A=n.dateTime({width:"full"});break}return A.replace("{{date}}",eI(s,n)).replace("{{time}}",v4(i,n))},$q={p:v4,P:Gq},Wq=["D","DD"],qq=["YY","YYYY"];function Xq(t){return Wq.indexOf(t)!==-1}function Yq(t){return qq.indexOf(t)!==-1}function tI(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Jq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zq=function(e,n,r){var s,i=Jq[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function So(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var eX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rX={date:So({formats:eX,defaultWidth:"full"}),time:So({formats:tX,defaultWidth:"full"}),dateTime:So({formats:nX,defaultWidth:"full"})},sX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iX=function(e,n,r,s){return sX[e]};function Yr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,A=n!=null&&n.width?String(n.width):i;s=t.formattingValues[A]||t.formattingValues[i]}else{var a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var AX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dX=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hX={ordinalNumber:dX,era:Yr({values:AX,defaultWidth:"wide"}),quarter:Yr({values:aX,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Yr({values:oX,defaultWidth:"wide"}),day:Yr({values:lX,defaultWidth:"wide"}),dayPeriod:Yr({values:cX,defaultWidth:"wide",formattingValues:uX,defaultFormattingWidth:"wide"})};function Jr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var A=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?pX(a,function(h){return h.test(A)}):fX(a,function(h){return h.test(A)}),c;c=t.valueCallback?t.valueCallback(o):o,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(A.length);return{value:c,rest:u}}}function fX(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function pX(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function w4(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var A=t.valueCallback?t.valueCallback(i[0]):i[0];A=n.valueCallback?n.valueCallback(A):A;var a=e.slice(s.length);return{value:A,rest:a}}}var gX=/^(\d+)(th|st|nd|rd)?/i,mX=/\d+/i,yX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vX={any:[/^b/i,/^(a|c)/i]},wX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},BX={any:[/1/i,/2/i,/3/i,/4/i]},xX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_X={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IX={ordinalNumber:w4({matchPattern:gX,parsePattern:mX,valueCallback:function(e){return parseInt(e,10)}}),era:Jr({matchPatterns:yX,defaultMatchWidth:"wide",parsePatterns:vX,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:wX,defaultMatchWidth:"wide",parsePatterns:BX,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Jr({matchPatterns:xX,defaultMatchWidth:"wide",parsePatterns:CX,defaultParseWidth:"any"}),day:Jr({matchPatterns:EX,defaultMatchWidth:"wide",parsePatterns:_X,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:bX,defaultMatchWidth:"any",parsePatterns:TX,defaultParseWidth:"any"})},UX={code:"en-US",formatDistance:Zq,formatLong:rX,formatRelative:iX,localize:hX,match:IX,options:{weekStartsOn:0,firstWeekContainsDate:1}},FX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QX=/^'([^]*?)'?$/,NX=/''/g,kX=/[a-zA-Z]/;function et(t,e,n){var r,s,i,A,a,o,c,u,h,f,g,m,y,E,x,v,w,F;He(2,arguments);var T=String(e),N=sm(),b=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:N.locale)!==null&&r!==void 0?r:UX,C=ar((i=(A=(a=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:N.firstWeekContainsDate)!==null&&A!==void 0?A:(h=N.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=ar((g=(m=(y=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:N.weekStartsOn)!==null&&m!==void 0?m:(w=N.locale)===null||w===void 0||(F=w.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&g!==void 0?g:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var I=xt(t);if(!Dp(I))throw new RangeError("Invalid time value");var k=tw(I),R=Dq(I,k),S={firstWeekContainsDate:C,weekStartsOn:_,locale:b,_originalDate:I},ee=T.match(SX).map(function(Ae){var K=Ae[0];if(K==="p"||K==="P"){var J=$q[K];return J(Ae,b.formatLong)}return Ae}).join("").match(FX).map(function(Ae){if(Ae==="''")return"'";var K=Ae[0];if(K==="'")return RX(Ae);var J=zq[K];if(J)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Yq(Ae)&&tI(Ae,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Xq(Ae)&&tI(Ae,e,String(t)),J(R,Ae,b.localize,S);if(K.match(kX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return Ae}).join("");return ee}function RX(t){var e=t.match(QX);return e?e[1].replace(NX,"'"):t}function k0(t,e){He(2,arguments);var n=xt(t),r=xt(e);return n.getTime()<r.getTime()}function DX(t,e){He(2,arguments);var n=xt(t),r=xt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function R0(t,e){var n;He(1,arguments);var r=ar((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=MX(t),i;if(s.date){var A=OX(s.date,r);i=VX(A.restDateString,A.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),o=0,c;if(s.time&&(o=HX(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(c=KX(s.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+o+c)}var vh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},PX=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LX=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jX=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MX(t){var e={},n=t.split(vh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],vh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(vh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=vh.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function OX(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function VX(t,e){if(e===null)return new Date(NaN);var n=t.match(PX);if(!n)return new Date(NaN);var r=!!n[4],s=Wl(n[1]),i=Wl(n[2])-1,A=Wl(n[3]),a=Wl(n[4]),o=Wl(n[5])-1;if(r)return qX(e,a,o)?zX(e,a,o):new Date(NaN);var c=new Date(0);return!$X(e,i,A)||!WX(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,A)),c)}function Wl(t){return t?parseInt(t):1}function HX(t){var e=t.match(LX);if(!e)return NaN;var n=D0(e[1]),r=D0(e[2]),s=D0(e[3]);return XX(n,r,s)?n*BC+r*wC+s*1e3:NaN}function D0(t){return t&&parseFloat(t.replace(",","."))||0}function KX(t){if(t==="Z")return 0;var e=t.match(jX);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return YX(r,s)?n*(r*BC+s*wC):NaN}function zX(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var GX=[31,null,31,30,31,30,31,31,30,31,30,31];function B4(t){return t%400===0||t%4===0&&t%100!==0}function $X(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(GX[e]||(B4(t)?29:28))}function WX(t,e){return e>=1&&e<=(B4(t)?366:365)}function qX(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function XX(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function YX(t,e){return e>=0&&e<=59}function Lp(t,e){He(2,arguments);var n=xt(t),r=ar(e);return n.setHours(r),n}function jp(t,e){He(2,arguments);var n=xt(t),r=ar(e);return n.setMinutes(r),n}function nI(){return nw(Date.now())}function JX(t,e){He(2,arguments);var n=ar(e);return Rp(t,-n)}const ZX=async(t,e)=>{try{const r=(await Mr(Ve(me,"users",t))).data();if(!(r!=null&&r.googleCalendarToken))throw new Error("Token Google Calendar non trovato");const s={summary:e.summary,description:e.description,start:{dateTime:e.startTime.toISOString(),timeZone:ew.timeZone},end:{dateTime:e.endTime.toISOString(),timeZone:ew.timeZone},location:e.location,reminders:{useDefault:!0}},i=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${r.googleCalendarToken}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error("Errore durante l'aggiunta dell'evento al calendario");return await i.json()}catch(n){throw console.error("Error adding event to Google Calendar:",n),n}},eY=async(t,e)=>{try{const n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:t,client_id:N0.clientId,client_secret:N0.clientSecret,redirect_uri:N0.redirectUri,grant_type:"authorization_code"})});if(!n.ok)throw new Error("Errore durante lo scambio del codice di autorizzazione");const r=await n.json();return await Og(Ve(me,"users",e),{googleCalendarToken:r.access_token,googleCalendarRefreshToken:r.refresh_token,calendarConnected:!0,updatedAt:Hn()},{merge:!0}),!0}catch(n){throw console.error("Error handling Google Calendar callback:",n),n}},tY=(t,e,n,r,s)=>{const i=f=>et(f,"yyyyMMdd'T'HHmmss"),A=new URLSearchParams({action:"TEMPLATE",text:t,details:e,location:"",dates:`${i(n)}/${i(r)}`,ctz:ew.timeZone}),a=et(n,"yyyyMMdd'T'HHmmss'Z'"),o=et(r,"yyyyMMdd'T'HHmmss'Z'"),c=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",`DTSTART:${a}`,`DTEND:${o}`,`SUMMARY:${t}`,`DESCRIPTION:${e}`,"","END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`
`),u=new Blob([c],{type:"text/calendar;charset=utf-8"}),h=URL.createObjectURL(u);return{google:`https://calendar.google.com/calendar/render?${A.toString()}`,ical:h}},nY=t=>t.replace(/\D/g,""),rY=t=>`https://wa.me/39${t.replace(/\D/g,"")}`,sY=t=>{const e=t.replace(/\D/g,"");return!(e.length<9||e.length>10)};function rI(t,e,n){He(2,arguments);var r=tl(t,n),s=tl(e,n);return r.getTime()===s.getTime()}var iY={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},AY=function(e,n,r){var s,i=iY[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+s:s+" fa":s},aY={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},oY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},lY={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},cY={date:So({formats:aY,defaultWidth:"full"}),time:So({formats:oY,defaultWidth:"full"}),dateTime:So({formats:lY,defaultWidth:"full"})},EC=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function uY(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+EC[t]+" scorso alle' p"}}function sI(t){return"'"+EC[t]+" alle' p"}function dY(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+EC[t]+" prossimo alle' p"}}var hY={lastWeek:function(e,n,r){var s=e.getUTCDay();return rI(e,n,r)?sI(s):uY(s)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,n,r){var s=e.getUTCDay();return rI(e,n,r)?sI(s):dY(s)},other:"P"},fY=function(e,n,r,s){var i=hY[e];return typeof i=="function"?i(n,r,s):i},pY={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},gY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},mY={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},yY={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},vY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},wY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},BY=function(e,n){var r=Number(e);return String(r)},xY={ordinalNumber:BY,era:Yr({values:pY,defaultWidth:"wide"}),quarter:Yr({values:gY,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Yr({values:mY,defaultWidth:"wide"}),day:Yr({values:yY,defaultWidth:"wide"}),dayPeriod:Yr({values:vY,defaultWidth:"wide",formattingValues:wY,defaultFormattingWidth:"wide"})},CY=/^(\d+)()?/i,EY=/\d+/i,_Y={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},bY={any:[/^a/i,/^(d|e)/i]},TY={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},IY={any:[/1/i,/2/i,/3/i,/4/i]},UY={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},FY={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},SY={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},QY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},NY={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},kY={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},RY={ordinalNumber:w4({matchPattern:CY,parsePattern:EY,valueCallback:function(e){return parseInt(e,10)}}),era:Jr({matchPatterns:_Y,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any"}),quarter:Jr({matchPatterns:TY,defaultMatchWidth:"wide",parsePatterns:IY,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Jr({matchPatterns:UY,defaultMatchWidth:"wide",parsePatterns:FY,defaultParseWidth:"any"}),day:Jr({matchPatterns:SY,defaultMatchWidth:"wide",parsePatterns:QY,defaultParseWidth:"any"}),dayPeriod:Jr({matchPatterns:NY,defaultMatchWidth:"any",parsePatterns:kY,defaultParseWidth:"any"})},gs={code:"it",formatDistance:AY,formatLong:cY,formatRelative:fY,localize:xY,match:RY,options:{weekStartsOn:1,firstWeekContainsDate:4}};const x4="settings",Mp="event-settings",wh={id:Mp,eventName:"Carnevale Cinematografico",countdownDate:"2024-03-04T09:00:00",showCountdown:!0,bookingIntervals:30,maxBookingsPerDay:20,startTime:"09:00",endTime:"18:00",serviceTypes:[{id:"carnival",name:"Carnevale",enabled:!0,duration:30,bookingStartDate:"2024-03-04",bookingEndDate:"2024-03-31",excludedDays:[0],excludedDates:[]}],breakTimes:[{start:"13:00",end:"14:00",enabled:!0}],bookingStatuses:[{id:"pending",name:"In attesa",color:"#FFA500",enabled:!0},{id:"confirmed",name:"Confermato",color:"#10B981",enabled:!0},{id:"cancelled",name:"Cancellato",color:"#EF4444",enabled:!0}],products:[],company:{name:"Image Studio",logo:"",address:"Via Quinto Orazio Flacco 5, Aversa",phone:"",email:"",website:"",socialLinks:{}},animation:{enabled:!0,title:"Carnevale 2025",subtitle:"3... 2... 1...",type:"curtain",ticketStampType:"classic"},social:{image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819",title:"Carnevale Cinematografico 2025",description:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025",url:"https://gennaromazzacane.it/carnival2025"},ticketTemplate:{type:"classic",enabled:!0},whatsappTemplate:{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`* ACCONTI VERSATI*
{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`}},Op=async t=>{try{const e=Ve(me,x4,Mp);await Og(e,{...t,id:Mp},{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},DY=t=>{const e=Ve(me,x4,Mp);return hl(e,r=>{if(r.exists()){const s=r.data();t({...wh,...s,company:{...wh.company,...s.company||{}},whatsappTemplate:{...wh.whatsappTemplate,...s.whatsappTemplate||{}}})}else t(wh)},r=>{console.error("Error observing settings:",r)})},yA=()=>{const[t,e]=U.useState(null),[n,r]=U.useState(!0),[s,i]=U.useState(null),[A,a]=U.useState(!1);U.useEffect(()=>{r(!0);const u=DY(h=>{e(h),r(!1),i(null)});return()=>u()},[]);const o=U.useCallback(async u=>{if(t){a(!0),i(null);try{await Op(u)}catch(h){throw console.error("Error updating settings:",h),i("Errore durante l'aggiornamento delle impostazioni"),h}finally{a(!1)}}},[t]),c=U.useCallback(()=>{i(null)},[]);return{settings:t,loading:n,error:s,saving:A,updateSettings:o,resetError:c}},PY=({selectedDate:t,selectedTime:e,selectedService:n,onSlotSelect:r})=>{var F;const{settings:s,loading:i}=yA(),[A,a]=U.useState(new Date),[o,c]=U.useState({}),[u,h]=U.useState(!0),[f,g]=U.useState(null);U.useEffect(()=>{if(s&&!i){const T=s.serviceTypes.find(N=>N.enabled);if(T!=null&&T.bookingStartDate){const N=R0(T.bookingStartDate),b=nI();a(k0(N,b)?b:N)}h(!1)}},[s,i]),U.useEffect(()=>{if(t&&s){const T=E(t),N=et(t,"yyyy-MM-dd");c(b=>({...b,[N]:T}))}},[t,s,n]);const m=T=>{var _,I;if(!s)return!0;const N=s.serviceTypes.find(k=>k.id===n||k.enabled);if(!N)return!0;if(N.bookingStartDate&&N.bookingEndDate){const k=R0(N.bookingStartDate),R=R0(N.bookingEndDate);if(k0(T,k)||T>R)return!0}const b=et(T,"yyyy-MM-dd");if((_=N.excludedDates)!=null&&_.includes(b))return!0;const C=T.getDay();return((I=N.excludedDays)==null?void 0:I.includes(C))||!1},y=T=>{if(!(s!=null&&s.breakTimes))return!1;const[N,b]=T.split(":").map(Number),C=new Date;return C.setHours(N,b,0,0),s.breakTimes.some(_=>{if(!_.enabled)return!1;const[I,k]=_.start.split(":").map(Number),[R,S]=_.end.split(":").map(Number),ee=new Date;ee.setHours(I,k,0,0);const Ae=new Date;return Ae.setHours(R,S,0,0),C>=ee&&C<Ae})},E=T=>{if(!s||m(T))return[];const N=[],[b,C=0]=s.startTime.split(":").map(Number),[_,I=0]=s.endTime.split(":").map(Number),k=s.serviceTypes.find(Ae=>Ae.id===n||Ae.enabled),R=(k==null?void 0:k.duration)||s.bookingIntervals||30;let S=Lp(jp(new Date(T),C),b);const ee=Lp(jp(new Date(T),I),_);for(;S<ee;){const Ae=et(S,"HH:mm");y(Ae)||N.push(Ae),S=p4(S,R)}return N},x=T=>{if(m(T))return;const N=new Date(Date.UTC(T.getFullYear(),T.getMonth(),T.getDate())),b=E(N);b.length!==0&&r(N,b[0])},v=T=>{t&&r(t,T)},w=Array.from({length:42},(T,N)=>{const b=new Date(A.getFullYear(),A.getMonth(),1),_=(b.getDay()+6)%7;return b.setDate(1-_+N),b});return u||i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:""}),"Caricamento calendario..."]})}):l.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>a(T=>JX(T,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(Gg,{size:20})}),l.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(Cn,{className:"w-5 h-5 text-[--theater-gold]"}),et(A,"MMMM yyyy",{locale:gs})]}),l.jsx("button",{onClick:()=>a(T=>Rp(T,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(Eu,{size:20})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(T=>l.jsx("div",{className:"text-center text-gray-400 text-sm py-2 font-medium",children:T},T))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:w.map((T,N)=>{const b=et(T,"yyyy-MM-dd"),C=m(T),_=E(T),I=_.length>0,k=t&&et(t,"yyyy-MM-dd")===b,R=k0(T,nI()),S=C||R||!I,ee=f&&et(f,"yyyy-MM-dd")===b;return l.jsxs(z.button,{onClick:()=>!S&&x(T),onMouseEnter:()=>g(T),onMouseLeave:()=>g(null),disabled:S,whileHover:S?void 0:{scale:1.05},whileTap:S?void 0:{scale:.95},className:`
                  relative p-3 rounded-lg text-center transition-all duration-200
                  ${DX(T,A)?"":"opacity-40"}
                  ${k?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":ee&&!S?"bg-gray-700 text-white shadow-md":S?"bg-gray-800 text-gray-500 cursor-not-allowed":I?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-500"}
                `,children:[l.jsx("span",{className:"relative z-10 font-medium",children:et(T,"d")}),C&&l.jsx(Ac,{size:12,className:"absolute top-1 right-1 text-red-400"}),I&&!R&&!C&&l.jsx(z.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[...Array(Math.min(3,_.length))].map((Ae,K)=>l.jsx("div",{className:`w-1 h-1 rounded-full ${k?"bg-black":ee?"bg-white":"bg-[--theater-gold]"}`},K))})]},b)})}),l.jsx(cn,{children:t&&o[et(t,"yyyy-MM-dd")]&&l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 space-y-4",children:[l.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[l.jsx(hs,{className:"w-4 h-4 text-[--theater-gold]"}),"Orari disponibili per il ",et(t,"d MMMM yyyy",{locale:gs})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:(F=o[et(t,"yyyy-MM-dd")])==null?void 0:F.map(T=>l.jsxs(z.button,{onClick:()=>v(T),whileHover:{scale:1.05,backgroundColor:"var(--theater-gold)",color:"black",transition:{duration:.2}},whileTap:{scale:.95},className:`
                      relative p-3 rounded-lg text-center transition-all duration-200
                      ${e===T?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":"bg-gray-700 text-white hover:shadow-md"}
                    `,children:[T,e===T&&l.jsx(z.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:l.jsx(An,{className:"w-3 h-3 text-white"})})]},T))})]})})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rw=function(t,e){return rw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},rw(t,e)};function Kr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var sw=function(){return sw=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sw.apply(this,arguments)};function Un(t,e,n,r){function s(i){return i instanceof n?i:new n(function(A){A(i)})}return new(n||(n=Promise))(function(i,A){function a(u){try{c(r.next(u))}catch(h){A(h)}}function o(u){try{c(r.throw(u))}catch(h){A(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,o)}c((r=r.apply(t,[])).next())})}function gn(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(c){return function(u){return o([c,u])}}function o(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Bh(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var ti=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),im=function(t,e){return ti.fromClientRect(t,e.getBoundingClientRect())},LY=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new ti(0,0,r,s)},Am=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},bt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},iI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xh=0;xh<iI.length;xh++)jY[iI.charCodeAt(xh)]=xh;var AI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ch=0;Ch<AI.length;Ch++)hc[AI.charCodeAt(Ch)]=Ch;var MY=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=hc[t.charCodeAt(r)],A=hc[t.charCodeAt(r+1)],a=hc[t.charCodeAt(r+2)],o=hc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return c},OY=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},VY=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},XA=5,_C=11,P0=2,HY=_C-XA,C4=65536>>XA,KY=1<<XA,L0=KY-1,zY=1024>>XA,GY=C4+zY,$Y=GY,WY=32,qY=$Y+WY,XY=65536>>_C,YY=1<<HY,JY=YY-1,aI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},ZY=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},eJ=function(t,e){var n=MY(t),r=Array.isArray(n)?VY(n):new Uint32Array(n),s=Array.isArray(n)?OY(n):new Uint16Array(n),i=24,A=aI(s,i/2,r[4]/2),a=r[5]===2?aI(s,(i+r[4])/2):ZY(r,Math.ceil((i+r[4])/4));return new tJ(r[0],r[1],r[2],r[3],A,a)},tJ=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>XA],n=(n<<P0)+(e&L0),this.data[n];if(e<=65535)return n=this.index[C4+(e-55296>>XA)],n=(n<<P0)+(e&L0),this.data[n];if(e<this.highStart)return n=qY-XY+(e>>_C),n=this.index[n],n+=e>>XA&JY,n=this.index[n],n=(n<<P0)+(e&L0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),oI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<oI.length;Eh++)nJ[oI.charCodeAt(Eh)]=Eh;var rJ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",lI=50,sJ=1,E4=2,_4=3,iJ=4,AJ=5,cI=7,b4=8,uI=9,Si=10,iw=11,dI=12,Aw=13,aJ=14,fc=15,aw=16,_h=17,ql=18,oJ=19,hI=20,ow=21,Xl=22,j0=23,Ra=24,Xn=25,pc=26,gc=27,Da=28,lJ=29,kA=30,cJ=31,bh=32,Th=33,lw=34,cw=35,uw=36,zu=37,dw=38,wf=39,Bf=40,M0=41,T4=42,uJ=43,dJ=[9001,65288],I4="!",Fe="",Ih="",hw=eJ(rJ),_s=[kA,uw],fw=[sJ,E4,_4,AJ],U4=[Si,b4],fI=[gc,pc],hJ=fw.concat(U4),pI=[dw,wf,Bf,lw,cw],fJ=[fc,Aw],pJ=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,A){var a=hw.get(i);if(a>lI?(s.push(!0),a-=lI):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(A),n.push(aw);if(a===iJ||a===iw){if(A===0)return r.push(A),n.push(kA);var o=n[A-1];return hJ.indexOf(o)===-1?(r.push(r[A-1]),n.push(o)):(r.push(A),n.push(kA))}if(r.push(A),a===cJ)return n.push(e==="strict"?ow:zu);if(a===T4||a===lJ)return n.push(kA);if(a===uJ)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(zu):n.push(kA);n.push(a)}),[r,n,s]},O0=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var A=r[i];if(A===e)return!0;if(A!==Si)break}if(s===Si)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===e)return!0;if(A!==Si)break}if(a!==Si)break}return!1},gI=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Si)n--;else return r}return 0},gJ=function(t,e,n,r,s){if(n[r]===0)return Fe;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Fe;var A=i-1,a=i+1,o=e[i],c=A>=0?e[A]:0,u=e[a];if(o===E4&&u===_4)return Fe;if(fw.indexOf(o)!==-1)return I4;if(fw.indexOf(u)!==-1||U4.indexOf(u)!==-1)return Fe;if(gI(i,e)===b4)return Ih;if(hw.get(t[i])===iw||(o===bh||o===Th)&&hw.get(t[a])===iw||o===cI||u===cI||o===uI||[Si,Aw,fc].indexOf(o)===-1&&u===uI||[_h,ql,oJ,Ra,Da].indexOf(u)!==-1||gI(i,e)===Xl||O0(j0,Xl,i,e)||O0([_h,ql],ow,i,e)||O0(dI,dI,i,e))return Fe;if(o===Si)return Ih;if(o===j0||u===j0)return Fe;if(u===aw||o===aw)return Ih;if([Aw,fc,ow].indexOf(u)!==-1||o===aJ||c===uw&&fJ.indexOf(o)!==-1||o===Da&&u===uw||u===hI||_s.indexOf(u)!==-1&&o===Xn||_s.indexOf(o)!==-1&&u===Xn||o===gc&&[zu,bh,Th].indexOf(u)!==-1||[zu,bh,Th].indexOf(o)!==-1&&u===pc||_s.indexOf(o)!==-1&&fI.indexOf(u)!==-1||fI.indexOf(o)!==-1&&_s.indexOf(u)!==-1||[gc,pc].indexOf(o)!==-1&&(u===Xn||[Xl,fc].indexOf(u)!==-1&&e[a+1]===Xn)||[Xl,fc].indexOf(o)!==-1&&u===Xn||o===Xn&&[Xn,Da,Ra].indexOf(u)!==-1)return Fe;if([Xn,Da,Ra,_h,ql].indexOf(u)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Xn)return Fe;if([Da,Ra].indexOf(f)!==-1)h--;else break}if([gc,pc].indexOf(u)!==-1)for(var h=[_h,ql].indexOf(o)!==-1?A:i;h>=0;){var f=e[h];if(f===Xn)return Fe;if([Da,Ra].indexOf(f)!==-1)h--;else break}if(dw===o&&[dw,wf,lw,cw].indexOf(u)!==-1||[wf,lw].indexOf(o)!==-1&&[wf,Bf].indexOf(u)!==-1||[Bf,cw].indexOf(o)!==-1&&u===Bf||pI.indexOf(o)!==-1&&[hI,pc].indexOf(u)!==-1||pI.indexOf(u)!==-1&&o===gc||_s.indexOf(o)!==-1&&_s.indexOf(u)!==-1||o===Ra&&_s.indexOf(u)!==-1||_s.concat(Xn).indexOf(o)!==-1&&u===Xl&&dJ.indexOf(t[a])===-1||_s.concat(Xn).indexOf(u)!==-1&&o===ql)return Fe;if(o===M0&&u===M0){for(var g=n[i],m=1;g>0&&(g--,e[g]===M0);)m++;if(m%2!==0)return Fe}return o===bh&&u===Th?Fe:Ih},mJ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=pJ(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Xn,kA,T4].indexOf(a)!==-1?zu:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[r,s,A]},yJ=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===I4,this.start=r,this.end=s}return t.prototype.slice=function(){return bt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),vJ=function(t,e){var n=Am(t),r=mJ(n,e),s=r[0],i=r[1],A=r[2],a=n.length,o=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=Fe;c<a&&(u=gJ(n,i,s,++c,A))===Fe;);if(u!==Fe||c===a){var h=new yJ(n,u,o,c);return o=c,{value:h,done:!1}}return{done:!0,value:null}}}},wJ=1,BJ=2,Cd=4,mI=8,Vp=10,yI=47,Hc=92,xJ=9,CJ=32,Uh=34,Yl=61,EJ=35,_J=36,bJ=37,Fh=39,Sh=40,Jl=41,TJ=95,Mn=45,IJ=33,UJ=60,FJ=62,SJ=64,QJ=91,NJ=93,kJ=61,RJ=123,Qh=63,DJ=125,vI=124,PJ=126,LJ=128,wI=65533,V0=42,VA=43,jJ=44,MJ=58,OJ=59,Gu=46,VJ=0,HJ=8,KJ=11,zJ=14,GJ=31,$J=127,Gr=-1,F4=48,S4=97,Q4=101,WJ=102,qJ=117,XJ=122,N4=65,k4=69,R4=70,YJ=85,JJ=90,wn=function(t){return t>=F4&&t<=57},ZJ=function(t){return t>=55296&&t<=57343},Pa=function(t){return wn(t)||t>=N4&&t<=R4||t>=S4&&t<=WJ},eZ=function(t){return t>=S4&&t<=XJ},tZ=function(t){return t>=N4&&t<=JJ},nZ=function(t){return eZ(t)||tZ(t)},rZ=function(t){return t>=LJ},Nh=function(t){return t===Vp||t===xJ||t===CJ},Hp=function(t){return nZ(t)||rZ(t)||t===TJ},BI=function(t){return Hp(t)||wn(t)||t===Mn},sZ=function(t){return t>=VJ&&t<=HJ||t===KJ||t>=zJ&&t<=GJ||t===$J},gi=function(t,e){return t!==Hc?!1:e!==Vp},kh=function(t,e,n){return t===Mn?Hp(e)||gi(e,n):Hp(t)?!0:!!(t===Hc&&gi(t,e))},H0=function(t,e,n){return t===VA||t===Mn?wn(e)?!0:e===Gu&&wn(n):wn(t===Gu?e:t)},iZ=function(t){var e=0,n=1;(t[e]===VA||t[e]===Mn)&&(t[e]===Mn&&(n=-1),e++);for(var r=[];wn(t[e]);)r.push(t[e++]);var s=r.length?parseInt(bt.apply(void 0,r),10):0;t[e]===Gu&&e++;for(var i=[];wn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(bt.apply(void 0,i),10):0;(t[e]===k4||t[e]===Q4)&&e++;var o=1;(t[e]===VA||t[e]===Mn)&&(t[e]===Mn&&(o=-1),e++);for(var c=[];wn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(bt.apply(void 0,c),10):0;return n*(s+a*Math.pow(10,-A))*Math.pow(10,o*u)},AZ={type:2},aZ={type:3},oZ={type:4},lZ={type:13},cZ={type:8},uZ={type:21},dZ={type:9},hZ={type:10},fZ={type:11},pZ={type:12},gZ={type:14},Rh={type:23},mZ={type:1},yZ={type:25},vZ={type:24},wZ={type:26},BZ={type:27},xZ={type:28},CZ={type:29},EZ={type:31},pw={type:32},D4=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Am(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==pw;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Uh:return this.consumeStringToken(Uh);case EJ:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(BI(n)||gi(r,s)){var i=kh(n,r,s)?BJ:wJ,A=this.consumeName();return{type:5,value:A,flags:i}}break;case _J:if(this.peekCodePoint(0)===Yl)return this.consumeCodePoint(),lZ;break;case Fh:return this.consumeStringToken(Fh);case Sh:return AZ;case Jl:return aZ;case V0:if(this.peekCodePoint(0)===Yl)return this.consumeCodePoint(),gZ;break;case VA:if(H0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case jJ:return oZ;case Mn:var a=e,o=this.peekCodePoint(0),c=this.peekCodePoint(1);if(H0(a,o,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(kh(a,o,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===Mn&&c===FJ)return this.consumeCodePoint(),this.consumeCodePoint(),vZ;break;case Gu:if(H0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yI:if(this.peekCodePoint(0)===V0)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===V0&&(u=this.consumeCodePoint(),u===yI))return this.consumeToken();if(u===Gr)return this.consumeToken()}break;case MJ:return wZ;case OJ:return BZ;case UJ:if(this.peekCodePoint(0)===IJ&&this.peekCodePoint(1)===Mn&&this.peekCodePoint(2)===Mn)return this.consumeCodePoint(),this.consumeCodePoint(),yZ;break;case SJ:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(kh(h,f,g)){var A=this.consumeName();return{type:7,value:A}}break;case QJ:return xZ;case Hc:if(gi(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case NJ:return CZ;case kJ:if(this.peekCodePoint(0)===Yl)return this.consumeCodePoint(),cZ;break;case RJ:return fZ;case DJ:return pZ;case qJ:case YJ:var m=this.peekCodePoint(0),y=this.peekCodePoint(1);return m===VA&&(Pa(y)||y===Qh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vI:if(this.peekCodePoint(0)===Yl)return this.consumeCodePoint(),dZ;if(this.peekCodePoint(0)===vI)return this.consumeCodePoint(),uZ;break;case PJ:if(this.peekCodePoint(0)===Yl)return this.consumeCodePoint(),hZ;break;case Gr:return pw}return Nh(e)?(this.consumeWhiteSpace(),EZ):wn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Hp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:bt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Pa(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===Qh&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(bt.apply(void 0,e.map(function(o){return o===Qh?F4:o})),16),i=parseInt(bt.apply(void 0,e.map(function(o){return o===Qh?R4:o})),16);return{type:30,start:s,end:i}}var A=parseInt(bt.apply(void 0,e),16);if(this.peekCodePoint(0)===Mn&&Pa(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Pa(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(bt.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Sh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Sh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Fh||n===Uh){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Jl)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Rh)}for(;;){var s=this.consumeCodePoint();if(s===Gr||s===Jl)return{type:22,value:bt.apply(void 0,e)};if(Nh(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Gr||this.peekCodePoint(0)===Jl?(this.consumeCodePoint(),{type:22,value:bt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Rh);if(s===Uh||s===Fh||s===Sh||sZ(s))return this.consumeBadUrlRemnants(),Rh;if(s===Hc)if(gi(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Rh;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Nh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Jl||e===Gr)return;gi(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=bt.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Gr||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===Vp)return this._value.splice(0,r),mZ;if(s===Hc){var i=this._value[r+1];i!==Gr&&i!==void 0&&(i===Vp?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):gi(s,i)&&(n+=this.consumeStringSlice(r),n+=bt(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Cd,r=this.peekCodePoint(0);for((r===VA||r===Mn)&&e.push(this.consumeCodePoint());wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Gu&&wn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=mI;wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===k4||r===Q4)&&((s===VA||s===Mn)&&wn(i)||wn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=mI;wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[iZ(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(kh(s,i,A)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===bJ?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Pa(e)){for(var n=bt(e);Pa(this.peekCodePoint(0))&&n.length<6;)n+=bt(this.consumeCodePoint());Nh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||ZJ(r)||r>1114111?wI:r}return e===Gr?wI:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(BI(n))e+=bt(n);else if(gi(n,this.peekCodePoint(0)))e+=bt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),P4=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new D4;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||bZ(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?pw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Ed=function(t){return t.type===15},yl=function(t){return t.type===17},Ye=function(t){return t.type===20},_Z=function(t){return t.type===0},gw=function(t,e){return Ye(t)&&t.value===e},L4=function(t){return t.type!==31},nl=function(t){return t.type!==31&&t.type!==4},vs=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},bZ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},lA=function(t){return t.type===17||t.type===15},Rt=function(t){return t.type===16||lA(t)},j4=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},tn={type:17,number:0,flags:Cd},bC={type:16,number:50,flags:Cd},Qi={type:16,number:100,flags:Cd},mc=function(t,e,n){var r=t[0],s=t[1];return[nt(r,e),nt(typeof s<"u"?s:r,n)]},nt=function(t,e){if(t.type===16)return t.number/100*e;if(Ed(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},M4="deg",O4="grad",V4="rad",H4="turn",am={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case M4:return Math.PI*e.number/180;case O4:return Math.PI/200*e.number;case V4:return e.number;case H4:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},K4=function(t){return t.type===15&&(t.unit===M4||t.unit===O4||t.unit===V4||t.unit===H4)},z4=function(t){var e=t.filter(Ye).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[tn,tn];case"to top":case"bottom":return yr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[tn,Qi];case"to right":case"left":return yr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Qi,Qi];case"to bottom":case"top":return yr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Qi,tn];case"to left":case"right":return yr(270)}return 0},yr=function(t){return Math.PI*t/180},Gi={name:"color",parse:function(t,e){if(e.type===18){var n=TZ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Ni(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return Ni(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Ni(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return Ni(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=Ms[e.value.toUpperCase()];if(typeof a<"u")return a}return Ms.TRANSPARENT}},$i=function(t){return(255&t)===0},Ht=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Ni=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},xI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},CI=function(t,e){var n=e.filter(nl);if(n.length===3){var r=n.map(xI),s=r[0],i=r[1],A=r[2];return Ni(s,i,A,1)}if(n.length===4){var a=n.map(xI),s=a[0],i=a[1],A=a[2],o=a[3];return Ni(s,i,A,o)}return 0};function K0(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var EI=function(t,e){var n=e.filter(nl),r=n[0],s=n[1],i=n[2],A=n[3],a=(r.type===17?yr(r.number):am.parse(t,r))/(Math.PI*2),o=Rt(s)?s.number/100:0,c=Rt(i)?i.number/100:0,u=typeof A<"u"&&Rt(A)?nt(A,1):1;if(o===0)return Ni(c*255,c*255,c*255,1);var h=c<=.5?c*(o+1):c+o-c*o,f=c*2-h,g=K0(f,h,a+1/3),m=K0(f,h,a),y=K0(f,h,a-1/3);return Ni(g*255,m*255,y*255,u)},TZ={hsl:EI,hsla:EI,rgb:CI,rgba:CI},Kc=function(t,e){return Gi.parse(t,P4.create(e).parseComponentValue())},Ms={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},IZ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ye(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},UZ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},om=function(t,e){var n=Gi.parse(t,e[0]),r=e[1];return r&&Rt(r)?{color:n,stop:r}:{color:n,stop:null}},_I=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=tn),r.stop===null&&(r.stop=Qi);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=nt(a,e);o>i?s.push(o):s.push(i),i=o}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var u=s[A];if(u===null)c===null&&(c=A);else if(c!==null){for(var h=A-c,f=s[c-1],g=(u-f)/(h+1),m=1;m<=h;m++)s[c+m-1]=g*m;c=null}}return t.map(function(y,E){var x=y.color;return{color:x,stop:Math.max(Math.min(1,s[E]/e),0)}})},FZ=function(t,e,n){var r=e/2,s=n/2,i=nt(t[0],e)-r,A=s-nt(t[1],n);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},SZ=function(t,e,n){var r=typeof t=="number"?t:FZ(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,A=n/2,a=s/2,o=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[s,i-c,i+c,A-o,A+o]},Tr=function(t,e){return Math.sqrt(t*t+e*e)},bI=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var o=a[0],c=a[1],u=Tr(n-o,r-c);return(s?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:a,optimumDistance:u}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},QZ=function(t,e,n,r,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=A=Math.min(Tr(e,n),Tr(e,n-s),Tr(e-r,n),Tr(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),o=bI(r,s,e,n,!0),c=o[0],u=o[1];i=Tr(c-e,(u-n)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=A=Math.max(Tr(e,n),Tr(e,n-s),Tr(e-r,n),Tr(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=bI(r,s,e,n,!1),c=h[0],u=h[1];i=Tr(c-e,(u-n)/a),A=a*i}break}return Array.isArray(t.size)&&(i=nt(t.size[0],r),A=t.size.length===2?nt(t.size[1],s):i),[i,A]},NZ=function(t,e){var n=yr(180),r=[];return vs(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){n=z4(s);return}else if(K4(A)){n=am.parse(t,A);return}}var a=om(t,s);r.push(a)}),{angle:n,stops:r,type:1}},Dh=function(t,e){var n=yr(180),r=[];return vs(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=z4(s);return}else if(K4(A)){n=(am.parse(t,A)+yr(270))%yr(360);return}}var a=om(t,s);r.push(a)}),{angle:n,stops:r,type:1}},kZ=function(t,e){var n=yr(180),r=[],s=1,i=0,A=3,a=[];return vs(e).forEach(function(o,c){var u=o[0];if(c===0){if(Ye(u)&&u.value==="linear"){s=1;return}else if(Ye(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=Gi.parse(t,u.values[0]);r.push({stop:tn,color:h})}else if(u.name==="to"){var h=Gi.parse(t,u.values[0]);r.push({stop:Qi,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(nl);if(f.length===2){var h=Gi.parse(t,f[1]),g=f[0];yl(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),s===1?{angle:(n+yr(180))%yr(360),stops:r,type:s}:{size:A,shape:i,stops:r,position:a,type:s}},G4="closest-side",$4="farthest-side",W4="closest-corner",q4="farthest-corner",X4="circle",Y4="ellipse",J4="cover",Z4="contain",RZ=function(t,e){var n=0,r=3,s=[],i=[];return vs(e).forEach(function(A,a){var o=!0;if(a===0){var c=!1;o=A.reduce(function(h,f){if(c)if(Ye(f))switch(f.value){case"center":return i.push(bC),h;case"top":case"left":return i.push(tn),h;case"right":case"bottom":return i.push(Qi),h}else(Rt(f)||lA(f))&&i.push(f);else if(Ye(f))switch(f.value){case X4:return n=0,!1;case Y4:return n=1,!1;case"at":return c=!0,!1;case G4:return r=0,!1;case J4:case $4:return r=1,!1;case Z4:case W4:return r=2,!1;case q4:return r=3,!1}else if(lA(f)||Rt(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return h},o)}if(o){var u=om(t,A);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},Ph=function(t,e){var n=0,r=3,s=[],i=[];return vs(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(u,h){if(Ye(h))switch(h.value){case"center":return i.push(bC),!1;case"top":case"left":return i.push(tn),!1;case"right":case"bottom":return i.push(Qi),!1}else if(Rt(h)||lA(h))return i.push(h),!1;return u},o):a===1&&(o=A.reduce(function(u,h){if(Ye(h))switch(h.value){case X4:return n=0,!1;case Y4:return n=1,!1;case Z4:case G4:return r=0,!1;case $4:return r=1,!1;case W4:return r=2,!1;case J4:case q4:return r=3,!1}else if(lA(h)||Rt(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},o)),o){var c=om(t,A);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},DZ=function(t){return t.type===1},PZ=function(t){return t.type===2},TC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=eR[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function LZ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!eR[t.name])}var eR={"linear-gradient":NZ,"-moz-linear-gradient":Dh,"-ms-linear-gradient":Dh,"-o-linear-gradient":Dh,"-webkit-linear-gradient":Dh,"radial-gradient":RZ,"-moz-radial-gradient":Ph,"-ms-radial-gradient":Ph,"-o-radial-gradient":Ph,"-webkit-radial-gradient":Ph,"-webkit-gradient":kZ},jZ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return nl(r)&&LZ(r)}).map(function(r){return TC.parse(t,r)})}},MZ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ye(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},OZ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return vs(e).map(function(n){return n.filter(Rt)}).map(j4)}},VZ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return vs(e).map(function(n){return n.filter(Ye).map(function(r){return r.value}).join(" ")}).map(HZ)}},HZ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Qo;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Qo||(Qo={}));var KZ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return vs(e).map(function(n){return n.filter(zZ)})}},zZ=function(t){return Ye(t)||Rt(t)},lm=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},GZ=lm("top"),$Z=lm("right"),WZ=lm("bottom"),qZ=lm("left"),cm=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return j4(n.filter(Rt))}}},XZ=cm("top-left"),YZ=cm("top-right"),JZ=cm("bottom-right"),ZZ=cm("bottom-left"),um=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},eee=um("top"),tee=um("right"),nee=um("bottom"),ree=um("left"),dm=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Ed(n)?n.number:0}}},see=dm("top"),iee=dm("right"),Aee=dm("bottom"),aee=dm("left"),oee={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lee={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},cee={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).reduce(function(n,r){return n|uee(r.value)},0)}},uee=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},dee={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},hee={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Kp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Kp||(Kp={}));var fee={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Kp.STRICT;case"normal":default:return Kp.NORMAL}}},pee={name:"line-height",initialValue:"normal",prefix:!1,type:4},TI=function(t,e){return Ye(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Rt(t)?nt(t,e):e},gee={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:TC.parse(t,e)}},mee={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},mw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},hm=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},yee=hm("top"),vee=hm("right"),wee=hm("bottom"),Bee=hm("left"),xee={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Cee={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},fm=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Eee=fm("top"),_ee=fm("right"),bee=fm("bottom"),Tee=fm("left"),Iee={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Uee={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Fee={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&gw(e[0],"none")?[]:vs(e).map(function(n){for(var r={color:Ms.TRANSPARENT,offsetX:tn,offsetY:tn,blur:tn},s=0,i=0;i<n.length;i++){var A=n[i];lA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=Gi.parse(t,A)}return r})}},See={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Qee={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Ree[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},Nee=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},kee=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,A,a]:null},Ree={matrix:Nee,matrix3d:kee},II={type:16,number:50,flags:Cd},Dee=[II,II],Pee={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Rt);return n.length!==2?Dee:[n[0],n[1]]}},Lee={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},zc;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(zc||(zc={}));var jee={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return zc.BREAK_ALL;case"keep-all":return zc.KEEP_ALL;case"normal":default:return zc.NORMAL}}},Mee={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(yl(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},tR={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Oee={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return yl(e)?e.number:1}},Vee={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hee={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Kee={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},zee={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Gee={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(yl(e))return e.number;if(Ye(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},$ee={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ye).map(function(n){return n.value})}},Wee={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Mt=function(t,e){return(t&e)!==0},qee={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Xee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(L4),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var o=a&&yl(a)?a.number:1;r.push({counter:A.value,increment:o})}}return r}},Yee={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(L4),s=0;s<r.length;s++){var i=r[s],A=r[s+1];if(Ye(i)&&i.value!=="none"){var a=A&&yl(A)?A.number:0;n.push({counter:i.value,reset:a})}}return n}},Jee={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Ed).map(function(n){return tR.parse(t,n)})}},Zee={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(_Z);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;r.push({open:A,close:a})}return r}},UI=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},ete={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&gw(e[0],"none")?[]:vs(e).map(function(n){for(var r={color:255,offsetX:tn,offsetY:tn,blur:tn,spread:tn,inset:!1},s=0,i=0;i<n.length;i++){var A=n[i];gw(A,"inset")?r.inset=!0:lA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=Gi.parse(t,A)}return r})}},tte={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Ye).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},nte={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},rte={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Ed(e)?e.number:0}},ste=function(){function t(e,n){var r,s;this.animationDuration=ae(e,Jee,n.animationDuration),this.backgroundClip=ae(e,IZ,n.backgroundClip),this.backgroundColor=ae(e,UZ,n.backgroundColor),this.backgroundImage=ae(e,jZ,n.backgroundImage),this.backgroundOrigin=ae(e,MZ,n.backgroundOrigin),this.backgroundPosition=ae(e,OZ,n.backgroundPosition),this.backgroundRepeat=ae(e,VZ,n.backgroundRepeat),this.backgroundSize=ae(e,KZ,n.backgroundSize),this.borderTopColor=ae(e,GZ,n.borderTopColor),this.borderRightColor=ae(e,$Z,n.borderRightColor),this.borderBottomColor=ae(e,WZ,n.borderBottomColor),this.borderLeftColor=ae(e,qZ,n.borderLeftColor),this.borderTopLeftRadius=ae(e,XZ,n.borderTopLeftRadius),this.borderTopRightRadius=ae(e,YZ,n.borderTopRightRadius),this.borderBottomRightRadius=ae(e,JZ,n.borderBottomRightRadius),this.borderBottomLeftRadius=ae(e,ZZ,n.borderBottomLeftRadius),this.borderTopStyle=ae(e,eee,n.borderTopStyle),this.borderRightStyle=ae(e,tee,n.borderRightStyle),this.borderBottomStyle=ae(e,nee,n.borderBottomStyle),this.borderLeftStyle=ae(e,ree,n.borderLeftStyle),this.borderTopWidth=ae(e,see,n.borderTopWidth),this.borderRightWidth=ae(e,iee,n.borderRightWidth),this.borderBottomWidth=ae(e,Aee,n.borderBottomWidth),this.borderLeftWidth=ae(e,aee,n.borderLeftWidth),this.boxShadow=ae(e,ete,n.boxShadow),this.color=ae(e,oee,n.color),this.direction=ae(e,lee,n.direction),this.display=ae(e,cee,n.display),this.float=ae(e,dee,n.cssFloat),this.fontFamily=ae(e,Kee,n.fontFamily),this.fontSize=ae(e,zee,n.fontSize),this.fontStyle=ae(e,Wee,n.fontStyle),this.fontVariant=ae(e,$ee,n.fontVariant),this.fontWeight=ae(e,Gee,n.fontWeight),this.letterSpacing=ae(e,hee,n.letterSpacing),this.lineBreak=ae(e,fee,n.lineBreak),this.lineHeight=ae(e,pee,n.lineHeight),this.listStyleImage=ae(e,gee,n.listStyleImage),this.listStylePosition=ae(e,mee,n.listStylePosition),this.listStyleType=ae(e,mw,n.listStyleType),this.marginTop=ae(e,yee,n.marginTop),this.marginRight=ae(e,vee,n.marginRight),this.marginBottom=ae(e,wee,n.marginBottom),this.marginLeft=ae(e,Bee,n.marginLeft),this.opacity=ae(e,Oee,n.opacity);var i=ae(e,xee,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ae(e,Cee,n.overflowWrap),this.paddingTop=ae(e,Eee,n.paddingTop),this.paddingRight=ae(e,_ee,n.paddingRight),this.paddingBottom=ae(e,bee,n.paddingBottom),this.paddingLeft=ae(e,Tee,n.paddingLeft),this.paintOrder=ae(e,tte,n.paintOrder),this.position=ae(e,Uee,n.position),this.textAlign=ae(e,Iee,n.textAlign),this.textDecorationColor=ae(e,Vee,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ae(e,Hee,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=ae(e,Fee,n.textShadow),this.textTransform=ae(e,See,n.textTransform),this.transform=ae(e,Qee,n.transform),this.transformOrigin=ae(e,Pee,n.transformOrigin),this.visibility=ae(e,Lee,n.visibility),this.webkitTextStrokeColor=ae(e,nte,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ae(e,rte,n.webkitTextStrokeWidth),this.wordBreak=ae(e,jee,n.wordBreak),this.zIndex=ae(e,Mee,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return $i(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Mt(this.display,4)||Mt(this.display,33554432)||Mt(this.display,268435456)||Mt(this.display,536870912)||Mt(this.display,67108864)||Mt(this.display,134217728)},t}(),ite=function(){function t(e,n){this.content=ae(e,qee,n.content),this.quotes=ae(e,Zee,n.quotes)}return t}(),FI=function(){function t(e,n){this.counterIncrement=ae(e,Xee,n.counterIncrement),this.counterReset=ae(e,Yee,n.counterReset)}return t}(),ae=function(t,e,n){var r=new D4,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new P4(r.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,Ye(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return am.parse(t,i.parseComponentValue());case"color":return Gi.parse(t,i.parseComponentValue());case"image":return TC.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return lA(a)?a:tn;case"length-percentage":var o=i.parseComponentValue();return Rt(o)?o:tn;case"time":return tR.parse(t,i.parseComponentValue())}break}},Ate="data-html2canvas-debug",ate=function(t){var e=t.getAttribute(Ate);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yw=function(t,e){var n=ate(t);return n===1||e===n},ws=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,yw(n,3))debugger;this.styles=new ste(e,window.getComputedStyle(n,null)),Bw(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=im(this.context,n),yw(n,4)&&(this.flags|=16)}return t}(),ote="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",SI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lh=0;Lh<SI.length;Lh++)yc[SI.charCodeAt(Lh)]=Lh;var lte=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=yc[t.charCodeAt(r)],A=yc[t.charCodeAt(r+1)],a=yc[t.charCodeAt(r+2)],o=yc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return c},cte=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},ute=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},YA=5,IC=11,z0=2,dte=IC-YA,nR=65536>>YA,hte=1<<YA,G0=hte-1,fte=1024>>YA,pte=nR+fte,gte=pte,mte=32,yte=gte+mte,vte=65536>>IC,wte=1<<dte,Bte=wte-1,QI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},xte=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Cte=function(t,e){var n=lte(t),r=Array.isArray(n)?ute(n):new Uint32Array(n),s=Array.isArray(n)?cte(n):new Uint16Array(n),i=24,A=QI(s,i/2,r[4]/2),a=r[5]===2?QI(s,(i+r[4])/2):xte(r,Math.ceil((i+r[4])/4));return new Ete(r[0],r[1],r[2],r[3],A,a)},Ete=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>YA],n=(n<<z0)+(e&G0),this.data[n];if(e<=65535)return n=this.index[nR+(e-55296>>YA)],n=(n<<z0)+(e&G0),this.data[n];if(e<this.highStart)return n=yte-vte+(e>>IC),n=this.index[n],n+=e>>YA&Bte,n=this.index[n],n=(n<<z0)+(e&G0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),NI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_te=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jh=0;jh<NI.length;jh++)_te[NI.charCodeAt(jh)]=jh;var bte=1,$0=2,W0=3,kI=4,RI=5,Tte=7,DI=8,q0=9,X0=10,PI=11,LI=12,jI=13,MI=14,Y0=15,Ite=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Ute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Fte=Cte(ote),hr="",J0="",Ste=function(t){return Fte.get(t)},Qte=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],A=e[n];if(i===$0&&A===W0)return hr;if(i===$0||i===W0||i===kI||A===$0||A===W0||A===kI)return J0;if(i===DI&&[DI,q0,PI,LI].indexOf(A)!==-1||(i===PI||i===q0)&&(A===q0||A===X0)||(i===LI||i===X0)&&A===X0||A===jI||A===RI||A===Tte||i===bte)return hr;if(i===jI&&A===MI){for(;s===RI;)s=e[--r];if(s===MI)return hr}if(i===Y0&&A===Y0){for(var a=0;s===Y0;)a++,s=e[--r];if(a%2===0)return hr}return J0},Nte=function(t){var e=Ite(t),n=e.length,r=0,s=0,i=e.map(Ste);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=hr;r<n&&(A=Qte(e,i,++r))===hr;);if(A!==hr||r===n){var a=Ute.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},kte=function(t){for(var e=Nte(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},Rte=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},Dte=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=Am(r.data).map(function(o){return bt(o)}),i=0,A={},a=s.every(function(o,c){n.setStart(r,i),n.setEnd(r,i+o.length);var u=n.getBoundingClientRect();i+=o.length;var h=u.x>A.x||u.y>A.y;return A=u,c===0?!0:h});return t.body.removeChild(e),a},Pte=function(){return typeof new Image().crossOrigin<"u"},Lte=function(){return typeof new XMLHttpRequest().responseType=="string"},jte=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},OI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Mte=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var A=vw(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),VI(A).then(function(a){r.drawImage(a,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=n+"px",OI(o)?VI(vw(n,n,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),OI(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},vw=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},VI=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Yt={get SUPPORT_RANGE_BOUNDS(){var t=Rte(document);return Object.defineProperty(Yt,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Yt.SUPPORT_RANGE_BOUNDS&&Dte(document);return Object.defineProperty(Yt,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=jte(document);return Object.defineProperty(Yt,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Mte(document):Promise.resolve(!1);return Object.defineProperty(Yt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Pte();return Object.defineProperty(Yt,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Lte();return Object.defineProperty(Yt,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Yt,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Yt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Gc=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),Ote=function(t,e,n,r){var s=Kte(e,n),i=[],A=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Yt.SUPPORT_RANGE_BOUNDS){var o=HI(r,A,a.length).getClientRects();if(o.length>1){var c=UC(a),u=0;c.forEach(function(f){i.push(new Gc(f,ti.fromDOMRectList(t,HI(r,u+A,f.length).getClientRects()))),u+=f.length})}else i.push(new Gc(a,ti.fromDOMRectList(t,o)))}else{var h=r.splitText(a.length);i.push(new Gc(a,Vte(t,r))),r=h}else Yt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));A+=a.length}),i},Vte=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=im(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return ti.EMPTY},HI=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},UC=function(t){if(Yt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return kte(t)},Hte=function(t,e){if(Yt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return Gte(t,e)},Kte=function(t,e){return e.letterSpacing!==0?UC(t):Hte(t,e)},zte=[32,160,4961,65792,65793,4153,4241],Gte=function(t,e){for(var n=vJ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var A=s.value.slice(),a=Am(A),o="";a.forEach(function(c){zte.indexOf(c)===-1?o+=bt(c):(o.length&&r.push(o),r.push(bt(c)),o="")}),o.length&&r.push(o)}};!(s=n.next()).done;)i();return r},$te=function(){function t(e,n,r){this.text=Wte(n.data,r.textTransform),this.textBounds=Ote(e,this.text,r,n)}return t}(),Wte=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(qte,Xte);case 2:return t.toUpperCase();default:return t}},qte=/(^|\s|:|-|\(|\))([a-z])/g,Xte=function(t,e,n){return t.length>0?e+n.toUpperCase():t},rR=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(ws),sR=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(ws),iR=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,A=im(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(ws),AR=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ws),ww=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(ws),Yte=[{type:15,flags:0,unit:"px",number:3}],Jte=[{type:16,flags:0,number:50}],Zte=function(t){return t.width>t.height?new ti(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ti(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},ene=function(t){var e=t.type===tne?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},zp="checkbox",Gp="radio",tne="password",KI=707406591,FC=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=ene(r),(s.type===zp||s.type===Gp)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Zte(s.bounds)),s.type){case zp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Yte;break;case Gp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Jte;break}return s}return e}(ws),aR=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(ws),oR=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ws),lR=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=uR(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?Kc(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ms.TRANSPARENT,A=r.contentWindow.document.body?Kc(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ms.TRANSPARENT;s.backgroundColor=$i(i)?$i(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(ws),nne=["OL","UL","MENU"],xf=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,dR(s)&&s.data.trim().length>0)n.textNodes.push(new $te(t,s,n.styles));else if(fo(s))if(gR(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return xf(t,a,n,r)});else{var A=cR(t,s);A.styles.isVisible()&&(rne(s,A,r)?A.flags|=4:sne(A.styles)&&(A.flags|=2),nne.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?xf(t,s.shadowRoot,A,r):!$p(s)&&!hR(s)&&!Wp(s)&&xf(t,s,A,r))}},cR=function(t,e){return xw(e)?new rR(t,e):fR(e)?new sR(t,e):hR(e)?new iR(t,e):ine(e)?new AR(t,e):Ane(e)?new ww(t,e):ane(e)?new FC(t,e):Wp(e)?new aR(t,e):$p(e)?new oR(t,e):pR(e)?new lR(t,e):new ws(t,e)},uR=function(t,e){var n=cR(t,e);return n.flags|=4,xf(t,e,n,n),n},rne=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||SC(t)&&n.styles.isTransparent()},sne=function(t){return t.isPositioned()||t.isFloating()},dR=function(t){return t.nodeType===Node.TEXT_NODE},fo=function(t){return t.nodeType===Node.ELEMENT_NODE},Bw=function(t){return fo(t)&&typeof t.style<"u"&&!Cf(t)},Cf=function(t){return typeof t.className=="object"},ine=function(t){return t.tagName==="LI"},Ane=function(t){return t.tagName==="OL"},ane=function(t){return t.tagName==="INPUT"},one=function(t){return t.tagName==="HTML"},hR=function(t){return t.tagName==="svg"},SC=function(t){return t.tagName==="BODY"},fR=function(t){return t.tagName==="CANVAS"},zI=function(t){return t.tagName==="VIDEO"},xw=function(t){return t.tagName==="IMG"},pR=function(t){return t.tagName==="IFRAME"},GI=function(t){return t.tagName==="STYLE"},lne=function(t){return t.tagName==="SCRIPT"},$p=function(t){return t.tagName==="TEXTAREA"},Wp=function(t){return t.tagName==="SELECT"},gR=function(t){return t.tagName==="SLOT"},$I=function(t){return t.tagName.indexOf("-")>0},cne=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var o=n.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var o=n.counters[a.counter];A.push(a.counter),o||(o=n.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),WI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},qI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},une={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},La=function(t,e,n,r,s,i){return t<e||t>n?$u(t,s,i.length>0):r.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=r.values[o];return A},"")+i},mR=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Et=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(mR(Math.abs(t),i,r,function(A){return bt(Math.floor(A%i)+e)})+s)},TA=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return mR(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},za=1,di=2,hi=4,vc=8,bs=function(t,e,n,r,s,i){if(t<-9999||t>9999)return $u(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var c=A%10;c===0&&Mt(i,za)&&a!==""?a=e[c]+a:c>1||c===1&&o===0||c===1&&o===1&&Mt(i,di)||c===1&&o===1&&Mt(i,hi)&&t>100||c===1&&o>1&&Mt(i,vc)?a=e[c]+(o>0?n[o-1]:"")+a:c===1&&o>0&&(a=n[o-1]+a),A=Math.floor(A/10)}return(t<0?r:"")+a},XI="",YI="",JI="",Z0="",$u=function(t,e,n){var r=n?". ":"",s=n?"":"",i=n?", ":"",A=n?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var a=Et(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return TA(t,"",s);case 6:return La(t,1,3999,WI,3,r).toLowerCase();case 7:return La(t,1,3999,WI,3,r);case 8:return Et(t,945,969,!1,r);case 9:return Et(t,97,122,!1,r);case 10:return Et(t,65,90,!1,r);case 11:return Et(t,1632,1641,!0,r);case 12:case 49:return La(t,1,9999,qI,3,r);case 35:return La(t,1,9999,qI,3,r).toLowerCase();case 13:return Et(t,2534,2543,!0,r);case 14:case 30:return Et(t,6112,6121,!0,r);case 15:return TA(t,"",s);case 16:return TA(t,"",s);case 17:case 48:return bs(t,"",XI,"",s,di|hi|vc);case 47:return bs(t,"",YI,"",s,za|di|hi|vc);case 42:return bs(t,"",XI,"",s,di|hi|vc);case 41:return bs(t,"",YI,"",s,za|di|hi|vc);case 26:return bs(t,"","",JI,s,0);case 25:return bs(t,"","",JI,s,za|di|hi);case 31:return bs(t,"","",Z0,i,za|di|hi);case 33:return bs(t,"","",Z0,i,0);case 32:return bs(t,"","",Z0,i,za|di|hi);case 18:return Et(t,2406,2415,!0,r);case 20:return La(t,1,19999,dne,3,r);case 21:return Et(t,2790,2799,!0,r);case 22:return Et(t,2662,2671,!0,r);case 22:return La(t,1,10999,une,3,r);case 23:return TA(t,"");case 24:return TA(t,"");case 27:return Et(t,3302,3311,!0,r);case 28:return TA(t,"",s);case 29:return TA(t,"",s);case 34:return Et(t,3792,3801,!0,r);case 37:return Et(t,6160,6169,!0,r);case 38:return Et(t,4160,4169,!0,r);case 39:return Et(t,2918,2927,!0,r);case 40:return Et(t,1776,1785,!0,r);case 43:return Et(t,3046,3055,!0,r);case 44:return Et(t,3174,3183,!0,r);case 45:return Et(t,3664,3673,!0,r);case 46:return Et(t,3872,3881,!0,r);case 3:default:return Et(t,48,57,!0,r)}},yR="data-html2canvas-ignore",ZI=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new cne,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=hne(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,o=a.document,c=gne(s).then(function(){return Un(r,void 0,void 0,function(){var u,h;return gn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(wne),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,pne(o)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(o,h)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write(yne(document.doctype)+"<html></html>"),vne(this.referenceElement.ownerDocument,i,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),c},t.prototype.createElementClone=function(e){if(yw(e,2))debugger;if(fR(e))return this.createCanvasClone(e);if(zI(e))return this.createVideoClone(e);if(GI(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return xw(n)&&(xw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),$I(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return ey(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!fo(n)||!lne(n)&&!n.hasAttribute(yR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!fo(n)||!GI(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(fo(i)&&gR(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(dR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&fo(e)&&(Bw(e)||Cf(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&Bw(s)&&(this.clonedReferenceElement=s),SC(s)&&Cne(s);var o=this.counters.parse(new FI(this.context,i)),c=this.resolvePseudoContent(e,s,A,$c.BEFORE);$I(e)&&(n=!0),zI(e)||this.cloneChildNodes(e,s,n),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,a,$c.AFTER);return u&&s.appendChild(u),this.counters.pop(o),(i&&(this.options.copyStyles||Cf(e))&&!pR(e)||n)&&ey(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),($p(e)||Wp(e))&&($p(s)||Wp(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var A=r.content,a=n.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new FI(this.context,r));var o=new ite(this.context,r),c=a.createElement("html2canvaspseudoelement");ey(r,c),o.content.forEach(function(h){if(h.type===0)c.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",c.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(Ye);g.length&&c.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(nl),y=m[0],E=m[1];if(y&&Ye(y)){var x=i.counters.getCounterValue(y.value),v=E&&Ye(E)?mw.parse(i.context,E.value):3;c.appendChild(a.createTextNode($u(x,v,!1)))}}else if(h.name==="counters"){var w=h.values.filter(nl),y=w[0],F=w[1],E=w[2];if(y&&Ye(y)){var T=i.counters.getCounterValues(y.value),N=E&&Ye(E)?mw.parse(i.context,E.value):3,b=F&&F.type===0?F.value:"",C=T.map(function(k){return $u(k,N,!1)}).join(b);c.appendChild(a.createTextNode(C))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(a.createTextNode(UI(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(UI(o.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(h.value))}}),c.className=Cw+" "+Ew;var u=s===$c.BEFORE?" "+Cw:" "+Ew;return Cf(n)?n.className.baseValue+=u:n.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),$c;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})($c||($c={}));var hne=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(yR,"true"),t.body.appendChild(n),n},fne=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},pne=function(t){return Promise.all([].slice.call(t.images,0).map(fne))},gne=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},mne=["all","d","content"],ey=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);mne.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},yne=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},vne=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},wne=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Bne=":before",xne=":after",Cw="___html2canvas___pseudoelement_before",Ew="___html2canvas___pseudoelement_after",eU=`{
    content: "" !important;
    display: none !important;
}`,Cne=function(t){Ene(t,"."+Cw+Bne+eU+`
         .`+Ew+xne+eU)},Ene=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},vR=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),_ne=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(ny(e)||Une(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Un(this,void 0,void 0,function(){var n,r,s,i,A=this;return gn(this,function(a){switch(a.label){case 0:return n=vR.isSameOrigin(e),r=!ty(e)&&this._options.useCORS===!0&&Yt.SUPPORT_CORS_IMAGES&&!n,s=!ty(e)&&!n&&!ny(e)&&typeof this._options.proxy=="string"&&Yt.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!ty(e)&&!ny(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,c){var u=new Image;u.onload=function(){return o(u)},u.onerror=c,(Fne(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return o(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=Yt.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return A(f)},!1),h.readAsDataURL(o.response)}else A("Failed to proxy resource "+s+" with status code "+o.status)},o.onerror=A;var c=r.indexOf("?")>-1?"&":"?";if(o.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;o.timeout=u,o.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+s)}}o.send()})},t}(),bne=/^data:image\/svg\+xml/i,Tne=/^data:image\/.*;base64,/i,Ine=/^data:image\/.*/i,Une=function(t){return Yt.SUPPORT_SVG_DRAWING||!Sne(t)},ty=function(t){return Ine.test(t)},Fne=function(t){return Tne.test(t)},ny=function(t){return t.substr(0,4)==="blob"},Sne=function(t){return t.substr(-3).toLowerCase()==="svg"||bne.test(t)},ie=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),ja=function(t,e,n){return new ie(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Mh=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=ja(this.start,this.startControl,e),s=ja(this.startControl,this.endControl,e),i=ja(this.endControl,this.end,e),A=ja(r,s,e),a=ja(s,i,e),o=ja(A,a,e);return n?new t(this.start,r,A,o):new t(o,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),gr=function(t){return t.type===1},Qne=function(){function t(e){var n=e.styles,r=e.bounds,s=mc(n.borderTopLeftRadius,r.width,r.height),i=s[0],A=s[1],a=mc(n.borderTopRightRadius,r.width,r.height),o=a[0],c=a[1],u=mc(n.borderBottomRightRadius,r.width,r.height),h=u[0],f=u[1],g=mc(n.borderBottomLeftRadius,r.width,r.height),m=g[0],y=g[1],E=[];E.push((i+o)/r.width),E.push((m+h)/r.width),E.push((A+y)/r.height),E.push((c+f)/r.height);var x=Math.max.apply(Math,E);x>1&&(i/=x,A/=x,o/=x,c/=x,h/=x,f/=x,m/=x,y/=x);var v=r.width-o,w=r.height-f,F=r.width-h,T=r.height-y,N=n.borderTopWidth,b=n.borderRightWidth,C=n.borderBottomWidth,_=n.borderLeftWidth,I=nt(n.paddingTop,e.bounds.width),k=nt(n.paddingRight,e.bounds.width),R=nt(n.paddingBottom,e.bounds.width),S=nt(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?lt(r.left+_/3,r.top+N/3,i-_/3,A-N/3,Ke.TOP_LEFT):new ie(r.left+_/3,r.top+N/3),this.topRightBorderDoubleOuterBox=i>0||A>0?lt(r.left+v,r.top+N/3,o-b/3,c-N/3,Ke.TOP_RIGHT):new ie(r.left+r.width-b/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?lt(r.left+F,r.top+w,h-b/3,f-C/3,Ke.BOTTOM_RIGHT):new ie(r.left+r.width-b/3,r.top+r.height-C/3),this.bottomLeftBorderDoubleOuterBox=m>0||y>0?lt(r.left+_/3,r.top+T,m-_/3,y-C/3,Ke.BOTTOM_LEFT):new ie(r.left+_/3,r.top+r.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?lt(r.left+_*2/3,r.top+N*2/3,i-_*2/3,A-N*2/3,Ke.TOP_LEFT):new ie(r.left+_*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?lt(r.left+v,r.top+N*2/3,o-b*2/3,c-N*2/3,Ke.TOP_RIGHT):new ie(r.left+r.width-b*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?lt(r.left+F,r.top+w,h-b*2/3,f-C*2/3,Ke.BOTTOM_RIGHT):new ie(r.left+r.width-b*2/3,r.top+r.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||y>0?lt(r.left+_*2/3,r.top+T,m-_*2/3,y-C*2/3,Ke.BOTTOM_LEFT):new ie(r.left+_*2/3,r.top+r.height-C*2/3),this.topLeftBorderStroke=i>0||A>0?lt(r.left+_/2,r.top+N/2,i-_/2,A-N/2,Ke.TOP_LEFT):new ie(r.left+_/2,r.top+N/2),this.topRightBorderStroke=i>0||A>0?lt(r.left+v,r.top+N/2,o-b/2,c-N/2,Ke.TOP_RIGHT):new ie(r.left+r.width-b/2,r.top+N/2),this.bottomRightBorderStroke=h>0||f>0?lt(r.left+F,r.top+w,h-b/2,f-C/2,Ke.BOTTOM_RIGHT):new ie(r.left+r.width-b/2,r.top+r.height-C/2),this.bottomLeftBorderStroke=m>0||y>0?lt(r.left+_/2,r.top+T,m-_/2,y-C/2,Ke.BOTTOM_LEFT):new ie(r.left+_/2,r.top+r.height-C/2),this.topLeftBorderBox=i>0||A>0?lt(r.left,r.top,i,A,Ke.TOP_LEFT):new ie(r.left,r.top),this.topRightBorderBox=o>0||c>0?lt(r.left+v,r.top,o,c,Ke.TOP_RIGHT):new ie(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||f>0?lt(r.left+F,r.top+w,h,f,Ke.BOTTOM_RIGHT):new ie(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||y>0?lt(r.left,r.top+T,m,y,Ke.BOTTOM_LEFT):new ie(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||A>0?lt(r.left+_,r.top+N,Math.max(0,i-_),Math.max(0,A-N),Ke.TOP_LEFT):new ie(r.left+_,r.top+N),this.topRightPaddingBox=o>0||c>0?lt(r.left+Math.min(v,r.width-b),r.top+N,v>r.width+b?0:Math.max(0,o-b),Math.max(0,c-N),Ke.TOP_RIGHT):new ie(r.left+r.width-b,r.top+N),this.bottomRightPaddingBox=h>0||f>0?lt(r.left+Math.min(F,r.width-_),r.top+Math.min(w,r.height-C),Math.max(0,h-b),Math.max(0,f-C),Ke.BOTTOM_RIGHT):new ie(r.left+r.width-b,r.top+r.height-C),this.bottomLeftPaddingBox=m>0||y>0?lt(r.left+_,r.top+Math.min(T,r.height-C),Math.max(0,m-_),Math.max(0,y-C),Ke.BOTTOM_LEFT):new ie(r.left+_,r.top+r.height-C),this.topLeftContentBox=i>0||A>0?lt(r.left+_+S,r.top+N+I,Math.max(0,i-(_+S)),Math.max(0,A-(N+I)),Ke.TOP_LEFT):new ie(r.left+_+S,r.top+N+I),this.topRightContentBox=o>0||c>0?lt(r.left+Math.min(v,r.width+_+S),r.top+N+I,v>r.width+_+S?0:o-_+S,c-(N+I),Ke.TOP_RIGHT):new ie(r.left+r.width-(b+k),r.top+N+I),this.bottomRightContentBox=h>0||f>0?lt(r.left+Math.min(F,r.width-(_+S)),r.top+Math.min(w,r.height+N+I),Math.max(0,h-(b+k)),f-(C+R),Ke.BOTTOM_RIGHT):new ie(r.left+r.width-(b+k),r.top+r.height-(C+R)),this.bottomLeftContentBox=m>0||y>0?lt(r.left+_+S,r.top+T,Math.max(0,m-(_+S)),y-(C+R),Ke.BOTTOM_LEFT):new ie(r.left+_+S,r.top+r.height-(C+R))}return t}(),Ke;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ke||(Ke={}));var lt=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),A=n*i,a=r*i,o=t+n,c=e+r;switch(s){case Ke.TOP_LEFT:return new Mh(new ie(t,c),new ie(t,c-a),new ie(o-A,e),new ie(o,e));case Ke.TOP_RIGHT:return new Mh(new ie(t,e),new ie(t+A,e),new ie(o,c-a),new ie(o,c));case Ke.BOTTOM_RIGHT:return new Mh(new ie(o,e),new ie(o,e+a),new ie(t+A,c),new ie(t,c));case Ke.BOTTOM_LEFT:default:return new Mh(new ie(o,c),new ie(o-A,c),new ie(t,e+a),new ie(t,e))}},qp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Nne=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Xp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},kne=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Oh=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),Rne=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Dne=function(t){return t.type===0},wR=function(t){return t.type===1},Pne=function(t){return t.type===2},tU=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Lne=function(t,e,n,r,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},BR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),xR=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Qne(this.container),this.container.styles.opacity<1&&this.effects.push(new Rne(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new kne(r,s,i))}if(this.container.styles.overflowX!==0){var A=qp(this.curves),a=Xp(this.curves);tU(A,a)?this.effects.push(new Oh(A,6)):(this.effects.push(new Oh(A,2)),this.effects.push(new Oh(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(o){return!wR(o)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=qp(r.curves),a=Xp(r.curves);tU(A,a)||s.unshift(new Oh(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(o){return Mt(o.target,e)})},t}(),_w=function(t,e,n,r){t.container.elements.forEach(function(s){var i=Mt(s.flags,4),A=Mt(s.flags,2),a=new xR(s,t);Mt(s.styles.display,2048)&&r.push(a);var o=Mt(s.flags,8)?[]:r;if(i||A){var c=i||s.styles.isPositioned()?n:e,u=new BR(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;c.negativeZIndex.some(function(m,y){return h>m.element.container.styles.zIndex.order?(f=y,!1):f>0}),c.negativeZIndex.splice(f,0,u)}else if(h>0){var g=0;c.positiveZIndex.some(function(m,y){return h>=m.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);_w(a,u,i?u:n,o)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),_w(a,e,n,o);Mt(s.flags,8)&&CR(s,o)})},CR=function(t,e){for(var n=t instanceof ww?t.start:1,r=t instanceof ww?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof AR&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=$u(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},jne=function(t){var e=new xR(t,null),n=new BR(e),r=[];return _w(e,n,n,r),CR(e.container,r),n},nU=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Mne=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return vr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},One=function(t,e){switch(e){case 0:return vr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Vne=function(t,e){switch(e){case 0:return Vh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Vh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Vh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Vh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Vh=function(t,e){var n=[];return gr(t)?n.push(t.subdivide(.5,!1)):n.push(t),gr(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},vr=function(t,e,n,r){var s=[];return gr(t)?s.push(t.subdivide(.5,!1)):s.push(t),gr(n)?s.push(n.subdivide(.5,!0)):s.push(n),gr(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),gr(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},ER=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Yp=function(t){var e=t.styles,n=t.bounds,r=nt(e.paddingLeft,n.width),s=nt(e.paddingRight,n.width),i=nt(e.paddingTop,n.width),A=nt(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},Hne=function(t,e){return t===0?e.bounds:t===2?Yp(e):ER(e)},Kne=function(t,e){return t===0?e.bounds:t===2?Yp(e):ER(e)},ry=function(t,e,n){var r=Hne(Ga(t.styles.backgroundOrigin,e),t),s=Kne(Ga(t.styles.backgroundClip,e),t),i=zne(Ga(t.styles.backgroundSize,e),n,r),A=i[0],a=i[1],o=mc(Ga(t.styles.backgroundPosition,e),r.width-A,r.height-a),c=Gne(Ga(t.styles.backgroundRepeat,e),o,i,r,s),u=Math.round(r.left+o[0]),h=Math.round(r.top+o[1]);return[c,u,h,A,a]},Ma=function(t){return Ye(t)&&t.value===Qo.AUTO},Hh=function(t){return typeof t=="number"},zne=function(t,e,n){var r=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(Rt(A)&&a&&Rt(a))return[nt(A,n.width),nt(a,n.height)];var o=Hh(i);if(Ye(A)&&(A.value===Qo.CONTAIN||A.value===Qo.COVER)){if(Hh(i)){var c=n.width/n.height;return c<i!=(A.value===Qo.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=Hh(r),h=Hh(s),f=u||h;if(Ma(A)&&(!a||Ma(a))){if(u&&h)return[r,s];if(!o&&!f)return[n.width,n.height];if(f&&o){var g=u?r:s*i,m=h?s:r/i;return[g,m]}var y=u?r:n.width,E=h?s:n.height;return[y,E]}if(o){var x=0,v=0;return Rt(A)?x=nt(A,n.width):Rt(a)&&(v=nt(a,n.height)),Ma(A)?x=v*i:(!a||Ma(a))&&(v=x/i),[x,v]}var w=null,F=null;if(Rt(A)?w=nt(A,n.width):a&&Rt(a)&&(F=nt(a,n.height)),w!==null&&(!a||Ma(a))&&(F=u&&h?w/r*s:n.height),F!==null&&Ma(A)&&(w=u&&h?F/s*r:n.width),w!==null&&F!==null)return[w,F];throw new Error("Unable to calculate background-size for element")},Ga=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Gne=function(t,e,n,r,s){var i=e[0],A=e[1],a=n[0],o=n[1];switch(t){case 2:return[new ie(Math.round(r.left),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(o+r.top+A)),new ie(Math.round(r.left),Math.round(o+r.top+A))];case 3:return[new ie(Math.round(r.left+i),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.height+r.top)),new ie(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new ie(Math.round(r.left+i),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A+o)),new ie(Math.round(r.left+i),Math.round(r.top+A+o))];default:return[new ie(Math.round(s.left),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ie(Math.round(s.left),Math.round(s.height+s.top))]}},$ne="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rU="Hidden Text",Wne=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=$ne,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(rU)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(rU)),r.style.lineHeight="normal",s.style.verticalAlign="super";var o=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),_R=function(){function t(e,n){this.context=e,this.options=n}return t}(),qne=1e4,Xne=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Wne(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),Pne(n)&&(this.ctx.globalAlpha=n.opacity),Dne(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),wR(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Un(this,void 0,void 0,function(){var r;return gn(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Un(this,void 0,void 0,function(){return gn(this,function(r){switch(r.label){case 0:if(Mt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=UC(n.text);A.reduce(function(a,o){return i.ctx.fillText(o,a,n.bounds.top+s),a+i.ctx.measureText(o).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=tre(n.fontFamily).join(", "),i=Ed(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Un(this,void 0,void 0,function(){var s,i,A,a,o,c,u,h,f=this;return gn(this,function(g){return s=this.createFontStyle(r),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),c=o.baseline,u=o.middle,h=r.paintOrder,n.textBounds.forEach(function(m){h.forEach(function(y){switch(y){case 0:f.ctx.fillStyle=Ht(r.color),f.renderTextWithLetterSpacing(m,r.letterSpacing,c);var E=r.textShadow;E.length&&m.text.trim().length&&(E.slice(0).reverse().forEach(function(x){f.ctx.shadowColor=Ht(x.color),f.ctx.shadowOffsetX=x.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=x.offsetY.number*f.options.scale,f.ctx.shadowBlur=x.blur.number,f.renderTextWithLetterSpacing(m,r.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=Ht(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Ht(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=Yp(n),A=Xp(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o,v,v,c,u,h,f,F,g,m,T,y,E,x,v,w,F,T;return gn(this,function(N){switch(N.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,A=0,a=r.textNodes,N.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,i)]):[3,4];case 2:N.sent(),N.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof rR))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=N.sent(),this.renderReplacedElement(r,s,v),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof sR&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof iR))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=N.sent(),this.renderReplacedElement(r,s,v),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof lR&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=N.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof FC&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===zp?r.checked&&(this.ctx.save(),this.path([new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79),new ie(r.bounds.left+h*.16,r.bounds.top+h*.5549),new ie(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new ie(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new ie(r.bounds.left+h*.72983,r.bounds.top+h*.23),new ie(r.bounds.left+h*.84,r.bounds.top+h*.34085),new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Ht(KI),this.ctx.fill(),this.ctx.restore()):r.type===Gp&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ht(KI),this.ctx.fill(),this.ctx.restore())),Yne(r)&&r.value.length){switch(f=this.createFontStyle(i),F=f[0],g=f[1],m=this.fontMetrics.getMetrics(F,g).baseline,this.ctx.font=F,this.ctx.fillStyle=Ht(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Zne(r.styles.textAlign),T=Yp(r),y=0,r.styles.textAlign){case 1:y+=T.width/2;break;case 2:y+=T.width;break}E=T.add(y,0,0,-T.height/2+1),this.ctx.save(),this.path([new ie(T.left,T.top),new ie(T.left+T.width,T.top),new ie(T.left+T.width,T.top+T.height),new ie(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Gc(r.value,E),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Mt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];v=void 0,w=x.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=N.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(F=this.createFontStyle(i)[0],this.ctx.font=F,this.ctx.fillStyle=Ht(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new ti(r.bounds.left,r.bounds.top+nt(r.styles.paddingTop,r.bounds.width),r.bounds.width,TI(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Gc(n.listValue,T),i.letterSpacing,TI(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Un(this,void 0,void 0,function(){var r,s,x,i,A,x,a,o,x,c,u,x,h,f,x,g,m,x,y,E,x;return gn(this,function(v){switch(v.label){case 0:if(Mt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,s=n.negativeZIndex,v.label=2;case 2:return r<s.length?(x=s[r],[4,this.renderStack(x)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),i=0,A=n.nonInlineLevel,v.label=7;case 7:return i<A.length?(x=A[i],[4,this.renderNode(x)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:a=0,o=n.nonPositionedFloats,v.label=11;case 11:return a<o.length?(x=o[a],[4,this.renderStack(x)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,v.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:h=0,f=n.inlineLevel,v.label=19;case 19:return h<f.length?(x=f[h],[4,this.renderNode(x)]):[3,22];case 20:v.sent(),v.label=21;case 21:return h++,[3,19];case 22:g=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return g<m.length?(x=m[g],[4,this.renderStack(x)]):[3,26];case 24:v.sent(),v.label=25;case 25:return g++,[3,23];case 26:y=0,E=n.positiveZIndex,v.label=27;case 27:return y<E.length?(x=E[y],[4,this.renderStack(x)]):[3,30];case 28:v.sent(),v.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var A=gr(s)?s.start:s;i===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),gr(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var o=a.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o;return gn(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var h,f,g,I,K,J,S,ee,C,m,I,K,J,S,ee,y,E,x,v,w,F,T,N,b,C,_,I,k,R,S,ee,Ae,K,J,L,H,W,G,fe,Be,Je,Ge;return gn(this,function(st){switch(st.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,st.label=1;case 1:return st.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=st.sent(),[3,4];case 3:return st.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(g=ry(n,r,[h.width,h.height,h.width/h.height]),I=g[0],K=g[1],J=g[2],S=g[3],ee=g[4],C=i.ctx.createPattern(i.resizeImage(h,S,ee),"repeat"),i.renderRepeat(I,C,K,J)),[3,6];case 5:DZ(u)?(m=ry(n,r,[null,null,null]),I=m[0],K=m[1],J=m[2],S=m[3],ee=m[4],y=SZ(u.angle,S,ee),E=y[0],x=y[1],v=y[2],w=y[3],F=y[4],T=document.createElement("canvas"),T.width=S,T.height=ee,N=T.getContext("2d"),b=N.createLinearGradient(x,w,v,F),_I(u.stops,E).forEach(function(ut){return b.addColorStop(ut.stop,Ht(ut.color))}),N.fillStyle=b,N.fillRect(0,0,S,ee),S>0&&ee>0&&(C=i.ctx.createPattern(T,"repeat"),i.renderRepeat(I,C,K,J))):PZ(u)&&(_=ry(n,r,[null,null,null]),I=_[0],k=_[1],R=_[2],S=_[3],ee=_[4],Ae=u.position.length===0?[bC]:u.position,K=nt(Ae[0],S),J=nt(Ae[Ae.length-1],ee),L=QZ(u,K,J,S,ee),H=L[0],W=L[1],H>0&&W>0&&(G=i.ctx.createRadialGradient(k+K,R+J,0,k+K,R+J,H),_I(u.stops,H*2).forEach(function(ut){return G.addColorStop(ut.stop,Ht(ut.color))}),i.path(I),i.ctx.fillStyle=G,H!==W?(fe=n.bounds.left+.5*n.bounds.width,Be=n.bounds.top+.5*n.bounds.height,Je=W/H,Ge=1/Je,i.ctx.save(),i.ctx.translate(fe,Be),i.ctx.transform(1,0,0,Je,0,0),i.ctx.translate(-fe,-Be),i.ctx.fillRect(k,Ge*(R-Be)+Be,S,ee*Ge),i.ctx.restore()):i.ctx.fill())),st.label=6;case 6:return r--,[2]}})},i=this,A=0,a=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<a.length?(o=a[A],[5,s(o)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Un(this,void 0,void 0,function(){return gn(this,function(i){return this.path(nU(s,r)),this.ctx.fillStyle=Ht(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Un(this,void 0,void 0,function(){var A,a;return gn(this,function(o){switch(o.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return o.sent(),[2];case 2:return A=Mne(i,s),this.path(A),this.ctx.fillStyle=Ht(n),this.ctx.fill(),a=One(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o,c,u,h=this;return gn(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!$i(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=Jne(Ga(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),$i(r.backgroundColor)||(this.ctx.fillStyle=Ht(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var m=qp(n.curves),y=g.inset?0:qne,E=Lne(m,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(m),h.ctx.clip(),h.mask(E)):(h.mask(m),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=g.offsetX.number+y,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Ht(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Ht(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,o=0,c=i,f.label=3;case 3:return o<c.length?(u=c[o],u.style!==0&&!$i(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,A){return Un(this,void 0,void 0,function(){var a,o,c,u,h,f,g,m,y,E,x,v,w,F,T,N,T,N;return gn(this,function(b){return this.ctx.save(),a=Vne(i,s),o=nU(i,s),A===2&&(this.path(o),this.ctx.clip()),gr(o[0])?(c=o[0].start.x,u=o[0].start.y):(c=o[0].x,u=o[0].y),gr(o[1])?(h=o[1].end.x,f=o[1].end.y):(h=o[1].x,f=o[1].y),s===0||s===2?g=Math.abs(c-h):g=Math.abs(u-f),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),m=r<3?r*3:r*2,y=r<3?r*2:r,A===3&&(m=r,y=r),E=!0,g<=m*2?E=!1:g<=m*2+y?(x=g/(2*m+y),m*=x,y*=x):(v=Math.floor((g+y)/(m+y)),w=(g-v*m)/(v-1),F=(g-(v+1)*m)/v,y=F<=0||Math.abs(y-w)<Math.abs(y-F)?w:F),E&&(A===3?this.ctx.setLineDash([0,m+y]):this.ctx.setLineDash([m,y])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ht(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(gr(o[0])&&(T=o[3],N=o[0],this.ctx.beginPath(),this.formatPath([new ie(T.end.x,T.end.y),new ie(N.start.x,N.start.y)]),this.ctx.stroke()),gr(o[1])&&(T=o[1],N=o[2],this.ctx.beginPath(),this.formatPath([new ie(T.end.x,T.end.y),new ie(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Un(this,void 0,void 0,function(){var r;return gn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ht(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=jne(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(_R),Yne=function(t){return t instanceof oR||t instanceof aR?!0:t instanceof FC&&t.type!==Gp&&t.type!==zp},Jne=function(t,e){switch(t){case 0:return qp(e);case 2:return Nne(e);case 1:default:return Xp(e)}},Zne=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ere=["-apple-system","system-ui"],tre=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return ere.indexOf(e)===-1}):t},nre=function(t){Kr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Un(this,void 0,void 0,function(){var r,s;return gn(this,function(i){switch(i.label){case 0:return r=vw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,rre(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ht(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(_R),rre=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},sre=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Bh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Bh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Bh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Bh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),ire=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new sre({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new _ne(this,e)}return t.instanceCount=1,t}(),Are=function(t,e){return e===void 0&&(e={}),are(t,e)};typeof window<"u"&&vR.setContext(window);var are=function(t,e){return Un(void 0,void 0,void 0,function(){var n,r,s,i,A,a,o,c,u,h,f,g,m,y,E,x,v,w,F,T,b,N,b,C,_,I,k,R,S,ee,Ae,K,J,L,H,W,G,fe,Be,Je;return gn(this,function(Ge){switch(Ge.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(C=e.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(_=e.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:e.proxy,useCORS:(I=e.useCORS)!==null&&I!==void 0?I:!1},i=sw({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},s),A={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:r.innerWidth,windowHeight:(S=e.windowHeight)!==null&&S!==void 0?S:r.innerHeight,scrollX:(ee=e.scrollX)!==null&&ee!==void 0?ee:r.pageXOffset,scrollY:(Ae=e.scrollY)!==null&&Ae!==void 0?Ae:r.pageYOffset},a=new ti(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new ire(i,a),c=(K=e.foreignObjectRendering)!==null&&K!==void 0?K:!1,u={allowTaint:(J=e.allowTaint)!==null&&J!==void 0?J:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new ZI(o,t,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=Ge.sent(),m=SC(f)||one(f)?LY(f.ownerDocument):im(o,f),y=m.width,E=m.height,x=m.left,v=m.top,w=ore(o,f,e.backgroundColor),F={canvas:e.canvas,backgroundColor:w,scale:(H=(L=e.scale)!==null&&L!==void 0?L:r.devicePixelRatio)!==null&&H!==void 0?H:1,x:((W=e.x)!==null&&W!==void 0?W:0)+x,y:((G=e.y)!==null&&G!==void 0?G:0)+v,width:(fe=e.width)!==null&&fe!==void 0?fe:Math.ceil(y),height:(Be=e.height)!==null&&Be!==void 0?Be:Math.ceil(E)},c?(o.logger.debug("Document cloned, using foreign object rendering"),b=new nre(o,F),[4,b.render(f)]):[3,3];case 2:return T=Ge.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+x+","+v+" with size "+y+"x"+E+" using computed rendering"),o.logger.debug("Starting DOM parsing"),N=uR(o,f),w===N.styles.backgroundColor&&(N.styles.backgroundColor=Ms.TRANSPARENT),o.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),b=new Xne(o,F),[4,b.render(N)];case 4:T=Ge.sent(),Ge.label=5;case 5:return(!((Je=e.removeContainer)!==null&&Je!==void 0)||Je)&&(ZI.destroy(g)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,T]}})})},ore=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?Kc(t,getComputedStyle(r.documentElement).backgroundColor):Ms.TRANSPARENT,i=r.body?Kc(t,getComputedStyle(r.body).backgroundColor):Ms.TRANSPARENT,A=typeof n=="string"?Kc(t,n):n===null?Ms.TRANSPARENT:4294967295;return e===r.documentElement?$i(s)?$i(i)?A:i:s:A},lre=Object.defineProperty,Jp=Object.getOwnPropertySymbols,bR=Object.prototype.hasOwnProperty,TR=Object.prototype.propertyIsEnumerable,sU=(t,e,n)=>e in t?lre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cre=(t,e)=>{for(var n in e||(e={}))bR.call(e,n)&&sU(t,n,e[n]);if(Jp)for(var n of Jp(e))TR.call(e,n)&&sU(t,n,e[n]);return t},ure=(t,e)=>{var n={};for(var r in t)bR.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Jp)for(var r of Jp(t))e.indexOf(r)<0&&TR.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var fa;(t=>{const e=class{constructor(o,c,u,h){if(this.version=o,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),h==-1){let m=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const E=this.getPenaltyScore();E<m&&(h=y,m=E),this.applyMask(y)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(o,c){const u=t.QrSegment.makeSegments(o);return e.encodeSegments(u,c)}static encodeBinary(o,c){const u=t.QrSegment.makeBytes(o);return e.encodeSegments([u],c)}static encodeSegments(o,c,u=1,h=40,f=-1,g=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,y;for(m=u;;m++){const w=e.getNumDataCodewords(m,c)*8,F=a.getTotalBits(o,m);if(F<=w){y=F;break}if(m>=h)throw new RangeError("Data too long")}for(const w of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&y<=e.getNumDataCodewords(m,w)*8&&(c=w);let E=[];for(const w of o){r(w.mode.modeBits,4,E),r(w.numChars,w.mode.numCharCountBits(m),E);for(const F of w.getData())E.push(F)}i(E.length==y);const x=e.getNumDataCodewords(m,c)*8;i(E.length<=x),r(0,Math.min(4,x-E.length),E),r(0,(8-E.length%8)%8,E),i(E.length%8==0);for(let w=236;E.length<x;w^=253)r(w,8,E);let v=[];for(;v.length*8<E.length;)v.push(0);return E.forEach((w,F)=>v[F>>>3]|=w<<7-(F&7)),new e(m,c,v,f)}getModule(o,c){return 0<=o&&o<this.size&&0<=c&&c<this.size&&this.modules[c][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),c=o.length;for(let u=0;u<c;u++)for(let h=0;h<c;h++)u==0&&h==0||u==0&&h==c-1||u==c-1&&h==0||this.drawAlignmentPattern(o[u],o[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const c=this.errorCorrectionLevel.formatBits<<3|o;let u=c;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const h=(c<<10|u)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let u=0;u<12;u++)o=o<<1^(o>>>11)*7973;const c=this.version<<12|o;i(c>>>18==0);for(let u=0;u<18;u++){const h=s(c,u),f=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(f,g,h),this.setFunctionModule(g,f,h)}}drawFinderPattern(o,c){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(u)),g=o+h,m=c+u;0<=g&&g<this.size&&0<=m&&m<this.size&&this.setFunctionModule(g,m,f!=2&&f!=4)}}drawAlignmentPattern(o,c){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(o+h,c+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(o,c,u){this.modules[c][o]=u,this.isFunction[c][o]=!0}addEccAndInterleave(o){const c=this.version,u=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],g=Math.floor(e.getNumRawDataModules(c)/8),m=h-g%h,y=Math.floor(g/h);let E=[];const x=e.reedSolomonComputeDivisor(f);for(let w=0,F=0;w<h;w++){let T=o.slice(F,F+y-f+(w<m?0:1));F+=T.length;const N=e.reedSolomonComputeRemainder(T,x);w<m&&T.push(0),E.push(T.concat(N))}let v=[];for(let w=0;w<E[0].length;w++)E.forEach((F,T)=>{(w!=y-f||T>=m)&&v.push(F[w])});return i(v.length==g),v}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const g=u-f,y=(u+1&2)==0?this.size-1-h:h;!this.isFunction[y][g]&&c<o.length*8&&(this.modules[y][g]=s(o[c>>>3],7-(c&7)),c++)}}i(c==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let h;switch(o){case 0:h=(u+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+c)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:h=u*c%2+u*c%3==0;break;case 6:h=(u*c%2+u*c%3)%2==0;break;case 7:h=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&h&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[f][E]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[f][E],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][f]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[E][f],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const m=this.modules[f][g];m==this.modules[f][g+1]&&m==this.modules[f+1][g]&&m==this.modules[f+1][g+1]&&(o+=e.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((g,m)=>g+(m?1:0),c);const u=this.size*this.size,h=Math.ceil(Math.abs(c*20-u*10)/u)-1;return i(0<=h&&h<=9),o+=h*e.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let u=[6];for(let h=this.size-7;u.length<o;h-=c)u.splice(1,0,h);return u}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*o+128)*o+64;if(o>=2){const u=Math.floor(o/7)+2;c-=(25*u-10)*u-55,o>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(o,c){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<o-1;h++)c.push(0);c.push(1);let u=1;for(let h=0;h<o;h++){for(let f=0;f<c.length;f++)c[f]=e.reedSolomonMultiply(c[f],u),f+1<c.length&&(c[f]^=c[f+1]);u=e.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(o,c){let u=c.map(h=>0);for(const h of o){const f=h^u.shift();u.push(0),c.forEach((g,m)=>u[m]^=e.reedSolomonMultiply(g,f))}return u}static reedSolomonMultiply(o,c){if(o>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(c>>>h&1)*o;return i(u>>>8==0),u}finderPenaltyCountPatterns(o){const c=o[1];i(c<=this.size*3);const u=c>0&&o[2]==c&&o[3]==c*3&&o[4]==c&&o[5]==c;return(u&&o[0]>=c*4&&o[6]>=c?1:0)+(u&&o[6]>=c*4&&o[0]>=c?1:0)}finderPenaltyTerminateAndCount(o,c,u){return o&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(o,c){c[0]==0&&(o+=this.size),c.pop(),c.unshift(o)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(o,c,u){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let h=c-1;h>=0;h--)u.push(o>>>h&1)}function s(o,c){return(o>>>c&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const A=class{constructor(o,c,u){if(this.mode=o,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(o){let c=[];for(const u of o)r(u,8,c);return new A(A.Mode.BYTE,o.length,c)}static makeNumeric(o){if(!A.isNumeric(o))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<o.length;){const h=Math.min(o.length-u,3);r(parseInt(o.substr(u,h),10),h*3+1,c),u+=h}return new A(A.Mode.NUMERIC,o.length,c)}static makeAlphanumeric(o){if(!A.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=o.length;u+=2){let h=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;h+=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),r(h,11,c)}return u<o.length&&r(A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,c),new A(A.Mode.ALPHANUMERIC,o.length,c)}static makeSegments(o){return o==""?[]:A.isNumeric(o)?[A.makeNumeric(o)]:A.isAlphanumeric(o)?[A.makeAlphanumeric(o)]:[A.makeBytes(A.toUtf8ByteArray(o))]}static makeEci(o){let c=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,c);else if(o<16384)r(2,2,c),r(o,14,c);else if(o<1e6)r(6,3,c),r(o,21,c);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,c)}static isNumeric(o){return A.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return A.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,c){let u=0;for(const h of o){const f=h.mode.numCharCountBits(c);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u}static toUtf8ByteArray(o){o=encodeURI(o);let c=[];for(let u=0;u<o.length;u++)o.charAt(u)!="%"?c.push(o.charCodeAt(u)):(c.push(parseInt(o.substr(u+1,2),16)),u+=2);return c}};let a=A;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(fa||(fa={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(fa||(fa={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(fa||(fa={}));var wc=fa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var dre={L:wc.QrCode.Ecc.LOW,M:wc.QrCode.Ecc.MEDIUM,Q:wc.QrCode.Ecc.QUARTILE,H:wc.QrCode.Ecc.HIGH},hre=128,fre="L",pre="#FFFFFF",gre="#000000",mre=!1,IR=4,yre=.1;function vre(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(A,a){if(!A&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!A)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}A&&i===null&&(i=a)})}),n.join("")}function wre(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Bre(t,e,n,r){if(r==null)return null;const s=n?IR:0,i=t.length+s*2,A=Math.floor(e*yre),a=i/e,o=(r.width||A)*a,c=(r.height||A)*a,u=r.x==null?t.length/2-o/2:r.x*a,h=r.y==null?t.length/2-c/2:r.y*a;let f=null;if(r.excavate){let g=Math.floor(u),m=Math.floor(h),y=Math.ceil(o+u-g),E=Math.ceil(c+h-m);f={x:g,y:m,w:y,h:E}}return{x:u,y:h,h:c,w:o,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function xre(t){const e=t,{value:n,size:r=hre,level:s=fre,bgColor:i=pre,fgColor:A=gre,includeMargin:a=mre,imageSettings:o}=e,c=ure(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=wc.QrCode.encodeText(n,dre[s]).getModules();const h=a?IR:0,f=u.length+h*2,g=Bre(u,r,a,o);let m=null;o!=null&&g!=null&&(g.excavation!=null&&(u=wre(u,g.excavation)),m=tt.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));const y=vre(u,h);return tt.createElement("svg",cre({height:r,width:r,viewBox:`0 0 ${f} ${f}`},c),tt.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),tt.createElement("path",{fill:A,d:y,shapeRendering:"crispEdges"}),m)}const Cre=({bookingData:t,settings:e,selectedDate:n,selectedTime:r,onDownload:s})=>{var a;const i=(a=e.serviceTypes.find(o=>o.id===t.service))==null?void 0:a.name,A=Dp(n)?et(n,"dd/MM/yyyy"):"";return A?l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsxs("div",{id:"ticket",className:"relative bg-[#f8f4e9] aspect-[9/16] rounded-2xl overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"bg-gradient-to-b from-[--theater-red] to-red-700 text-white p-6 text-center",children:[l.jsx(Dr,{className:"w-12 h-12 mx-auto mb-2"}),l.jsx("h1",{className:"text-2xl font-bold mb-1",children:e.eventName}),l.jsx("p",{className:"text-sm opacity-80",children:e.company.name})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-inner",children:[l.jsx(xre,{value:t.ticketNumber,size:150,bgColor:"#ffffff",fgColor:"#D22B2B",level:"H",includeMargin:!1}),l.jsx("div",{className:"mt-2 text-center font-mono text-sm text-[--theater-red]",children:t.ticketNumber})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(Cn,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Data"}),l.jsx("div",{className:"font-semibold",children:A})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(hs,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Orario"}),l.jsx("div",{className:"font-semibold",children:r})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(Dr,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Servizio"}),l.jsx("div",{className:"font-semibold",children:i})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(fl,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Cliente"}),l.jsxs("div",{className:"font-semibold truncate",children:[t.firstName," ",t.lastName]}),l.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.email})]})]})]}),l.jsxs("div",{className:"text-center text-sm text-gray-600 mt-auto",children:[l.jsx(l9,{className:"w-4 h-4 mx-auto mb-1"}),l.jsx("p",{children:e.company.address})]})]}),l.jsx("div",{className:"absolute top-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute top-0 right-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute bottom-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute bottom-0 right-4 w-2 h-2 bg-gray-800 rounded-full"})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 print:hidden",children:[t.calendarLinks&&l.jsxs(l.Fragment,{children:[l.jsxs("a",{href:t.calendarLinks.google,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[l.jsx(gb,{className:"w-4 h-4"}),"Google Calendar"]}),l.jsxs("a",{href:t.calendarLinks.ical,download:"prenotazione.ics",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[l.jsx(gb,{className:"w-4 h-4"}),"iCal/Outlook"]})]}),l.jsxs("button",{onClick:s,className:"col-span-2 flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(Pc,{className:"w-4 h-4"}),"Scarica Biglietto"]})]})]}):(console.error("Invalid date provided to TicketCard"),null)},Ere=({type:t,ticketNumber:e,onComplete:n})=>{const r={classic:{stamp:{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:12}},text:{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}}},modern:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},stamp:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20}},circle:{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}},vintage:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},stamp:{initial:{scale:1.5,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15}}}};return tt.useEffect(()=>{const s=setTimeout(n,2e3);return()=>clearTimeout(s)},[n]),t==="classic"?l.jsx(z.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx(z.div,{...r.classic.stamp,className:"bg-red-600 text-white p-8 rounded-lg shadow-xl transform",children:l.jsxs(z.div,{...r.classic.text,children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Prenotazione Confermata!"}),l.jsxs("p",{className:"text-lg",children:["Ticket #",e]})]})})}):t==="modern"?l.jsx(z.div,{...r.modern.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:l.jsxs(z.div,{...r.modern.stamp,className:"bg-gradient-to-br from-blue-500 to-purple-600 p-8 rounded-xl shadow-2xl text-white",children:[l.jsxs("svg",{className:"w-24 h-24 mx-auto mb-4",viewBox:"0 0 100 100",children:[l.jsx(z.circle,{...r.modern.circle,cx:"50",cy:"50",r:"45",stroke:"white",strokeWidth:"2",fill:"none"}),l.jsx(z.path,{...r.modern.circle,d:"M 30 50 L 45 65 L 70 35",stroke:"white",strokeWidth:"3",fill:"none"})]}),l.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Confermato"}),l.jsxs("p",{className:"text-center opacity-90",children:["#",e]})]})}):l.jsx(z.div,{...r.vintage.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:l.jsx(z.div,{...r.vintage.stamp,className:"bg-[#f8e5b9] p-8 rounded-lg border-4 border-[#8b4513] shadow-xl transform",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Cpath d="M0 0h20L0 20z"/%3E%3C/g%3E%3C/svg%3E")'},children:l.jsxs("div",{className:"text-[#8b4513] text-center",children:[l.jsx("h2",{className:"text-3xl font-serif mb-2",children:"APPROVATO"}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),l.jsx("p",{className:"font-mono",children:e}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),l.jsx("p",{className:"text-sm font-serif",children:"Carnevale Cinematografico"})]})})})},_re=t=>jn.object({firstName:jn.string().min(2,"Nome richiesto"),lastName:jn.string().min(2,"Cognome richiesto"),email:jn.string().email("Email non valida"),phone:jn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service:jn.enum(t,{required_error:"Seleziona un tipo di servizio"}),notes:jn.string().optional()}),bre=({existingBookings:t=[]})=>{const{settings:e,loading:n}=yA(),[r,s]=U.useState(null),[i,A]=U.useState(""),[a,o]=U.useState(!1),[c,u]=U.useState(""),[h,f]=U.useState(null),[g,m]=U.useState(null),[y,E]=U.useState(!1),[x,v]=U.useState(!1),[w,F]=U.useState(null),[T,N]=U.useState(""),b=(e==null?void 0:e.serviceTypes.filter(L=>L.enabled).map(L=>L.id))||[],C=_re(b),{register:_,handleSubmit:I,formState:{errors:k},reset:R,setValue:S}=t4({resolver:r4(C)});U.useEffect(()=>{if(e!=null&&e.serviceTypes&&!c){const L=e.serviceTypes.filter(H=>H.enabled);if(L.length>0){const H=L[0];u(H.id),S("service",H.id)}}},[e==null?void 0:e.serviceTypes,c,S]);const ee=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,Ae=(L,H)=>{const W=new Date(Date.UTC(L.getFullYear(),L.getMonth(),L.getDate()));s(W),A(H)},K=async L=>new Promise(H=>{var fe;const W=document.createElement("div");document.body.appendChild(W);const G=BB(W);G.render(l.jsx(Ere,{type:((fe=e==null?void 0:e.ticketTemplate)==null?void 0:fe.type)||"classic",ticketNumber:L,onComplete:()=>{G.unmount(),document.body.removeChild(W),H()}}))}),J=async L=>{var H,W;if(!r||!i||!e){m("Seleziona data e ora per la prenotazione");return}if(!sY(L.phone)){m("Inserisci un numero di telefono italiano valido (9-10 cifre)");return}E(!0),m(null);try{const G=nY(L.phone),fe=r.toISOString().split("T")[0],Be=ee(),Je=new Date(`${fe}T${i}`),Ge=new Date(Je.getTime()+e.bookingIntervals*6e4),st=((H=e.serviceTypes.find(vA=>vA.id===L.service))==null?void 0:H.name)||"Servizio Fotografico",ut=tY(e.eventName,`${st}
Prenotazione: ${Be}
Nome: ${L.firstName} ${L.lastName}`,Je,Ge);await Or(St(me,"bookings"),{firstName:L.firstName,lastName:L.lastName,email:L.email,phone:G,service_type:L.service,booking_date:fe,booking_time:i,ticket_number:Be,notes:L.notes,status:"pending",created_at:Hn()}),F(r),N(i),f({...L,ticketNumber:Be,calendarLinks:ut}),(W=e.ticketTemplate)!=null&&W.enabled&&await K(Be),v(!0),o(!0),R(),s(null),A("")}catch(G){console.error("Error creating booking:",G),m(G.message||"Errore durante la prenotazione. Riprova pi tardi.")}finally{E(!1)}};return n?l.jsx("div",{className:"text-center text-white",children:"Caricamento..."}):x&&a&&h&&h.ticketNumber&&e&&w?l.jsx("div",{className:"max-w-3xl mx-auto p-4",children:l.jsx(Cre,{bookingData:h,settings:e,selectedDate:w,selectedTime:T,onDownload:()=>{const L=document.getElementById("ticket");L&&Are(L,{scale:2,backgroundColor:"#f8f4e9",logging:!1,useCORS:!0,allowTaint:!0,onclone:H=>{const W=H.getElementById("ticket");W&&(W.style.display="block",W.style.width="800px",W.style.height="auto")}}).then(H=>{const W=document.createElement("a");W.download=`biglietto-${h.ticketNumber}.jpg`,W.href=H.toDataURL("image/jpeg",.95),W.click()})}})}):l.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("select",{..._("service"),value:c,onChange:L=>{u(L.target.value),S("service",L.target.value)},className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",children:[l.jsx("option",{value:"",children:"Seleziona servizio"}),e==null?void 0:e.serviceTypes.filter(L=>L.enabled).map(L=>l.jsx("option",{value:L.id,children:L.name},L.id))]}),k.service&&l.jsx("p",{className:"text-red-500 mt-1",children:k.service.message})]}),l.jsx(PY,{onSlotSelect:Ae,selectedDate:r,selectedTime:i,selectedService:c})]}),l.jsxs("form",{onSubmit:I(J),className:"space-y-6",children:[g&&l.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:g}),r&&i&&l.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded mb-4",children:["Hai selezionato: ",r.toLocaleDateString()," alle ",i]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Nome"}),l.jsx("input",{..._("firstName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Mario"}),k.firstName&&l.jsx("p",{className:"text-red-500 mt-1",children:k.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Cognome"}),l.jsx("input",{..._("lastName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Rossi"}),k.lastName&&l.jsx("p",{className:"text-red-500 mt-1",children:k.lastName.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Email"}),l.jsx("input",{type:"email",..._("email"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"mario.rossi@example.com"}),k.email&&l.jsx("p",{className:"text-red-500 mt-1",children:k.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",..._("phone"),className:"w-full pl-10 p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Inserisci il numero senza prefisso (es: 3401234567)"})]}),k.phone&&l.jsx("p",{className:"text-red-500 mt-1",children:k.phone.message}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inserisci solo le cifre del numero senza prefisso internazionale"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{..._("notes"),rows:3,className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none"})]}),l.jsx("button",{type:"submit",disabled:y||!r||!i,className:"w-full bg-[--theater-red] text-white py-3 px-6 rounded-full hover:bg-red-700 transition-colors text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Conferma in corso...":"Conferma Prenotazione"})]})]})},Tre=({type:t,title:e,subtitle:n,onComplete:r})=>{const s={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},curtainLeft:{initial:{scaleX:1,transformOrigin:"left"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},curtainRight:{initial:{scaleX:1,transformOrigin:"right"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},content:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5}}},i={container:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5}},content:{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8}}},A={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},content:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100}}};return tt.useEffect(()=>{const a=setTimeout(r,4e3);return()=>clearTimeout(a)},[r]),t==="curtain"?l.jsxs(z.div,{...s.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:[l.jsx(z.div,{...s.curtainLeft,className:"absolute top-0 left-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:l.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-black/40 to-transparent"})}),l.jsx(z.div,{...s.curtainRight,className:"absolute top-0 right-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:l.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-black/40 to-transparent"})}),l.jsxs(z.div,{...s.content,className:"text-center z-10",children:[l.jsx(Dr,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx(z.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,times:[0,.5,1],repeat:1},className:"text-white text-2xl",children:n})]})]}):t==="fade"?l.jsx(z.div,{...i.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:l.jsxs(z.div,{...i.content,className:"text-center",children:[l.jsx(Dr,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx("p",{className:"text-white text-2xl",children:n})]})}):l.jsx(z.div,{...A.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:l.jsxs(z.div,{...A.content,className:"text-center",children:[l.jsx(Dr,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx("p",{className:"text-white text-2xl",children:n})]})})},Ire=({targetDate:t,eventName:e})=>{const[n,r]=U.useState({days:0,hours:0,minutes:0,seconds:0});return U.useEffect(()=>{const s=setInterval(()=>{const i=new Date(t),A=new Date;r({days:g4(i,A),hours:Nq(i,A)%24,minutes:kq(i,A)%60,seconds:Rq(i,A)%60})},1e3);return()=>clearInterval(s)},[t]),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h2",{className:"text-2xl text-white text-center",children:[e," inizia tra:"]}),l.jsx("div",{className:"flex justify-center gap-4 text-white",children:Object.entries(n).map(([s,i])=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-[--theater-red] rounded-lg p-3 min-w-[80px]",children:l.jsx("span",{className:"text-2xl font-bold",children:i})}),l.jsx("div",{className:"text-sm mt-1 capitalize",children:s})]},s))})]})},Ure=()=>{var s,i;const{settings:t,loading:e}=yA(),[n,r]=U.useState(!0);return U.useState(!1),U.useEffect(()=>{var A;if((A=t==null?void 0:t.animation)!=null&&A.enabled){const a=setTimeout(()=>r(!1),4e3);return()=>clearTimeout(a)}else r(!1)},[(s=t==null?void 0:t.animation)==null?void 0:s.enabled]),e?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white text-xl flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(cn,{children:n&&((i=t==null?void 0:t.animation)==null?void 0:i.enabled)&&l.jsx(Tre,{type:t.animation.type,title:t.animation.title||"Carnevale 2025",subtitle:t.animation.subtitle||"3... 2... 1...",onComplete:()=>r(!1)})}),l.jsx(z.div,{initial:{opacity:0},animate:{opacity:n?0:1},transition:{duration:.5},children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("header",{className:"mb-12",children:[l.jsxs(z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-center items-center mb-8",children:[t!=null&&t.company.logo?l.jsx("img",{src:t.company.logo,alt:t.company.name,className:"w-12 h-12 object-contain"}):l.jsx(Dr,{className:"w-12 h-12 text-[--theater-gold]"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-marquee text-[--theater-gold] ml-4",children:(t==null?void 0:t.company.name)||"Image Studio"})]}),(t==null?void 0:t.showCountdown)&&l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:l.jsx(Ire,{targetDate:t.countdownDate,eventName:t.eventName})})]}),l.jsxs("main",{className:"max-w-6xl mx-auto",children:[l.jsx(z.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl md:text-4xl text-white text-center mb-8 font-marquee",children:"Prenota il tuo servizio fotografico"}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-800 rounded-lg shadow-xl p-4 md:p-8",children:l.jsx(bre,{})})]}),l.jsx(z.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 text-center text-gray-400",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm md:text-base",children:t==null?void 0:t.company.address}),(t==null?void 0:t.company.phone)&&l.jsxs("p",{className:"text-sm md:text-base",children:["Tel: ",t.company.phone]}),(t==null?void 0:t.company.email)&&l.jsxs("p",{className:"text-sm md:text-base",children:["Email: ",t.company.email]})]})})]})})]})},iU=({searchTerm:t,statusFilter:e,serviceFilter:n,serviceTypes:r=[],onSearchChange:s,onStatusFilterChange:i,onServiceFilterChange:A})=>{const{statuses:a=[]}=pd();return l.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Wg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per nome, email, telefono o ticket...",value:t,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bu,{className:"text-gray-400 flex-shrink-0"}),l.jsxs("select",{value:e,onChange:o=>i(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),a.filter(o=>o.enabled).map(o=>l.jsx("option",{value:o.id,children:o.name},o.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cn,{className:"text-gray-400 flex-shrink-0"}),l.jsxs("select",{value:n,onChange:o=>A(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti i servizi"}),r.filter(o=>o.enabled).map(o=>l.jsx("option",{value:o.id,children:o.name},o.id))]})]})]})},Fre=({booking:t,onEdit:e,onDelete:n,getServiceLabel:r,getStatusColor:s,onClick:i,isSelected:A})=>{const{getStatusName:a}=pd();return l.jsxs("tr",{onClick:i,className:`border-b border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors ${A?"bg-gray-700/50":""}`,children:[l.jsxs("td",{className:"p-4 text-white",children:[l.jsx("div",{className:"font-medium",children:et(new Date(t.booking_date),"dd/MM/yyyy")}),l.jsx("div",{className:"text-sm text-gray-400",children:t.booking_time})]}),l.jsx("td",{className:"p-4 text-white",children:l.jsxs("div",{className:"font-medium",children:[t.firstName," ",t.lastName]})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-blue-400 hover:text-blue-300",children:[l.jsx(fl,{size:16}),t.email]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-1 text-green-400 hover:text-green-300",children:[l.jsx(pl,{size:16}),t.phone]}),l.jsx("a",{href:rY(t.phone),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1 bg-green-600 text-white rounded-full hover:bg-green-700",title:"Contatta su WhatsApp",children:l.jsx(c9,{size:16})})]})]})}),l.jsx("td",{className:"p-4 text-white",children:r(t.service_type)}),l.jsx("td",{className:"p-4 text-white font-mono",children:t.ticket_number}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:s(t.status)},children:a(t.status)})}),l.jsx("td",{className:"p-4 text-white text-sm",children:t.notes||"-"}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:o=>{o.stopPropagation(),e()},className:"p-2 text-yellow-400 hover:text-yellow-300 transition-colors",title:"Modifica prenotazione",children:l.jsx(gN,{size:20})}),l.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Elimina prenotazione",children:l.jsx(tA,{size:20})})]})})]})},Sre=({booking:t,editedBooking:e,serviceTypes:n,bookingStatuses:r,onClose:s,onSave:i,onChange:A})=>{const{statuses:a}=pd(),[o,c]=U.useState(!1),[u,h]=U.useState(null),[f,g]=U.useState(!1),m=async y=>{y.preventDefault(),c(!0),h(null),g(!1);try{const E=Ve(me,"bookings",t.id),x={...e,updated_at:new Date().toISOString()};Object.keys(x).forEach(v=>x[v]===void 0&&delete x[v]),await Er(E,x),g(!0),setTimeout(()=>{i()},1500)}catch(E){console.error("Error updating booking:",E),h("Errore durante l'aggiornamento della prenotazione"),c(!1)}};return l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:l.jsx($n,{size:24})}),l.jsxs("h2",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(f9,{className:"text-[--theater-gold]"}),"Modifica Prenotazione"]}),u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),u]}),f&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(An,{size:20}),"Prenotazione aggiornata con successo!"]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"date",value:e.booking_date||t.booking_date,onChange:y=>A({booking_date:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Ora"}),l.jsxs("div",{className:"relative",children:[l.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"time",value:e.booking_time||t.booking_time,onChange:y=>A({booking_time:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),l.jsx("input",{type:"text",value:e.firstName||t.firstName,onChange:y=>A({firstName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),l.jsx("input",{type:"text",value:e.lastName||t.lastName,onChange:y=>A({lastName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"email",value:e.email||t.email,onChange:y=>A({email:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",value:e.phone||t.phone,onChange:y=>A({phone:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),l.jsx("select",{value:e.service_type||t.service_type,onChange:y=>A({service_type:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:n.filter(y=>y.enabled).map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Stato"}),l.jsx("select",{value:e.status||t.status,onChange:y=>A({status:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:a.filter(y=>y.enabled).map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note"}),l.jsxs("div",{className:"relative",children:[l.jsx(kx,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("textarea",{value:e.notes||t.notes||"",onChange:y=>A({notes:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[l.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",disabled:o,children:"Annulla"}),l.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx(An,{size:20}),"Salva Modifiche"]})})]})]})]})})},Qre=async(t,e)=>{const n=e.reduce((s,i)=>s+i.price*i.quantity,0),r={bookingId:t,items:e,totalAmount:n,paidAmount:0,balance:n,status:"pending",createdAt:Hn()};try{return{id:(await Or(St(me,"orders"),r)).id,...r}}catch(s){throw console.error("Error creating order:",s),s}},bw=async(t,e)=>{try{const n=Ve(me,"orders",t);await Er(n,{...e,updatedAt:Hn()})}catch(n){throw console.error("Error updating order:",n),n}},Nre=async(t,e,n,r)=>{try{const s=Ve(me,"orders",t),i=await Mr(s);if(!i.exists())throw new Error("Ordine non trovato");const A=i.data(),a=(A.paidAmount||0)+e,o=A.totalAmount-a,c=o<=0?"paid":o<A.totalAmount?"partial":"pending",u={orderId:t,amount:e,method:n,notes:r,date:Hn(),createdAt:Hn()};await Or(St(me,"payment_history"),u),await Er(s,{paidAmount:a,balance:o,status:c,paymentDate:Hn(),updatedAt:Hn()})}catch(s){throw console.error("Error recording payment:",s),s}},kre=async(t,e)=>{try{const n=Ve(me,"payment_history",e),r=await Mr(n);if(!r.exists())throw new Error("Pagamento non trovato");const s=r.data(),i=Ve(me,"orders",t),A=await Mr(i);if(!A.exists())throw new Error("Ordine non trovato");const a=A.data(),o=a.paidAmount-s.amount,c=a.totalAmount-o,u=o===0?"pending":o<a.totalAmount?"partial":"paid";await Er(i,{paidAmount:o,balance:c,status:u,updatedAt:Hn()}),await bx(n)}catch(n){throw console.error("Error deleting payment:",n),n}},UR=async t=>{try{if(!(await Mr(Ve(me,"orders",t))).exists())throw new Error("Ordine non trovato");const n=St(me,"payment_history"),r=ds(n,la("orderId","==",t));try{return(await Cu(r)).docs.map(i=>{var A;return{id:i.id,...i.data(),date:(A=i.data().date)==null?void 0:A.toDate()}})}catch(s){return console.error("Error fetching payment history:",s),[]}}catch(e){return console.error("Error checking order:",e),[]}},Rre=async(t,e,n,r)=>{var s,i;try{const A=(r==null?void 0:r.whatsappTemplate)||{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*
`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`};let a=A.header.replace("{firstName}",e.firstName||"").replace("{lastName}",e.lastName||"").replace("{ticketNumber}",e.ticket_number||"");t.items.length>0&&(t.items.forEach((c,u)=>{const h=n.find(f=>f.id===c.productId);h&&(a+=A.productFormat.replace("{index}",(u+1).toString()).replace("{productName}",h.name).replace("{quantity}",c.quantity.toString()).replace("{price}",c.price.toFixed(2)).replace("{total}",(c.price*c.quantity).toFixed(2)))}),a+=`
* TOTALE ORDINE:* ${t.totalAmount.toFixed(2)}`);try{const c=await UR(t.id);c.length>0&&(a+=`

* ACCONTI VERSATI*
`,c.forEach((u,h)=>{a+=A.paymentFormat.replace("{index}",(h+1).toString()).replace("{date}",u.date.toLocaleDateString()).replace("{method}",Dre(u.method)).replace("{amount}",u.amount.toFixed(2))}),t.balance>0&&(a+=`
* SALDO RIMANENTE:* ${t.balance.toFixed(2)}`))}catch(c){console.error("Error adding payment history to receipt:",c)}return a+=A.footer.replace("{address}",((s=r==null?void 0:r.company)==null?void 0:s.address)||"Via Quinto Orazio Flacco 5, Aversa").replace("{phone}",((i=r==null?void 0:r.company)==null?void 0:i.phone)||""),`https://wa.me/39${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(a)}`}catch(A){throw console.error("Error generating receipt:",A),new Error("Errore nella generazione della ricevuta WhatsApp")}},Dre=t=>{switch(t){case"cash":return"Contanti";case"card":return"Carta";case"transfer":return"Bonifico";default:return t}},Pre=({order:t,isOpen:e,onClose:n})=>{const[r,s]=U.useState(t.notes||""),[i,A]=U.useState(!1),[a,o]=U.useState(null),c=async()=>{A(!0),o(null);try{await bw(t.id,{notes:r}),n()}catch(u){console.error("Error saving notes:",u),o("Errore durante il salvataggio delle note")}finally{A(!1)}};return l.jsx(cn,{children:e&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(Uo,{className:"text-[--theater-gold]"}),"Note Ordine"]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx($n,{size:24})})]}),a&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6",children:a}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:r,onChange:u=>s(u.target.value),className:"w-full h-48 p-4 bg-gray-700 border border-gray-600 rounded text-white resize-none",placeholder:"Inserisci le note per questo ordine..."}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:c,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx($g,{size:20}),"Salva Note"]})})]})]})]})})})},Lre=({bookingId:t,booking:e})=>{const[n,r]=U.useState(null),[s,i]=U.useState(!1),[A,a]=U.useState(!1),[o,c]=U.useState(!1),[u,h]=U.useState(!1),[f,g]=U.useState({}),[m,y]=U.useState(0),[E,x]=U.useState("cash"),[v,w]=U.useState(""),[F,T]=U.useState([]),[N,b]=U.useState(!1),[C,_]=U.useState(null);U.useState(null);const{settings:I}=yA();U.useEffect(()=>{const K=St(me,"orders"),J=ds(K,la("bookingId","==",t)),L=hl(J,H=>{if(!H.empty){const W=H.docs[0].data();r({...W,id:H.docs[0].id})}});return()=>L()},[t]),U.useEffect(()=>{n&&o&&k()},[n,o]),U.useEffect(()=>{s&&g({})},[s]);const k=async()=>{if(n)try{const K=await UR(n.id);T(K)}catch(K){console.error("Error loading payment history:",K),_("Errore nel caricamento dello storico pagamenti")}},R=async()=>{b(!0),_(null);try{const K=Object.entries(f).map(([J,L])=>({productId:J,quantity:L.quantity,price:L.price}));if(n){const J=[...n.items,...K],L=J.reduce((H,W)=>H+W.price*W.quantity,0);await bw(n.id,{items:J,totalAmount:L,balance:L-(n.paidAmount||0)})}else await Qre(t,K);i(!1),g({})}catch(K){console.error("Error adding products:",K),_("Errore durante l'aggiunta dei prodotti")}finally{b(!1)}},S=async K=>{if(n){b(!0),_(null);try{const J=n.items.filter(H=>H.productId!==K),L=J.reduce((H,W)=>H+W.price*W.quantity,0);await bw(n.id,{items:J,totalAmount:L,balance:L-(n.paidAmount||0)})}catch(J){console.error("Error removing product:",J),_("Errore durante la rimozione del prodotto")}finally{b(!1)}}},ee=async()=>{if(!(!n||!I))try{b(!0),_(null);const K=await Rre(n,e,I.products,I);window.open(K,"_blank")}catch(K){console.error("Error generating receipt:",K),_("Errore nella generazione della ricevuta WhatsApp")}finally{b(!1)}},Ae=()=>!n||!I?null:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full ${n.status==="paid"?"bg-green-500/20 text-green-400":n.status==="partial"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.status==="paid"?"Pagato":n.status==="partial"?"Acconto":"In attesa"}),l.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",n.totalAmount.toFixed(2)]})]}),n.paidAmount>0&&l.jsxs("span",{className:"text-green-400 text-xs",children:["Pagato: ",n.paidAmount.toFixed(2)]})]}),l.jsx("div",{className:"space-y-2 mt-4",children:n.items.map((K,J)=>{const L=I.products.find(H=>H.id===K.productId);return L?l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between bg-gray-700 p-2 rounded",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[L.imageUrl&&l.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-10 h-10 object-cover rounded"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:L.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[K.quantity,"x ",K.price.toFixed(2)]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-[--theater-gold]",children:["",(K.quantity*K.price).toFixed(2)]}),l.jsx("button",{onClick:()=>S(K.productId),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Rimuovi prodotto",children:l.jsx(tA,{size:16})})]})]},`${K.productId}-${J}`):null})}),n.notes&&l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 mt-2",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Uo,{size:16,className:"text-yellow-400 mt-1 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-yellow-400 line-clamp-2",children:n.notes})]})})]});return l.jsxs("div",{className:"space-y-2",children:[n?l.jsxs(l.Fragment,{children:[Ae(),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm",children:[l.jsx(eA,{size:14}),"Prodotti"]}),l.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600/20 text-green-400 rounded hover:bg-green-600/30 text-sm",children:[l.jsx(Fv,{size:14}),"Pagamento"]}),l.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 text-sm",children:[l.jsx(hs,{size:14}),"Storico"]}),l.jsxs("button",{onClick:ee,disabled:N,className:"inline-flex items-center gap-1 px-2 py-1 bg-[#25D366]/20 text-[#25D366] rounded hover:bg-[#25D366]/30 text-sm disabled:opacity-50",children:[N?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(d9,{size:14}),"Ricevuta"]}),l.jsxs("button",{onClick:()=>h(!0),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${n.notes?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(Uo,{size:14}),n.notes?"Modifica Note":"Note"]})]})]}):l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 text-sm font-medium",children:[l.jsx(eA,{size:16}),"Nuovo Ordine"]})}),l.jsxs(cn,{children:[s&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:n?"Aggiungi Prodotti all'Ordine":"Nuovo Ordine"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:I==null?void 0:I.products.filter(K=>K.enabled).map(K=>{var J;return l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[K.imageUrl&&l.jsx("img",{src:K.imageUrl,alt:K.name,className:"w-full h-32 object-cover rounded mb-3"}),l.jsx("h4",{className:"text-white font-medium",children:K.name}),l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:K.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[--theater-gold]",children:["",K.price.toFixed(2)]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{type:"number",min:"0",value:((J=f[K.id])==null?void 0:J.quantity)||0,onChange:L=>{const H=parseInt(L.target.value);if(H===0){const{[K.id]:W,...G}=f;g(G)}else g({...f,[K.id]:{quantity:H,price:K.price}})},className:"w-20 p-1 bg-gray-600 border border-gray-500 rounded text-white text-center"})})]})]},K.id)})}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{onClick:()=>{i(!1),g({})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:R,disabled:Object.keys(f).length===0||N,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:N?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),n?"Aggiunta in corso...":"Creazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(An,{size:20}),n?"Aggiungi Prodotti":"Crea Ordine"]})})]})]})}),A&&n&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Registra Pagamento"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Totale da Pagare:"}),l.jsxs("span",{className:"block text-xl text-[--theater-gold]",children:["",n.totalAmount.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Saldo Rimanente:"}),l.jsxs("span",{className:"block text-xl text-red-400",children:["",n.balance.toFixed(2)]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Importo Pagamento"}),l.jsxs("div",{className:"relative",children:[l.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"number",step:"0.01",min:"0",max:n.balance,value:m,onChange:K=>y(parseFloat(K.target.value)),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Metodo di Pagamento"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>x("cash"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="cash"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(fb,{size:16}),"Contanti"]}),l.jsxs("button",{type:"button",onClick:()=>x("card"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="card"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(_u,{size:16}),"Carta"]}),l.jsxs("button",{type:"button",onClick:()=>x("transfer"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="transfer"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(vb,{size:16}),"Bonifico"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{value:v,onChange:K=>w(K.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Aggiungi una nota per questo pagamento..."})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{onClick:()=>{a(!1),y(0),x("cash"),w("")},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:async()=>{b(!0);try{await Nre(n.id,m,E,v),a(!1),y(0),x("cash"),w("")}catch(K){console.error("Error recording payment:",K),_("Errore durante la registrazione del pagamento")}finally{b(!1)}},disabled:m<=0||m>n.balance||N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:N?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Registrazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(An,{size:20}),"Conferma Pagamento"]})})]})]})]})}),o&&n&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx($n,{size:24})}),l.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(hs,{className:"text-[--theater-gold]"}),"Storico Pagamenti"]}),C&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),C]}),l.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[F.map(K=>l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",K.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-400 mt-1",children:K.date.toLocaleDateString()}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[K.method==="cash"&&l.jsx(fb,{size:16,className:"text-green-400"}),K.method==="card"&&l.jsx(_u,{size:16,className:"text-blue-400"}),K.method==="transfer"&&l.jsx(vb,{size:16,className:"text-purple-400"}),l.jsx("span",{className:"text-gray-300",children:K.method==="cash"?"Contanti":K.method==="card"?"Carta":"Bonifico"})]})]}),K.notes&&l.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[l.jsx(Uo,{size:14,className:"mt-1"}),l.jsx("p",{children:K.notes})]}),l.jsx("button",{onClick:()=>{window.confirm("Sei sicuro di voler eliminare questo pagamento?")&&kre(n.id,K.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",title:"Elimina pagamento",children:l.jsx(tA,{size:16})})]})},K.id)),F.length===0&&l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessun pagamento registrato"})]})]})}),u&&n&&l.jsx(Pre,{order:n,isOpen:u,onClose:()=>h(!1)})]}),C&&l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mt-4",children:C})]})},Kh=10,jre=({bookings:t,serviceTypes:e,bookingStatuses:n,getServiceLabel:r,getStatusColor:s})=>{const[i,A]=U.useState(null),[a,o]=U.useState(null),[c,u]=U.useState({}),[h,f]=U.useState(null),[g,m]=U.useState(1),y=C=>{A(i===C?null:C)},E=C=>{o(C),u({...C})},x=async()=>{if(a)try{const C=Ve(me,"bookings",a.id);await Er(C,{...c,updated_at:new Date().toISOString()}),o(null),u({})}catch(C){console.error("Error saving booking:",C),f("Errore durante il salvataggio della prenotazione")}},v=async C=>{if(window.confirm("Sei sicuro di voler eliminare questa prenotazione?"))try{f(null),await bx(Ve(me,"bookings",C)),i===C&&A(null),(a==null?void 0:a.id)===C&&(o(null),u({}))}catch(_){console.error("Error deleting booking:",_),f("Errore durante l'eliminazione della prenotazione")}},w=()=>{o(null),u({})},F=[...t].sort((C,_)=>{const I=C.booking_date.localeCompare(_.booking_date);return I!==0?I:C.booking_time.localeCompare(_.booking_time)}),T=Math.ceil(F.length/Kh),N=(g-1)*Kh,b=F.slice(N,N+Kh);return l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[h&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 m-4 rounded-lg",children:h}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Data e Ora"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Cliente"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Contatti"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Servizio"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Ticket"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Stato"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Note"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Azioni"})]})}),l.jsx("tbody",{children:b.map(C=>l.jsxs(tt.Fragment,{children:[l.jsx(Fre,{booking:C,onEdit:()=>E(C),onDelete:()=>v(C.id),getServiceLabel:r,getStatusColor:s,onClick:()=>y(C.id),isSelected:i===C.id}),i===C.id&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-4 bg-gray-700/30",children:l.jsx(Lre,{bookingId:C.id,booking:C})})})]},C.id))})]})}),T>1&&l.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-gray-700",children:[l.jsxs("button",{onClick:()=>m(C=>Math.max(1,C-1)),disabled:g===1,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Gg,{size:20}),"Precedente"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-gray-400",children:["Pagina ",g," di ",T]}),l.jsxs("span",{className:"text-gray-400",children:["(",N+1,"-",Math.min(N+Kh,F.length)," di ",F.length,")"]})]}),l.jsxs("button",{onClick:()=>m(C=>Math.min(T,C+1)),disabled:g===T,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:["Successiva",l.jsx(Eu,{size:20})]})]}),l.jsx(cn,{children:a&&l.jsx(Sre,{booking:a,editedBooking:c,serviceTypes:e,bookingStatuses:n,onClose:w,onSave:x,onChange:u})})]})},Mre=()=>{const[t,e]=U.useState(!1),[n,r]=U.useState(!0),[s,i]=U.useState(null),[A,a]=U.useState(!1);U.useEffect(()=>{o()},[]);const o=async()=>{if(!vn.currentUser){r(!1);return}try{await tb(me,async h=>{const f=Ve(me,"users",vn.currentUser.uid),g=await h.get(f);if(!g.exists())h.set(f,{email:vn.currentUser.email,createdAt:new Date,updatedAt:new Date}),e(!1);else{const m=g.data();e(!!(m!=null&&m.googleCalendarToken))}})}catch(h){console.error("Error checking calendar connection:",h),h.code==="permission-denied"?e(!1):i("Errore durante la verifica della connessione")}finally{r(!1)}},c=()=>{if(!vn.currentUser){i("Devi essere autenticato per connettere il calendario");return}{i("Configurazione Google Calendar non disponibile");return}},u=async()=>{if(!vn.currentUser){i("Devi essere autenticato per disconnettere il calendario");return}try{r(!0),i(null),await tb(me,async h=>{const f=Ve(me,"users",vn.currentUser.uid);if(!(await h.get(f)).exists())throw new Error("User document not found");h.update(f,{googleCalendarToken:null,googleCalendarRefreshToken:null,calendarConnected:!1,updatedAt:new Date})}),e(!1),a(!0),setTimeout(()=>a(!1),3e3)}catch(h){console.error("Error disconnecting calendar:",h),h.code==="permission-denied"?i("Non hai i permessi per disconnettere il calendario"):i("Errore durante la disconnessione del calendario")}finally{r(!1)}};return n?l.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[l.jsx(o9,{className:"animate-spin",size:20}),l.jsx("span",{children:"Verifica connessione..."})]}):l.jsxs("div",{className:"space-y-4",children:[s&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),s]}),A&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(An,{size:20}),t?"Calendario connesso con successo!":"Calendario disconnesso con successo!"]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:t?"Calendario Connesso":"Connetti Google Calendar"}),l.jsx("p",{className:"text-gray-400",children:t?"Le tue prenotazioni verranno automaticamente sincronizzate con il tuo Google Calendar":"Connetti il tuo Google Calendar per sincronizzare automaticamente le prenotazioni"})]}),l.jsx(z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t?u:c,disabled:n,className:`flex items-center gap-2 px-6 py-2 rounded transition-colors ${t?"bg-red-500 text-white hover:bg-red-600":"bg-[--theater-gold] text-black hover:bg-yellow-500"} disabled:opacity-50`,children:n?l.jsx("span",{className:"animate-spin",children:""}):t?l.jsxs(l.Fragment,{children:[l.jsx(m9,{size:20}),"Disconnetti"]}):l.jsxs(l.Fragment,{children:[l.jsx(A9,{size:20}),"Connetti"]})})]}),t&&l.jsx("div",{className:"text-sm text-gray-400",children:l.jsx("p",{children:"Le nuove prenotazioni verranno automaticamente aggiunte al tuo Google Calendar. Puoi disconnettere il calendario in qualsiasi momento."})})]})},Ore=({settings:t,onChange:e})=>{var s,i,A,a;const n=(o,c)=>{e({company:{...t.company,[o]:c}})},r=(o,c)=>{e({whatsappTemplate:{...t.whatsappTemplate,[o]:c}})};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Informazioni Aziendali"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(pb,{size:16}),"Nome Azienda"]}),l.jsx("input",{type:"text",value:t.company.name,onChange:o=>n("name",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(mb,{size:16}),"Logo URL"]}),l.jsx("input",{type:"url",value:t.company.logo,onChange:o=>n("logo",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/logo.png"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(pb,{size:16}),"Indirizzo"]}),l.jsx("input",{type:"text",value:t.company.address,onChange:o=>n("address",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(mb,{size:16}),"Sito Web"]}),l.jsx("input",{type:"url",value:t.company.website,onChange:o=>n("website",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Cn,{className:"text-[--theater-gold]"}),"Sincronizzazione Google Calendar"]}),l.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:l.jsx(Mre,{})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(kx,{className:"text-[--theater-gold]"}),"Template WhatsApp"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Intestazione Messaggio"}),l.jsx("textarea",{value:((s=t.whatsappTemplate)==null?void 0:s.header)||`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,onChange:o=>r("header",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-32",placeholder:"Intestazione del messaggio..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Prodotto"}),l.jsx("textarea",{value:((i=t.whatsappTemplate)==null?void 0:i.productFormat)||`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,onChange:o=>r("productFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni prodotto..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Pagamento"}),l.jsx("textarea",{value:((A=t.whatsappTemplate)==null?void 0:A.paymentFormat)||`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,onChange:o=>r("paymentFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni pagamento..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Footer Messaggio"}),l.jsx("textarea",{value:((a=t.whatsappTemplate)==null?void 0:a.footer)||`
 {address}
 Per assistenza: {phone}`,onChange:o=>r("footer",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Footer del messaggio..."})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-2",children:"Variabili Disponibili"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Generali:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:["{firstName}"," - Nome cliente"]}),l.jsxs("li",{children:["{lastName}"," - Cognome cliente"]}),l.jsxs("li",{children:["{ticketNumber}"," - Numero ticket"]}),l.jsxs("li",{children:["{address}"," - Indirizzo"]}),l.jsxs("li",{children:["{phone}"," - Telefono"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Prodotti:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:["{index}"," - Numero prodotto"]}),l.jsxs("li",{children:["{productName}"," - Nome prodotto"]}),l.jsxs("li",{children:["{quantity}"," - Quantit"]}),l.jsxs("li",{children:["{price}"," - Prezzo unitario"]}),l.jsxs("li",{children:["{total}"," - Totale prodotto"]})]})]})]})]})]})]})]})},Vre=[{value:0,label:"Domenica"},{value:1,label:"Luned"},{value:2,label:"Marted"},{value:3,label:"Mercoled"},{value:4,label:"Gioved"},{value:5,label:"Venerd"},{value:6,label:"Sabato"}],Hre=[{value:15,label:"15 minuti"},{value:30,label:"30 minuti"},{value:45,label:"45 minuti"},{value:60,label:"1 ora"},{value:90,label:"1 ora e 30 minuti"},{value:120,label:"2 ore"}],Kre=({serviceTypes:t,newServiceType:e,onServiceTypeChange:n,onNewServiceTypeChange:r,onAddServiceType:s,onRemoveServiceType:i})=>{const[A,a]=U.useState(null),[o,c]=U.useState(""),[u,h]=U.useState(null),f=(m,y)=>{const v=(t[m].excludedDays||[]).map(Number),F=v.indexOf(y)>=0?v.filter(T=>T!==y):[...v,y];F.sort((T,N)=>T-N),n(m,"excludedDays",F)},g=m=>{var x;if(!o){h("Seleziona una data da escludere");return}const y=t[m];if(y.bookingStartDate&&y.bookingEndDate){const v=new Date(o),w=new Date(y.bookingStartDate),F=new Date(y.bookingEndDate);if(v<w||v>F){h("La data deve essere compresa nel periodo di prenotazione");return}}if((x=y.excludedDates)!=null&&x.includes(o)){h("Questa data  gi stata esclusa");return}const E=[...y.excludedDates||[],o].sort();n(m,"excludedDates",E),c(""),a(null),h(null)};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Tipi di Servizio"}),l.jsx("div",{className:"space-y-4",children:t.map((m,y)=>l.jsxs(z.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:m.name,onChange:E=>n(y,"name",E.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"Nome servizio"}),l.jsxs("label",{className:"flex items-center gap-2 text-white",children:[l.jsx("input",{type:"checkbox",checked:m.enabled,onChange:E=>n(y,"enabled",E.target.checked),className:"w-4 h-4"}),"Attivo"]}),l.jsx("button",{type:"button",onClick:()=>i(y),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(tA,{size:20})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(hs,{size:16}),"Durata Servizio"]}),l.jsx("select",{value:m.duration||30,onChange:E=>n(y,"duration",parseInt(E.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white",children:Hre.map(E=>l.jsx("option",{value:E.value,children:E.label},E.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Cn,{size:16}),"Data Inizio Prenotazioni"]}),l.jsx("input",{type:"date",value:m.bookingStartDate||"",onChange:E=>n(y,"bookingStartDate",E.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Cn,{size:16}),"Data Fine Prenotazioni"]}),l.jsx("input",{type:"date",value:m.bookingEndDate||"",onChange:E=>n(y,"bookingEndDate",E.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Ac,{size:16}),"Giorni della Settimana Esclusi"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Vre.map(E=>l.jsxs(z.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(y,E.value),className:`
                      px-3 py-1 rounded-full text-sm flex items-center gap-2 transition-colors
                      ${(m.excludedDays||[]).includes(E.value)?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
                    `,children:[(m.excludedDays||[]).includes(E.value)&&l.jsx(Ac,{size:14,className:"text-red-400"}),E.label]},E.value))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Ac,{size:16}),"Date Specifiche Escluse"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(cn,{mode:"popLayout",children:(m.excludedDates||[]).map(E=>l.jsxs(z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[l.jsx(Ac,{size:14}),et(new Date(E),"dd MMM yyyy",{locale:gs}),l.jsx("button",{type:"button",onClick:()=>{const x=(m.excludedDates||[]).filter(v=>v!==E);n(y,"excludedDates",x)},className:"text-red-400 hover:text-red-300",children:l.jsx($n,{size:14})})]},E))})}),l.jsx(cn,{children:u&&l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-400 text-sm mt-2",children:[l.jsx(ln,{size:14}),u]})}),A===m.id?l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex gap-2",children:[l.jsx("input",{type:"date",value:o,onChange:E=>{c(E.target.value),h(null)},className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",min:m.bookingStartDate,max:m.bookingEndDate}),l.jsxs("button",{type:"button",onClick:()=>g(y),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[l.jsx(An,{size:16}),"Aggiungi"]}),l.jsxs("button",{type:"button",onClick:()=>{a(null),c(""),h(null)},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500",children:[l.jsx($n,{size:16}),"Annulla"]})]}):l.jsxs(z.button,{type:"button",onClick:()=>a(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 text-sm text-[--theater-gold] hover:text-yellow-500",children:[l.jsx(eA,{size:14}),"Aggiungi data esclusa"]})]})]})]},m.id))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"text",value:e.name,onChange:m=>r({...e,name:m.target.value}),placeholder:"Nuovo tipo di servizio",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white"}),l.jsxs(z.button,{type:"button",onClick:s,disabled:!e.name,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(eA,{size:20}),"Aggiungi"]})]})]})},zre=({breakTimes:t,newBreakTime:e,onBreakTimeChange:n,onNewBreakTimeChange:r,onAddBreakTime:s,onRemoveBreakTime:i})=>l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Pause e Intervalli"}),l.jsx("div",{className:"space-y-4",children:t.map((A,a)=>l.jsxs("div",{className:"flex items-center gap-4 bg-gray-700 p-4 rounded",children:[l.jsx("input",{type:"time",value:A.start,onChange:o=>n(a,"start",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),l.jsx("span",{className:"text-white",children:"a"}),l.jsx("input",{type:"time",value:A.end,onChange:o=>n(a,"end",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),l.jsxs("label",{className:"flex items-center gap-2 text-white",children:[l.jsx("input",{type:"checkbox",checked:A.enabled,onChange:o=>n(a,"enabled",o.target.checked),className:"w-4 h-4"}),"Attivo"]}),l.jsx("button",{type:"button",onClick:()=>i(a),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(tA,{size:20})})]},a))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"time",value:e.start,onChange:A=>r({...e,start:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inizio pausa"}),l.jsx("input",{type:"time",value:e.end,onChange:A=>r({...e,end:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Fine pausa"}),l.jsxs("button",{type:"button",onClick:s,disabled:!e.start||!e.end,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(eA,{size:20}),"Aggiungi Pausa"]})]})]}),Gre=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],AU=({color:t,onChange:e})=>l.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-xl border border-gray-700 w-64",children:[l.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:Gre.map(n=>l.jsx("button",{onClick:()=>e(n),className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${t===n?"ring-2 ring-white ring-offset-2 ring-offset-gray-800":""}`,style:{backgroundColor:n},title:n},n))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm text-gray-300",children:"Custom Color"}),l.jsx("input",{type:"color",value:t,onChange:n=>e(n.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),$re=({statuses:t,onSave:e})=>{const[n,r]=U.useState(t.map(w=>({...w,enabled:w.enabled??!0}))),[s,i]=U.useState(null),[A,a]=U.useState(!1),[o,c]=U.useState(null),[u,h]=U.useState({name:"",color:"#4CAF50",enabled:!0}),[f,g]=U.useState(null),m=w=>{g(w),setTimeout(()=>g(null),3e3)},y=async()=>{if(!u.name){i("Inserisci un nome per lo stato");return}if(n.some(N=>N.name.toLowerCase()===u.name.toLowerCase())){i("Esiste gi uno stato con questo nome");return}const w=u.name.toLowerCase().replace(/\s+/g,"_"),F={...u,id:w,enabled:!0},T=[...n,F];r(T);try{a(!0),await e(T),h({name:"",color:"#4CAF50",enabled:!0}),i(null),m("Nuovo stato aggiunto con successo")}catch(N){console.error("Error saving new status:",N),i("Errore durante il salvataggio del nuovo stato"),r(n)}finally{a(!1)}},E=async(w,F,T)=>{const N=[...n];N[w]={...N[w],[F]:T},r(N);try{a(!0),await e(N),m("Modifiche salvate con successo")}catch(b){console.error("Error saving status changes:",b),i("Errore durante il salvataggio delle modifiche"),r(n)}finally{a(!1)}},x=async(w,F)=>{await E(w,"color",F)},v=async w=>{const F=n.filter((T,N)=>N!==w);try{a(!0),await e(F),r(F),m("Stato rimosso con successo")}catch(T){console.error("Error removing status:",T),i("Errore durante la rimozione dello stato")}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(jA,{className:"text-[--theater-gold]"}),"Stati Prenotazione"]})}),l.jsxs(cn,{children:[s&&l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),s]}),f&&l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),f]})]}),l.jsx("div",{className:"space-y-4",children:n.map((w,F)=>l.jsx(z.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:w.name,onChange:T=>E(F,"name",T.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white focus:border-[--theater-gold] transition-colors",placeholder:"Nome stato"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>c(o===w.id?null:w.id),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:w.color}}),o===w.id&&l.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[l.jsx("div",{className:"fixed inset-0",onClick:()=>c(null)}),l.jsx(AU,{color:w.color,onChange:T=>x(F,T)})]})]}),l.jsxs("label",{className:"flex items-center gap-2 text-white hover:text-[--theater-gold] transition-colors cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:w.enabled,onChange:T=>E(F,"enabled",T.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Attivo"]}),l.jsx("button",{onClick:()=>v(F),className:"p-2 text-red-400 hover:text-red-300 hover:scale-110 transition-all",title:"Rimuovi stato",disabled:A,children:l.jsx(tA,{size:20})})]})},w.id))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"text",value:u.name,onChange:w=>h({...u,name:w.target.value}),placeholder:"Nuovo stato",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-[--theater-gold] transition-colors"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>c(o==="new"?null:"new"),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:u.color}}),o==="new"&&l.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[l.jsx("div",{className:"fixed inset-0",onClick:()=>c(null)}),l.jsx(AU,{color:u.color,onChange:w=>h({...u,color:w})})]})]}),l.jsxs(z.button,{onClick:y,disabled:!u.name||A,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[l.jsx(eA,{size:20}),A?"Aggiunta...":"Aggiungi"]})]})]})},Wre=({settings:t,onChange:e})=>{var r,s,i,A;const n=(a,o)=>{e({social:{...t.social,[a]:o}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(qg,{className:"text-[--theater-gold]"}),"Impostazioni Condivisione Social"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(Ps,{size:16}),"Immagine Anteprima"]}),l.jsx("input",{type:"url",value:((r=t.social)==null?void 0:r.image)||"",onChange:a=>n("image",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/image.jpg"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Dimensioni consigliate: 1200x630 pixel"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(g9,{size:16}),"Titolo Anteprima"]}),l.jsx("input",{type:"text",value:((s=t.social)==null?void 0:s.title)||"",onChange:a=>n("title",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale Cinematografico 2025"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(Uo,{size:16}),"Descrizione Anteprima"]}),l.jsx("textarea",{value:((i=t.social)==null?void 0:i.description)||"",onChange:a=>n("description",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(s9,{size:16}),"URL Sito"]}),l.jsx("input",{type:"url",value:((A=t.social)==null?void 0:A.url)||"",onChange:a=>n("url",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://gennaromazzacane.it/carnival2025"})]}),l.jsx("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-4",children:l.jsx("div",{className:"flex items-start gap-2",children:l.jsxs("div",{className:"text-blue-400 text-sm",children:[l.jsx("p",{className:"font-medium mb-1",children:"Anteprima Social"}),l.jsx("p",{children:"Queste impostazioni controllano come appare il link quando viene condiviso su WhatsApp, Facebook e altri social media. L'immagine dovrebbe essere rappresentativa del tuo evento e catturare l'attenzione."})]})})})]})]})},qre=({type:t,enabled:e,onChange:n})=>{const r=s=>{const i="w-full aspect-[9/16] rounded-lg overflow-hidden";switch(s){case"classic":return l.jsxs("div",{className:`${i} bg-gradient-to-br from-red-600 to-red-700 text-white p-6 flex flex-col`,children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Pc,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold",children:"Carnevale 2025"}),l.jsx("p",{className:"text-sm opacity-75",children:"CNC-123456"})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-4",children:[l.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-75",children:"Nome"}),l.jsx("p",{className:"font-bold",children:"Mario Rossi"})]}),l.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-75",children:"Data"}),l.jsx("p",{className:"font-bold",children:"01/03/2025"})]})]})]});case"modern":return l.jsx("div",{className:`${i} bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6`,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[l.jsx(Pc,{className:"w-16 h-16 mx-auto mb-6"}),l.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Carnevale"}),l.jsx("p",{className:"text-lg mb-8",children:"2025"}),l.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-xl",children:l.jsx("p",{className:"font-mono text-xl",children:"CNC-123456"})})]}),l.jsx("div",{className:"mt-auto text-center",children:l.jsx("p",{className:"text-sm opacity-75",children:"Via Quinto Orazio Flacco 5, Aversa"})})]})});case"vintage":return l.jsx("div",{className:`${i} bg-[#f8e5b9] p-6 border-8 border-[#8b4513]`,children:l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#8b4513]",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-3xl font-serif mb-2",children:"CARNEVALE"}),l.jsx("p",{className:"text-xl font-serif",children:"CINEMATOGRAFICO"})]}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),l.jsx("div",{className:"font-mono text-xl mb-6",children:"CNC-123456"}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),l.jsxs("div",{className:"text-center mt-auto",children:[l.jsx("p",{className:"font-serif",children:"01 Marzo 2025"}),l.jsx("p",{className:"font-serif text-sm mt-2",children:"Aversa"})]})]})})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Pc,{className:"text-[--theater-gold]"}),"Template Ticket"]}),l.jsx("div",{className:"grid grid-cols-3 gap-6",children:["classic","modern","vintage"].map(s=>l.jsxs(z.div,{whileHover:{scale:1.02},className:`relative cursor-pointer rounded-lg overflow-hidden ${t===s?"ring-2 ring-[--theater-gold]":""}`,onClick:()=>n({type:s,enabled:e}),children:[r(s),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsx("button",{className:"px-4 py-2 bg-[--theater-gold] text-black rounded-lg",children:"Seleziona"})})]},s))}),l.jsx("div",{className:"mt-6",children:l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e,onChange:s=>n({type:t,enabled:s.target.checked}),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione ticket"]})})]})},Xre=({enabled:t,title:e,subtitle:n,type:r,onChange:s})=>{var a;const i=[{id:"curtain",label:"Sipario",description:"Un elegante sipario teatrale che si apre per rivelare il contenuto"},{id:"fade",label:"Dissolvenza",description:"Una transizione fluida con dissolvenza del contenuto"},{id:"slide",label:"Scorrimento",description:"Un effetto dinamico di scorrimento laterale"}],A=o=>c=>{s({enabled:t,title:e,subtitle:n,type:r,[o]:c})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Dr,{className:"text-[--theater-gold]"}),"Animazione Introduttiva"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t,onChange:o=>A("enabled")(o.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione all'apertura"]})}),t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Titolo Animazione"}),l.jsx("input",{type:"text",value:e,onChange:o=>A("title")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale 2025"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Sottotitolo"}),l.jsx("input",{type:"text",value:n,onChange:o=>A("subtitle")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"3... 2... 1..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-4",children:"Tipo Animazione"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(o=>l.jsxs(z.button,{type:"button",whileHover:{scale:1.02},onClick:()=>A("type")(o.id),className:`p-4 rounded-lg border-2 transition-colors ${r===o.id?"border-[--theater-gold] bg-[--theater-gold]/10":"border-gray-700 hover:border-gray-600"}`,children:[l.jsx(u9,{className:`w-8 h-8 mx-auto mb-2 ${r===o.id?"text-[--theater-gold]":"text-gray-400"}`}),l.jsx("span",{className:`block font-medium mb-2 ${r===o.id?"text-white":"text-gray-300"}`,children:o.label}),l.jsx("p",{className:"text-sm text-gray-400",children:o.description})]},o.id))})]})]}),l.jsxs("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-4",children:"Anteprima Impostazioni"}),l.jsxs("div",{className:"space-y-2 text-gray-300",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Stato:"})," ",t?"Attivo":"Disattivato"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Titolo:"})," ",e||"(non impostato)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Sottotitolo:"})," ",n||"(non impostato)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tipo:"})," ",((a=i.find(o=>o.id===r))==null?void 0:a.label)||r]})]})]})]})]})},Yre=[{id:"general",label:"Generali",icon:jA},{id:"status",label:"Stati Prenotazione",icon:jA},{id:"services",label:"Servizi",icon:jA},{id:"breaks",label:"Pause",icon:jA},{id:"social",label:"Condivisione",icon:qg},{id:"ticket",label:"Template Ticket",icon:Pc},{id:"intro",label:"Intro",icon:Dr}],Jre=({settings:t,onSave:e,onClose:n})=>{const[r,s]=U.useState(!1),[i,A]=U.useState(t),[a,o]=U.useState(null),[c,u]=U.useState("general"),[h,f]=U.useState(!1),{statuses:g}=pd(),m=async E=>{E.preventDefault(),s(!0),o(null);try{await e(i),f(!0),setTimeout(()=>f(!1),3e3)}catch(x){console.error("Error saving settings:",x),o("Errore durante il salvataggio delle impostazioni")}finally{s(!1)}},y=()=>{var E,x,v,w,F,T;switch(c){case"general":return l.jsx(Ore,{settings:i,onChange:N=>A({...i,...N})});case"status":return l.jsx($re,{statuses:g,onSave:async N=>{A({...i,bookingStatuses:N})}});case"services":return l.jsx(Kre,{serviceTypes:i.serviceTypes,newServiceType:{id:"",name:"",enabled:!0,bookingStartDate:"",bookingEndDate:""},onServiceTypeChange:(N,b,C)=>{const _=[...i.serviceTypes];_[N]={..._[N],[b]:C},A({...i,serviceTypes:_})},onNewServiceTypeChange:()=>{},onAddServiceType:()=>{},onRemoveServiceType:N=>{const b=i.serviceTypes.filter((C,_)=>_!==N);A({...i,serviceTypes:b})}});case"breaks":return l.jsx(zre,{breakTimes:i.breakTimes,newBreakTime:{start:"",end:"",enabled:!0},onBreakTimeChange:(N,b,C)=>{const _=[...i.breakTimes];_[N]={..._[N],[b]:C},A({...i,breakTimes:_})},onNewBreakTimeChange:()=>{},onAddBreakTime:()=>{},onRemoveBreakTime:N=>{const b=i.breakTimes.filter((C,_)=>_!==N);A({...i,breakTimes:b})}});case"social":return l.jsx(Wre,{settings:i,onChange:N=>A({...i,...N})});case"ticket":return l.jsx(qre,{type:((E=i.ticketTemplate)==null?void 0:E.type)||"classic",enabled:((x=i.ticketTemplate)==null?void 0:x.enabled)??!0,onChange:N=>A(b=>({...b,ticketTemplate:N}))});case"intro":return l.jsx(Xre,{enabled:((v=i.animation)==null?void 0:v.enabled)??!0,title:((w=i.animation)==null?void 0:w.title)||"",subtitle:((F=i.animation)==null?void 0:F.subtitle)||"",type:((T=i.animation)==null?void 0:T.type)||"curtain",onChange:N=>A(b=>({...b,animation:{...b.animation,...N}}))});default:return null}};return l.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:l.jsxs("form",{onSubmit:m,className:"space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Impostazioni"}),l.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-white",children:l.jsx($n,{size:24})})]}),a&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:a}),h&&l.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg",children:"Impostazioni salvate con successo"}),l.jsx("div",{className:"flex gap-4 border-b border-gray-700 overflow-x-auto",children:Yre.map(E=>l.jsxs("button",{type:"button",onClick:()=>u(E.id),className:`px-4 py-2 -mb-px whitespace-nowrap flex items-center gap-2 ${c===E.id?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:[l.jsx(E.icon,{size:16}),E.label]},E.id))}),l.jsx("div",{className:"pt-6",children:y()}),l.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:r?"Salvataggio...":"Salva Impostazioni"})]})]})})},Zre=()=>{const{settings:t,loading:e}=yA(),[n,r]=U.useState(null),[s,i]=U.useState(!1),[A,a]=U.useState({name:"",description:"",price:0,imageUrl:"",enabled:!0}),o=async h=>{if(h.preventDefault(),!!t)try{let f=[...t.products];if(n){const g=f.findIndex(m=>m.id===n);g!==-1&&(f[g]={...A,id:n})}else{const g={...A,id:crypto.randomUUID()};f.push(g)}await Op({products:f}),i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})}catch(f){console.error("Error saving product:",f),alert("Errore durante il salvataggio del prodotto")}},c=async h=>{if(window.confirm("Sei sicuro di voler eliminare questo prodotto?")&&t)try{const f=t.products.filter(g=>g.id!==h);await Op({products:f})}catch(f){console.error("Error deleting product:",f),alert("Errore durante l'eliminazione del prodotto")}},u=h=>{a(h),r(h.id),i(!0)};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-white flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Prodotti"}),l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(eA,{size:20}),"Nuovo Prodotto"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.products.map(h=>l.jsxs(z.div,{layout:!0,className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[h.imageUrl&&l.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:h.name}),l.jsx("p",{className:"text-gray-400 mb-4",children:h.description}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-[--theater-gold] text-xl",children:["",h.price.toFixed(2)]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>u(h),className:"p-2 text-blue-400 hover:text-blue-300",children:l.jsx(gN,{size:20})}),l.jsx("button",{onClick:()=>c(h.id),className:"p-2 text-red-400 hover:text-red-300",children:l.jsx(tA,{size:20})})]})]})]})]},h.id))}),l.jsx(cn,{children:(s||n)&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:n?"Modifica Prodotto":"Nuovo Prodotto"}),l.jsx("button",{onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"text-gray-400 hover:text-white",children:l.jsx($n,{size:24})})]}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome Prodotto"}),l.jsx("input",{type:"text",value:A.name,onChange:h=>a({...A,name:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Descrizione"}),l.jsx("textarea",{value:A.description,onChange:h=>a({...A,description:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Prezzo"}),l.jsxs("div",{className:"relative",children:[l.jsx(Fv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:A.price,onChange:h=>a({...A,price:parseFloat(h.target.value)}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"URL Immagine"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:A.imageUrl,onChange:h=>a({...A,imageUrl:h.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:A.enabled,onChange:h=>a({...A,enabled:h.target.checked}),className:"w-4 h-4"}),l.jsx("label",{className:"text-gray-300",children:"Prodotto attivo"})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[l.jsx($g,{size:20}),n?"Salva Modifiche":"Crea Prodotto"]})]})]})]})})})]})},ese=async t=>{try{console.log("Preparing email:",{to:t.to,type:t.type,data:t.data});const e=tse(t.type,t.data);if(!e.subject||!e.html)throw new Error("Email template generation failed");console.log("Email template generated:",{subject:e.subject,htmlLength:e.html.length});const r=await LK(tz,"sendEmailFunction")({to:t.to,type:t.type,data:{...t.data,subject:e.subject,html:e.html,text:e.text}}),s=r.data.success;console.log("Email function result:",r.data);try{await Or(St(me,"email_logs"),{to:t.to,type:t.type,data:t.data,success:s,timestamp:Hn()})}catch(i){console.error("Error logging email:",i)}return s}catch(e){console.error("Error in sendEmail:",e instanceof Error?e.message:"Unknown error");try{await Or(St(me,"email_logs"),{to:t.to,type:t.type,data:t.data,success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Hn()})}catch(n){console.error("Error logging email failure:",n)}throw e}},tse=(t,e)=>{try{const n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #D22B2B; text-align: center;">Carnevale Cinematografico</h1>
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
          {{content}}
        </div>
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p> ${new Date().getFullYear()} Carnevale Cinematografico. Tutti i diritti riservati.</p>
        </div>
      </div>
    `;let r="",s="",i="";switch(t){case"welcome":s="Benvenuto in Carnevale Cinematografico",r=`
          <p>Gentile ${(e==null?void 0:e.name)||"Utente"},</p>
          <p>Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.</p>
          <p>Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.</p>
        `,i=`
          Gentile ${(e==null?void 0:e.name)||"Utente"},
          
          Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.
          Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.
        `;break;case"booking":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time)||!(e!=null&&e.ticketNumber))throw new Error("Missing required booking data");s="Conferma della prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>La tua prenotazione  stata confermata con successo!</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
            <p><strong>Numero Ticket:</strong> ${e.ticketNumber}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo per il tuo servizio fotografico!</p>
        `,i=`
          Gentile ${e.name},
          
          La tua prenotazione  stata confermata con successo!
          
          Data: ${e.date}
          Orario: ${e.time}
          Numero Ticket: ${e.ticketNumber}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo per il tuo servizio fotografico!
        `;break;case"reminder":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time))throw new Error("Missing required reminder data");s="Promemoria prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>Ti ricordiamo che hai una prenotazione per domani:</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo!</p>
        `,i=`
          Gentile ${e.name},
          
          Ti ricordiamo che hai una prenotazione per domani:
          
          Data: ${e.date}
          Orario: ${e.time}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo!
        `;break;case"subscription":if(s="Informazioni abbonamento",e!=null&&e.endDate){const A=new Date(e.endDate);if(isNaN(A.getTime()))throw new Error("Invalid subscription end date");r=`
            <p>Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.</p>
            <p>Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.</p>
            <div style="text-align: center; margin-top: 20px;">
              <a href="https://carnevale-cinematografico.web.app/profile/subscription" 
                 style="background-color: #D22B2B; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                Rinnova Ora
              </a>
            </div>
          `,i=`
            Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.
            Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.
            
            Rinnova ora: https://carnevale-cinematografico.web.app/profile/subscription
          `}else r=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.",i=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.";break;case"custom":default:s="Notifica da Carnevale Cinematografico",r=`<p>${(e==null?void 0:e.message)||"Nessun messaggio"}</p>`,i=(e==null?void 0:e.message)||"Nessun messaggio";break}return{subject:s,html:n.replace("{{content}}",r),text:i.trim().replace(/\n\s+/g,`
`)}}catch(n){throw console.error("Error generating email template:",n),n}},Zp=async(t,e)=>ese({to:t,type:"subscription",data:{endDate:e.endDate,message:e.message}}),nse=({subscription:t,onClose:e})=>{const[n,r]=U.useState(!1),[s,i]=U.useState(null),[A,a]=U.useState(null),[o,c]=U.useState(1),[u,h]=U.useState(""),[f,g]=U.useState(!1),m=async()=>{r(!0),i(null),a(null);try{const E=Rp(t.endDate,o);await Er(Ve(me,"subscriptions",t.userId),{endDate:E,status:"active"}),await Or(St(me,"subscription_history"),{userId:t.userId,email:t.email,action:"extension",months:o,previousEndDate:t.endDate,newEndDate:E,timestamp:new Date}),a(`Abbonamento esteso di ${o} ${o===1?"mese":"mesi"}`),await Zp(t.email,{type:"extension",endDate:E})}catch(E){console.error("Error extending subscription:",E),i("Errore durante l'estensione dell'abbonamento")}finally{r(!1)}},y=async()=>{if(!u.trim()){i("Inserisci un messaggio per la notifica");return}r(!0),i(null),a(null);try{await Zp(t.email,{type:"custom",message:u}),await Or(St(me,"notification_history"),{userId:t.userId,email:t.email,message:u,timestamp:new Date}),a("Notifica inviata con successo"),h("")}catch(E){console.error("Error sending notification:",E),i("Errore durante l'invio della notifica")}finally{r(!1)}};return l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx($n,{size:24})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Gestione Abbonamento"}),s&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),s]}),A&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(An,{size:20}),A]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[l.jsx(Cn,{className:"text-[--theater-gold]"}),"Estendi Abbonamento"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Durata estensione (mesi)"}),l.jsx("input",{type:"number",min:"1",max:"12",value:o,onChange:E=>c(parseInt(E.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Nuova data di scadenza:"," ",l.jsx("span",{className:"text-white",children:et(Rp(t.endDate,o),"dd MMMM yyyy",{locale:gs})})]}),l.jsxs("button",{onClick:m,disabled:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[n?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(An,{size:20}),"Estendi Abbonamento"]})]})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[l.jsx(Uv,{className:"text-[--theater-gold]"}),"Invia Notifica"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:u,onChange:E=>h(E.target.value),placeholder:"Scrivi un messaggio...",className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white h-24 resize-none"}),l.jsxs("button",{onClick:y,disabled:n||!u.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[n?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(Uv,{size:20}),"Invia Notifica"]})]})]}),l.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[l.jsx(i9,{size:20}),"Visualizza Storico"]})]}),l.jsx(cn,{children:f&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx($n,{size:24})}),l.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(hs,{className:"text-[--theater-gold]"}),"Storico Abbonamento"]}),l.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Storico in fase di implementazione"})})]})})})]})})},rse=({subscriptions:t})=>{const e={total:t.length,active:t.filter(n=>n.status==="active").length,expiringSoon:t.filter(n=>{const r=Math.ceil((n.endDate.getTime()-Date.now())/864e5);return n.status==="active"&&r<=7}).length,monthlyRevenue:t.filter(n=>n.status==="active"&&n.plan==="monthly").length*20+t.filter(n=>n.status==="active"&&n.plan==="yearly").length*8.333333333333334};return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:l.jsx(Wo,{className:"w-6 h-6 text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Totale Abbonati"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.total})]})]})}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:l.jsx(_u,{className:"w-6 h-6 text-green-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Abbonamenti Attivi"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.active})]})]})}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:l.jsx(hs,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"In Scadenza"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.expiringSoon})]})]})}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-[--theater-gold]/20 rounded-lg",children:l.jsx(p9,{className:"w-6 h-6 text-[--theater-gold]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Ricavi Mensili"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["",Math.round(e.monthlyRevenue)]})]})]})})]})},sse=({subscriptions:t})=>{const[e,n]=U.useState(!1),[r,s]=U.useState(null),i=()=>{n(!0),s(null);try{const A=["Email","Piano","Stato","Data Inizio","Data Scadenza","Prenotazioni Usate","Limite Prenotazioni"],a=t.map(f=>[f.email,f.plan,f.status,et(f.startDate,"dd/MM/yyyy",{locale:gs}),et(f.endDate,"dd/MM/yyyy",{locale:gs}),f.bookingsUsed,f.maxBookings]),o=[A.join(","),...a.map(f=>f.join(","))].join(`
`),c=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(c);u.setAttribute("href",h),u.setAttribute("download",`abbonamenti_${et(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(A){console.error("Error exporting subscriptions:",A),s("Errore durante l'esportazione")}finally{n(!1)}};return l.jsxs("div",{className:"mb-6",children:[r&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-4 flex items-center gap-2",children:[l.jsx(ln,{size:20}),r]}),l.jsxs(z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50",children:[e?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(r9,{size:20}),"Esporta Abbonamenti"]})]})},FR=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[s,i]=U.useState(null),[A,a]=U.useState(""),[o,c]=U.useState("all"),[u,h]=U.useState(null);U.useEffect(()=>{const g=St(me,"subscriptions"),m=ds(g,Ys("endDate","desc")),y=hl(m,E=>{const x=E.docs.map(v=>{const w=v.data();return{...w,id:v.id,startDate:w.startDate?new Date(w.startDate):new Date,endDate:w.endDate?new Date(w.endDate):new Date}});e(x),r(!1)},E=>{console.error("Error fetching subscriptions:",E),i("Errore nel caricamento degli abbonamenti"),r(!1)});return()=>y()},[]);const f=t.filter(g=>{const m=g.email.toLowerCase().includes(A.toLowerCase()),y=o==="all"||g.status===o;return m&&y});return n?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):l.jsxs("div",{className:"min-h-screen bg-gray-900 py-8",children:[l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Wo,{className:"text-[--theater-gold]"}),"Gestione Abbonamenti"]}),l.jsx("div",{className:"flex gap-4",children:l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:l.jsx(mN,{size:20})})})]}),l.jsx(rse,{subscriptions:t}),l.jsx(sse,{subscriptions:t}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Wg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per email...",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bu,{className:"text-gray-400"}),l.jsxs("select",{value:o,onChange:g=>c(g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),l.jsx("option",{value:"active",children:"Attivi"}),l.jsx("option",{value:"expired",children:"Scaduti"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Piano"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Scadenza"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Prenotazioni"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),l.jsx("tbody",{children:f.map(g=>l.jsxs(z.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-gray-700 hover:bg-gray-700/50",children:[l.jsx("td",{className:"p-4 text-white",children:g.email}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-400",children:g.plan})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${g.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:g.status==="active"?"Attivo":"Scaduto"})}),l.jsx("td",{className:"p-4 text-white",children:et(g.endDate,"dd MMM yyyy",{locale:gs})}),l.jsxs("td",{className:"p-4 text-white",children:[g.bookingsUsed," / ",g.maxBookings]}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>h(g),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:l.jsx(jA,{size:18})})})]},g.id))})]})})]})}),l.jsx(cn,{children:u&&l.jsx(nse,{subscription:u,onClose:()=>h(null)})})]})},ise=async t=>{try{const e=new Date(t.booking_date);if(isNaN(e.getTime()))throw new Error("Data di prenotazione non valida");const n=e.toISOString().split("T")[0],r=await Or(St(me,"bookings"),{...t,booking_date:n,created_at:Hn()});if(t.userId)try{const i=(await Mr(Ve(me,"users",t.userId))).data();if(i!=null&&i.calendarConnected){const A=new Date(`${n}T${t.booking_time}`),a=new Date(A.getTime()+60*60*1e3);await ZX(t.userId,{summary:`Prenotazione Fotografica - ${t.firstName} ${t.lastName}`,description:`Prenotazione: ${t.ticket_number}
Servizio: ${t.service_type}`,startTime:A,endTime:a,location:"Via Quinto Orazio Flacco 5, Aversa"})}}catch(s){console.error("Error syncing with Google Calendar:",s)}return r.id}catch(e){throw console.error("Error creating booking:",e),e}},Ase=({selectedDate:t,selectedTime:e,onTimeSelect:n})=>{const{settings:r}=yA(),[s,i]=U.useState([]);return U.useEffect(()=>{if(!r)return;const A=[],[a,o=0]=r.startTime.split(":").map(Number),[c,u=0]=r.endTime.split(":").map(Number),h=r.bookingIntervals||30;let f=Lp(jp(t,o),a);const g=Lp(jp(t,u),c);for(;f<g;){const m=et(f,"HH:mm");A.push(m),f=p4(f,h)}i(A)},[t,r]),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"block text-gray-300",children:[l.jsx(hs,{size:16,className:"inline-block mr-2"}),"Orari Disponibili"]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.map(A=>l.jsx("button",{type:"button",onClick:()=>n(A),className:`
              p-2 rounded text-center transition-colors
              ${e===A?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}
            `,children:A},A))})]})},ase=jn.object({firstName:jn.string().min(2,"Nome richiesto"),lastName:jn.string().min(2,"Cognome richiesto"),email:jn.string().email("Email non valida"),phone:jn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service_type:jn.string().min(1,"Seleziona un tipo di servizio"),notes:jn.string().optional()}),ose=({isOpen:t,onClose:e,onSuccess:n})=>{const{settings:r}=yA(),[s,i]=U.useState(null),[A,a]=U.useState(""),[o,c]=U.useState(!1),[u,h]=U.useState(null),{register:f,handleSubmit:g,formState:{errors:m},reset:y}=t4({resolver:r4(ase)}),E=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,x=async v=>{if(!s||!A){h("Seleziona data e ora per la prenotazione");return}c(!0),h(null);try{const w={...v,booking_date:s.toISOString().split("T")[0],booking_time:A,ticket_number:E(),status:"pending"};await ise(w),y(),i(null),a(""),n&&n(),e()}catch(w){console.error("Error creating booking:",w),h("Errore durante la creazione della prenotazione")}finally{c(!1)}};return l.jsx(cn,{children:t&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Cn,{className:"text-[--theater-gold]"}),"Nuova Prenotazione"]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:l.jsx($n,{size:24})})]}),u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),u]}),l.jsxs("form",{onSubmit:g(x),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),l.jsxs("div",{className:"relative",children:[l.jsx(nA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("firstName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),m.firstName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),l.jsxs("div",{className:"relative",children:[l.jsx(nA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("lastName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),m.lastName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("email"),type:"email",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"email@esempio.com"})]}),m.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("phone"),type:"tel",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il numero senza prefisso"})]}),m.phone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),l.jsxs("select",{...f("service_type"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"",children:"Seleziona servizio"}),r==null?void 0:r.serviceTypes.filter(v=>v.enabled).map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]}),m.service_type&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.service_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{...f("notes"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Note aggiuntive..."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),l.jsx("input",{type:"date",value:s?s.toISOString().split("T")[0]:"",onChange:v=>i(v.target.value?new Date(v.target.value):null),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),s&&l.jsx(Ase,{selectedDate:s,selectedTime:A,onTimeSelect:a})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Creazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(An,{size:20}),"Crea Prenotazione"]})})]})]})]})})})},SR=({photos:t,currentIndex:e,onClose:n,onNext:r,onPrev:s,onFavorite:i,favorites:A=[],onShare:a})=>{const[o,c]=tt.useState(1),[u,h]=tt.useState({x:0,y:0}),[f,g]=tt.useState(!1),m=t[e],y=tt.useRef(null),E=()=>{c(T=>Math.min(T+.5,3)),h({x:0,y:0})},x=()=>{c(T=>Math.max(T-.5,1)),h({x:0,y:0})},v=(T,N)=>{g(!1),o===1?N.offset.x>50?s():N.offset.x<-50&&r():h({x:u.x+N.offset.x,y:u.y+N.offset.y})},w=()=>{a&&m?a(m.url):navigator.share&&navigator.share({title:"Condividi foto",url:m.url}).catch(console.error)},F=T=>{T.key==="ArrowLeft"&&s(),T.key==="ArrowRight"&&r(),T.key==="Escape"&&n(),(T.key==="+"||T.key==="=")&&E(),T.key==="-"&&x()};return tt.useEffect(()=>(window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)),[]),tt.useEffect(()=>{c(1),h({x:0,y:0})},[e]),l.jsx(cn,{children:l.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:n,children:[l.jsxs("div",{className:"fixed top-4 right-4 flex items-center gap-4 z-50",children:[l.jsx("button",{onClick:T=>{T.stopPropagation(),E()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(v9,{size:20})}),l.jsx("button",{onClick:T=>{T.stopPropagation(),x()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(w9,{size:20})}),l.jsx("button",{onClick:T=>{T.stopPropagation(),w()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(qg,{size:20})}),l.jsx("a",{href:m.url,download:!0,onClick:T=>T.stopPropagation(),className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Io,{size:20})}),l.jsx("button",{onClick:n,className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx($n,{size:20})})]}),e>0&&l.jsx("button",{onClick:T=>{T.stopPropagation(),s()},className:"fixed left-4 top-1/2 -translate-y-1/2 p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Gg,{size:24})}),e<t.length-1&&l.jsx("button",{onClick:T=>{T.stopPropagation(),r()},className:"fixed right-4 top-1/2 -translate-y-1/2 p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Eu,{size:24})}),l.jsxs(z.div,{ref:y,initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative w-full h-full select-none flex items-center justify-center",onClick:T=>T.stopPropagation(),children:[l.jsx(z.div,{drag:o>1,dragConstraints:y,dragElastic:.1,onDragStart:()=>g(!0),onDragEnd:v,style:{cursor:o>1?f?"grabbing":"grab":"default"},children:l.jsx(z.img,{src:m.url,alt:m.name,className:"max-w-full max-h-[90vh] object-contain",style:{transform:`scale(${o}) translate(${u.x}px, ${u.y}px)`,transition:f?"none":"transform 0.2s ease-out"},onDoubleClick:()=>{o===1?E():(c(1),h({x:0,y:0}))}})}),i&&l.jsx("button",{onClick:()=>i(m.id),className:"absolute bottom-4 right-4 p-3 rounded-full bg-black/50 hover:bg-black/70 transition-colors",children:l.jsx(dN,{size:24,className:A.includes(m.id)?"text-red-500 fill-red-500":"text-white"})})]}),l.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-gray-800/80 rounded-full text-white",children:[e+1," / ",t.length]}),o>1&&l.jsxs("div",{className:"fixed bottom-4 left-4 px-4 py-2 bg-gray-800/80 rounded-full text-white text-sm",children:[Math.round(o*100),"%"]})]})})},sy=10,lse=({bookingId:t})=>{const[e,n]=U.useState([]),[r,s]=U.useState(!0),[i,A]=U.useState(null),[a,o]=U.useState(null),[c,u]=U.useState(!0);U.useState(1);const[h,f]=U.useState(null);U.useEffect(()=>{t?g():(s(!1),n([]))},[t]);const g=async(y=!1)=>{var E;if(t)try{s(!0),A(null);let x=ds(St(me,"photo_selections"),la("bookingId","==",t),Ys("createdAt","desc"),J1(sy));y&&a&&(x=ds(St(me,"photo_selections"),la("bookingId","==",t),Ys("createdAt","desc"),fK(a),J1(sy)));const v=await Cu(x),w=[];for(const F of v.docs){const T=F.data(),N=T.photoIds||[],b=[];for(const C of N){const _=await Mr(Ve(me,"galleries",C));_.exists()&&b.push({id:_.id,..._.data()})}if(w.push({id:F.id,...T,photos:b,createdAt:(E=T.createdAt)==null?void 0:E.toDate()}),!T.viewed)try{await Er(Ve(me,"photo_selections",F.id),{viewed:!0}),await Er(Ve(me,"bookings",t),{hasNewSelection:!0})}catch(C){console.error("Error updating selection/booking status:",C)}}n(y?F=>[...F,...w]:w),o(v.docs[v.docs.length-1]),u(v.docs.length===sy)}catch(x){console.error("Error loading selections:",x),A("Errore nel caricamento delle selezioni")}finally{s(!1)}},m=y=>{try{const E=y.photos.map(F=>F.name).join(`
`),x=new Blob([E],{type:"text/plain"}),v=URL.createObjectURL(x),w=document.createElement("a");w.href=v,w.download=`selection-${y.id}.txt`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(v),De.success("Selezione esportata con successo")}catch(E){console.error("Error exporting selection:",E),De.error("Errore durante l'esportazione")}};return r&&e.length===0?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin text-[--theater-gold] text-4xl",children:""})}):i?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),i]}):t?l.jsx("div",{className:"space-y-6",children:l.jsx(cn,{mode:"wait",children:h?l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("button",{onClick:()=>f(null),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(Gg,{size:20}),"Torna alle selezioni"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-gray-400",children:et(h.createdAt,"dd MMMM yyyy HH:mm",{locale:gs})}),l.jsxs("button",{onClick:()=>m(h),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(Io,{size:18}),"Esporta"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:h.photos.map(y=>l.jsxs(z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square",children:[l.jsx("img",{src:y.url,alt:y.name,className:"w-full h-full object-cover rounded-lg"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsx("a",{href:y.url,download:!0,className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",onClick:E=>E.stopPropagation(),children:l.jsx(Io,{size:20,className:"text-white"})})})]},y.id))})]}):l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.map(y=>l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-700 rounded-lg overflow-hidden transition-all ${y.viewed?"":"ring-2 ring-[--theater-gold]"}`,children:[l.jsxs("div",{className:"p-4 flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hs,{size:16,className:"text-[--theater-gold]"}),l.jsx("span",{className:"text-gray-300",children:et(y.createdAt,"dd MMMM yyyy HH:mm",{locale:gs})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ps,{size:16,className:"text-[--theater-gold]"}),l.jsxs("span",{className:"text-white",children:[y.photos.length," foto selezionate"]})]}),!y.viewed&&l.jsxs("div",{className:"flex items-center gap-1 text-[--theater-gold]",children:[l.jsx(n9,{size:14}),l.jsx("span",{className:"text-sm",children:"Non visualizzata"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>f(y),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[l.jsx(uN,{size:16}),"Visualizza"]}),l.jsxs("button",{onClick:()=>m(y),className:"flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors",children:[l.jsx(Io,{size:16}),"Esporta"]})]})]}),l.jsx("div",{className:"px-4 pb-4 overflow-x-auto",children:l.jsx("div",{className:"flex gap-4 snap-x snap-mandatory",children:y.photos.map(E=>l.jsx("div",{className:"flex-none w-24 h-24 snap-start",children:l.jsx("img",{src:E.url,alt:E.name,className:"w-full h-full object-cover rounded-lg"})},E.id))})})]},y.id)),e.length===0&&l.jsxs("div",{className:"text-center text-gray-400 py-8",children:[l.jsx(Ps,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nessuna selezione trovata"})]}),c&&l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>g(!0),disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50",children:r?l.jsx("span",{className:"animate-spin",children:""}):l.jsxs(l.Fragment,{children:[l.jsx(ChevronDown,{size:20}),"Carica altre"]})})})]})})}):l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Seleziona una prenotazione per visualizzare le selezioni"})},aU="galleries",cse=2*1024*1024,iy=1920,use=({bookingId:t,isOpen:e=!0,onClose:n})=>{const[r,s]=U.useState([]),[i,A]=U.useState(!0),[a,o]=U.useState(null),[c,u]=U.useState(!1),[h,f]=U.useState(0),[g,m]=U.useState(null),[y,E]=U.useState(null),[x,v]=U.useState("photos");U.useEffect(()=>{(async()=>{if(t)try{const I=await Mr(Ve(me,"bookings",t));I.exists()&&E(I.data())}catch(I){console.error("Error loading booking details:",I)}})()},[t]),U.useEffect(()=>{(async()=>{if(t){A(!0),o(null);try{const I=St(me,"galleries"),k=ds(I,la("bookingId","==",t),Ys("uploadedAt","desc")),S=(await Cu(k)).docs.map(ee=>{var Ae;return{id:ee.id,...ee.data(),uploadedAt:(Ae=ee.data().uploadedAt)==null?void 0:Ae.toDate()}});s(S)}catch(I){console.error("Error loading photos:",I),o("Errore durante il caricamento delle foto"),De.error("Errore nel caricamento delle foto")}finally{A(!1)}}})()},[t]);const w=_=>new Promise(I=>{if(_.size>cse){De.error(`Il file ${_.name} supera i 2MB`),I(!1);return}const k=document.createElement("img"),R=URL.createObjectURL(_);k.onload=()=>{URL.revokeObjectURL(R),k.width>iy||k.height>iy?(De.error(`L'immagine ${_.name} supera ${iy}px`),I(!1)):I(!0)},k.onerror=()=>{URL.revokeObjectURL(R),De.error(`Errore nel caricamento di ${_.name}`),I(!1)},k.src=R}),F=async _=>{var I;if(!(!t||!((I=_.target.files)!=null&&I.length))){u(!0),o(null),f(0);try{const k=Array.from(_.target.files),R=[];for(const H of k)await w(H)&&R.push(H);if(R.length===0){De.error("Nessun file valido da caricare"),u(!1);return}const S=R.length;let ee=0;for(const H of R){const W=cb(ub,`${aU}/${t}/${H.name}`);await $5(W,H);const G=await W5(W);await Or(St(me,"galleries"),{bookingId:t,url:G,name:H.name,uploadedAt:new Date}),ee++,f(ee/S*100),De.success(`Foto ${ee}/${S} caricata`)}const Ae=St(me,"galleries"),K=ds(Ae,la("bookingId","==",t),Ys("uploadedAt","desc")),L=(await Cu(K)).docs.map(H=>{var W;return{id:H.id,...H.data(),uploadedAt:(W=H.data().uploadedAt)==null?void 0:W.toDate()}});s(L),f(0),De.success("Tutte le foto sono state caricate con successo!")}catch(k){console.error("Error uploading photos:",k),De.error("Errore durante il caricamento delle foto"),o("Errore durante il caricamento delle foto")}finally{u(!1)}}},T=async _=>{if(t)try{const I=cb(ub,`${aU}/${t}/${_.name}`);await q5(I),await bx(Ve(me,"galleries",_.id)),s(k=>k.filter(R=>R.id!==_.id)),De.success("Foto eliminata con successo")}catch(I){console.error("Error deleting photo:",I),De.error("Errore durante l'eliminazione della foto")}},N=()=>{const _=window.location.origin;let k=window.location.pathname.split("/").filter(Boolean);const R=k.indexOf("dashboard");R>=0&&k.splice(R,1);const S=k.indexOf("gallery");S>=0&&k.splice(S,2),k.push("gallery",t);const ee=k.join("/");return`${_}/${ee}`},b=()=>{if(!(y!=null&&y.phone)){De.error("Numero di telefono non disponibile");return}const _=N(),I=`Ciao ${y.firstName}, ecco il link alla tua galleria fotografica: ${_}`,k=`https://wa.me/${y.phone.replace(/\D/g,"")}?text=${encodeURIComponent(I)}`;window.open(k,"_blank"),De.success("Link condiviso su WhatsApp")},C=()=>{const _=N();window.open(_,"_blank"),De.success("Galleria aperta in una nuova scheda")};return l.jsx("div",{className:"bg-gray-900 min-h-screen p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-4",children:[l.jsx(Ps,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),y&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(nA,{size:16,className:"text-[--theater-gold]"}),y.firstName," ",y.lastName]}),l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(Cn,{size:16,className:"text-[--theater-gold]"}),y.booking_date," ",y.booking_time]}),l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(pl,{size:16,className:"text-[--theater-gold]"}),y.phone]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[(y==null?void 0:y.phone)&&l.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(kx,{size:20}),"Condividi su WhatsApp"]}),l.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(uN,{size:20}),"Visualizza Galleria"]}),n&&l.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:l.jsx($n,{size:24,className:"text-gray-400"})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-700",children:[l.jsx("button",{onClick:()=>v("photos"),className:`px-4 py-2 -mb-px ${x==="photos"?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ps,{size:20}),"Foto"]})}),l.jsx("button",{onClick:()=>v("selections"),className:`px-4 py-2 -mb-px ${x==="selections"?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Uo,{size:20}),"Selezioni"]})})]})]}),a&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),a]}),x==="photos"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Carica Foto"}),r.length>0&&l.jsxs("span",{className:"text-sm text-gray-400",children:[r.length," foto caricate"]})]}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:F,disabled:c,className:`block w-full text-sm text-gray-400
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-lg file:border-0
                  file:text-sm file:font-semibold
                  file:bg-[--theater-gold] file:text-black
                  hover:file:bg-yellow-500
                  disabled:opacity-50`}),c&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"relative h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx(z.div,{className:"absolute inset-0 bg-[--theater-gold]",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.3}})}),l.jsxs("p",{className:"text-sm text-gray-400 mt-2 flex items-center gap-2",children:[l.jsx(a9,{className:"animate-spin",size:16}),"Caricamento in corso... ",Math.round(h),"%"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((_,I)=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"relative pt-[100%]",children:l.jsx("img",{src:_.url,alt:_.name,className:"absolute inset-0 w-full h-full object-contain bg-gray-800 rounded-lg cursor-pointer",onClick:()=>m(I)})}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-4",children:[l.jsx("a",{href:_.url,download:!0,className:"p-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",onClick:k=>k.stopPropagation(),children:l.jsx(Io,{size:20})}),l.jsx("button",{onClick:k=>{k.stopPropagation(),T(_)},className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:l.jsx(tA,{size:20})})]})]},_.id))}),r.length===0&&!i&&l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessuna foto caricata"})]}):l.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:l.jsx(lse,{bookingId:t})}),g!==null&&l.jsx(SR,{photos:r,currentIndex:g,onClose:()=>m(null),onNext:()=>m(_=>_!==null&&_<r.length-1?_+1:_),onPrev:()=>m(_=>_!==null&&_>0?_-1:_)})]})})},Ay=10,dse=()=>{const[t,e]=U.useState("bookings"),[n,r]=U.useState(!1),[s,i]=U.useState(!1),[A,a]=U.useState([]),[o,c]=U.useState(""),[u,h]=U.useState("all"),[f,g]=U.useState("all"),[m,y]=U.useState(!0),[E,x]=U.useState(null),[v,w]=U.useState(!1),[F,T]=U.useState(null),[N,b]=U.useState(1),[C,_]=U.useState(!1),{settings:I}=yA(),{statuses:k,getStatusColor:R}=pd(),{user:S}=si();U.useEffect(()=>{if(S)try{const G=ds(St(me,"bookings"),Ys("booking_date","asc"),Ys("booking_time","asc")),fe=hl(G,Be=>{const Je=Be.docs.map(Ge=>({id:Ge.id,...Ge.data()}));a(Je),y(!1),x(null)},Be=>{console.error("Error fetching bookings:",Be),x("Errore nel caricamento delle prenotazioni"),y(!1)});return()=>fe()}catch(G){console.error("Error setting up bookings listener:",G),x("Errore nella configurazione del listener delle prenotazioni"),y(!1)}},[S]);const ee=async G=>{if(G.hasNewSelection)try{await Er(Ve(me,"bookings",G.id),{hasNewSelection:!1})}catch(fe){console.error("Error updating booking selection status:",fe)}T(G)},Ae=G=>{if(!(I!=null&&I.serviceTypes))return G;const fe=I.serviceTypes.find(Be=>Be.id===G);return(fe==null?void 0:fe.name)||G},K=A.filter(G=>{var Ge,st,ut;const fe=(G.firstName+" "+G.lastName).toLowerCase().includes(o.toLowerCase())||((Ge=G.email)==null?void 0:Ge.toLowerCase().includes(o.toLowerCase()))||((st=G.phone)==null?void 0:st.includes(o))||((ut=G.ticket_number)==null?void 0:ut.toLowerCase().includes(o.toLowerCase())),Be=u==="all"||G.status===u,Je=f==="all"||G.service_type===f;return fe&&Be&&Je}),J=Math.ceil(K.length/Ay),L=(N-1)*Ay,H=K.slice(L,L+Ay),W=()=>F?l.jsx(use,{bookingId:F.id,isOpen:!0,onClose:()=>T(null)}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-4",children:[l.jsx(Ps,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),l.jsx("p",{className:"text-gray-400",children:"Seleziona una prenotazione per gestire la sua galleria fotografica"})]})}),l.jsxs("div",{className:"relative mt-6",children:[l.jsx(Wg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",value:o,onChange:G=>c(G.target.value),placeholder:"Cerca per nome, email, telefono o ticket...",className:"w-full p-3 pl-10 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map(G=>l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors cursor-pointer ${G.hasNewSelection?"ring-2 ring-green-500":""}`,onClick:()=>ee(G),children:l.jsx("div",{className:"flex items-start justify-between gap-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Wo,{size:16,className:"text-[--theater-gold]"}),l.jsxs("span",{className:"text-white font-medium",children:[G.firstName," ",G.lastName]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(Cn,{size:14}),l.jsxs("span",{children:[G.booking_date," ",G.booking_time]})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["#",G.ticket_number]}),G.hasNewSelection&&l.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-xs",children:[l.jsx(An,{size:12}),"Nuova selezione"]})]})})},G.id))}),J>1&&l.jsxs("div",{className:"flex justify-between items-center mt-6 bg-gray-700 p-4 rounded-lg",children:[l.jsx("button",{onClick:()=>b(G=>Math.max(1,G-1)),disabled:N===1,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Precedente"}),l.jsxs("span",{className:"text-gray-300",children:["Pagina ",N," di ",J]}),l.jsx("button",{onClick:()=>b(G=>Math.min(J,G+1)),disabled:N===J,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Successiva"})]})]});return m?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):E?l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:E}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"lg:hidden bg-gray-800 p-4 sticky top-0 z-30 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>_(!C),className:"p-2 text-gray-400 hover:text-white rounded-lg bg-gray-700",children:l.jsx(bu,{size:20})}),l.jsx("button",{onClick:()=>w(!v),className:"p-2 text-gray-400 hover:text-white rounded-lg bg-gray-700",children:v?l.jsx($n,{size:20}):l.jsx(pN,{size:20})})]})]}),l.jsxs(cn,{children:[v&&l.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-gray-700 rounded-lg",children:[l.jsxs("button",{onClick:()=>{e("bookings"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(Cn,{size:18}),"Prenotazioni"]}),l.jsxs("button",{onClick:()=>{e("gallery"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(Ps,{size:18}),"Gallerie"]}),l.jsxs("button",{onClick:()=>{e("products"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(Sv,{size:18}),"Prodotti"]}),l.jsxs("button",{onClick:()=>{e("subscriptions"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="subscriptions"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(Wo,{size:18}),"Abbonamenti"]})]})}),C&&t==="bookings"&&l.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4",children:l.jsx(iU,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(I==null?void 0:I.serviceTypes)||[],onSearchChange:c,onStatusFilterChange:h,onServiceFilterChange:g})})]})]}),l.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>e("bookings"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(Cn,{size:20}),"Prenotazioni"]}),l.jsxs("button",{onClick:()=>e("products"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(Sv,{size:20}),"Prodotti"]}),l.jsxs("button",{onClick:()=>e("gallery"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(Ps,{size:20}),"Gallerie"]})]}),l.jsx("div",{className:"flex gap-4",children:t==="bookings"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(eA,{size:20}),"Nuova Prenotazione"]}),l.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(Dr,{size:20}),"Impostazioni"]})]})})]}),t==="products"&&l.jsx(Zre,{}),t==="subscriptions"&&l.jsx(FR,{}),t==="bookings"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl text-white text-center mb-8 font-marquee",children:"Gestione Prenotazioni"}),n&&I&&l.jsx(Jre,{settings:I,onSave:Op,onClose:()=>r(!1)}),l.jsx("div",{className:"hidden lg:block",children:l.jsx(iU,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(I==null?void 0:I.serviceTypes)||[],onSearchChange:c,onStatusFilterChange:h,onServiceFilterChange:g})}),l.jsx("div",{className:"lg:hidden grid grid-cols-1 gap-4",children:H.map(G=>{var fe;return l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-700 p-4 rounded-lg ${G.hasNewSelection?"bg-green-500/20 border border-green-500":""}`,onClick:()=>ee(G),children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-white font-medium",children:[G.firstName," ",G.lastName]}),l.jsxs("p",{className:"text-sm text-gray-400",children:[G.booking_date," ",G.booking_time]})]}),l.jsx("div",{className:"px-2 py-1 rounded-full text-sm",style:{backgroundColor:R(G.status)},children:(fe=k.find(Be=>Be.id===G.status))==null?void 0:fe.name})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[l.jsxs("p",{children:["#",G.ticket_number]}),l.jsx("p",{children:Ae(G.service_type)})]}),G.hasNewSelection&&l.jsx("div",{className:"mt-2 px-2 py-1 text-xs bg-green-500 text-white rounded-full inline-block",children:"Nuova selezione"})]},G.id)})}),l.jsx("div",{className:"hidden lg:block",children:l.jsx(jre,{bookings:H,serviceTypes:(I==null?void 0:I.serviceTypes)||[],bookingStatuses:k,getServiceLabel:Ae,getStatusColor:R})}),J>1&&l.jsxs("div",{className:"flex justify-between items-center mt-6 bg-gray-700 p-4 rounded-lg",children:[l.jsx("button",{onClick:()=>b(G=>Math.max(1,G-1)),disabled:N===1,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Precedente"}),l.jsxs("span",{className:"text-gray-300",children:["Pagina ",N," di ",J]}),l.jsx("button",{onClick:()=>b(G=>Math.min(J,G+1)),disabled:N===J,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Successiva"})]}),l.jsx(ose,{isOpen:s,onClose:()=>i(!1),onSuccess:()=>{i(!1),De.success("Prenotazione creata con successo")}})]}),t==="gallery"&&W()]})},hse=[{icon:nA,label:"Profilo",path:"/profile"},{icon:ac,label:"Sicurezza",path:"/profile/security"}],QR=()=>{const t=fA(),e=ol();return l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:l.jsx("nav",{children:l.jsx("ul",{className:"space-y-2",children:hse.map(n=>l.jsx("li",{children:l.jsxs(z.button,{whileHover:{x:4},onClick:()=>e(n.path),className:`w-full flex items-center gap-3 px-4 py-2 rounded transition-colors ${t.pathname===n.path?"bg-[--theater-gold] text-black":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[l.jsx(n.icon,{size:18}),n.label]})},n.path))})})})}),l.jsx("div",{className:"md:col-span-3",children:l.jsx(US,{})})]})})})},NR=()=>{const{user:t}=si(),[e,n]=U.useState(!1),[r,s]=U.useState(null),[i,A]=U.useState(!1),[a,o]=U.useState({displayName:(t==null?void 0:t.displayName)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",customUrl:""}),c=async u=>{if(u.preventDefault(),!!t){n(!0),s(null),A(!1);try{await sV(t,{displayName:a.displayName}),A(!0)}catch(h){console.error("Error updating profile:",h),s("Errore durante l'aggiornamento del profilo")}finally{n(!1)}}};return l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(nA,{className:"text-[--theater-gold]"}),"Profilo"]}),r&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),r]}),i&&l.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6",children:"Profilo aggiornato con successo!"}),l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Email"}),l.jsxs("div",{className:"flex items-center gap-2 text-white bg-gray-700 p-3 rounded",children:[l.jsx(fl,{className:"text-[--theater-gold]",size:20}),t==null?void 0:t.email]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",value:a.phoneNumber,onChange:u=>o({...a,phoneNumber:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il tuo numero"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Nome Azienda"}),l.jsxs("div",{className:"relative",children:[l.jsx(e9,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a.displayName,onChange:u=>o({...a,displayName:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome della tua azienda"})]})]})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Personalizzazione Pagina Prenotazioni"}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Personalizza l'URL della tua pagina di prenotazioni."}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("input",{type:"text",value:a.customUrl,onChange:u=>o({...a,customUrl:u.target.value}),className:"flex-1 p-3 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"URL personalizzato (es: /booking/your-business)"})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[e?l.jsx("span",{className:"animate-spin",children:""}):l.jsx($g,{size:20}),"Salva Modifiche"]})})]})]})})},fse=()=>{const{subscription:t}=si();if(!t)return l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 rounded-lg p-6 flex items-start gap-4",children:[l.jsx(ln,{className:"w-6 h-6 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-red-500",children:"Nessun abbonamento attivo"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Per utilizzare tutte le funzionalit, attiva un abbonamento."})]})]});const e=t.status==="active",n=new Date(t.endDate),r=Dp(n)?g4(n,new Date):0;return l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:`rounded-lg p-6 flex items-start gap-4 ${e?"bg-green-500/10 border border-green-500":"bg-red-500/10 border border-red-500"}`,children:[e?l.jsx(t9,{className:"w-6 h-6 text-green-500 mt-1"}):l.jsx(y9,{className:"w-6 h-6 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h3",{className:"text-lg font-medium text-white",children:["Piano ",t.plan==="monthly"?"Mensile":"Annuale"]}),l.jsx("span",{className:`px-2 py-0.5 rounded text-sm ${e?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e?"Attivo":"Scaduto"})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[Dp(n)&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[l.jsx(Cn,{className:"w-4 h-4"}),l.jsxs("span",{children:["Scade il ",et(n,"d MMMM yyyy",{locale:gs}),e&&r>0&&` (${r} giorni rimanenti)`]})]}),t.paypalSubscriptionId&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[l.jsx(_u,{className:"w-4 h-4"}),l.jsx("span",{children:"Rinnovo automatico attivo"})]})]})]})]}),t.plan==="trial"&&l.jsxs("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-6",children:[l.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Piano di prova"}),l.jsxs("p",{className:"text-gray-400",children:["Stai utilizzando il piano di prova gratuito. Hai ancora ",t.maxBookings-t.bookingsUsed," prenotazioni disponibili."]})]}),!e&&l.jsx(z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Rinnova Abbonamento"})]})},pse=()=>l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(_u,{className:"text-[--theater-gold]"}),"Abbonamento"]}),l.jsx(fse,{})]}),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Storico Fatturazione"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Data"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Importo"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Fattura"})]})}),l.jsx("tbody",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("td",{className:"py-3 text-white",children:"01/01/2024"}),l.jsx("td",{className:"py-3 text-white",children:"20.00"}),l.jsx("td",{className:"py-3",children:l.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Pagato"})}),l.jsx("td",{className:"py-3",children:l.jsx("button",{className:"text-[--theater-gold] hover:underline",children:"Scarica PDF"})})]})})]})})]})]}),gse=()=>{var m,y,E;const[t,e]=U.useState(""),[n,r]=U.useState(""),[s,i]=U.useState(""),[A,a]=U.useState(!1),[o,c]=U.useState(null),[u,h]=U.useState(!1),f=async x=>{if(x.preventDefault(),!!vn.currentUser){if(n!==s){c("Le password non coincidono");return}a(!0),c(null),h(!1);try{await iV(vn.currentUser,n),h(!0),e(""),r(""),i("")}catch(v){console.error("Error updating password:",v),c("Errore durante l'aggiornamento della password")}finally{a(!1)}}},g=async()=>{if(vn.currentUser){a(!0),c(null),h(!1);try{await nV(vn.currentUser),h(!0)}catch(x){console.error("Error sending verification email:",x),c("Errore durante l'invio dell'email di verifica")}finally{a(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[o&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),o]}),u&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(An,{size:20}),(m=vn.currentUser)!=null&&m.emailVerified?"Password aggiornata con successo!":"Email di verifica inviata con successo!"]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Password Attuale"}),l.jsxs("div",{className:"relative",children:[l.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:t,onChange:x=>e(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuova Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:n,onChange:x=>r(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Conferma Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:s,onChange:x=>i(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),l.jsx("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:A?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Aggiornamento in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ac,{size:20}),"Aggiorna Password"]})})]}),l.jsx("div",{className:"border-t border-gray-700 pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Verifica Email"}),l.jsx("p",{className:"text-gray-400",children:(y=vn.currentUser)!=null&&y.emailVerified?"La tua email  verificata":"Verifica la tua email per accedere a tutte le funzionalit"})]}),!((E=vn.currentUser)!=null&&E.emailVerified)&&l.jsxs("button",{onClick:g,disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[A?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(fl,{size:20}),"Invia Verifica"]})]})})]})},kR=()=>l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(h9,{className:"text-[--theater-gold]"}),"Sicurezza"]}),l.jsx(gse,{})]})}),mse=async(t,e)=>{try{const n=Ve(me,"notification_settings",t);return await Og(n,{settings:e.reduce((r,s)=>({...r,[s.id]:{enabled:s.enabled,template:s.template}}),{}),updatedAt:new Date}),await Or(St(me,"notification_logs"),{userId:t,type:"settings_update",timestamp:new Date,details:{settings:e}}),!0}catch(n){throw console.error("Error saving notification settings:",n),n}},yse=async t=>{try{const e=Ve(me,"notification_settings",t),n=await Mr(e);return n.exists()?n.data():{settings:{subscription_expiring:{enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},subscription_expired:{enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},subscription_renewed:{enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}}}}catch(e){throw console.error("Error getting notification settings:",e),e}},vse=[{id:"subscription_expiring",enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},{id:"subscription_expired",enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},{id:"subscription_renewed",enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}],wse=()=>{const{user:t}=si(),[e,n]=U.useState(vse),[r,s]=U.useState(null),[i,A]=U.useState(!1),[a,o]=U.useState(null),[c,u]=U.useState(!1);U.useEffect(()=>{(async()=>{if(t)try{const g=await yse(t.uid);if(g){const m=Object.entries(g.settings).map(([y,E])=>({id:y,...E}));n(m)}}catch(g){console.error("Error loading notification settings:",g),o("Errore nel caricamento delle preferenze di notifica")}})()},[t]);const h=async()=>{if(!t){o("Utente non autenticato");return}A(!0),o(null),u(!1);try{await mse(t.uid,e),e.some(f=>f.enabled)?await Zp(t.email,{type:"custom",message:"Questa  una notifica di test. Le tue preferenze di notifica sono state aggiornate con successo!"})?u(!0):o("Le preferenze sono state salvate ma non  stato possibile inviare la notifica di test"):u(!0),s(null)}catch(f){console.error("Error saving notification settings:",f),o("Errore durante il salvataggio delle preferenze")}finally{A(!1)}};return l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Uv,{className:"text-[--theater-gold]"}),"Notifiche"]}),a&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),a]}),c&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(An,{size:20}),"Preferenze salvate con successo"]}),l.jsx("div",{className:"space-y-6",children:e.map(f=>l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.enabled,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,enabled:g.target.checked}:y);n(m)},className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[--theater-gold]"})]}),l.jsxs("h3",{className:"text-lg font-medium text-white",children:[f.id==="subscription_expiring"&&"Abbonamento in Scadenza",f.id==="subscription_expired"&&"Abbonamento Scaduto",f.id==="subscription_renewed"&&"Abbonamento Rinnovato"]})]}),l.jsx("button",{onClick:()=>s(r===f.id?null:f.id),className:"text-[--theater-gold] hover:text-yellow-500 transition-colors",children:r===f.id?"Chiudi":"Personalizza"})]}),r===f.id&&l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Oggetto Email"}),l.jsx("input",{type:"text",value:f.template.subject,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,subject:g.target.value}}:y);n(m)},className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Testo Email"}),l.jsx("textarea",{value:f.template.body,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,body:g.target.value}}:y);n(m)},rows:4,className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[l.jsx("p",{children:"Variabili disponibili:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1",children:[f.id==="subscription_expiring"&&l.jsxs("li",{children:["{days_left}"," - Giorni rimanenti alla scadenza"]}),f.id==="subscription_renewed"&&l.jsxs("li",{children:["{expiry_date}"," - Data di scadenza del nuovo abbonamento"]})]})]})]})]},f.id))}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:h,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx($g,{size:20}),"Salva Preferenze"]})})})]})})},Bse=async(t,e,n,r)=>{var s;try{const i=new Date,A=new Date(i);A.setMonth(A.getMonth()+(e==="yearly"?12:1));const a=Ve(me,"subscriptions",t),o=Ve(me,"users",t),u=(s=(await Mr(o)).data())==null?void 0:s.email;await Og(a,{userId:t,plan:e,status:"active",startDate:i,endDate:A,maxBookings:e==="yearly"?1e3:100,bookingsUsed:0,...n==="stripe"&&{stripeSubscriptionId:r},...n==="paypal"&&{paypalSubscriptionId:r},updatedAt:Hn()},{merge:!0}),await Er(o,{"subscription.status":"active","subscription.plan":e,"subscription.endDate":A,updatedAt:Hn()}),u&&await Zp(u,{type:"extension",endDate:A})}catch(i){throw console.error("Error activating subscription:",i),i}},xse=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[s,i]=U.useState(null),[A,a]=U.useState(""),[o,c]=U.useState("all"),[u,h]=U.useState("all"),[f,g]=U.useState(null),[m,y]=U.useState(!1);U.useEffect(()=>{const w=St(me,"users"),F=ds(w,Ys("createdAt","desc")),T=hl(F,N=>{const b=N.docs.map(C=>{var _,I,k,R;return{id:C.id,...C.data(),createdAt:(_=C.data().createdAt)==null?void 0:_.toDate(),updatedAt:(I=C.data().updatedAt)==null?void 0:I.toDate(),lastLoginAt:(k=C.data().lastLoginAt)==null?void 0:k.toDate(),subscription:C.data().subscription?{...C.data().subscription,endDate:(R=C.data().subscription.endDate)==null?void 0:R.toDate()}:void 0}});e(b),r(!1)},N=>{console.error("Error fetching users:",N),i("Errore nel caricamento degli utenti"),r(!1)});return()=>T()},[]);const E=async(w,F)=>{y(!0),i(null);try{await Bse(w,"monthly","admin_activation"),await Er(Ve(me,"users",w),{subscription:{status:"active",plan:"monthly",endDate:new Date(Date.now()+30*24*60*60*1e3)},updatedAt:new Date})}catch(T){console.error("Error activating subscription:",T),i("Errore durante l'attivazione dell'abbonamento")}finally{y(!1)}},x=async(w,F)=>{try{await Er(Ve(me,"users",w),{status:F,updatedAt:new Date})}catch(T){console.error("Error updating user status:",T),i("Errore durante l'aggiornamento dello stato utente")}},v=t.filter(w=>{var b;const F=w.email.toLowerCase().includes(A.toLowerCase())||((b=w.displayName)==null?void 0:b.toLowerCase().includes(A.toLowerCase())),T=o==="all"||w.role===o,N=u==="all"||w.status===u;return F&&T&&N});return n?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Wo,{className:"text-[--theater-gold]"}),"Gestione Utenti"]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:l.jsx(mN,{size:20})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Wg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per email o nome...",value:A,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bu,{className:"text-gray-400"}),l.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti i ruoli"}),l.jsx("option",{value:"user",children:"Utenti"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bu,{className:"text-gray-400"}),l.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),l.jsx("option",{value:"active",children:"Attivi"}),l.jsx("option",{value:"suspended",children:"Sospesi"}),l.jsx("option",{value:"pending",children:"In attesa"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Nome"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ruolo"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Abbonamento"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ultimo Accesso"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),l.jsx("tbody",{children:v.map(w=>{var F;return l.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[l.jsx("td",{className:"p-4 text-white",children:w.email}),l.jsx("td",{className:"p-4 text-white",children:w.displayName||"-"}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:w.role==="admin"?"Admin":"Utente"})}),l.jsx("td",{className:"p-4",children:l.jsxs("select",{value:w.status,onChange:T=>x(w.id,T.target.value),className:`px-3 py-1 rounded text-sm ${w.status==="active"?"bg-green-500/20 text-green-400":w.status==="suspended"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[l.jsx("option",{value:"active",children:"Attivo"}),l.jsx("option",{value:"suspended",children:"Sospeso"}),l.jsx("option",{value:"pending",children:"In attesa"})]})}),l.jsx("td",{className:"p-4",children:w.subscription?l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.subscription.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:w.subscription.status==="active"?`${w.subscription.plan} (attivo)`:"Scaduto"}):l.jsxs("button",{onClick:()=>E(w.id,w.email),disabled:m,className:"flex items-center gap-2 px-3 py-1 bg-[--theater-gold] text-black rounded-full text-sm hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[m?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(yb,{size:14}),"Attiva"]})}),l.jsx("td",{className:"p-4 text-gray-400",children:((F=w.lastLoginAt)==null?void 0:F.toLocaleDateString())||"Mai"}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>g(w),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:l.jsx(yb,{size:18})})})]},w.id)})})]})})]})})})},Cse=()=>{const{user:t,isAdmin:e}=si(),n=ol();if(!t)return l.jsx(Bo,{to:"/login",replace:!0});if(!e)return l.jsx(Bo,{to:"/",replace:!0});const r=async()=>{try{await vn.signOut(),n("/")}catch(s){console.error("Error signing out:",s)}};return l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(Xf,{to:"/dashboard",className:"text-2xl font-marquee text-[--theater-gold]",children:"Booking Manager"}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:[l.jsx(nA,{size:18}),l.jsx("span",{className:"max-w-[150px] truncate",children:t==null?void 0:t.email})]}),l.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[l.jsx(Xf,{to:"/dashboard/profile",className:"block px-4 py-2 text-white hover:bg-gray-600 transition-colors",children:"Profilo"}),l.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-600 transition-colors flex items-center gap-2",children:[l.jsx(fN,{size:18}),"Esci"]})]})]})})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(FS,{children:[l.jsx(Tt,{path:"/",element:l.jsx(dse,{})}),l.jsx(Tt,{path:"users",element:l.jsx(xse,{})}),l.jsx(Tt,{path:"subscriptions",element:l.jsx(FR,{})}),l.jsxs(Tt,{path:"profile/*",element:l.jsx(QR,{}),children:[l.jsx(Tt,{index:!0,element:l.jsx(NR,{})}),l.jsx(Tt,{path:"subscription",element:l.jsx(pse,{})}),l.jsx(Tt,{path:"security",element:l.jsx(kR,{})}),l.jsx(Tt,{path:"notifications",element:l.jsx(wse,{})})]}),l.jsx(Tt,{path:"*",element:l.jsx(Bo,{to:"/dashboard",replace:!0})})]})})]})},Ese=()=>l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx(cN,{className:"w-24 h-24 text-[--theater-gold]"})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Pagina non trovata"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"La pagina che stai cercando non esiste o  stata spostata."}),l.jsxs(Xf,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(hN,{size:20}),"Torna alla Home"]})]})}),_se=()=>{const t=ol(),e=fA(),{user:n}=si(),[r,s]=U.useState(null);return U.useEffect(()=>{(async()=>{if(n)try{const a=new URLSearchParams(e.search).get("code");if(!a)throw new Error("Codice di autorizzazione mancante");await eY(a,n.uid);const o=sessionStorage.getItem("calendarReturnTo")||"/dashboard";sessionStorage.removeItem("calendarReturnTo"),t(o)}catch(A){console.error("Error handling calendar callback:",A),s("Errore durante la connessione a Google Calendar")}})()},[n,e.search,t]),l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center",children:[l.jsx(Cn,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-6"}),r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 mb-4",children:[l.jsx(ln,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Errore di Connessione"})]}),l.jsx("p",{className:"text-gray-400",children:r})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500 mb-4",children:[l.jsx(An,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Connessione in corso..."})]}),l.jsx("p",{className:"text-gray-400",children:"Stiamo connettendo il tuo Google Calendar..."})]})]})})},bse=()=>{const{bookingId:t}=dj(),[e,n]=U.useState([]),[r,s]=U.useState(null),[i,A]=U.useState(!0),[a,o]=U.useState(null),[c,u]=U.useState([]),[h,f]=U.useState(null),[g,m]=U.useState(!1);U.useEffect(()=>{(async()=>{if(t){A(!0),o(null);try{const w=await Mr(Ve(me,"bookings",t));if(!w.exists()){o("Galleria non trovata");return}s(w.data());const F=St(me,"galleries"),T=ds(F,la("bookingId","==",t),Ys("uploadedAt","desc")),b=(await Cu(T)).docs.map(C=>({id:C.id,...C.data()}));n(b)}catch(w){console.error("Error loading gallery:",w),o("Errore nel caricamento della galleria")}finally{A(!1)}}})()},[t]);const y=v=>{u(w=>w.includes(v)?w.filter(F=>F!==v):[...w,v]),m(!1)},E=async()=>{if(!(!t||c.length===0))try{await Or(St(me,"photo_selections"),{bookingId:t,photoIds:c,createdAt:new Date}),m(!0),De.success("Selezione salvata con successo!")}catch(v){console.error("Error saving selection:",v),De.error("Errore nel salvataggio della selezione")}},x=()=>{navigator.share?navigator.share({title:"La mia galleria fotografica",url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>De.success("Link copiato negli appunti")).catch(()=>De.error("Errore nella copia del link"))};return i?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin text-[--theater-gold] text-4xl",children:""})}):a||!r?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-6 rounded-lg max-w-md w-full flex items-center gap-3",children:[l.jsx(ln,{size:24}),l.jsx("p",{children:a||"Galleria non trovata"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx(Dr,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"La tua Galleria Fotografica"}),l.jsx("p",{className:"text-gray-400",children:"Seleziona le tue foto preferite"})]}),l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"text-gray-400",children:[c.length," foto selezionate"]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(qg,{size:20}),"Condividi"]}),c.length>0&&l.jsxs("button",{onClick:E,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[l.jsx(An,{size:20}),g?"Selezione Salvata":"Conferma Selezione"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((v,w)=>l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"relative group",children:[l.jsx("img",{src:v.url,alt:v.name,className:"w-full aspect-square object-cover rounded-lg cursor-pointer",onClick:()=>f(w)}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-4",children:[l.jsx("button",{onClick:F=>{F.stopPropagation(),y(v.id)},className:`p-3 rounded-full transition-colors ${c.includes(v.id)?"bg-[--theater-gold] text-black":"bg-white/20 text-white hover:bg-white/30"}`,children:l.jsx(dN,{size:24,className:c.includes(v.id)?"fill-current":""})}),l.jsx("a",{href:v.url,download:!0,onClick:F=>F.stopPropagation(),className:"p-3 bg-white/20 text-white rounded-full hover:bg-white/30 transition-colors",children:l.jsx(Io,{size:24})})]}),c.includes(v.id)&&l.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 bg-[--theater-gold] rounded-full flex items-center justify-center",children:l.jsx(An,{className:"w-5 h-5 text-black"})})]},v.id))}),l.jsx(cn,{children:h!==null&&l.jsx(SR,{photos:e,currentIndex:h,onClose:()=>f(null),onNext:()=>f(v=>v!==null&&v<e.length-1?v+1:v),onPrev:()=>f(v=>v!==null&&v>0?v-1:v),onFavorite:y,favorites:c})}),c.length>0&&l.jsx(z.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-0 inset-x-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[l.jsxs("div",{className:"text-white",children:[c.length," foto selezionate"]}),l.jsxs("button",{onClick:E,disabled:g,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[l.jsx(An,{size:20}),g?"Selezione Salvata":"Conferma Selezione"]})]})})]})})},Tse="/carnival2025",Ise=()=>(si(),l.jsxs(FS,{children:[l.jsx(Tt,{path:"/",element:l.jsx(Bo,{to:"/prenota",replace:!0})}),l.jsxs(Tt,{element:l.jsx(X7,{}),children:[l.jsx(Tt,{path:"/prenota",element:l.jsx(Ure,{})}),l.jsx(Tt,{path:"/dashboard/*",element:l.jsx(wb,{requireAdmin:!0,children:l.jsx(Cse,{})})}),l.jsxs(Tt,{path:"/profile",element:l.jsx(wb,{children:l.jsx(QR,{})}),children:[l.jsx(Tt,{index:!0,element:l.jsx(NR,{})}),l.jsx(Tt,{path:"security",element:l.jsx(kR,{})})]}),l.jsx(Tt,{path:"/gallery/:bookingId",element:l.jsx(bse,{})}),l.jsx(Tt,{path:"/calendar/callback",element:l.jsx(_se,{})}),l.jsx(Tt,{path:"/404",element:l.jsx(Ese,{})}),l.jsx(Tt,{path:"*",element:l.jsx(Bo,{to:"/404",replace:!0})})]})]})),Use=()=>l.jsx(B9,{children:l.jsx(az,{children:l.jsx(Nj,{basename:Tse,children:l.jsxs(sz,{children:[l.jsx(Ise,{}),l.jsx(Yz,{position:"top-right",toastOptions:{style:{background:"#333",color:"#fff",borderRadius:"8px"},success:{iconTheme:{primary:"#FFD700",secondary:"#000"}},error:{iconTheme:{primary:"#ff4b4b",secondary:"#fff"}}}})]})})})}),RR=document.getElementById("root");if(!RR)throw new Error("Failed to find the root element");BB(RR).render(l.jsx(U.StrictMode,{children:l.jsx(Use,{})}));
