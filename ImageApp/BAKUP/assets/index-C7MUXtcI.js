function wP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function BP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wU={exports:{}},ag={},BU={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed=Symbol.for("react.element"),xP=Symbol.for("react.portal"),CP=Symbol.for("react.fragment"),EP=Symbol.for("react.strict_mode"),_P=Symbol.for("react.profiler"),bP=Symbol.for("react.provider"),TP=Symbol.for("react.context"),IP=Symbol.for("react.forward_ref"),UP=Symbol.for("react.suspense"),FP=Symbol.for("react.memo"),SP=Symbol.for("react.lazy"),NE=Symbol.iterator;function NP(t){return t===null||typeof t!="object"?null:(t=NE&&t[NE]||t["@@iterator"],typeof t=="function"?t:null)}var xU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CU=Object.assign,EU={};function al(t,e,n){this.props=t,this.context=e,this.refs=EU,this.updater=n||xU}al.prototype.isReactComponent={};al.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};al.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _U(){}_U.prototype=al.prototype;function Rw(t,e,n){this.props=t,this.context=e,this.refs=EU,this.updater=n||xU}var Pw=Rw.prototype=new _U;Pw.constructor=Rw;CU(Pw,al.prototype);Pw.isPureReactComponent=!0;var QE=Array.isArray,bU=Object.prototype.hasOwnProperty,Dw={current:null},TU={key:!0,ref:!0,__self:!0,__source:!0};function IU(t,e,n){var r,s={},i=null,A=null;if(e!=null)for(r in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)bU.call(e,r)&&!TU.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ed,type:t,key:i,ref:A,props:s,_owner:Dw.current}}function QP(t,e){return{$$typeof:ed,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lw(t){return typeof t=="object"&&t!==null&&t.$$typeof===ed}function kP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kE=/\/+/g;function jm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kP(""+t.key):e.toString(36)}function Yh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case ed:case xP:A=!0}}if(A)return A=t,s=s(A),t=r===""?"."+jm(A,0):r,QE(s)?(n="",t!=null&&(n=t.replace(kE,"$&/")+"/"),Yh(s,e,n,"",function(c){return c})):s!=null&&(Lw(s)&&(s=QP(s,n+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(kE,"$&/")+"/")+t)),e.push(s)),1;if(A=0,r=r===""?".":r+":",QE(t))for(var a=0;a<t.length;a++){i=t[a];var o=r+jm(i,a);A+=Yh(i,e,n,o,s)}else if(o=NP(t),typeof o=="function")for(t=o.call(t),a=0;!(i=t.next()).done;)i=i.value,o=r+jm(i,a++),A+=Yh(i,e,n,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Xd(t,e,n){if(t==null)return t;var r=[],s=0;return Yh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Jh={transition:null},PP={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Jh,ReactCurrentOwner:Dw};function UU(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Xd,forEach:function(t,e,n){Xd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xd(t,function(){e++}),e},toArray:function(t){return Xd(t,function(e){return e})||[]},only:function(t){if(!Lw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=al;Ue.Fragment=CP;Ue.Profiler=_P;Ue.PureComponent=Rw;Ue.StrictMode=EP;Ue.Suspense=UP;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PP;Ue.act=UU;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=CU({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=Dw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)bU.call(e,o)&&!TU.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var c=0;c<o;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ed,type:t.type,key:s,ref:i,props:r,_owner:A}};Ue.createContext=function(t){return t={$$typeof:TP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bP,_context:t},t.Consumer=t};Ue.createElement=IU;Ue.createFactory=function(t){var e=IU.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:IP,render:t}};Ue.isValidElement=Lw;Ue.lazy=function(t){return{$$typeof:SP,_payload:{_status:-1,_result:t},_init:RP}};Ue.memo=function(t,e){return{$$typeof:FP,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=Jh.transition;Jh.transition={};try{t()}finally{Jh.transition=e}};Ue.unstable_act=UU;Ue.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Ue.useContext=function(t){return Dn.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Ue.useId=function(){return Dn.current.useId()};Ue.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Ue.useRef=function(t){return Dn.current.useRef(t)};Ue.useState=function(t){return Dn.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Dn.current.useTransition()};Ue.version="18.3.1";BU.exports=Ue;var I=BU.exports;const tt=BP(I),DP=wP({__proto__:null,default:tt},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LP=I,jP=Symbol.for("react.element"),MP=Symbol.for("react.fragment"),OP=Object.prototype.hasOwnProperty,VP=LP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HP={key:!0,ref:!0,__self:!0,__source:!0};function FU(t,e,n){var r,s={},i=null,A=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(r in e)OP.call(e,r)&&!HP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jP,type:t,key:i,ref:A,props:s,_owner:VP.current}}ag.Fragment=MP;ag.jsx=FU;ag.jsxs=FU;wU.exports=ag;var l=wU.exports,SU={exports:{}},or={},NU={exports:{}},QU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var W=L.length;L.push(H);e:for(;0<W;){var G=W-1>>>1,fe=L[G];if(0<s(fe,H))L[G]=H,L[W]=fe,W=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],W=L.pop();if(W!==H){L[0]=W;e:for(var G=0,fe=L.length,Be=fe>>>1;G<Be;){var Je=2*(G+1)-1,Ge=L[Je],st=Je+1,ut=L[st];if(0>s(Ge,W))st<fe&&0>s(ut,Ge)?(L[G]=ut,L[st]=W,G=st):(L[G]=Ge,L[Je]=W,G=Je);else if(st<fe&&0>s(ut,W))L[G]=ut,L[st]=W,G=st;else break e}}return H}function s(L,H){var W=L.sortIndex-H.sortIndex;return W!==0?W:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],c=[],u=1,h=null,f=3,g=!1,m=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=L)r(c),H.sortIndex=H.expirationTime,e(o,H);else break;H=n(c)}}function F(L){if(y=!1,w(L),!m)if(n(o)!==null)m=!0,K(T);else{var H=n(c);H!==null&&J(F,H.startTime-L)}}function T(L,H){m=!1,y&&(y=!1,x(C),C=-1),g=!0;var W=f;try{for(w(H),h=n(o);h!==null&&(!(h.expirationTime>H)||L&&!k());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var fe=G(h.expirationTime<=H);H=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(o)&&r(o),w(H)}else r(o);h=n(o)}if(h!==null)var Be=!0;else{var Je=n(c);Je!==null&&J(F,Je.startTime-H),Be=!1}return Be}finally{h=null,f=W,g=!1}}var Q=!1,b=null,C=-1,_=5,U=-1;function k(){return!(t.unstable_now()-U<_)}function R(){if(b!==null){var L=t.unstable_now();U=L;var H=!0;try{H=b(!0,L)}finally{H?S():(Q=!1,b=null)}}else Q=!1}var S;if(typeof v=="function")S=function(){v(R)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Ae=ee.port2;ee.port1.onmessage=R,S=function(){Ae.postMessage(null)}}else S=function(){E(R,0)};function K(L){b=L,Q||(Q=!0,S())}function J(L,H){C=E(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,K(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var W=f;f=H;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return H()}finally{f=W}},t.unstable_scheduleCallback=function(L,H,W){var G=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=W+fe,L={id:u++,callback:H,priorityLevel:L,startTime:W,expirationTime:fe,sortIndex:-1},W>G?(L.sortIndex=W,e(c,L),n(o)===null&&L===n(c)&&(y?(x(C),C=-1):y=!0,J(F,W-G))):(L.sortIndex=fe,e(o,L),m||g||(m=!0,K(T))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var H=f;return function(){var W=f;f=H;try{return L.apply(this,arguments)}finally{f=W}}}})(QU);NU.exports=QU;var KP=NU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=I,ir=KP;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kU=new Set,Zc={};function ga(t,e){Do(t,e),Do(t+"Capture",e)}function Do(t,e){for(Zc[t]=e,t=0;t<e.length;t++)kU.add(e[t])}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),py=Object.prototype.hasOwnProperty,GP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RE={},PE={};function $P(t){return py.call(PE,t)?!0:py.call(RE,t)?!1:GP.test(t)?PE[t]=!0:(RE[t]=!0,!1)}function WP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qP(t,e,n,r){if(e===null||typeof e>"u"||WP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var jw=/[\-:]([a-z])/g;function Mw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jw,Mw);cn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jw,Mw);cn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jw,Mw);cn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ow(t,e,n,r){var s=cn.hasOwnProperty(e)?cn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qP(e,n,s,r)&&(n=null),r||s===null?$P(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var si=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yd=Symbol.for("react.element"),Xa=Symbol.for("react.portal"),Ya=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),gy=Symbol.for("react.profiler"),RU=Symbol.for("react.provider"),PU=Symbol.for("react.context"),Hw=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),yy=Symbol.for("react.suspense_list"),Kw=Symbol.for("react.memo"),pi=Symbol.for("react.lazy"),DU=Symbol.for("react.offscreen"),DE=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=DE&&t[DE]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,Mm;function rc(t){if(Mm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mm=e&&e[1]||""}return`
`+Mm+t}var Om=!1;function Vm(t,e){if(!t||Om)return"";Om=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var o=`
`+s[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{Om=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rc(t):""}function XP(t){switch(t.tag){case 5:return rc(t.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return t=Vm(t.type,!1),t;case 11:return t=Vm(t.type.render,!1),t;case 1:return t=Vm(t.type,!0),t;default:return""}}function vy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ya:return"Fragment";case Xa:return"Portal";case gy:return"Profiler";case Vw:return"StrictMode";case my:return"Suspense";case yy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PU:return(t.displayName||"Context")+".Consumer";case RU:return(t._context.displayName||"Context")+".Provider";case Hw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kw:return e=t.displayName||null,e!==null?e:vy(t.type)||"Memo";case pi:e=t._payload,t=t._init;try{return vy(t(e))}catch{}}return null}function YP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vy(e);case 8:return e===Vw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JP(t){var e=LU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){r=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jd(t){t._valueTracker||(t._valueTracker=JP(t))}function jU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wy(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MU(t,e){e=e.checked,e!=null&&Ow(t,"checked",e,!1)}function By(t,e){MU(t,e);var n=qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xy(t,e.type,n):e.hasOwnProperty("defaultValue")&&xy(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xy(t,e,n){(e!=="number"||Ff(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sc=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Cy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ME(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(sc(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qi(n)}}function OU(t,e){var n=qi(e.value),r=qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function OE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ey(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zd,HU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zd=Zd||document.createElement("div"),Zd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZP=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){ZP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function KU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function zU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=KU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var eD=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _y(t,e){if(e){if(eD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function by(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function zw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Iy=null,wo=null,Bo=null;function VE(t){if(t=rd(t)){if(typeof Iy!="function")throw Error(X(280));var e=t.stateNode;e&&(e=dg(e),Iy(t.stateNode,t.type,e))}}function GU(t){wo?Bo?Bo.push(t):Bo=[t]:wo=t}function $U(){if(wo){var t=wo,e=Bo;if(Bo=wo=null,VE(t),e)for(t=0;t<e.length;t++)VE(e[t])}}function WU(t,e){return t(e)}function qU(){}var Hm=!1;function XU(t,e,n){if(Hm)return t(e,n);Hm=!0;try{return WU(t,e,n)}finally{Hm=!1,(wo!==null||Bo!==null)&&(qU(),$U())}}function tu(t,e){var n=t.stateNode;if(n===null)return null;var r=dg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Uy=!1;if(Ks)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){Uy=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{Uy=!1}function tD(t,e,n,r,s,i,A,a,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Tc=!1,Sf=null,Nf=!1,Fy=null,nD={onError:function(t){Tc=!0,Sf=t}};function rD(t,e,n,r,s,i,A,a,o){Tc=!1,Sf=null,tD.apply(nD,arguments)}function sD(t,e,n,r,s,i,A,a,o){if(rD.apply(this,arguments),Tc){if(Tc){var c=Sf;Tc=!1,Sf=null}else throw Error(X(198));Nf||(Nf=!0,Fy=c)}}function ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HE(t){if(ma(t)!==t)throw Error(X(188))}function iD(t){var e=t.alternate;if(!e){if(e=ma(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return HE(s),t;if(i===r)return HE(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var A=!1,a=s.child;a;){if(a===n){A=!0,n=s,r=i;break}if(a===r){A=!0,r=s,n=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===n){A=!0,n=i,r=s;break}if(a===r){A=!0,r=i,n=s;break}a=a.sibling}if(!A)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function JU(t){return t=iD(t),t!==null?ZU(t):null}function ZU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZU(t);if(e!==null)return e;t=t.sibling}return null}var eF=ir.unstable_scheduleCallback,KE=ir.unstable_cancelCallback,AD=ir.unstable_shouldYield,aD=ir.unstable_requestPaint,Ut=ir.unstable_now,oD=ir.unstable_getCurrentPriorityLevel,Gw=ir.unstable_ImmediatePriority,tF=ir.unstable_UserBlockingPriority,Qf=ir.unstable_NormalPriority,lD=ir.unstable_LowPriority,nF=ir.unstable_IdlePriority,og=null,rs=null;function cD(t){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(og,t,void 0,(t.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:hD,uD=Math.log,dD=Math.LN2;function hD(t){return t>>>=0,t===0?32:31-(uD(t)/dD|0)|0}var eh=64,th=4194304;function ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,A=n&268435455;if(A!==0){var a=A&~s;a!==0?r=ic(a):(i&=A,i!==0&&(r=ic(i)))}else A=n&~s,A!==0?r=ic(A):i!==0&&(r=ic(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kr(e),s=1<<n,r|=t[n],e&=~s;return r}function fD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-kr(i),a=1<<A,o=s[A];o===-1?(!(a&n)||a&r)&&(s[A]=fD(a,e)):o<=e&&(t.expiredLanes|=a),i&=~a}}function Sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rF(){var t=eh;return eh<<=1,!(eh&4194240)&&(eh=64),t}function Km(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function td(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kr(e),t[e]=n}function gD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $w(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var We=0;function sF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iF,Ww,AF,aF,oF,Ny=!1,nh=[],ki=null,Ri=null,Pi=null,nu=new Map,ru=new Map,yi=[],mD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zE(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(e.pointerId)}}function Ml(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=rd(e),e!==null&&Ww(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yD(t,e,n,r,s){switch(e){case"focusin":return ki=Ml(ki,t,e,n,r,s),!0;case"dragenter":return Ri=Ml(Ri,t,e,n,r,s),!0;case"mouseover":return Pi=Ml(Pi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return nu.set(i,Ml(nu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ru.set(i,Ml(ru.get(i)||null,t,e,n,r,s)),!0}return!1}function lF(t){var e=DA(t.target);if(e!==null){var n=ma(e);if(n!==null){if(e=n.tag,e===13){if(e=YU(n),e!==null){t.blockedOn=e,oF(t.priority,function(){AF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ty=r,n.target.dispatchEvent(r),Ty=null}else return e=rd(n),e!==null&&Ww(e),t.blockedOn=n,!1;e.shift()}return!0}function GE(t,e,n){Zh(t)&&n.delete(e)}function vD(){Ny=!1,ki!==null&&Zh(ki)&&(ki=null),Ri!==null&&Zh(Ri)&&(Ri=null),Pi!==null&&Zh(Pi)&&(Pi=null),nu.forEach(GE),ru.forEach(GE)}function Ol(t,e){t.blockedOn===e&&(t.blockedOn=null,Ny||(Ny=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,vD)))}function su(t){function e(s){return Ol(s,t)}if(0<nh.length){Ol(nh[0],t);for(var n=1;n<nh.length;n++){var r=nh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ki!==null&&Ol(ki,t),Ri!==null&&Ol(Ri,t),Pi!==null&&Ol(Pi,t),nu.forEach(e),ru.forEach(e),n=0;n<yi.length;n++)r=yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yi.length&&(n=yi[0],n.blockedOn===null);)lF(n),n.blockedOn===null&&yi.shift()}var xo=si.ReactCurrentBatchConfig,Rf=!0;function wD(t,e,n,r){var s=We,i=xo.transition;xo.transition=null;try{We=1,qw(t,e,n,r)}finally{We=s,xo.transition=i}}function BD(t,e,n,r){var s=We,i=xo.transition;xo.transition=null;try{We=4,qw(t,e,n,r)}finally{We=s,xo.transition=i}}function qw(t,e,n,r){if(Rf){var s=Qy(t,e,n,r);if(s===null)e0(t,e,r,Pf,n),zE(t,r);else if(yD(s,t,e,n,r))r.stopPropagation();else if(zE(t,r),e&4&&-1<mD.indexOf(t)){for(;s!==null;){var i=rd(s);if(i!==null&&iF(i),i=Qy(t,e,n,r),i===null&&e0(t,e,r,Pf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else e0(t,e,r,null,n)}}var Pf=null;function Qy(t,e,n,r){if(Pf=null,t=zw(r),t=DA(t),t!==null)if(e=ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pf=t,null}function cF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oD()){case Gw:return 1;case tF:return 4;case Qf:case lD:return 16;case nF:return 536870912;default:return 16}default:return 16}}var Ti=null,Xw=null,ef=null;function uF(){if(ef)return ef;var t,e=Xw,n=e.length,r,s="value"in Ti?Ti.value:Ti.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var A=n-t;for(r=1;r<=A&&e[n-r]===s[i-r];r++);return ef=s.slice(t,1<r?1-r:void 0)}function tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rh(){return!0}function $E(){return!1}function lr(t){function e(n,r,s,i,A){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rh:$E,this.isPropagationStopped=$E,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rh)},persist:function(){},isPersistent:rh}),e}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yw=lr(ol),nd=gt({},ol,{view:0,detail:0}),xD=lr(nd),zm,Gm,Vl,lg=gt({},nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(zm=t.screenX-Vl.screenX,Gm=t.screenY-Vl.screenY):Gm=zm=0,Vl=t),zm)},movementY:function(t){return"movementY"in t?t.movementY:Gm}}),WE=lr(lg),CD=gt({},lg,{dataTransfer:0}),ED=lr(CD),_D=gt({},nd,{relatedTarget:0}),$m=lr(_D),bD=gt({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),TD=lr(bD),ID=gt({},ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UD=lr(ID),FD=gt({},ol,{data:0}),qE=lr(FD),SD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ND={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QD[t])?!!e[t]:!1}function Jw(){return kD}var RD=gt({},nd,{key:function(t){if(t.key){var e=SD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ND[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jw,charCode:function(t){return t.type==="keypress"?tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PD=lr(RD),DD=gt({},lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XE=lr(DD),LD=gt({},nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jw}),jD=lr(LD),MD=gt({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),OD=lr(MD),VD=gt({},lg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HD=lr(VD),KD=[9,13,27,32],Zw=Ks&&"CompositionEvent"in window,Ic=null;Ks&&"documentMode"in document&&(Ic=document.documentMode);var zD=Ks&&"TextEvent"in window&&!Ic,dF=Ks&&(!Zw||Ic&&8<Ic&&11>=Ic),YE=" ",JE=!1;function hF(t,e){switch(t){case"keyup":return KD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function GD(t,e){switch(t){case"compositionend":return fF(e);case"keypress":return e.which!==32?null:(JE=!0,YE);case"textInput":return t=e.data,t===YE&&JE?null:t;default:return null}}function $D(t,e){if(Ja)return t==="compositionend"||!Zw&&hF(t,e)?(t=uF(),ef=Xw=Ti=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dF&&e.locale!=="ko"?null:e.data;default:return null}}var WD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WD[t.type]:e==="textarea"}function pF(t,e,n,r){GU(r),e=Df(e,"onChange"),0<e.length&&(n=new Yw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uc=null,iu=null;function qD(t){bF(t,0)}function cg(t){var e=to(t);if(jU(e))return t}function XD(t,e){if(t==="change")return e}var gF=!1;if(Ks){var Wm;if(Ks){var qm="oninput"in document;if(!qm){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),qm=typeof e_.oninput=="function"}Wm=qm}else Wm=!1;gF=Wm&&(!document.documentMode||9<document.documentMode)}function t_(){Uc&&(Uc.detachEvent("onpropertychange",mF),iu=Uc=null)}function mF(t){if(t.propertyName==="value"&&cg(iu)){var e=[];pF(e,iu,t,zw(t)),XU(qD,e)}}function YD(t,e,n){t==="focusin"?(t_(),Uc=e,iu=n,Uc.attachEvent("onpropertychange",mF)):t==="focusout"&&t_()}function JD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cg(iu)}function ZD(t,e){if(t==="click")return cg(e)}function eL(t,e){if(t==="input"||t==="change")return cg(e)}function tL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:tL;function Au(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!py.call(e,s)||!Lr(t[s],e[s]))return!1}return!0}function n_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r_(t,e){var n=n_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n_(n)}}function yF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vF(){for(var t=window,e=Ff();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ff(t.document)}return e}function eB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nL(t){var e=vF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yF(n.ownerDocument.documentElement,n)){if(r!==null&&eB(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=r_(n,i);var A=r_(n,r);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rL=Ks&&"documentMode"in document&&11>=document.documentMode,Za=null,ky=null,Fc=null,Ry=!1;function s_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ry||Za==null||Za!==Ff(r)||(r=Za,"selectionStart"in r&&eB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fc&&Au(Fc,r)||(Fc=r,r=Df(ky,"onSelect"),0<r.length&&(e=new Yw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Za)))}function sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eo={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},Xm={},wF={};Ks&&(wF=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ug(t){if(Xm[t])return Xm[t];if(!eo[t])return t;var e=eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wF)return Xm[t]=e[n];return t}var BF=ug("animationend"),xF=ug("animationiteration"),CF=ug("animationstart"),EF=ug("transitionend"),_F=new Map,i_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uA(t,e){_F.set(t,e),ga(e,[t])}for(var Ym=0;Ym<i_.length;Ym++){var Jm=i_[Ym],sL=Jm.toLowerCase(),iL=Jm[0].toUpperCase()+Jm.slice(1);uA(sL,"on"+iL)}uA(BF,"onAnimationEnd");uA(xF,"onAnimationIteration");uA(CF,"onAnimationStart");uA("dblclick","onDoubleClick");uA("focusin","onFocus");uA("focusout","onBlur");uA(EF,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function A_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sD(r,e,void 0,t),t.currentTarget=null}function bF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var A=r.length-1;0<=A;A--){var a=r[A],o=a.instance,c=a.currentTarget;if(a=a.listener,o!==i&&s.isPropagationStopped())break e;A_(s,a,c),i=o}else for(A=0;A<r.length;A++){if(a=r[A],o=a.instance,c=a.currentTarget,a=a.listener,o!==i&&s.isPropagationStopped())break e;A_(s,a,c),i=o}}}if(Nf)throw t=Fy,Nf=!1,Fy=null,t}function At(t,e){var n=e[My];n===void 0&&(n=e[My]=new Set);var r=t+"__bubble";n.has(r)||(TF(e,t,2,!1),n.add(r))}function Zm(t,e,n){var r=0;e&&(r|=4),TF(n,t,r,e)}var ih="_reactListening"+Math.random().toString(36).slice(2);function au(t){if(!t[ih]){t[ih]=!0,kU.forEach(function(n){n!=="selectionchange"&&(AL.has(n)||Zm(n,!1,t),Zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ih]||(e[ih]=!0,Zm("selectionchange",!1,e))}}function TF(t,e,n,r){switch(cF(e)){case 1:var s=wD;break;case 4:s=BD;break;default:s=qw}n=s.bind(null,e,n,t),s=void 0,!Uy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function e0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=r.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;A=A.return}for(;a!==null;){if(A=DA(a),A===null)return;if(o=A.tag,o===5||o===6){r=i=A;continue e}a=a.parentNode}}r=r.return}XU(function(){var c=i,u=zw(n),h=[];e:{var f=_F.get(t);if(f!==void 0){var g=Yw,m=t;switch(t){case"keypress":if(tf(n)===0)break e;case"keydown":case"keyup":g=PD;break;case"focusin":m="focus",g=$m;break;case"focusout":m="blur",g=$m;break;case"beforeblur":case"afterblur":g=$m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=WE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ED;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jD;break;case BF:case xF:case CF:g=TD;break;case EF:g=OD;break;case"scroll":g=xD;break;case"wheel":g=HD;break;case"copy":case"cut":case"paste":g=UD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=XE}var y=(e&4)!==0,E=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var F=w.stateNode;if(w.tag===5&&F!==null&&(w=F,x!==null&&(F=tu(v,x),F!=null&&y.push(ou(v,F,w)))),E)break;v=v.return}0<y.length&&(f=new g(f,m,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Ty&&(m=n.relatedTarget||n.fromElement)&&(DA(m)||m[zs]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=c,m=m?DA(m):null,m!==null&&(E=ma(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(y=WE,F="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=XE,F="onPointerLeave",x="onPointerEnter",v="pointer"),E=g==null?f:to(g),w=m==null?f:to(m),f=new y(F,v+"leave",g,n,u),f.target=E,f.relatedTarget=w,F=null,DA(u)===c&&(y=new y(x,v+"enter",m,n,u),y.target=w,y.relatedTarget=E,F=y),E=F,g&&m)t:{for(y=g,x=m,v=0,w=y;w;w=Ra(w))v++;for(w=0,F=x;F;F=Ra(F))w++;for(;0<v-w;)y=Ra(y),v--;for(;0<w-v;)x=Ra(x),w--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ra(y),x=Ra(x)}y=null}else y=null;g!==null&&a_(h,f,g,y,!1),m!==null&&E!==null&&a_(h,E,m,y,!0)}}e:{if(f=c?to(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=XD;else if(ZE(f))if(gF)T=eL;else{T=JD;var Q=YD}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=ZD);if(T&&(T=T(t,c))){pF(h,T,n,u);break e}Q&&Q(t,f,c),t==="focusout"&&(Q=f._wrapperState)&&Q.controlled&&f.type==="number"&&xy(f,"number",f.value)}switch(Q=c?to(c):window,t){case"focusin":(ZE(Q)||Q.contentEditable==="true")&&(Za=Q,ky=c,Fc=null);break;case"focusout":Fc=ky=Za=null;break;case"mousedown":Ry=!0;break;case"contextmenu":case"mouseup":case"dragend":Ry=!1,s_(h,n,u);break;case"selectionchange":if(rL)break;case"keydown":case"keyup":s_(h,n,u)}var b;if(Zw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ja?hF(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(dF&&n.locale!=="ko"&&(Ja||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ja&&(b=uF()):(Ti=u,Xw="value"in Ti?Ti.value:Ti.textContent,Ja=!0)),Q=Df(c,C),0<Q.length&&(C=new qE(C,t,null,n,u),h.push({event:C,listeners:Q}),b?C.data=b:(b=fF(n),b!==null&&(C.data=b)))),(b=zD?GD(t,n):$D(t,n))&&(c=Df(c,"onBeforeInput"),0<c.length&&(u=new qE("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}bF(h,e)})}function ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Df(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tu(t,n),i!=null&&r.unshift(ou(t,i,s)),i=tu(t,e),i!=null&&r.push(ou(t,i,s))),t=t.return}return r}function Ra(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a_(t,e,n,r,s){for(var i=e._reactName,A=[];n!==null&&n!==r;){var a=n,o=a.alternate,c=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&c!==null&&(a=c,s?(o=tu(n,i),o!=null&&A.unshift(ou(n,o,a))):s||(o=tu(n,i),o!=null&&A.push(ou(n,o,a)))),n=n.return}A.length!==0&&t.push({event:e,listeners:A})}var aL=/\r\n?/g,oL=/\u0000|\uFFFD/g;function o_(t){return(typeof t=="string"?t:""+t).replace(aL,`
`).replace(oL,"")}function Ah(t,e,n){if(e=o_(e),o_(t)!==e&&n)throw Error(X(425))}function Lf(){}var Py=null,Dy=null;function Ly(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jy=typeof setTimeout=="function"?setTimeout:void 0,lL=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,cL=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(t){return l_.resolve(null).then(t).catch(uL)}:jy;function uL(t){setTimeout(function(){throw t})}function t0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);su(e)}function Di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ll=Math.random().toString(36).slice(2),Yr="__reactFiber$"+ll,lu="__reactProps$"+ll,zs="__reactContainer$"+ll,My="__reactEvents$"+ll,dL="__reactListeners$"+ll,hL="__reactHandles$"+ll;function DA(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zs]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c_(t);t!==null;){if(n=t[Yr])return n;t=c_(t)}return e}t=n,n=t.parentNode}return null}function rd(t){return t=t[Yr]||t[zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function to(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function dg(t){return t[lu]||null}var Oy=[],no=-1;function dA(t){return{current:t}}function at(t){0>no||(t.current=Oy[no],Oy[no]=null,no--)}function rt(t,e){no++,Oy[no]=t.current,t.current=e}var Xi={},En=dA(Xi),zn=dA(!1),ZA=Xi;function Lo(t,e){var n=t.type.contextTypes;if(!n)return Xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gn(t){return t=t.childContextTypes,t!=null}function jf(){at(zn),at(En)}function u_(t,e,n){if(En.current!==Xi)throw Error(X(168));rt(En,e),rt(zn,n)}function IF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,YP(t)||"Unknown",s));return gt({},n,r)}function Mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xi,ZA=En.current,rt(En,t),rt(zn,zn.current),!0}function d_(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=IF(t,e,ZA),r.__reactInternalMemoizedMergedChildContext=t,at(zn),at(En),rt(En,t)):at(zn),rt(zn,n)}var Ss=null,hg=!1,n0=!1;function UF(t){Ss===null?Ss=[t]:Ss.push(t)}function fL(t){hg=!0,UF(t)}function hA(){if(!n0&&Ss!==null){n0=!0;var t=0,e=We;try{var n=Ss;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ss=null,hg=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(t+1)),eF(Gw,hA),s}finally{We=e,n0=!1}}return null}var ro=[],so=0,Of=null,Vf=0,fr=[],pr=0,ea=null,Qs=1,ks="";function FA(t,e){ro[so++]=Vf,ro[so++]=Of,Of=t,Vf=e}function FF(t,e,n){fr[pr++]=Qs,fr[pr++]=ks,fr[pr++]=ea,ea=t;var r=Qs;t=ks;var s=32-kr(r)-1;r&=~(1<<s),n+=1;var i=32-kr(e)+s;if(30<i){var A=s-s%5;i=(r&(1<<A)-1).toString(32),r>>=A,s-=A,Qs=1<<32-kr(e)+s|n<<s|r,ks=i+t}else Qs=1<<i|n<<s|r,ks=t}function tB(t){t.return!==null&&(FA(t,1),FF(t,1,0))}function nB(t){for(;t===Of;)Of=ro[--so],ro[so]=null,Vf=ro[--so],ro[so]=null;for(;t===ea;)ea=fr[--pr],fr[pr]=null,ks=fr[--pr],fr[pr]=null,Qs=fr[--pr],fr[pr]=null}var tr=null,Jn=null,ct=!1,Sr=null;function SF(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function h_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Jn=Di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ea!==null?{id:Qs,overflow:ks}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Jn=null,!0):!1;default:return!1}}function Vy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hy(t){if(ct){var e=Jn;if(e){var n=e;if(!h_(t,e)){if(Vy(t))throw Error(X(418));e=Di(n.nextSibling);var r=tr;e&&h_(t,e)?SF(r,n):(t.flags=t.flags&-4097|2,ct=!1,tr=t)}}else{if(Vy(t))throw Error(X(418));t.flags=t.flags&-4097|2,ct=!1,tr=t}}}function f_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function ah(t){if(t!==tr)return!1;if(!ct)return f_(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ly(t.type,t.memoizedProps)),e&&(e=Jn)){if(Vy(t))throw NF(),Error(X(418));for(;e;)SF(t,e),e=Di(e.nextSibling)}if(f_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=tr?Di(t.stateNode.nextSibling):null;return!0}function NF(){for(var t=Jn;t;)t=Di(t.nextSibling)}function jo(){Jn=tr=null,ct=!1}function rB(t){Sr===null?Sr=[t]:Sr.push(t)}var pL=si.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function oh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function p_(t){var e=t._init;return e(t._payload)}function QF(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Oi(x,v),x.index=0,x.sibling=null,x}function i(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function A(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,w,F){return v===null||v.tag!==6?(v=l0(w,x.mode,F),v.return=x,v):(v=s(v,w),v.return=x,v)}function o(x,v,w,F){var T=w.type;return T===Ya?u(x,v,w.props.children,F,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===pi&&p_(T)===v.type)?(F=s(v,w.props),F.ref=Hl(x,v,w),F.return=x,F):(F=lf(w.type,w.key,w.props,null,x.mode,F),F.ref=Hl(x,v,w),F.return=x,F)}function c(x,v,w,F){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=c0(w,x.mode,F),v.return=x,v):(v=s(v,w.children||[]),v.return=x,v)}function u(x,v,w,F,T){return v===null||v.tag!==7?(v=GA(w,x.mode,F,T),v.return=x,v):(v=s(v,w),v.return=x,v)}function h(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=l0(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yd:return w=lf(v.type,v.key,v.props,null,x.mode,w),w.ref=Hl(x,null,v),w.return=x,w;case Xa:return v=c0(v,x.mode,w),v.return=x,v;case pi:var F=v._init;return h(x,F(v._payload),w)}if(sc(v)||Ll(v))return v=GA(v,x.mode,w,null),v.return=x,v;oh(x,v)}return null}function f(x,v,w,F){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(x,v,""+w,F);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yd:return w.key===T?o(x,v,w,F):null;case Xa:return w.key===T?c(x,v,w,F):null;case pi:return T=w._init,f(x,v,T(w._payload),F)}if(sc(w)||Ll(w))return T!==null?null:u(x,v,w,F,null);oh(x,w)}return null}function g(x,v,w,F,T){if(typeof F=="string"&&F!==""||typeof F=="number")return x=x.get(w)||null,a(v,x,""+F,T);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Yd:return x=x.get(F.key===null?w:F.key)||null,o(v,x,F,T);case Xa:return x=x.get(F.key===null?w:F.key)||null,c(v,x,F,T);case pi:var Q=F._init;return g(x,v,w,Q(F._payload),T)}if(sc(F)||Ll(F))return x=x.get(w)||null,u(v,x,F,T,null);oh(v,F)}return null}function m(x,v,w,F){for(var T=null,Q=null,b=v,C=v=0,_=null;b!==null&&C<w.length;C++){b.index>C?(_=b,b=null):_=b.sibling;var U=f(x,b,w[C],F);if(U===null){b===null&&(b=_);break}t&&b&&U.alternate===null&&e(x,b),v=i(U,v,C),Q===null?T=U:Q.sibling=U,Q=U,b=_}if(C===w.length)return n(x,b),ct&&FA(x,C),T;if(b===null){for(;C<w.length;C++)b=h(x,w[C],F),b!==null&&(v=i(b,v,C),Q===null?T=b:Q.sibling=b,Q=b);return ct&&FA(x,C),T}for(b=r(x,b);C<w.length;C++)_=g(b,x,C,w[C],F),_!==null&&(t&&_.alternate!==null&&b.delete(_.key===null?C:_.key),v=i(_,v,C),Q===null?T=_:Q.sibling=_,Q=_);return t&&b.forEach(function(k){return e(x,k)}),ct&&FA(x,C),T}function y(x,v,w,F){var T=Ll(w);if(typeof T!="function")throw Error(X(150));if(w=T.call(w),w==null)throw Error(X(151));for(var Q=T=null,b=v,C=v=0,_=null,U=w.next();b!==null&&!U.done;C++,U=w.next()){b.index>C?(_=b,b=null):_=b.sibling;var k=f(x,b,U.value,F);if(k===null){b===null&&(b=_);break}t&&b&&k.alternate===null&&e(x,b),v=i(k,v,C),Q===null?T=k:Q.sibling=k,Q=k,b=_}if(U.done)return n(x,b),ct&&FA(x,C),T;if(b===null){for(;!U.done;C++,U=w.next())U=h(x,U.value,F),U!==null&&(v=i(U,v,C),Q===null?T=U:Q.sibling=U,Q=U);return ct&&FA(x,C),T}for(b=r(x,b);!U.done;C++,U=w.next())U=g(b,x,C,U.value,F),U!==null&&(t&&U.alternate!==null&&b.delete(U.key===null?C:U.key),v=i(U,v,C),Q===null?T=U:Q.sibling=U,Q=U);return t&&b.forEach(function(R){return e(x,R)}),ct&&FA(x,C),T}function E(x,v,w,F){if(typeof w=="object"&&w!==null&&w.type===Ya&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Yd:e:{for(var T=w.key,Q=v;Q!==null;){if(Q.key===T){if(T=w.type,T===Ya){if(Q.tag===7){n(x,Q.sibling),v=s(Q,w.props.children),v.return=x,x=v;break e}}else if(Q.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===pi&&p_(T)===Q.type){n(x,Q.sibling),v=s(Q,w.props),v.ref=Hl(x,Q,w),v.return=x,x=v;break e}n(x,Q);break}else e(x,Q);Q=Q.sibling}w.type===Ya?(v=GA(w.props.children,x.mode,F,w.key),v.return=x,x=v):(F=lf(w.type,w.key,w.props,null,x.mode,F),F.ref=Hl(x,v,w),F.return=x,x=F)}return A(x);case Xa:e:{for(Q=w.key;v!==null;){if(v.key===Q)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=s(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=c0(w,x.mode,F),v.return=x,x=v}return A(x);case pi:return Q=w._init,E(x,v,Q(w._payload),F)}if(sc(w))return m(x,v,w,F);if(Ll(w))return y(x,v,w,F);oh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,w),v.return=x,x=v):(n(x,v),v=l0(w,x.mode,F),v.return=x,x=v),A(x)):n(x,v)}return E}var Mo=QF(!0),kF=QF(!1),Hf=dA(null),Kf=null,io=null,sB=null;function iB(){sB=io=Kf=null}function AB(t){var e=Hf.current;at(Hf),t._currentValue=e}function Ky(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){Kf=t,sB=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hn=!0),t.firstContext=null)}function xr(t){var e=t._currentValue;if(sB!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(Kf===null)throw Error(X(308));io=t,Kf.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var LA=null;function aB(t){LA===null?LA=[t]:LA.push(t)}function RF(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,aB(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gs(t,r)}function Gs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function oB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gs(t,n)}return s=r.interleaved,s===null?(e.next=e,aB(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gs(t,n)}function nf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$w(t,n)}}function g_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=A:i=i.next=A,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zf(t,e,n,r){var s=t.updateQueue;gi=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var o=a,c=o.next;o.next=null,A===null?i=c:A.next=c,A=o;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==A&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;A=0,u=c=o=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,g=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=gt({},h,f);break e;case 2:gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,o=h):u=u.next=g,A|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(o=h),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);na|=A,t.lanes=A,t.memoizedState=h}}function m_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var sd={},ss=dA(sd),cu=dA(sd),uu=dA(sd);function jA(t){if(t===sd)throw Error(X(174));return t}function lB(t,e){switch(rt(uu,e),rt(cu,t),rt(ss,sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ey(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ey(e,t)}at(ss),rt(ss,e)}function Oo(){at(ss),at(cu),at(uu)}function DF(t){jA(uu.current);var e=jA(ss.current),n=Ey(e,t.type);e!==n&&(rt(cu,t),rt(ss,n))}function cB(t){cu.current===t&&(at(ss),at(cu))}var ht=dA(0);function Gf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r0=[];function uB(){for(var t=0;t<r0.length;t++)r0[t]._workInProgressVersionPrimary=null;r0.length=0}var rf=si.ReactCurrentDispatcher,s0=si.ReactCurrentBatchConfig,ta=0,pt=null,jt=null,zt=null,$f=!1,Sc=!1,du=0,gL=0;function fn(){throw Error(X(321))}function dB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lr(t[n],e[n]))return!1;return!0}function hB(t,e,n,r,s,i){if(ta=i,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rf.current=t===null||t.memoizedState===null?wL:BL,t=n(r,s),Sc){i=0;do{if(Sc=!1,du=0,25<=i)throw Error(X(301));i+=1,zt=jt=null,e.updateQueue=null,rf.current=xL,t=n(r,s)}while(Sc)}if(rf.current=Wf,e=jt!==null&&jt.next!==null,ta=0,zt=jt=pt=null,$f=!1,e)throw Error(X(300));return t}function fB(){var t=du!==0;return du=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?pt.memoizedState=zt=t:zt=zt.next=t,zt}function Cr(){if(jt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=zt===null?pt.memoizedState:zt.next;if(e!==null)zt=e,jt=t;else{if(t===null)throw Error(X(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},zt===null?pt.memoizedState=zt=t:zt=zt.next=t}return zt}function hu(t,e){return typeof e=="function"?e(t):e}function i0(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=A=null,o=null,c=i;do{var u=c.lane;if((ta&u)===u)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(a=o=h,A=r):o=o.next=h,pt.lanes|=u,na|=u}c=c.next}while(c!==null&&c!==i);o===null?A=r:o.next=a,Lr(r,e.memoizedState)||(Hn=!0),e.memoizedState=r,e.baseState=A,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,pt.lanes|=i,na|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function A0(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Lr(i,e.memoizedState)||(Hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function LF(){}function jF(t,e){var n=pt,r=Cr(),s=e(),i=!Lr(r.memoizedState,s);if(i&&(r.memoizedState=s,Hn=!0),r=r.queue,pB(VF.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,fu(9,OF.bind(null,n,r,s,e),void 0,null),$t===null)throw Error(X(349));ta&30||MF(n,e,s)}return s}function MF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OF(t,e,n,r){e.value=n,e.getSnapshot=r,HF(e)&&KF(t)}function VF(t,e,n){return n(function(){HF(e)&&KF(t)})}function HF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lr(t,n)}catch{return!0}}function KF(t){var e=Gs(t,1);e!==null&&Rr(e,t,1,-1)}function y_(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:t},e.queue=t,t=t.dispatch=vL.bind(null,pt,t),[e.memoizedState,t]}function fu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zF(){return Cr().memoizedState}function sf(t,e,n,r){var s=qr();pt.flags|=t,s.memoizedState=fu(1|e,n,void 0,r===void 0?null:r)}function fg(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(jt!==null){var A=jt.memoizedState;if(i=A.destroy,r!==null&&dB(r,A.deps)){s.memoizedState=fu(e,n,i,r);return}}pt.flags|=t,s.memoizedState=fu(1|e,n,i,r)}function v_(t,e){return sf(8390656,8,t,e)}function pB(t,e){return fg(2048,8,t,e)}function GF(t,e){return fg(4,2,t,e)}function $F(t,e){return fg(4,4,t,e)}function WF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qF(t,e,n){return n=n!=null?n.concat([t]):null,fg(4,4,WF.bind(null,e,t),n)}function gB(){}function XF(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YF(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JF(t,e,n){return ta&21?(Lr(n,e)||(n=rF(),pt.lanes|=n,na|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hn=!0),t.memoizedState=n)}function mL(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=s0.transition;s0.transition={};try{t(!1),e()}finally{We=n,s0.transition=r}}function ZF(){return Cr().memoizedState}function yL(t,e,n){var r=Mi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eS(t))tS(e,n);else if(n=RF(t,e,n,r),n!==null){var s=Qn();Rr(n,t,r,s),nS(n,e,r)}}function vL(t,e,n){var r=Mi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(t))tS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,n);if(s.hasEagerState=!0,s.eagerState=a,Lr(a,A)){var o=e.interleaved;o===null?(s.next=s,aB(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}n=RF(t,e,s,r),n!==null&&(s=Qn(),Rr(n,t,r,s),nS(n,e,r))}}function eS(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function tS(t,e){Sc=$f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$w(t,n)}}var Wf={readContext:xr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},wL={readContext:xr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:xr,useEffect:v_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sf(4194308,4,WF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return sf(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yL.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:y_,useDebugValue:gB,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=y_(!1),e=t[0];return t=mL.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,s=qr();if(ct){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),$t===null)throw Error(X(349));ta&30||MF(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,v_(VF.bind(null,r,i,t),[t]),r.flags|=2048,fu(9,OF.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=qr(),e=$t.identifierPrefix;if(ct){var n=ks,r=Qs;n=(r&~(1<<32-kr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=du++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BL={readContext:xr,useCallback:XF,useContext:xr,useEffect:pB,useImperativeHandle:qF,useInsertionEffect:GF,useLayoutEffect:$F,useMemo:YF,useReducer:i0,useRef:zF,useState:function(){return i0(hu)},useDebugValue:gB,useDeferredValue:function(t){var e=Cr();return JF(e,jt.memoizedState,t)},useTransition:function(){var t=i0(hu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:LF,useSyncExternalStore:jF,useId:ZF,unstable_isNewReconciler:!1},xL={readContext:xr,useCallback:XF,useContext:xr,useEffect:pB,useImperativeHandle:qF,useInsertionEffect:GF,useLayoutEffect:$F,useMemo:YF,useReducer:A0,useRef:zF,useState:function(){return A0(hu)},useDebugValue:gB,useDeferredValue:function(t){var e=Cr();return jt===null?e.memoizedState=t:JF(e,jt.memoizedState,t)},useTransition:function(){var t=A0(hu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:LF,useSyncExternalStore:jF,useId:ZF,unstable_isNewReconciler:!1};function Ur(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function zy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pg={isMounted:function(t){return(t=t._reactInternals)?ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),s=Mi(t),i=js(r,s);i.payload=e,n!=null&&(i.callback=n),e=Li(t,i,s),e!==null&&(Rr(e,t,s,r),nf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),s=Mi(t),i=js(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Li(t,i,s),e!==null&&(Rr(e,t,s,r),nf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Mi(t),s=js(n,r);s.tag=2,e!=null&&(s.callback=e),e=Li(t,s,r),e!==null&&(Rr(e,t,r,n),nf(e,t,r))}};function w_(t,e,n,r,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,A):e.prototype&&e.prototype.isPureReactComponent?!Au(n,r)||!Au(s,i):!0}function rS(t,e,n){var r=!1,s=Xi,i=e.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=Gn(e)?ZA:En.current,r=e.contextTypes,i=(r=r!=null)?Lo(t,s):Xi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function B_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pg.enqueueReplaceState(e,e.state,null)}function Gy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},oB(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=Gn(e)?ZA:En.current,s.context=Lo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(zy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&pg.enqueueReplaceState(s,s.state,null),zf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vo(t,e){try{var n="",r=e;do n+=XP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function a0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $y(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CL=typeof WeakMap=="function"?WeakMap:Map;function sS(t,e,n){n=js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xf||(Xf=!0,rv=r),$y(t,e)},n}function iS(t,e,n){n=js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$y(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$y(t,e),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),n}function x_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=DL.bind(null,t,e,n),e.then(t,t))}function C_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=js(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var EL=si.ReactCurrentOwner,Hn=!1;function Fn(t,e,n,r){e.child=t===null?kF(e,null,n,r):Mo(e,t.child,n,r)}function __(t,e,n,r,s){n=n.render;var i=e.ref;return Co(e,s),r=hB(t,e,n,r,i,s),n=fB(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$s(t,e,s)):(ct&&n&&tB(e),e.flags|=1,Fn(t,e,r,s),e.child)}function b_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!EB(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,AS(t,e,i,r,s)):(t=lf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(n=n.compare,n=n!==null?n:Au,n(A,r)&&t.ref===e.ref)return $s(t,e,s)}return e.flags|=1,t=Oi(i,r),t.ref=e.ref,t.return=e,e.child=t}function AS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Au(i,r)&&t.ref===e.ref)if(Hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Hn=!0);else return e.lanes=t.lanes,$s(t,e,s)}return Wy(t,e,n,r,s)}function aS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(ao,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(ao,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,rt(ao,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,rt(ao,Yn),Yn|=r;return Fn(t,e,s,n),e.child}function oS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wy(t,e,n,r,s){var i=Gn(n)?ZA:En.current;return i=Lo(e,i),Co(e,s),n=hB(t,e,n,r,i,s),r=fB(),t!==null&&!Hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$s(t,e,s)):(ct&&r&&tB(e),e.flags|=1,Fn(t,e,n,s),e.child)}function T_(t,e,n,r,s){if(Gn(n)){var i=!0;Mf(e)}else i=!1;if(Co(e,s),e.stateNode===null)Af(t,e),rS(e,n,r),Gy(e,n,r,s),r=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,c=n.contextType;typeof c=="object"&&c!==null?c=xr(c):(c=Gn(n)?ZA:En.current,c=Lo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";h||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==r||o!==c)&&B_(e,A,r,c),gi=!1;var f=e.memoizedState;A.state=f,zf(e,r,A,s),o=e.memoizedState,a!==r||f!==o||zn.current||gi?(typeof u=="function"&&(zy(e,n,u,r),o=e.memoizedState),(a=gi||w_(e,n,a,r,f,o,c))?(h||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),A.props=r,A.state=o,A.context=c,r=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{A=e.stateNode,PF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ur(e.type,a),A.props=c,h=e.pendingProps,f=A.context,o=n.contextType,typeof o=="object"&&o!==null?o=xr(o):(o=Gn(n)?ZA:En.current,o=Lo(e,o));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==h||f!==o)&&B_(e,A,r,o),gi=!1,f=e.memoizedState,A.state=f,zf(e,r,A,s);var m=e.memoizedState;a!==h||f!==m||zn.current||gi?(typeof g=="function"&&(zy(e,n,g,r),m=e.memoizedState),(c=gi||w_(e,n,c,r,f,m,o)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,m,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,m,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),A.props=r,A.state=m,A.context=o,r=c):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return qy(t,e,n,r,i,s)}function qy(t,e,n,r,s,i){oS(t,e);var A=(e.flags&128)!==0;if(!r&&!A)return s&&d_(e,n,!1),$s(t,e,i);r=e.stateNode,EL.current=e;var a=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&A?(e.child=Mo(e,t.child,null,i),e.child=Mo(e,null,a,i)):Fn(t,e,a,i),e.memoizedState=r.state,s&&d_(e,n,!0),e.child}function lS(t){var e=t.stateNode;e.pendingContext?u_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&u_(t,e.context,!1),lB(t,e.containerInfo)}function I_(t,e,n,r,s){return jo(),rB(s),e.flags|=256,Fn(t,e,n,r),e.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function cS(t,e,n){var r=e.pendingProps,s=ht.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),rt(ht,s&1),t===null)return Hy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=r.children,t=r.fallback,i?(r=e.mode,i=e.child,A={mode:"hidden",children:A},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=yg(A,r,0,null),t=GA(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yy(n),e.memoizedState=Xy,t):mB(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _L(t,e,A,r,a,s,n);if(i){i=r.fallback,A=e.mode,s=t.child,a=s.sibling;var o={mode:"hidden",children:r.children};return!(A&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Oi(s,o),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Oi(a,i):(i=GA(i,A,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,A=t.child.memoizedState,A=A===null?Yy(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~n,e.memoizedState=Xy,r}return i=t.child,t=i.sibling,r=Oi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mB(t,e){return e=yg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lh(t,e,n,r){return r!==null&&rB(r),Mo(e,t.child,null,n),t=mB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _L(t,e,n,r,s,i,A){if(n)return e.flags&256?(e.flags&=-257,r=a0(Error(X(422))),lh(t,e,A,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=yg({mode:"visible",children:r.children},s,0,null),i=GA(i,s,A,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Mo(e,t.child,null,A),e.child.memoizedState=Yy(A),e.memoizedState=Xy,i);if(!(e.mode&1))return lh(t,e,A,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=a0(i,r,void 0),lh(t,e,A,r)}if(a=(A&t.childLanes)!==0,Hn||a){if(r=$t,r!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gs(t,s),Rr(r,t,s,-1))}return CB(),r=a0(Error(X(421))),lh(t,e,A,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=LL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=Di(s.nextSibling),tr=e,ct=!0,Sr=null,t!==null&&(fr[pr++]=Qs,fr[pr++]=ks,fr[pr++]=ea,Qs=t.id,ks=t.overflow,ea=e),e=mB(e,r.children),e.flags|=4096,e)}function U_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ky(t.return,e,n)}function o0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Fn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U_(t,n,e);else if(t.tag===19)U_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),o0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}o0(e,!0,n,null,i);break;case"together":o0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Af(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $s(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),na|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bL(t,e,n){switch(e.tag){case 3:lS(e),jo();break;case 5:DF(e);break;case 1:Gn(e.type)&&Mf(e);break;case 4:lB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;rt(Hf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?cS(t,e,n):(rt(ht,ht.current&1),t=$s(t,e,n),t!==null?t.sibling:null);rt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,aS(t,e,n)}return $s(t,e,n)}var dS,Jy,hS,fS;dS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jy=function(){};hS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,jA(ss.current);var i=null;switch(n){case"input":s=wy(t,s),r=wy(t,r),i=[];break;case"select":s=gt({},s,{value:void 0}),r=gt({},r,{value:void 0}),i=[];break;case"textarea":s=Cy(t,s),r=Cy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lf)}_y(n,r);var A;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(A in a)a.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var o=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&o!==a&&(o!=null||a!=null))if(c==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(n||(n={}),n[A]=o[A])}else n||(i||(i=[]),i.push(c,n)),n=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(i=i||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zc.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&At("scroll",t),i||a===o||(i=[])):(i=i||[]).push(c,o))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Kl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TL(t,e,n){var r=e.pendingProps;switch(nB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Gn(e.type)&&jf(),pn(e),null;case 3:return r=e.stateNode,Oo(),at(zn),at(En),uB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ah(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(Av(Sr),Sr=null))),Jy(t,e),pn(e),null;case 5:cB(e);var s=jA(uu.current);if(n=e.type,t!==null&&e.stateNode!=null)hS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return pn(e),null}if(t=jA(ss.current),ah(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Yr]=e,r[lu]=i,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<Ac.length;s++)At(Ac[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":LE(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":ME(r,i),At("invalid",r)}_y(n,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ah(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ah(r.textContent,a,t),s=["children",""+a]):Zc.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&At("scroll",r)}switch(n){case"input":Jd(r),jE(r,i,!0);break;case"textarea":Jd(r),OE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=A.createElement(n,{is:r.is}):(t=A.createElement(n),n==="select"&&(A=t,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):t=A.createElementNS(t,n),t[Yr]=e,t[lu]=r,dS(t,e,!1,!1),e.stateNode=t;e:{switch(A=by(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ac.length;s++)At(Ac[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":LE(t,r),s=wy(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=gt({},r,{value:void 0}),At("invalid",t);break;case"textarea":ME(t,r),s=Cy(t,r),At("invalid",t);break;default:s=r}_y(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="style"?zU(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&HU(t,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&eu(t,o):typeof o=="number"&&eu(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zc.hasOwnProperty(i)?o!=null&&i==="onScroll"&&At("scroll",t):o!=null&&Ow(t,i,o,A))}switch(n){case"input":Jd(t),jE(t,r,!1);break;case"textarea":Jd(t),OE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?vo(t,!!r.multiple,i,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)fS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=jA(uu.current),jA(ss.current),ah(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,(i=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Ah(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ah(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return pn(e),null;case 13:if(at(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Jn!==null&&e.mode&1&&!(e.flags&128))NF(),jo(),e.flags|=98560,i=!1;else if(i=ah(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Yr]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),i=!1}else Sr!==null&&(Av(Sr),Sr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Ot===0&&(Ot=3):CB())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return Oo(),Jy(t,e),t===null&&au(e.stateNode.containerInfo),pn(e),null;case 10:return AB(e.type._context),pn(e),null;case 17:return Gn(e.type)&&jf(),pn(e),null;case 19:if(at(ht),i=e.memoizedState,i===null)return pn(e),null;if(r=(e.flags&128)!==0,A=i.rendering,A===null)if(r)Kl(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Gf(t),A!==null){for(e.flags|=128,Kl(i,!1),r=A.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(ht,ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ut()>Ho&&(e.flags|=128,r=!0,Kl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gf(A),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!ct)return pn(e),null}else 2*Ut()-i.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Kl(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(n=i.last,n!==null?n.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ut(),e.sibling=null,n=ht.current,rt(ht,r?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return xB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function IL(t,e){switch(nB(e),e.tag){case 1:return Gn(e.type)&&jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),at(zn),at(En),uB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cB(e),null;case 13:if(at(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ht),null;case 4:return Oo(),null;case 10:return AB(e.type._context),null;case 22:case 23:return xB(),null;case 24:return null;default:return null}}var ch=!1,Bn=!1,UL=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function Zy(t,e,n){try{n()}catch(r){wt(t,e,r)}}var F_=!1;function FL(t,e){if(Py=Rf,t=vF(),eB(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var A=0,a=-1,o=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=A+s),h!==i||r!==0&&h.nodeType!==3||(o=A+r),h.nodeType===3&&(A+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=A),f===i&&++u===r&&(o=A),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dy={focusedElem:t,selectionRange:n},Rf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,E=m.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ur(e.type,y),E);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(F){wt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=F_,F_=!1,m}function Nc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zy(e,n,i)}s=s.next}while(s!==r)}}function gg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ev(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[lu],delete e[My],delete e[dL],delete e[hL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gS(t){return t.tag===5||t.tag===3||t.tag===4}function S_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lf));else if(r!==4&&(t=t.child,t!==null))for(tv(t,e,n),t=t.sibling;t!==null;)tv(t,e,n),t=t.sibling}function nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nv(t,e,n),t=t.sibling;t!==null;)nv(t,e,n),t=t.sibling}var Yt=null,Fr=!1;function li(t,e,n){for(n=n.child;n!==null;)mS(t,e,n),n=n.sibling}function mS(t,e,n){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(og,n)}catch{}switch(n.tag){case 5:Bn||Ao(n,e);case 6:var r=Yt,s=Fr;Yt=null,li(t,e,n),Yt=r,Fr=s,Yt!==null&&(Fr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Fr?(t=Yt,n=n.stateNode,t.nodeType===8?t0(t.parentNode,n):t.nodeType===1&&t0(t,n),su(t)):t0(Yt,n.stateNode));break;case 4:r=Yt,s=Fr,Yt=n.stateNode.containerInfo,Fr=!0,li(t,e,n),Yt=r,Fr=s;break;case 0:case 11:case 14:case 15:if(!Bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Zy(n,e,A),s=s.next}while(s!==r)}li(t,e,n);break;case 1:if(!Bn&&(Ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}li(t,e,n);break;case 21:li(t,e,n);break;case 22:n.mode&1?(Bn=(r=Bn)||n.memoizedState!==null,li(t,e,n),Bn=r):li(t,e,n);break;default:li(t,e,n)}}function N_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UL),e.forEach(function(r){var s=jL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Fr=!1;break e;case 3:Yt=a.stateNode.containerInfo,Fr=!0;break e;case 4:Yt=a.stateNode.containerInfo,Fr=!0;break e}a=a.return}if(Yt===null)throw Error(X(160));mS(i,A,s),Yt=null,Fr=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(c){wt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yS(e,t),e=e.sibling}function yS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(br(e,t),$r(t),r&4){try{Nc(3,t,t.return),gg(3,t)}catch(y){wt(t,t.return,y)}try{Nc(5,t,t.return)}catch(y){wt(t,t.return,y)}}break;case 1:br(e,t),$r(t),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(br(e,t),$r(t),r&512&&n!==null&&Ao(n,n.return),t.flags&32){var s=t.stateNode;try{eu(s,"")}catch(y){wt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=n!==null?n.memoizedProps:i,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&MU(s,i),by(a,A);var c=by(a,i);for(A=0;A<o.length;A+=2){var u=o[A],h=o[A+1];u==="style"?zU(s,h):u==="dangerouslySetInnerHTML"?HU(s,h):u==="children"?eu(s,h):Ow(s,u,h,c)}switch(a){case"input":By(s,i);break;case"textarea":OU(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?vo(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?vo(s,!!i.multiple,i.defaultValue,!0):vo(s,!!i.multiple,i.multiple?[]:"",!1))}s[lu]=i}catch(y){wt(t,t.return,y)}}break;case 6:if(br(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){wt(t,t.return,y)}}break;case 3:if(br(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{su(e.containerInfo)}catch(y){wt(t,t.return,y)}break;case 4:br(e,t),$r(t);break;case 13:br(e,t),$r(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wB=Ut())),r&4&&N_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Bn=(c=Bn)||u,br(e,t),Bn=c):br(e,t),$r(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ce=t,u=t.child;u!==null;){for(h=ce=u;ce!==null;){switch(f=ce,g=f.child,f.tag){case 0:case 11:case 14:case 15:Nc(4,f,f.return);break;case 1:Ao(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){wt(r,n,y)}}break;case 5:Ao(f,f.return);break;case 22:if(f.memoizedState!==null){k_(h);continue}}g!==null?(g.return=f,ce=g):k_(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,o=h.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=KU("display",A))}catch(y){wt(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){wt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:br(e,t),$r(t),r&4&&N_(t);break;case 21:break;default:br(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(eu(s,""),r.flags&=-33);var i=S_(t);nv(t,i,s);break;case 3:case 4:var A=r.stateNode.containerInfo,a=S_(t);tv(t,a,A);break;default:throw Error(X(161))}}catch(o){wt(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SL(t,e,n){ce=t,vS(t)}function vS(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var A=s.memoizedState!==null||ch;if(!A){var a=s.alternate,o=a!==null&&a.memoizedState!==null||Bn;a=ch;var c=Bn;if(ch=A,(Bn=o)&&!c)for(ce=s;ce!==null;)A=ce,o=A.child,A.tag===22&&A.memoizedState!==null?R_(s):o!==null?(o.return=A,ce=o):R_(s);for(;i!==null;)ce=i,vS(i),i=i.sibling;ce=s,ch=a,Bn=c}Q_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):Q_(t)}}function Q_(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bn||gg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ur(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&m_(e,i,r);break;case 3:var A=e.updateQueue;if(A!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}m_(e,A,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&su(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Bn||e.flags&512&&ev(e)}catch(f){wt(e,e.return,f)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function k_(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function R_(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gg(4,e)}catch(o){wt(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(o){wt(e,s,o)}}var i=e.return;try{ev(e)}catch(o){wt(e,i,o)}break;case 5:var A=e.return;try{ev(e)}catch(o){wt(e,A,o)}}}catch(o){wt(e,e.return,o)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var NL=Math.ceil,qf=si.ReactCurrentDispatcher,yB=si.ReactCurrentOwner,wr=si.ReactCurrentBatchConfig,Le=0,$t=null,Pt=null,An=0,Yn=0,ao=dA(0),Ot=0,pu=null,na=0,mg=0,vB=0,Qc=null,Vn=null,wB=0,Ho=1/0,Fs=null,Xf=!1,rv=null,ji=null,uh=!1,Ii=null,Yf=0,kc=0,sv=null,af=-1,of=0;function Qn(){return Le&6?Ut():af!==-1?af:af=Ut()}function Mi(t){return t.mode&1?Le&2&&An!==0?An&-An:pL.transition!==null?(of===0&&(of=rF()),of):(t=We,t!==0||(t=window.event,t=t===void 0?16:cF(t.type)),t):1}function Rr(t,e,n,r){if(50<kc)throw kc=0,sv=null,Error(X(185));td(t,n,r),(!(Le&2)||t!==$t)&&(t===$t&&(!(Le&2)&&(mg|=n),Ot===4&&vi(t,An)),$n(t,r),n===1&&Le===0&&!(e.mode&1)&&(Ho=Ut()+500,hg&&hA()))}function $n(t,e){var n=t.callbackNode;pD(t,e);var r=kf(t,t===$t?An:0);if(r===0)n!==null&&KE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&KE(n),e===1)t.tag===0?fL(P_.bind(null,t)):UF(P_.bind(null,t)),cL(function(){!(Le&6)&&hA()}),n=null;else{switch(sF(r)){case 1:n=Gw;break;case 4:n=tF;break;case 16:n=Qf;break;case 536870912:n=nF;break;default:n=Qf}n=TS(n,wS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wS(t,e){if(af=-1,of=0,Le&6)throw Error(X(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=kf(t,t===$t?An:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jf(t,r);else{e=r;var s=Le;Le|=2;var i=xS();($t!==t||An!==e)&&(Fs=null,Ho=Ut()+500,zA(t,e));do try{RL();break}catch(a){BS(t,a)}while(!0);iB(),qf.current=i,Le=s,Pt!==null?e=0:($t=null,An=0,e=Ot)}if(e!==0){if(e===2&&(s=Sy(t),s!==0&&(r=s,e=iv(t,s))),e===1)throw n=pu,zA(t,0),vi(t,r),$n(t,Ut()),n;if(e===6)vi(t,r);else{if(s=t.current.alternate,!(r&30)&&!QL(s)&&(e=Jf(t,r),e===2&&(i=Sy(t),i!==0&&(r=i,e=iv(t,i))),e===1))throw n=pu,zA(t,0),vi(t,r),$n(t,Ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:SA(t,Vn,Fs);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=wB+500-Ut(),10<e)){if(kf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jy(SA.bind(null,t,Vn,Fs),e);break}SA(t,Vn,Fs);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var A=31-kr(r);i=1<<A,A=e[A],A>s&&(s=A),r&=~i}if(r=s,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NL(r/1960))-r,10<r){t.timeoutHandle=jy(SA.bind(null,t,Vn,Fs),r);break}SA(t,Vn,Fs);break;case 5:SA(t,Vn,Fs);break;default:throw Error(X(329))}}}return $n(t,Ut()),t.callbackNode===n?wS.bind(null,t):null}function iv(t,e){var n=Qc;return t.current.memoizedState.isDehydrated&&(zA(t,e).flags|=256),t=Jf(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&Av(e)),t}function Av(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function QL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Lr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~vB,e&=~mg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kr(e),r=1<<n;t[n]=-1,e&=~r}}function P_(t){if(Le&6)throw Error(X(327));Eo();var e=kf(t,0);if(!(e&1))return $n(t,Ut()),null;var n=Jf(t,e);if(t.tag!==0&&n===2){var r=Sy(t);r!==0&&(e=r,n=iv(t,r))}if(n===1)throw n=pu,zA(t,0),vi(t,e),$n(t,Ut()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,SA(t,Vn,Fs),$n(t,Ut()),null}function BB(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Ho=Ut()+500,hg&&hA())}}function ra(t){Ii!==null&&Ii.tag===0&&!(Le&6)&&Eo();var e=Le;Le|=1;var n=wr.transition,r=We;try{if(wr.transition=null,We=1,t)return t()}finally{We=r,wr.transition=n,Le=e,!(Le&6)&&hA()}}function xB(){Yn=ao.current,at(ao)}function zA(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lL(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(nB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jf();break;case 3:Oo(),at(zn),at(En),uB();break;case 5:cB(r);break;case 4:Oo();break;case 13:at(ht);break;case 19:at(ht);break;case 10:AB(r.type._context);break;case 22:case 23:xB()}n=n.return}if($t=t,Pt=t=Oi(t.current,null),An=Yn=e,Ot=0,pu=null,vB=mg=na=0,Vn=Qc=null,LA!==null){for(e=0;e<LA.length;e++)if(n=LA[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var A=i.next;i.next=s,r.next=A}n.pending=r}LA=null}return t}function BS(t,e){do{var n=Pt;try{if(iB(),rf.current=Wf,$f){for(var r=pt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$f=!1}if(ta=0,zt=jt=pt=null,Sc=!1,du=0,yB.current=null,n===null||n.return===null){Ot=1,pu=e,Pt=null;break}e:{var i=t,A=n.return,a=n,o=e;if(e=An,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=C_(A);if(g!==null){g.flags&=-257,E_(g,A,a,i,e),g.mode&1&&x_(i,c,e),e=g,o=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(o),e.updateQueue=y}else m.add(o);break e}else{if(!(e&1)){x_(i,c,e),CB();break e}o=Error(X(426))}}else if(ct&&a.mode&1){var E=C_(A);if(E!==null){!(E.flags&65536)&&(E.flags|=256),E_(E,A,a,i,e),rB(Vo(o,a));break e}}i=o=Vo(o,a),Ot!==4&&(Ot=2),Qc===null?Qc=[i]:Qc.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=sS(i,o,e);g_(i,x);break e;case 1:a=o;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ji===null||!ji.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var F=iS(i,a,e);g_(i,F);break e}}i=i.return}while(i!==null)}ES(n)}catch(T){e=T,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function xS(){var t=qf.current;return qf.current=Wf,t===null?Wf:t}function CB(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),$t===null||!(na&268435455)&&!(mg&268435455)||vi($t,An)}function Jf(t,e){var n=Le;Le|=2;var r=xS();($t!==t||An!==e)&&(Fs=null,zA(t,e));do try{kL();break}catch(s){BS(t,s)}while(!0);if(iB(),Le=n,qf.current=r,Pt!==null)throw Error(X(261));return $t=null,An=0,Ot}function kL(){for(;Pt!==null;)CS(Pt)}function RL(){for(;Pt!==null&&!AD();)CS(Pt)}function CS(t){var e=bS(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?ES(t):Pt=e,yB.current=null}function ES(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IL(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Pt=null;return}}else if(n=TL(n,e,Yn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ot===0&&(Ot=5)}function SA(t,e,n){var r=We,s=wr.transition;try{wr.transition=null,We=1,PL(t,e,n,r)}finally{wr.transition=s,We=r}return null}function PL(t,e,n,r){do Eo();while(Ii!==null);if(Le&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gD(t,i),t===$t&&(Pt=$t=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uh||(uh=!0,TS(Qf,function(){return Eo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wr.transition,wr.transition=null;var A=We;We=1;var a=Le;Le|=4,yB.current=null,FL(t,n),yS(n,t),nL(Dy),Rf=!!Py,Dy=Py=null,t.current=n,SL(n),aD(),Le=a,We=A,wr.transition=i}else t.current=n;if(uh&&(uh=!1,Ii=t,Yf=s),i=t.pendingLanes,i===0&&(ji=null),cD(n.stateNode),$n(t,Ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xf)throw Xf=!1,t=rv,rv=null,t;return Yf&1&&t.tag!==0&&Eo(),i=t.pendingLanes,i&1?t===sv?kc++:(kc=0,sv=t):kc=0,hA(),null}function Eo(){if(Ii!==null){var t=sF(Yf),e=wr.transition,n=We;try{if(wr.transition=null,We=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,Yf=0,Le&6)throw Error(X(331));var s=Le;for(Le|=4,ce=t.current;ce!==null;){var i=ce,A=i.child;if(ce.flags&16){var a=i.deletions;if(a!==null){for(var o=0;o<a.length;o++){var c=a[o];for(ce=c;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:Nc(8,u,i)}var h=u.child;if(h!==null)h.return=u,ce=h;else for(;ce!==null;){u=ce;var f=u.sibling,g=u.return;if(pS(u),u===c){ce=null;break}if(f!==null){f.return=g,ce=f;break}ce=g}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}ce=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,ce=A;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ce=x;break e}ce=i.return}}var v=t.current;for(ce=v;ce!==null;){A=ce;var w=A.child;if(A.subtreeFlags&2064&&w!==null)w.return=A,ce=w;else e:for(A=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gg(9,a)}}catch(T){wt(a,a.return,T)}if(a===A){ce=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,ce=F;break e}ce=a.return}}if(Le=s,hA(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(og,t)}catch{}r=!0}return r}finally{We=n,wr.transition=e}}return!1}function D_(t,e,n){e=Vo(n,e),e=sS(t,e,1),t=Li(t,e,1),e=Qn(),t!==null&&(td(t,1,e),$n(t,e))}function wt(t,e,n){if(t.tag===3)D_(t,t,n);else for(;e!==null;){if(e.tag===3){D_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){t=Vo(n,t),t=iS(e,t,1),e=Li(e,t,1),t=Qn(),e!==null&&(td(e,1,t),$n(e,t));break}}e=e.return}}function DL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(An&n)===n&&(Ot===4||Ot===3&&(An&130023424)===An&&500>Ut()-wB?zA(t,0):vB|=n),$n(t,e)}function _S(t,e){e===0&&(t.mode&1?(e=th,th<<=1,!(th&130023424)&&(th=4194304)):e=1);var n=Qn();t=Gs(t,e),t!==null&&(td(t,e,n),$n(t,n))}function LL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_S(t,n)}function jL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),_S(t,n)}var bS;bS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zn.current)Hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hn=!1,bL(t,e,n);Hn=!!(t.flags&131072)}else Hn=!1,ct&&e.flags&1048576&&FF(e,Vf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Af(t,e),t=e.pendingProps;var s=Lo(e,En.current);Co(e,n),s=hB(null,e,r,t,s,n);var i=fB();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(r)?(i=!0,Mf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,oB(e),s.updater=pg,e.stateNode=s,s._reactInternals=e,Gy(e,r,t,n),e=qy(null,e,r,!0,i,n)):(e.tag=0,ct&&i&&tB(e),Fn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Af(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=OL(r),t=Ur(r,t),s){case 0:e=Wy(null,e,r,t,n);break e;case 1:e=T_(null,e,r,t,n);break e;case 11:e=__(null,e,r,t,n);break e;case 14:e=b_(null,e,r,Ur(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),Wy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),T_(t,e,r,s,n);case 3:e:{if(lS(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,PF(t,e),zf(e,r,null,n);var A=e.memoizedState;if(r=A.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vo(Error(X(423)),e),e=I_(t,e,r,n,s);break e}else if(r!==s){s=Vo(Error(X(424)),e),e=I_(t,e,r,n,s);break e}else for(Jn=Di(e.stateNode.containerInfo.firstChild),tr=e,ct=!0,Sr=null,n=kF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===s){e=$s(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return DF(e),t===null&&Hy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,Ly(r,s)?A=null:i!==null&&Ly(r,i)&&(e.flags|=32),oS(t,e),Fn(t,e,A,n),e.child;case 6:return t===null&&Hy(e),null;case 13:return cS(t,e,n);case 4:return lB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mo(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),__(t,e,r,s,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,rt(Hf,r._currentValue),r._currentValue=A,i!==null)if(Lr(i.value,A)){if(i.children===s.children&&!zn.current){e=$s(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(i.tag===1){o=js(-1,n&-n),o.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?o.next=o:(o.next=u.next,u.next=o),c.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Ky(i.return,n,e),a.lanes|=n;break}o=o.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(X(341));A.lanes|=n,a=A.alternate,a!==null&&(a.lanes|=n),Ky(A,n,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}Fn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Co(e,n),s=xr(s),r=r(s),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,s=Ur(r,e.pendingProps),s=Ur(r.type,s),b_(t,e,r,s,n);case 15:return AS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ur(r,s),Af(t,e),e.tag=1,Gn(r)?(t=!0,Mf(e)):t=!1,Co(e,n),rS(e,r,s),Gy(e,r,s,n),qy(null,e,r,!0,t,n);case 19:return uS(t,e,n);case 22:return aS(t,e,n)}throw Error(X(156,e.tag))};function TS(t,e){return eF(t,e)}function ML(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new ML(t,e,n,r)}function EB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OL(t){if(typeof t=="function")return EB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hw)return 11;if(t===Kw)return 14}return 2}function Oi(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lf(t,e,n,r,s,i){var A=2;if(r=t,typeof t=="function")EB(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Ya:return GA(n.children,s,i,e);case Vw:A=8,s|=8;break;case gy:return t=mr(12,n,e,s|2),t.elementType=gy,t.lanes=i,t;case my:return t=mr(13,n,e,s),t.elementType=my,t.lanes=i,t;case yy:return t=mr(19,n,e,s),t.elementType=yy,t.lanes=i,t;case DU:return yg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RU:A=10;break e;case PU:A=9;break e;case Hw:A=11;break e;case Kw:A=14;break e;case pi:A=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=mr(A,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function GA(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function yg(t,e,n,r){return t=mr(22,t,r,e),t.elementType=DU,t.lanes=n,t.stateNode={isHidden:!1},t}function l0(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function c0(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Km(0),this.expirationTimes=Km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Km(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _B(t,e,n,r,s,i,A,a,o){return t=new VL(t,e,n,a,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oB(i),t}function HL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IS(t){if(!t)return Xi;t=t._reactInternals;e:{if(ma(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Gn(n))return IF(t,n,e)}return e}function US(t,e,n,r,s,i,A,a,o){return t=_B(n,r,!0,t,s,i,A,a,o),t.context=IS(null),n=t.current,r=Qn(),s=Mi(n),i=js(r,s),i.callback=e??null,Li(n,i,s),t.current.lanes=s,td(t,s,r),$n(t,r),t}function vg(t,e,n,r){var s=e.current,i=Qn(),A=Mi(s);return n=IS(n),e.context===null?e.context=n:e.pendingContext=n,e=js(i,A),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Li(s,e,A),t!==null&&(Rr(t,s,A,i),nf(t,s,A)),A}function Zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function L_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bB(t,e){L_(t,e),(t=t.alternate)&&L_(t,e)}function KL(){return null}var FS=typeof reportError=="function"?reportError:function(t){console.error(t)};function TB(t){this._internalRoot=t}wg.prototype.render=TB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));vg(t,e,null,null)};wg.prototype.unmount=TB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ra(function(){vg(null,t,null,null)}),e[zs]=null}};function wg(t){this._internalRoot=t}wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=aF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yi.length&&e!==0&&e<yi[n].priority;n++);yi.splice(n,0,t),n===0&&lF(t)}};function IB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j_(){}function zL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Zf(A);i.call(c)}}var A=US(e,r,t,0,null,!1,!1,"",j_);return t._reactRootContainer=A,t[zs]=A.current,au(t.nodeType===8?t.parentNode:t),ra(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Zf(o);a.call(c)}}var o=_B(t,0,!1,null,null,!1,!1,"",j_);return t._reactRootContainer=o,t[zs]=o.current,au(t.nodeType===8?t.parentNode:t),ra(function(){vg(e,o,n,r)}),o}function xg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var o=Zf(A);a.call(o)}}vg(e,A,t,s)}else A=zL(n,e,t,s,r);return Zf(A)}iF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ic(e.pendingLanes);n!==0&&($w(e,n|1),$n(e,Ut()),!(Le&6)&&(Ho=Ut()+500,hA()))}break;case 13:ra(function(){var r=Gs(t,1);if(r!==null){var s=Qn();Rr(r,t,1,s)}}),bB(t,1)}};Ww=function(t){if(t.tag===13){var e=Gs(t,134217728);if(e!==null){var n=Qn();Rr(e,t,134217728,n)}bB(t,134217728)}};AF=function(t){if(t.tag===13){var e=Mi(t),n=Gs(t,e);if(n!==null){var r=Qn();Rr(n,t,e,r)}bB(t,e)}};aF=function(){return We};oF=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};Iy=function(t,e,n){switch(e){case"input":if(By(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=dg(r);if(!s)throw Error(X(90));jU(r),By(r,s)}}}break;case"textarea":OU(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};WU=BB;qU=ra;var GL={usingClientEntryPoint:!1,Events:[rd,to,dg,GU,$U,BB]},zl={findFiberByHostInstance:DA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$L={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JU(t),t===null?null:t.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||KL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{og=dh.inject($L),rs=dh}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GL;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!IB(e))throw Error(X(200));return HL(t,e,null,n)};or.createRoot=function(t,e){if(!IB(t))throw Error(X(299));var n=!1,r="",s=FS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_B(t,1,!1,null,null,n,!1,r,s),t[zs]=e.current,au(t.nodeType===8?t.parentNode:t),new TB(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=JU(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return ra(t)};or.hydrate=function(t,e,n){if(!Bg(e))throw Error(X(200));return xg(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!IB(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",A=FS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),e=US(e,null,t,1,n??null,s,!1,i,A),t[zs]=e.current,au(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wg(e)};or.render=function(t,e,n){if(!Bg(e))throw Error(X(200));return xg(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!Bg(t))throw Error(X(40));return t._reactRootContainer?(ra(function(){xg(null,null,t,!1,function(){t._reactRootContainer=null,t[zs]=null})}),!0):!1};or.unstable_batchedUpdates=BB;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bg(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return xg(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function SS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SS)}catch(t){console.error(t)}}SS(),SU.exports=or;var WL=SU.exports,UB,M_=WL;UB=M_.createRoot,M_.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}var Ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ui||(Ui={}));const O_="popstate";function qL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:A,hash:a}=r.location;return av("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ep(s)}return YL(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XL(){return Math.random().toString(36).substr(2,8)}function V_(t,e){return{usr:t.state,key:t.key,idx:e}}function av(t,e,n,r){return n===void 0&&(n=null),gu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cl(e):e,{state:n,key:e&&e.key||r||XL()})}function ep(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,A=s.history,a=Ui.Pop,o=null,c=u();c==null&&(c=0,A.replaceState(gu({},A.state,{idx:c}),""));function u(){return(A.state||{idx:null}).idx}function h(){a=Ui.Pop;let E=u(),x=E==null?null:E-c;c=E,o&&o({action:a,location:y.location,delta:x})}function f(E,x){a=Ui.Push;let v=av(y.location,E,x);c=u()+1;let w=V_(v,c),F=y.createHref(v);try{A.pushState(w,"",F)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(F)}i&&o&&o({action:a,location:y.location,delta:1})}function g(E,x){a=Ui.Replace;let v=av(y.location,E,x);c=u();let w=V_(v,c),F=y.createHref(v);A.replaceState(w,"",F),i&&o&&o({action:a,location:y.location,delta:0})}function m(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:ep(E);return v=v.replace(/ $/,"%20"),Ft(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return a},get location(){return t(s,A)},listen(E){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(O_,h),o=E,()=>{s.removeEventListener(O_,h),o=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let x=m(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(E){return A.go(E)}};return y}var H_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H_||(H_={}));function JL(t,e,n){return n===void 0&&(n="/"),ZL(t,e,n,!1)}function ZL(t,e,n,r){let s=typeof e=="string"?cl(e):e,i=FB(s.pathname||"/",n);if(i==null)return null;let A=QS(t);ej(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let c=uj(i);a=lj(A[o],c,r)}return a}function QS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,A,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};o.relativePath.startsWith("/")&&(Ft(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let c=Vi([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(Ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QS(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:aj(c,i.index),routesMeta:u})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let o of kS(i.path))s(i,A,o)}),e}function kS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let A=kS(r.join("/")),a=[];return a.push(...A.map(o=>o===""?i:[i,o].join("/"))),s&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function ej(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tj=/^:[\w-]+$/,nj=3,rj=2,sj=1,ij=10,Aj=-2,K_=t=>t==="*";function aj(t,e){let n=t.split("/"),r=n.length;return n.some(K_)&&(r+=Aj),e&&(r+=rj),n.filter(s=>!K_(s)).reduce((s,i)=>s+(tj.test(i)?nj:i===""?sj:ij),r)}function oj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function lj(t,e,n){let{routesMeta:r}=t,s={},i="/",A=[];for(let a=0;a<r.length;++a){let o=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=z_({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u),f=o.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=z_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),A.push({params:s,pathname:Vi([i,h.pathname]),pathnameBase:pj(Vi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Vi([i,h.pathnameBase]))}return A}function z_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let y=a[h]||"";A=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return g&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:t}}function cj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function uj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function FB(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?cl(t):t;return{pathname:n?n.startsWith("/")?n:hj(n,e):e,search:gj(r),hash:mj(s)}}function hj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function u0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SB(t,e){let n=fj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function NB(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=cl(t):(s=gu({},t),Ft(!s.pathname||!s.pathname.includes("?"),u0("?","pathname","search",s)),Ft(!s.pathname||!s.pathname.includes("#"),u0("#","pathname","hash",s)),Ft(!s.search||!s.search.includes("#"),u0("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=n;else{let h=e.length-1;if(!r&&A.startsWith("..")){let f=A.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let o=dj(s,a),c=A&&A!=="/"&&A.endsWith("/"),u=(i||A===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||u)&&(o.pathname+="/"),o}const Vi=t=>t.join("/").replace(/\/\/+/g,"/"),pj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RS=["post","put","patch","delete"];new Set(RS);const vj=["get",...RS];new Set(vj);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}const QB=I.createContext(null),wj=I.createContext(null),fA=I.createContext(null),Cg=I.createContext(null),vs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),PS=I.createContext(null);function Bj(t,e){let{relative:n}=e===void 0?{}:e;ul()||Ft(!1);let{basename:r,navigator:s}=I.useContext(fA),{hash:i,pathname:A,search:a}=LS(t,{relative:n}),o=A;return r!=="/"&&(o=A==="/"?r:Vi([r,A])),s.createHref({pathname:o,search:a,hash:i})}function ul(){return I.useContext(Cg)!=null}function pA(){return ul()||Ft(!1),I.useContext(Cg).location}function DS(t){I.useContext(fA).static||I.useLayoutEffect(t)}function ya(){let{isDataRoute:t}=I.useContext(vs);return t?Dj():xj()}function xj(){ul()||Ft(!1);let t=I.useContext(QB),{basename:e,future:n,navigator:r}=I.useContext(fA),{matches:s}=I.useContext(vs),{pathname:i}=pA(),A=JSON.stringify(SB(s,n.v7_relativeSplatPath)),a=I.useRef(!1);return DS(()=>{a.current=!0}),I.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=NB(c,JSON.parse(A),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,A,i,t])}const Cj=I.createContext(null);function Ej(t){let e=I.useContext(vs).outlet;return e&&I.createElement(Cj.Provider,{value:t},e)}function _j(){let{matches:t}=I.useContext(vs),e=t[t.length-1];return e?e.params:{}}function LS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(fA),{matches:s}=I.useContext(vs),{pathname:i}=pA(),A=JSON.stringify(SB(s,r.v7_relativeSplatPath));return I.useMemo(()=>NB(t,JSON.parse(A),i,n==="path"),[t,A,i,n])}function bj(t,e){return Tj(t,e)}function Tj(t,e,n,r){ul()||Ft(!1);let{navigator:s,static:i}=I.useContext(fA),{matches:A}=I.useContext(vs),a=A[A.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=pA(),h;if(e){var f;let x=typeof e=="string"?cl(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ft(!1),h=x}else h=u;let g=h.pathname||"/",m=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:JL(t,{pathname:m}),E=Nj(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Vi([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Vi([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),A,n,r);return e&&E?I.createElement(Cg.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ui.Pop}},E):E}function Ij(){let t=Pj(),e=yj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const Uj=I.createElement(Ij,null);class Fj extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(vs.Provider,{value:this.props.routeContext},I.createElement(PS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sj(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(QB);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(vs.Provider,{value:e},r)}function Nj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let A=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=A.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ft(!1),A=A.slice(0,Math.min(A.length,u+1))}let o=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<A.length;u++){let h=A[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){o=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((u,h,f)=>{let g,m=!1,y=null,E=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Uj,o&&(c<0&&f===0?(m=!0,E=null):c===f&&(m=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(A.slice(0,f+1)),v=()=>{let w;return g?w=y:m?w=E:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,I.createElement(Sj,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(Fj,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var jS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jS||{}),tp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tp||{});function Qj(t){let e=I.useContext(QB);return e||Ft(!1),e}function kj(t){let e=I.useContext(wj);return e||Ft(!1),e}function Rj(t){let e=I.useContext(vs);return e||Ft(!1),e}function MS(t){let e=Rj(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function Pj(){var t;let e=I.useContext(PS),n=kj(tp.UseRouteError),r=MS(tp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Dj(){let{router:t}=Qj(jS.UseNavigateStable),e=MS(tp.UseNavigateStable),n=I.useRef(!1);return DS(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mu({fromRouteId:e},i)))},[t,e])}function Lj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _o(t){let{to:e,replace:n,state:r,relative:s}=t;ul()||Ft(!1);let{future:i,static:A}=I.useContext(fA),{matches:a}=I.useContext(vs),{pathname:o}=pA(),c=ya(),u=NB(e,SB(a,i.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(u);return I.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function OS(t){return Ej(t.context)}function Tt(t){Ft(!1)}function jj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ui.Pop,navigator:i,static:A=!1,future:a}=t;ul()&&Ft(!1);let o=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:o,navigator:i,static:A,future:mu({v7_relativeSplatPath:!1},a)}),[o,a,i,A]);typeof r=="string"&&(r=cl(r));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:m="default"}=r,y=I.useMemo(()=>{let E=FB(u,o);return E==null?null:{location:{pathname:E,search:h,hash:f,state:g,key:m},navigationType:s}},[o,u,h,f,g,m,s]);return y==null?null:I.createElement(fA.Provider,{value:c},I.createElement(Cg.Provider,{children:n,value:y}))}function VS(t){let{children:e,location:n}=t;return bj(ov(e),n)}new Promise(()=>{});function ov(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,ov(r.props.children,i));return}r.type!==Tt&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let A={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(A.children=ov(r.props.children,i)),n.push(A)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}function Mj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Oj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vj(t,e){return t.button===0&&(!e||e==="_self")&&!Oj(t)}const Hj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kj="6";try{window.__reactRouterVersion=Kj}catch{}const zj="startTransition",G_=DP[zj];function Gj(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=qL({window:s,v5Compat:!0}));let A=i.current,[a,o]=I.useState({action:A.action,location:A.location}),{v7_startTransition:c}=r||{},u=I.useCallback(h=>{c&&G_?G_(()=>o(h)):o(h)},[o,c]);return I.useLayoutEffect(()=>A.listen(u),[A,u]),I.useEffect(()=>Lj(r),[r]),I.createElement(jj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:A,future:r})}const $j=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,np=I.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:A,state:a,target:o,to:c,preventScrollReset:u,viewTransition:h}=e,f=Mj(e,Hj),{basename:g}=I.useContext(fA),m,y=!1;if(typeof c=="string"&&Wj.test(c)&&(m=c,$j))try{let w=new URL(window.location.href),F=c.startsWith("//")?new URL(w.protocol+c):new URL(c),T=FB(F.pathname,g);F.origin===w.origin&&T!=null?c=T+F.search+F.hash:y=!0}catch{}let E=Bj(c,{relative:s}),x=qj(c,{replace:A,state:a,target:o,preventScrollReset:u,relative:s,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||x(w)}return I.createElement("a",lv({},f,{href:m||E,onClick:y||i?r:v,ref:n,target:o}))});var $_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($_||($_={}));var W_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(W_||(W_={}));function qj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,o=ya(),c=pA(),u=LS(t,{relative:A});return I.useCallback(h=>{if(Vj(h,n)){h.preventDefault();let f=r!==void 0?r:ep(c)===ep(u);o(t,{replace:f,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[c,o,u,r,s,n,t,i,A,a])}var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Xj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],A=t[n++],a=t[n++],o=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(o&1023))}else{const i=t[n++],A=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,o=s+2<t.length,c=o?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;o||(g=64,A||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Yj;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jj=function(t){const e=HS(t);return KS.encodeByteArray(e,!0)},rp=function(t){return Jj(t).replace(/\./g,"")},zS=function(t){try{return KS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=()=>Zj().__FIREBASE_DEFAULTS__,tM=()=>{if(typeof process>"u"||typeof q_>"u")return;const t=q_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},Eg=()=>{try{return eM()||tM()||nM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GS=t=>{var e,n;return(n=(e=Eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kB=t=>{const e=GS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$S=()=>{var t;return(t=Eg())===null||t===void 0?void 0:t.config},WS=t=>{var e;return(e=Eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function iM(){var t;const e=(t=Eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lM(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cM(){return!iM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uM(){try{return typeof indexedDB=="object"}catch{return!1}}function dM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hM,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,id.prototype.create)}}class id{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?fM(i,r):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new Kr(s,a,r)}}function fM(t,e){return t.replace(pM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const pM=/\{\$([^}]+)}/g;function gM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],A=e[s];if(X_(i)&&X_(A)){if(!sp(i,A))return!1}else if(i!==A)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function X_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function oc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mM(t,e){const n=new yM(t,e);return n.subscribe.bind(n)}class yM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=d0),s.error===void 0&&(s.error=d0),s.complete===void 0&&(s.complete=d0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function d0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xM(e))try{this.getOrInitializeService({instanceIdentifier:NA})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=NA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=NA){return this.instances.has(e)}getOptions(e=NA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&A.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=NA){return this.component?this.component.multipleInstances?e:NA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BM(t){return t===NA?void 0:t}function xM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const EM={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},_M=Qe.INFO,bM={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},TM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=bM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let RB=class{constructor(e){this.name=e,this._logLevel=_M,this._logHandler=TM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}};const IM=(t,e)=>e.some(n=>t instanceof n);let Y_,J_;function UM(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FM(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,cv=new WeakMap,YS=new WeakMap,h0=new WeakMap,PB=new WeakMap;function SM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{n(Hi(t.result)),s()},A=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),PB.set(e,t),e}function NM(t){if(cv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{n(),s()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});cv.set(t,e)}let uv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QM(t){uv=t(uv)}function kM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(f0(this),e,...n);return YS.set(r,e.sort?e.sort():[e]),Hi(r)}:FM().includes(t)?function(...e){return t.apply(f0(this),e),Hi(XS.get(this))}:function(...e){return Hi(t.apply(f0(this),e))}}function RM(t){return typeof t=="function"?kM(t):(t instanceof IDBTransaction&&NM(t),IM(t,UM())?new Proxy(t,uv):t)}function Hi(t){if(t instanceof IDBRequest)return SM(t);if(h0.has(t))return h0.get(t);const e=RM(t);return e!==t&&(h0.set(t,e),PB.set(e,t)),e}const f0=t=>PB.get(t);function PM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=Hi(A);return r&&A.addEventListener("upgradeneeded",o=>{r(Hi(A.result),o.oldVersion,o.newVersion,Hi(A.transaction),o)}),n&&A.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const DM=["get","getKey","getAll","getAllKeys","count"],LM=["put","add","delete","clear"],p0=new Map;function Z_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(p0.get(e))return p0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=LM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||DM.includes(n)))return;const i=async function(A,...a){const o=this.transaction(A,s?"readwrite":"readonly");let c=o.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&o.done]))[0]};return p0.set(e,i),i}QM(t=>({...t,get:(e,n,r)=>Z_(e,n)||t.get(e,n,r),has:(e,n)=>!!Z_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dv="@firebase/app",e1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new RB("@firebase/app"),OM="@firebase/app-compat",VM="@firebase/analytics-compat",HM="@firebase/analytics",KM="@firebase/app-check-compat",zM="@firebase/app-check",GM="@firebase/auth",$M="@firebase/auth-compat",WM="@firebase/database",qM="@firebase/data-connect",XM="@firebase/database-compat",YM="@firebase/functions",JM="@firebase/functions-compat",ZM="@firebase/installations",eO="@firebase/installations-compat",tO="@firebase/messaging",nO="@firebase/messaging-compat",rO="@firebase/performance",sO="@firebase/performance-compat",iO="@firebase/remote-config",AO="@firebase/remote-config-compat",aO="@firebase/storage",oO="@firebase/storage-compat",lO="@firebase/firestore",cO="@firebase/vertexai-preview",uO="@firebase/firestore-compat",dO="firebase",hO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="[DEFAULT]",fO={[dv]:"fire-core",[OM]:"fire-core-compat",[HM]:"fire-analytics",[VM]:"fire-analytics-compat",[zM]:"fire-app-check",[KM]:"fire-app-check-compat",[GM]:"fire-auth",[$M]:"fire-auth-compat",[WM]:"fire-rtdb",[qM]:"fire-data-connect",[XM]:"fire-rtdb-compat",[YM]:"fire-fn",[JM]:"fire-fn-compat",[ZM]:"fire-iid",[eO]:"fire-iid-compat",[tO]:"fire-fcm",[nO]:"fire-fcm-compat",[rO]:"fire-perf",[sO]:"fire-perf-compat",[iO]:"fire-rc",[AO]:"fire-rc-compat",[aO]:"fire-gcs",[oO]:"fire-gcs-compat",[lO]:"fire-fst",[uO]:"fire-fst-compat",[cO]:"fire-vertex","fire-js":"fire-js",[dO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,pO=new Map,fv=new Map;function t1(t,e){try{t.container.addComponent(e)}catch(n){qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yi(t){const e=t.name;if(fv.has(e))return qs.debug(`There were multiple attempts to register component ${e}.`),!1;fv.set(e,t);for(const n of ip.values())t1(n,t);for(const n of pO.values())t1(n,t);return!0}function ad(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new id("app","Firebase",gO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=hO;function JS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:hv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ki.create("bad-app-name",{appName:String(s)});if(n||(n=$S()),!n)throw Ki.create("no-options");const i=ip.get(s);if(i){if(sp(n,i.options)&&sp(r,i.config))return i;throw Ki.create("duplicate-app",{appName:s})}const A=new CM(s);for(const o of fv.values())A.addComponent(o);const a=new mO(n,r,A);return ip.set(s,a),a}function _g(t=hv){const e=ip.get(t);if(!e&&t===hv&&$S())return JS();if(!e)throw Ki.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let s=(r=fO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qs.warn(a.join(" "));return}Yi(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="firebase-heartbeat-database",vO=1,yu="firebase-heartbeat-store";let g0=null;function ZS(){return g0||(g0=PM(yO,vO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),g0}async function wO(t){try{const n=(await ZS()).transaction(yu),r=await n.objectStore(yu).get(e2(t));return await n.done,r}catch(e){if(e instanceof Kr)qs.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qs.warn(n.message)}}}async function n1(t,e){try{const r=(await ZS()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,e2(t)),await r.done}catch(n){if(n instanceof Kr)qs.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qs.warn(r.message)}}}function e2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1024,xO=30*24*60*60*1e3;class CO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _O(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=r1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=xO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=r1(),{heartbeatsToSend:r,unsentEntries:s}=EO(this._heartbeatsCache.heartbeats),i=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return qs.warn(n),""}}}function r1(){return new Date().toISOString().substring(0,10)}function EO(t,e=BO){const n=[];let r=t.slice();for(const s of t){const i=n.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),s1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),s1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _O{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uM()?dM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return n1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return n1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s1(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t){Yi(new Ws("platform-logger",e=>new jM(e),"PRIVATE")),Yi(new Ws("heartbeat",e=>new CO(e),"PRIVATE")),Br(dv,e1,t),Br(dv,e1,"esm2017"),Br("fire-js","")}bO("");var TO="firebase",IO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(TO,IO,"app");function DB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function t2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UO=t2,n2=new id("auth","Firebase",t2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new RB("@firebase/auth");function FO(t,...e){Ap.logLevel<=Qe.WARN&&Ap.warn(`Auth (${va}): ${t}`,...e)}function cf(t,...e){Ap.logLevel<=Qe.ERROR&&Ap.error(`Auth (${va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw LB(t,...e)}function is(t,...e){return LB(t,...e)}function r2(t,e,n){const r=Object.assign(Object.assign({},UO()),{[e]:n});return new id("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return r2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LB(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n2.create(t,...e)}function Ce(t,e,...n){if(!t)throw LB(e,...n)}function Ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cf(e),new Error(e)}function Xs(t,e){t||Ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SO(){return i1()==="http:"||i1()==="https:"}function i1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||aM()||"connection"in navigator)?navigator.onLine:!0}function QO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xs(n>e,"Short delay should be less than long delay!"),this.isMobile=sM()||oM()}get(){return NO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t,e){Xs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new od(3e4,6e4);function gA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zr(t,e,n,r,s={}){return i2(t,s,async()=>{let i={},A={};r&&(e==="GET"?A=r:i={body:JSON.stringify(r)});const a=Ad(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:o},i);return AM()||(c.referrerPolicy="no-referrer"),s2.fetch()(A2(t,t.config.apiHost,n,a),c)})}async function i2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kO),e);try{const s=new DO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw hh(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[o,c]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw hh(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw hh(t,"user-disabled",A);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw r2(t,u,c);jr(t,u)}}catch(s){if(s instanceof Kr)throw s;jr(t,"network-request-failed",{message:String(s)})}}async function bg(t,e,n,r,s={}){const i=await zr(t,e,n,r,s);return"mfaPendingCredential"in i&&jr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function A2(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?jB(t.config,s):`${t.config.apiScheme}://${s}`}function PO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),RO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=is(t,e,r);return s.customData._tokenResponse=n,s}function A1(t){return t!==void 0&&t.enterprise!==void 0}class LO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jO(t,e){return zr(t,"GET","/v2/recaptchaConfig",gA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function a2(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OO(t,e=!1){const n=He(t),r=await n.getIdToken(e),s=MB(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rc(m0(s.auth_time)),issuedAtTime:Rc(m0(s.iat)),expirationTime:Rc(m0(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function m0(t){return Number(t)*1e3}function MB(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const s=zS(n);return s?JSON.parse(s):(cf("Failed to decode base64 JWT payload"),null)}catch(s){return cf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function a1(t){const e=MB(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&VO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t){var e;const n=t.auth,r=await t.getIdToken(),s=await sa(t,a2(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?o2(i.providerUserInfo):[],a=zO(t.providerData,A),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function KO(t){const e=He(t);await ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function o2(t){return t.map(e=>{var{providerId:n}=e,r=DB(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){const n=await i2(t,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=A2(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",s2.fetch()(A,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $O(t,e){return zr(t,"POST","/v2/accounts:revokeToken",gA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=a1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await GO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,A=new bo;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),A.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ds{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=DB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OO(this,e)}reload(){return KO(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await sa(this,MO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,A,a,o,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(A=n.photoURL)!==null&&A!==void 0?A:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(o=n._redirectEventId)!==null&&o!==void 0?o:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:F,isAnonymous:T,providerData:Q,stsTokenManager:b}=n;Ce(w&&b,e,"internal-error");const C=bo.fromJSON(this.name,b);Ce(typeof w=="string",e,"internal-error"),ci(h,e.name),ci(f,e.name),Ce(typeof F=="boolean",e,"internal-error"),Ce(typeof T=="boolean",e,"internal-error"),ci(g,e.name),ci(m,e.name),ci(y,e.name),ci(E,e.name),ci(x,e.name),ci(v,e.name);const _=new Ds({uid:w,auth:e,email:f,emailVerified:F,displayName:h,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:y,stsTokenManager:C,createdAt:x,lastLoginAt:v});return Q&&Array.isArray(Q)&&(_.providerData=Q.map(U=>Object.assign({},U))),E&&(_._redirectEventId=E),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new bo;s.updateFromServerResponse(n);const i=new Ds({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ap(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?o2(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new bo;a.updateFromIdToken(r);const o=new Ds({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new gv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new Map;function Ls(t){Xs(t instanceof Function,"Expected a class definition");let e=o1.get(t);return e?(Xs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l2.type="NONE";const l1=l2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=uf(this.userKey,s.apiKey,i),this.fullPersistenceKey=uf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new To(Ls(l1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Ls(l1);const A=uf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(A);if(u){const h=Ds._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const o=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new To(i,e,r):(i=o[0],a&&await i._set(A,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(A)}catch{}})),new To(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p2(e))return"Blackberry";if(g2(e))return"Webos";if(u2(e))return"Safari";if((e.includes("chrome/")||d2(e))&&!e.includes("edge/"))return"Chrome";if(f2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function c2(t=_n()){return/firefox\//i.test(t)}function u2(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d2(t=_n()){return/crios\//i.test(t)}function h2(t=_n()){return/iemobile/i.test(t)}function f2(t=_n()){return/android/i.test(t)}function p2(t=_n()){return/blackberry/i.test(t)}function g2(t=_n()){return/webos/i.test(t)}function OB(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WO(t=_n()){var e;return OB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qO(){return lM()&&document.documentMode===10}function m2(t=_n()){return OB(t)||f2(t)||g2(t)||p2(t)||/windows phone/i.test(t)||h2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t,e=[]){let n;switch(t){case"Browser":n=c1(_n());break;case"Worker":n=`${c1(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((A,a)=>{try{const o=e(i);A(o)}catch(o){a(o)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e={}){return zr(t,"GET","/v2/passwordPolicy",gA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=6;class ZO{constructor(e){var n,r,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=A.minPasswordLength)!==null&&n!==void 0?n:JO,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(n=o.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u1(this),this.idTokenSubscription=new u1(this),this.beforeStateQueue=new XO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ls(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await a2(this,{idToken:e}),r=await Ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rs(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ap(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(zi(this));const n=e?He(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YO(this),n=new ZO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new id("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $O(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ls(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[Ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,r,s);return()=>{A=!0,o()}}else{const o=e.addObserver(n);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dl(t){return He(t)}class u1{constructor(e){this.auth=e,this.observer=null,this.addObserver=mM(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tV(t){Tg=t}function v2(t){return Tg.loadJS(t)}function nV(){return Tg.recaptchaEnterpriseScript}function rV(){return Tg.gapiScript}function sV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iV="recaptcha-enterprise",AV="NO_RECAPTCHA";class aV{constructor(e){this.type=iV,this.auth=dl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,a)=>{jO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new LO(o);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,A(c.siteKey)}}).catch(o=>{a(o)})})}function s(i,A,a){const o=window.grecaptcha;A1(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:e}).then(c=>{A(c)}).catch(()=>{A(AV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{r(this.auth).then(a=>{if(!n&&A1(window.grecaptcha))s(a,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=nV();o.length!==0&&(o+=a),v2(o).then(()=>{s(a,i,A)}).catch(c=>{A(c)})}}).catch(a=>{A(a)})})}}async function d1(t,e,n,r=!1){const s=new aV(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const A=Object.assign({},e);return r?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function h1(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await d1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await d1(t,e,n,n==="getOobCode");return r(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e){const n=ad(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(sp(i,e??{}))return s;jr(s,"already-initialized")}return n.initialize({options:e})}function lV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ls);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cV(t,e,n){const r=dl(t);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=w2(e),{host:A,port:a}=uV(e),o=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${A}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),dV()}function w2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uV(t){const e=w2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:f1(r.substr(i.length+1))}}else{const[i,A]=r.split(":");return{host:i,port:f1(A)}}}function f1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ps("not implemented")}_getIdTokenResponse(e){return Ps("not implemented")}_linkToIdToken(e,n){return Ps("not implemented")}_getReauthenticationResolver(e){return Ps("not implemented")}}async function hV(t,e){return zr(t,"POST","/v1/accounts:update",e)}async function fV(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return bg(t,"POST","/v1/accounts:signInWithPassword",gA(t,e))}async function gV(t,e){return zr(t,"POST","/v1/accounts:sendOobCode",gA(t,e))}async function mV(t,e){return gV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e){return bg(t,"POST","/v1/accounts:signInWithEmailLink",gA(t,e))}async function vV(t,e){return bg(t,"POST","/v1/accounts:signInWithEmailLink",gA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends VB{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,n,"signInWithPassword",pV);case"emailLink":return yV(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,r,"signUpPassword",fV);case"emailLink":return vV(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e){return bg(t,"POST","/v1/accounts:signInWithIdp",gA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="http://localhost";class ia extends VB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=DB(n,["providerId","signInMethod"]);if(!r||!s)return null;const A=new ia(r,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:wV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xV(t){const e=ac(oc(t)).link,n=e?ac(oc(e)).deep_link_id:null,r=ac(oc(t)).deep_link_id;return(r?ac(oc(r)).link:null)||r||n||e||t}class HB{constructor(e){var n,r,s,i,A,a;const o=ac(oc(e)),c=(n=o.apiKey)!==null&&n!==void 0?n:null,u=(r=o.oobCode)!==null&&r!==void 0?r:null,h=BV((s=o.mode)!==null&&s!==void 0?s:null);Ce(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=xV(e);try{return new HB(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,n){return vu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=HB.parseLink(n);return Ce(r,"argument-error"),vu._fromEmailAndCode(e,r.code,r.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends B2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends ld{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends ld{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends ld{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com";xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends ld{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ds._fromIdTokenResponse(e,r,s),A=p1(r);return new Ko({user:i,providerId:A,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=p1(r);return new Ko({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function p1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends Kr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,op.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new op(e,n,r,s)}}function x2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?op._fromErrorAndOperation(t,i,e,r):i})}async function CV(t,e,n=!1){const r=await sa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e,n=!1){const{auth:r}=t;if(Rs(r.app))return Promise.reject(zi(r));const s="reauthenticate";try{const i=await sa(t,x2(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const A=MB(i.idToken);Ce(A,r,"internal-error");const{sub:a}=A;return Ce(t.uid===a,r,"user-mismatch"),Ko._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&jr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e,n=!1){if(Rs(t.app))return Promise.reject(zi(t));const r="signIn",s=await x2(t,r,e),i=await Ko._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function _V(t,e){return C2(dl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t){const e=dl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TV(t,e,n){return Rs(t.app)?Promise.reject(zi(t)):_V(He(t),hl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&bV(t),r})}async function IV(t,e){const n=He(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await mV(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return zr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=He(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},A=await sa(r,UV(r.auth,i));r.displayName=A.displayName||null,r.photoURL=A.photoUrl||null;const a=r.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(A)}function SV(t,e){return NV(He(t),null,e)}async function NV(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const A=await sa(t,hV(r,i));await t._updateTokensIfNecessary(A,!0)}function QV(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function kV(t,e,n){return He(t).beforeAuthStateChanged(e,n)}const lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=1e3,PV=10;class _2 extends E2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(r);!n&&this.localCache[r]===A||this.notifyListeners(r,A)},i=this.storage.getItem(r);qO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,PV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_2.type="LOCAL";const DV=_2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends E2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b2.type="SESSION";const T2=b2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(A).map(async c=>c(n.origin,i)),o=await LV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,o)=>{const c=KB("",20);s.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},r);A={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function MV(t){As().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function OV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HV(){return I2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebaseLocalStorageDb",KV=1,cp="firebaseLocalStorage",F2="fbase_key";class cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ug(t,e){return t.transaction([cp],e?"readwrite":"readonly").objectStore(cp)}function zV(){const t=indexedDB.deleteDatabase(U2);return new cd(t).toPromise()}function mv(){const t=indexedDB.open(U2,KV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cp,{keyPath:F2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cp)?e(r):(r.close(),await zV(),e(await mv()))})})}async function g1(t,e,n){const r=Ug(t,!0).put({[F2]:e,value:n});return new cd(r).toPromise()}async function GV(t,e){const n=Ug(t,!1).get(e),r=await new cd(n).toPromise();return r===void 0?null:r.value}function m1(t,e){const n=Ug(t,!0).delete(e);return new cd(n).toPromise()}const $V=800,WV=3;class S2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ig._getInstance(HV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new jV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mv();return await g1(e,lp,"1"),await m1(e,lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ug(s,!1).getAll();return new cd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$V)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S2.type="LOCAL";const qV=S2;new od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e){return e?Ls(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB extends VB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YV(t){return C2(t.auth,new zB(t),t.bypassAuthState)}function JV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),EV(n,new zB(t),t.bypassAuthState)}async function ZV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),CV(n,new zB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YV;case"linkViaPopup":case"linkViaRedirect":return ZV;case"reauthViaPopup":case"reauthViaRedirect":return JV;default:jr(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=new od(2e3,1e4);class oo extends N2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=KB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eH.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH="pendingRedirect",df=new Map;class nH extends N2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const r=await rH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rH(t,e){const n=AH(e),r=iH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function sH(t,e){df.set(t._key(),e)}function iH(t){return Ls(t._redirectPersistence)}function AH(t){return uf(tH,t.config.apiKey,t.name)}async function aH(t,e,n=!1){if(Rs(t.app))return Promise.reject(zi(t));const r=dl(t),s=XV(r,e),A=await new nH(r,s,n).execute();return A&&!n&&(delete A.user._redirectEventId,await r._persistUserIfCurrent(A.user),await r._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=10*60*1e3;class lH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Q2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oH&&this.cachedEventUids.clear(),this.cachedEventUids.has(y1(e))}saveEventToCache(e){this.cachedEventUids.add(y1(e)),this.lastProcessedEventTime=Date.now()}}function y1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Q2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hH=/^https?/;async function fH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uH(t);for(const n of e)try{if(pH(n))return}catch{}jr(t,"unauthorized-domain")}function pH(t){const e=pv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&A.hostname===r}if(!hH.test(n))return!1;if(dH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=new od(3e4,6e4);function v1(){const t=As().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mH(t){return new Promise((e,n)=>{var r,s,i;function A(){v1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v1(),n(is(t,"network-request-failed"))},timeout:gH.get()})}if(!((s=(r=As().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=As().gapi)===null||i===void 0)&&i.load)A();else{const a=sV("iframefcb");return As()[a]=()=>{gapi.load?A():n(is(t,"network-request-failed"))},v2(`${rV()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw hf=null,e})}let hf=null;function yH(t){return hf=hf||mH(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=new od(5e3,15e3),wH="__/auth/iframe",BH="emulator/auth/iframe",xH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EH(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jB(e,BH):`https://${t.config.authDomain}/${wH}`,r={apiKey:e.apiKey,appName:t.name,v:va},s=CH.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ad(r).slice(1)}`}async function _H(t){const e=await yH(t),n=As().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:EH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const A=is(t,"network-request-failed"),a=As().setTimeout(()=>{i(A)},vH.get());function o(){As().clearTimeout(a),s(r)}r.ping(o).then(o,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TH=500,IH=600,UH="_blank",FH="http://localhost";class w1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SH(t,e,n,r=TH,s=IH){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const o=Object.assign(Object.assign({},bH),{width:r.toString(),height:s.toString(),top:i,left:A}),c=_n().toLowerCase();n&&(a=d2(c)?UH:n),c2(c)&&(e=e||FH,o.scrollbars="yes");const u=Object.entries(o).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(WO(c)&&a!=="_self")return NH(e||"",a),new w1(null);const h=window.open(e||"",a,u);Ce(h,t,"popup-blocked");try{h.focus()}catch{}return new w1(h)}function NH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH="__/auth/handler",kH="emulator/auth/handler",RH=encodeURIComponent("fac");async function B1(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:s};if(e instanceof B2){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",gM(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))A[u]=h}if(e instanceof ld){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const o=await t._getAppCheckToken(),c=o?`#${RH}=${encodeURIComponent(o)}`:"";return`${PH(t)}?${Ad(a).slice(1)}${c}`}function PH({config:t}){return t.emulator?jB(t,kH):`https://${t.authDomain}/${QH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="webStorageSupport";class DH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T2,this._completeRedirectFn=aH,this._overrideRedirectResult=sH}async _openPopup(e,n,r,s){var i;Xs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await B1(e,n,r,pv(),s);return SH(e,A,KB())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await B1(e,n,r,pv(),s);return MV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Xs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _H(e),r=new lH(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(y0,{type:y0},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[y0];A!==void 0&&n(!!A),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m2()||u2()||OB()}}const LH=DH;var x1="@firebase/auth",C1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OH(t){Yi(new Ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=r.options;Ce(A&&!A.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y2(t)},c=new eV(r,s,i,o);return lV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yi(new Ws("auth-internal",e=>{const n=dl(e.getProvider("auth").getImmediate());return(r=>new jH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(x1,C1,MH(t)),Br(x1,C1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=5*60,HH=WS("authIdTokenMaxAge")||VH;let E1=null;const KH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HH)return;const s=n==null?void 0:n.token;E1!==s&&(E1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function zH(t=_g()){const e=ad(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oV(t,{popupRedirectResolver:LH,persistence:[qV,DV,T2]}),r=WS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const A=KH(i.toString());kV(n,A,()=>A(n.currentUser)),QV(n,a=>A(a))}}const s=GS("auth");return s&&cV(n,`http://${s}`),n}function GH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=is("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",GH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OH("Browser");var _1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,k2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function _(){}_.prototype=C.prototype,b.D=C.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(U,k,R){for(var S=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)S[ee-2]=arguments[ee];return C.prototype[k].apply(U,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,_){_||(_=0);var U=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)U[k]=C.charCodeAt(_++)|C.charCodeAt(_++)<<8|C.charCodeAt(_++)<<16|C.charCodeAt(_++)<<24;else for(k=0;16>k;++k)U[k]=C[_++]|C[_++]<<8|C[_++]<<16|C[_++]<<24;C=b.g[0],_=b.g[1],k=b.g[2];var R=b.g[3],S=C+(R^_&(k^R))+U[0]+3614090360&4294967295;C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+U[1]+3905402710&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+U[2]+606105819&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+U[3]+3250441966&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(R^_&(k^R))+U[4]+4118548399&4294967295,C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+U[5]+1200080426&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+U[6]+2821735955&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+U[7]+4249261313&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(R^_&(k^R))+U[8]+1770035416&4294967295,C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+U[9]+2336552879&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+U[10]+4294925233&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+U[11]+2304563134&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(R^_&(k^R))+U[12]+1804603682&4294967295,C=_+(S<<7&4294967295|S>>>25),S=R+(k^C&(_^k))+U[13]+4254626195&4294967295,R=C+(S<<12&4294967295|S>>>20),S=k+(_^R&(C^_))+U[14]+2792965006&4294967295,k=R+(S<<17&4294967295|S>>>15),S=_+(C^k&(R^C))+U[15]+1236535329&4294967295,_=k+(S<<22&4294967295|S>>>10),S=C+(k^R&(_^k))+U[1]+4129170786&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+U[6]+3225465664&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+U[11]+643717713&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+U[0]+3921069994&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(k^R&(_^k))+U[5]+3593408605&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+U[10]+38016083&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+U[15]+3634488961&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+U[4]+3889429448&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(k^R&(_^k))+U[9]+568446438&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+U[14]+3275163606&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+U[3]+4107603335&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+U[8]+1163531501&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(k^R&(_^k))+U[13]+2850285829&4294967295,C=_+(S<<5&4294967295|S>>>27),S=R+(_^k&(C^_))+U[2]+4243563512&4294967295,R=C+(S<<9&4294967295|S>>>23),S=k+(C^_&(R^C))+U[7]+1735328473&4294967295,k=R+(S<<14&4294967295|S>>>18),S=_+(R^C&(k^R))+U[12]+2368359562&4294967295,_=k+(S<<20&4294967295|S>>>12),S=C+(_^k^R)+U[5]+4294588738&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+U[8]+2272392833&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+U[11]+1839030562&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+U[14]+4259657740&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(_^k^R)+U[1]+2763975236&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+U[4]+1272893353&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+U[7]+4139469664&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+U[10]+3200236656&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(_^k^R)+U[13]+681279174&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+U[0]+3936430074&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+U[3]+3572445317&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+U[6]+76029189&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(_^k^R)+U[9]+3654602809&4294967295,C=_+(S<<4&4294967295|S>>>28),S=R+(C^_^k)+U[12]+3873151461&4294967295,R=C+(S<<11&4294967295|S>>>21),S=k+(R^C^_)+U[15]+530742520&4294967295,k=R+(S<<16&4294967295|S>>>16),S=_+(k^R^C)+U[2]+3299628645&4294967295,_=k+(S<<23&4294967295|S>>>9),S=C+(k^(_|~R))+U[0]+4096336452&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+U[7]+1126891415&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+U[14]+2878612391&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+U[5]+4237533241&4294967295,_=k+(S<<21&4294967295|S>>>11),S=C+(k^(_|~R))+U[12]+1700485571&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+U[3]+2399980690&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+U[10]+4293915773&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+U[1]+2240044497&4294967295,_=k+(S<<21&4294967295|S>>>11),S=C+(k^(_|~R))+U[8]+1873313359&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+U[15]+4264355552&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+U[6]+2734768916&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+U[13]+1309151649&4294967295,_=k+(S<<21&4294967295|S>>>11),S=C+(k^(_|~R))+U[4]+4149444226&4294967295,C=_+(S<<6&4294967295|S>>>26),S=R+(_^(C|~k))+U[11]+3174756917&4294967295,R=C+(S<<10&4294967295|S>>>22),S=k+(C^(R|~_))+U[2]+718787259&4294967295,k=R+(S<<15&4294967295|S>>>17),S=_+(R^(k|~C))+U[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(k+(S<<21&4294967295|S>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+R&4294967295}r.prototype.u=function(b,C){C===void 0&&(C=b.length);for(var _=C-this.blockSize,U=this.B,k=this.h,R=0;R<C;){if(k==0)for(;R<=_;)s(this,b,R),R+=this.blockSize;if(typeof b=="string"){for(;R<C;)if(U[k++]=b.charCodeAt(R++),k==this.blockSize){s(this,U),k=0;break}}else for(;R<C;)if(U[k++]=b[R++],k==this.blockSize){s(this,U),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var _=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=_&255,_/=256;for(this.u(b),b=Array(16),C=_=0;4>C;++C)for(var U=0;32>U;U+=8)b[_++]=this.g[C]>>>U&255;return b};function i(b,C){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=C(b)}function A(b,C){this.h=C;for(var _=[],U=!0,k=b.length-1;0<=k;k--){var R=b[k]|0;U&&R==C||(_[k]=R,U=!1)}this.g=_}var a={};function o(b){return-128<=b&&128>b?i(b,function(C){return new A([C|0],0>C?-1:0)}):new A([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return E(c(-b));for(var C=[],_=1,U=0;b>=_;U++)C[U]=b/_|0,_*=4294967296;return new A(C,0)}function u(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return E(u(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(C,8)),U=h,k=0;k<b.length;k+=8){var R=Math.min(8,b.length-k),S=parseInt(b.substring(k,k+R),C);8>R?(R=c(Math.pow(C,R)),U=U.j(R).add(c(S))):(U=U.j(_),U=U.add(c(S)))}return U}var h=o(0),f=o(1),g=o(16777216);t=A.prototype,t.m=function(){if(y(this))return-E(this).m();for(var b=0,C=1,_=0;_<this.g.length;_++){var U=this.i(_);b+=(0<=U?U:4294967296+U)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(m(this))return"0";if(y(this))return"-"+E(this).toString(b);for(var C=c(Math.pow(b,6)),_=this,U="";;){var k=F(_,C).g;_=x(_,k.j(C));var R=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=k,m(_))return R+U;for(;6>R.length;)R="0"+R;U=R+U}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function m(b){if(b.h!=0)return!1;for(var C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=x(this,b),y(b)?-1:m(b)?0:1};function E(b){for(var C=b.g.length,_=[],U=0;U<C;U++)_[U]=~b.g[U];return new A(_,~b.h).add(f)}t.abs=function(){return y(this)?E(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],U=0,k=0;k<=C;k++){var R=U+(this.i(k)&65535)+(b.i(k)&65535),S=(R>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);U=S>>>16,R&=65535,S&=65535,_[k]=S<<16|R}return new A(_,_[_.length-1]&-2147483648?-1:0)};function x(b,C){return b.add(E(C))}t.j=function(b){if(m(this)||m(b))return h;if(y(this))return y(b)?E(this).j(E(b)):E(E(this).j(b));if(y(b))return E(this.j(E(b)));if(0>this.l(g)&&0>b.l(g))return c(this.m()*b.m());for(var C=this.g.length+b.g.length,_=[],U=0;U<2*C;U++)_[U]=0;for(U=0;U<this.g.length;U++)for(var k=0;k<b.g.length;k++){var R=this.i(U)>>>16,S=this.i(U)&65535,ee=b.i(k)>>>16,Ae=b.i(k)&65535;_[2*U+2*k]+=S*Ae,v(_,2*U+2*k),_[2*U+2*k+1]+=R*Ae,v(_,2*U+2*k+1),_[2*U+2*k+1]+=S*ee,v(_,2*U+2*k+1),_[2*U+2*k+2]+=R*ee,v(_,2*U+2*k+2)}for(U=0;U<C;U++)_[U]=_[2*U+1]<<16|_[2*U];for(U=C;U<2*C;U++)_[U]=0;return new A(_,0)};function v(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function w(b,C){this.g=b,this.h=C}function F(b,C){if(m(C))throw Error("division by zero");if(m(b))return new w(h,h);if(y(b))return C=F(E(b),C),new w(E(C.g),E(C.h));if(y(C))return C=F(b,E(C)),new w(E(C.g),C.h);if(30<b.g.length){if(y(b)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var _=f,U=C;0>=U.l(b);)_=T(_),U=T(U);var k=Q(_,1),R=Q(U,1);for(U=Q(U,2),_=Q(_,2);!m(U);){var S=R.add(U);0>=S.l(b)&&(k=k.add(_),R=S),U=Q(U,1),_=Q(_,1)}return C=x(b,k.j(C)),new w(k,C)}for(k=h;0<=b.l(C);){for(_=Math.max(1,Math.floor(b.m()/C.m())),U=Math.ceil(Math.log(_)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),R=c(_),S=R.j(C);y(S)||0<S.l(b);)_-=U,R=c(_),S=R.j(C);m(R)&&(R=f),k=k.add(R),b=x(b,S)}return new w(k,b)}t.A=function(b){return F(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],U=0;U<C;U++)_[U]=this.i(U)&b.i(U);return new A(_,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],U=0;U<C;U++)_[U]=this.i(U)|b.i(U);return new A(_,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),_=[],U=0;U<C;U++)_[U]=this.i(U)^b.i(U);return new A(_,this.h^b.h)};function T(b){for(var C=b.g.length+1,_=[],U=0;U<C;U++)_[U]=b.i(U)<<1|b.i(U-1)>>>31;return new A(_,b.h)}function Q(b,C){var _=C>>5;C%=32;for(var U=b.g.length-_,k=[],R=0;R<U;R++)k[R]=0<C?b.i(R+_)>>>C|b.i(R+_+1)<<32-C:b.i(R+_);return new A(k,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k2=r,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=c,A.fromString=u,$A=A}).apply(typeof _1<"u"?_1:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R2,lc,P2,ff,yv,D2,L2,j2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,p,B){return d==Array.prototype||d==Object.prototype||(d[p]=B.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var p=0;p<d.length;++p){var B=d[p];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function s(d,p){if(p)e:{var B=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var D=d[N];if(!(D in B))break e;B=B[D]}d=d[d.length-1],N=B[d],p=p(N),p!=N&&p!=null&&e(B,d,{configurable:!0,writable:!0,value:p})}}function i(d,p){d instanceof String&&(d+="");var B=0,N=!1,D={next:function(){if(!N&&B<d.length){var M=B++;return{value:p(M,d[M]),done:!1}}return N=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(d){return d||function(){return i(this,function(p,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(d){var p=typeof d;return p=p!="object"?p:d?Array.isArray(d)?"array":p:"null",p=="array"||p=="object"&&typeof d.length=="number"}function c(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function u(d,p,B){return d.call.apply(d.bind,arguments)}function h(d,p,B){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,N),d.apply(p,D)}}return function(){return d.apply(p,arguments)}}function f(d,p,B){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,p){var B=Array.prototype.slice.call(arguments,1);return function(){var N=B.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function m(d,p){function B(){}B.prototype=p.prototype,d.aa=p.prototype,d.prototype=new B,d.prototype.constructor=d,d.Qb=function(N,D,M){for(var Z=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Z[Ze-2]=arguments[Ze];return p.prototype[D].apply(N,Z)}}function y(d){const p=d.length;if(0<p){const B=Array(p);for(let N=0;N<p;N++)B[N]=d[N];return B}return[]}function E(d,p){for(let B=1;B<arguments.length;B++){const N=arguments[B];if(o(N)){const D=d.length||0,M=N.length||0;d.length=D+M;for(let Z=0;Z<M;Z++)d[D+Z]=N[Z]}else d.push(N)}}class x{constructor(p,B){this.i=p,this.j=B,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function Q(d,p,B){for(const N in d)p.call(B,d[N],N,d)}function b(d,p){for(const B in d)p.call(void 0,d[B],B,d)}function C(d){const p={};for(const B in d)p[B]=d[B];return p}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,p){let B,N;for(let D=1;D<arguments.length;D++){N=arguments[D];for(B in N)d[B]=N[B];for(let M=0;M<_.length;M++)B=_[M],Object.prototype.hasOwnProperty.call(N,B)&&(d[B]=N[B])}}function k(d){var p=1;d=d.split(":");const B=[];for(;0<p&&d.length;)B.push(d.shift()),p--;return d.length&&B.push(d.join(":")),B}function R(d){a.setTimeout(()=>{throw d},0)}function S(){var d=H;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,B){const N=Ae.get();N.set(p,B),this.h?this.h.next=N:this.g=N,this.h=N}}var Ae=new x(()=>new K,d=>d.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,B){this.h=p,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let J,L=!1,H=new ee,W=()=>{const d=a.Promise.resolve(void 0);J=()=>{d.then(G)}};var G=()=>{for(var d;d=S();){try{d.h.call(d.g)}catch(B){R(B)}var p=Ae;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}L=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Be(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Be.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const B=()=>{};a.addEventListener("test",B,p),a.removeEventListener("test",B,p)}catch{}return d}();function Ge(d,p){if(Be.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var B=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(T){e:{try{F(p.nodeName);var D=!0;break e}catch{}D=!1}D||(p=null)}}else B=="mouseover"?p=d.fromElement:B=="mouseout"&&(p=d.toElement);this.relatedTarget=p,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:st[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ge.aa.h.call(this)}}m(Ge,Be);var st={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),BA=0;function Sd(d,p,B,N,D){this.listener=d,this.proxy=null,this.src=p,this.type=B,this.capture=!!N,this.ha=D,this.key=++BA,this.da=this.fa=!1}function ba(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function xA(d){this.src=d,this.g={},this.h=0}xA.prototype.add=function(d,p,B,N,D){var M=d.toString();d=this.g[M],d||(d=this.g[M]=[],this.h++);var Z=Ta(d,p,N,D);return-1<Z?(p=d[Z],B||(p.fa=!1)):(p=new Sd(p,this.src,M,!!N,D),p.fa=B,d.push(p)),p};function Cl(d,p){var B=p.type;if(B in d.g){var N=d.g[B],D=Array.prototype.indexOf.call(N,p,void 0),M;(M=0<=D)&&Array.prototype.splice.call(N,D,1),M&&(ba(p),d.g[B].length==0&&(delete d.g[B],d.h--))}}function Ta(d,p,B,N){for(var D=0;D<d.length;++D){var M=d[D];if(!M.da&&M.listener==p&&M.capture==!!B&&M.ha==N)return D}return-1}var Ia="closure_lm_"+(1e6*Math.random()|0),Nd={};function Cm(d,p,B,N,D){if(Array.isArray(p)){for(var M=0;M<p.length;M++)Cm(d,p[M],B,N,D);return null}return B=Te(B),d&&d[ut]?d.K(p,B,c(N)?!!N.capture:!!N,D):MC(d,p,B,!1,N,D)}function MC(d,p,B,N,D,M){if(!p)throw Error("Invalid event type");var Z=c(D)?!!D.capture:!!D,Ze=Y(d);if(Ze||(d[Ia]=Ze=new xA(d)),B=Ze.add(p,B,N,Z,M),B.proxy)return B;if(N=P(),B.proxy=N,N.src=d,N.listener=B,d.addEventListener)Je||(D=Z),D===void 0&&(D=!1),d.addEventListener(p.toString(),N,D);else if(d.attachEvent)d.attachEvent(se(p.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return B}function P(){function d(B){return p.call(d.src,d.listener,B)}const p=ne;return d}function j(d,p,B,N,D){if(Array.isArray(p))for(var M=0;M<p.length;M++)j(d,p[M],B,N,D);else N=c(N)?!!N.capture:!!N,B=Te(B),d&&d[ut]?(d=d.i,p=String(p).toString(),p in d.g&&(M=d.g[p],B=Ta(M,B,N,D),-1<B&&(ba(M[B]),Array.prototype.splice.call(M,B,1),M.length==0&&(delete d.g[p],d.h--)))):d&&(d=Y(d))&&(p=d.g[p.toString()],d=-1,p&&(d=Ta(p,B,N,D)),(B=-1<d?p[d]:null)&&O(B))}function O(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[ut])Cl(p.i,d);else{var B=d.type,N=d.proxy;p.removeEventListener?p.removeEventListener(B,N,d.capture):p.detachEvent?p.detachEvent(se(B),N):p.addListener&&p.removeListener&&p.removeListener(N),(B=Y(p))?(Cl(B,d),B.h==0&&(B.src=null,p[Ia]=null)):ba(d)}}}function se(d){return d in Nd?Nd[d]:Nd[d]="on"+d}function ne(d,p){if(d.da)d=!0;else{p=new Ge(p,this);var B=d.listener,N=d.ha||d.src;d.fa&&O(d),d=B.call(N,p)}return d}function Y(d){return d=d[Ia],d instanceof xA?d:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(d){return typeof d=="function"?d:(d[ge]||(d[ge]=function(p){return d.handleEvent(p)}),d[ge])}function Ne(){fe.call(this),this.i=new xA(this),this.M=this,this.F=null}m(Ne,fe),Ne.prototype[ut]=!0,Ne.prototype.removeEventListener=function(d,p,B,N){j(this,d,p,B,N)};function ke(d,p){var B,N=d.F;if(N)for(B=[];N;N=N.F)B.push(N);if(d=d.M,N=p.type||p,typeof p=="string")p=new Be(p,d);else if(p instanceof Be)p.target=p.target||d;else{var D=p;p=new Be(N,d),U(p,D)}if(D=!0,B)for(var M=B.length-1;0<=M;M--){var Z=p.g=B[M];D=Wn(Z,N,!0,p)&&D}if(Z=p.g=d,D=Wn(Z,N,!0,p)&&D,D=Wn(Z,N,!1,p)&&D,B)for(M=0;M<B.length;M++)Z=p.g=B[M],D=Wn(Z,N,!1,p)&&D}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var d=this.i,p;for(p in d.g){for(var B=d.g[p],N=0;N<B.length;N++)ba(B[N]);delete d.g[p],d.h--}}this.F=null},Ne.prototype.K=function(d,p,B,N){return this.i.add(String(d),p,!1,B,N)},Ne.prototype.L=function(d,p,B,N){return this.i.add(String(d),p,!0,B,N)};function Wn(d,p,B,N){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();for(var D=!0,M=0;M<p.length;++M){var Z=p[M];if(Z&&!Z.da&&Z.capture==B){var Ze=Z.listener,Xt=Z.ha||Z.src;Z.fa&&Cl(d.i,Z),D=Ze.call(Xt,N)!==!1&&D}}return D&&!N.defaultPrevented}function Qd(d,p,B){if(typeof d=="function")B&&(d=f(d,B));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function Ua(d){d.g=Qd(()=>{d.g=null,d.i&&(d.i=!1,Ua(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class El extends fe{constructor(p,B){super(),this.m=p,this.l=B,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ua(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function CA(d){fe.call(this),this.h=d,this.g={}}m(CA,fe);var _l=[];function kd(d){Q(d.g,function(p,B){this.g.hasOwnProperty(B)&&O(p)},d),d.g={}}CA.prototype.N=function(){CA.aa.N.call(this),kd(this)},CA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fa=a.JSON.stringify,qR=a.JSON.parse,XR=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Em(){}Em.prototype.h=null;function OC(d){return d.h||(d.h=d.i())}function VC(){}var bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _m(){Be.call(this,"d")}m(_m,Be);function bm(){Be.call(this,"c")}m(bm,Be);var EA={},HC=null;function Rd(){return HC=HC||new Ne}EA.La="serverreachability";function KC(d){Be.call(this,EA.La,d)}m(KC,Be);function Tl(d){const p=Rd();ke(p,new KC(p))}EA.STAT_EVENT="statevent";function zC(d,p){Be.call(this,EA.STAT_EVENT,d),this.stat=p}m(zC,Be);function Tn(d){const p=Rd();ke(p,new zC(p,d))}EA.Ma="timingevent";function GC(d,p){Be.call(this,EA.Ma,d),this.size=p}m(GC,Be);function Il(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function Ul(){this.g=!0}Ul.prototype.xa=function(){this.g=!1};function YR(d,p,B,N,D,M){d.info(function(){if(d.g)if(M)for(var Z="",Ze=M.split("&"),Xt=0;Xt<Ze.length;Xt++){var Me=Ze[Xt].split("=");if(1<Me.length){var dn=Me[0];Me=Me[1];var hn=dn.split("_");Z=2<=hn.length&&hn[1]=="type"?Z+(dn+"="+Me+"&"):Z+(dn+"=redacted&")}}else Z=null;else Z=M;return"XMLHTTP REQ ("+N+") [attempt "+D+"]: "+p+`
`+B+`
`+Z})}function JR(d,p,B,N,D,M,Z){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+D+"]: "+p+`
`+B+`
`+M+" "+Z})}function Sa(d,p,B,N){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+eP(d,B)+(N?" "+N:"")})}function ZR(d,p){d.info(function(){return"TIMEOUT: "+p})}Ul.prototype.info=function(){};function eP(d,p){if(!d.g)return p;if(!p)return null;try{var B=JSON.parse(p);if(B){for(d=0;d<B.length;d++)if(Array.isArray(B[d])){var N=B[d];if(!(2>N.length)){var D=N[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var Z=1;Z<D.length;Z++)D[Z]=""}}}}return Fa(B)}catch{return p}}var Pd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$C={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tm;function Dd(){}m(Dd,Em),Dd.prototype.g=function(){return new XMLHttpRequest},Dd.prototype.i=function(){return{}},Tm=new Dd;function Ai(d,p,B,N){this.j=d,this.i=p,this.l=B,this.R=N||1,this.U=new CA(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new WC}function WC(){this.i=null,this.g="",this.h=!1}var qC={},Im={};function Um(d,p,B){d.L=1,d.v=Od(Cs(p)),d.m=B,d.P=!0,XC(d,null)}function XC(d,p){d.F=Date.now(),Ld(d),d.A=Cs(d.v);var B=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),cE(B.i,"t",N),d.C=0,B=d.j.J,d.h=new WC,d.g=IE(d.j,B?p:null,!d.m),0<d.O&&(d.M=new El(f(d.Y,d,d.g),d.O)),p=d.U,B=d.g,N=d.ca;var D="readystatechange";Array.isArray(D)||(D&&(_l[0]=D.toString()),D=_l);for(var M=0;M<D.length;M++){var Z=Cm(B,D[M],N||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),Tl(),YR(d.i,d.u,d.A,d.l,d.R,d.m)}Ai.prototype.ca=function(d){d=d.target;const p=this.M;p&&Es(d)==3?p.j():this.Y(d)},Ai.prototype.Y=function(d){try{if(d==this.g)e:{const hn=Es(this.g);var p=this.g.Ba();const ka=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||mE(this.g)))){this.J||hn!=4||p==7||(p==8||0>=ka?Tl(3):Tl(2)),Fm(this);var B=this.g.Z();this.X=B;t:if(YC(this)){var N=mE(this.g);d="";var D=N.length,M=Es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_A(this),Fl(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<D;p++)this.h.h=!0,d+=this.h.i.decode(N[p],{stream:!(M&&p==D-1)});N.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=B==200,JR(this.i,this.u,this.A,this.l,this.R,hn,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Xt=this.g;if((Ze=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ze)){var Me=Ze;break t}}Me=null}if(B=Me)Sa(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sm(this,B);else{this.o=!1,this.s=3,Tn(12),_A(this),Fl(this);break e}}if(this.P){B=!0;let _r;for(;!this.J&&this.C<Z.length;)if(_r=tP(this,Z),_r==Im){hn==4&&(this.s=4,Tn(14),B=!1),Sa(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==qC){this.s=4,Tn(15),Sa(this.i,this.l,Z,"[Invalid Chunk]"),B=!1;break}else Sa(this.i,this.l,_r,null),Sm(this,_r);if(YC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||Z.length!=0||this.h.h||(this.s=1,Tn(16),B=!1),this.o=this.o&&B,!B)Sa(this.i,this.l,Z,"[Invalid Chunked Response]"),_A(this),Fl(this);else if(0<Z.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Dm(dn),dn.M=!0,Tn(11))}}else Sa(this.i,this.l,Z,null),Sm(this,Z);hn==4&&_A(this),this.o&&!this.J&&(hn==4?EE(this.j,this):(this.o=!1,Ld(this)))}else yP(this.g),B==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),_A(this),Fl(this)}}}catch{}finally{}};function YC(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function tP(d,p){var B=d.C,N=p.indexOf(`
`,B);return N==-1?Im:(B=Number(p.substring(B,N)),isNaN(B)?qC:(N+=1,N+B>p.length?Im:(p=p.slice(N,N+B),d.C=N+B,p)))}Ai.prototype.cancel=function(){this.J=!0,_A(this)};function Ld(d){d.S=Date.now()+d.I,JC(d,d.I)}function JC(d,p){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Il(f(d.ba,d),p)}function Fm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ai.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ZR(this.i,this.A),this.L!=2&&(Tl(),Tn(17)),_A(this),this.s=2,Fl(this)):JC(this,this.S-d)};function Fl(d){d.j.G==0||d.J||EE(d.j,d)}function _A(d){Fm(d);var p=d.M;p&&typeof p.ma=="function"&&p.ma(),d.M=null,kd(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function Sm(d,p){try{var B=d.j;if(B.G!=0&&(B.g==d||Nm(B.h,d))){if(!d.K&&Nm(B.h,d)&&B.G==3){try{var N=B.Da.g.parse(p)}catch{N=null}if(Array.isArray(N)&&N.length==3){var D=N;if(D[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<d.F)$d(B),zd(B);else break e;Pm(B),Tn(18)}}else B.za=D[1],0<B.za-B.T&&37500>D[2]&&B.F&&B.v==0&&!B.C&&(B.C=Il(f(B.Za,B),6e3));if(1>=tE(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else TA(B,11)}else if((d.K||B.g==d)&&$d(B),!v(p))for(D=B.Da.g.parse(p),p=0;p<D.length;p++){let Me=D[p];if(B.T=Me[0],Me=Me[1],B.G==2)if(Me[0]=="c"){B.K=Me[1],B.ia=Me[2];const dn=Me[3];dn!=null&&(B.la=dn,B.j.info("VER="+B.la));const hn=Me[4];hn!=null&&(B.Aa=hn,B.j.info("SVER="+B.Aa));const ka=Me[5];ka!=null&&typeof ka=="number"&&0<ka&&(N=1.5*ka,B.L=N,B.j.info("backChannelRequestTimeoutMs_="+N)),N=B;const _r=d.g;if(_r){const qd=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qd){var M=N.h;M.g||qd.indexOf("spdy")==-1&&qd.indexOf("quic")==-1&&qd.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Qm(M,M.h),M.h=null))}if(N.D){const Lm=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Lm&&(N.ya=Lm,it(N.I,N.D,Lm))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-d.F,B.j.info("Handshake RTT: "+B.R+"ms")),N=B;var Z=d;if(N.qa=TE(N,N.J?N.ia:null,N.W),Z.K){nE(N.h,Z);var Ze=Z,Xt=N.L;Xt&&(Ze.I=Xt),Ze.B&&(Fm(Ze),Ld(Ze)),N.g=Z}else xE(N);0<B.i.length&&Gd(B)}else Me[0]!="stop"&&Me[0]!="close"||TA(B,7);else B.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?TA(B,7):Rm(B):Me[0]!="noop"&&B.l&&B.l.ta(Me),B.v=0)}}Tl(4)}catch{}}var nP=class{constructor(d,p){this.g=d,this.map=p}};function ZC(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eE(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function tE(d){return d.h?1:d.g?d.g.size:0}function Nm(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function Qm(d,p){d.g?d.g.add(p):d.h=p}function nE(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}ZC.prototype.cancel=function(){if(this.i=rE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function rE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const B of d.g.values())p=p.concat(B.D);return p}return y(d.i)}function rP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(o(d)){for(var p=[],B=d.length,N=0;N<B;N++)p.push(d[N]);return p}p=[],B=0;for(N in d)p[B++]=d[N];return p}function sP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(o(d)||typeof d=="string"){var p=[];d=d.length;for(var B=0;B<d;B++)p.push(B);return p}p=[],B=0;for(const N in d)p[B++]=N;return p}}}function sE(d,p){if(d.forEach&&typeof d.forEach=="function")d.forEach(p,void 0);else if(o(d)||typeof d=="string")Array.prototype.forEach.call(d,p,void 0);else for(var B=sP(d),N=rP(d),D=N.length,M=0;M<D;M++)p.call(void 0,N[M],B&&B[M],d)}var iE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iP(d,p){if(d){d=d.split("&");for(var B=0;B<d.length;B++){var N=d[B].indexOf("="),D=null;if(0<=N){var M=d[B].substring(0,N);D=d[B].substring(N+1)}else M=d[B];p(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function bA(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof bA){this.h=d.h,jd(this,d.j),this.o=d.o,this.g=d.g,Md(this,d.s),this.l=d.l;var p=d.i,B=new Ql;B.i=p.i,p.g&&(B.g=new Map(p.g),B.h=p.h),AE(this,B),this.m=d.m}else d&&(p=String(d).match(iE))?(this.h=!1,jd(this,p[1]||"",!0),this.o=Sl(p[2]||""),this.g=Sl(p[3]||"",!0),Md(this,p[4]),this.l=Sl(p[5]||"",!0),AE(this,p[6]||"",!0),this.m=Sl(p[7]||"")):(this.h=!1,this.i=new Ql(null,this.h))}bA.prototype.toString=function(){var d=[],p=this.j;p&&d.push(Nl(p,aE,!0),":");var B=this.g;return(B||p=="file")&&(d.push("//"),(p=this.o)&&d.push(Nl(p,aE,!0),"@"),d.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&d.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&d.push("/"),d.push(Nl(B,B.charAt(0)=="/"?oP:aP,!0))),(B=this.i.toString())&&d.push("?",B),(B=this.m)&&d.push("#",Nl(B,cP)),d.join("")};function Cs(d){return new bA(d)}function jd(d,p,B){d.j=B?Sl(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function Md(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function AE(d,p,B){p instanceof Ql?(d.i=p,uP(d.i,d.h)):(B||(p=Nl(p,lP)),d.i=new Ql(p,d.h))}function it(d,p,B){d.i.set(p,B)}function Od(d){return it(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Sl(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Nl(d,p,B){return typeof d=="string"?(d=encodeURI(d).replace(p,AP),B&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function AP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var aE=/[#\/\?@]/g,aP=/[#\?:]/g,oP=/[#\?]/g,lP=/[#\?@]/g,cP=/#/g;function Ql(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function ai(d){d.g||(d.g=new Map,d.h=0,d.i&&iP(d.i,function(p,B){d.add(decodeURIComponent(p.replace(/\+/g," ")),B)}))}t=Ql.prototype,t.add=function(d,p){ai(this),this.i=null,d=Na(this,d);var B=this.g.get(d);return B||this.g.set(d,B=[]),B.push(p),this.h+=1,this};function oE(d,p){ai(d),p=Na(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function lE(d,p){return ai(d),p=Na(d,p),d.g.has(p)}t.forEach=function(d,p){ai(this),this.g.forEach(function(B,N){B.forEach(function(D){d.call(p,D,N,this)},this)},this)},t.na=function(){ai(this);const d=Array.from(this.g.values()),p=Array.from(this.g.keys()),B=[];for(let N=0;N<p.length;N++){const D=d[N];for(let M=0;M<D.length;M++)B.push(p[N])}return B},t.V=function(d){ai(this);let p=[];if(typeof d=="string")lE(this,d)&&(p=p.concat(this.g.get(Na(this,d))));else{d=Array.from(this.g.values());for(let B=0;B<d.length;B++)p=p.concat(d[B])}return p},t.set=function(d,p){return ai(this),this.i=null,d=Na(this,d),lE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=this.V(d),0<d.length?String(d[0]):p):p};function cE(d,p,B){oE(d,p),0<B.length&&(d.i=null,d.g.set(Na(d,p),y(B)),d.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(var B=0;B<p.length;B++){var N=p[B];const M=encodeURIComponent(String(N)),Z=this.V(N);for(N=0;N<Z.length;N++){var D=M;Z[N]!==""&&(D+="="+encodeURIComponent(String(Z[N]))),d.push(D)}}return this.i=d.join("&")};function Na(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function uP(d,p){p&&!d.j&&(ai(d),d.i=null,d.g.forEach(function(B,N){var D=N.toLowerCase();N!=D&&(oE(this,N),cE(this,D,B))},d)),d.j=p}function dP(d,p){const B=new Ul;if(a.Image){const N=new Image;N.onload=g(oi,B,"TestLoadImage: loaded",!0,p,N),N.onerror=g(oi,B,"TestLoadImage: error",!1,p,N),N.onabort=g(oi,B,"TestLoadImage: abort",!1,p,N),N.ontimeout=g(oi,B,"TestLoadImage: timeout",!1,p,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else p(!1)}function hP(d,p){const B=new Ul,N=new AbortController,D=setTimeout(()=>{N.abort(),oi(B,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:N.signal}).then(M=>{clearTimeout(D),M.ok?oi(B,"TestPingServer: ok",!0,p):oi(B,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),oi(B,"TestPingServer: error",!1,p)})}function oi(d,p,B,N,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),N(B)}catch{}}function fP(){this.g=new XR}function pP(d,p,B){const N=B||"";try{sE(d,function(D,M){let Z=D;c(D)&&(Z=Fa(D)),p.push(N+M+"="+encodeURIComponent(Z))})}catch(D){throw p.push(N+"type="+encodeURIComponent("_badmap")),D}}function Vd(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Vd,Em),Vd.prototype.g=function(){return new Hd(this.l,this.j)},Vd.prototype.i=function(d){return function(){return d}}({});function Hd(d,p){Ne.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Hd,Ne),t=Hd.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,Rl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function uE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?kl(this):Rl(this),this.readyState==3&&uE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,kl(this))},t.Qa=function(d){this.g&&(this.response=d,kl(this))},t.ga=function(){this.g&&kl(this)};function kl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Rl(d)}t.setRequestHeader=function(d,p){this.u.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var B=p.next();!B.done;)B=B.value,d.push(B[0]+": "+B[1]),B=p.next();return d.join(`\r
`)};function Rl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function dE(d){let p="";return Q(d,function(B,N){p+=N,p+=":",p+=B,p+=`\r
`}),p}function km(d,p,B){e:{for(N in B){var N=!1;break e}N=!0}N||(B=dE(B),typeof d=="string"?B!=null&&encodeURIComponent(String(B)):it(d,p,B))}function yt(d){Ne.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(yt,Ne);var gP=/^https?$/i,mP=["POST","PUT"];t=yt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,p,B,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tm.g(),this.v=this.o?OC(this.o):OC(Tm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(M){hE(this,M);return}if(d=B||"",B=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var D in N)B.set(D,N[D]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const M of N.keys())B.set(M,N.get(M));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(B.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mP,p,void 0))||N||D||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,Z]of B)this.g.setRequestHeader(M,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gE(this),this.u=!0,this.g.send(d),this.u=!1}catch(M){hE(this,M)}};function hE(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,fE(d),Kd(d)}function fE(d){d.A||(d.A=!0,ke(d,"complete"),ke(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ke(this,"complete"),ke(this,"abort"),Kd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kd(this,!0)),yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pE(this):this.bb())},t.bb=function(){pE(this)};function pE(d){if(d.h&&typeof A<"u"&&(!d.v[1]||Es(d)!=4||d.Z()!=2)){if(d.u&&Es(d)==4)Qd(d.Ea,0,d);else if(ke(d,"readystatechange"),Es(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var B;if(!(B=p)){var N;if(N=Z===0){var D=String(d.D).match(iE)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),N=!gP.test(D?D.toLowerCase():"")}B=N}if(B)ke(d,"complete"),ke(d,"success");else{d.m=6;try{var M=2<Es(d)?d.g.statusText:""}catch{M=""}d.l=M+" ["+d.Z()+"]",fE(d)}}finally{Kd(d)}}}}function Kd(d,p){if(d.g){gE(d);const B=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||ke(d,"ready");try{B.onreadystatechange=N}catch{}}}function gE(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Es(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Es(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),qR(p)}};function mE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function yP(d){const p={};d=(d.g&&2<=Es(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(v(d[N]))continue;var B=k(d[N]);const D=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const M=p[D]||[];p[D]=M,M.push(B)}b(p,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pl(d,p,B){return B&&B.internalChannelParams&&B.internalChannelParams[d]||p}function yE(d){this.Aa=0,this.i=[],this.j=new Ul,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pl("baseRetryDelayMs",5e3,d),this.cb=Pl("retryDelaySeedMs",1e4,d),this.Wa=Pl("forwardChannelMaxRetries",2,d),this.wa=Pl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ZC(d&&d.concurrentRequestLimit),this.Da=new fP,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yE.prototype,t.la=8,t.G=1,t.connect=function(d,p,B,N){Tn(0),this.W=d,this.H=p||{},B&&N!==void 0&&(this.H.OSID=B,this.H.OAID=N),this.F=this.X,this.I=TE(this,null,this.W),Gd(this)};function Rm(d){if(vE(d),d.G==3){var p=d.U++,B=Cs(d.I);if(it(B,"SID",d.K),it(B,"RID",p),it(B,"TYPE","terminate"),Dl(d,B),p=new Ai(d,d.j,p),p.L=2,p.v=Od(Cs(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=p.v,B=!0),B||(p.g=IE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ld(p)}bE(d)}function zd(d){d.g&&(Dm(d),d.g.cancel(),d.g=null)}function vE(d){zd(d),d.u&&(a.clearTimeout(d.u),d.u=null),$d(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Gd(d){if(!eE(d.h)&&!d.s){d.s=!0;var p=d.Ga;J||W(),L||(J(),L=!0),H.add(p,d),d.B=0}}function vP(d,p){return tE(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=p.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Il(f(d.Ga,d,p),_E(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const D=new Ai(this,this.j,d);let M=this.o;if(this.S&&(M?(M=C(M),U(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var p=0,B=0;B<this.i.length;B++){t:{var N=this.i[B];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(p+=N,4096<p){p=B;break e}if(p===4096||B===this.i.length-1){p=B+1;break e}}p=1e3}else p=1e3;p=BE(this,D,p),B=Cs(this.I),it(B,"RID",d),it(B,"CVER",22),this.D&&it(B,"X-HTTP-Session-Id",this.D),Dl(this,B),M&&(this.O?p="headers="+encodeURIComponent(String(dE(M)))+"&"+p:this.m&&km(B,this.m,M)),Qm(this.h,D),this.Ua&&it(B,"TYPE","init"),this.P?(it(B,"$req",p),it(B,"SID","null"),D.T=!0,Um(D,B,null)):Um(D,B,p),this.G=2}}else this.G==3&&(d?wE(this,d):this.i.length==0||eE(this.h)||wE(this))};function wE(d,p){var B;p?B=p.l:B=d.U++;const N=Cs(d.I);it(N,"SID",d.K),it(N,"RID",B),it(N,"AID",d.T),Dl(d,N),d.m&&d.o&&km(N,d.m,d.o),B=new Ai(d,d.j,B,d.B+1),d.m===null&&(B.H=d.o),p&&(d.i=p.D.concat(d.i)),p=BE(d,B,1e3),B.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Qm(d.h,B),Um(B,N,p)}function Dl(d,p){d.H&&Q(d.H,function(B,N){it(p,N,B)}),d.l&&sE({},function(B,N){it(p,N,B)})}function BE(d,p,B){B=Math.min(d.i.length,B);var N=d.l?f(d.l.Na,d.l,d):null;e:{var D=d.i;let M=-1;for(;;){const Z=["count="+B];M==-1?0<B?(M=D[0].g,Z.push("ofs="+M)):M=0:Z.push("ofs="+M);let Ze=!0;for(let Xt=0;Xt<B;Xt++){let Me=D[Xt].g;const dn=D[Xt].map;if(Me-=M,0>Me)M=Math.max(0,D[Xt].g-100),Ze=!1;else try{pP(dn,Z,"req"+Me+"_")}catch{N&&N(dn)}}if(Ze){N=Z.join("&");break e}}}return d=d.i.splice(0,B),p.D=d,N}function xE(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;J||W(),L||(J(),L=!0),H.add(p,d),d.v=0}}function Pm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Il(f(d.Fa,d),_E(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,CE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Il(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),zd(this),CE(this))};function Dm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function CE(d){d.g=new Ai(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var p=Cs(d.qa);it(p,"RID","rpc"),it(p,"SID",d.K),it(p,"AID",d.T),it(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&it(p,"TO",d.ja),it(p,"TYPE","xmlhttp"),Dl(d,p),d.m&&d.o&&km(p,d.m,d.o),d.L&&(d.g.I=d.L);var B=d.g;d=d.ia,B.L=1,B.v=Od(Cs(p)),B.m=null,B.P=!0,XC(B,d)}t.Za=function(){this.C!=null&&(this.C=null,zd(this),Pm(this),Tn(19))};function $d(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function EE(d,p){var B=null;if(d.g==p){$d(d),Dm(d),d.g=null;var N=2}else if(Nm(d.h,p))B=p.D,nE(d.h,p),N=1;else return;if(d.G!=0){if(p.o)if(N==1){B=p.m?p.m.length:0,p=Date.now()-p.F;var D=d.B;N=Rd(),ke(N,new GC(N,B)),Gd(d)}else xE(d);else if(D=p.s,D==3||D==0&&0<p.X||!(N==1&&vP(d,p)||N==2&&Pm(d)))switch(B&&0<B.length&&(p=d.h,p.i=p.i.concat(B)),D){case 1:TA(d,5);break;case 4:TA(d,10);break;case 3:TA(d,6);break;default:TA(d,2)}}}function _E(d,p){let B=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(B*=2),B*p}function TA(d,p){if(d.j.info("Error code "+p),p==2){var B=f(d.fb,d),N=d.Xa;const D=!N;N=new bA(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jd(N,"https"),Od(N),D?dP(N.toString(),B):hP(N.toString(),B)}else Tn(2);d.G=0,d.l&&d.l.sa(p),bE(d),vE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function bE(d){if(d.G=0,d.ka=[],d.l){const p=rE(d.h);(p.length!=0||d.i.length!=0)&&(E(d.ka,p),E(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function TE(d,p,B){var N=B instanceof bA?Cs(B):new bA(B);if(N.g!="")p&&(N.g=p+"."+N.g),Md(N,N.s);else{var D=a.location;N=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;var M=new bA(null);N&&jd(M,N),p&&(M.g=p),D&&Md(M,D),B&&(M.l=B),N=M}return B=d.D,p=d.ya,B&&p&&it(N,B,p),it(N,"VER",d.la),Dl(d,N),N}function IE(d,p,B){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Ca&&!d.pa?new yt(new Vd({eb:B})):new yt(d.pa),p.Ha(d.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function UE(){}t=UE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wd(){}Wd.prototype.g=function(d,p){return new qn(d,p)};function qn(d,p){Ne.call(this),this.g=new yE(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!v(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new Qa(this)}m(qn,Ne),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Rm(this.g)},qn.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var B={};B.__data__=d,d=B}else this.u&&(B={},B.__data__=Fa(d),d=B);p.i.push(new nP(p.Ya++,d)),p.G==3&&Gd(p)},qn.prototype.N=function(){this.g.l=null,delete this.j,Rm(this.g),delete this.g,qn.aa.N.call(this)};function FE(d){_m.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const B in p){d=B;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}m(FE,_m);function SE(){bm.call(this),this.status=1}m(SE,bm);function Qa(d){this.g=d}m(Qa,UE),Qa.prototype.ua=function(){ke(this.g,"a")},Qa.prototype.ta=function(d){ke(this.g,new FE(d))},Qa.prototype.sa=function(d){ke(this.g,new SE)},Qa.prototype.ra=function(){ke(this.g,"b")},Wd.prototype.createWebChannel=Wd.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,j2=function(){return new Wd},L2=function(){return Rd()},D2=EA,yv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pd.NO_ERROR=0,Pd.TIMEOUT=8,Pd.HTTP_ERROR=6,ff=Pd,$C.COMPLETE="complete",P2=$C,VC.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,lc=VC,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,R2=yt}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const b1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new RB("@firebase/firestore");function Gl(){return Aa.logLevel}function de(t,...e){if(Aa.logLevel<=Qe.DEBUG){const n=e.map(GB);Aa.debug(`Firestore (${fl}): ${t}`,...n)}}function Ys(t,...e){if(Aa.logLevel<=Qe.ERROR){const n=e.map(GB);Aa.error(`Firestore (${fl}): ${t}`,...n)}}function zo(t,...e){if(Aa.logLevel<=Qe.WARN){const n=e.map(GB);Aa.warn(`Firestore (${fl}): ${t}`,...n)}}function GB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+t;throw Ys(e),new Error(e)}function je(t,e){t||ve()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $H{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class WH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qH{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const s=o=>this.i!==r?(r=this.i,n(o)):Promise.resolve();let i=new as;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new as,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const o=i;e.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},a=o=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new as)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new M2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new vn(e)}}class XH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new XH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,de("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new JH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=e3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Go(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new te(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Vt(0,0))}static max(){return new xe(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),A=n.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends wu{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const t3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends wu{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return t3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new te(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(r+=a,s++):(i(),s++)}if(i(),A)throw new te(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Xe.fromString(e))}static fromName(e){return new pe(Xe.fromString(e).popFirst(5))}static empty(){return new pe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Xe(e.slice()))}}function n3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new Ji(s,pe.empty(),e)}function r3(t){return new Ji(t.readTime,t.key,-1)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(xe.min(),pe.empty(),-1)}static max(){return new Ji(xe.max(),pe.empty(),-1)}}function s3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==i3)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&n()},o=>r(o))}),A=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,A=new Array(i);let a=0;for(let o=0;o<i;o++){const c=o;n(e[c]).next(u=>{A[c]=u,++a,a===i&&r(A)},u=>s(u))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function a3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$B.oe=-1;function hd(t){return t==null}function up(t){return t===0&&1/t==-1/0}function o3(t){return typeof t=="number"&&Number.isInteger(t)&&!up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function V2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??en.RED,this.left=s??en.EMPTY,this.right=i??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new en(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,s,i){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new I1(this.data.getIterator())}getIteratorFrom(e){return new I1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class I1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new an(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new H2("Invalid base64 string: "+i):i}}(e);return new un(n)}static fromUint8Array(e){const n=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const l3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(je(!!t),typeof t=="string"){let e=0;const n=l3.exec(t);if(je(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function aa(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function WB(t){const e=t.mapValue.fields.__previous_value__;return Fg(e)?WB(e):e}function Bu(t){const e=Zi(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,s,i,A,a,o,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=c}}class xu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fg(t)?4:d3(t)?9007199254740991:u3(t)?10:11:ve()}function ds(t,e){if(t===e)return!0;const n=oa(t);if(n!==oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Zi(s.timestampValue),a=Zi(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return aa(s.bytesValue).isEqual(aa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return It(s.geoPointValue.latitude)===It(i.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return It(s.integerValue)===It(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=It(s.doubleValue),a=It(i.doubleValue);return A===a?up(A)===up(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if(T1(A)!==T1(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!ds(A[o],a[o])))return!1;return!0}(t,e);default:return ve()}}function Cu(t,e){return(t.values||[]).find(n=>ds(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=oa(t),r=oa(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=It(i.integerValue||i.doubleValue),o=It(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return U1(t.timestampValue,e.timestampValue);case 4:return U1(Bu(t),Bu(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,A){const a=aa(i),o=aa(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),o=A.split("/");for(let c=0;c<a.length&&c<o.length;c++){const u=Oe(a[c],o[c]);if(u!==0)return u}return Oe(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=Oe(It(i.latitude),It(A.latitude));return a!==0?a:Oe(It(i.longitude),It(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F1(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,o,c,u;const h=i.fields||{},f=A.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=Oe(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:F1(g,m)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===gh.mapValue&&A===gh.mapValue)return 0;if(i===gh.mapValue)return 1;if(A===gh.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),c=A.fields||{},u=Object.keys(c);o.sort(),u.sort();for(let h=0;h<o.length&&h<u.length;++h){const f=Oe(o[h],u[h]);if(f!==0)return f;const g=$o(a[o[h]],c[u[h]]);if(g!==0)return g}return Oe(o.length,u.length)}(t.mapValue,e.mapValue);default:throw ve()}}function U1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Zi(t),r=Zi(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function F1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=$o(n[s],r[s]);if(i)return i}return Oe(n.length,r.length)}function Wo(t){return vv(t)}function vv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return aa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=vv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const A of r)i?i=!1:s+=",",s+=`${A}:${vv(n.fields[A])}`;return s+"}"}(t.mapValue):ve()}function dp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wv(t){return!!t&&"integerValue"in t}function qB(t){return!!t&&"arrayValue"in t}function S1(t){return!!t&&"nullValue"in t}function N1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function u3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function d3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=nn.emptyPath(),r={},s=[];e.forEach((A,a)=>{if(!n.isImmediateParentOf(a)){const o=this.getFieldsMap(n);this.applyChanges(o,r,s),r={},s=[],n=a.popLast()}A?r[a.lastSegment()]=Pc(A):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nn(Pc(this.value))}}function K2(t){const e=[];return wa(t.fields,(n,r)=>{const s=new nn([n]);if(pf(r)){const i=K2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,s,i,A,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,xe.min(),xe.min(),xe.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,xe.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,xe.min(),xe.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,xe.min(),xe.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.position=e,this.inclusive=n}}function Q1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?r=pe.comparator(pe.fromName(A.referenceValue),n.key):r=$o(A,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function k1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function h3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z2=class{};class Dt extends z2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p3(e,n,r):n==="array-contains"?new y3(e,r):n==="in"?new v3(e,r):n==="not-in"?new w3(e,r):n==="array-contains-any"?new B3(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g3(e,r):new m3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&oa(this.value)===oa(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends z2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mr(e,n)}matches(e){return G2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function G2(t){return t.op==="and"}function $2(t){return f3(t)&&G2(t)}function f3(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function Bv(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if($2(t))return t.filters.map(e=>Bv(e)).join(",");{const e=t.filters.map(n=>Bv(n)).join(",");return`${t.op}(${e})`}}function W2(t,e){return t instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&ds(r.value,s.value)}(t,e):t instanceof Mr?function(r,s){return s instanceof Mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,A,a)=>i&&W2(A,s.filters[a]),!0):!1}(t,e):void ve()}function q2(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof Mr?function(n){return n.op.toString()+" {"+n.getFilters().map(q2).join(" ,")+"}"}(t):"Filter"}class p3 extends Dt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class g3 extends Dt{constructor(e,n){super(e,"in",n),this.keys=X2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m3 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=X2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class y3 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qB(n)&&Cu(n.arrayValue,this.value)}}class v3 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class w3 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Cu(this.value.arrayValue,n)}}class B3 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qB(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n=null,r=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function R1(t,e=null,n=[],r=[],s=null,i=null,A=null){return new x3(t,e,n,r,s,i,A)}function XB(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.ue=n}return e.ue}function YB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k1(t.startAt,e.startAt)&&k1(t.endAt,e.endAt)}function xv(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n=null,r=[],s=[],i=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function C3(t,e,n,r,s,i,A,a){return new Ba(t,e,n,r,s,i,A,a)}function Sg(t){return new Ba(t)}function P1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JB(t){return t.collectionGroup!==null}function Uo(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new an(nn.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Eu(i,r))}),n.has(nn.keyField().canonicalString())||e.ce.push(new Eu(nn.keyField(),r))}return e.ce}function os(t){const e=_e(t);return e.le||(e.le=E3(e,Uo(t))),e.le}function E3(t,e){if(t.limitType==="F")return R1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Eu(s.field,i)});const n=t.endAt?new qo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qo(t.startAt.position,t.startAt.inclusive):null;return R1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cv(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hp(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ng(t,e){return YB(os(t),os(e))&&t.limitType===e.limitType}function Y2(t){return`${XB(os(t))}|lt:${t.limitType}`}function Ka(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>q2(s)).join(", ")}]`),hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wo(s)).join(",")),`Target(${r})`}(os(t))}; limitType=${t.limitType})`}function Qg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):pe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Uo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(A,a,o){const c=Q1(A,a,o);return A.inclusive?c<=0:c<0}(r.startAt,Uo(r),s)||r.endAt&&!function(A,a,o){const c=Q1(A,a,o);return A.inclusive?c>=0:c>0}(r.endAt,Uo(r),s))}(t,e)}function _3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J2(t){return(e,n)=>{let r=!1;for(const s of Uo(t)){const i=b3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function b3(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(i,A,a){const o=A.data.field(i),c=a.data.field(i);return o!==null&&c!==null?$o(o,c):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return V2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new mt(pe.comparator);function Js(){return T3}const Z2=new mt(pe.comparator);function cc(...t){let e=Z2;for(const n of t)e=e.insert(n.key,n);return e}function eN(t){let e=Z2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function MA(){return Dc()}function tN(){return Dc()}function Dc(){return new pl(t=>t.toString(),(t,e)=>t.isEqual(e))}const I3=new mt(pe.comparator),U3=new an(pe.comparator);function Se(...t){let e=U3;for(const n of t)e=e.add(n);return e}const F3=new an(Oe);function S3(){return F3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function nN(t){return{integerValue:""+t}}function N3(t,e){return o3(e)?nN(e):ZB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this._=void 0}}function Q3(t,e,n){return t instanceof _u?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Fg(i)&&(i=WB(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(n,e):t instanceof bu?sN(t,e):t instanceof Tu?iN(t,e):function(s,i){const A=rN(s,i),a=D1(A)+D1(s.Pe);return wv(A)&&wv(s.Pe)?nN(a):ZB(s.serializer,a)}(t,e)}function k3(t,e,n){return t instanceof bu?sN(t,e):t instanceof Tu?iN(t,e):n}function rN(t,e){return t instanceof fp?function(r){return wv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _u extends kg{}class bu extends kg{constructor(e){super(),this.elements=e}}function sN(t,e){const n=AN(e);for(const r of t.elements)n.some(s=>ds(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tu extends kg{constructor(e){super(),this.elements=e}}function iN(t,e){let n=AN(e);for(const r of t.elements)n=n.filter(s=>!ds(s,r));return{arrayValue:{values:n}}}class fp extends kg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function D1(t){return It(t.integerValue||t.doubleValue)}function AN(t){return qB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.field=e,this.transform=n}}function P3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof bu&&s instanceof bu||r instanceof Tu&&s instanceof Tu?Go(r.elements,s.elements,ds):r instanceof fp&&s instanceof fp?ds(r.Pe,s.Pe):r instanceof _u&&s instanceof _u}(t.transform,e.transform)}class D3{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rg{}function aN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pg(t.key,rn.none()):new fd(t.key,t.data,rn.none());{const n=t.data,r=Nn.empty();let s=new an(nn.comparator);for(let i of e.fields)if(!s.has(i)){let A=n.field(i);A===null&&i.length>1&&(i=i.popLast(),A=n.field(i)),A===null?r.delete(i):r.set(i,A),s=s.add(i)}return new mA(t.key,r,new Zn(s.toArray()),rn.none())}}function L3(t,e,n){t instanceof fd?function(s,i,A){const a=s.value.clone(),o=j1(s.fieldTransforms,i,A.transformResults);a.setAll(o),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mA?function(s,i,A){if(!gf(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=j1(s.fieldTransforms,i,A.transformResults),o=i.data;o.setAll(oN(s)),o.setAll(a),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,n):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,n)}function Lc(t,e,n,r){return t instanceof fd?function(i,A,a,o){if(!gf(i.precondition,A))return a;const c=i.value.clone(),u=M1(i.fieldTransforms,o,A);return c.setAll(u),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof mA?function(i,A,a,o){if(!gf(i.precondition,A))return a;const c=M1(i.fieldTransforms,o,A),u=A.data;return u.setAll(oN(i)),u.setAll(c),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,A,a){return gf(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,n)}function j3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=rN(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function L1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Go(r,s,(i,A)=>P3(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fd extends Rg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mA extends Rg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function oN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j1(t,e,n){const r=new Map;je(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);r.set(i.field,k3(A,a,n[s]))}return r}function M1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,A=n.data.field(s.field);r.set(s.field,Q3(i,A,e))}return r}class Pg extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends Rg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&L3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tN();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=n.has(s.key)?null:a;const o=aN(A,a);o!==null&&r.set(s.key,o),A.isValidDocument()||A.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>L1(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>L1(n,r))}}class ex{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length);let s=function(){return I3}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,r[A].version);return new ex(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Re;function cN(t){switch(t){default:return ve();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function uN(t){if(t===void 0)return Ys("GRPC error has no .code"),V.UNKNOWN;switch(t){case Qt.OK:return V.OK;case Qt.CANCELLED:return V.CANCELLED;case Qt.UNKNOWN:return V.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return V.INTERNAL;case Qt.UNAVAILABLE:return V.UNAVAILABLE;case Qt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Qt.NOT_FOUND:return V.NOT_FOUND;case Qt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Qt.ABORTED:return V.ABORTED;case Qt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Qt.DATA_LOSS:return V.DATA_LOSS;default:return ve()}}(Re=Qt||(Qt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new $A([4294967295,4294967295],0);function O1(t){const e=H3().encode(t),n=new k2;return n.update(e),new Uint8Array(n.digest())}function V1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $A([n,r],0),new $A([s,i],0)]}class tx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(r<0)throw new uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$A.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply($A.fromNumber(r)));return s.compare(K3)===1&&(s=new $A([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=O1(e),[r,s]=V1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);if(!this.de(A))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new tx(i,s,n);return r.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const n=O1(e),[r,s]=V1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);this.Ae(A)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Dg(xe.min(),s,new mt(Oe),Js(),Se())}}class pd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pd(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class dN{constructor(e,n){this.targetId=e,this.me=n}}class hN{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class H1{constructor(){this.fe=0,this.ge=z1(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ve()}}),new pd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=z1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class z3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Js(),this.qe=K1(),this.Qe=new mt(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(xv(i))if(r===0){const A=new pe(i.path);this.Ue(n,A,Gt.newNoDocument(A,xe.min()))}else je(r===1);else{const A=this.Ye(n);if(A!==r){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(n);const c=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let A,a;try{A=aa(r).toUint8Array()}catch(o){if(o instanceof H2)return zo("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new tx(A,s,i)}catch(o){return zo(o instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&xv(a.target)){const o=new pe(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,Gt.newNoDocument(o,e))}i.be&&(n.set(A,i.ve()),i.Ce())}});let r=Se();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(o=>{const c=this.Je(o);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new Dg(e,n,this.Qe,this.ke,r);return this.ke=Js(),this.qe=K1(),this.Qe=new mt(Oe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new H1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new H1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function K1(){return new mt(pe.comparator)}function z1(){return new mt(pe.comparator)}const G3={asc:"ASCENDING",desc:"DESCENDING"},$3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W3={and:"AND",or:"OR"};class q3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ev(t,e){return t.useProto3Json||hd(e)?e:{value:e}}function pp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X3(t,e){return pp(t,e.toTimestamp())}function nr(t){return je(!!t),xe.fromTimestamp(function(n){const r=Zi(n);return new Vt(r.seconds,r.nanos)}(t))}function nx(t,e){return _v(t,e).canonicalString()}function _v(t,e){const n=function(s){return new Xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pN(t){const e=Xe.fromString(t);return je(BN(e)),e}function gp(t,e){return nx(t.databaseId,e.path)}function jc(t,e){const n=pN(e);if(n.get(1)!==t.databaseId.projectId)throw new te(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(mN(n))}function gN(t,e){return nx(t.databaseId,e)}function Y3(t){const e=pN(t);return e.length===4?Xe.emptyPath():mN(e)}function bv(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mN(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function G1(t,e,n){return{name:gp(t,e),fields:n.value.mapValue.fields}}function J3(t,e){return"found"in e?function(r,s){je(!!s.found),s.found.name,s.found.updateTime;const i=jc(r,s.found.name),A=nr(s.found.updateTime),a=s.found.createTime?nr(s.found.createTime):xe.min(),o=new Nn({mapValue:{fields:s.found.fields}});return Gt.newFoundDocument(i,A,a,o)}(t,e):"missing"in e?function(r,s){je(!!s.missing),je(!!s.readTime);const i=jc(r,s.missing),A=nr(s.readTime);return Gt.newNoDocument(i,A)}(t,e):ve()}function Z3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(je(u===void 0||typeof u=="string"),un.fromBase64String(u||"")):(je(u===void 0||u instanceof Buffer||u instanceof Uint8Array),un.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(c){const u=c.code===void 0?V.UNKNOWN:uN(c.code);return new te(u,c.message||"")}(A);n=new hN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jc(t,r.document.name),i=nr(r.document.updateTime),A=r.document.createTime?nr(r.document.createTime):xe.min(),a=new Nn({mapValue:{fields:r.document.fields}}),o=Gt.newFoundDocument(s,i,A,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mf(c,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jc(t,r.document),i=r.readTime?nr(r.readTime):xe.min(),A=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new mf([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jc(t,r.document),i=r.removedTargetIds||[];n=new mf([],i,s,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,A=new V3(s,i),a=r.targetId;n=new dN(a,A)}}return n}function yN(t,e){let n;if(e instanceof fd)n={update:G1(t,e.key,e.value)};else if(e instanceof Pg)n={delete:gp(t,e.key)};else if(e instanceof mA)n={update:G1(t,e.key,e.data),updateMask:oK(e.fieldMask)};else{if(!(e instanceof lN))return ve();n={verify:gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,A){const a=A.transform;if(a instanceof _u)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bu)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tu)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fp)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:X3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()}(t,e.precondition)),n}function eK(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(s,i){let A=s.updateTime?nr(s.updateTime):nr(i);return A.isEqual(xe.min())&&(A=nr(i)),new D3(A,s.transformResults||[])}(n,e))):[]}function tK(t,e){return{documents:[gN(t,e.path)]}}function nK(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gN(t,s);const i=function(c){if(c.length!==0)return wN(Mr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const A=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:za(f.field),direction:iK(f.dir)}}(u))}(e.orderBy);A&&(n.structuredQuery.orderBy=A);const a=Ev(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function rK(t){let e=Y3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=vN(h);return f instanceof Mr&&$2(f)?f.getFilters():[f]}(n.where));let A=[];n.orderBy&&(A=function(h){return h.map(f=>function(m){return new Eu(Ga(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,hd(f)?null:f}(n.limit));let o=null;n.startAt&&(o=function(h){const f=!!h.before,g=h.values||[];return new qo(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new qo(g,f)}(n.endAt)),C3(e,s,A,i,a,"F",o,c)}function sK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ga(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ga(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ga(n.unaryFilter.field);return Dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Ga(n.unaryFilter.field);return Dt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Ga(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mr.create(n.compositeFilter.filters.map(r=>vN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function iK(t){return G3[t]}function AK(t){return $3[t]}function aK(t){return W3[t]}function za(t){return{fieldPath:t.canonicalString()}}function Ga(t){return nn.fromServerFormat(t.fieldPath)}function wN(t){return t instanceof Dt?function(n){if(n.op==="=="){if(N1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(S1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(S1(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:AK(n.op),value:n.value}}}(t):t instanceof Mr?function(n){const r=n.getFilters().map(s=>wN(s));return r.length===1?r[0]:{compositeFilter:{op:aK(n.op),filters:r}}}(t):ve()}function oK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,s,i=xe.min(),A=xe.min(),a=un.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e){this.ct=e}}function cK(t){const e=rK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.un=new dK}addToCollectionParentIndex(e,n){return this.un.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ji.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class dK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new an(Xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new an(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xo(0)}static kn(){return new Xo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(){this.changes=new pl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Lc(r.mutation,s,Zn.empty(),Vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const s=MA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let A=cc();return i.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,n){const r=MA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{n.set(A,a)})})}computeViews(e,n,r,s){let i=Js();const A=Dc(),a=function(){return Dc()}();return n.forEach((o,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof mA)?i=i.insert(c.key,c):u!==void 0?(A.set(c.key,u.mutation.getFieldMask()),Lc(u.mutation,c,u.mutation.getFieldMask(),Vt.now())):A.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(o=>(o.forEach((c,u)=>A.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new fK(u,(h=A.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dc();let s=new mt((A,a)=>A-a),i=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(A=>{for(const a of A)a.keys().forEach(o=>{const c=n.get(o);if(c===null)return;let u=r.get(o)||Zn.empty();u=a.applyToLocalView(c,u),r.set(o,u);const h=(s.get(a.batchId)||Se()).add(o);s=s.insert(a.batchId,h)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),c=o.key,u=o.value,h=tN();u.forEach(f=>{if(!i.has(f)){const g=aN(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),A.push(this.documentOverlayCache.saveOverlays(e,c,h))}return $.waitFor(A)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(A){return pe.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(MA());let a=-1,o=i;return A.next(c=>$.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{o=o.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,o,c,Se())).next(u=>({batchId:a,changes:eN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let s=cc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let A=cc();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,o=>{const c=function(h,f){return new Ba(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,f)=>{A=A.insert(h,f)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(A=>{i.forEach((o,c)=>{const u=c.getKey();A.get(u)===null&&(A=A.insert(u,Gt.newInvalidDocument(u)))});let a=cc();return A.forEach((o,c)=>{const u=i.get(o);u!==void 0&&Lc(u.mutation,c,Zn.empty(),Vt.now()),Qg(n,c)&&(a=a.insert(o,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return $.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:cK(s.bundledQuery),readTime:nr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(){this.overlays=new mt(pe.comparator),this.Ir=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=MA();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=MA(),i=n.length+1,A=new pe(n.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,c=o.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&o.largestBatchId>r&&s.set(o.getKey(),o)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((c,u)=>c-u);const A=this.overlays.getIterator();for(;A.hasNext();){const c=A.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=MA(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=MA(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return $.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new O3(n,r));let i=this.Ir.get(n);i===void 0&&(i=Se(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.Tr=new an(Kt.Er),this.dr=new an(Kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Kt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new Xe([])),r=new Kt(n,e),s=new Kt(n,e+1),i=[];return this.dr.forEachInRange([r,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new Xe([])),r=new Kt(n,e),s=new Kt(n,e+1);let i=Se();return this.dr.forEachInRange([r,s],A=>{i=i.add(A.key)}),i}containsKey(e){const n=new Kt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||Oe(e.wr,n.wr)}static Ar(e,n){return Oe(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Kt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new M3(i,n,r,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new Kt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(A)}lookupMutationBatch(e,n){return $.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),s=new Kt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],A=>{const a=this.Dr(A.wr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Oe);return n.forEach(s=>{const i=new Kt(s,0),A=new Kt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;pe.isDocumentKey(i)||(i=i.child(""));const A=new Kt(new pe(i),0);let a=new an(Oe);return this.br.forEachWhile(o=>{const c=o.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(o.wr)),!0)},A),$.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(n.mutations,s=>{const i=new Kt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Kt(n,0),s=this.br.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.Mr=e,this.docs=function(){return new mt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,A=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Js();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Js();const A=n.path,a=new pe(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:c,value:{document:u}}=o.getNext();if(!A.isPrefixOf(c.path))break;c.path.length>A.length+1||s3(r3(u),r)<=0||(s.has(u.key)||Qg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ve()}Or(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BK(this)}getSize(e){return $.resolve(this.size)}}class BK extends hK{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e){this.persistence=e,this.Nr=new pl(n=>XB(n),YB),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rx,this.targetCount=0,this.kr=Xo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),$.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Kn(n),$.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(e,n){this.qr={},this.overlays={},this.Qr=new $B(0),this.Kr=!1,this.Kr=!0,this.$r=new yK,this.referenceDelegate=e(this),this.Ur=new xK(this),this.indexManager=new uK,this.remoteDocumentCache=function(s){return new wK(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lK(n),this.Gr=new gK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vK(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const s=new EK(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class EK extends A3{constructor(e){super(),this.currentSequenceNumber=e}}class sx{constructor(e){this.persistence=e,this.Jr=new rx,this.Yr=null}static Zr(e){return new sx(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),$.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const s=pe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return $.or([()=>$.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Se(),s=Se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ix(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cM()?8:a3(_n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new _K;return this.Xi(e,n,A).next(a=>{if(i.result=a,this.zi)return this.es(e,n,A,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Gl()<=Qe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Gl()<=Qe.DEBUG&&de("QueryEngine","Query:",Ka(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Gl()<=Qe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,os(n))):$.resolve())}Yi(e,n){if(P1(n))return $.resolve(null);let r=os(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hp(n,null,"F"),r=os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const A=Se(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,r).next(o=>{const c=this.ts(n,a);return this.ns(n,c,A,o.readTime)?this.Yi(e,hp(n,null,"F")):this.rs(e,c,n,o)}))})))}Zi(e,n,r,s){return P1(n)||s.isEqual(xe.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const A=this.ts(n,i);return this.ns(n,A,r,s)?$.resolve(null):(Gl()<=Qe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ka(n)),this.rs(e,A,n,n3(s,-1)).next(a=>a))})}ts(e,n){let r=new an(J2(e));return n.forEach((s,i)=>{Qg(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Gl()<=Qe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ka(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ji.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new mt(Oe),this._s=new pl(i=>XB(i),YB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function IK(t,e,n,r){return new TK(t,e,n,r)}async function xN(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const A=[],a=[];let o=Se();for(const c of s){A.push(c.batchId);for(const u of c.mutations)o=o.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(c=>({hs:c,removedBatchIds:A,addedBatchIds:a}))})})}function UK(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,c,u){const h=c.batch,f=h.keys();let g=$.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(o,m)).next(y=>{const E=c.docVersions.get(m);je(E!==null),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(o=o.add(a.batch.mutations[c].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function CN(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function FK(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(un.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(y,E,x){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let o=Js(),c=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(SK(i,A,e.documentUpdates).next(u=>{o=u.Ps,c=u.Is})),!r.isEqual(xe.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>A.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,o,c)).next(()=>o)}).then(i=>(n.os=s,i))}function SK(t,e,n){let r=Se(),s=Se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let A=Js();return n.forEach((a,o)=>{const c=i.get(a);o.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),o.isNoDocument()&&o.version.isEqual(xe.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!c.isValidDocument()||o.version.compareTo(c.version)>0||o.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):de("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",o.version)}),{Ps:A,Is:s}})}function NK(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QK(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Ur.allocateTargetId(r).next(A=>(s=new Fi(e,A,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Tv(t,e,n){const r=_e(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,A=>r.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!dd(A))throw A;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function $1(t,e,n){const r=_e(t);let s=xe.min(),i=Se();return r.persistence.runTransaction("Execute query","readwrite",A=>function(o,c,u){const h=_e(o),f=h._s.get(u);return f!==void 0?$.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,A,os(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{i=o})}).next(()=>r.ss.getDocumentsMatchingQuery(A,e,n?s:xe.min(),n?i:Se())).next(a=>(kK(r,_3(e),a),{documents:a,Ts:i})))}function kK(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class W1{constructor(){this.activeTargetIds=S3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RK{constructor(){this.so=new W1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new W1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function v0(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class jK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,A){const a=v0(),o=this.xo(n,r.toUriEncodedString());de("RestConnection",`Sending RPC '${n}' ${a}:`,o,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,A),this.No(n,o,c,s).then(u=>(de("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw zo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",o,"request:",s),u})}Lo(n,r,s,i,A,a){return this.Mo(n,r,s,i,A)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,A)=>n[A]=i),s&&s.headers.forEach((i,A)=>n[A]=i)}xo(n,r){const s=DK[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=v0();return new Promise((A,a)=>{const o=new R2;o.setWithCredentials(!0),o.listenOnce(P2.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case ff.NO_ERROR:const u=o.getResponseJson();de(gn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),A(u);break;case ff.TIMEOUT:de(gn,`RPC '${e}' ${i} timed out`),a(new te(V.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const h=o.getStatus();if(de(gn,`RPC '${e}' ${i} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(x)>=0?x:V.UNKNOWN}(g.status);a(new te(m,g.message))}else a(new te(V.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new te(V.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{de(gn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);de(gn,`RPC '${e}' ${i} sending request:`,s),o.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=v0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=j2(),a=L2(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=i.join("");de(gn,`Creating RPC '${e}' stream ${s}: ${u}`,o);const h=A.createWebChannel(u,o);let f=!1,g=!1;const m=new LK({Io:E=>{g?de(gn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(de(gn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),de(gn,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},To:()=>h.close()}),y=(E,x,v)=>{E.listen(x,w=>{try{v(w)}catch(F){setTimeout(()=>{throw F},0)}})};return y(h,lc.EventType.OPEN,()=>{g||(de(gn,`RPC '${e}' stream ${s} transport opened.`),m.yo())}),y(h,lc.EventType.CLOSE,()=>{g||(g=!0,de(gn,`RPC '${e}' stream ${s} transport closed`),m.So())}),y(h,lc.EventType.ERROR,E=>{g||(g=!0,zo(gn,`RPC '${e}' stream ${s} transport errored:`,E),m.So(new te(V.UNAVAILABLE,"The operation could not be completed")))}),y(h,lc.EventType.MESSAGE,E=>{var x;if(!g){const v=E.data[0];je(!!v);const w=v,F=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(F){de(gn,`RPC '${e}' stream ${s} received error:`,F);const T=F.status;let Q=function(_){const U=Qt[_];if(U!==void 0)return uN(U)}(T),b=F.message;Q===void 0&&(Q=V.INTERNAL,b="Unknown error status: "+T+" with message "+F.message),g=!0,m.So(new te(Q,b)),h.close()}else de(gn,`RPC '${e}' stream ${s} received:`,v),m.bo(v)}}),y(a,D2.STAT_EVENT,E=>{E.stat===yv.PROXY?de(gn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===yv.NOPROXY&&de(gn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function w0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){return new q3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,s,i,A,a,o){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ax(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new te(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MK extends EN{constructor(e,n,r,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Z3(this.serializer,e),r=function(i){if(!("targetChange"in i))return xe.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?xe.min():A.readTime?nr(A.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=bv(this.serializer),n.addTarget=function(i,A){let a;const o=A.target;if(a=xv(o)?{documents:tK(i,o)}:{query:nK(i,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=fN(i,A.resumeToken);const c=Ev(i,A.expectedCount);c!==null&&(a.expectedCount=c)}else if(A.snapshotVersion.compareTo(xe.min())>0){a.readTime=pp(i,A.snapshotVersion.toTimestamp());const c=Ev(i,A.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sK(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=bv(this.serializer),n.removeTarget=e,this.a_(n)}}class OK extends EN{constructor(e,n,r,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=eK(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=bv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new te(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,_v(n,r),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(V.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,_v(n,r),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new te(V.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class HK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ys(n),this.D_=!1):de("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{r.enqueueAndForget(async()=>{xa(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(o){const c=_e(o);c.L_.add(4),await gd(c),c.q_.set("Unknown"),c.L_.delete(4),await jg(c)}(this))})}),this.q_=new HK(r,s)}}async function jg(t){if(xa(t))for(const e of t.B_)await e(!0)}async function gd(t){for(const e of t.B_)await e(!1)}function _N(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),cx(n)?lx(n):gl(n).r_()&&ox(n,e))}function ax(t,e){const n=_e(t),r=gl(n);n.N_.delete(e),r.r_()&&bN(n,e),n.N_.size===0&&(r.r_()?r.o_():xa(n)&&n.q_.set("Unknown"))}function ox(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).A_(e)}function bN(t,e){t.Q_.xe(e),gl(t).R_(e)}function lx(t){t.Q_=new z3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.q_.v_()}function cx(t){return xa(t)&&!gl(t).n_()&&t.N_.size>0}function xa(t){return _e(t).L_.size===0}function TN(t){t.Q_=void 0}async function zK(t){t.q_.set("Online")}async function GK(t){t.N_.forEach((e,n)=>{ox(t,e)})}async function $K(t,e){TN(t),cx(t)?(t.q_.M_(e),lx(t)):t.q_.set("Unknown")}async function WK(t,e,n){if(t.q_.set("Online"),e instanceof hN&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mp(t,r)}else if(e instanceof mf?t.Q_.Ke(e):e instanceof dN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await CN(t.localStore);n.compareTo(r)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((o,c)=>{if(o.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,c)=>{const u=i.N_.get(o);if(!u)return;i.N_.set(o,u.withResumeToken(un.EMPTY_BYTE_STRING,u.snapshotVersion)),bN(i,o);const h=new Fi(u.target,o,c,u.sequenceNumber);ox(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){de("RemoteStore","Failed to raise snapshot:",r),await mp(t,r)}}async function mp(t,e,n){if(!dd(e))throw e;t.L_.add(1),await gd(t),t.q_.set("Offline"),n||(n=()=>CN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await jg(t)})}function IN(t,e){return e().catch(n=>mp(t,n,e))}async function Mg(t){const e=_e(t),n=eA(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;qK(e);)try{const s=await NK(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,XK(e,s)}catch(s){await mp(e,s)}UN(e)&&FN(e)}function qK(t){return xa(t)&&t.O_.length<10}function XK(t,e){t.O_.push(e);const n=eA(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UN(t){return xa(t)&&!eA(t).n_()&&t.O_.length>0}function FN(t){eA(t).start()}async function YK(t){eA(t).p_()}async function JK(t){const e=eA(t);for(const n of t.O_)e.m_(n.mutations)}async function ZK(t,e,n){const r=t.O_.shift(),s=ex.from(r,e,n);await IN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Mg(t)}async function e6(t,e){e&&eA(t).V_&&await async function(r,s){if(function(A){return cN(A)&&A!==V.ABORTED}(s.code)){const i=r.O_.shift();eA(r).s_(),await IN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Mg(r)}}(t,e),UN(t)&&FN(t)}async function X1(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const r=xa(n);n.L_.add(3),await gd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await jg(n)}async function t6(t,e){const n=_e(t);e?(n.L_.delete(2),await jg(n)):e||(n.L_.add(2),await gd(n),n.q_.set("Unknown"))}function gl(t){return t.K_||(t.K_=function(n,r,s){const i=_e(n);return i.w_(),new MK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:zK.bind(null,t),Ro:GK.bind(null,t),mo:$K.bind(null,t),d_:WK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),cx(t)?lx(t):t.q_.set("Unknown")):(await t.K_.stop(),TN(t))})),t.K_}function eA(t){return t.U_||(t.U_=function(n,r,s){const i=_e(n);return i.w_(),new OK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YK.bind(null,t),mo:e6.bind(null,t),f_:JK.bind(null,t),g_:ZK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Mg(t)):(await t.U_.stop(),t.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const A=Date.now()+r,a=new ux(e,n,A,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dx(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),dd(t))return new te(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.W_=new mt(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Yo{constructor(e,n,r,s,i,A,a,o,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const A=[];return n.forEach(a=>{A.push({type:0,doc:a})}),new Yo(e,n,Fo.emptySet(n),A,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class r6{constructor(){this.queries=J1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=_e(n),i=s.queries;s.queries=J1(),i.forEach((A,a)=>{for(const o of a.j_)o.onError(r)})})(this,new te(V.ABORTED,"Firestore shutting down"))}}function J1(){return new pl(t=>Y2(t),Ng)}async function hx(t,e){const n=_e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new n6,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(A){const a=dx(A,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&px(n)}async function fx(t,e){const n=_e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s6(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,A=n.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(r=!0);A.z_=s}}r&&px(n)}function i6(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function px(t){t.Y_.forEach(e=>{e.next()})}var Iv,Z1;(Z1=Iv||(Iv={})).ea="default",Z1.Cache="cache";class gx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Iv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.key=e}}class NN{constructor(e){this.key=e}}class A6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=J2(e),this.Ra=new Fo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Y1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,A=s,a=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),g=Qg(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?m!==y&&(r.track({type:3,doc:g}),E=!0):this.ga(f,g)||(r.track({type:2,doc:g}),E=!0,(o&&this.Aa(g,o)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),E=!0):f&&!g&&(r.track({type:1,doc:f}),E=!0,(o||c)&&(a=!0)),E&&(g?(A=A.add(g),i=y?i.add(u):i.delete(u)):(A=A.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:A,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,h)=>function(g,m){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return y(g)-y(m)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,c=o!==this.Ea;return this.Ea=o,A.length!==0||c?{snapshot:new Yo(this.query,e.Ra,i,A,e.mutatedKeys,o===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Y1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new NN(r))}),this.da.forEach(r=>{e.has(r)||n.push(new SN(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class a6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o6{constructor(e){this.key=e,this.va=!1}}class l6{constructor(e,n,r,s,i,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new pl(a=>Y2(a),Ng),this.Ma=new Map,this.xa=new Set,this.Oa=new mt(pe.comparator),this.Na=new Map,this.La=new rx,this.Ba={},this.ka=new Map,this.qa=Xo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function c6(t,e,n=!0){const r=LN(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await QN(r,e,n,!0),s}async function u6(t,e){const n=LN(t);await QN(n,e,!0,!1)}async function QN(t,e,n,r){const s=await QK(t.localStore,os(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await d6(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&n&&_N(t.remoteStore,s),a}async function d6(t,e,n,r,s){t.Ka=(h,f,g)=>async function(y,E,x,v){let w=E.view.ma(x);w.ns&&(w=await $1(y.localStore,E.query,!1).then(({documents:b})=>E.view.ma(b,w)));const F=v&&v.targetChanges.get(E.targetId),T=v&&v.targetMismatches.get(E.targetId)!=null,Q=E.view.applyChanges(w,y.isPrimaryClient,F,T);return tb(y,E.targetId,Q.wa),Q.snapshot}(t,h,f,g);const i=await $1(t.localStore,e,!0),A=new A6(e,i.Ts),a=A.ma(i.documents),o=pd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=A.applyChanges(a,t.isPrimaryClient,o);tb(t,n,c.wa);const u=new a6(e,n,A);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function h6(t,e,n){const r=_e(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(A=>!Ng(A,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Tv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ax(r.remoteStore,s.targetId),Uv(r,s.targetId)}).catch(ud)):(Uv(r,s.targetId),await Tv(r.localStore,s.targetId,!0))}async function f6(t,e){const n=_e(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ax(n.remoteStore,r.targetId))}async function p6(t,e,n){const r=x6(t);try{const s=await function(A,a){const o=_e(A),c=Vt.now(),u=a.reduce((g,m)=>g.add(m.key),Se());let h,f;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=Js(),y=Se();return o.cs.getEntries(g,u).next(E=>{m=E,m.forEach((x,v)=>{v.isValidDocument()||(y=y.add(x))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,m)).next(E=>{h=E;const x=[];for(const v of a){const w=j3(v,h.get(v.key).overlayedDocument);w!=null&&x.push(new mA(v.key,w,K2(w.value.mapValue),rn.exists(!0)))}return o.mutationQueue.addMutationBatch(g,c,x,a)}).next(E=>{f=E;const x=E.applyToLocalDocumentSet(h,y);return o.documentOverlayCache.saveOverlays(g,E.batchId,x)})}).then(()=>({batchId:f.batchId,changes:eN(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(A,a,o){let c=A.Ba[A.currentUser.toKey()];c||(c=new mt(Oe)),c=c.insert(a,o),A.Ba[A.currentUser.toKey()]=c}(r,s.batchId,n),await md(r,s.changes),await Mg(r.remoteStore)}catch(s){const i=dx(s,"Failed to persist write");n.reject(i)}}async function kN(t,e){const n=_e(t);try{const r=await FK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const A=n.Na.get(i);A&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?je(A.va):s.removedDocuments.size>0&&(je(A.va),A.va=!1))}),await md(n,r,e)}catch(r){await ud(r)}}function eb(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const o=_e(A);o.onlineState=a;let c=!1;o.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&px(o)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g6(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let A=new mt(pe.comparator);A=A.insert(i,Gt.newNoDocument(i,xe.min()));const a=Se().add(i),o=new Dg(xe.min(),new Map,new mt(Oe),A,a);await kN(r,o),r.Oa=r.Oa.remove(i),r.Na.delete(e),mx(r)}else await Tv(r.localStore,e,!1).then(()=>Uv(r,e,n)).catch(ud)}async function m6(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await UK(n.localStore,e);PN(n,r,null),RN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await md(n,s)}catch(s){await ud(s)}}async function y6(t,e,n){const r=_e(t);try{const s=await function(A,a){const o=_e(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return o.mutationQueue.lookupMutationBatch(c,a).next(h=>(je(h!==null),u=h.keys(),o.mutationQueue.removeMutationBatch(c,h))).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>o.localDocuments.getDocuments(c,u))})}(r.localStore,e);PN(r,e,n),RN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await md(r,s)}catch(s){await ud(s)}}function RN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PN(t,e,n){const r=_e(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Uv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||DN(t,r)})}function DN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ax(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),mx(t))}function tb(t,e,n){for(const r of n)r instanceof SN?(t.La.addReference(r.key,e),v6(t,r)):r instanceof NN?(de("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||DN(t,r.key)):ve()}function v6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(de("SyncEngine","New document in limbo: "+n),t.xa.add(r),mx(t))}function mx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new o6(n)),t.Oa=t.Oa.insert(n,r),_N(t.remoteStore,new Fi(os(Sg(n.path)),r,"TargetPurposeLimboResolution",$B.oe))}}async function md(t,e,n){const r=_e(t),s=[],i=[],A=[];r.Fa.isEmpty()||(r.Fa.forEach((a,o)=>{A.push(r.Ka(o,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(o.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(o.targetId,h?"current":"not-current")}if(c){s.push(c);const h=ix.Wi(o.targetId,c);i.push(h)}}))}),await Promise.all(A),r.Ca.d_(s),await async function(o,c){const u=_e(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(c,f=>$.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>$.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!dd(h))throw h;de("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=u.os.get(f),m=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,y)}}}(r.localStore,i))}async function w6(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const r=await xN(n.localStore,e);n.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(o=>{o.reject(new te(V.CANCELLED,A))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await md(n,r.hs)}}function B6(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let s=Se();const i=n.Ma.get(e);if(!i)return s;for(const A of i){const a=n.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function LN(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g6.bind(null,e),e.Ca.d_=s6.bind(null,e.eventManager),e.Ca.$a=i6.bind(null,e.eventManager),e}function x6(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y6.bind(null,e),e}class yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return IK(this.persistence,new bK,e.initialUser,this.serializer)}Ga(e){return new CK(sx.Zr,this.serializer)}Wa(e){return new RK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yp.provider={build:()=>new yp};class Fv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w6.bind(null,this.syncEngine),await t6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r6}()}createDatastore(e){const n=Lg(e.databaseInfo.databaseId),r=function(i){return new jK(i)}(e.databaseInfo);return function(i,A,a,o){return new VK(i,A,a,o)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,A,a){return new KK(r,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eb(this.syncEngine,n,0),function(){return q1.D()?new q1:new PK}())}createSyncEngine(e,n){return function(s,i,A,a,o,c,u){const h=new l6(s,i,A,a,o,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=_e(s);de("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await gd(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fv.provider={build:()=>new Fv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new te(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const A=_e(s),a={documents:i.map(h=>gp(A.serializer,h))},o=await A.Lo("BatchGetDocuments",A.serializer.databaseId,Xe.emptyPath(),a,i.length),c=new Map;o.forEach(h=>{const f=J3(A.serializer,h);c.set(f.key.toString(),f)});const u=[];return i.forEach(h=>{const f=c.get(h.toString());je(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=pe.fromPath(r);this.mutations.push(new lN(s,this.precondition(s)))}),await async function(r,s){const i=_e(r),A={writes:s.map(a=>yN(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Xe.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ve();n=xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new te(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(xe.min())?rn.exists(!1):rn.updateTime(n):rn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(xe.min()))throw new te(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(n)}return rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new Ax(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new C6(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!hd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!cN(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vn.UNAUTHENTICATED,this.clientId=O2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async A=>{de("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(r,A=>(de("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function B0(t,e){t.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await xN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b6(t);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>X1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>X1(e.remoteStore,s)),t._onlineComponents=e}async function b6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await B0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await B0(t,new yp)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await B0(t,new yp);return t._offlineComponents}async function vx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await nb(t,t._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await nb(t,new Fv))),t._onlineComponents}function T6(t){return vx(t).then(e=>e.syncEngine)}function I6(t){return vx(t).then(e=>e.datastore)}async function vp(t){const e=await vx(t),n=e.eventManager;return n.onListen=c6.bind(null,e.syncEngine),n.onUnlisten=h6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f6.bind(null,e.syncEngine),n}function U6(t,e,n={}){const r=new as;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,c){const u=new yx({next:f=>{u.Za(),A.enqueueAndForget(()=>fx(i,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new te(V.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&o&&o.source==="server"?c.reject(new te(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new gx(Sg(a.path),u,{includeMetadataChanges:!0,_a:!0});return hx(i,h)}(await vp(t),t.asyncQueue,e,n,r)),r.promise}function F6(t,e,n={}){const r=new as;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,c){const u=new yx({next:f=>{u.Za(),A.enqueueAndForget(()=>fx(i,h)),f.fromCache&&o.source==="server"?c.reject(new te(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new gx(a,u,{includeMetadataChanges:!0,_a:!0});return hx(i,h)}(await vp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e,n){if(!n)throw new te(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S6(t,e,n,r){if(e===!0&&r===!0)throw new te(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sb(t){if(!pe.isDocumentKey(t))throw new te(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ib(t){if(pe.isDocumentKey(t))throw new te(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Og(t);throw new te(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new te(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $H;switch(r.type){case"firstParty":return new YH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rb.get(n);r&&(de("ComponentProvider","Removing Datastore"),rb.delete(n),r.terminate())}(this),Promise.resolve()}}function N6(t,e,n,r={}){var s;const i=(t=kn(t,Vg))._getSettings(),A=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),r.mockUserToken){let a,o;if(typeof r.mockUserToken=="string")a=r.mockUserToken,o=vn.MOCK_USER;else{a=qS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new te(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new vn(c)}t._authCredentials=new WH(new M2(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class Gi extends ws{constructor(e,n,r){super(e,n,Sg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new pe(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function St(t,e,...n){if(t=He(t),MN("collection","path",e),t instanceof Vg){const r=Xe.fromString(e,...n);return ib(r),new Gi(t,null,r)}{if(!(t instanceof on||t instanceof Gi))throw new te(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return ib(r),new Gi(t.firestore,null,r)}}function Ve(t,e,...n){if(t=He(t),arguments.length===1&&(e=O2.newId()),MN("doc","path",e),t instanceof Vg){const r=Xe.fromString(e,...n);return sb(r),new on(t,null,new pe(r))}{if(!(t instanceof on||t instanceof Gi))throw new te(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return sb(r),new on(t.firestore,t instanceof Gi?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ax(this,"async_queue_retry"),this.Vu=()=>{const r=w0();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=w0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=w0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new as;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!dd(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(r);throw Ys("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ux.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function ob(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class hs extends Vg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ab,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function Q6(t,e){const n=typeof t=="object"?t:_g(),r=typeof t=="string"?t:"(default)",s=ad(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kB("firestore");i&&N6(s,...i)}return s}function yd(t){if(t._terminated)throw new te(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k6(t),t._firestoreClient}function k6(t){var e,n,r;const s=t._freezeSettings(),i=function(a,o,c,u){return new c3(a,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jN(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new _6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this._byteString=e}static fromBase64String(e){try{return new la(un.fromBase64String(e))}catch(n){throw new te(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new la(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=/^__.*__$/;class P6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mA(e,this.data,this.fieldMask,n,this.fieldTransforms):new fd(e,this.data,n,this.fieldTransforms)}}class ON{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mA(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class xx{constructor(e,n,r,s,i,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VN(this.Cu)&&R6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class D6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lg(e)}Qu(e,n,r,s=!1){return new xx({Cu:e,methodName:n,qu:r,path:nn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ml(t){const e=t._freezeSettings(),n=Lg(t._databaseId);return new D6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cx(t,e,n,r,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);_x("Data must be an object, but it was:",A,r);const a=GN(r,A);let o,c;if(i.merge)o=new Zn(A.fieldMask),c=A.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Sv(e,h,n);if(!A.contains(f))throw new te(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);WN(u,f)||u.push(f)}o=new Zn(u),c=A.fieldTransforms.filter(h=>o.covers(h.field))}else o=null,c=A.fieldTransforms;return new P6(new Nn(a),o,c)}class Kg extends Hg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kg}}class Ex extends Hg{_toFieldTransform(e){return new R3(e.path,new _u)}isEqual(e){return e instanceof Ex}}function HN(t,e,n,r){const s=t.Qu(1,e,n);_x("Data must be an object, but it was:",s,r);const i=[],A=Nn.empty();wa(r,(o,c)=>{const u=bx(e,o,n);c=He(c);const h=s.Nu(u);if(c instanceof Kg)i.push(u);else{const f=wd(c,h);f!=null&&(i.push(u),A.set(u,f))}});const a=new Zn(i);return new ON(A,a,s.fieldTransforms)}function KN(t,e,n,r,s,i){const A=t.Qu(1,e,n),a=[Sv(e,r,n)],o=[s];if(i.length%2!=0)throw new te(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Sv(e,i[f])),o.push(i[f+1]);const c=[],u=Nn.empty();for(let f=a.length-1;f>=0;--f)if(!WN(c,a[f])){const g=a[f];let m=o[f];m=He(m);const y=A.Nu(g);if(m instanceof Kg)c.push(g);else{const E=wd(m,y);E!=null&&(c.push(g),u.set(g,E))}}const h=new Zn(c);return new ON(u,h,A.fieldTransforms)}function zN(t,e,n,r=!1){return wd(n,t.Qu(r?4:3,e))}function wd(t,e){if($N(t=He(t)))return _x("Unsupported field value:",e,t),GN(t,e);if(t instanceof Hg)return function(r,s){if(!VN(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let A=0;for(const a of r){let o=wd(a,s.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),A++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Vt.fromDate(r);return{timestampValue:pp(s.serializer,i)}}if(r instanceof Vt){const i=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pp(s.serializer,i)}}if(r instanceof wx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof la)return{bytesValue:fN(s.serializer,r._byteString)};if(r instanceof on){const i=s.databaseId,A=r.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bx)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return ZB(a.serializer,o)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Og(r)}`)}(t,e)}function GN(t,e){const n={};return V2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(r,s)=>{const i=wd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $N(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof wx||t instanceof la||t instanceof on||t instanceof Hg||t instanceof Bx)}function _x(t,e,n){if(!$N(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Og(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Sv(t,e,n){if((e=He(e))instanceof vd)return e._internalPath;if(typeof e=="string")return bx(t,e);throw wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const L6=new RegExp("[~\\*/\\[\\]]");function bx(t,e,n){if(e.search(L6)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vd(...e.split("."))._internalPath}catch{throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wp(t,e,n,r,s){const i=r&&!r.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||A)&&(o+=" (found",i&&(o+=` in field ${r}`),A&&(o+=` in document ${s}`),o+=")"),new te(V.INVALID_ARGUMENT,a+t+o)}function WN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j6 extends Iu{data(){return super.data()}}function zg(t,e){return typeof e=="string"?bx(t,e):e instanceof vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tx{}class Gg extends Tx{}function fs(t,e,...n){let r=[];e instanceof Tx&&r.push(e),r=r.concat(n),function(i){const A=i.filter(o=>o instanceof Ix).length,a=i.filter(o=>o instanceof $g).length;if(A>1||A>0&&a>0)throw new te(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class $g extends Gg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new $g(e,n,r)}_apply(e){const n=this._parse(e);return XN(e._query,n),new ws(e.firestore,e.converter,Cv(e._query,n))}_parse(e){const n=ml(e.firestore);return function(i,A,a,o,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new te(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ub(h,u);const g=[];for(const m of h)g.push(cb(o,i,m));f={arrayValue:{values:g}}}else f=cb(o,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ub(h,u),f=zN(a,A,h,u==="in"||u==="not-in");return Dt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ca(t,e,n){const r=e,s=zg("where",t);return $g._create(s,r,n)}class Ix extends Tx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ix(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const o of a)XN(A,o),A=Cv(A,o)}(e._query,n),new ws(e.firestore,e.converter,Cv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ux extends Gg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ux(e,n)}_apply(e){const n=function(s,i,A){if(s.startAt!==null)throw new te(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(i,A)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new Ba(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Zs(t,e="asc"){const n=e,r=zg("orderBy",t);return Ux._create(r,n)}class Fx extends Gg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Fx(e,n,r)}_apply(e){return new ws(e.firestore,e.converter,hp(e._query,this._limit,this._limitType))}}function lb(t){return Fx._create("limit",t,"F")}class Sx extends Gg{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Sx(e,n,r)}_apply(e){const n=O6(e,this.type,this._docOrFields,this._inclusive);return new ws(e.firestore,e.converter,function(s,i){return new Ba(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function M6(...t){return Sx._create("startAfter",t,!1)}function O6(t,e,n,r){if(n[0]=He(n[0]),n[0]instanceof Iu)return function(i,A,a,o,c){if(!o)throw new te(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const h of Uo(i))if(h.field.isKeyField())u.push(dp(A,o.key));else{const f=o.data.field(h.field);if(Fg(f))throw new te(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const g=h.field.canonicalString();throw new te(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}u.push(f)}return new qo(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=ml(t.firestore);return function(A,a,o,c,u,h){const f=A.explicitOrderBy;if(u.length>f.length)throw new te(V.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let m=0;m<u.length;m++){const y=u[m];if(f[m].field.isKeyField()){if(typeof y!="string")throw new te(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof y}`);if(!JB(A)&&y.indexOf("/")!==-1)throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${y}' contains a slash.`);const E=A.path.child(Xe.fromString(y));if(!pe.isDocumentKey(E))throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const x=new pe(E);g.push(dp(a,x))}else{const E=zN(o,c,y);g.push(E)}}return new qo(g,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function cb(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new te(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JB(e)&&n.indexOf("/")!==-1)throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!pe.isDocumentKey(r))throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dp(t,new pe(r))}if(n instanceof on)return dp(t,n._key);throw new te(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Og(n)}.`)}function ub(t,e){if(!Array.isArray(t)||t.length===0)throw new te(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XN(t,e){const n=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YN{convertValue(e,n="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(A=>It(A.doubleValue));return new Bx(i)}convertGeoPoint(e){return new wx(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=WB(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);je(BN(r));const s=new xu(r.get(1),r.get(3)),i=new pe(r.popFirst(5));return s.isEqual(n)||Ys(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class V6 extends YN{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qx extends Iu{constructor(e,n,r,s,i,A){super(e,n,r,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yf extends Qx{data(e={}){return super.data(e)}}class JN{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new lo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yf(this._firestore,this._userDataWriter,r.key,r,new lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const o=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),u=A.indexOf(a.doc.key)),{type:H6(a.type),doc:o,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function H6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t){t=kn(t,on);const e=kn(t.firestore,hs);return U6(yd(e),t._key).then(n=>ZN(e,t,n))}class Wg extends YN{constructor(e){super(),this.firestore=e}convertBytes(e){return new la(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function Uu(t){t=kn(t,ws);const e=kn(t.firestore,hs),n=yd(e),r=new Wg(e);return qN(t._query),F6(n,t._query).then(s=>new JN(e,r,t,s))}function qg(t,e,n){t=kn(t,on);const r=kn(t.firestore,hs),s=Nx(t.converter,e,n);return Xg(r,[Cx(ml(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,rn.none())])}function Er(t,e,n,...r){t=kn(t,on);const s=kn(t.firestore,hs),i=ml(s);let A;return A=typeof(e=He(e))=="string"||e instanceof vd?KN(i,"updateDoc",t._key,e,n,r):HN(i,"updateDoc",t._key,e),Xg(s,[A.toMutation(t._key,rn.exists(!0))])}function kx(t){return Xg(kn(t.firestore,hs),[new Pg(t._key,rn.none())])}function Vr(t,e){const n=kn(t.firestore,hs),r=Ve(t),s=Nx(t.converter,e);return Xg(n,[Cx(ml(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,rn.exists(!1))]).then(()=>r)}function yl(t,...e){var n,r,s;t=He(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||ob(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ob(e[A])){const h=e[A];e[A]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[A+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[A+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let o,c,u;if(t instanceof on)c=kn(t.firestore,hs),u=Sg(t._key.path),o={next:h=>{e[A]&&e[A](ZN(c,t,h))},error:e[A+1],complete:e[A+2]};else{const h=kn(t,ws);c=kn(h.firestore,hs),u=h._query;const f=new Wg(c);o={next:g=>{e[A]&&e[A](new JN(c,f,h,g))},error:e[A+1],complete:e[A+2]},qN(t._query)}return function(f,g,m,y){const E=new yx(y),x=new gx(g,E,m);return f.asyncQueue.enqueueAndForget(async()=>hx(await vp(f),x)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>fx(await vp(f),x))}}(yd(c),u,a,o)}function Xg(t,e){return function(r,s){const i=new as;return r.asyncQueue.enqueueAndForget(async()=>p6(await T6(r),s,i)),i.promise}(yd(t),e)}function ZN(t,e,n){const r=n.docs.get(e._key),s=new Wg(t);return new Qx(t,s,e._key,r,new lo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6={maxAttempts:5};function $l(t,e){if((t=He(t)).firestore!==e)throw new te(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=ml(n)}get(n){const r=$l(n,this._firestore),s=new V6(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ve();const A=i[0];if(A.isFoundDocument())return new Iu(this._firestore,s,A.key,A,r.converter);if(A.isNoDocument())return new Iu(this._firestore,s,r._key,null,r.converter);throw ve()})}set(n,r,s){const i=$l(n,this._firestore),A=Nx(i.converter,r,s),a=Cx(this._dataReader,"Transaction.set",i._key,A,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const A=$l(n,this._firestore);let a;return a=typeof(r=He(r))=="string"||r instanceof vd?KN(this._dataReader,"Transaction.update",A._key,r,s,i):HN(this._dataReader,"Transaction.update",A._key,r),this._transaction.update(A._key,a),this}delete(n){const r=$l(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=$l(e,this._firestore),r=new Wg(this._firestore);return super.get(e).then(s=>new Qx(this._firestore,r,n._key,s._document,new lo(!1,!1),n.converter))}}function db(t,e,n){t=kn(t,hs);const r=Object.assign(Object.assign({},K6),n);return function(i){if(i.maxAttempts<1)throw new te(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,A,a){const o=new as;return i.asyncQueue.enqueueAndForget(async()=>{const c=await I6(i);new E6(i.asyncQueue,c,a,A,o).au()}),o.promise}(yd(t),s=>e(new z6(t,s)),r)}function Kn(){return new Ex("serverTimestamp")}(function(e,n=!0){(function(s){fl=s})(va),Yi(new Ws("firestore",(r,{instanceIdentifier:s,options:i})=>{const A=r.getProvider("app").getImmediate(),a=new hs(new qH(r.getProvider("auth-internal")),new ZH(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(c.options.projectId,u)}(A,s),A);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Br(b1,"4.7.3",e),Br(b1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="type.googleapis.com/google.protobuf.Int64Value",$6="type.googleapis.com/google.protobuf.UInt64Value";function eQ(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Nv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Nv(e));if(typeof t=="function"||typeof t=="object")return eQ(t,e=>Nv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Bp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case G6:case $6:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Bp(e)):typeof t=="function"||typeof t=="object"?eQ(t,e=>Bp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class So extends Kr{constructor(e,n,r){super(`${Rx}/${e}`,n||""),this.details=r}}function W6(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function q6(t,e){let n=W6(t),r=n,s;try{const i=e&&e.error;if(i){const A=i.status;if(typeof A=="string"){if(!hb[A])return new So("internal","internal");n=hb[A],r=A}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=Bp(s))}}catch{}return n==="ok"?null:new So(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="us-central1";function Y6(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new So("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class J6{constructor(e,n,r,s,i=Qv,A){this.app=e,this.fetchImpl=A,this.emulatorOrigin=null,this.contextProvider=new X6(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Qv}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Z6(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function e5(t,e,n){return r=>n5(t,e,r,{})}async function t5(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function n5(t,e,n,r){const s=t._url(e);return r5(t,s,n,r)}async function r5(t,e,n,r){n=Nv(n);const s={data:n},i={},A=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);A.authToken&&(i.Authorization="Bearer "+A.authToken),A.messagingToken&&(i["Firebase-Instance-ID-Token"]=A.messagingToken),A.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=A.appCheckToken);const a=r.timeout||7e4,o=Y6(a),c=await Promise.race([t5(e,s,i,t.fetchImpl),o.promise,t.cancelAllRequests]);if(o.cancel(),!c)throw new So("cancelled","Firebase Functions instance was deleted.");const u=q6(c.status,c.json);if(u)throw u;if(!c.json)throw new So("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new So("internal","Response is missing data field.");return{data:Bp(h)}}const fb="@firebase/functions",pb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="auth-internal",i5="app-check-internal",A5="messaging-internal";function a5(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),A=r.getProvider(s5),a=r.getProvider(A5),o=r.getProvider(i5);return new J6(i,A,a,o,s,t)};Yi(new Ws(Rx,n,"PUBLIC").setMultipleInstances(!0)),Br(fb,pb,e),Br(fb,pb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t=_g(),e=Qv){const r=ad(He(t),Rx).getImmediate({identifier:e}),s=kB("functions");return s&&l5(r,...s),r}function l5(t,e,n){Z6(He(t),e,n)}function c5(t,e,n){return e5(He(t),e)}a5(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ="firebasestorage.googleapis.com",nQ="storageBucket",u5=2*60*1e3,d5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct extends Kr{constructor(e,n,r=0){super(x0(e),`Firebase Storage: ${n} (${x0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return x0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bt||(Bt={}));function x0(t){return"storage/"+t}function Px(){const t="An unknown error occurred, please check the error payload for server response.";return new Ct(Bt.UNKNOWN,t)}function h5(t){return new Ct(Bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function f5(t){return new Ct(Bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function p5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct(Bt.UNAUTHENTICATED,t)}function g5(){return new Ct(Bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m5(t){return new Ct(Bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function y5(){return new Ct(Bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function v5(){return new Ct(Bt.CANCELED,"User canceled the upload/download.")}function w5(t){return new Ct(Bt.INVALID_URL,"Invalid URL '"+t+"'.")}function B5(t){return new Ct(Bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x5(){return new Ct(Bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nQ+"' property when initializing the app?")}function C5(){return new Ct(Bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function E5(){return new Ct(Bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _5(t){return new Ct(Bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kv(t){return new Ct(Bt.INVALID_ARGUMENT,t)}function rQ(){return new Ct(Bt.APP_DELETED,"The Firebase app was deleted.")}function b5(t){return new Ct(Bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mc(t,e){return new Ct(Bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wl(t){throw new Ct(Bt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw B5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const A="(/(.*))?$",a=new RegExp("^gs://"+s+A,"i"),o={bucket:1,path:3};function c(F){F.path_=decodeURIComponent(F.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},y=n===tQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",x=new RegExp(`^https?://${y}/${s}/${E}`,"i"),w=[{regex:a,indices:o,postModify:i},{regex:g,indices:m,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let F=0;F<w.length;F++){const T=w[F],Q=T.regex.exec(e);if(Q){const b=Q[T.indices.bucket];let C=Q[T.indices.path];C||(C=""),r=new er(b,C),T.postModify(r);break}}if(r==null)throw w5(e);return r}}class T5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e,n){let r=1,s=null,i=null,A=!1,a=0;function o(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(g,o())},E)}function f(){i&&clearTimeout(i)}function g(E,...x){if(c){f();return}if(E){f(),u.call(null,E,...x);return}if(o()||A){f(),u.call(null,E,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let m=!1;function y(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{A=!0,y(!0)},n),y}function U5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){return t!==void 0}function S5(t){return typeof t=="object"&&!Array.isArray(t)}function Dx(t){return typeof t=="string"||t instanceof String}function gb(t){return Lx()&&t instanceof Blob}function Lx(){return typeof Blob<"u"}function mb(t,e,n,r){if(r<e)throw kv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw kv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function sQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var WA;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(WA||(WA={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,s,i,A,a,o,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=A,this.callback_=a,this.errorCallback_=o,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,m)=>{this.resolve_=g,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new yh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const A=a=>{const o=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,c)};this.progressCallback_!==null&&i.addUploadProgressListener(A),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(A),this.pendingConnection_=null;const a=i.getErrorCode()===WA.NO_ERROR,o=i.getStatus();if(!a||N5(o,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===WA.ABORT;r(!1,new yh(!1,null,u));return}const c=this.successCodes_.indexOf(o)!==-1;r(!0,new yh(c,i))})},n=(r,s)=>{const i=this.resolve_,A=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const o=this.callback_(a,a.getResponse());F5(o)?i(o):i()}catch(o){A(o)}else if(a!==null){const o=Px();o.serverResponse=a.getErrorText(),this.errorCallback_?A(this.errorCallback_(a,o)):A(o)}else if(s.canceled){const o=this.appDelete_?rQ():v5();A(o)}else{const o=y5();A(o)}};this.canceled_?n(!1,new yh(!1,null,!0)):this.backoffId_=I5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&U5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function k5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function L5(t,e,n,r,s,i,A=!0){const a=sQ(t.urlParams),o=t.url+a,c=Object.assign({},t.headers);return P5(c,e),k5(c,n),R5(c,i),D5(c,r),new Q5(o,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function M5(...t){const e=j5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Lx())return new Blob(t);throw new Ct(Bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){if(typeof atob>"u")throw _5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class C0{constructor(e,n){this.data=e,this.contentType=n||null}}function H5(t,e){switch(t){case ts.RAW:return new C0(iQ(e));case ts.BASE64:case ts.BASE64URL:return new C0(AQ(t,e));case ts.DATA_URL:return new C0(z5(e),G5(e))}throw Px()}function iQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,A=t.charCodeAt(++n);r=65536|(i&1023)<<10|A&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function K5(t){let e;try{e=decodeURIComponent(t)}catch{throw Mc(ts.DATA_URL,"Malformed data URL.")}return iQ(e)}function AQ(t,e){switch(t){case ts.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Mc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ts.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Mc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=V5(e)}catch(s){throw s.message.includes("polyfill")?s:Mc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class aQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Mc(ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function z5(t){const e=new aQ(t);return e.base64?AQ(ts.BASE64,e.rest):K5(e.rest)}function G5(t){return new aQ(t).contentType}function $5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){let r=0,s="";gb(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(gb(this.data_)){const r=this.data_,s=O5(r,e,n);return s===null?null:new Ei(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ei(r,!0)}}static getBlob(...e){if(Lx()){const n=e.map(r=>r instanceof Ei?r.data_:r);return new Ei(M5.apply(null,n))}else{const n=e.map(A=>Dx(A)?H5(ts.RAW,A).data:A.data_);let r=0;n.forEach(A=>{r+=A.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(A=>{for(let a=0;a<A.length;a++)s[i++]=A[a]}),new Ei(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(t){let e;try{e=JSON.parse(t)}catch{return null}return S5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e){return e}class In{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||X5}}let vh=null;function Y5(t){return!Dx(t)||t.length<2?t:lQ(t)}function cQ(){if(vh)return vh;const t=[];t.push(new In("bucket")),t.push(new In("generation")),t.push(new In("metageneration")),t.push(new In("name","fullPath",!0));function e(i,A){return Y5(A)}const n=new In("name");n.xform=e,t.push(n);function r(i,A){return A!==void 0?Number(A):A}const s=new In("size");return s.xform=r,t.push(s),t.push(new In("timeCreated")),t.push(new In("updated")),t.push(new In("md5Hash",null,!0)),t.push(new In("cacheControl",null,!0)),t.push(new In("contentDisposition",null,!0)),t.push(new In("contentEncoding",null,!0)),t.push(new In("contentLanguage",null,!0)),t.push(new In("contentType",null,!0)),t.push(new In("metadata","customMetadata",!0)),vh=t,vh}function J5(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new er(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Z5(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const A=n[i];r[A.local]=A.xform(r,e[A.server])}return J5(r,t),r}function uQ(t,e,n){const r=oQ(e);return r===null?null:Z5(t,r,n)}function ez(t,e,n,r){const s=oQ(e);if(s===null||!Dx(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const A=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+A(u)+"/o/"+A(h),g=Yg(f,n,r),m=sQ({alt:"media",token:c});return g+m})[0]}function tz(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class jx{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t){if(!t)throw Px()}function nz(t,e){function n(r,s){const i=uQ(t,s,e);return dQ(i!==null),i}return n}function rz(t,e){function n(r,s){const i=uQ(t,s,e);return dQ(i!==null),ez(i,s,t.host,t._protocol)}return n}function hQ(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=g5():s=p5():n.getStatus()===402?s=f5(t.bucket):n.getStatus()===403?s=m5(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function fQ(t){const e=hQ(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=h5(t.path)),i.serverResponse=s.serverResponse,i}return n}function sz(t,e,n){const r=e.fullServerUrl(),s=Yg(r,t.host,t._protocol),i="GET",A=t.maxOperationRetryTime,a=new jx(s,i,rz(t,n),A);return a.errorHandler=fQ(e),a}function iz(t,e){const n=e.fullServerUrl(),r=Yg(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function A(o,c){}const a=new jx(r,s,A,i);return a.successCodes=[200,204],a.errorHandler=fQ(e),a}function Az(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function az(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Az(null,e)),r}function oz(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let F=0;F<2;F++)w=w+Math.random().toString().slice(2);return w}const o=a();A["Content-Type"]="multipart/related; boundary="+o;const c=az(e,r,s),u=tz(c,n),h="--"+o+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+o+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+o+"--",g=Ei.getBlob(h,r,f);if(g===null)throw C5();const m={name:c.fullPath},y=Yg(i,t.host,t._protocol),E="POST",x=t.maxUploadRetryTime,v=new jx(y,E,nz(t,n),x);return v.urlParams=m,v.headers=A,v.body=g.uploadData(),v.errorHandler=hQ(e),v}class lz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=WA.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=WA.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=WA.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cz extends lz{initXhr(){this.xhr_.responseType="text"}}function Mx(){return new cz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ua(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lQ(this._location.path)}get storage(){return this._service}get parent(){const e=W5(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new ua(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b5(e)}}function uz(t,e,n){t._throwIfRoot("uploadBytes");const r=oz(t.storage,t._location,cQ(),new Ei(e,!0),n);return t.storage.makeRequestWithTokens(r,Mx).then(s=>({metadata:s,ref:t}))}function dz(t){t._throwIfRoot("getDownloadURL");const e=sz(t.storage,t._location,cQ());return t.storage.makeRequestWithTokens(e,Mx).then(n=>{if(n===null)throw E5();return n})}function hz(t){t._throwIfRoot("deleteObject");const e=iz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Mx)}function fz(t,e){const n=q5(t._location.path,e),r=new er(t._location.bucket,n);return new ua(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){return/^[A-Za-z]+:\/\//.test(t)}function gz(t,e){return new ua(t,e)}function pQ(t,e){if(t instanceof Ox){const n=t;if(n._bucket==null)throw x5();const r=new ua(n,n._bucket);return e!=null?pQ(r,e):r}else return e!==void 0?fz(t,e):t}function mz(t,e){if(e&&pz(e)){if(t instanceof Ox)return gz(t,e);throw kv("To use ref(service, url), the first argument must be a Storage instance.")}else return pQ(t,e)}function yb(t,e){const n=e==null?void 0:e[nQ];return n==null?null:er.makeFromBucketSpec(n,t)}function yz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:qS(s,t.app.options.projectId))}class Ox{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=tQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u5,this._maxUploadRetryTime=d5,this._requests=new Set,s!=null?this._bucket=er.makeFromBucketSpec(s,this._host):this._bucket=yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ua(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new T5(rQ());{const A=L5(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const vb="@firebase/storage",wb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ="storage";function vz(t,e,n){return t=He(t),uz(t,e,n)}function wz(t){return t=He(t),dz(t)}function Bz(t){return t=He(t),hz(t)}function Bb(t,e){return t=He(t),mz(t,e)}function xz(t=_g(),e){t=He(t);const r=ad(t,gQ).getImmediate({identifier:e}),s=kB("storage");return s&&Cz(r,...s),r}function Cz(t,e,n,r={}){yz(t,e,n,r)}function Ez(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ox(n,r,s,e,va)}function _z(){Yi(new Ws(gQ,Ez,"PUBLIC").setMultipleInstances(!0)),Br(vb,wb,""),Br(vb,wb,"esm2017")}_z();const bz={apiKey:"AIzaSyCjm6MOIuRFXQkTKwREvVWo8zogfNA6HPg",authDomain:"cinema-70fbc.firebaseapp.com",projectId:"cinema-70fbc",storageBucket:"cinema-70fbc.appspot.com",messagingSenderId:"508764987276",appId:"1:508764987276:web:878a0e32d806071bf380a9",measurementId:"G-E9KFW2B3BW"},Jg=JS(bz),tn=zH(Jg),me=Q6(Jg),Tz=o5(Jg,"europe-west1"),xb=xz(Jg);let Cb=new Map;const Iz=t=>{Cb.clear(),t.forEach(e=>Cb.set(e.id,e))},Uz=t=>{const e=Ve(me,"settings","event-settings");return yl(e,n=>{if(n.exists()){const r=n.data(),s=(r==null?void 0:r.bookingStatuses)||[];Iz(s),t(s)}else t([])})},mQ=I.createContext(void 0),Fz=({children:t})=>{const[e,n]=I.useState([]),[r,s]=I.useState(!0),[i,A]=I.useState(null),[a,o]=I.useState(0);I.useEffect(()=>{const g=Uz(m=>{n(m),s(!1),A(null)});return()=>g()},[a]);const c=g=>e.find(m=>m.id===g),u=g=>{var m;return((m=c(g))==null?void 0:m.color)||"#718096"},h=g=>{var m;return((m=c(g))==null?void 0:m.name)||g},f=()=>o(g=>g+1);return l.jsx(mQ.Provider,{value:{statuses:e,loading:r,error:i,getStatusById:c,getStatusColor:u,getStatusName:h,refreshStatuses:f},children:t})},Bd=()=>{const t=I.useContext(mQ);if(!t)throw new Error("useBookingStatus must be used within a BookingStatusProvider");return t},xp="gennaro.mazzacane@gmail.com",Sz="_1500Napoli500_",Nz=t=>t===xp,Qz=async(t,e)=>{try{if(t!==xp)throw new Error("Accesso non autorizzato");return{success:!0,user:(await TV(tn,xp,Sz)).user}}catch(n){throw console.error("Error logging in:",n),n}},kz=t=>t.code&&{"auth/invalid-credential":"Email o password non corretti","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password non corretta","auth/email-already-in-use":"Email già in uso","auth/weak-password":"Password troppo debole","auth/invalid-email":"Email non valida","auth/too-many-requests":"Troppi tentativi. Riprova più tardi.","auth/network-request-failed":"Errore di connessione. Verifica la tua connessione internet.","auth/requires-recent-login":"Per favore, effettua nuovamente il login per completare questa operazione"}[t.code]||"Errore durante l'autenticazione",yQ=I.createContext(void 0),Rz=({children:t})=>{const[e,n]=I.useState(null),[r,s]=I.useState(!0),[i,A]=I.useState(!1);return I.useEffect(()=>{const a=tn.onAuthStateChanged(o=>{n(o),A(o?Nz(o.email||""):!1),s(!1)});return()=>a()},[]),l.jsx(yQ.Provider,{value:{user:e,loading:r,isAdmin:i},children:t})},ii=()=>{const t=I.useContext(yQ);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};let Pz={data:""},Dz=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Pz,Lz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jz=/\/\*[^]*?\*\/|  +/g,Eb=/\n+/g,_i=(t,e)=>{let n="",r="",s="";for(let i in t){let A=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+A+";":r+=i[1]=="f"?_i(A,i):i+"{"+_i(A,i[1]=="k"?"":e)+"}":typeof A=="object"?r+=_i(A,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,a):a?a+" "+o:o)):i):A!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=_i.p?_i.p(i,A):i+":"+A+";")}return n+(e&&s?e+"{"+s+"}":s)+r},_s={},vQ=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+vQ(t[n]);return e}return t},Mz=(t,e,n,r,s)=>{let i=vQ(t),A=_s[i]||(_s[i]=(o=>{let c=0,u=11;for(;c<o.length;)u=101*u+o.charCodeAt(c++)>>>0;return"go"+u})(i));if(!_s[A]){let o=i!==t?t:(c=>{let u,h,f=[{}];for(;u=Lz.exec(c.replace(jz,""));)u[4]?f.shift():u[3]?(h=u[3].replace(Eb," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(Eb," ").trim();return f[0]})(t);_s[A]=_i(s?{["@keyframes "+A]:o}:o,n?"":"."+A)}let a=n&&_s.g?_s.g:null;return n&&(_s.g=_s[A]),((o,c,u,h)=>{h?c.data=c.data.replace(h,o):c.data.indexOf(o)===-1&&(c.data=u?o+c.data:c.data+o)})(_s[A],e,r,a),A},Oz=(t,e,n)=>t.reduce((r,s,i)=>{let A=e[i];if(A&&A.call){let a=A(n),o=a&&a.props&&a.props.className||/^go/.test(a)&&a;A=o?"."+o:a&&typeof a=="object"?a.props?"":_i(a,""):a===!1?"":a}return r+s+(A??"")},"");function Zg(t){let e=this||{},n=t.call?t(e.p):t;return Mz(n.unshift?n.raw?Oz(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,Dz(e.target),e.g,e.o,e.k)}let wQ,Rv,Pv;Zg.bind({g:1});let ei=Zg.bind({k:1});function Vz(t,e,n,r){_i.p=e,wQ=t,Rv=n,Pv=r}function yA(t,e){let n=this||{};return function(){let r=arguments;function s(i,A){let a=Object.assign({},i),o=a.className||s.className;n.p=Object.assign({theme:Rv&&Rv()},a),n.o=/ *go\d+/.test(o),a.className=Zg.apply(n,r)+(o?" "+o:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Pv&&c[0]&&Pv(a),wQ(c,a)}return s}}var Hz=t=>typeof t=="function",Cp=(t,e)=>Hz(t)?t(e):t,Kz=(()=>{let t=0;return()=>(++t).toString()})(),BQ=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),zz=20,xQ=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,zz)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return xQ(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},vf=[],wf={toasts:[],pausedAt:void 0},Ca=t=>{wf=xQ(wf,t),vf.forEach(e=>{e(wf)})},Gz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$z=(t={})=>{let[e,n]=I.useState(wf);I.useEffect(()=>(vf.push(n),()=>{let s=vf.indexOf(n);s>-1&&vf.splice(s,1)}),[e]);let r=e.toasts.map(s=>{var i,A,a;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((A=t[s.type])==null?void 0:A.duration)||(t==null?void 0:t.duration)||Gz[s.type],style:{...t.style,...(a=t[s.type])==null?void 0:a.style,...s.style}}});return{...e,toasts:r}},Wz=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Kz()}),xd=t=>(e,n)=>{let r=Wz(e,t,n);return Ca({type:2,toast:r}),r.id},Pe=(t,e)=>xd("blank")(t,e);Pe.error=xd("error");Pe.success=xd("success");Pe.loading=xd("loading");Pe.custom=xd("custom");Pe.dismiss=t=>{Ca({type:3,toastId:t})};Pe.remove=t=>Ca({type:4,toastId:t});Pe.promise=(t,e,n)=>{let r=Pe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Cp(e.success,s):void 0;return i?Pe.success(i,{id:r,...n,...n==null?void 0:n.success}):Pe.dismiss(r),s}).catch(s=>{let i=e.error?Cp(e.error,s):void 0;i?Pe.error(i,{id:r,...n,...n==null?void 0:n.error}):Pe.dismiss(r)}),t};var qz=(t,e)=>{Ca({type:1,toast:{id:t,height:e}})},Xz=()=>{Ca({type:5,time:Date.now()})},Oc=new Map,Yz=1e3,Jz=(t,e=Yz)=>{if(Oc.has(t))return;let n=setTimeout(()=>{Oc.delete(t),Ca({type:4,toastId:t})},e);Oc.set(t,n)},Zz=t=>{let{toasts:e,pausedAt:n}=$z(t);I.useEffect(()=>{if(n)return;let i=Date.now(),A=e.map(a=>{if(a.duration===1/0)return;let o=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(o<0){a.visible&&Pe.dismiss(a.id);return}return setTimeout(()=>Pe.dismiss(a.id),o)});return()=>{A.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=I.useCallback(()=>{n&&Ca({type:6,time:Date.now()})},[n]),s=I.useCallback((i,A)=>{let{reverseOrder:a=!1,gutter:o=8,defaultPosition:c}=A||{},u=e.filter(g=>(g.position||c)===(i.position||c)&&g.height),h=u.findIndex(g=>g.id===i.id),f=u.filter((g,m)=>m<h&&g.visible).length;return u.filter(g=>g.visible).slice(...a?[f+1]:[0,f]).reduce((g,m)=>g+(m.height||0)+o,0)},[e]);return I.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Jz(i.id,i.removeDelay);else{let A=Oc.get(i.id);A&&(clearTimeout(A),Oc.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:qz,startPause:Xz,endPause:r,calculateOffset:s}}},e9=ei`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,t9=ei`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,n9=ei`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,r9=yA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${t9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${n9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,s9=ei`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,i9=yA("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${s9} 1s linear infinite;
`,A9=ei`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,a9=ei`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,o9=yA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${A9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${a9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,l9=yA("div")`
  position: absolute;
`,c9=yA("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,u9=ei`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,d9=yA("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${u9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,h9=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?I.createElement(d9,null,e):e:n==="blank"?null:I.createElement(c9,null,I.createElement(i9,{...r}),n!=="loading"&&I.createElement(l9,null,n==="error"?I.createElement(r9,{...r}):I.createElement(o9,{...r})))},f9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,p9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,g9="0%{opacity:0;} 100%{opacity:1;}",m9="0%{opacity:1;} 100%{opacity:0;}",y9=yA("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,v9=yA("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,w9=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=BQ()?[g9,m9]:[f9(n),p9(n)];return{animation:e?`${ei(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ei(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},B9=I.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?w9(t.position||e||"top-center",t.visible):{opacity:0},i=I.createElement(h9,{toast:t}),A=I.createElement(v9,{...t.ariaProps},Cp(t.message,t));return I.createElement(y9,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:A}):I.createElement(I.Fragment,null,i,A))});Vz(I.createElement);var x9=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=I.useCallback(A=>{if(A){let a=()=>{let o=A.getBoundingClientRect().height;r(t,o)};a(),new MutationObserver(a).observe(A,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return I.createElement("div",{ref:i,className:e,style:n},s)},C9=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:BQ()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},E9=Zg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wh=16,_9=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:A})=>{let{toasts:a,handlers:o}=Zz(n);return I.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:wh,left:wh,right:wh,bottom:wh,pointerEvents:"none",...i},className:A,onMouseEnter:o.startPause,onMouseLeave:o.endPause},a.map(c=>{let u=c.position||e,h=o.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=C9(u,h);return I.createElement(x9,{id:c.id,key:c.id,onHeightUpdate:o.updateHeight,className:c.visible?E9:"",style:f},c.type==="custom"?Cp(c.message,c):s?s(c):I.createElement(B9,{toast:c,position:u}))}))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(t,e)=>{const n=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:o,...c},u)=>I.createElement("svg",{ref:u,...b9,width:s,height:s,stroke:r,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${T9(t)}`,a].join(" "),...c},[...e.map(([h,f])=>I.createElement(h,f)),...Array.isArray(o)?o:[o]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ue("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=ue("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=ue("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ue("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ue("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=ue("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ue("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=ue("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ue("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ue("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ue("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=ue("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=ue("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=ue("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=ue("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=ue("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);class q9 extends I.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[l.jsx(CQ,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Qualcosa è andato storto"})]}),l.jsx("p",{className:"text-gray-300 mb-4",children:"Si è verificato un errore imprevisto. Ricarica la pagina o prova più tardi."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Ricarica la pagina"}),this.state.error&&l.jsx("pre",{className:"mt-4 p-4 bg-gray-800 rounded text-sm text-gray-400 overflow-auto",children:this.state.error.message})]})}):this.props.children}}const Nb=({children:t,requireAdmin:e=!1})=>{const{user:n,loading:r,isAdmin:s}=ii();return r?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):!n||e&&!s?l.jsx(_o,{to:"/",replace:!0}):l.jsx(l.Fragment,{children:t})},Hx=I.createContext({});function Kx(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const sm=I.createContext(null),zx=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class X9 extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y9({children:t,isPresent:e}){const n=I.useId(),r=I.useRef(null),s=I.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=I.useContext(zx);return I.useInsertionEffect(()=>{const{width:A,height:a,top:o,left:c}=s.current;if(e||!r.current||!A||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),l.jsx(X9,{isPresent:e,childRef:r,sizeRef:s,children:I.cloneElement(t,{ref:r})})}const J9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:A})=>{const a=Kx(Z9),o=I.useId(),c=I.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=I.useMemo(()=>({id:o,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return I.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),I.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),A==="popLayout"&&(t=l.jsx(Y9,{isPresent:n,children:t})),l.jsx(sm.Provider,{value:u,children:t})};function Z9(){return new Map}function SQ(t=!0){const e=I.useContext(sm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=I.useId();I.useEffect(()=>{t&&s(i)},[t]);const A=I.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,A]:[!0]}const Bh=t=>t.key||"";function Qb(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Gx=typeof window<"u",NQ=Gx?I.useLayoutEffect:I.useEffect,qt=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:A=!1})=>{const[a,o]=SQ(A),c=I.useMemo(()=>Qb(t),[t]),u=A&&!a?[]:c.map(Bh),h=I.useRef(!0),f=I.useRef(c),g=Kx(()=>new Map),[m,y]=I.useState(c),[E,x]=I.useState(c);NQ(()=>{h.current=!1,f.current=c;for(let F=0;F<E.length;F++){const T=Bh(E[F]);u.includes(T)?g.delete(T):g.get(T)!==!0&&g.set(T,!1)}},[E,u.length,u.join("-")]);const v=[];if(c!==m){let F=[...c];for(let T=0;T<E.length;T++){const Q=E[T],b=Bh(Q);u.includes(b)||(F.splice(T,0,Q),v.push(Q))}i==="wait"&&v.length&&(F=v),x(Qb(F)),y(c);return}const{forceRender:w}=I.useContext(Hx);return l.jsx(l.Fragment,{children:E.map(F=>{const T=Bh(F),Q=A&&!a?!1:c===E||u.includes(T),b=()=>{if(g.has(T))g.set(T,!0);else return;let C=!0;g.forEach(_=>{_||(C=!1)}),C&&(w==null||w(),x(f.current),A&&(o==null||o()),r&&r())};return l.jsx(J9,{isPresent:Q,initial:!h.current||n?void 0:!1,custom:Q?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:Q?void 0:b,children:F},T)})})},rr=t=>t;let Mv=rr;function $x(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Os=t=>t*1e3,Vs=t=>t/1e3,e8={skipAnimations:!1,useManualTiming:!1};function t8(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(o.schedule(c),t()),c(A)}const o={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(A=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,o.process(c))}};return o}const xh=["read","resolveKeyframes","update","preRender","render","postRender"],n8=40;function QQ(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,A=xh.reduce((x,v)=>(x[v]=t8(i),x),{}),{read:a,resolveKeyframes:o,update:c,preRender:u,render:h,postRender:f}=A,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,n8),1),s.timestamp=x,s.isProcessing=!0,a.process(s),o.process(s),c.process(s),u.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},m=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:xh.reduce((x,v)=>{const w=A[v];return x[v]=(F,T=!1,Q=!1)=>(n||m(),w.schedule(F,T,Q)),x},{}),cancel:x=>{for(let v=0;v<xh.length;v++)A[xh[v]].cancel(x)},state:s,steps:A}}const{schedule:ot,cancel:sA,state:Jt,steps:E0}=QQ(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0),kQ=I.createContext({strict:!1}),kb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},el={};for(const t in kb)el[t]={isEnabled:e=>kb[t].some(n=>!!e[n])};function r8(t){for(const e in t)el[e]={...el[e],...t[e]}}const s8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ep(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||s8.has(t)}let RQ=t=>!Ep(t);function i8(t){t&&(RQ=e=>e.startsWith("on")?!Ep(e):t(e))}try{i8(require("@emotion/is-prop-valid").default)}catch{}function A8(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(RQ(s)||n===!0&&Ep(s)||!e&&!Ep(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function a8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const im=I.createContext({});function Qu(t){return typeof t=="string"||Array.isArray(t)}function Am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Wx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qx=["initial",...Wx];function am(t){return Am(t.animate)||qx.some(e=>Qu(t[e]))}function PQ(t){return!!(am(t)||t.variants)}function o8(t,e){if(am(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Qu(n)?n:void 0,animate:Qu(r)?r:void 0}}return t.inherit!==!1?e:{}}function l8(t){const{initial:e,animate:n}=o8(t,I.useContext(im));return I.useMemo(()=>({initial:e,animate:n}),[Rb(e),Rb(n)])}function Rb(t){return Array.isArray(t)?t.join(" "):t}const c8=Symbol.for("motionComponentSymbol");function uo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function u8(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):uo(n)&&(n.current=r))},[e])}const Xx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d8="framerAppearId",DQ="data-"+Xx(d8),{schedule:Yx,cancel:die}=QQ(queueMicrotask,!1),LQ=I.createContext({});function h8(t,e,n,r,s){var i,A;const{visualElement:a}=I.useContext(im),o=I.useContext(kQ),c=I.useContext(sm),u=I.useContext(zx).reducedMotion,h=I.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=I.useContext(LQ);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&f8(h.current,n,s,g);const m=I.useRef(!1);I.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const y=n[DQ],E=I.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((A=window.MotionHasOptimisedAnimation)===null||A===void 0?void 0:A.call(window,y)));return NQ(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Yx.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),I.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),E.current=!1))}),f}function f8(t,e,n,r){const{layoutId:s,layout:i,drag:A,dragConstraints:a,layoutScroll:o,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jQ(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!A||a&&uo(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:c})}function jQ(t){if(t)return t.options.allowProjection!==!1?t.projection:jQ(t.parent)}function p8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,A;t&&r8(t);function a(c,u){let h;const f={...I.useContext(zx),...c,layoutId:g8(c)},{isStatic:g}=f,m=l8(c),y=r(c,g);if(!g&&Gx){m8();const E=y8(f);h=E.MeasureLayout,m.visualElement=h8(s,y,f,e,E.ProjectionNode)}return l.jsxs(im.Provider,{value:m,children:[h&&m.visualElement?l.jsx(h,{visualElement:m.visualElement,...f}):null,n(s,c,u8(y,m.visualElement,u),y,g,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(A=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&A!==void 0?A:""})`}`;const o=I.forwardRef(a);return o[c8]=s,o}function g8({layoutId:t}){const e=I.useContext(Hx).id;return e&&t!==void 0?e+"-"+t:t}function m8(t,e){I.useContext(kQ).strict}function y8(t){const{drag:e,layout:n}=el;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const v8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jx(t){return typeof t!="string"||t.includes("-")?!1:!!(v8.indexOf(t)>-1||/[A-Z]/u.test(t))}function Pb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Zx(t,e,n,r){if(typeof e=="function"){const[s,i]=Pb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Pb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Ov=t=>Array.isArray(t),w8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),B8=t=>Ov(t)?t[t.length-1]||0:t,xn=t=>!!(t&&t.getVelocity);function Bf(t){const e=xn(t)?t.get():t;return w8(e)?e.toValue():e}function x8({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const A={latestValues:C8(r,s,i,t),renderState:e()};return n&&(A.onMount=a=>n({props:r,current:a,...A}),A.onUpdate=a=>n(a)),A}const MQ=t=>(e,n)=>{const r=I.useContext(im),s=I.useContext(sm),i=()=>x8(t,e,r,s);return n?i():Kx(i)};function C8(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Bf(i[f]);let{initial:A,animate:a}=t;const o=am(t),c=PQ(t);e&&c&&!o&&t.inherit!==!1&&(A===void 0&&(A=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||A===!1;const h=u?a:A;if(h&&typeof h!="boolean"&&!Am(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const m=Zx(t,f[g]);if(m){const{transitionEnd:y,transition:E,...x}=m;for(const v in x){let w=x[v];if(Array.isArray(w)){const F=u?w.length-1:0;w=w[F]}w!==null&&(s[v]=w)}for(const v in y)s[v]=y[v]}}}return s}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(wl),OQ=t=>e=>typeof e=="string"&&e.startsWith(t),VQ=OQ("--"),E8=OQ("var(--"),eC=t=>E8(t)?_8.test(t.split("/*")[0].trim()):!1,_8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,HQ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ti=(t,e,n)=>n>e?e:n<t?t:n,Bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ku={...Bl,transform:t=>ti(0,1,t)},Ch={...Bl,default:1},Cd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=Cd("deg"),ls=Cd("%"),ye=Cd("px"),b8=Cd("vh"),T8=Cd("vw"),Db={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},I8={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},U8={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:Ch,scaleX:Ch,scaleY:Ch,scaleZ:Ch,skew:di,skewX:di,skewY:di,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:ku,originX:Db,originY:Db,originZ:ye},Lb={...Bl,transform:Math.round},tC={...I8,...U8,zIndex:Lb,size:ye,fillOpacity:ku,strokeOpacity:ku,numOctaves:Lb},F8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S8=wl.length;function N8(t,e,n){let r="",s=!0;for(let i=0;i<S8;i++){const A=wl[i],a=t[A];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(A.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||n){const c=HQ(a,tC[A]);if(!o){s=!1;const u=F8[A]||A;r+=`${u}(${c}) `}n&&(e[A]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function nC(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let A=!1,a=!1;for(const o in e){const c=e[o];if(_a.has(o)){A=!0;continue}else if(VQ(o)){s[o]=c;continue}else{const u=HQ(c,tC[o]);o.startsWith("origin")?(a=!0,i[o]=u):r[o]=u}}if(e.transform||(A||n?r.transform=N8(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:o="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${o} ${c} ${u}`}}const Q8={offset:"stroke-dashoffset",array:"stroke-dasharray"},k8={offset:"strokeDashoffset",array:"strokeDasharray"};function R8(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Q8:k8;t[i.offset]=ye.transform(-r);const A=ye.transform(e),a=ye.transform(n);t[i.array]=`${A} ${a}`}function jb(t,e,n){return typeof t=="string"?t:ye.transform(e+n*t)}function P8(t,e,n){const r=jb(e,t.x,t.width),s=jb(n,t.y,t.height);return`${r} ${s}`}function rC(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:A,pathSpacing:a=1,pathOffset:o=0,...c},u,h){if(nC(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:m}=t;f.transform&&(m&&(g.transform=f.transform),delete f.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=P8(m,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),A!==void 0&&R8(f,A,a,o,!1)}const sC=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),KQ=()=>({...sC(),attrs:{}}),iC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zQ(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const GQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $Q(t,e,n,r){zQ(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(GQ.has(s)?s:Xx(s),e.attrs[s])}const _p={};function D8(t){Object.assign(_p,t)}function WQ(t,{layout:e,layoutId:n}){return _a.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_p[t]||t==="opacity")}function AC(t,e,n){var r;const{style:s}=t,i={};for(const A in s)(xn(s[A])||e.style&&xn(e.style[A])||WQ(A,t)||((r=n==null?void 0:n.getValue(A))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[A]=s[A]);return i}function qQ(t,e,n){const r=AC(t,e,n);for(const s in t)if(xn(t[s])||xn(e[s])){const i=wl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function L8(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Mb=["x","y","width","height","cx","cy","r"],j8={useVisualState:MQ({scrapeMotionValuesFromProps:qQ,createRenderState:KQ,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(_a.has(a)){i=!0;break}}if(!i)return;let A=!e;if(e)for(let a=0;a<Mb.length;a++){const o=Mb[a];t[o]!==e[o]&&(A=!0)}A&&ot.read(()=>{L8(n,r),ot.render(()=>{rC(r,s,iC(n.tagName),t.transformTemplate),$Q(n,r)})})}})},M8={useVisualState:MQ({scrapeMotionValuesFromProps:AC,createRenderState:sC})};function XQ(t,e,n){for(const r in e)!xn(e[r])&&!WQ(r,n)&&(t[r]=e[r])}function O8({transformTemplate:t},e){return I.useMemo(()=>{const n=sC();return nC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function V8(t,e){const n=t.style||{},r={};return XQ(r,n,t),Object.assign(r,O8(t,e)),r}function H8(t,e){const n={},r=V8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function K8(t,e,n,r){const s=I.useMemo(()=>{const i=KQ();return rC(i,e,iC(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};XQ(i,t.style,t),s.style={...i,...s.style}}return s}function z8(t=!1){return(n,r,s,{latestValues:i},A)=>{const o=(Jx(n)?K8:H8)(r,i,A,n),c=A8(r,typeof n=="string",t),u=n!==I.Fragment?{...c,...o,ref:s}:{},{children:h}=r,f=I.useMemo(()=>xn(h)?h.get():h,[h]);return I.createElement(n,{...u,children:f})}}function G8(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const A={...Jx(r)?j8:M8,preloadedFeatures:t,useRender:z8(s),createVisualElement:e,Component:r};return p8(A)}}function YQ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function om(t,e,n){const r=t.getProps();return Zx(r,e,n!==void 0?n:r.custom,t)}const $8=$x(()=>window.ScrollTimeline!==void 0);class W8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if($8()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class q8 extends W8{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function aC(t,e){return t?t[e]||t.default||t:void 0}const Vv=2e4;function JQ(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vv;)e+=n,r=t.next(e);return e>=Vv?1/0:e}function oC(t){return typeof t=="function"}function Ob(t,e){t.timeline=e,t.onfinish=null}const lC=t=>Array.isArray(t)&&typeof t[0]=="number",X8={linearEasing:void 0};function Y8(t,e){const n=$x(t);return()=>{var r;return(r=X8[e])!==null&&r!==void 0?r:n()}}const bp=Y8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ZQ=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Zo(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function ek(t){return!!(typeof t=="function"&&bp()||!t||typeof t=="string"&&(t in Hv||bp())||lC(t)||Array.isArray(t)&&t.every(ek))}const hc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hc([0,.65,.55,1]),circOut:hc([.55,0,1,.45]),backIn:hc([.31,.01,.66,-.59]),backOut:hc([.33,1.53,.69,.99])};function tk(t,e){if(t)return typeof t=="function"&&bp()?ZQ(t,e):lC(t)?hc(t):Array.isArray(t)?t.map(n=>tk(n,e)||Hv.easeOut):Hv[t]}const Ir={x:!1,y:!1};function nk(){return Ir.x||Ir.y}function J8(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function rk(t,e){const n=J8(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Vb(t){return e=>{e.pointerType==="touch"||nk()||t(e)}}function Z8(t,e,n={}){const[r,s,i]=rk(t,n),A=Vb(a=>{const{target:o}=a,c=e(a);if(typeof c!="function"||!o)return;const u=Vb(h=>{c(h),o.removeEventListener("pointerleave",u)});o.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",A,s)}),i}const sk=(t,e)=>e?t===e?!0:sk(t,e.parentElement):!1,cC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tG(t){return eG.has(t.tagName)||t.tabIndex!==-1}const fc=new WeakSet;function Hb(t){return e=>{e.key==="Enter"&&t(e)}}function _0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Hb(()=>{if(fc.has(n))return;_0(n,"down");const s=Hb(()=>{_0(n,"up")}),i=()=>_0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Kb(t){return cC(t)&&!nk()}function rG(t,e,n={}){const[r,s,i]=rk(t,n),A=a=>{const o=a.currentTarget;if(!Kb(a)||fc.has(o))return;fc.add(o);const c=e(a),u=(g,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Kb(g)||!fc.has(o))&&(fc.delete(o),typeof c=="function"&&c(g,{success:m}))},h=g=>{u(g,n.useGlobalTarget||sk(o,g.target))},f=g=>{u(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!tG(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",A,s),a.addEventListener("focus",c=>nG(c,s),s)}),i}function sG(t){return t==="x"||t==="y"?Ir[t]?null:(Ir[t]=!0,()=>{Ir[t]=!1}):Ir.x||Ir.y?null:(Ir.x=Ir.y=!0,()=>{Ir.x=Ir.y=!1})}const ik=new Set(["width","height","top","left","right","bottom",...wl]);let xf;function iG(){xf=void 0}const cs={now:()=>(xf===void 0&&cs.set(Jt.isProcessing||e8.useManualTiming?Jt.timestamp:performance.now()),xf),set:t=>{xf=t,queueMicrotask(iG)}};function uC(t,e){t.indexOf(e)===-1&&t.push(e)}function dC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hC{constructor(){this.subscriptions=[]}add(e){return uC(this.subscriptions,e),()=>dC(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const A=this.subscriptions[i];A&&A(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ak(t,e){return e?t*(1e3/e):0}const zb=30,AG=t=>!isNaN(parseFloat(t));class aG{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=cs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hC);const r=this.events[e].add(n);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zb);return Ak(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ru(t,e){return new aG(t,e)}function oG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ru(n))}function lG(t,e){const n=om(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const A in i){const a=B8(i[A]);oG(t,A,a)}}function cG(t){return!!(xn(t)&&t.add)}function Kv(t,e){const n=t.getValue("willChange");if(cG(n))return n.add(e)}function ak(t){return t.props[DQ]}const ok=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uG=1e-7,dG=12;function hG(t,e,n,r,s){let i,A,a=0;do A=e+(n-e)/2,i=ok(A,r,s)-t,i>0?n=A:e=A;while(Math.abs(i)>uG&&++a<dG);return A}function Ed(t,e,n,r){if(t===e&&n===r)return rr;const s=i=>hG(i,0,1,t,n);return i=>i===0||i===1?i:ok(s(i),e,r)}const lk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ck=t=>e=>1-t(1-e),uk=Ed(.33,1.53,.69,.99),fC=ck(uk),dk=lk(fC),hk=t=>(t*=2)<1?.5*fC(t):.5*(2-Math.pow(2,-10*(t-1))),pC=t=>1-Math.sin(Math.acos(t)),fk=ck(pC),pk=lk(pC),gk=t=>/^0[^.\s]+$/u.test(t);function fG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gk(t):!0}const Hc=t=>Math.round(t*1e5)/1e5,gC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pG(t){return t==null}const gG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mC=(t,e)=>n=>!!(typeof n=="string"&&gG.test(n)&&n.startsWith(t)||e&&!pG(n)&&Object.prototype.hasOwnProperty.call(n,e)),mk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,A,a]=r.match(gC);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(A),alpha:a!==void 0?parseFloat(a):1}},mG=t=>ti(0,255,t),b0={...Bl,transform:t=>Math.round(mG(t))},VA={test:mC("rgb","red"),parse:mk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+b0.transform(t)+", "+b0.transform(e)+", "+b0.transform(n)+", "+Hc(ku.transform(r))+")"};function yG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zv={test:mC("#"),parse:yG,transform:VA.transform},ho={test:mC("hsl","hue"),parse:mk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ls.transform(Hc(e))+", "+ls.transform(Hc(n))+", "+Hc(ku.transform(r))+")"},yn={test:t=>VA.test(t)||zv.test(t)||ho.test(t),parse:t=>VA.test(t)?VA.parse(t):ho.test(t)?ho.parse(t):zv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?VA.transform(t):ho.transform(t)},vG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vG))===null||n===void 0?void 0:n.length)||0)>0}const yk="number",vk="color",BG="var",xG="var(",Gb="${}",CG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(CG,o=>(yn.test(o)?(r.color.push(i),s.push(vk),n.push(yn.parse(o))):o.startsWith(xG)?(r.var.push(i),s.push(BG),n.push(o)):(r.number.push(i),s.push(yk),n.push(parseFloat(o))),++i,Gb)).split(Gb);return{values:n,split:a,indexes:r,types:s}}function wk(t){return Pu(t).values}function Bk(t){const{split:e,types:n}=Pu(t),r=e.length;return s=>{let i="";for(let A=0;A<r;A++)if(i+=e[A],s[A]!==void 0){const a=n[A];a===yk?i+=Hc(s[A]):a===vk?i+=yn.transform(s[A]):i+=s[A]}return i}}const EG=t=>typeof t=="number"?0:t;function _G(t){const e=wk(t);return Bk(t)(e.map(EG))}const iA={test:wG,parse:wk,createTransformer:Bk,getAnimatableNone:_G},bG=new Set(["brightness","contrast","saturate","opacity"]);function TG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gC)||[];if(!r)return t;const s=n.replace(r,"");let i=bG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const IG=/\b([a-z-]*)\(.*?\)/gu,Gv={...iA,getAnimatableNone:t=>{const e=t.match(IG);return e?e.map(TG).join(" "):t}},UG={...tC,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:Gv,WebkitFilter:Gv},yC=t=>UG[t];function xk(t,e){let n=yC(t);return n!==Gv&&(n=iA),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const FG=new Set(["auto","none","0"]);function SG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!FG.has(i)&&Pu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=xk(n,s)}const $b=t=>t===Bl||t===ye,Wb=(t,e)=>parseFloat(t.split(", ")[e]),qb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Wb(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Wb(i[1],t):0}},NG=new Set(["x","y","z"]),QG=wl.filter(t=>!NG.has(t));function kG(t){const e=[];return QG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:qb(4,13),y:qb(5,14)};tl.translateX=tl.x;tl.translateY=tl.y;const qA=new Set;let $v=!1,Wv=!1;function Ck(){if(Wv){const t=Array.from(qA).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=kG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,A])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(A)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wv=!1,$v=!1,qA.forEach(t=>t.complete()),qA.clear()}function Ek(){qA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wv=!0)})}function RG(){Ek(),Ck()}class vC{constructor(e,n,r,s,i,A=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=A}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qA.add(this),$v||($v=!0,ot.read(Ek),ot.resolveKeyframes(Ck))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const A=s==null?void 0:s.get(),a=e[e.length-1];if(A!==void 0)e[0]=A;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&A===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _k=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),PG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DG(t){const e=PG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function bk(t,e,n=1){const[r,s]=DG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const A=i.trim();return _k(A)?parseFloat(A):A}return eC(s)?bk(s,e,n+1):s}const Tk=t=>e=>e.test(t),LG={test:t=>t==="auto",parse:t=>t},Ik=[Bl,ye,ls,di,T8,b8,LG],Xb=t=>Ik.find(Tk(t));class Uk extends vC{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="string"&&(c=c.trim(),eC(c))){const u=bk(c,n.current);u!==void 0&&(e[o]=u),o===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!ik.has(r)||e.length!==2)return;const[s,i]=e,A=Xb(s),a=Xb(i);if(A!==a)if($b(A)&&$b(a))for(let o=0;o<e.length;o++){const c=e[o];typeof c=="string"&&(e[o]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)fG(e[s])&&r.push(s);r.length&&SG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const A=s.length-1,a=s[A];s[A]=tl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([o,c])=>{n.getValue(o).set(c)}),this.resolveNoneKeyframes()}}const Yb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(iA.test(t)||t==="0")&&!t.startsWith("url("));function jG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function MG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],A=Yb(s,e),a=Yb(i,e);return!A||!a?!1:jG(t)||(n==="spring"||oC(n))&&r}const OG=t=>t!==null;function lm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(OG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const VG=40;class Fk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:A="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cs.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:A,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>VG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&RG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=cs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:A,onComplete:a,onUpdate:o,isGenerator:c}=this.options;if(!c&&!MG(e,r,s,i))if(A)this.options.duration=0;else{o&&o(lm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,n)=>t+(e-t)*n;function T0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,A=0;if(!e)s=i=A=n;else{const a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;s=T0(o,a,t+1/3),i=T0(o,a,t),A=T0(o,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(A*255),alpha:r}}function Tp(t,e){return n=>n>0?e:t}const I0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},KG=[zv,VA,ho],zG=t=>KG.find(e=>e.test(t));function Jb(t){const e=zG(t);if(!e)return!1;let n=e.parse(t);return e===ho&&(n=HG(n)),n}const Zb=(t,e)=>{const n=Jb(t),r=Jb(e);if(!n||!r)return Tp(t,e);const s={...n};return i=>(s.red=I0(n.red,r.red,i),s.green=I0(n.green,r.green,i),s.blue=I0(n.blue,r.blue,i),s.alpha=ft(n.alpha,r.alpha,i),VA.transform(s))},GG=(t,e)=>n=>e(t(n)),_d=(...t)=>t.reduce(GG),qv=new Set(["none","hidden"]);function $G(t,e){return qv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function WG(t,e){return n=>ft(t,e,n)}function wC(t){return typeof t=="number"?WG:typeof t=="string"?eC(t)?Tp:yn.test(t)?Zb:YG:Array.isArray(t)?Sk:typeof t=="object"?yn.test(t)?Zb:qG:Tp}function Sk(t,e){const n=[...t],r=n.length,s=t.map((i,A)=>wC(i)(i,e[A]));return i=>{for(let A=0;A<r;A++)n[A]=s[A](i);return n}}function qG(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=wC(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function XG(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const A=e.types[i],a=t.indexes[A][s[A]],o=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=o,s[A]++}return r}const YG=(t,e)=>{const n=iA.createTransformer(e),r=Pu(t),s=Pu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?qv.has(t)&&!s.values.length||qv.has(e)&&!r.values.length?$G(t,e):_d(Sk(XG(r,s),s.values),n):Tp(t,e)};function Nk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):wC(t)(t,e)}const JG=5;function Qk(t,e,n){const r=Math.max(e-JG,0);return Ak(n-t(r),e-r)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U0=.001;function ZG({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:r=vt.mass}){let s,i,A=1-e;A=ti(vt.minDamping,vt.maxDamping,A),t=ti(vt.minDuration,vt.maxDuration,Vs(t)),A<1?(s=c=>{const u=c*A,h=u*t,f=u-n,g=Xv(c,A),m=Math.exp(-h);return U0-f/g*m},i=c=>{const h=c*A*t,f=h*n+n,g=Math.pow(A,2)*Math.pow(c,2)*t,m=Math.exp(-h),y=Xv(Math.pow(c,2),A);return(-s(c)+U0>0?-1:1)*((f-g)*m)/y}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-U0+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,o=t$(s,i,a);if(t=Os(t),isNaN(o))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const c=Math.pow(o,2)*r;return{stiffness:c,damping:A*2*Math.sqrt(r*c),duration:t}}}const e$=12;function t$(t,e,n){let r=n;for(let s=1;s<e$;s++)r=r-t(r)/e(r);return r}function Xv(t,e){return t*Math.sqrt(1-e*e)}const n$=["duration","bounce"],r$=["stiffness","damping","mass"];function eT(t,e){return e.some(n=>t[n]!==void 0)}function s$(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!eT(t,r$)&&eT(t,n$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ti(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:vt.mass,stiffness:s,damping:i}}else{const n=ZG(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function kk(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],A=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:o,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=s$({...n,velocity:-Vs(n.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(o*u)),E=A-i,x=Vs(Math.sqrt(o/u)),v=Math.abs(E)<5;r||(r=v?vt.restSpeed.granular:vt.restSpeed.default),s||(s=v?vt.restDelta.granular:vt.restDelta.default);let w;if(y<1){const T=Xv(x,y);w=Q=>{const b=Math.exp(-y*x*Q);return A-b*((m+y*x*E)/T*Math.sin(T*Q)+E*Math.cos(T*Q))}}else if(y===1)w=T=>A-Math.exp(-x*T)*(E+(m+x*E)*T);else{const T=x*Math.sqrt(y*y-1);w=Q=>{const b=Math.exp(-y*x*Q),C=Math.min(T*Q,300);return A-b*((m+y*x*E)*Math.sinh(C)+T*E*Math.cosh(C))/T}}const F={calculatedDuration:g&&h||null,next:T=>{const Q=w(T);if(g)a.done=T>=h;else{let b=0;y<1&&(b=T===0?Os(m):Qk(w,T,Q));const C=Math.abs(b)<=r,_=Math.abs(A-Q)<=s;a.done=C&&_}return a.value=a.done?A:Q,a},toString:()=>{const T=Math.min(JQ(F),Vv),Q=ZQ(b=>F.next(T*b).value,T,30);return T+"ms "+Q}};return F}function tT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:A,min:a,max:o,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=C=>a!==void 0&&C<a||o!==void 0&&C>o,m=C=>a===void 0?o:o===void 0||Math.abs(a-C)<Math.abs(o-C)?a:o;let y=n*e;const E=h+y,x=A===void 0?E:A(E);x!==E&&(y=x-h);const v=C=>-y*Math.exp(-C/r),w=C=>x+v(C),F=C=>{const _=v(C),U=w(C);f.done=Math.abs(_)<=c,f.value=f.done?x:U};let T,Q;const b=C=>{g(f.value)&&(T=C,Q=kk({keyframes:[f.value,m(f.value)],velocity:Qk(w,C,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return b(0),{calculatedDuration:null,next:C=>{let _=!1;return!Q&&T===void 0&&(_=!0,F(C),b(C)),T!==void 0&&C>=T?Q.next(C-T):(!_&&F(C),f)}}}const i$=Ed(.42,0,1,1),A$=Ed(0,0,.58,1),Rk=Ed(.42,0,.58,1),a$=t=>Array.isArray(t)&&typeof t[0]!="number",nT={linear:rr,easeIn:i$,easeInOut:Rk,easeOut:A$,circIn:pC,circInOut:pk,circOut:fk,backIn:fC,backInOut:dk,backOut:uk,anticipate:hk},rT=t=>{if(lC(t)){Mv(t.length===4);const[e,n,r,s]=t;return Ed(e,n,r,s)}else if(typeof t=="string")return Mv(nT[t]!==void 0),nT[t];return t};function o$(t,e,n){const r=[],s=n||Nk,i=t.length-1;for(let A=0;A<i;A++){let a=s(t[A],t[A+1]);if(e){const o=Array.isArray(e)?e[A]||rr:e;a=_d(o,a)}r.push(a)}return r}function l$(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Mv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const A=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=o$(e,r,s),o=a.length,c=u=>{if(A&&u<t[0])return e[0];let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Zo(t[h],t[h+1],u);return a[h](f)};return n?u=>c(ti(t[0],t[i-1],u)):c}function c$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Zo(0,e,r);t.push(ft(n,1,s))}}function u$(t){const e=[0];return c$(e,t.length-1),e}function d$(t,e){return t.map(n=>n*e)}function h$(t,e){return t.map(()=>e||Rk).splice(0,t.length-1)}function Ip({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=a$(r)?r.map(rT):rT(r),i={done:!1,value:e[0]},A=d$(n&&n.length===e.length?n:u$(e),t),a=l$(A,e,{ease:Array.isArray(s)?s:h$(e,s)});return{calculatedDuration:t,next:o=>(i.value=a(o),i.done=o>=t,i)}}const f$=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ot.update(e,!0),stop:()=>sA(e),now:()=>Jt.isProcessing?Jt.timestamp:cs.now()}},p$={decay:tT,inertia:tT,tween:Ip,keyframes:Ip,spring:kk},g$=t=>t/100;class BC extends Fk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,A=(s==null?void 0:s.KeyframeResolver)||vC,a=(o,c)=>this.onKeyframesResolved(o,c);this.resolver=new A(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:A=0}=this.options,a=oC(n)?n:p$[n]||Ip;let o,c;a!==Ip&&typeof e[0]!="number"&&(o=_d(g$,Nk(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-A})),u.calculatedDuration===null&&(u.calculatedDuration=JQ(u));const{calculatedDuration:h}=u,f=h+s,g=f*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:o,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:A,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:m,repeatDelay:y,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,F=i;if(g){const C=Math.min(this.currentTime,u)/h;let _=Math.floor(C),U=C%1;!U&&C>=1&&(U=1),U===1&&_--,_=Math.min(_,g+1),!!(_%2)&&(m==="reverse"?(U=1-U,y&&(U-=y/h)):m==="mirror"&&(F=A)),w=ti(0,1,U)*h}const T=v?{done:!1,value:o[0]}:F.next(w);a&&(T.value=a(T.value));let{done:Q}=T;!v&&c!==null&&(Q=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return b&&s!==void 0&&(T.value=lm(o,this.options,s)),E&&E(T.value),b&&this.finish(),T}get duration(){const{resolved:e}=this;return e?Vs(e.calculatedDuration):0}get time(){return Vs(this.currentTime)}set time(e){e=Os(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=f$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const m$=new Set(["opacity","clipPath","filter","transform"]);function y$(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:A="loop",ease:a="easeInOut",times:o}={}){const c={[e]:n};o&&(c.offset=o);const u=tk(a,s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:A==="reverse"?"alternate":"normal"})}const v$=$x(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Up=10,w$=2e4;function B$(t){return oC(t.type)||t.type==="spring"||!ek(t.ease)}function x$(t,e){const n=new BC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<w$;)r=n.sample(i),s.push(r.value),i+=Up;return{times:void 0,keyframes:s,duration:i-Up,ease:"linear"}}const Pk={anticipate:hk,backInOut:dk,circInOut:pk};function C$(t){return t in Pk}class sT extends Fk{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Uk(i,(A,a)=>this.onKeyframesResolved(A,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:A,motionValue:a,name:o,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&bp()&&C$(i)&&(i=Pk[i]),B$(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:m,...y}=this.options,E=x$(e,y);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,s=E.times,i=E.ease,A="keyframes"}const u=y$(a.owner.current,o,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Ob(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(lm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:A,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Os(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rr;const{animation:r}=n;Ob(r,e)}return rr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:A,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...g}=this.options,m=new BC({...g,keyframes:r,duration:s,type:i,ease:A,times:a,isGenerator:!0}),y=Os(this.time);c.setWithVelocity(m.sample(y-Up).value,m.sample(y).value,Up)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:A,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=n.owner.getProps();return v$()&&r&&m$.has(r)&&!o&&!c&&!s&&i!=="mirror"&&A!==0&&a!=="inertia"}}const E$={type:"spring",stiffness:500,damping:25,restSpeed:10},_$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),b$={type:"keyframes",duration:.8},T$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I$=(t,{keyframes:e})=>e.length>2?b$:_a.has(t)?t.startsWith("scale")?_$(e[1]):E$:T$;function U$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:A,repeatDelay:a,from:o,elapsed:c,...u}){return!!Object.keys(u).length}const xC=(t,e,n,r={},s,i)=>A=>{const a=aC(r,t)||{},o=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Os(o);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{A(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};U$(a)||(u={...u,...I$(t,u)}),u.duration&&(u.duration=Os(u.duration)),u.repeatDelay&&(u.repeatDelay=Os(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=lm(u.keyframes,a);if(f!==void 0)return ot.update(()=>{u.onUpdate(f),u.onComplete()}),new q8([])}return!i&&sT.supports(u)?new sT(u):new BC(u)};function F$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Dk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:A=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(A=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=o[h];if(g===void 0||u&&F$(u,h))continue;const m={delay:n,...aC(A||{},h)};let y=!1;if(window.MotionHandoffAnimation){const x=ak(t);if(x){const v=window.MotionHandoffAnimation(x,h,ot);v!==null&&(m.startTime=v,y=!0)}}Kv(t,h),f.start(xC(h,f,g,t.shouldReduceMotion&&ik.has(h)?{type:!1}:m,t,y));const E=f.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{ot.update(()=>{a&&lG(t,a)})}),c}function Yv(t,e,n={}){var r;const s=om(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const A=s?()=>Promise.all(Dk(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return S$(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[A,a]:[a,A];return c().then(()=>u())}else return Promise.all([A(),a(n.delay)])}function S$(t,e,n=0,r=0,s=1,i){const A=[],a=(t.variantChildren.size-1)*r,o=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(N$).forEach((c,u)=>{c.notify("AnimationStart",e),A.push(Yv(c,e,{...i,delay:n+o(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(A)}function N$(t,e){return t.sortNodePosition(e)}function Q$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Yv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Yv(t,e,n);else{const s=typeof e=="function"?om(t,e,n.custom):e;r=Promise.all(Dk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const k$=qx.length;function Lk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Lk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<k$;n++){const r=qx[n],s=t.props[r];(Qu(s)||s===!1)&&(e[r]=s)}return e}const R$=[...Wx].reverse(),P$=Wx.length;function D$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Q$(t,n,r)))}function L$(t){let e=D$(t),n=iT(),r=!0;const s=o=>(c,u)=>{var h;const f=om(t,u,o==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:m,...y}=f;c={...c,...y,...m}}return c};function i(o){e=o(t)}function A(o){const{props:c}=t,u=Lk(t.parent)||{},h=[],f=new Set;let g={},m=1/0;for(let E=0;E<P$;E++){const x=R$[E],v=n[x],w=c[x]!==void 0?c[x]:u[x],F=Qu(w),T=x===o?v.isActive:null;T===!1&&(m=E);let Q=w===u[x]&&w!==c[x]&&F;if(Q&&r&&t.manuallyAnimateOnMount&&(Q=!1),v.protectedKeys={...g},!v.isActive&&T===null||!w&&!v.prevProp||Am(w)||typeof w=="boolean")continue;const b=j$(v.prevProp,w);let C=b||x===o&&v.isActive&&!Q&&F||E>m&&F,_=!1;const U=Array.isArray(w)?w:[w];let k=U.reduce(s(x),{});T===!1&&(k={});const{prevResolvedValues:R={}}=v,S={...R,...k},ee=J=>{C=!0,f.has(J)&&(_=!0,f.delete(J)),v.needsAnimating[J]=!0;const L=t.getValue(J);L&&(L.liveStyle=!1)};for(const J in S){const L=k[J],H=R[J];if(g.hasOwnProperty(J))continue;let W=!1;Ov(L)&&Ov(H)?W=!YQ(L,H):W=L!==H,W?L!=null?ee(J):f.add(J):L!==void 0&&f.has(J)?ee(J):v.protectedKeys[J]=!0}v.prevProp=w,v.prevResolvedValues=k,v.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(Q&&b)||_)&&h.push(...U.map(J=>({animation:J,options:{type:x}})))}if(f.size){const E={};f.forEach(x=>{const v=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),E[x]=v??null}),h.push({animation:E})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(o,c){var u;if(n[o].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(o,c)}),n[o].isActive=c;const h=A(o);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:A,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=iT(),r=!0}}}function j$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!YQ(e,t):!1}function IA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iT(){return{animate:IA(!0),whileInView:IA(),whileHover:IA(),whileTap:IA(),whileDrag:IA(),whileFocus:IA(),exit:IA()}}class vA{constructor(e){this.isMounted=!1,this.node=e}update(){}}class M$ extends vA{constructor(e){super(e),e.animationState||(e.animationState=L$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Am(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let O$=0;class V$ extends vA{constructor(){super(...arguments),this.id=O$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const H$={animation:{Feature:M$},exit:{Feature:V$}};function Du(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function bd(t){return{point:{x:t.pageX,y:t.pageY}}}const K$=t=>e=>cC(e)&&t(e,bd(e));function Kc(t,e,n,r){return Du(t,e,K$(n),r)}const AT=(t,e)=>Math.abs(t-e);function z$(t,e){const n=AT(t.x,e.x),r=AT(t.y,e.y);return Math.sqrt(n**2+r**2)}class jk{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=S0(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=z$(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:m}=h,{timestamp:y}=Jt;this.history.push({...m,timestamp:y});const{onStart:E,onMove:x}=this.handlers;f||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=F0(f,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=S0(h.type==="pointercancel"?this.lastMoveEventInfo:F0(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,E),m&&m(h,E)},!cC(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const A=bd(e),a=F0(A,this.transformPagePoint),{point:o}=a,{timestamp:c}=Jt;this.history=[{...o,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,S0(a,this.history)),this.removeListeners=_d(Kc(this.contextWindow,"pointermove",this.handlePointerMove),Kc(this.contextWindow,"pointerup",this.handlePointerUp),Kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),sA(this.updatePoint)}}function F0(t,e){return e?{point:e(t.point)}:t}function aT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function S0({point:t},e){return{point:t,delta:aT(t,Mk(e)),offset:aT(t,G$(e)),velocity:$$(e,.1)}}function G$(t){return t[0]}function Mk(t){return t[t.length-1]}function $$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Mk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Os(e)));)n--;if(!r)return{x:0,y:0};const i=Vs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const A={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}const Ok=1e-4,W$=1-Ok,q$=1+Ok,Vk=.01,X$=0-Vk,Y$=0+Vk;function Ar(t){return t.max-t.min}function J$(t,e,n){return Math.abs(t-e)<=n}function oT(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Ar(n)/Ar(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=W$&&t.scale<=q$||isNaN(t.scale))&&(t.scale=1),(t.translate>=X$&&t.translate<=Y$||isNaN(t.translate))&&(t.translate=0)}function zc(t,e,n,r){oT(t.x,e.x,n.x,r?r.originX:void 0),oT(t.y,e.y,n.y,r?r.originY:void 0)}function lT(t,e,n){t.min=n.min+e.min,t.max=t.min+Ar(e)}function Z$(t,e,n){lT(t.x,e.x,n.x),lT(t.y,e.y,n.y)}function cT(t,e,n){t.min=e.min-n.min,t.max=t.min+Ar(e)}function Gc(t,e,n){cT(t.x,e.x,n.x),cT(t.y,e.y,n.y)}function e7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function uT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function t7(t,{top:e,left:n,bottom:r,right:s}){return{x:uT(t.x,n,s),y:uT(t.y,e,r)}}function dT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function n7(t,e){return{x:dT(t.x,e.x),y:dT(t.y,e.y)}}function r7(t,e){let n=.5;const r=Ar(t),s=Ar(e);return s>r?n=Zo(e.min,e.max-r,t.min):r>s&&(n=Zo(t.min,t.max-s,e.min)),ti(0,1,n)}function s7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jv=.35;function i7(t=Jv){return t===!1?t=0:t===!0&&(t=Jv),{x:hT(t,"left","right"),y:hT(t,"top","bottom")}}function hT(t,e,n){return{min:fT(t,e),max:fT(t,n)}}function fT(t,e){return typeof t=="number"?t:t[e]||0}const pT=()=>({translate:0,scale:1,origin:0,originPoint:0}),fo=()=>({x:pT(),y:pT()}),gT=()=>({min:0,max:0}),_t=()=>({x:gT(),y:gT()});function dr(t){return[t("x"),t("y")]}function Hk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function A7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function a7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function N0(t){return t===void 0||t===1}function Zv({scale:t,scaleX:e,scaleY:n}){return!N0(t)||!N0(e)||!N0(n)}function QA(t){return Zv(t)||Kk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Kk(t){return mT(t.x)||mT(t.y)}function mT(t){return t&&t!=="0%"}function Fp(t,e,n){const r=t-n,s=e*r;return n+s}function yT(t,e,n,r,s){return s!==void 0&&(t=Fp(t,s,r)),Fp(t,n,r)+e}function ew(t,e=0,n=1,r,s){t.min=yT(t.min,e,n,r,s),t.max=yT(t.max,e,n,r,s)}function zk(t,{x:e,y:n}){ew(t.x,e.translate,e.scale,e.originPoint),ew(t.y,n.translate,n.scale,n.originPoint)}const vT=.999999999999,wT=1.0000000000001;function o7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,A;for(let a=0;a<s;a++){i=n[a],A=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&go(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,zk(t,A)),r&&QA(i.latestValues)&&go(t,i.latestValues))}e.x<wT&&e.x>vT&&(e.x=1),e.y<wT&&e.y>vT&&(e.y=1)}function po(t,e){t.min=t.min+e,t.max=t.max+e}function BT(t,e,n,r,s=.5){const i=ft(t.min,t.max,s);ew(t,e,n,i,r)}function go(t,e){BT(t.x,e.x,e.scaleX,e.scale,e.originX),BT(t.y,e.y,e.scaleY,e.scale,e.originY)}function Gk(t,e){return Hk(a7(t.getBoundingClientRect(),e))}function l7(t,e,n){const r=Gk(t,n),{scroll:s}=e;return s&&(po(r.x,s.offset.x),po(r.y,s.offset.y)),r}const $k=({current:t})=>t?t.ownerDocument.defaultView:null,c7=new WeakMap;class u7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bd(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sG(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(E=>{let x=this.getAxisMotionValue(E).get()||0;if(ls.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[E];w&&(x=Ar(w)*(parseFloat(x)/100))}}this.originPoint[E]=x}),m&&ot.postRender(()=>m(u,h)),Kv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},A=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=h;if(g&&this.currentDirection===null){this.currentDirection=d7(E),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),o=()=>dr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jk(e,{onSessionStart:s,onStart:i,onMove:A,onSessionEnd:a,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:$k(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ot.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Eh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let A=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(A=e7(A,this.constraints[e],this.elastic[e])),i.set(A)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&uo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=t7(s.layoutBox,n):this.constraints=!1,this.elastic=i7(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dr(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=s7(s.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=l7(r,s.root,this.visualElement.getTransformPagePoint());let A=n7(s.layout.layoutBox,i);if(n){const a=n(A7(A));this.hasMutatedConstraints=!!a,a&&(A=Hk(a))}return A}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:A,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},c=dr(u=>{if(!Eh(u,n,this.currentDirection))return;let h=o&&o[u]||{};A&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Kv(this.visualElement,e),r.start(xC(e,r,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:r}=this.getProps();if(!Eh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:A,max:a}=s.layout.layoutBox[n];i.set(e[n]-ft(A,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dr(A=>{const a=this.getAxisMotionValue(A);if(a&&this.constraints!==!1){const o=a.get();s[A]=r7({min:o,max:o},this.constraints[A])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dr(A=>{if(!Eh(A,e,null))return;const a=this.getAxisMotionValue(A),{min:o,max:c}=this.constraints[A];a.set(ft(o,c,s[A]))})}addListeners(){if(!this.visualElement.current)return;c7.set(this.visualElement,this);const e=this.visualElement.current,n=Kc(e,"pointerdown",o=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();uo(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ot.read(r);const A=Du(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:o,hasLayoutChanged:c})=>{this.isDragging&&c&&(dr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=o[u].translate,h.set(h.get()+o[u].translate))}),this.visualElement.render())});return()=>{A(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:A=Jv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:A,dragMomentum:a}}}function Eh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function d7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class h7 extends vA{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new u7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const xT=t=>(e,n)=>{t&&ot.postRender(()=>t(e,n))};class f7 extends vA{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new jk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$k(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:xT(e),onStart:xT(n),onMove:r,onEnd:(i,A)=>{delete this.session,s&&ot.postRender(()=>s(i,A))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ql={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const n=CT(t,e.target.x),r=CT(t,e.target.y);return`${n}% ${r}%`}},p7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=iA.parse(t);if(s.length>5)return r;const i=iA.createTransformer(t),A=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,o=n.y.scale*e.y;s[0+A]/=a,s[1+A]/=o;const c=ft(a,o,.5);return typeof s[2+A]=="number"&&(s[2+A]/=c),typeof s[3+A]=="number"&&(s[3+A]/=c),i(s)}};class g7 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;D8(m7),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,A=r.projection;return A&&(A.isPresent=i,s||e.layoutDependency!==n||n===void 0?A.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?A.promote():A.relegate()||ot.postRender(()=>{const a=A.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Wk(t){const[e,n]=SQ(),r=I.useContext(Hx);return l.jsx(g7,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(LQ),isPresent:e,safeToRemove:n})}const m7={borderRadius:{...ql,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ql,borderTopRightRadius:ql,borderBottomLeftRadius:ql,borderBottomRightRadius:ql,boxShadow:p7};function y7(t,e,n){const r=xn(t)?t:Ru(t);return r.start(xC("",r,e,n)),r.animation}function v7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const w7=(t,e)=>t.depth-e.depth;class B7{constructor(){this.children=[],this.isDirty=!1}add(e){uC(this.children,e),this.isDirty=!0}remove(e){dC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(w7),this.isDirty=!1,this.children.forEach(e)}}function x7(t,e){const n=cs.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(sA(r),t(i-e))};return ot.read(r,!0),()=>sA(r)}const qk=["TopLeft","TopRight","BottomLeft","BottomRight"],C7=qk.length,ET=t=>typeof t=="string"?parseFloat(t):t,_T=t=>typeof t=="number"||ye.test(t);function E7(t,e,n,r,s,i){s?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,_7(r)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,b7(r))):i&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let A=0;A<C7;A++){const a=`border${qk[A]}Radius`;let o=bT(e,a),c=bT(n,a);if(o===void 0&&c===void 0)continue;o||(o=0),c||(c=0),o===0||c===0||_T(o)===_T(c)?(t[a]=Math.max(ft(ET(o),ET(c),r),0),(ls.test(c)||ls.test(o))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function bT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _7=Xk(0,.5,fk),b7=Xk(.5,.95,rr);function Xk(t,e,n){return r=>r<t?0:r>e?1:n(Zo(t,e,r))}function TT(t,e){t.min=e.min,t.max=e.max}function cr(t,e){TT(t.x,e.x),TT(t.y,e.y)}function IT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function UT(t,e,n,r,s){return t-=e,t=Fp(t,1/n,r),s!==void 0&&(t=Fp(t,1/s,r)),t}function T7(t,e=0,n=1,r=.5,s,i=t,A=t){if(ls.test(e)&&(e=parseFloat(e),e=ft(A.min,A.max,e/100)-A.min),typeof e!="number")return;let a=ft(i.min,i.max,r);t===i&&(a-=e),t.min=UT(t.min,e,n,a,s),t.max=UT(t.max,e,n,a,s)}function FT(t,e,[n,r,s],i,A){T7(t,e[n],e[r],e[s],e.scale,i,A)}const I7=["x","scaleX","originX"],U7=["y","scaleY","originY"];function ST(t,e,n,r){FT(t.x,e,I7,n?n.x:void 0,r?r.x:void 0),FT(t.y,e,U7,n?n.y:void 0,r?r.y:void 0)}function NT(t){return t.translate===0&&t.scale===1}function Yk(t){return NT(t.x)&&NT(t.y)}function QT(t,e){return t.min===e.min&&t.max===e.max}function F7(t,e){return QT(t.x,e.x)&&QT(t.y,e.y)}function kT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Jk(t,e){return kT(t.x,e.x)&&kT(t.y,e.y)}function RT(t){return Ar(t.x)/Ar(t.y)}function PT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class S7{constructor(){this.members=[]}add(e){uC(this.members,e),e.scheduleRender()}remove(e){if(dC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function N7(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,A=(n==null?void 0:n.z)||0;if((s||i||A)&&(r=`translate3d(${s}px, ${i}px, ${A}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const kA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},pc=typeof window<"u"&&window.MotionDebug!==void 0,Q0=["","X","Y","Z"],Q7={visibility:"hidden"},DT=1e3;let k7=0;function k0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Zk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ak(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ot,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Zk(r)}function e4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(A={},a=e==null?void 0:e()){this.id=k7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pc&&(kA.totalNodes=kA.resolvedTargetDeltas=kA.recalculatedProjection=0),this.nodes.forEach(D7),this.nodes.forEach(V7),this.nodes.forEach(H7),this.nodes.forEach(L7),pc&&window.MotionDebug.record(kA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new B7)}addEventListener(A,a){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new hC),this.eventHandlers.get(A).add(a)}notifyListeners(A,...a){const o=this.eventHandlers.get(A);o&&o.notify(...a)}hasListeners(A){return this.eventHandlers.has(A)}mount(A,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=v7(A),this.instance=A;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||o)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(A,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=x7(f,250),Cf.hasAnimatedSinceResize&&(Cf.hasAnimatedSinceResize=!1,this.nodes.forEach(jT))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||W7,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!Jk(this.targetLayout,m)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const F={...aC(y,"layout"),onPlay:E,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else f||jT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K7),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LT);return}this.isUpdating||this.nodes.forEach(M7),this.isUpdating=!1,this.nodes.forEach(O7),this.nodes.forEach(R7),this.nodes.forEach(P7),this.clearAllSnapshots();const a=cs.now();Jt.delta=ti(0,1e3/60,a-Jt.timestamp),Jt.timestamp=a,Jt.isProcessing=!0,E0.update.process(Jt),E0.preRender.process(Jt),E0.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j7),this.sharedNodes.forEach(z7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(a=!1),a){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!s)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Yk(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;A&&(a||QA(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return A&&(o=this.removeTransform(o)),q7(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var A;const{visualElement:a}=this.options;if(!a)return _t();const o=a.measureViewportBox();if(!(((A=this.scroll)===null||A===void 0?void 0:A.wasRoot)||this.path.some(X7))){const{scroll:u}=this.root;u&&(po(o.x,u.offset.x),po(o.y,u.offset.y))}return o}removeElementScroll(A){var a;const o=_t();if(cr(o,A),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&cr(o,A),po(o.x,h.offset.x),po(o.y,h.offset.y))}return o}applyTransform(A,a=!1){const o=_t();cr(o,A);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&go(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),QA(u.latestValues)&&go(o,u.latestValues)}return QA(this.latestValues)&&go(o,this.latestValues),o}removeTransform(A){const a=_t();cr(a,A);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!QA(c.latestValues))continue;Zv(c.latestValues)&&c.updateSnapshot();const u=_t(),h=c.measurePageBox();cr(u,h),ST(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return QA(this.latestValues)&&ST(a,this.latestValues),a}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var a;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(A||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Z$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),zk(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Gc(this.relativeTargetOrigin,this.target,g.target),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pc&&kA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zv(this.parent.latestValues)||Kk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((A=this.parent)===null||A===void 0)&&A.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;cr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;o7(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=_t());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IT(this.prevProjectionDelta.x,this.projectionDelta.x),IT(this.prevProjectionDelta.y,this.projectionDelta.y)),zc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!PT(this.projectionDelta.x,this.prevProjectionDelta.x)||!PT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),pc&&kA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),A){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fo(),this.projectionDelta=fo(),this.projectionDeltaWithTransform=fo()}setAnimationOrigin(A,a=!1){const o=this.snapshot,c=o?o.latestValues:{},u={...this.latestValues},h=fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=_t(),g=o?o.source:void 0,m=this.layout?this.layout.source:void 0,y=g!==m,E=this.getStack(),x=!E||E.members.length<=1,v=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some($7));this.animationProgress=0;let w;this.mixTargetDelta=F=>{const T=F/1e3;MT(h.x,A.x,T),MT(h.y,A.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),G7(this.relativeTarget,this.relativeTargetOrigin,f,T),w&&F7(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=_t()),cr(w,this.relativeTarget)),y&&(this.animationValues=u,E7(u,c,this.latestValues,T,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Cf.hasAnimatedSinceResize=!0,this.currentAnimation=y7(0,DT,{...A,onUpdate:a=>{this.mixTargetDelta(a),A.onUpdate&&A.onUpdate(a)},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(DT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:a,target:o,layout:c,latestValues:u}=A;if(!(!a||!o||!c)){if(this!==A&&this.layout&&c&&t4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||_t();const h=Ar(this.layout.layoutBox.x);o.x.min=A.target.x.min,o.x.max=o.x.min+h;const f=Ar(this.layout.layoutBox.y);o.y.min=A.target.y.min,o.y.max=o.y.min+f}cr(a,o),go(a,u),zc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(A,a){this.sharedNodes.has(A)||this.sharedNodes.set(A,new S7),this.sharedNodes.get(A).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var A;const{layoutId:a}=this.options;return a?((A=this.getStack())===null||A===void 0?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:a}=this.options;return a?(A=this.getStack())===null||A===void 0?void 0:A.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:a,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),A&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let a=!1;const{latestValues:o}=A;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const c={};o.z&&k0("z",A,c,this.animationValues);for(let u=0;u<Q0.length;u++)k0(`rotate${Q0[u]}`,A,c,this.animationValues),k0(`skew${Q0[u]}`,A,c,this.animationValues);A.render();for(const u in c)A.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);A.scheduleRender()}getProjectionStyles(A){var a,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Q7;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Bf(A==null?void 0:A.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Bf(A==null?void 0:A.pointerEvents)||""),this.hasProjected&&!QA(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=N7(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:g,y:m}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(o=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in _p){if(f[y]===void 0)continue;const{correct:E,applyTo:x}=_p[y],v=c.transform==="none"?f[y]:E(f[y],h);if(x){const w=x.length;for(let F=0;F<w;F++)c[x[F]]=v}else c[y]=v}return this.options.layoutId&&(c.pointerEvents=h===this?Bf(A==null?void 0:A.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var a;return(a=A.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(LT),this.root.sharedNodes.clear()}}}function R7(t){t.updateLayout()}function P7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,A=n.source!==t.layout.source;i==="size"?dr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=Ar(f);f.min=r[h].min,f.max=f.min+g}):t4(i,n.layoutBox,r)&&dr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=Ar(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=fo();zc(a,r,n.layoutBox);const o=fo();A?zc(o,t.applyTransform(s,!0),n.measuredBox):zc(o,r,n.layoutBox);const c=!Yk(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const m=_t();Gc(m,n.layoutBox,f.layoutBox);const y=_t();Gc(y,r,g.layoutBox),Jk(m,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function D7(t){pc&&kA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function L7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j7(t){t.clearSnapshot()}function LT(t){t.clearMeasurements()}function M7(t){t.isLayoutDirty=!1}function O7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V7(t){t.resolveTargetDelta()}function H7(t){t.calcProjection()}function K7(t){t.resetSkewAndRotation()}function z7(t){t.removeLeadSnapshot()}function MT(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OT(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function G7(t,e,n,r){OT(t.x,e.x,n.x,r),OT(t.y,e.y,n.y,r)}function $7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const W7={duration:.45,ease:[.4,0,.1,1]},VT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HT=VT("applewebkit/")&&!VT("chrome/")?Math.round:rr;function KT(t){t.min=HT(t.min),t.max=HT(t.max)}function q7(t){KT(t.x),KT(t.y)}function t4(t,e,n){return t==="position"||t==="preserve-aspect"&&!J$(RT(e),RT(n),.2)}function X7(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Y7=e4({attachResizeListener:(t,e)=>Du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),R0={current:void 0},n4=e4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!R0.current){const t=new Y7({});t.mount(window),t.setOptions({layoutScroll:!0}),R0.current=t}return R0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),J7={pan:{Feature:f7},drag:{Feature:h7,ProjectionNode:n4,MeasureLayout:Wk}};function zT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ot.postRender(()=>i(e,bd(e)))}class Z7 extends vA{mount(){const{current:e}=this.node;e&&(this.unmount=Z8(e,n=>(zT(this.node,n,"Start"),r=>zT(this.node,r,"End"))))}unmount(){}}class eW extends vA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_d(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ot.postRender(()=>i(e,bd(e)))}class tW extends vA{mount(){const{current:e}=this.node;e&&(this.unmount=rG(e,n=>(GT(this.node,n,"Start"),(r,{success:s})=>GT(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tw=new WeakMap,P0=new WeakMap,nW=t=>{const e=tw.get(t.target);e&&e(t)},rW=t=>{t.forEach(nW)};function sW({root:t,...e}){const n=t||document;P0.has(n)||P0.set(n,{});const r=P0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(rW,{root:t,...e})),r[s]}function iW(t,e,n){const r=sW(e);return tw.set(t,n),r.observe(t),()=>{tw.delete(t),r.unobserve(t)}}const AW={some:0,all:1};class aW extends vA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,A={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:AW[s]},a=o=>{const{isIntersecting:c}=o;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(o)};return iW(this.node.current,A,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oW(e,n))&&this.startObserver()}unmount(){}}function oW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lW={inView:{Feature:aW},tap:{Feature:tW},focus:{Feature:eW},hover:{Feature:Z7}},cW={layout:{ProjectionNode:n4,MeasureLayout:Wk}},nw={current:null},r4={current:!1};function uW(){if(r4.current=!0,!!Gx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nw.current=t.matches;t.addListener(e),e()}else nw.current=!1}const dW=[...Ik,yn,iA],hW=t=>dW.find(Tk(t)),$T=new WeakMap;function fW(t,e,n){for(const r in e){const s=e[r],i=n[r];if(xn(s))t.addValue(r,s);else if(xn(i))t.addValue(r,Ru(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const A=t.getValue(r);A.liveStyle===!0?A.jump(s):A.hasAnimated||A.set(s)}else{const A=t.getStaticValue(r);t.addValue(r,Ru(A!==void 0?A:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const WT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:A},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=cs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ot.render(this.render,!1,!0))};const{latestValues:o,renderState:c,onUpdate:u}=A;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=am(n),this.isVariantNode=PQ(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];o[g]!==void 0&&xn(m)&&m.set(o[g],!1)}}mount(e){this.current=e,$T.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),r4.current||uW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$T.delete(this.current),this.projection&&this.projection.unmount(),sA(this.notifyUpdate),sA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_a.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let A;window.MotionCheckAppearSync&&(A=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),A&&A(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in el){const n=el[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WT.length;r++){const s=WT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,A=e[i];A&&(this.propEventSubscriptions[s]=this.on(s,A))}this.prevMotionValues=fW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ru(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(_k(s)||gk(s))?s=parseFloat(s):!hW(s)&&iA.test(n)&&(s=xk(e,n)),this.setBaseTarget(e,xn(s)?s.get():s)),xn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const A=Zx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);A&&(s=A[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!xn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class s4 extends pW{constructor(){super(...arguments),this.KeyframeResolver=Uk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function gW(t){return window.getComputedStyle(t)}class mW extends s4{constructor(){super(...arguments),this.type="html",this.renderInstance=zQ}readValueFromInstance(e,n){if(_a.has(n)){const r=yC(n);return r&&r.default||0}else{const r=gW(e),s=(VQ(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Gk(e,n)}build(e,n,r){nC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return AC(e,n,r)}}class yW extends s4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_a.has(n)){const r=yC(n);return r&&r.default||0}return n=GQ.has(n)?n:Xx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return qQ(e,n,r)}build(e,n,r){rC(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){$Q(e,n,r,s)}mount(e){this.isSVGTag=iC(e.tagName),super.mount(e)}}const vW=(t,e)=>Jx(t)?new yW(e):new mW(e,{allowProjection:t!==I.Fragment}),wW=G8({...H$,...lW,...J7,...cW},vW),z=a8(wW),BW=({onMenuClick:t})=>l.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"flex justify-between items-center h-16",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white rounded-lg",children:l.jsx(IQ,{size:24})}),l.jsxs(np,{to:"/",className:"flex items-center gap-2",children:[l.jsx(Pr,{className:"w-8 h-8 text-[--theater-gold]"}),l.jsx("span",{className:"text-xl font-bold text-white",children:"Booking Manager"})]})]})})})}),xW=({isOpen:t,onClose:e,onSuccess:n})=>{const r=ya(),[s,i]=I.useState(xp),[A,a]=I.useState(""),[o,c]=I.useState(!1),[u,h]=I.useState(null),f=async g=>{g.preventDefault(),c(!0),h(null);try{await Qz(s,A),n&&n(),e(),r("/dashboard")}catch(m){console.error("Auth error:",m),h(kz(m))}finally{c(!1)}};return l.jsx(qt,{children:t&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Ub,{className:"text-[--theater-gold]"}),"Admin Login"]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded flex items-center gap-2",children:[l.jsx(Wt,{size:20}),u]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:s,readOnly:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white opacity-50"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),"Accesso in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ub,{size:20}),"Accedi"]})})]})]})})})},CW=[{path:"/",icon:bQ,label:"Home"},{path:"/prenota",icon:Cn,label:"Prenotazioni"},{path:"/profile",icon:rA,label:"Profilo"}],EW=[{path:"/dashboard",icon:OA,label:"Dashboard"},{path:"/dashboard/users",icon:Jo,label:"Utenti"},{path:"/dashboard/products",icon:jv,label:"Prodotti"}],_W=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!1),s=pA(),i=ya(),{user:A,isAdmin:a}=ii(),o=async()=>{try{await tn.signOut(),i("/")}catch(h){console.error("Error signing out:",h)}},c=()=>{if(!A){r(!0);return}i("/profile")},u=h=>s.pathname===h||s.pathname.startsWith(`${h}/`);return l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(BW,{onMenuClick:()=>e(!0)}),l.jsx(qt,{children:t&&l.jsxs(l.Fragment,{children:[l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-40",onClick:()=>e(!1)}),l.jsxs(z.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:20},className:"fixed left-0 top-0 bottom-0 w-80 bg-gray-800 z-50 shadow-xl",children:[l.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Menu"}),l.jsx("button",{onClick:()=>e(!1),className:"p-2 text-gray-400 hover:text-white rounded-lg",children:l.jsx(Rn,{size:24})})]}),l.jsxs("div",{className:"p-4",children:[A&&l.jsx("div",{className:"mb-6 p-4 bg-gray-700 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-[--theater-gold] flex items-center justify-center",children:l.jsx(rA,{className:"w-6 h-6 text-black"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white font-medium",children:A.email}),l.jsx("div",{className:"text-sm text-gray-400",children:a?"Amministratore":"Utente"})]})]})}),l.jsxs("nav",{className:"space-y-2",children:[CW.map(h=>l.jsxs("button",{onClick:()=>{h.path==="/profile"?c():i(h.path),e(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${u(h.path)?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[l.jsx(h.icon,{size:20}),l.jsx("span",{children:h.label}),l.jsx(Fu,{size:16,className:"ml-auto"})]},h.path)),a&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-4 border-t border-gray-700"}),EW.map(h=>l.jsxs("button",{onClick:()=>{i(h.path),e(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${u(h.path)?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[l.jsx(h.icon,{size:20}),l.jsx("span",{children:h.label}),l.jsx(Fu,{size:16,className:"ml-auto"})]},h.path))]})]}),A&&l.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:l.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[l.jsx(TQ,{size:20}),l.jsx("span",{children:"Esci"})]})})]})]})]})}),l.jsx(z.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-8",children:l.jsx(OS,{})}),l.jsx(xW,{isOpen:n,onClose:()=>r(!1),onSuccess:()=>{r(!1),i("/profile")}})]})};var Td=t=>t.type==="checkbox",HA=t=>t instanceof Date,Sn=t=>t==null;const i4=t=>typeof t=="object";var Nt=t=>!Sn(t)&&!Array.isArray(t)&&i4(t)&&!HA(t),bW=t=>Nt(t)&&t.target?Td(t.target)?t.target.checked:t.target.value:t,TW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,IW=(t,e)=>t.has(TW(e)),UW=t=>{const e=t.constructor&&t.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},CC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ur(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(CC&&(t instanceof Blob||r))&&(n||Nt(t)))if(e=n?[]:{},!n&&!UW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ur(t[s]));else return t;return e}var cm=t=>Array.isArray(t)?t.filter(Boolean):[],kt=t=>t===void 0,le=(t,e,n)=>{if(!e||!Nt(t))return n;const r=cm(e.split(/[,[\].]+?/)).reduce((s,i)=>Sn(s)?s:s[i],t);return kt(r)||r===t?kt(t[e])?n:t[e]:r},Xr=t=>typeof t=="boolean",EC=t=>/^\w*$/.test(t),A4=t=>cm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(t,e,n)=>{let r=-1;const s=EC(e)?[e]:A4(e),i=s.length,A=i-1;for(;++r<i;){const a=s[r];let o=n;if(r!==A){const c=t[a];o=Nt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=o,t=t[a]}return t};const qT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};tt.createContext(null);var FW=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const A=i;return e._proxyFormState[A]!==Nr.all&&(e._proxyFormState[A]=!r||Nr.all),t[A]}});return s},jn=t=>Nt(t)&&!Object.keys(t).length,SW=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return jn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(A=>e[A]===Nr.all)},Ef=t=>Array.isArray(t)?t:[t];function NW(t){const e=tt.useRef(t);e.current=t,tt.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ns=t=>typeof t=="string",QW=(t,e,n,r,s)=>ns(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n),a4=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},XT=t=>({isOnSubmit:!t||t===Nr.onSubmit,isOnBlur:t===Nr.onBlur,isOnChange:t===Nr.onChange,isOnAll:t===Nr.all,isOnTouch:t===Nr.onTouched}),YT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const $c=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:A,...a}=i;if(A){if(A.refs&&A.refs[0]&&e(A.refs[0],s)&&!r)return!0;if(A.ref&&e(A.ref,A.name)&&!r)return!0;if($c(a,e))break}else if(Nt(a)&&$c(a,e))break}}};var kW=(t,e,n)=>{const r=Ef(le(t,n));return qe(r,"root",e[n]),qe(t,n,r),t},_C=t=>t.type==="file",Jr=t=>typeof t=="function",Sp=t=>{if(!CC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_f=t=>ns(t),bC=t=>t.type==="radio",Np=t=>t instanceof RegExp;const JT={value:!1,isValid:!1},ZT={value:!0,isValid:!0};var o4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!kt(t[0].attributes.value)?kt(t[0].value)||t[0].value===""?ZT:{value:t[0].value,isValid:!0}:ZT:JT}return JT};const eI={isValid:!1,value:null};var l4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,eI):eI;function tI(t,e,n="validate"){if(_f(t)||Array.isArray(t)&&t.every(_f)||Xr(t)&&!t)return{type:n,message:_f(t)?t:"",ref:e}}var Pa=t=>Nt(t)&&!Np(t)?t:{value:t,message:""},nI=async(t,e,n,r,s,i)=>{const{ref:A,refs:a,required:o,maxLength:c,minLength:u,min:h,max:f,pattern:g,validate:m,name:y,valueAsNumber:E,mount:x}=t._f,v=le(n,y);if(!x||e.has(y))return{};const w=a?a[0]:A,F=R=>{s&&w.reportValidity&&(w.setCustomValidity(Xr(R)?"":R||""),w.reportValidity())},T={},Q=bC(A),b=Td(A),C=Q||b,_=(E||_C(A))&&kt(A.value)&&kt(v)||Sp(A)&&A.value===""||v===""||Array.isArray(v)&&!v.length,U=a4.bind(null,y,r,T),k=(R,S,ee,Ae=bs.maxLength,K=bs.minLength)=>{const J=R?S:ee;T[y]={type:R?Ae:K,message:J,ref:A,...U(R?Ae:K,J)}};if(i?!Array.isArray(v)||!v.length:o&&(!C&&(_||Sn(v))||Xr(v)&&!v||b&&!o4(a).isValid||Q&&!l4(a).isValid)){const{value:R,message:S}=_f(o)?{value:!!o,message:o}:Pa(o);if(R&&(T[y]={type:bs.required,message:S,ref:w,...U(bs.required,S)},!r))return F(S),T}if(!_&&(!Sn(h)||!Sn(f))){let R,S;const ee=Pa(f),Ae=Pa(h);if(!Sn(v)&&!isNaN(v)){const K=A.valueAsNumber||v&&+v;Sn(ee.value)||(R=K>ee.value),Sn(Ae.value)||(S=K<Ae.value)}else{const K=A.valueAsDate||new Date(v),J=W=>new Date(new Date().toDateString()+" "+W),L=A.type=="time",H=A.type=="week";ns(ee.value)&&v&&(R=L?J(v)>J(ee.value):H?v>ee.value:K>new Date(ee.value)),ns(Ae.value)&&v&&(S=L?J(v)<J(Ae.value):H?v<Ae.value:K<new Date(Ae.value))}if((R||S)&&(k(!!R,ee.message,Ae.message,bs.max,bs.min),!r))return F(T[y].message),T}if((c||u)&&!_&&(ns(v)||i&&Array.isArray(v))){const R=Pa(c),S=Pa(u),ee=!Sn(R.value)&&v.length>+R.value,Ae=!Sn(S.value)&&v.length<+S.value;if((ee||Ae)&&(k(ee,R.message,S.message),!r))return F(T[y].message),T}if(g&&!_&&ns(v)){const{value:R,message:S}=Pa(g);if(Np(R)&&!v.match(R)&&(T[y]={type:bs.pattern,message:S,ref:A,...U(bs.pattern,S)},!r))return F(S),T}if(m){if(Jr(m)){const R=await m(v,n),S=tI(R,w);if(S&&(T[y]={...S,...U(bs.validate,S.message)},!r))return F(S.message),T}else if(Nt(m)){let R={};for(const S in m){if(!jn(R)&&!r)break;const ee=tI(await m[S](v,n),w,S);ee&&(R={...ee,...U(S,ee.message)},F(ee.message),r&&(T[y]=R))}if(!jn(R)&&(T[y]={ref:w,...R},!r))return T}}return F(!0),T};function RW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=kt(t)?r++:t[e[r++]];return t}function PW(t){for(const e in t)if(t.hasOwnProperty(e)&&!kt(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:EC(e)?[e]:A4(e),r=n.length===1?t:RW(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Nt(r)&&jn(r)||Array.isArray(r)&&PW(r))&&Lt(t,n.slice(0,-1)),t}var D0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},rw=t=>Sn(t)||!i4(t);function bi(t,e){if(rw(t)||rw(e))return t===e;if(HA(t)&&HA(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const A=e[s];if(HA(i)&&HA(A)||Nt(i)&&Nt(A)||Array.isArray(i)&&Array.isArray(A)?!bi(i,A):i!==A)return!1}}return!0}var c4=t=>t.type==="select-multiple",DW=t=>bC(t)||Td(t),L0=t=>Sp(t)&&t.isConnected,u4=t=>{for(const e in t)if(Jr(t[e]))return!0;return!1};function Qp(t,e={}){const n=Array.isArray(t);if(Nt(t)||n)for(const r in t)Array.isArray(t[r])||Nt(t[r])&&!u4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Qp(t[r],e[r])):Sn(t[r])||(e[r]=!0);return e}function d4(t,e,n){const r=Array.isArray(t);if(Nt(t)||r)for(const s in t)Array.isArray(t[s])||Nt(t[s])&&!u4(t[s])?kt(e)||rw(n[s])?n[s]=Array.isArray(t[s])?Qp(t[s],[]):{...Qp(t[s])}:d4(t[s],Sn(e)?{}:e[s],n[s]):n[s]=!bi(t[s],e[s]);return n}var Xl=(t,e)=>d4(t,e,Qp(e)),h4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>kt(t)?t:e?t===""?NaN:t&&+t:n&&ns(t)?new Date(t):r?r(t):t;function j0(t){const e=t.ref;return _C(e)?e.files:bC(e)?l4(t.refs).value:c4(e)?[...e.selectedOptions].map(({value:n})=>n):Td(e)?o4(t.refs).value:h4(kt(e.value)?t.ref.value:e.value,t)}var LW=(t,e,n,r)=>{const s={};for(const i of t){const A=le(e,i);A&&qe(s,i,A._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Yl=t=>kt(t)?t:Np(t)?t.source:Nt(t)?Np(t.value)?t.value.source:t.value:t;const rI="AsyncFunction";var jW=t=>!!t&&!!t.validate&&!!(Jr(t.validate)&&t.validate.constructor.name===rI||Nt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===rI)),MW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function sI(t,e,n){const r=le(t,n);if(r||EC(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),A=le(e,i),a=le(t,i);if(A&&!Array.isArray(A)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var OW=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,VW=(t,e)=>!cm(le(t,e)).length&&Lt(t,e);const HW={mode:Nr.onSubmit,reValidateMode:Nr.onChange,shouldFocusError:!0};function KW(t={}){let e={...HW,...t},n={submitCount:0,isDirty:!1,isLoading:Jr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Nt(e.defaultValues)||Nt(e.values)?ur(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:ur(s),A={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:D0(),array:D0(),state:D0()},f=XT(e.mode),g=XT(e.reValidateMode),m=e.criteriaMode===Nr.all,y=P=>j=>{clearTimeout(c),c=setTimeout(P,j)},E=async P=>{if(!e.disabled&&(u.isValid||P)){const j=e.resolver?jn((await C()).errors):await U(r,!0);j!==n.isValid&&h.state.next({isValid:j})}},x=(P,j)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((P||Array.from(a.mount)).forEach(O=>{O&&(j?qe(n.validatingFields,O,j):Lt(n.validatingFields,O))}),h.state.next({validatingFields:n.validatingFields,isValidating:!jn(n.validatingFields)}))},v=(P,j=[],O,se,ne=!0,Y=!0)=>{if(se&&O&&!e.disabled){if(A.action=!0,Y&&Array.isArray(le(r,P))){const ge=O(le(r,P),se.argA,se.argB);ne&&qe(r,P,ge)}if(Y&&Array.isArray(le(n.errors,P))){const ge=O(le(n.errors,P),se.argA,se.argB);ne&&qe(n.errors,P,ge),VW(n.errors,P)}if(u.touchedFields&&Y&&Array.isArray(le(n.touchedFields,P))){const ge=O(le(n.touchedFields,P),se.argA,se.argB);ne&&qe(n.touchedFields,P,ge)}u.dirtyFields&&(n.dirtyFields=Xl(s,i)),h.state.next({name:P,isDirty:R(P,j),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else qe(i,P,j)},w=(P,j)=>{qe(n.errors,P,j),h.state.next({errors:n.errors})},F=P=>{n.errors=P,h.state.next({errors:n.errors,isValid:!1})},T=(P,j,O,se)=>{const ne=le(r,P);if(ne){const Y=le(i,P,kt(O)?le(s,P):O);kt(Y)||se&&se.defaultChecked||j?qe(i,P,j?Y:j0(ne._f)):Ae(P,Y),A.mount&&E()}},Q=(P,j,O,se,ne)=>{let Y=!1,ge=!1;const Te={name:P};if(!e.disabled){const Ne=!!(le(r,P)&&le(r,P)._f&&le(r,P)._f.disabled);if(!O||se){u.isDirty&&(ge=n.isDirty,n.isDirty=Te.isDirty=R(),Y=ge!==Te.isDirty);const ke=Ne||bi(le(s,P),j);ge=!!(!Ne&&le(n.dirtyFields,P)),ke||Ne?Lt(n.dirtyFields,P):qe(n.dirtyFields,P,!0),Te.dirtyFields=n.dirtyFields,Y=Y||u.dirtyFields&&ge!==!ke}if(O){const ke=le(n.touchedFields,P);ke||(qe(n.touchedFields,P,O),Te.touchedFields=n.touchedFields,Y=Y||u.touchedFields&&ke!==O)}Y&&ne&&h.state.next(Te)}return Y?Te:{}},b=(P,j,O,se)=>{const ne=le(n.errors,P),Y=u.isValid&&Xr(j)&&n.isValid!==j;if(e.delayError&&O?(o=y(()=>w(P,O)),o(e.delayError)):(clearTimeout(c),o=null,O?qe(n.errors,P,O):Lt(n.errors,P)),(O?!bi(ne,O):ne)||!jn(se)||Y){const ge={...se,...Y&&Xr(j)?{isValid:j}:{},errors:n.errors,name:P};n={...n,...ge},h.state.next(ge)}},C=async P=>{x(P,!0);const j=await e.resolver(i,e.context,LW(P||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(P),j},_=async P=>{const{errors:j}=await C(P);if(P)for(const O of P){const se=le(j,O);se?qe(n.errors,O,se):Lt(n.errors,O)}else n.errors=j;return j},U=async(P,j,O={valid:!0})=>{for(const se in P){const ne=P[se];if(ne){const{_f:Y,...ge}=ne;if(Y){const Te=a.array.has(Y.name),Ne=ne._f&&jW(ne._f);Ne&&u.validatingFields&&x([se],!0);const ke=await nI(ne,a.disabled,i,m,e.shouldUseNativeValidation&&!j,Te);if(Ne&&u.validatingFields&&x([se]),ke[Y.name]&&(O.valid=!1,j))break;!j&&(le(ke,Y.name)?Te?kW(n.errors,ke,Y.name):qe(n.errors,Y.name,ke[Y.name]):Lt(n.errors,Y.name))}!jn(ge)&&await U(ge,j,O)}}return O.valid},k=()=>{for(const P of a.unMount){const j=le(r,P);j&&(j._f.refs?j._f.refs.every(O=>!L0(O)):!L0(j._f.ref))&&st(P)}a.unMount=new Set},R=(P,j)=>!e.disabled&&(P&&j&&qe(i,P,j),!bi(G(),s)),S=(P,j,O)=>QW(P,a,{...A.mount?i:kt(j)?s:ns(P)?{[P]:j}:j},O,j),ee=P=>cm(le(A.mount?i:s,P,e.shouldUnregister?le(s,P,[]):[])),Ae=(P,j,O={})=>{const se=le(r,P);let ne=j;if(se){const Y=se._f;Y&&(!Y.disabled&&qe(i,P,h4(j,Y)),ne=Sp(Y.ref)&&Sn(j)?"":j,c4(Y.ref)?[...Y.ref.options].forEach(ge=>ge.selected=ne.includes(ge.value)):Y.refs?Td(Y.ref)?Y.refs.length>1?Y.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(ne)?!!ne.find(Te=>Te===ge.value):ne===ge.value)):Y.refs[0]&&(Y.refs[0].checked=!!ne):Y.refs.forEach(ge=>ge.checked=ge.value===ne):_C(Y.ref)?Y.ref.value="":(Y.ref.value=ne,Y.ref.type||h.values.next({name:P,values:{...i}})))}(O.shouldDirty||O.shouldTouch)&&Q(P,ne,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&W(P)},K=(P,j,O)=>{for(const se in j){const ne=j[se],Y=`${P}.${se}`,ge=le(r,Y);(a.array.has(P)||Nt(ne)||ge&&!ge._f)&&!HA(ne)?K(Y,ne,O):Ae(Y,ne,O)}},J=(P,j,O={})=>{const se=le(r,P),ne=a.array.has(P),Y=ur(j);qe(i,P,Y),ne?(h.array.next({name:P,values:{...i}}),(u.isDirty||u.dirtyFields)&&O.shouldDirty&&h.state.next({name:P,dirtyFields:Xl(s,i),isDirty:R(P,Y)})):se&&!se._f&&!Sn(Y)?K(P,Y,O):Ae(P,Y,O),YT(P,a)&&h.state.next({...n}),h.values.next({name:A.mount?P:void 0,values:{...i}})},L=async P=>{A.mount=!0;const j=P.target;let O=j.name,se=!0;const ne=le(r,O),Y=()=>j.type?j0(ne._f):bW(P),ge=Te=>{se=Number.isNaN(Te)||HA(Te)&&isNaN(Te.getTime())||bi(Te,le(i,O,Te))};if(ne){let Te,Ne;const ke=Y(),Wn=P.type===qT.BLUR||P.type===qT.FOCUS_OUT,Qd=!MW(ne._f)&&!e.resolver&&!le(n.errors,O)&&!ne._f.deps||OW(Wn,le(n.touchedFields,O),n.isSubmitted,g,f),Ua=YT(O,a,Wn);qe(i,O,ke),Wn?(ne._f.onBlur&&ne._f.onBlur(P),o&&o(0)):ne._f.onChange&&ne._f.onChange(P);const El=Q(O,ke,Wn,!1),CA=!jn(El)||Ua;if(!Wn&&h.values.next({name:O,type:P.type,values:{...i}}),Qd)return u.isValid&&(e.mode==="onBlur"&&Wn?E():Wn||E()),CA&&h.state.next({name:O,...Ua?{}:El});if(!Wn&&Ua&&h.state.next({...n}),e.resolver){const{errors:_l}=await C([O]);if(ge(ke),se){const kd=sI(n.errors,r,O),Fa=sI(_l,r,kd.name||O);Te=Fa.error,O=Fa.name,Ne=jn(_l)}}else x([O],!0),Te=(await nI(ne,a.disabled,i,m,e.shouldUseNativeValidation))[O],x([O]),ge(ke),se&&(Te?Ne=!1:u.isValid&&(Ne=await U(r,!0)));se&&(ne._f.deps&&W(ne._f.deps),b(O,Ne,Te,El))}},H=(P,j)=>{if(le(n.errors,j)&&P.focus)return P.focus(),1},W=async(P,j={})=>{let O,se;const ne=Ef(P);if(e.resolver){const Y=await _(kt(P)?P:ne);O=jn(Y),se=P?!ne.some(ge=>le(Y,ge)):O}else P?(se=(await Promise.all(ne.map(async Y=>{const ge=le(r,Y);return await U(ge&&ge._f?{[Y]:ge}:ge)}))).every(Boolean),!(!se&&!n.isValid)&&E()):se=O=await U(r);return h.state.next({...!ns(P)||u.isValid&&O!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:O}:{},errors:n.errors}),j.shouldFocus&&!se&&$c(r,H,P?ne:a.mount),se},G=P=>{const j={...A.mount?i:s};return kt(P)?j:ns(P)?le(j,P):P.map(O=>le(j,O))},fe=(P,j)=>({invalid:!!le((j||n).errors,P),isDirty:!!le((j||n).dirtyFields,P),error:le((j||n).errors,P),isValidating:!!le(n.validatingFields,P),isTouched:!!le((j||n).touchedFields,P)}),Be=P=>{P&&Ef(P).forEach(j=>Lt(n.errors,j)),h.state.next({errors:P?n.errors:{}})},Je=(P,j,O)=>{const se=(le(r,P,{_f:{}})._f||{}).ref,ne=le(n.errors,P)||{},{ref:Y,message:ge,type:Te,...Ne}=ne;qe(n.errors,P,{...Ne,...j,ref:se}),h.state.next({name:P,errors:n.errors,isValid:!1}),O&&O.shouldFocus&&se&&se.focus&&se.focus()},Ge=(P,j)=>Jr(P)?h.values.subscribe({next:O=>P(S(void 0,j),O)}):S(P,j,!0),st=(P,j={})=>{for(const O of P?Ef(P):a.mount)a.mount.delete(O),a.array.delete(O),j.keepValue||(Lt(r,O),Lt(i,O)),!j.keepError&&Lt(n.errors,O),!j.keepDirty&&Lt(n.dirtyFields,O),!j.keepTouched&&Lt(n.touchedFields,O),!j.keepIsValidating&&Lt(n.validatingFields,O),!e.shouldUnregister&&!j.keepDefaultValue&&Lt(s,O);h.values.next({values:{...i}}),h.state.next({...n,...j.keepDirty?{isDirty:R()}:{}}),!j.keepIsValid&&E()},ut=({disabled:P,name:j,field:O,fields:se})=>{(Xr(P)&&A.mount||P||a.disabled.has(j))&&(P?a.disabled.add(j):a.disabled.delete(j),Q(j,j0(O?O._f:le(se,j)._f),!1,!1,!0))},BA=(P,j={})=>{let O=le(r,P);const se=Xr(j.disabled)||Xr(e.disabled);return qe(r,P,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:P}},name:P,mount:!0,...j}}),a.mount.add(P),O?ut({field:O,disabled:Xr(j.disabled)?j.disabled:e.disabled,name:P}):T(P,!0,j.value),{...se?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:Yl(j.min),max:Yl(j.max),minLength:Yl(j.minLength),maxLength:Yl(j.maxLength),pattern:Yl(j.pattern)}:{},name:P,onChange:L,onBlur:L,ref:ne=>{if(ne){BA(P,j),O=le(r,P);const Y=kt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,ge=DW(Y),Te=O._f.refs||[];if(ge?Te.find(Ne=>Ne===Y):Y===O._f.ref)return;qe(r,P,{_f:{...O._f,...ge?{refs:[...Te.filter(L0),Y,...Array.isArray(le(s,P))?[{}]:[]],ref:{type:Y.type,name:P}}:{ref:Y}}}),T(P,!1,void 0,Y)}else O=le(r,P,{}),O._f&&(O._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(IW(a.array,P)&&A.action)&&a.unMount.add(P)}}},Sd=()=>e.shouldFocusError&&$c(r,H,a.mount),ba=P=>{Xr(P)&&(h.state.next({disabled:P}),$c(r,(j,O)=>{const se=le(r,O);se&&(j.disabled=se._f.disabled||P,Array.isArray(se._f.refs)&&se._f.refs.forEach(ne=>{ne.disabled=se._f.disabled||P}))},0,!1))},xA=(P,j)=>async O=>{let se;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let ne=ur(i);if(a.disabled.size)for(const Y of a.disabled)qe(ne,Y,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:ge}=await C();n.errors=Y,ne=ge}else await U(r);if(Lt(n.errors,"root"),jn(n.errors)){h.state.next({errors:{}});try{await P(ne,O)}catch(Y){se=Y}}else j&&await j({...n.errors},O),Sd(),setTimeout(Sd);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:jn(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},Cl=(P,j={})=>{le(r,P)&&(kt(j.defaultValue)?J(P,ur(le(s,P))):(J(P,j.defaultValue),qe(s,P,ur(j.defaultValue))),j.keepTouched||Lt(n.touchedFields,P),j.keepDirty||(Lt(n.dirtyFields,P),n.isDirty=j.defaultValue?R(P,ur(le(s,P))):R()),j.keepError||(Lt(n.errors,P),u.isValid&&E()),h.state.next({...n}))},Ta=(P,j={})=>{const O=P?ur(P):s,se=ur(O),ne=jn(P),Y=ne?s:se;if(j.keepDefaultValues||(s=O),!j.keepValues){if(j.keepDirtyValues){const ge=new Set([...a.mount,...Object.keys(Xl(s,i))]);for(const Te of Array.from(ge))le(n.dirtyFields,Te)?qe(Y,Te,le(i,Te)):J(Te,le(Y,Te))}else{if(CC&&kt(P))for(const ge of a.mount){const Te=le(r,ge);if(Te&&Te._f){const Ne=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(Sp(Ne)){const ke=Ne.closest("form");if(ke){ke.reset();break}}}}r={}}i=e.shouldUnregister?j.keepDefaultValues?ur(s):{}:ur(Y),h.array.next({values:{...Y}}),h.values.next({values:{...Y}})}a={mount:j.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},A.mount=!u.isValid||!!j.keepIsValid||!!j.keepDirtyValues,A.watch=!!e.shouldUnregister,h.state.next({submitCount:j.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:j.keepDirty?n.isDirty:!!(j.keepDefaultValues&&!bi(P,s)),isSubmitted:j.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?{}:j.keepDirtyValues?j.keepDefaultValues&&i?Xl(s,i):n.dirtyFields:j.keepDefaultValues&&P?Xl(s,P):j.keepDirty?n.dirtyFields:{},touchedFields:j.keepTouched?n.touchedFields:{},errors:j.keepErrors?n.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ia=(P,j)=>Ta(Jr(P)?P(i):P,j);return{control:{register:BA,unregister:st,getFieldState:fe,handleSubmit:xA,setError:Je,_executeSchema:C,_getWatch:S,_getDirty:R,_updateValid:E,_removeUnmounted:k,_updateFieldArray:v,_updateDisabledField:ut,_getFieldArray:ee,_reset:Ta,_resetDefaultValues:()=>Jr(e.defaultValues)&&e.defaultValues().then(P=>{Ia(P,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:P=>{n={...n,...P}},_disableForm:ba,_subjects:h,_proxyFormState:u,_setErrors:F,get _fields(){return r},get _formValues(){return i},get _state(){return A},set _state(P){A=P},get _defaultValues(){return s},get _names(){return a},set _names(P){a=P},get _formState(){return n},set _formState(P){n=P},get _options(){return e},set _options(P){e={...e,...P}}},trigger:W,register:BA,handleSubmit:xA,watch:Ge,setValue:J,getValues:G,reset:Ia,resetField:Cl,clearErrors:Be,unregister:st,setError:Je,setFocus:(P,j={})=>{const O=le(r,P),se=O&&O._f;if(se){const ne=se.refs?se.refs[0]:se.ref;ne.focus&&(ne.focus(),j.shouldSelect&&Jr(ne.select)&&ne.select())}},getFieldState:fe}}function f4(t={}){const e=tt.useRef(void 0),n=tt.useRef(void 0),[r,s]=tt.useState({isDirty:!1,isValidating:!1,isLoading:Jr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Jr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...KW(t),formState:r});const i=e.current.control;return i._options=t,NW({subject:i._subjects.state,next:A=>{SW(A,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),tt.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),tt.useEffect(()=>{if(i._proxyFormState.isDirty){const A=i._getDirty();A!==r.isDirty&&i._subjects.state.next({isDirty:A})}},[i,r.isDirty]),tt.useEffect(()=>{t.values&&!bi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(A=>({...A}))):i._resetDefaultValues()},[t.values,i]),tt.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),tt.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),tt.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=FW(r,i),e.current}const iI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},p4=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?iI(r.ref,n,t):r.refs&&r.refs.forEach(s=>iI(s,n,t))}},zW=(t,e)=>{e.shouldUseNativeValidation&&p4(t,e);const n={};for(const r in t){const s=le(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(GW(e.names||Object.keys(t),r)){const A=Object.assign({},le(n,r));qe(A,"root",i),qe(n,r,A)}else qe(n,r,i)}return n},GW=(t,e)=>t.some(n=>n.startsWith(e+"."));var $W=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,A=r.path.join(".");if(!n[A])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[A]={message:a.message,type:a.code}}else n[A]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var o=n[A].types,c=o&&o[r.code];n[A]=a4(A,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},g4=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(A,a){try{var o=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&p4({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return o&&o.then?o.then(void 0,a):o}(0,function(A){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(A))return{values:{},errors:zW($W(A.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw A}))}catch(A){return Promise.reject(A)}}},De;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const A of s)i[A]=A;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),A={};for(const a of i)A[a]=s[a];return t.objectValues(A)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const A in s)Object.prototype.hasOwnProperty.call(s,A)&&i.push(A);return i},t.find=(s,i)=>{for(const A of s)if(i(A))return A},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(A=>typeof A=="string"?`'${A}'`:A).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(De||(De={}));var sw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(sw||(sw={}));const oe=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ns=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},q=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),WW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class sr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const A of i.issues)if(A.code==="invalid_union")A.unionErrors.map(s);else if(A.code==="invalid_return_type")s(A.returnTypeError);else if(A.code==="invalid_arguments")s(A.argumentsError);else if(A.path.length===0)r._errors.push(n(A));else{let a=r,o=0;for(;o<A.path.length;){const c=A.path[o];o===A.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(A))):a[c]=a[c]||{_errors:[]},a=a[c],o++}}};return s(this),r}static assert(e){if(!(e instanceof sr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}sr.create=t=>new sr(t);const nl=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,De.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${De.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${De.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${De.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:De.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,De.assertNever(t)}return{message:n}};let m4=nl;function qW(t){m4=t}function kp(){return m4}const Rp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],A={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const o=r.filter(c=>!!c).slice().reverse();for(const c of o)a=c(A,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},XW=[];function re(t,e){const n=kp(),r=Rp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===nl?void 0:nl].filter(s=>!!s)});t.common.issues.push(r)}class bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ee;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,A=await s.value;r.push({key:i,value:A})}return bn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:A}=s;if(i.status==="aborted"||A.status==="aborted")return Ee;i.status==="dirty"&&e.dirty(),A.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof A.value<"u"||s.alwaysSet)&&(r[i.value]=A.value)}return{status:e.value,value:r}}}const Ee=Object.freeze({status:"aborted"}),mo=t=>({status:"dirty",value:t}),Pn=t=>({status:"valid",value:t}),iw=t=>t.status==="aborted",Aw=t=>t.status==="dirty",da=t=>t.status==="valid",Lu=t=>typeof Promise<"u"&&t instanceof Promise;function Pp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function y4(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var he;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(he||(he={}));var gc,mc;class gs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AI=(t,e)=>{if(da(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new sr(t.common.issues);return this._error=n,this._error}}};function be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(A,a)=>{var o,c;const{message:u}=t;return A.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(o=u??r)!==null&&o!==void 0?o:a.defaultError}:A.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ie{get description(){return this._def.description}_getType(e){return Ns(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bn,ctx:{common:e.parent.common,data:e.data,parsedType:Ns(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Lu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ns(e)},i=this._parseSync({data:e,path:s.path,parent:s});return AI(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ns(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return da(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>da(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ns(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Lu(s)?s:Promise.resolve(s));return AI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const A=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&A instanceof Promise?A.then(o=>o?!0:(a(),!1)):A?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Hr({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return us.create(this,this._def)}nullable(){return lA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dr.create(this)}promise(){return sl.create(this,this._def)}or(e){return Vu.create([this,e],this._def)}and(e){return Hu.create(this,e,this._def)}transform(e){return new Hr({...be(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Wu({...be(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new TC({typeName:we.ZodBranded,type:this,...be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new qu({...be(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Id.create(this,e)}readonly(){return Xu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YW=/^c[^\s-]{8,}$/i,JW=/^[0-9a-z]+$/,ZW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tq=/^[a-z0-9_-]{21}$/i,nq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let M0;const Aq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,oq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,v4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dq=new RegExp(`^${v4}$`);function w4(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function hq(t){return new RegExp(`^${w4(t)}$`)}function B4(t){let e=`${v4}T${w4(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function fq(t,e){return!!((e==="v4"||!e)&&Aq.test(t)||(e==="v6"||!e)&&oq.test(t))}function pq(t,e){if(!nq.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function gq(t,e){return!!((e==="v4"||!e)&&aq.test(t)||(e==="v6"||!e)&&lq.test(t))}class Qr extends Ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_type,expected:oe.string,received:i.parsedType}),Ee}const r=new bn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const A=e.data.length>i.value,a=e.data.length<i.value;(A||a)&&(s=this._getOrReturnCtx(e,s),A?re(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&re(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")sq.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")M0||(M0=new RegExp(iq,"u")),M0.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")eq.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")tq.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")YW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")JW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ZW.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),re(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?B4(i).test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?dq.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?hq(i).test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?rq.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?fq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?pq(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"jwt",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?gq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"cidr",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?cq.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?uq.test(e.data)||(s=this._getOrReturnCtx(e,s),re(s,{validation:"base64url",code:q.invalid_string,message:i.message}),r.dirty()):De.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...he.errToObj(r)})}_addCheck(e){return new Qr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...he.errToObj(e)})}url(e){return this._addCheck({kind:"url",...he.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...he.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...he.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...he.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...he.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...he.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...he.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...he.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...he.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...he.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...he.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...he.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...he.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...he.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...he.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...he.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...he.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...he.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...he.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...he.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...he.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...he.errToObj(n)})}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qr.create=t=>{var e;return new Qr({checks:[],typeName:we.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};function mq(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),A=parseInt(e.toFixed(s).replace(".",""));return i%A/Math.pow(10,s)}class AA extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_type,expected:oe.number,received:i.parsedType}),Ee}let r;const s=new bn;for(const i of this._def.checks)i.kind==="int"?De.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?mq(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),re(r,{code:q.not_finite,message:i.message}),s.dirty()):De.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,s){return new AA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(s)}]})}_addCheck(e){return new AA({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&De.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}AA.create=t=>new AA({checks:[],typeName:we.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class aA extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let r;const s=new bn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),re(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):De.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return re(n,{code:q.invalid_type,expected:oe.bigint,received:n.parsedType}),Ee}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,s){return new aA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(s)}]})}_addCheck(e){return new aA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}aA.create=t=>{var e;return new aA({checks:[],typeName:we.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};class ju extends Ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.boolean,received:r.parsedType}),Ee}return Pn(e.data)}}ju.create=t=>new ju({typeName:we.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class ha extends Ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_type,expected:oe.date,received:i.parsedType}),Ee}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return re(i,{code:q.invalid_date}),Ee}const r=new bn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),re(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):De.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ha({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ha.create=t=>new ha({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:we.ZodDate,...be(t)});class Dp extends Ie{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.symbol,received:r.parsedType}),Ee}return Pn(e.data)}}Dp.create=t=>new Dp({typeName:we.ZodSymbol,...be(t)});class Mu extends Ie{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.undefined,received:r.parsedType}),Ee}return Pn(e.data)}}Mu.create=t=>new Mu({typeName:we.ZodUndefined,...be(t)});class Ou extends Ie{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.null,received:r.parsedType}),Ee}return Pn(e.data)}}Ou.create=t=>new Ou({typeName:we.ZodNull,...be(t)});class rl extends Ie{constructor(){super(...arguments),this._any=!0}_parse(e){return Pn(e.data)}}rl.create=t=>new rl({typeName:we.ZodAny,...be(t)});class XA extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pn(e.data)}}XA.create=t=>new XA({typeName:we.ZodUnknown,...be(t)});class ni extends Ie{_parse(e){const n=this._getOrReturnCtx(e);return re(n,{code:q.invalid_type,expected:oe.never,received:n.parsedType}),Ee}}ni.create=t=>new ni({typeName:we.ZodNever,...be(t)});class Lp extends Ie{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.void,received:r.parsedType}),Ee}return Pn(e.data)}}Lp.create=t=>new Lp({typeName:we.ZodVoid,...be(t)});class Dr extends Ie{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return re(n,{code:q.invalid_type,expected:oe.array,received:n.parsedType}),Ee;if(s.exactLength!==null){const A=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(A||a)&&(re(n,{code:A?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:A?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(re(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(re(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((A,a)=>s.type._parseAsync(new gs(n,A,n.path,a)))).then(A=>bn.mergeArray(r,A));const i=[...n.data].map((A,a)=>s.type._parseSync(new gs(n,A,n.path,a)));return bn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Dr({...this._def,minLength:{value:e,message:he.toString(n)}})}max(e,n){return new Dr({...this._def,maxLength:{value:e,message:he.toString(n)}})}length(e,n){return new Dr({...this._def,exactLength:{value:e,message:he.toString(n)}})}nonempty(e){return this.min(1,e)}}Dr.create=(t,e)=>new Dr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...be(e)});function $a(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=us.create($a(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof Dr?new Dr({...t._def,type:$a(t.element)}):t instanceof us?us.create($a(t.unwrap())):t instanceof lA?lA.create($a(t.unwrap())):t instanceof ms?ms.create(t.items.map(e=>$a(e))):t}class dt extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=De.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==oe.object){const c=this._getOrReturnCtx(e);return re(c,{code:q.invalid_type,expected:oe.object,received:c.parsedType}),Ee}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:A}=this._getCached(),a=[];if(!(this._def.catchall instanceof ni&&this._def.unknownKeys==="strip"))for(const c in s.data)A.includes(c)||a.push(c);const o=[];for(const c of A){const u=i[c],h=s.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new gs(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ni){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)o.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(re(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=s.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new gs(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>bn.mergeObjectSync(r,c)):bn.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,A,a;const o=(A=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&A!==void 0?A:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=he.errToObj(e).message)!==null&&a!==void 0?a:o}:{message:o}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};return De.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}omit(e){const n={};return De.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}deepPartial(){return $a(this)}partial(e){const n={};return De.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new dt({...this._def,shape:()=>n})}required(e){const n={};return De.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof us;)i=i._def.innerType;n[r]=i}}),new dt({...this._def,shape:()=>n})}keyof(){return x4(De.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:ni.create(),typeName:we.ZodObject,...be(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:ni.create(),typeName:we.ZodObject,...be(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:ni.create(),typeName:we.ZodObject,...be(e)});class Vu extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const A=i.map(a=>new sr(a.ctx.common.issues));return re(n,{code:q.invalid_union,unionErrors:A}),Ee}if(n.common.async)return Promise.all(r.map(async i=>{const A={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:A}),ctx:A}})).then(s);{let i;const A=[];for(const o of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=o._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&A.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=A.map(o=>new sr(o));return re(n,{code:q.invalid_union,unionErrors:a}),Ee}}get options(){return this._def.options}}Vu.create=(t,e)=>new Vu({options:t,typeName:we.ZodUnion,...be(e)});const Us=t=>t instanceof zu?Us(t.schema):t instanceof Hr?Us(t.innerType()):t instanceof Gu?[t.value]:t instanceof oA?t.options:t instanceof $u?De.objectValues(t.enum):t instanceof Wu?Us(t._def.innerType):t instanceof Mu?[void 0]:t instanceof Ou?[null]:t instanceof us?[void 0,...Us(t.unwrap())]:t instanceof lA?[null,...Us(t.unwrap())]:t instanceof TC||t instanceof Xu?Us(t.unwrap()):t instanceof qu?Us(t._def.innerType):[];class um extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return re(n,{code:q.invalid_type,expected:oe.object,received:n.parsedType}),Ee;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(re(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const A=Us(i.shape[e]);if(!A.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of A){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new um({typeName:we.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...be(r)})}}function aw(t,e){const n=Ns(t),r=Ns(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=De.objectKeys(e),i=De.objectKeys(t).filter(a=>s.indexOf(a)!==-1),A={...t,...e};for(const a of i){const o=aw(t[a],e[a]);if(!o.valid)return{valid:!1};A[a]=o.data}return{valid:!0,data:A}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const A=t[i],a=e[i],o=aw(A,a);if(!o.valid)return{valid:!1};s.push(o.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Hu extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,A)=>{if(iw(i)||iw(A))return Ee;const a=aw(i.value,A.value);return a.valid?((Aw(i)||Aw(A))&&n.dirty(),{status:n.value,value:a.data}):(re(r,{code:q.invalid_intersection_types}),Ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,A])=>s(i,A)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Hu.create=(t,e,n)=>new Hu({left:t,right:e,typeName:we.ZodIntersection,...be(n)});class ms extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return re(r,{code:q.invalid_type,expected:oe.array,received:r.parsedType}),Ee;if(r.data.length<this._def.items.length)return re(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&r.data.length>this._def.items.length&&(re(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((A,a)=>{const o=this._def.items[a]||this._def.rest;return o?o._parse(new gs(r,A,r.path,a)):null}).filter(A=>!!A);return r.common.async?Promise.all(i).then(A=>bn.mergeArray(n,A)):bn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ms({...this._def,rest:e})}}ms.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ms({items:t,typeName:we.ZodTuple,rest:null,...be(e)})};class Ku extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return re(r,{code:q.invalid_type,expected:oe.object,received:r.parsedType}),Ee;const s=[],i=this._def.keyType,A=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new gs(r,a,r.path,a)),value:A._parse(new gs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?bn.mergeObjectAsync(n,s):bn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ie?new Ku({keyType:e,valueType:n,typeName:we.ZodRecord,...be(r)}):new Ku({keyType:Qr.create(),valueType:e,typeName:we.ZodRecord,...be(n)})}}class jp extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return re(r,{code:q.invalid_type,expected:oe.map,received:r.parsedType}),Ee;const s=this._def.keyType,i=this._def.valueType,A=[...r.data.entries()].map(([a,o],c)=>({key:s._parse(new gs(r,a,r.path,[c,"key"])),value:i._parse(new gs(r,o,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const o of A){const c=await o.key,u=await o.value;if(c.status==="aborted"||u.status==="aborted")return Ee;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const o of A){const c=o.key,u=o.value;if(c.status==="aborted"||u.status==="aborted")return Ee;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}jp.create=(t,e,n)=>new jp({valueType:e,keyType:t,typeName:we.ZodMap,...be(n)});class fa extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return re(r,{code:q.invalid_type,expected:oe.set,received:r.parsedType}),Ee;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(re(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(re(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function A(o){const c=new Set;for(const u of o){if(u.status==="aborted")return Ee;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((o,c)=>i._parse(new gs(r,o,r.path,c)));return r.common.async?Promise.all(a).then(o=>A(o)):A(a)}min(e,n){return new fa({...this._def,minSize:{value:e,message:he.toString(n)}})}max(e,n){return new fa({...this._def,maxSize:{value:e,message:he.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}fa.create=(t,e)=>new fa({valueType:t,minSize:null,maxSize:null,typeName:we.ZodSet,...be(e)});class ko extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return re(n,{code:q.invalid_type,expected:oe.function,received:n.parsedType}),Ee;function r(a,o){return Rp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,kp(),nl].filter(c=>!!c),issueData:{code:q.invalid_arguments,argumentsError:o}})}function s(a,o){return Rp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,kp(),nl].filter(c=>!!c),issueData:{code:q.invalid_return_type,returnTypeError:o}})}const i={errorMap:n.common.contextualErrorMap},A=n.data;if(this._def.returns instanceof sl){const a=this;return Pn(async function(...o){const c=new sr([]),u=await a._def.args.parseAsync(o,i).catch(g=>{throw c.addIssue(r(o,g)),c}),h=await Reflect.apply(A,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(g=>{throw c.addIssue(s(h,g)),c})})}else{const a=this;return Pn(function(...o){const c=a._def.args.safeParse(o,i);if(!c.success)throw new sr([r(o,c.error)]);const u=Reflect.apply(A,this,c.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new sr([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ko({...this._def,args:ms.create(e).rest(XA.create())})}returns(e){return new ko({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ko({args:e||ms.create([]).rest(XA.create()),returns:n||XA.create(),typeName:we.ZodFunction,...be(r)})}}class zu extends Ie{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zu.create=(t,e)=>new zu({getter:t,typeName:we.ZodLazy,...be(e)});class Gu extends Ie{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return re(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gu.create=(t,e)=>new Gu({value:t,typeName:we.ZodLiteral,...be(e)});function x4(t,e){return new oA({values:t,typeName:we.ZodEnum,...be(e)})}class oA extends Ie{constructor(){super(...arguments),gc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{expected:De.joinValues(r),received:n.parsedType,code:q.invalid_type}),Ee}if(Pp(this,gc)||y4(this,gc,new Set(this._def.values)),!Pp(this,gc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return re(n,{received:n.data,code:q.invalid_enum_value,options:r}),Ee}return Pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return oA.create(e,{...this._def,...n})}exclude(e,n=this._def){return oA.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}gc=new WeakMap;oA.create=x4;class $u extends Ie{constructor(){super(...arguments),mc.set(this,void 0)}_parse(e){const n=De.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=De.objectValues(n);return re(r,{expected:De.joinValues(s),received:r.parsedType,code:q.invalid_type}),Ee}if(Pp(this,mc)||y4(this,mc,new Set(De.getValidEnumValues(this._def.values))),!Pp(this,mc).has(e.data)){const s=De.objectValues(n);return re(r,{received:r.data,code:q.invalid_enum_value,options:s}),Ee}return Pn(e.data)}get enum(){return this._def.values}}mc=new WeakMap;$u.create=(t,e)=>new $u({values:t,typeName:we.ZodNativeEnum,...be(e)});class sl extends Ie{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return re(n,{code:q.invalid_type,expected:oe.promise,received:n.parsedType}),Ee;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return Pn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}sl.create=(t,e)=>new sl({type:t,typeName:we.ZodPromise,...be(e)});class Hr extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:A=>{re(r,A),A.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const A=s.transform(r.data,i);if(r.common.async)return Promise.resolve(A).then(async a=>{if(n.value==="aborted")return Ee;const o=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return o.status==="aborted"?Ee:o.status==="dirty"||n.value==="dirty"?mo(o.value):o});{if(n.value==="aborted")return Ee;const a=this._def.schema._parseSync({data:A,path:r.path,parent:r});return a.status==="aborted"?Ee:a.status==="dirty"||n.value==="dirty"?mo(a.value):a}}if(s.type==="refinement"){const A=a=>{const o=s.refinement(a,i);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),A(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),A(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const A=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!da(A))return A;const a=s.transform(A.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(A=>da(A)?Promise.resolve(s.transform(A.value,i)).then(a=>({status:n.value,value:a})):A);De.assertNever(s)}}Hr.create=(t,e,n)=>new Hr({schema:t,typeName:we.ZodEffects,effect:e,...be(n)});Hr.createWithPreprocess=(t,e,n)=>new Hr({schema:e,effect:{type:"preprocess",transform:t},typeName:we.ZodEffects,...be(n)});class us extends Ie{_parse(e){return this._getType(e)===oe.undefined?Pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}us.create=(t,e)=>new us({innerType:t,typeName:we.ZodOptional,...be(e)});class lA extends Ie{_parse(e){return this._getType(e)===oe.null?Pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}lA.create=(t,e)=>new lA({innerType:t,typeName:we.ZodNullable,...be(e)});class Wu extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wu.create=(t,e)=>new Wu({innerType:t,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class qu extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Lu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}qu.create=(t,e)=>new qu({innerType:t,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class Mp extends Ie{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return re(r,{code:q.invalid_type,expected:oe.nan,received:r.parsedType}),Ee}return{status:"valid",value:e.data}}}Mp.create=t=>new Mp({typeName:we.ZodNaN,...be(t)});const yq=Symbol("zod_brand");class TC extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Id extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ee:i.status==="dirty"?(n.dirty(),mo(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ee:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Id({in:e,out:n,typeName:we.ZodPipeline})}}class Xu extends Ie{_parse(e){const n=this._def.innerType._parse(e),r=s=>(da(s)&&(s.value=Object.freeze(s.value)),s);return Lu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Xu.create=(t,e)=>new Xu({innerType:t,typeName:we.ZodReadonly,...be(e)});function C4(t,e={},n){return t?rl.create().superRefine((r,s)=>{var i,A;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,o=(A=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&A!==void 0?A:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:o})}}):rl.create()}const vq={object:dt.lazycreate};var we;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(we||(we={}));const wq=(t,e={message:`Input not instance of ${t.name}`})=>C4(n=>n instanceof t,e),E4=Qr.create,_4=AA.create,Bq=Mp.create,xq=aA.create,b4=ju.create,Cq=ha.create,Eq=Dp.create,_q=Mu.create,bq=Ou.create,Tq=rl.create,Iq=XA.create,Uq=ni.create,Fq=Lp.create,Sq=Dr.create,Nq=dt.create,Qq=dt.strictCreate,kq=Vu.create,Rq=um.create,Pq=Hu.create,Dq=ms.create,Lq=Ku.create,jq=jp.create,Mq=fa.create,Oq=ko.create,Vq=zu.create,Hq=Gu.create,Kq=oA.create,zq=$u.create,Gq=sl.create,aI=Hr.create,$q=us.create,Wq=lA.create,qq=Hr.createWithPreprocess,Xq=Id.create,Yq=()=>E4().optional(),Jq=()=>_4().optional(),Zq=()=>b4().optional(),eX={string:t=>Qr.create({...t,coerce:!0}),number:t=>AA.create({...t,coerce:!0}),boolean:t=>ju.create({...t,coerce:!0}),bigint:t=>aA.create({...t,coerce:!0}),date:t=>ha.create({...t,coerce:!0})},tX=Ee;var Mn=Object.freeze({__proto__:null,defaultErrorMap:nl,setErrorMap:qW,getErrorMap:kp,makeIssue:Rp,EMPTY_PATH:XW,addIssueToContext:re,ParseStatus:bn,INVALID:Ee,DIRTY:mo,OK:Pn,isAborted:iw,isDirty:Aw,isValid:da,isAsync:Lu,get util(){return De},get objectUtil(){return sw},ZodParsedType:oe,getParsedType:Ns,ZodType:Ie,datetimeRegex:B4,ZodString:Qr,ZodNumber:AA,ZodBigInt:aA,ZodBoolean:ju,ZodDate:ha,ZodSymbol:Dp,ZodUndefined:Mu,ZodNull:Ou,ZodAny:rl,ZodUnknown:XA,ZodNever:ni,ZodVoid:Lp,ZodArray:Dr,ZodObject:dt,ZodUnion:Vu,ZodDiscriminatedUnion:um,ZodIntersection:Hu,ZodTuple:ms,ZodRecord:Ku,ZodMap:jp,ZodSet:fa,ZodFunction:ko,ZodLazy:zu,ZodLiteral:Gu,ZodEnum:oA,ZodNativeEnum:$u,ZodPromise:sl,ZodEffects:Hr,ZodTransformer:Hr,ZodOptional:us,ZodNullable:lA,ZodDefault:Wu,ZodCatch:qu,ZodNaN:Mp,BRAND:yq,ZodBranded:TC,ZodPipeline:Id,ZodReadonly:Xu,custom:C4,Schema:Ie,ZodSchema:Ie,late:vq,get ZodFirstPartyTypeKind(){return we},coerce:eX,any:Tq,array:Sq,bigint:xq,boolean:b4,date:Cq,discriminatedUnion:Rq,effect:aI,enum:Kq,function:Oq,instanceof:wq,intersection:Pq,lazy:Vq,literal:Hq,map:jq,nan:Bq,nativeEnum:zq,never:Uq,null:bq,nullable:Wq,number:_4,object:Nq,oboolean:Zq,onumber:Jq,optional:$q,ostring:Yq,pipeline:Xq,preprocess:qq,promise:Gq,record:Lq,set:Mq,strictObject:Qq,string:E4,symbol:Eq,transformer:aI,tuple:Dq,undefined:_q,union:kq,unknown:Iq,void:Fq,NEVER:tX,ZodIssueCode:q,quotelessJson:WW,ZodError:sr});const O0={clientId:"164337596330-todg1eiufp3sb6h4aotrnq6srh06a478.apps.googleusercontent.com",clientSecret:"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",redirectUri:`${window.location.origin}/calendar/callback`,scopes:["https://www.googleapis.com/auth/calendar.events"]},ow={defaultDuration:60,defaultReminder:60,timeZone:"Europe/Rome"};function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function ar(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ke(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function xt(t){Ke(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Op(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Vp(t,e){Ke(2,arguments);var n=xt(t),r=ar(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var A=i.getDate();return s>=A?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function T4(t,e){Ke(2,arguments);var n=xt(t).getTime(),r=ar(e);return new Date(n+r)}var nX={};function dm(){return nX}function lw(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function cw(t){Ke(1,arguments);var e=xt(t);return e.setHours(0,0,0,0),e}var rX=864e5;function sX(t,e){Ke(2,arguments);var n=cw(t),r=cw(e),s=n.getTime()-lw(n),i=r.getTime()-lw(r);return Math.round((s-i)/rX)}var iX=6e4;function I4(t,e){Ke(2,arguments);var n=ar(e);return T4(t,n*iX)}var IC=6e4,UC=36e5;function AX(t){return Ke(1,arguments),t instanceof Date||Op(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Hp(t){if(Ke(1,arguments),!AX(t)&&typeof t!="number")return!1;var e=xt(t);return!isNaN(Number(e))}function oI(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function U4(t,e){Ke(2,arguments);var n=xt(t),r=xt(e),s=oI(n,r),i=Math.abs(sX(n,r));n.setDate(n.getDate()-s*i);var A=+(oI(n,r)===-s),a=s*(i-A);return a===0?0:a}function FC(t,e){return Ke(2,arguments),xt(t).getTime()-xt(e).getTime()}var lI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},aX="trunc";function SC(t){return t?lI[t]:lI[aX]}function oX(t,e,n){Ke(2,arguments);var r=FC(t,e)/UC;return SC(void 0)(r)}function lX(t,e,n){Ke(2,arguments);var r=FC(t,e)/IC;return SC(void 0)(r)}function cX(t,e,n){Ke(2,arguments);var r=FC(t,e)/1e3;return SC(void 0)(r)}function uX(t,e){Ke(2,arguments);var n=ar(e);return T4(t,-n)}var dX=864e5;function hX(t){Ke(1,arguments);var e=xt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/dX)+1}function Kp(t){Ke(1,arguments);var e=1,n=xt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function F4(t){Ke(1,arguments);var e=xt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Kp(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var A=Kp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=A.getTime()?n:n-1}function fX(t){Ke(1,arguments);var e=F4(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Kp(n);return r}var pX=6048e5;function gX(t){Ke(1,arguments);var e=xt(t),n=Kp(e).getTime()-fX(e).getTime();return Math.round(n/pX)+1}function il(t,e){var n,r,s,i,A,a,o,c;Ke(1,arguments);var u=dm(),h=ar((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=xt(t),g=f.getUTCDay(),m=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function S4(t,e){var n,r,s,i,A,a,o,c;Ke(1,arguments);var u=xt(t),h=u.getUTCFullYear(),f=dm(),g=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(o=f.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,g),m.setUTCHours(0,0,0,0);var y=il(m,e),E=new Date(0);E.setUTCFullYear(h,0,g),E.setUTCHours(0,0,0,0);var x=il(E,e);return u.getTime()>=y.getTime()?h+1:u.getTime()>=x.getTime()?h:h-1}function mX(t,e){var n,r,s,i,A,a,o,c;Ke(1,arguments);var u=dm(),h=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=S4(t,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var m=il(g,e);return m}var yX=6048e5;function vX(t,e){Ke(1,arguments);var n=xt(t),r=il(n,e).getTime()-mX(n,e).getTime();return Math.round(r/yX)+1}function $e(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var ui={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return $e(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$e(r+1,2)},d:function(e,n){return $e(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $e(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $e(e.getUTCHours(),n.length)},m:function(e,n){return $e(e.getUTCMinutes(),n.length)},s:function(e,n){return $e(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return $e(i,n.length)}},Da={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wX={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return ui.y(e,n)},Y:function(e,n,r,s){var i=S4(e,s),A=i>0?i:1-i;if(n==="YY"){var a=A%100;return $e(a,2)}return n==="Yo"?r.ordinalNumber(A,{unit:"year"}):$e(A,n.length)},R:function(e,n){var r=F4(e);return $e(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $e(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return $e(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return ui.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=vX(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):$e(i,n.length)},I:function(e,n,r){var s=gX(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):$e(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):ui.d(e,n)},D:function(e,n,r){var s=hX(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(A);case"ee":return $e(A,2);case"eo":return r.ordinalNumber(A,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(A);case"cc":return $e(A,n.length);case"co":return r.ordinalNumber(A,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return $e(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Da.noon:s===0?i=Da.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Da.evening:s>=12?i=Da.afternoon:s>=4?i=Da.morning:i=Da.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ui.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ui.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ui.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ui.s(e,n)},S:function(e,n){return ui.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();if(A===0)return"Z";switch(n){case"X":return uI(A);case"XXXX":case"XX":return RA(A);case"XXXXX":case"XXX":default:return RA(A,":")}},x:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"x":return uI(A);case"xxxx":case"xx":return RA(A);case"xxxxx":case"xxx":default:return RA(A,":")}},O:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cI(A,":");case"OOOO":default:return"GMT"+RA(A,":")}},z:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cI(A,":");case"zzzz":default:return"GMT"+RA(A,":")}},t:function(e,n,r,s){var i=s._originalDate||e,A=Math.floor(i.getTime()/1e3);return $e(A,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,A=i.getTime();return $e(A,n.length)}};function cI(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var A=e;return n+String(s)+A+$e(i,2)}function uI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$e(Math.abs(t)/60,2)}return RA(t,e)}function RA(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=$e(Math.floor(s/60),2),A=$e(s%60,2);return r+i+n+A}var dI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},N4=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},BX=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return dI(e,n);var A;switch(s){case"P":A=n.dateTime({width:"short"});break;case"PP":A=n.dateTime({width:"medium"});break;case"PPP":A=n.dateTime({width:"long"});break;case"PPPP":default:A=n.dateTime({width:"full"});break}return A.replace("{{date}}",dI(s,n)).replace("{{time}}",N4(i,n))},xX={p:N4,P:BX},CX=["D","DD"],EX=["YY","YYYY"];function _X(t){return CX.indexOf(t)!==-1}function bX(t){return EX.indexOf(t)!==-1}function hI(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var TX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IX=function(e,n,r){var s,i=TX[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Ro(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var UX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},SX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NX={date:Ro({formats:UX,defaultWidth:"full"}),time:Ro({formats:FX,defaultWidth:"full"}),dateTime:Ro({formats:SX,defaultWidth:"full"})},QX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kX=function(e,n,r,s){return QX[e]};function Zr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,A=n!=null&&n.width?String(n.width):i;s=t.formattingValues[A]||t.formattingValues[i]}else{var a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var RX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},MX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OX=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},VX={ordinalNumber:OX,era:Zr({values:RX,defaultWidth:"wide"}),quarter:Zr({values:PX,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Zr({values:DX,defaultWidth:"wide"}),day:Zr({values:LX,defaultWidth:"wide"}),dayPeriod:Zr({values:jX,defaultWidth:"wide",formattingValues:MX,defaultFormattingWidth:"wide"})};function es(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var A=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?KX(a,function(h){return h.test(A)}):HX(a,function(h){return h.test(A)}),c;c=t.valueCallback?t.valueCallback(o):o,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(A.length);return{value:c,rest:u}}}function HX(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function KX(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Q4(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var A=t.valueCallback?t.valueCallback(i[0]):i[0];A=n.valueCallback?n.valueCallback(A):A;var a=e.slice(s.length);return{value:A,rest:a}}}var zX=/^(\d+)(th|st|nd|rd)?/i,GX=/\d+/i,$X={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WX={any:[/^b/i,/^(a|c)/i]},qX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XX={any:[/1/i,/2/i,/3/i,/4/i]},YX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rY={ordinalNumber:Q4({matchPattern:zX,parsePattern:GX,valueCallback:function(e){return parseInt(e,10)}}),era:es({matchPatterns:$X,defaultMatchWidth:"wide",parsePatterns:WX,defaultParseWidth:"any"}),quarter:es({matchPatterns:qX,defaultMatchWidth:"wide",parsePatterns:XX,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:es({matchPatterns:YX,defaultMatchWidth:"wide",parsePatterns:JX,defaultParseWidth:"any"}),day:es({matchPatterns:ZX,defaultMatchWidth:"wide",parsePatterns:eY,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:tY,defaultMatchWidth:"any",parsePatterns:nY,defaultParseWidth:"any"})},sY={code:"en-US",formatDistance:IX,formatLong:NX,formatRelative:kX,localize:VX,match:rY,options:{weekStartsOn:0,firstWeekContainsDate:1}},iY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aY=/^'([^]*?)'?$/,oY=/''/g,lY=/[a-zA-Z]/;function et(t,e,n){var r,s,i,A,a,o,c,u,h,f,g,m,y,E,x,v,w,F;Ke(2,arguments);var T=String(e),Q=dm(),b=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:Q.locale)!==null&&r!==void 0?r:sY,C=ar((i=(A=(a=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:Q.firstWeekContainsDate)!==null&&A!==void 0?A:(h=Q.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=ar((g=(m=(y=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:Q.weekStartsOn)!==null&&m!==void 0?m:(w=Q.locale)===null||w===void 0||(F=w.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&g!==void 0?g:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var U=xt(t);if(!Hp(U))throw new RangeError("Invalid time value");var k=lw(U),R=uX(U,k),S={firstWeekContainsDate:C,weekStartsOn:_,locale:b,_originalDate:U},ee=T.match(AY).map(function(Ae){var K=Ae[0];if(K==="p"||K==="P"){var J=xX[K];return J(Ae,b.formatLong)}return Ae}).join("").match(iY).map(function(Ae){if(Ae==="''")return"'";var K=Ae[0];if(K==="'")return cY(Ae);var J=wX[K];if(J)return!(n!=null&&n.useAdditionalWeekYearTokens)&&bX(Ae)&&hI(Ae,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&_X(Ae)&&hI(Ae,e,String(t)),J(R,Ae,b.localize,S);if(K.match(lY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");return Ae}).join("");return ee}function cY(t){var e=t.match(aY);return e?e[1].replace(oY,"'"):t}function V0(t,e){Ke(2,arguments);var n=xt(t),r=xt(e);return n.getTime()<r.getTime()}function uY(t,e){Ke(2,arguments);var n=xt(t),r=xt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function H0(t,e){var n;Ke(1,arguments);var r=ar((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=pY(t),i;if(s.date){var A=gY(s.date,r);i=mY(A.restDateString,A.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),o=0,c;if(s.time&&(o=yY(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(c=vY(s.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+o+c)}var _h={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pY(t){var e={},n=t.split(_h.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],_h.timeZoneDelimiter.test(e.date)&&(e.date=t.split(_h.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=_h.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function gY(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function mY(t,e){if(e===null)return new Date(NaN);var n=t.match(dY);if(!n)return new Date(NaN);var r=!!n[4],s=Jl(n[1]),i=Jl(n[2])-1,A=Jl(n[3]),a=Jl(n[4]),o=Jl(n[5])-1;if(r)return EY(e,a,o)?wY(e,a,o):new Date(NaN);var c=new Date(0);return!xY(e,i,A)||!CY(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,A)),c)}function Jl(t){return t?parseInt(t):1}function yY(t){var e=t.match(hY);if(!e)return NaN;var n=K0(e[1]),r=K0(e[2]),s=K0(e[3]);return _Y(n,r,s)?n*UC+r*IC+s*1e3:NaN}function K0(t){return t&&parseFloat(t.replace(",","."))||0}function vY(t){if(t==="Z")return 0;var e=t.match(fY);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return bY(r,s)?n*(r*UC+s*IC):NaN}function wY(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var BY=[31,null,31,30,31,30,31,31,30,31,30,31];function k4(t){return t%400===0||t%4===0&&t%100!==0}function xY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(BY[e]||(k4(t)?29:28))}function CY(t,e){return e>=1&&e<=(k4(t)?366:365)}function EY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function _Y(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function bY(t,e){return e>=0&&e<=59}function zp(t,e){Ke(2,arguments);var n=xt(t),r=ar(e);return n.setHours(r),n}function Gp(t,e){Ke(2,arguments);var n=xt(t),r=ar(e);return n.setMinutes(r),n}function fI(){return cw(Date.now())}function TY(t,e){Ke(2,arguments);var n=ar(e);return Vp(t,-n)}const IY=async(t,e)=>{try{const r=(await Or(Ve(me,"users",t))).data();if(!(r!=null&&r.googleCalendarToken))throw new Error("Token Google Calendar non trovato");const s={summary:e.summary,description:e.description,start:{dateTime:e.startTime.toISOString(),timeZone:ow.timeZone},end:{dateTime:e.endTime.toISOString(),timeZone:ow.timeZone},location:e.location,reminders:{useDefault:!0}},i=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${r.googleCalendarToken}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error("Errore durante l'aggiunta dell'evento al calendario");return await i.json()}catch(n){throw console.error("Error adding event to Google Calendar:",n),n}},UY=async(t,e)=>{try{const n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:t,client_id:O0.clientId,client_secret:O0.clientSecret,redirect_uri:O0.redirectUri,grant_type:"authorization_code"})});if(!n.ok)throw new Error("Errore durante lo scambio del codice di autorizzazione");const r=await n.json();return await qg(Ve(me,"users",e),{googleCalendarToken:r.access_token,googleCalendarRefreshToken:r.refresh_token,calendarConnected:!0,updatedAt:Kn()},{merge:!0}),!0}catch(n){throw console.error("Error handling Google Calendar callback:",n),n}},FY=(t,e,n,r,s)=>{const i=f=>et(f,"yyyyMMdd'T'HHmmss"),A=new URLSearchParams({action:"TEMPLATE",text:t,details:e,location:"",dates:`${i(n)}/${i(r)}`,ctz:ow.timeZone}),a=et(n,"yyyyMMdd'T'HHmmss'Z'"),o=et(r,"yyyyMMdd'T'HHmmss'Z'"),c=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",`DTSTART:${a}`,`DTEND:${o}`,`SUMMARY:${t}`,`DESCRIPTION:${e}`,"","END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`
`),u=new Blob([c],{type:"text/calendar;charset=utf-8"}),h=URL.createObjectURL(u);return{google:`https://calendar.google.com/calendar/render?${A.toString()}`,ical:h}},SY=t=>t.replace(/\D/g,""),NY=t=>`https://wa.me/39${t.replace(/\D/g,"")}`,QY=t=>{const e=t.replace(/\D/g,"");return!(e.length<9||e.length>10)};function pI(t,e,n){Ke(2,arguments);var r=il(t,n),s=il(e,n);return r.getTime()===s.getTime()}var kY={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},RY=function(e,n,r){var s,i=kY[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+s:s+" fa":s},PY={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},DY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},LY={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},jY={date:Ro({formats:PY,defaultWidth:"full"}),time:Ro({formats:DY,defaultWidth:"full"}),dateTime:Ro({formats:LY,defaultWidth:"full"})},NC=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"];function MY(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+NC[t]+" scorso alle' p"}}function gI(t){return"'"+NC[t]+" alle' p"}function OY(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+NC[t]+" prossimo alle' p"}}var VY={lastWeek:function(e,n,r){var s=e.getUTCDay();return pI(e,n,r)?gI(s):MY(s)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,n,r){var s=e.getUTCDay();return pI(e,n,r)?gI(s):OY(s)},other:"P"},HY=function(e,n,r,s){var i=VY[e];return typeof i=="function"?i(n,r,s):i},KY={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},zY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},GY={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},$Y={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"]},WY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},qY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},XY=function(e,n){var r=Number(e);return String(r)},YY={ordinalNumber:XY,era:Zr({values:KY,defaultWidth:"wide"}),quarter:Zr({values:zY,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Zr({values:GY,defaultWidth:"wide"}),day:Zr({values:$Y,defaultWidth:"wide"}),dayPeriod:Zr({values:WY,defaultWidth:"wide",formattingValues:qY,defaultFormattingWidth:"wide"})},JY=/^(\d+)(º)?/i,ZY=/\d+/i,eJ={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},tJ={any:[/^a/i,/^(d|e)/i]},nJ={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](º)? trimestre/i},rJ={any:[/1/i,/2/i,/3/i,/4/i]},sJ={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},iJ={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},AJ={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i},aJ={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},oJ={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},lJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},cJ={ordinalNumber:Q4({matchPattern:JY,parsePattern:ZY,valueCallback:function(e){return parseInt(e,10)}}),era:es({matchPatterns:eJ,defaultMatchWidth:"wide",parsePatterns:tJ,defaultParseWidth:"any"}),quarter:es({matchPatterns:nJ,defaultMatchWidth:"wide",parsePatterns:rJ,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:es({matchPatterns:sJ,defaultMatchWidth:"wide",parsePatterns:iJ,defaultParseWidth:"any"}),day:es({matchPatterns:AJ,defaultMatchWidth:"wide",parsePatterns:aJ,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:oJ,defaultMatchWidth:"any",parsePatterns:lJ,defaultParseWidth:"any"})},ys={code:"it",formatDistance:RY,formatLong:jY,formatRelative:HY,localize:YY,match:cJ,options:{weekStartsOn:1,firstWeekContainsDate:4}};const R4="settings",$p="event-settings",bh={id:$p,eventName:"Carnevale Cinematografico",countdownDate:"2024-03-04T09:00:00",showCountdown:!0,bookingIntervals:30,maxBookingsPerDay:20,startTime:"09:00",endTime:"18:00",serviceTypes:[{id:"carnival",name:"Carnevale",enabled:!0,duration:30,bookingStartDate:"2024-03-04",bookingEndDate:"2024-03-31",excludedDays:[0],excludedDates:[]}],breakTimes:[{start:"13:00",end:"14:00",enabled:!0}],bookingStatuses:[{id:"pending",name:"In attesa",color:"#FFA500",enabled:!0},{id:"confirmed",name:"Confermato",color:"#10B981",enabled:!0},{id:"cancelled",name:"Cancellato",color:"#EF4444",enabled:!0}],products:[],company:{name:"Image Studio",logo:"",address:"Via Quinto Orazio Flacco 5, Aversa",phone:"",email:"",website:"",socialLinks:{}},animation:{enabled:!0,title:"Carnevale 2025",subtitle:"3... 2... 1...",type:"curtain",ticketStampType:"classic"},social:{image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819",title:"Carnevale Cinematografico 2025",description:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025",url:"https://gennaromazzacane.it/carnival2025"},ticketTemplate:{type:"classic",enabled:!0},whatsappTemplate:{header:`*🎭 CARNEVALE CINEMATOGRAFICO*

*👤 CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

*📝 PRODOTTI ORDINATI*`,productFormat:`{index}. {productName}
   Quantità: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`*💳 ACCONTI VERSATI*
{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
📍 {address}
📞 Per assistenza: {phone}`}},Wp=async t=>{try{const e=Ve(me,R4,$p);await qg(e,{...t,id:$p},{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},uJ=t=>{const e=Ve(me,R4,$p);return yl(e,r=>{if(r.exists()){const s=r.data();t({...bh,...s,company:{...bh.company,...s.company||{}},whatsappTemplate:{...bh.whatsappTemplate,...s.whatsappTemplate||{}}})}else t(bh)},r=>{console.error("Error observing settings:",r)})},wA=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(!1);I.useEffect(()=>{r(!0);const u=uJ(h=>{e(h),r(!1),i(null)});return()=>u()},[]);const o=I.useCallback(async u=>{if(t){a(!0),i(null);try{await Wp(u)}catch(h){throw console.error("Error updating settings:",h),i("Errore durante l'aggiornamento delle impostazioni"),h}finally{a(!1)}}},[t]),c=I.useCallback(()=>{i(null)},[]);return{settings:t,loading:n,error:s,saving:A,updateSettings:o,resetError:c}},dJ=({selectedDate:t,selectedTime:e,selectedService:n,onSlotSelect:r})=>{var F;const{settings:s,loading:i}=wA(),[A,a]=I.useState(new Date),[o,c]=I.useState({}),[u,h]=I.useState(!0),[f,g]=I.useState(null);I.useEffect(()=>{if(s&&!i){const T=s.serviceTypes.find(Q=>Q.enabled);if(T!=null&&T.bookingStartDate){const Q=H0(T.bookingStartDate),b=fI();a(V0(Q,b)?b:Q)}h(!1)}},[s,i]),I.useEffect(()=>{if(t&&s){const T=E(t),Q=et(t,"yyyy-MM-dd");c(b=>({...b,[Q]:T}))}},[t,s,n]);const m=T=>{var _,U;if(!s)return!0;const Q=s.serviceTypes.find(k=>k.id===n||k.enabled);if(!Q)return!0;if(Q.bookingStartDate&&Q.bookingEndDate){const k=H0(Q.bookingStartDate),R=H0(Q.bookingEndDate);if(V0(T,k)||T>R)return!0}const b=et(T,"yyyy-MM-dd");if((_=Q.excludedDates)!=null&&_.includes(b))return!0;const C=T.getDay();return((U=Q.excludedDays)==null?void 0:U.includes(C))||!1},y=T=>{if(!(s!=null&&s.breakTimes))return!1;const[Q,b]=T.split(":").map(Number),C=new Date;return C.setHours(Q,b,0,0),s.breakTimes.some(_=>{if(!_.enabled)return!1;const[U,k]=_.start.split(":").map(Number),[R,S]=_.end.split(":").map(Number),ee=new Date;ee.setHours(U,k,0,0);const Ae=new Date;return Ae.setHours(R,S,0,0),C>=ee&&C<Ae})},E=T=>{if(!s||m(T))return[];const Q=[],[b,C=0]=s.startTime.split(":").map(Number),[_,U=0]=s.endTime.split(":").map(Number),k=s.serviceTypes.find(Ae=>Ae.id===n||Ae.enabled),R=(k==null?void 0:k.duration)||s.bookingIntervals||30;let S=zp(Gp(new Date(T),C),b);const ee=zp(Gp(new Date(T),U),_);for(;S<ee;){const Ae=et(S,"HH:mm");y(Ae)||Q.push(Ae),S=I4(S,R)}return Q},x=T=>{if(m(T))return;const Q=new Date(Date.UTC(T.getFullYear(),T.getMonth(),T.getDate())),b=E(Q);b.length!==0&&r(Q,b[0])},v=T=>{t&&r(t,T)},w=Array.from({length:42},(T,Q)=>{const b=new Date(A.getFullYear(),A.getMonth(),1),_=(b.getDay()+6)%7;return b.setDate(1-_+Q),b});return u||i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:"⌛"}),"Caricamento calendario..."]})}):l.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>a(T=>TY(T,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(em,{size:20})}),l.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(Cn,{className:"w-5 h-5 text-[--theater-gold]"}),et(A,"MMMM yyyy",{locale:ys})]}),l.jsx("button",{onClick:()=>a(T=>Vp(T,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(Fu,{size:20})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(T=>l.jsx("div",{className:"text-center text-gray-400 text-sm py-2 font-medium",children:T},T))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:w.map((T,Q)=>{const b=et(T,"yyyy-MM-dd"),C=m(T),_=E(T),U=_.length>0,k=t&&et(t,"yyyy-MM-dd")===b,R=V0(T,fI()),S=C||R||!U,ee=f&&et(f,"yyyy-MM-dd")===b;return l.jsxs(z.button,{onClick:()=>!S&&x(T),onMouseEnter:()=>g(T),onMouseLeave:()=>g(null),disabled:S,whileHover:S?void 0:{scale:1.05},whileTap:S?void 0:{scale:.95},className:`
                  relative p-3 rounded-lg text-center transition-all duration-200
                  ${uY(T,A)?"":"opacity-40"}
                  ${k?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":ee&&!S?"bg-gray-700 text-white shadow-md":S?"bg-gray-800 text-gray-500 cursor-not-allowed":U?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-500"}
                `,children:[l.jsx("span",{className:"relative z-10 font-medium",children:et(T,"d")}),C&&l.jsx(dc,{size:12,className:"absolute top-1 right-1 text-red-400"}),U&&!R&&!C&&l.jsx(z.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[...Array(Math.min(3,_.length))].map((Ae,K)=>l.jsx("div",{className:`w-1 h-1 rounded-full ${k?"bg-black":ee?"bg-white":"bg-[--theater-gold]"}`},K))})]},b)})}),l.jsx(qt,{children:t&&o[et(t,"yyyy-MM-dd")]&&l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 space-y-4",children:[l.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[l.jsx(ps,{className:"w-4 h-4 text-[--theater-gold]"}),"Orari disponibili per il ",et(t,"d MMMM yyyy",{locale:ys})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:(F=o[et(t,"yyyy-MM-dd")])==null?void 0:F.map(T=>l.jsxs(z.button,{onClick:()=>v(T),whileHover:{scale:1.05,backgroundColor:"var(--theater-gold)",color:"black",transition:{duration:.2}},whileTap:{scale:.95},className:`
                      relative p-3 rounded-lg text-center transition-all duration-200
                      ${e===T?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":"bg-gray-700 text-white hover:shadow-md"}
                    `,children:[T,e===T&&l.jsx(z.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:l.jsx(ln,{className:"w-3 h-3 text-white"})})]},T))})]})})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uw=function(t,e){return uw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},uw(t,e)};function Gr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");uw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var dw=function(){return dw=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dw.apply(this,arguments)};function Un(t,e,n,r){function s(i){return i instanceof n?i:new n(function(A){A(i)})}return new(n||(n=Promise))(function(i,A){function a(u){try{c(r.next(u))}catch(h){A(h)}}function o(u){try{c(r.throw(u))}catch(h){A(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,o)}c((r=r.apply(t,[])).next())})}function mn(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(c){return function(u){return o([c,u])}}function o(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Th(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var ri=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),hm=function(t,e){return ri.fromClientRect(t,e.getBoundingClientRect())},hJ=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new ri(0,0,r,s)},fm=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},bt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},mI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ih=0;Ih<mI.length;Ih++)fJ[mI.charCodeAt(Ih)]=Ih;var yI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uh=0;Uh<yI.length;Uh++)yc[yI.charCodeAt(Uh)]=Uh;var pJ=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=yc[t.charCodeAt(r)],A=yc[t.charCodeAt(r+1)],a=yc[t.charCodeAt(r+2)],o=yc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return c},gJ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},mJ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},YA=5,QC=11,z0=2,yJ=QC-YA,P4=65536>>YA,vJ=1<<YA,G0=vJ-1,wJ=1024>>YA,BJ=P4+wJ,xJ=BJ,CJ=32,EJ=xJ+CJ,_J=65536>>QC,bJ=1<<yJ,TJ=bJ-1,vI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},IJ=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},UJ=function(t,e){var n=pJ(t),r=Array.isArray(n)?mJ(n):new Uint32Array(n),s=Array.isArray(n)?gJ(n):new Uint16Array(n),i=24,A=vI(s,i/2,r[4]/2),a=r[5]===2?vI(s,(i+r[4])/2):IJ(r,Math.ceil((i+r[4])/4));return new FJ(r[0],r[1],r[2],r[3],A,a)},FJ=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>YA],n=(n<<z0)+(e&G0),this.data[n];if(e<=65535)return n=this.index[P4+(e-55296>>YA)],n=(n<<z0)+(e&G0),this.data[n];if(e<this.highStart)return n=EJ-_J+(e>>QC),n=this.index[n],n+=e>>YA&TJ,n=this.index[n],n=(n<<z0)+(e&G0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),wI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",SJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fh=0;Fh<wI.length;Fh++)SJ[wI.charCodeAt(Fh)]=Fh;var NJ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",BI=50,QJ=1,D4=2,L4=3,kJ=4,RJ=5,xI=7,j4=8,CI=9,Si=10,hw=11,EI=12,fw=13,PJ=14,vc=15,pw=16,Sh=17,Zl=18,DJ=19,_I=20,gw=21,ec=22,$0=23,La=24,Xn=25,wc=26,Bc=27,ja=28,LJ=29,PA=30,jJ=31,Nh=32,Qh=33,mw=34,yw=35,vw=36,Yu=37,ww=38,bf=39,Tf=40,W0=41,M4=42,MJ=43,OJ=[9001,65288],O4="!",Fe="×",kh="÷",Bw=UJ(NJ),Ts=[PA,vw],xw=[QJ,D4,L4,RJ],V4=[Si,j4],bI=[Bc,wc],VJ=xw.concat(V4),TI=[ww,bf,Tf,mw,yw],HJ=[vc,fw],KJ=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,A){var a=Bw.get(i);if(a>BI?(s.push(!0),a-=BI):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(A),n.push(pw);if(a===kJ||a===hw){if(A===0)return r.push(A),n.push(PA);var o=n[A-1];return VJ.indexOf(o)===-1?(r.push(r[A-1]),n.push(o)):(r.push(A),n.push(PA))}if(r.push(A),a===jJ)return n.push(e==="strict"?gw:Yu);if(a===M4||a===LJ)return n.push(PA);if(a===MJ)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(Yu):n.push(PA);n.push(a)}),[r,n,s]},q0=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var A=r[i];if(A===e)return!0;if(A!==Si)break}if(s===Si)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===e)return!0;if(A!==Si)break}if(a!==Si)break}return!1},II=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Si)n--;else return r}return 0},zJ=function(t,e,n,r,s){if(n[r]===0)return Fe;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Fe;var A=i-1,a=i+1,o=e[i],c=A>=0?e[A]:0,u=e[a];if(o===D4&&u===L4)return Fe;if(xw.indexOf(o)!==-1)return O4;if(xw.indexOf(u)!==-1||V4.indexOf(u)!==-1)return Fe;if(II(i,e)===j4)return kh;if(Bw.get(t[i])===hw||(o===Nh||o===Qh)&&Bw.get(t[a])===hw||o===xI||u===xI||o===CI||[Si,fw,vc].indexOf(o)===-1&&u===CI||[Sh,Zl,DJ,La,ja].indexOf(u)!==-1||II(i,e)===ec||q0($0,ec,i,e)||q0([Sh,Zl],gw,i,e)||q0(EI,EI,i,e))return Fe;if(o===Si)return kh;if(o===$0||u===$0)return Fe;if(u===pw||o===pw)return kh;if([fw,vc,gw].indexOf(u)!==-1||o===PJ||c===vw&&HJ.indexOf(o)!==-1||o===ja&&u===vw||u===_I||Ts.indexOf(u)!==-1&&o===Xn||Ts.indexOf(o)!==-1&&u===Xn||o===Bc&&[Yu,Nh,Qh].indexOf(u)!==-1||[Yu,Nh,Qh].indexOf(o)!==-1&&u===wc||Ts.indexOf(o)!==-1&&bI.indexOf(u)!==-1||bI.indexOf(o)!==-1&&Ts.indexOf(u)!==-1||[Bc,wc].indexOf(o)!==-1&&(u===Xn||[ec,vc].indexOf(u)!==-1&&e[a+1]===Xn)||[ec,vc].indexOf(o)!==-1&&u===Xn||o===Xn&&[Xn,ja,La].indexOf(u)!==-1)return Fe;if([Xn,ja,La,Sh,Zl].indexOf(u)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Xn)return Fe;if([ja,La].indexOf(f)!==-1)h--;else break}if([Bc,wc].indexOf(u)!==-1)for(var h=[Sh,Zl].indexOf(o)!==-1?A:i;h>=0;){var f=e[h];if(f===Xn)return Fe;if([ja,La].indexOf(f)!==-1)h--;else break}if(ww===o&&[ww,bf,mw,yw].indexOf(u)!==-1||[bf,mw].indexOf(o)!==-1&&[bf,Tf].indexOf(u)!==-1||[Tf,yw].indexOf(o)!==-1&&u===Tf||TI.indexOf(o)!==-1&&[_I,wc].indexOf(u)!==-1||TI.indexOf(u)!==-1&&o===Bc||Ts.indexOf(o)!==-1&&Ts.indexOf(u)!==-1||o===La&&Ts.indexOf(u)!==-1||Ts.concat(Xn).indexOf(o)!==-1&&u===ec&&OJ.indexOf(t[a])===-1||Ts.concat(Xn).indexOf(u)!==-1&&o===Zl)return Fe;if(o===W0&&u===W0){for(var g=n[i],m=1;g>0&&(g--,e[g]===W0);)m++;if(m%2!==0)return Fe}return o===Nh&&u===Qh?Fe:kh},GJ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=KJ(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Xn,PA,M4].indexOf(a)!==-1?Yu:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[r,s,A]},$J=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===O4,this.start=r,this.end=s}return t.prototype.slice=function(){return bt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),WJ=function(t,e){var n=fm(t),r=GJ(n,e),s=r[0],i=r[1],A=r[2],a=n.length,o=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=Fe;c<a&&(u=zJ(n,i,s,++c,A))===Fe;);if(u!==Fe||c===a){var h=new $J(n,u,o,c);return o=c,{value:h,done:!1}}return{done:!0,value:null}}}},qJ=1,XJ=2,Ud=4,UI=8,qp=10,FI=47,Wc=92,YJ=9,JJ=32,Rh=34,tc=61,ZJ=35,eZ=36,tZ=37,Ph=39,Dh=40,nc=41,nZ=95,On=45,rZ=33,sZ=60,iZ=62,AZ=64,aZ=91,oZ=93,lZ=61,cZ=123,Lh=63,uZ=125,SI=124,dZ=126,hZ=128,NI=65533,X0=42,KA=43,fZ=44,pZ=58,gZ=59,Ju=46,mZ=0,yZ=8,vZ=11,wZ=14,BZ=31,xZ=127,Wr=-1,H4=48,K4=97,z4=101,CZ=102,EZ=117,_Z=122,G4=65,$4=69,W4=70,bZ=85,TZ=90,wn=function(t){return t>=H4&&t<=57},IZ=function(t){return t>=55296&&t<=57343},Ma=function(t){return wn(t)||t>=G4&&t<=W4||t>=K4&&t<=CZ},UZ=function(t){return t>=K4&&t<=_Z},FZ=function(t){return t>=G4&&t<=TZ},SZ=function(t){return UZ(t)||FZ(t)},NZ=function(t){return t>=hZ},jh=function(t){return t===qp||t===YJ||t===JJ},Xp=function(t){return SZ(t)||NZ(t)||t===nZ},QI=function(t){return Xp(t)||wn(t)||t===On},QZ=function(t){return t>=mZ&&t<=yZ||t===vZ||t>=wZ&&t<=BZ||t===xZ},mi=function(t,e){return t!==Wc?!1:e!==qp},Mh=function(t,e,n){return t===On?Xp(e)||mi(e,n):Xp(t)?!0:!!(t===Wc&&mi(t,e))},Y0=function(t,e,n){return t===KA||t===On?wn(e)?!0:e===Ju&&wn(n):wn(t===Ju?e:t)},kZ=function(t){var e=0,n=1;(t[e]===KA||t[e]===On)&&(t[e]===On&&(n=-1),e++);for(var r=[];wn(t[e]);)r.push(t[e++]);var s=r.length?parseInt(bt.apply(void 0,r),10):0;t[e]===Ju&&e++;for(var i=[];wn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(bt.apply(void 0,i),10):0;(t[e]===$4||t[e]===z4)&&e++;var o=1;(t[e]===KA||t[e]===On)&&(t[e]===On&&(o=-1),e++);for(var c=[];wn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(bt.apply(void 0,c),10):0;return n*(s+a*Math.pow(10,-A))*Math.pow(10,o*u)},RZ={type:2},PZ={type:3},DZ={type:4},LZ={type:13},jZ={type:8},MZ={type:21},OZ={type:9},VZ={type:10},HZ={type:11},KZ={type:12},zZ={type:14},Oh={type:23},GZ={type:1},$Z={type:25},WZ={type:24},qZ={type:26},XZ={type:27},YZ={type:28},JZ={type:29},ZZ={type:31},Cw={type:32},q4=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(fm(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==Cw;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Rh:return this.consumeStringToken(Rh);case ZJ:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(QI(n)||mi(r,s)){var i=Mh(n,r,s)?XJ:qJ,A=this.consumeName();return{type:5,value:A,flags:i}}break;case eZ:if(this.peekCodePoint(0)===tc)return this.consumeCodePoint(),LZ;break;case Ph:return this.consumeStringToken(Ph);case Dh:return RZ;case nc:return PZ;case X0:if(this.peekCodePoint(0)===tc)return this.consumeCodePoint(),zZ;break;case KA:if(Y0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fZ:return DZ;case On:var a=e,o=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Y0(a,o,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Mh(a,o,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===On&&c===iZ)return this.consumeCodePoint(),this.consumeCodePoint(),WZ;break;case Ju:if(Y0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case FI:if(this.peekCodePoint(0)===X0)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===X0&&(u=this.consumeCodePoint(),u===FI))return this.consumeToken();if(u===Wr)return this.consumeToken()}break;case pZ:return qZ;case gZ:return XZ;case sZ:if(this.peekCodePoint(0)===rZ&&this.peekCodePoint(1)===On&&this.peekCodePoint(2)===On)return this.consumeCodePoint(),this.consumeCodePoint(),$Z;break;case AZ:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Mh(h,f,g)){var A=this.consumeName();return{type:7,value:A}}break;case aZ:return YZ;case Wc:if(mi(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case oZ:return JZ;case lZ:if(this.peekCodePoint(0)===tc)return this.consumeCodePoint(),jZ;break;case cZ:return HZ;case uZ:return KZ;case EZ:case bZ:var m=this.peekCodePoint(0),y=this.peekCodePoint(1);return m===KA&&(Ma(y)||y===Lh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case SI:if(this.peekCodePoint(0)===tc)return this.consumeCodePoint(),OZ;if(this.peekCodePoint(0)===SI)return this.consumeCodePoint(),MZ;break;case dZ:if(this.peekCodePoint(0)===tc)return this.consumeCodePoint(),VZ;break;case Wr:return Cw}return jh(e)?(this.consumeWhiteSpace(),ZZ):wn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Xp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:bt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Ma(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===Lh&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(bt.apply(void 0,e.map(function(o){return o===Lh?H4:o})),16),i=parseInt(bt.apply(void 0,e.map(function(o){return o===Lh?W4:o})),16);return{type:30,start:s,end:i}}var A=parseInt(bt.apply(void 0,e),16);if(this.peekCodePoint(0)===On&&Ma(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Ma(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(bt.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Dh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Dh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Wr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Ph||n===Rh){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Wr||this.peekCodePoint(0)===nc)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Oh)}for(;;){var s=this.consumeCodePoint();if(s===Wr||s===nc)return{type:22,value:bt.apply(void 0,e)};if(jh(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Wr||this.peekCodePoint(0)===nc?(this.consumeCodePoint(),{type:22,value:bt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Oh);if(s===Rh||s===Ph||s===Dh||QZ(s))return this.consumeBadUrlRemnants(),Oh;if(s===Wc)if(mi(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Oh;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;jh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===nc||e===Wr)return;mi(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=bt.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Wr||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===qp)return this._value.splice(0,r),GZ;if(s===Wc){var i=this._value[r+1];i!==Wr&&i!==void 0&&(i===qp?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):mi(s,i)&&(n+=this.consumeStringSlice(r),n+=bt(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Ud,r=this.peekCodePoint(0);for((r===KA||r===On)&&e.push(this.consumeCodePoint());wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Ju&&wn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=UI;wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===$4||r===z4)&&((s===KA||s===On)&&wn(i)||wn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=UI;wn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[kZ(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Mh(s,i,A)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===tZ?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ma(e)){for(var n=bt(e);Ma(this.peekCodePoint(0))&&n.length<6;)n+=bt(this.consumeCodePoint());jh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||IZ(r)||r>1114111?NI:r}return e===Wr?NI:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(QI(n))e+=bt(n);else if(mi(n,this.peekCodePoint(0)))e+=bt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),X4=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new q4;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||tee(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Cw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Fd=function(t){return t.type===15},xl=function(t){return t.type===17},Ye=function(t){return t.type===20},eee=function(t){return t.type===0},Ew=function(t,e){return Ye(t)&&t.value===e},Y4=function(t){return t.type!==31},Al=function(t){return t.type!==31&&t.type!==4},Bs=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},tee=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},cA=function(t){return t.type===17||t.type===15},Rt=function(t){return t.type===16||cA(t)},J4=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},sn={type:17,number:0,flags:Ud},kC={type:16,number:50,flags:Ud},Ni={type:16,number:100,flags:Ud},xc=function(t,e,n){var r=t[0],s=t[1];return[nt(r,e),nt(typeof s<"u"?s:r,n)]},nt=function(t,e){if(t.type===16)return t.number/100*e;if(Fd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Z4="deg",eR="grad",tR="rad",nR="turn",pm={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Z4:return Math.PI*e.number/180;case eR:return Math.PI/200*e.number;case tR:return e.number;case nR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},rR=function(t){return t.type===15&&(t.unit===Z4||t.unit===eR||t.unit===tR||t.unit===nR)},sR=function(t){var e=t.filter(Ye).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[sn,sn];case"to top":case"bottom":return yr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[sn,Ni];case"to right":case"left":return yr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ni,Ni];case"to bottom":case"top":return yr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ni,sn];case"to left":case"right":return yr(270)}return 0},yr=function(t){return Math.PI*t/180},$i={name:"color",parse:function(t,e){if(e.type===18){var n=nee[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Qi(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return Qi(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Qi(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return Qi(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=Hs[e.value.toUpperCase()];if(typeof a<"u")return a}return Hs.TRANSPARENT}},Wi=function(t){return(255&t)===0},Ht=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Qi=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},kI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},RI=function(t,e){var n=e.filter(Al);if(n.length===3){var r=n.map(kI),s=r[0],i=r[1],A=r[2];return Qi(s,i,A,1)}if(n.length===4){var a=n.map(kI),s=a[0],i=a[1],A=a[2],o=a[3];return Qi(s,i,A,o)}return 0};function J0(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var PI=function(t,e){var n=e.filter(Al),r=n[0],s=n[1],i=n[2],A=n[3],a=(r.type===17?yr(r.number):pm.parse(t,r))/(Math.PI*2),o=Rt(s)?s.number/100:0,c=Rt(i)?i.number/100:0,u=typeof A<"u"&&Rt(A)?nt(A,1):1;if(o===0)return Qi(c*255,c*255,c*255,1);var h=c<=.5?c*(o+1):c+o-c*o,f=c*2-h,g=J0(f,h,a+1/3),m=J0(f,h,a),y=J0(f,h,a-1/3);return Qi(g*255,m*255,y*255,u)},nee={hsl:PI,hsla:PI,rgb:RI,rgba:RI},qc=function(t,e){return $i.parse(t,X4.create(e).parseComponentValue())},Hs={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ree={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ye(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},see={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gm=function(t,e){var n=$i.parse(t,e[0]),r=e[1];return r&&Rt(r)?{color:n,stop:r}:{color:n,stop:null}},DI=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=sn),r.stop===null&&(r.stop=Ni);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=nt(a,e);o>i?s.push(o):s.push(i),i=o}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var u=s[A];if(u===null)c===null&&(c=A);else if(c!==null){for(var h=A-c,f=s[c-1],g=(u-f)/(h+1),m=1;m<=h;m++)s[c+m-1]=g*m;c=null}}return t.map(function(y,E){var x=y.color;return{color:x,stop:Math.max(Math.min(1,s[E]/e),0)}})},iee=function(t,e,n){var r=e/2,s=n/2,i=nt(t[0],e)-r,A=s-nt(t[1],n);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},Aee=function(t,e,n){var r=typeof t=="number"?t:iee(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,A=n/2,a=s/2,o=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[s,i-c,i+c,A-o,A+o]},Tr=function(t,e){return Math.sqrt(t*t+e*e)},LI=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var o=a[0],c=a[1],u=Tr(n-o,r-c);return(s?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:a,optimumDistance:u}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},aee=function(t,e,n,r,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=A=Math.min(Tr(e,n),Tr(e,n-s),Tr(e-r,n),Tr(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),o=LI(r,s,e,n,!0),c=o[0],u=o[1];i=Tr(c-e,(u-n)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=A=Math.max(Tr(e,n),Tr(e,n-s),Tr(e-r,n),Tr(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=LI(r,s,e,n,!1),c=h[0],u=h[1];i=Tr(c-e,(u-n)/a),A=a*i}break}return Array.isArray(t.size)&&(i=nt(t.size[0],r),A=t.size.length===2?nt(t.size[1],s):i),[i,A]},oee=function(t,e){var n=yr(180),r=[];return Bs(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){n=sR(s);return}else if(rR(A)){n=pm.parse(t,A);return}}var a=gm(t,s);r.push(a)}),{angle:n,stops:r,type:1}},Vh=function(t,e){var n=yr(180),r=[];return Bs(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=sR(s);return}else if(rR(A)){n=(pm.parse(t,A)+yr(270))%yr(360);return}}var a=gm(t,s);r.push(a)}),{angle:n,stops:r,type:1}},lee=function(t,e){var n=yr(180),r=[],s=1,i=0,A=3,a=[];return Bs(e).forEach(function(o,c){var u=o[0];if(c===0){if(Ye(u)&&u.value==="linear"){s=1;return}else if(Ye(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=$i.parse(t,u.values[0]);r.push({stop:sn,color:h})}else if(u.name==="to"){var h=$i.parse(t,u.values[0]);r.push({stop:Ni,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(Al);if(f.length===2){var h=$i.parse(t,f[1]),g=f[0];xl(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),s===1?{angle:(n+yr(180))%yr(360),stops:r,type:s}:{size:A,shape:i,stops:r,position:a,type:s}},iR="closest-side",AR="farthest-side",aR="closest-corner",oR="farthest-corner",lR="circle",cR="ellipse",uR="cover",dR="contain",cee=function(t,e){var n=0,r=3,s=[],i=[];return Bs(e).forEach(function(A,a){var o=!0;if(a===0){var c=!1;o=A.reduce(function(h,f){if(c)if(Ye(f))switch(f.value){case"center":return i.push(kC),h;case"top":case"left":return i.push(sn),h;case"right":case"bottom":return i.push(Ni),h}else(Rt(f)||cA(f))&&i.push(f);else if(Ye(f))switch(f.value){case lR:return n=0,!1;case cR:return n=1,!1;case"at":return c=!0,!1;case iR:return r=0,!1;case uR:case AR:return r=1,!1;case dR:case aR:return r=2,!1;case oR:return r=3,!1}else if(cA(f)||Rt(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return h},o)}if(o){var u=gm(t,A);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},Hh=function(t,e){var n=0,r=3,s=[],i=[];return Bs(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(u,h){if(Ye(h))switch(h.value){case"center":return i.push(kC),!1;case"top":case"left":return i.push(sn),!1;case"right":case"bottom":return i.push(Ni),!1}else if(Rt(h)||cA(h))return i.push(h),!1;return u},o):a===1&&(o=A.reduce(function(u,h){if(Ye(h))switch(h.value){case lR:return n=0,!1;case cR:return n=1,!1;case dR:case iR:return r=0,!1;case AR:return r=1,!1;case aR:return r=2,!1;case uR:case oR:return r=3,!1}else if(cA(h)||Rt(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},o)),o){var c=gm(t,A);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},uee=function(t){return t.type===1},dee=function(t){return t.type===2},RC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=hR[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function hee(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!hR[t.name])}var hR={"linear-gradient":oee,"-moz-linear-gradient":Vh,"-ms-linear-gradient":Vh,"-o-linear-gradient":Vh,"-webkit-linear-gradient":Vh,"radial-gradient":cee,"-moz-radial-gradient":Hh,"-ms-radial-gradient":Hh,"-o-radial-gradient":Hh,"-webkit-radial-gradient":Hh,"-webkit-gradient":lee},fee={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Al(r)&&hee(r)}).map(function(r){return RC.parse(t,r)})}},pee={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ye(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gee={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Bs(e).map(function(n){return n.filter(Rt)}).map(J4)}},mee={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Bs(e).map(function(n){return n.filter(Ye).map(function(r){return r.value}).join(" ")}).map(yee)}},yee=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Po;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Po||(Po={}));var vee={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Bs(e).map(function(n){return n.filter(wee)})}},wee=function(t){return Ye(t)||Rt(t)},mm=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Bee=mm("top"),xee=mm("right"),Cee=mm("bottom"),Eee=mm("left"),ym=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return J4(n.filter(Rt))}}},_ee=ym("top-left"),bee=ym("top-right"),Tee=ym("bottom-right"),Iee=ym("bottom-left"),vm=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Uee=vm("top"),Fee=vm("right"),See=vm("bottom"),Nee=vm("left"),wm=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Fd(n)?n.number:0}}},Qee=wm("top"),kee=wm("right"),Ree=wm("bottom"),Pee=wm("left"),Dee={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lee={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},jee={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).reduce(function(n,r){return n|Mee(r.value)},0)}},Mee=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Oee={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Vee={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Yp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Yp||(Yp={}));var Hee={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Yp.STRICT;case"normal":default:return Yp.NORMAL}}},Kee={name:"line-height",initialValue:"normal",prefix:!1,type:4},jI=function(t,e){return Ye(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Rt(t)?nt(t,e):e},zee={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:RC.parse(t,e)}},Gee={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},_w={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Bm=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},$ee=Bm("top"),Wee=Bm("right"),qee=Bm("bottom"),Xee=Bm("left"),Yee={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Jee={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},xm=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Zee=xm("top"),ete=xm("right"),tte=xm("bottom"),nte=xm("left"),rte={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},ste={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ite={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ew(e[0],"none")?[]:Bs(e).map(function(n){for(var r={color:Hs.TRANSPARENT,offsetX:sn,offsetY:sn,blur:sn},s=0,i=0;i<n.length;i++){var A=n[i];cA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=$i.parse(t,A)}return r})}},Ate={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ate={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=cte[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},ote=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},lte=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,A,a]:null},cte={matrix:ote,matrix3d:lte},MI={type:16,number:50,flags:Ud},ute=[MI,MI],dte={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Rt);return n.length!==2?ute:[n[0],n[1]]}},hte={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xc;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Xc||(Xc={}));var fte={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Xc.BREAK_ALL;case"keep-all":return Xc.KEEP_ALL;case"normal":default:return Xc.NORMAL}}},pte={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(xl(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},fR={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},gte={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return xl(e)?e.number:1}},mte={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yte={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},vte={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},wte={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Bte={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(xl(e))return e.number;if(Ye(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},xte={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ye).map(function(n){return n.value})}},Cte={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Mt=function(t,e){return(t&e)!==0},Ete={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},_te={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(Y4),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var o=a&&xl(a)?a.number:1;r.push({counter:A.value,increment:o})}}return r}},bte={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(Y4),s=0;s<r.length;s++){var i=r[s],A=r[s+1];if(Ye(i)&&i.value!=="none"){var a=A&&xl(A)?A.number:0;n.push({counter:i.value,reset:a})}}return n}},Tte={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Fd).map(function(n){return fR.parse(t,n)})}},Ite={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(eee);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;r.push({open:A,close:a})}return r}},OI=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Ute={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Ew(e[0],"none")?[]:Bs(e).map(function(n){for(var r={color:255,offsetX:sn,offsetY:sn,blur:sn,spread:sn,inset:!1},s=0,i=0;i<n.length;i++){var A=n[i];Ew(A,"inset")?r.inset=!0:cA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=$i.parse(t,A)}return r})}},Fte={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Ye).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},Ste={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Nte={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Fd(e)?e.number:0}},Qte=function(){function t(e,n){var r,s;this.animationDuration=ae(e,Tte,n.animationDuration),this.backgroundClip=ae(e,ree,n.backgroundClip),this.backgroundColor=ae(e,see,n.backgroundColor),this.backgroundImage=ae(e,fee,n.backgroundImage),this.backgroundOrigin=ae(e,pee,n.backgroundOrigin),this.backgroundPosition=ae(e,gee,n.backgroundPosition),this.backgroundRepeat=ae(e,mee,n.backgroundRepeat),this.backgroundSize=ae(e,vee,n.backgroundSize),this.borderTopColor=ae(e,Bee,n.borderTopColor),this.borderRightColor=ae(e,xee,n.borderRightColor),this.borderBottomColor=ae(e,Cee,n.borderBottomColor),this.borderLeftColor=ae(e,Eee,n.borderLeftColor),this.borderTopLeftRadius=ae(e,_ee,n.borderTopLeftRadius),this.borderTopRightRadius=ae(e,bee,n.borderTopRightRadius),this.borderBottomRightRadius=ae(e,Tee,n.borderBottomRightRadius),this.borderBottomLeftRadius=ae(e,Iee,n.borderBottomLeftRadius),this.borderTopStyle=ae(e,Uee,n.borderTopStyle),this.borderRightStyle=ae(e,Fee,n.borderRightStyle),this.borderBottomStyle=ae(e,See,n.borderBottomStyle),this.borderLeftStyle=ae(e,Nee,n.borderLeftStyle),this.borderTopWidth=ae(e,Qee,n.borderTopWidth),this.borderRightWidth=ae(e,kee,n.borderRightWidth),this.borderBottomWidth=ae(e,Ree,n.borderBottomWidth),this.borderLeftWidth=ae(e,Pee,n.borderLeftWidth),this.boxShadow=ae(e,Ute,n.boxShadow),this.color=ae(e,Dee,n.color),this.direction=ae(e,Lee,n.direction),this.display=ae(e,jee,n.display),this.float=ae(e,Oee,n.cssFloat),this.fontFamily=ae(e,vte,n.fontFamily),this.fontSize=ae(e,wte,n.fontSize),this.fontStyle=ae(e,Cte,n.fontStyle),this.fontVariant=ae(e,xte,n.fontVariant),this.fontWeight=ae(e,Bte,n.fontWeight),this.letterSpacing=ae(e,Vee,n.letterSpacing),this.lineBreak=ae(e,Hee,n.lineBreak),this.lineHeight=ae(e,Kee,n.lineHeight),this.listStyleImage=ae(e,zee,n.listStyleImage),this.listStylePosition=ae(e,Gee,n.listStylePosition),this.listStyleType=ae(e,_w,n.listStyleType),this.marginTop=ae(e,$ee,n.marginTop),this.marginRight=ae(e,Wee,n.marginRight),this.marginBottom=ae(e,qee,n.marginBottom),this.marginLeft=ae(e,Xee,n.marginLeft),this.opacity=ae(e,gte,n.opacity);var i=ae(e,Yee,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ae(e,Jee,n.overflowWrap),this.paddingTop=ae(e,Zee,n.paddingTop),this.paddingRight=ae(e,ete,n.paddingRight),this.paddingBottom=ae(e,tte,n.paddingBottom),this.paddingLeft=ae(e,nte,n.paddingLeft),this.paintOrder=ae(e,Fte,n.paintOrder),this.position=ae(e,ste,n.position),this.textAlign=ae(e,rte,n.textAlign),this.textDecorationColor=ae(e,mte,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ae(e,yte,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=ae(e,ite,n.textShadow),this.textTransform=ae(e,Ate,n.textTransform),this.transform=ae(e,ate,n.transform),this.transformOrigin=ae(e,dte,n.transformOrigin),this.visibility=ae(e,hte,n.visibility),this.webkitTextStrokeColor=ae(e,Ste,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ae(e,Nte,n.webkitTextStrokeWidth),this.wordBreak=ae(e,fte,n.wordBreak),this.zIndex=ae(e,pte,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Wi(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Mt(this.display,4)||Mt(this.display,33554432)||Mt(this.display,268435456)||Mt(this.display,536870912)||Mt(this.display,67108864)||Mt(this.display,134217728)},t}(),kte=function(){function t(e,n){this.content=ae(e,Ete,n.content),this.quotes=ae(e,Ite,n.quotes)}return t}(),VI=function(){function t(e,n){this.counterIncrement=ae(e,_te,n.counterIncrement),this.counterReset=ae(e,bte,n.counterReset)}return t}(),ae=function(t,e,n){var r=new q4,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new X4(r.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,Ye(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return pm.parse(t,i.parseComponentValue());case"color":return $i.parse(t,i.parseComponentValue());case"image":return RC.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return cA(a)?a:sn;case"length-percentage":var o=i.parseComponentValue();return Rt(o)?o:sn;case"time":return fR.parse(t,i.parseComponentValue())}break}},Rte="data-html2canvas-debug",Pte=function(t){var e=t.getAttribute(Rte);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bw=function(t,e){var n=Pte(t);return n===1||e===n},xs=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,bw(n,3))debugger;this.styles=new Qte(e,window.getComputedStyle(n,null)),Uw(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=hm(this.context,n),bw(n,4)&&(this.flags|=16)}return t}(),Dte="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",HI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kh=0;Kh<HI.length;Kh++)Cc[HI.charCodeAt(Kh)]=Kh;var Lte=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=Cc[t.charCodeAt(r)],A=Cc[t.charCodeAt(r+1)],a=Cc[t.charCodeAt(r+2)],o=Cc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return c},jte=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Mte=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},JA=5,PC=11,Z0=2,Ote=PC-JA,pR=65536>>JA,Vte=1<<JA,ey=Vte-1,Hte=1024>>JA,Kte=pR+Hte,zte=Kte,Gte=32,$te=zte+Gte,Wte=65536>>PC,qte=1<<Ote,Xte=qte-1,KI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Yte=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Jte=function(t,e){var n=Lte(t),r=Array.isArray(n)?Mte(n):new Uint32Array(n),s=Array.isArray(n)?jte(n):new Uint16Array(n),i=24,A=KI(s,i/2,r[4]/2),a=r[5]===2?KI(s,(i+r[4])/2):Yte(r,Math.ceil((i+r[4])/4));return new Zte(r[0],r[1],r[2],r[3],A,a)},Zte=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>JA],n=(n<<Z0)+(e&ey),this.data[n];if(e<=65535)return n=this.index[pR+(e-55296>>JA)],n=(n<<Z0)+(e&ey),this.data[n];if(e<this.highStart)return n=$te-Wte+(e>>PC),n=this.index[n],n+=e>>JA&Xte,n=this.index[n],n=(n<<Z0)+(e&ey),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),zI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ene=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zh=0;zh<zI.length;zh++)ene[zI.charCodeAt(zh)]=zh;var tne=1,ty=2,ny=3,GI=4,$I=5,nne=7,WI=8,ry=9,sy=10,qI=11,XI=12,YI=13,JI=14,iy=15,rne=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},sne=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},ine=Jte(Dte),hr="×",Ay="÷",Ane=function(t){return ine.get(t)},ane=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],A=e[n];if(i===ty&&A===ny)return hr;if(i===ty||i===ny||i===GI||A===ty||A===ny||A===GI)return Ay;if(i===WI&&[WI,ry,qI,XI].indexOf(A)!==-1||(i===qI||i===ry)&&(A===ry||A===sy)||(i===XI||i===sy)&&A===sy||A===YI||A===$I||A===nne||i===tne)return hr;if(i===YI&&A===JI){for(;s===$I;)s=e[--r];if(s===JI)return hr}if(i===iy&&A===iy){for(var a=0;s===iy;)a++,s=e[--r];if(a%2===0)return hr}return Ay},one=function(t){var e=rne(t),n=e.length,r=0,s=0,i=e.map(Ane);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=hr;r<n&&(A=ane(e,i,++r))===hr;);if(A!==hr||r===n){var a=sne.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},lne=function(t){for(var e=one(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},cne=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},une=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=fm(r.data).map(function(o){return bt(o)}),i=0,A={},a=s.every(function(o,c){n.setStart(r,i),n.setEnd(r,i+o.length);var u=n.getBoundingClientRect();i+=o.length;var h=u.x>A.x||u.y>A.y;return A=u,c===0?!0:h});return t.body.removeChild(e),a},dne=function(){return typeof new Image().crossOrigin<"u"},hne=function(){return typeof new XMLHttpRequest().responseType=="string"},fne=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},ZI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},pne=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var A=Tw(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),eU(A).then(function(a){r.drawImage(a,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=n+"px",ZI(o)?eU(Tw(n,n,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),ZI(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Tw=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},eU=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Zt={get SUPPORT_RANGE_BOUNDS(){var t=cne(document);return Object.defineProperty(Zt,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Zt.SUPPORT_RANGE_BOUNDS&&une(document);return Object.defineProperty(Zt,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=fne(document);return Object.defineProperty(Zt,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?pne(document):Promise.resolve(!1);return Object.defineProperty(Zt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=dne();return Object.defineProperty(Zt,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=hne();return Object.defineProperty(Zt,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Zt,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Zt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Yc=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),gne=function(t,e,n,r){var s=vne(e,n),i=[],A=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Zt.SUPPORT_RANGE_BOUNDS){var o=tU(r,A,a.length).getClientRects();if(o.length>1){var c=DC(a),u=0;c.forEach(function(f){i.push(new Yc(f,ri.fromDOMRectList(t,tU(r,u+A,f.length).getClientRects()))),u+=f.length})}else i.push(new Yc(a,ri.fromDOMRectList(t,o)))}else{var h=r.splitText(a.length);i.push(new Yc(a,mne(t,r))),r=h}else Zt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));A+=a.length}),i},mne=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=hm(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return ri.EMPTY},tU=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},DC=function(t){if(Zt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return lne(t)},yne=function(t,e){if(Zt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return Bne(t,e)},vne=function(t,e){return e.letterSpacing!==0?DC(t):yne(t,e)},wne=[32,160,4961,65792,65793,4153,4241],Bne=function(t,e){for(var n=WJ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var A=s.value.slice(),a=fm(A),o="";a.forEach(function(c){wne.indexOf(c)===-1?o+=bt(c):(o.length&&r.push(o),r.push(bt(c)),o="")}),o.length&&r.push(o)}};!(s=n.next()).done;)i();return r},xne=function(){function t(e,n,r){this.text=Cne(n.data,r.textTransform),this.textBounds=gne(e,this.text,r,n)}return t}(),Cne=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Ene,_ne);case 2:return t.toUpperCase();default:return t}},Ene=/(^|\s|:|-|\(|\))([a-z])/g,_ne=function(t,e,n){return t.length>0?e+n.toUpperCase():t},gR=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(xs),mR=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(xs),yR=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,A=hm(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(xs),vR=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(xs),Iw=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(xs),bne=[{type:15,flags:0,unit:"px",number:3}],Tne=[{type:16,flags:0,number:50}],Ine=function(t){return t.width>t.height?new ri(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ri(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Une=function(t){var e=t.type===Fne?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Jp="checkbox",Zp="radio",Fne="password",nU=707406591,LC=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=Une(r),(s.type===Jp||s.type===Zp)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Ine(s.bounds)),s.type){case Jp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=bne;break;case Zp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Tne;break}return s}return e}(xs),wR=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(xs),BR=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(xs),xR=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=ER(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?qc(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Hs.TRANSPARENT,A=r.contentWindow.document.body?qc(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Hs.TRANSPARENT;s.backgroundColor=Wi(i)?Wi(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(xs),Sne=["OL","UL","MENU"],If=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,_R(s)&&s.data.trim().length>0)n.textNodes.push(new xne(t,s,n.styles));else if(yo(s))if(UR(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return If(t,a,n,r)});else{var A=CR(t,s);A.styles.isVisible()&&(Nne(s,A,r)?A.flags|=4:Qne(A.styles)&&(A.flags|=2),Sne.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?If(t,s.shadowRoot,A,r):!eg(s)&&!bR(s)&&!tg(s)&&If(t,s,A,r))}},CR=function(t,e){return Fw(e)?new gR(t,e):TR(e)?new mR(t,e):bR(e)?new yR(t,e):kne(e)?new vR(t,e):Rne(e)?new Iw(t,e):Pne(e)?new LC(t,e):tg(e)?new wR(t,e):eg(e)?new BR(t,e):IR(e)?new xR(t,e):new xs(t,e)},ER=function(t,e){var n=CR(t,e);return n.flags|=4,If(t,e,n,n),n},Nne=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||jC(t)&&n.styles.isTransparent()},Qne=function(t){return t.isPositioned()||t.isFloating()},_R=function(t){return t.nodeType===Node.TEXT_NODE},yo=function(t){return t.nodeType===Node.ELEMENT_NODE},Uw=function(t){return yo(t)&&typeof t.style<"u"&&!Uf(t)},Uf=function(t){return typeof t.className=="object"},kne=function(t){return t.tagName==="LI"},Rne=function(t){return t.tagName==="OL"},Pne=function(t){return t.tagName==="INPUT"},Dne=function(t){return t.tagName==="HTML"},bR=function(t){return t.tagName==="svg"},jC=function(t){return t.tagName==="BODY"},TR=function(t){return t.tagName==="CANVAS"},rU=function(t){return t.tagName==="VIDEO"},Fw=function(t){return t.tagName==="IMG"},IR=function(t){return t.tagName==="IFRAME"},sU=function(t){return t.tagName==="STYLE"},Lne=function(t){return t.tagName==="SCRIPT"},eg=function(t){return t.tagName==="TEXTAREA"},tg=function(t){return t.tagName==="SELECT"},UR=function(t){return t.tagName==="SLOT"},iU=function(t){return t.tagName.indexOf("-")>0},jne=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var o=n.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var o=n.counters[a.counter];A.push(a.counter),o||(o=n.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),AU={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},aU={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Mne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},One={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Oa=function(t,e,n,r,s,i){return t<e||t>n?Zu(t,s,i.length>0):r.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=r.values[o];return A},"")+i},FR=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Et=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(FR(Math.abs(t),i,r,function(A){return bt(Math.floor(A%i)+e)})+s)},UA=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return FR(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Wa=1,hi=2,fi=4,Ec=8,Is=function(t,e,n,r,s,i){if(t<-9999||t>9999)return Zu(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var c=A%10;c===0&&Mt(i,Wa)&&a!==""?a=e[c]+a:c>1||c===1&&o===0||c===1&&o===1&&Mt(i,hi)||c===1&&o===1&&Mt(i,fi)&&t>100||c===1&&o>1&&Mt(i,Ec)?a=e[c]+(o>0?n[o-1]:"")+a:c===1&&o>0&&(a=n[o-1]+a),A=Math.floor(A/10)}return(t<0?r:"")+a},oU="十百千萬",lU="拾佰仟萬",cU="マイナス",ay="마이너스",Zu=function(t,e,n){var r=n?". ":"",s=n?"、":"",i=n?", ":"",A=n?" ":"";switch(e){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var a=Et(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return UA(t,"〇一二三四五六七八九",s);case 6:return Oa(t,1,3999,AU,3,r).toLowerCase();case 7:return Oa(t,1,3999,AU,3,r);case 8:return Et(t,945,969,!1,r);case 9:return Et(t,97,122,!1,r);case 10:return Et(t,65,90,!1,r);case 11:return Et(t,1632,1641,!0,r);case 12:case 49:return Oa(t,1,9999,aU,3,r);case 35:return Oa(t,1,9999,aU,3,r).toLowerCase();case 13:return Et(t,2534,2543,!0,r);case 14:case 30:return Et(t,6112,6121,!0,r);case 15:return UA(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return UA(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return Is(t,"零一二三四五六七八九",oU,"負",s,hi|fi|Ec);case 47:return Is(t,"零壹貳參肆伍陸柒捌玖",lU,"負",s,Wa|hi|fi|Ec);case 42:return Is(t,"零一二三四五六七八九",oU,"负",s,hi|fi|Ec);case 41:return Is(t,"零壹贰叁肆伍陆柒捌玖",lU,"负",s,Wa|hi|fi|Ec);case 26:return Is(t,"〇一二三四五六七八九","十百千万",cU,s,0);case 25:return Is(t,"零壱弐参四伍六七八九","拾百千万",cU,s,Wa|hi|fi);case 31:return Is(t,"영일이삼사오육칠팔구","십백천만",ay,i,Wa|hi|fi);case 33:return Is(t,"零一二三四五六七八九","十百千萬",ay,i,0);case 32:return Is(t,"零壹貳參四五六七八九","拾百千",ay,i,Wa|hi|fi);case 18:return Et(t,2406,2415,!0,r);case 20:return Oa(t,1,19999,One,3,r);case 21:return Et(t,2790,2799,!0,r);case 22:return Et(t,2662,2671,!0,r);case 22:return Oa(t,1,10999,Mne,3,r);case 23:return UA(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return UA(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Et(t,3302,3311,!0,r);case 28:return UA(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return UA(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Et(t,3792,3801,!0,r);case 37:return Et(t,6160,6169,!0,r);case 38:return Et(t,4160,4169,!0,r);case 39:return Et(t,2918,2927,!0,r);case 40:return Et(t,1776,1785,!0,r);case 43:return Et(t,3046,3055,!0,r);case 44:return Et(t,3174,3183,!0,r);case 45:return Et(t,3664,3673,!0,r);case 46:return Et(t,3872,3881,!0,r);case 3:default:return Et(t,48,57,!0,r)}},SR="data-html2canvas-ignore",uU=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new jne,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=Vne(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,o=a.document,c=zne(s).then(function(){return Un(r,void 0,void 0,function(){var u,h;return mn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(qne),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Kne(o)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(o,h)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write($ne(document.doctype)+"<html></html>"),Wne(this.referenceElement.ownerDocument,i,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),c},t.prototype.createElementClone=function(e){if(bw(e,2))debugger;if(TR(e))return this.createCanvasClone(e);if(rU(e))return this.createVideoClone(e);if(sU(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return Fw(n)&&(Fw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),iU(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return oy(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!yo(n)||!Lne(n)&&!n.hasAttribute(SR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!yo(n)||!sU(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(yo(i)&&UR(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(_R(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&yo(e)&&(Uw(e)||Uf(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&Uw(s)&&(this.clonedReferenceElement=s),jC(s)&&Jne(s);var o=this.counters.parse(new VI(this.context,i)),c=this.resolvePseudoContent(e,s,A,Jc.BEFORE);iU(e)&&(n=!0),rU(e)||this.cloneChildNodes(e,s,n),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,a,Jc.AFTER);return u&&s.appendChild(u),this.counters.pop(o),(i&&(this.options.copyStyles||Uf(e))&&!IR(e)||n)&&oy(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(eg(e)||tg(e))&&(eg(s)||tg(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var A=r.content,a=n.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new VI(this.context,r));var o=new kte(this.context,r),c=a.createElement("html2canvaspseudoelement");oy(r,c),o.content.forEach(function(h){if(h.type===0)c.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",c.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(Ye);g.length&&c.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(Al),y=m[0],E=m[1];if(y&&Ye(y)){var x=i.counters.getCounterValue(y.value),v=E&&Ye(E)?_w.parse(i.context,E.value):3;c.appendChild(a.createTextNode(Zu(x,v,!1)))}}else if(h.name==="counters"){var w=h.values.filter(Al),y=w[0],F=w[1],E=w[2];if(y&&Ye(y)){var T=i.counters.getCounterValues(y.value),Q=E&&Ye(E)?_w.parse(i.context,E.value):3,b=F&&F.type===0?F.value:"",C=T.map(function(k){return Zu(k,Q,!1)}).join(b);c.appendChild(a.createTextNode(C))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(a.createTextNode(OI(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(OI(o.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(h.value))}}),c.className=Sw+" "+Nw;var u=s===Jc.BEFORE?" "+Sw:" "+Nw;return Uf(n)?n.className.baseValue+=u:n.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Jc;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Jc||(Jc={}));var Vne=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(SR,"true"),t.body.appendChild(n),n},Hne=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Kne=function(t){return Promise.all([].slice.call(t.images,0).map(Hne))},zne=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},Gne=["all","d","content"],oy=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Gne.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},$ne=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Wne=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},qne=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Xne=":before",Yne=":after",Sw="___html2canvas___pseudoelement_before",Nw="___html2canvas___pseudoelement_after",dU=`{
    content: "" !important;
    display: none !important;
}`,Jne=function(t){Zne(t,"."+Sw+Xne+dU+`
         .`+Nw+Yne+dU)},Zne=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},NR=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ere=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(cy(e)||sre(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Un(this,void 0,void 0,function(){var n,r,s,i,A=this;return mn(this,function(a){switch(a.label){case 0:return n=NR.isSameOrigin(e),r=!ly(e)&&this._options.useCORS===!0&&Zt.SUPPORT_CORS_IMAGES&&!n,s=!ly(e)&&!n&&!cy(e)&&typeof this._options.proxy=="string"&&Zt.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!ly(e)&&!cy(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,c){var u=new Image;u.onload=function(){return o(u)},u.onerror=c,(ire(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return o(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=Zt.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return A(f)},!1),h.readAsDataURL(o.response)}else A("Failed to proxy resource "+s+" with status code "+o.status)},o.onerror=A;var c=r.indexOf("?")>-1?"&":"?";if(o.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;o.timeout=u,o.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+s)}}o.send()})},t}(),tre=/^data:image\/svg\+xml/i,nre=/^data:image\/.*;base64,/i,rre=/^data:image\/.*/i,sre=function(t){return Zt.SUPPORT_SVG_DRAWING||!Are(t)},ly=function(t){return rre.test(t)},ire=function(t){return nre.test(t)},cy=function(t){return t.substr(0,4)==="blob"},Are=function(t){return t.substr(-3).toLowerCase()==="svg"||tre.test(t)},ie=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Va=function(t,e,n){return new ie(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Gh=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=Va(this.start,this.startControl,e),s=Va(this.startControl,this.endControl,e),i=Va(this.endControl,this.end,e),A=Va(r,s,e),a=Va(s,i,e),o=Va(A,a,e);return n?new t(this.start,r,A,o):new t(o,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),gr=function(t){return t.type===1},are=function(){function t(e){var n=e.styles,r=e.bounds,s=xc(n.borderTopLeftRadius,r.width,r.height),i=s[0],A=s[1],a=xc(n.borderTopRightRadius,r.width,r.height),o=a[0],c=a[1],u=xc(n.borderBottomRightRadius,r.width,r.height),h=u[0],f=u[1],g=xc(n.borderBottomLeftRadius,r.width,r.height),m=g[0],y=g[1],E=[];E.push((i+o)/r.width),E.push((m+h)/r.width),E.push((A+y)/r.height),E.push((c+f)/r.height);var x=Math.max.apply(Math,E);x>1&&(i/=x,A/=x,o/=x,c/=x,h/=x,f/=x,m/=x,y/=x);var v=r.width-o,w=r.height-f,F=r.width-h,T=r.height-y,Q=n.borderTopWidth,b=n.borderRightWidth,C=n.borderBottomWidth,_=n.borderLeftWidth,U=nt(n.paddingTop,e.bounds.width),k=nt(n.paddingRight,e.bounds.width),R=nt(n.paddingBottom,e.bounds.width),S=nt(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?lt(r.left+_/3,r.top+Q/3,i-_/3,A-Q/3,ze.TOP_LEFT):new ie(r.left+_/3,r.top+Q/3),this.topRightBorderDoubleOuterBox=i>0||A>0?lt(r.left+v,r.top+Q/3,o-b/3,c-Q/3,ze.TOP_RIGHT):new ie(r.left+r.width-b/3,r.top+Q/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?lt(r.left+F,r.top+w,h-b/3,f-C/3,ze.BOTTOM_RIGHT):new ie(r.left+r.width-b/3,r.top+r.height-C/3),this.bottomLeftBorderDoubleOuterBox=m>0||y>0?lt(r.left+_/3,r.top+T,m-_/3,y-C/3,ze.BOTTOM_LEFT):new ie(r.left+_/3,r.top+r.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?lt(r.left+_*2/3,r.top+Q*2/3,i-_*2/3,A-Q*2/3,ze.TOP_LEFT):new ie(r.left+_*2/3,r.top+Q*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?lt(r.left+v,r.top+Q*2/3,o-b*2/3,c-Q*2/3,ze.TOP_RIGHT):new ie(r.left+r.width-b*2/3,r.top+Q*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?lt(r.left+F,r.top+w,h-b*2/3,f-C*2/3,ze.BOTTOM_RIGHT):new ie(r.left+r.width-b*2/3,r.top+r.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||y>0?lt(r.left+_*2/3,r.top+T,m-_*2/3,y-C*2/3,ze.BOTTOM_LEFT):new ie(r.left+_*2/3,r.top+r.height-C*2/3),this.topLeftBorderStroke=i>0||A>0?lt(r.left+_/2,r.top+Q/2,i-_/2,A-Q/2,ze.TOP_LEFT):new ie(r.left+_/2,r.top+Q/2),this.topRightBorderStroke=i>0||A>0?lt(r.left+v,r.top+Q/2,o-b/2,c-Q/2,ze.TOP_RIGHT):new ie(r.left+r.width-b/2,r.top+Q/2),this.bottomRightBorderStroke=h>0||f>0?lt(r.left+F,r.top+w,h-b/2,f-C/2,ze.BOTTOM_RIGHT):new ie(r.left+r.width-b/2,r.top+r.height-C/2),this.bottomLeftBorderStroke=m>0||y>0?lt(r.left+_/2,r.top+T,m-_/2,y-C/2,ze.BOTTOM_LEFT):new ie(r.left+_/2,r.top+r.height-C/2),this.topLeftBorderBox=i>0||A>0?lt(r.left,r.top,i,A,ze.TOP_LEFT):new ie(r.left,r.top),this.topRightBorderBox=o>0||c>0?lt(r.left+v,r.top,o,c,ze.TOP_RIGHT):new ie(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||f>0?lt(r.left+F,r.top+w,h,f,ze.BOTTOM_RIGHT):new ie(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||y>0?lt(r.left,r.top+T,m,y,ze.BOTTOM_LEFT):new ie(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||A>0?lt(r.left+_,r.top+Q,Math.max(0,i-_),Math.max(0,A-Q),ze.TOP_LEFT):new ie(r.left+_,r.top+Q),this.topRightPaddingBox=o>0||c>0?lt(r.left+Math.min(v,r.width-b),r.top+Q,v>r.width+b?0:Math.max(0,o-b),Math.max(0,c-Q),ze.TOP_RIGHT):new ie(r.left+r.width-b,r.top+Q),this.bottomRightPaddingBox=h>0||f>0?lt(r.left+Math.min(F,r.width-_),r.top+Math.min(w,r.height-C),Math.max(0,h-b),Math.max(0,f-C),ze.BOTTOM_RIGHT):new ie(r.left+r.width-b,r.top+r.height-C),this.bottomLeftPaddingBox=m>0||y>0?lt(r.left+_,r.top+Math.min(T,r.height-C),Math.max(0,m-_),Math.max(0,y-C),ze.BOTTOM_LEFT):new ie(r.left+_,r.top+r.height-C),this.topLeftContentBox=i>0||A>0?lt(r.left+_+S,r.top+Q+U,Math.max(0,i-(_+S)),Math.max(0,A-(Q+U)),ze.TOP_LEFT):new ie(r.left+_+S,r.top+Q+U),this.topRightContentBox=o>0||c>0?lt(r.left+Math.min(v,r.width+_+S),r.top+Q+U,v>r.width+_+S?0:o-_+S,c-(Q+U),ze.TOP_RIGHT):new ie(r.left+r.width-(b+k),r.top+Q+U),this.bottomRightContentBox=h>0||f>0?lt(r.left+Math.min(F,r.width-(_+S)),r.top+Math.min(w,r.height+Q+U),Math.max(0,h-(b+k)),f-(C+R),ze.BOTTOM_RIGHT):new ie(r.left+r.width-(b+k),r.top+r.height-(C+R)),this.bottomLeftContentBox=m>0||y>0?lt(r.left+_+S,r.top+T,Math.max(0,m-(_+S)),y-(C+R),ze.BOTTOM_LEFT):new ie(r.left+_+S,r.top+r.height-(C+R))}return t}(),ze;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ze||(ze={}));var lt=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),A=n*i,a=r*i,o=t+n,c=e+r;switch(s){case ze.TOP_LEFT:return new Gh(new ie(t,c),new ie(t,c-a),new ie(o-A,e),new ie(o,e));case ze.TOP_RIGHT:return new Gh(new ie(t,e),new ie(t+A,e),new ie(o,c-a),new ie(o,c));case ze.BOTTOM_RIGHT:return new Gh(new ie(o,e),new ie(o,e+a),new ie(t+A,c),new ie(t,c));case ze.BOTTOM_LEFT:default:return new Gh(new ie(o,c),new ie(o-A,c),new ie(t,e+a),new ie(t,e))}},ng=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},ore=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},rg=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},lre=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),$h=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),cre=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),ure=function(t){return t.type===0},QR=function(t){return t.type===1},dre=function(t){return t.type===2},hU=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},hre=function(t,e,n,r,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},kR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),RR=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new are(this.container),this.container.styles.opacity<1&&this.effects.push(new cre(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new lre(r,s,i))}if(this.container.styles.overflowX!==0){var A=ng(this.curves),a=rg(this.curves);hU(A,a)?this.effects.push(new $h(A,6)):(this.effects.push(new $h(A,2)),this.effects.push(new $h(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(o){return!QR(o)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=ng(r.curves),a=rg(r.curves);hU(A,a)||s.unshift(new $h(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(o){return Mt(o.target,e)})},t}(),Qw=function(t,e,n,r){t.container.elements.forEach(function(s){var i=Mt(s.flags,4),A=Mt(s.flags,2),a=new RR(s,t);Mt(s.styles.display,2048)&&r.push(a);var o=Mt(s.flags,8)?[]:r;if(i||A){var c=i||s.styles.isPositioned()?n:e,u=new kR(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;c.negativeZIndex.some(function(m,y){return h>m.element.container.styles.zIndex.order?(f=y,!1):f>0}),c.negativeZIndex.splice(f,0,u)}else if(h>0){var g=0;c.positiveZIndex.some(function(m,y){return h>=m.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Qw(a,u,i?u:n,o)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Qw(a,e,n,o);Mt(s.flags,8)&&PR(s,o)})},PR=function(t,e){for(var n=t instanceof Iw?t.start:1,r=t instanceof Iw?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof vR&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=Zu(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},fre=function(t){var e=new RR(t,null),n=new kR(e),r=[];return Qw(e,n,n,r),PR(e.container,r),n},fU=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},pre=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return vr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},gre=function(t,e){switch(e){case 0:return vr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},mre=function(t,e){switch(e){case 0:return Wh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Wh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Wh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Wh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Wh=function(t,e){var n=[];return gr(t)?n.push(t.subdivide(.5,!1)):n.push(t),gr(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},vr=function(t,e,n,r){var s=[];return gr(t)?s.push(t.subdivide(.5,!1)):s.push(t),gr(n)?s.push(n.subdivide(.5,!0)):s.push(n),gr(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),gr(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},DR=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},sg=function(t){var e=t.styles,n=t.bounds,r=nt(e.paddingLeft,n.width),s=nt(e.paddingRight,n.width),i=nt(e.paddingTop,n.width),A=nt(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},yre=function(t,e){return t===0?e.bounds:t===2?sg(e):DR(e)},vre=function(t,e){return t===0?e.bounds:t===2?sg(e):DR(e)},uy=function(t,e,n){var r=yre(qa(t.styles.backgroundOrigin,e),t),s=vre(qa(t.styles.backgroundClip,e),t),i=wre(qa(t.styles.backgroundSize,e),n,r),A=i[0],a=i[1],o=xc(qa(t.styles.backgroundPosition,e),r.width-A,r.height-a),c=Bre(qa(t.styles.backgroundRepeat,e),o,i,r,s),u=Math.round(r.left+o[0]),h=Math.round(r.top+o[1]);return[c,u,h,A,a]},Ha=function(t){return Ye(t)&&t.value===Po.AUTO},qh=function(t){return typeof t=="number"},wre=function(t,e,n){var r=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(Rt(A)&&a&&Rt(a))return[nt(A,n.width),nt(a,n.height)];var o=qh(i);if(Ye(A)&&(A.value===Po.CONTAIN||A.value===Po.COVER)){if(qh(i)){var c=n.width/n.height;return c<i!=(A.value===Po.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=qh(r),h=qh(s),f=u||h;if(Ha(A)&&(!a||Ha(a))){if(u&&h)return[r,s];if(!o&&!f)return[n.width,n.height];if(f&&o){var g=u?r:s*i,m=h?s:r/i;return[g,m]}var y=u?r:n.width,E=h?s:n.height;return[y,E]}if(o){var x=0,v=0;return Rt(A)?x=nt(A,n.width):Rt(a)&&(v=nt(a,n.height)),Ha(A)?x=v*i:(!a||Ha(a))&&(v=x/i),[x,v]}var w=null,F=null;if(Rt(A)?w=nt(A,n.width):a&&Rt(a)&&(F=nt(a,n.height)),w!==null&&(!a||Ha(a))&&(F=u&&h?w/r*s:n.height),F!==null&&Ha(A)&&(w=u&&h?F/s*r:n.width),w!==null&&F!==null)return[w,F];throw new Error("Unable to calculate background-size for element")},qa=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Bre=function(t,e,n,r,s){var i=e[0],A=e[1],a=n[0],o=n[1];switch(t){case 2:return[new ie(Math.round(r.left),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(o+r.top+A)),new ie(Math.round(r.left),Math.round(o+r.top+A))];case 3:return[new ie(Math.round(r.left+i),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.height+r.top)),new ie(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new ie(Math.round(r.left+i),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A+o)),new ie(Math.round(r.left+i),Math.round(r.top+A+o))];default:return[new ie(Math.round(s.left),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ie(Math.round(s.left),Math.round(s.height+s.top))]}},xre="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",pU="Hidden Text",Cre=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=xre,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(pU)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(pU)),r.style.lineHeight="normal",s.style.verticalAlign="super";var o=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),LR=function(){function t(e,n){this.context=e,this.options=n}return t}(),Ere=1e4,_re=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Cre(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),dre(n)&&(this.ctx.globalAlpha=n.opacity),ure(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),QR(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Un(this,void 0,void 0,function(){var r;return mn(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Un(this,void 0,void 0,function(){return mn(this,function(r){switch(r.label){case 0:if(Mt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=DC(n.text);A.reduce(function(a,o){return i.ctx.fillText(o,a,n.bounds.top+s),a+i.ctx.measureText(o).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=Fre(n.fontFamily).join(", "),i=Fd(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Un(this,void 0,void 0,function(){var s,i,A,a,o,c,u,h,f=this;return mn(this,function(g){return s=this.createFontStyle(r),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),c=o.baseline,u=o.middle,h=r.paintOrder,n.textBounds.forEach(function(m){h.forEach(function(y){switch(y){case 0:f.ctx.fillStyle=Ht(r.color),f.renderTextWithLetterSpacing(m,r.letterSpacing,c);var E=r.textShadow;E.length&&m.text.trim().length&&(E.slice(0).reverse().forEach(function(x){f.ctx.shadowColor=Ht(x.color),f.ctx.shadowOffsetX=x.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=x.offsetY.number*f.options.scale,f.ctx.shadowBlur=x.blur.number,f.renderTextWithLetterSpacing(m,r.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=Ht(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Ht(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=sg(n),A=rg(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o,v,v,c,u,h,f,F,g,m,T,y,E,x,v,w,F,T;return mn(this,function(Q){switch(Q.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,A=0,a=r.textNodes,Q.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,i)]):[3,4];case 2:Q.sent(),Q.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof gR))return[3,8];Q.label=5;case 5:return Q.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=Q.sent(),this.renderReplacedElement(r,s,v),[3,8];case 7:return Q.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof mR&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof yR))return[3,12];Q.label=9;case 9:return Q.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=Q.sent(),this.renderReplacedElement(r,s,v),[3,12];case 11:return Q.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof xR&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=Q.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),Q.label=14;case 14:if(r instanceof LC&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===Jp?r.checked&&(this.ctx.save(),this.path([new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79),new ie(r.bounds.left+h*.16,r.bounds.top+h*.5549),new ie(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new ie(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new ie(r.bounds.left+h*.72983,r.bounds.top+h*.23),new ie(r.bounds.left+h*.84,r.bounds.top+h*.34085),new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Ht(nU),this.ctx.fill(),this.ctx.restore()):r.type===Zp&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ht(nU),this.ctx.fill(),this.ctx.restore())),bre(r)&&r.value.length){switch(f=this.createFontStyle(i),F=f[0],g=f[1],m=this.fontMetrics.getMetrics(F,g).baseline,this.ctx.font=F,this.ctx.fillStyle=Ht(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ire(r.styles.textAlign),T=sg(r),y=0,r.styles.textAlign){case 1:y+=T.width/2;break;case 2:y+=T.width;break}E=T.add(y,0,0,-T.height/2+1),this.ctx.save(),this.path([new ie(T.left,T.top),new ie(T.left+T.width,T.top),new ie(T.left+T.width,T.top+T.height),new ie(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Yc(r.value,E),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Mt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];v=void 0,w=x.url,Q.label=15;case 15:return Q.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=Q.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return Q.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(F=this.createFontStyle(i)[0],this.ctx.font=F,this.ctx.fillStyle=Ht(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new ri(r.bounds.left,r.bounds.top+nt(r.styles.paddingTop,r.bounds.width),r.bounds.width,jI(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Yc(n.listValue,T),i.letterSpacing,jI(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Un(this,void 0,void 0,function(){var r,s,x,i,A,x,a,o,x,c,u,x,h,f,x,g,m,x,y,E,x;return mn(this,function(v){switch(v.label){case 0:if(Mt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,s=n.negativeZIndex,v.label=2;case 2:return r<s.length?(x=s[r],[4,this.renderStack(x)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),i=0,A=n.nonInlineLevel,v.label=7;case 7:return i<A.length?(x=A[i],[4,this.renderNode(x)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:a=0,o=n.nonPositionedFloats,v.label=11;case 11:return a<o.length?(x=o[a],[4,this.renderStack(x)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,v.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:v.sent(),v.label=17;case 17:return c++,[3,15];case 18:h=0,f=n.inlineLevel,v.label=19;case 19:return h<f.length?(x=f[h],[4,this.renderNode(x)]):[3,22];case 20:v.sent(),v.label=21;case 21:return h++,[3,19];case 22:g=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return g<m.length?(x=m[g],[4,this.renderStack(x)]):[3,26];case 24:v.sent(),v.label=25;case 25:return g++,[3,23];case 26:y=0,E=n.positiveZIndex,v.label=27;case 27:return y<E.length?(x=E[y],[4,this.renderStack(x)]):[3,30];case 28:v.sent(),v.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var A=gr(s)?s.start:s;i===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),gr(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var o=a.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o;return mn(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var h,f,g,U,K,J,S,ee,C,m,U,K,J,S,ee,y,E,x,v,w,F,T,Q,b,C,_,U,k,R,S,ee,Ae,K,J,L,H,W,G,fe,Be,Je,Ge;return mn(this,function(st){switch(st.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,st.label=1;case 1:return st.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=st.sent(),[3,4];case 3:return st.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(g=uy(n,r,[h.width,h.height,h.width/h.height]),U=g[0],K=g[1],J=g[2],S=g[3],ee=g[4],C=i.ctx.createPattern(i.resizeImage(h,S,ee),"repeat"),i.renderRepeat(U,C,K,J)),[3,6];case 5:uee(u)?(m=uy(n,r,[null,null,null]),U=m[0],K=m[1],J=m[2],S=m[3],ee=m[4],y=Aee(u.angle,S,ee),E=y[0],x=y[1],v=y[2],w=y[3],F=y[4],T=document.createElement("canvas"),T.width=S,T.height=ee,Q=T.getContext("2d"),b=Q.createLinearGradient(x,w,v,F),DI(u.stops,E).forEach(function(ut){return b.addColorStop(ut.stop,Ht(ut.color))}),Q.fillStyle=b,Q.fillRect(0,0,S,ee),S>0&&ee>0&&(C=i.ctx.createPattern(T,"repeat"),i.renderRepeat(U,C,K,J))):dee(u)&&(_=uy(n,r,[null,null,null]),U=_[0],k=_[1],R=_[2],S=_[3],ee=_[4],Ae=u.position.length===0?[kC]:u.position,K=nt(Ae[0],S),J=nt(Ae[Ae.length-1],ee),L=aee(u,K,J,S,ee),H=L[0],W=L[1],H>0&&W>0&&(G=i.ctx.createRadialGradient(k+K,R+J,0,k+K,R+J,H),DI(u.stops,H*2).forEach(function(ut){return G.addColorStop(ut.stop,Ht(ut.color))}),i.path(U),i.ctx.fillStyle=G,H!==W?(fe=n.bounds.left+.5*n.bounds.width,Be=n.bounds.top+.5*n.bounds.height,Je=W/H,Ge=1/Je,i.ctx.save(),i.ctx.translate(fe,Be),i.ctx.transform(1,0,0,Je,0,0),i.ctx.translate(-fe,-Be),i.ctx.fillRect(k,Ge*(R-Be)+Be,S,ee*Ge),i.ctx.restore()):i.ctx.fill())),st.label=6;case 6:return r--,[2]}})},i=this,A=0,a=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<a.length?(o=a[A],[5,s(o)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Un(this,void 0,void 0,function(){return mn(this,function(i){return this.path(fU(s,r)),this.ctx.fillStyle=Ht(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Un(this,void 0,void 0,function(){var A,a;return mn(this,function(o){switch(o.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return o.sent(),[2];case 2:return A=pre(i,s),this.path(A),this.ctx.fillStyle=Ht(n),this.ctx.fill(),a=gre(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o,c,u,h=this;return mn(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Wi(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=Tre(qa(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Wi(r.backgroundColor)||(this.ctx.fillStyle=Ht(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var m=ng(n.curves),y=g.inset?0:Ere,E=hre(m,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(m),h.ctx.clip(),h.mask(E)):(h.mask(m),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=g.offsetX.number+y,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Ht(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Ht(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,o=0,c=i,f.label=3;case 3:return o<c.length?(u=c[o],u.style!==0&&!Wi(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,A){return Un(this,void 0,void 0,function(){var a,o,c,u,h,f,g,m,y,E,x,v,w,F,T,Q,T,Q;return mn(this,function(b){return this.ctx.save(),a=mre(i,s),o=fU(i,s),A===2&&(this.path(o),this.ctx.clip()),gr(o[0])?(c=o[0].start.x,u=o[0].start.y):(c=o[0].x,u=o[0].y),gr(o[1])?(h=o[1].end.x,f=o[1].end.y):(h=o[1].x,f=o[1].y),s===0||s===2?g=Math.abs(c-h):g=Math.abs(u-f),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),m=r<3?r*3:r*2,y=r<3?r*2:r,A===3&&(m=r,y=r),E=!0,g<=m*2?E=!1:g<=m*2+y?(x=g/(2*m+y),m*=x,y*=x):(v=Math.floor((g+y)/(m+y)),w=(g-v*m)/(v-1),F=(g-(v+1)*m)/v,y=F<=0||Math.abs(y-w)<Math.abs(y-F)?w:F),E&&(A===3?this.ctx.setLineDash([0,m+y]):this.ctx.setLineDash([m,y])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ht(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(gr(o[0])&&(T=o[3],Q=o[0],this.ctx.beginPath(),this.formatPath([new ie(T.end.x,T.end.y),new ie(Q.start.x,Q.start.y)]),this.ctx.stroke()),gr(o[1])&&(T=o[1],Q=o[2],this.ctx.beginPath(),this.formatPath([new ie(T.end.x,T.end.y),new ie(Q.start.x,Q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Un(this,void 0,void 0,function(){var r;return mn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ht(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=fre(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(LR),bre=function(t){return t instanceof BR||t instanceof wR?!0:t instanceof LC&&t.type!==Zp&&t.type!==Jp},Tre=function(t,e){switch(t){case 0:return ng(e);case 2:return ore(e);case 1:default:return rg(e)}},Ire=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Ure=["-apple-system","system-ui"],Fre=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Ure.indexOf(e)===-1}):t},Sre=function(t){Gr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Un(this,void 0,void 0,function(){var r,s;return mn(this,function(i){switch(i.label){case 0:return r=Tw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Nre(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ht(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(LR),Nre=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Qre=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Th([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),kre=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new Qre({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new ere(this,e)}return t.instanceCount=1,t}(),Rre=function(t,e){return e===void 0&&(e={}),Pre(t,e)};typeof window<"u"&&NR.setContext(window);var Pre=function(t,e){return Un(void 0,void 0,void 0,function(){var n,r,s,i,A,a,o,c,u,h,f,g,m,y,E,x,v,w,F,T,b,Q,b,C,_,U,k,R,S,ee,Ae,K,J,L,H,W,G,fe,Be,Je;return mn(this,function(Ge){switch(Ge.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(C=e.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(_=e.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:e.proxy,useCORS:(U=e.useCORS)!==null&&U!==void 0?U:!1},i=dw({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},s),A={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:r.innerWidth,windowHeight:(S=e.windowHeight)!==null&&S!==void 0?S:r.innerHeight,scrollX:(ee=e.scrollX)!==null&&ee!==void 0?ee:r.pageXOffset,scrollY:(Ae=e.scrollY)!==null&&Ae!==void 0?Ae:r.pageYOffset},a=new ri(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new kre(i,a),c=(K=e.foreignObjectRendering)!==null&&K!==void 0?K:!1,u={allowTaint:(J=e.allowTaint)!==null&&J!==void 0?J:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new uU(o,t,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=Ge.sent(),m=jC(f)||Dne(f)?hJ(f.ownerDocument):hm(o,f),y=m.width,E=m.height,x=m.left,v=m.top,w=Dre(o,f,e.backgroundColor),F={canvas:e.canvas,backgroundColor:w,scale:(H=(L=e.scale)!==null&&L!==void 0?L:r.devicePixelRatio)!==null&&H!==void 0?H:1,x:((W=e.x)!==null&&W!==void 0?W:0)+x,y:((G=e.y)!==null&&G!==void 0?G:0)+v,width:(fe=e.width)!==null&&fe!==void 0?fe:Math.ceil(y),height:(Be=e.height)!==null&&Be!==void 0?Be:Math.ceil(E)},c?(o.logger.debug("Document cloned, using foreign object rendering"),b=new Sre(o,F),[4,b.render(f)]):[3,3];case 2:return T=Ge.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+x+","+v+" with size "+y+"x"+E+" using computed rendering"),o.logger.debug("Starting DOM parsing"),Q=ER(o,f),w===Q.styles.backgroundColor&&(Q.styles.backgroundColor=Hs.TRANSPARENT),o.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),b=new _re(o,F),[4,b.render(Q)];case 4:T=Ge.sent(),Ge.label=5;case 5:return(!((Je=e.removeContainer)!==null&&Je!==void 0)||Je)&&(uU.destroy(g)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,T]}})})},Dre=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?qc(t,getComputedStyle(r.documentElement).backgroundColor):Hs.TRANSPARENT,i=r.body?qc(t,getComputedStyle(r.body).backgroundColor):Hs.TRANSPARENT,A=typeof n=="string"?qc(t,n):n===null?Hs.TRANSPARENT:4294967295;return e===r.documentElement?Wi(s)?Wi(i)?A:i:s:A},Lre=Object.defineProperty,ig=Object.getOwnPropertySymbols,jR=Object.prototype.hasOwnProperty,MR=Object.prototype.propertyIsEnumerable,gU=(t,e,n)=>e in t?Lre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jre=(t,e)=>{for(var n in e||(e={}))jR.call(e,n)&&gU(t,n,e[n]);if(ig)for(var n of ig(e))MR.call(e,n)&&gU(t,n,e[n]);return t},Mre=(t,e)=>{var n={};for(var r in t)jR.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ig)for(var r of ig(t))e.indexOf(r)<0&&MR.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var pa;(t=>{const e=class{constructor(o,c,u,h){if(this.version=o,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),h==-1){let m=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const E=this.getPenaltyScore();E<m&&(h=y,m=E),this.applyMask(y)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(o,c){const u=t.QrSegment.makeSegments(o);return e.encodeSegments(u,c)}static encodeBinary(o,c){const u=t.QrSegment.makeBytes(o);return e.encodeSegments([u],c)}static encodeSegments(o,c,u=1,h=40,f=-1,g=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,y;for(m=u;;m++){const w=e.getNumDataCodewords(m,c)*8,F=a.getTotalBits(o,m);if(F<=w){y=F;break}if(m>=h)throw new RangeError("Data too long")}for(const w of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&y<=e.getNumDataCodewords(m,w)*8&&(c=w);let E=[];for(const w of o){r(w.mode.modeBits,4,E),r(w.numChars,w.mode.numCharCountBits(m),E);for(const F of w.getData())E.push(F)}i(E.length==y);const x=e.getNumDataCodewords(m,c)*8;i(E.length<=x),r(0,Math.min(4,x-E.length),E),r(0,(8-E.length%8)%8,E),i(E.length%8==0);for(let w=236;E.length<x;w^=253)r(w,8,E);let v=[];for(;v.length*8<E.length;)v.push(0);return E.forEach((w,F)=>v[F>>>3]|=w<<7-(F&7)),new e(m,c,v,f)}getModule(o,c){return 0<=o&&o<this.size&&0<=c&&c<this.size&&this.modules[c][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),c=o.length;for(let u=0;u<c;u++)for(let h=0;h<c;h++)u==0&&h==0||u==0&&h==c-1||u==c-1&&h==0||this.drawAlignmentPattern(o[u],o[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const c=this.errorCorrectionLevel.formatBits<<3|o;let u=c;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const h=(c<<10|u)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let u=0;u<12;u++)o=o<<1^(o>>>11)*7973;const c=this.version<<12|o;i(c>>>18==0);for(let u=0;u<18;u++){const h=s(c,u),f=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(f,g,h),this.setFunctionModule(g,f,h)}}drawFinderPattern(o,c){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(u)),g=o+h,m=c+u;0<=g&&g<this.size&&0<=m&&m<this.size&&this.setFunctionModule(g,m,f!=2&&f!=4)}}drawAlignmentPattern(o,c){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(o+h,c+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(o,c,u){this.modules[c][o]=u,this.isFunction[c][o]=!0}addEccAndInterleave(o){const c=this.version,u=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],g=Math.floor(e.getNumRawDataModules(c)/8),m=h-g%h,y=Math.floor(g/h);let E=[];const x=e.reedSolomonComputeDivisor(f);for(let w=0,F=0;w<h;w++){let T=o.slice(F,F+y-f+(w<m?0:1));F+=T.length;const Q=e.reedSolomonComputeRemainder(T,x);w<m&&T.push(0),E.push(T.concat(Q))}let v=[];for(let w=0;w<E[0].length;w++)E.forEach((F,T)=>{(w!=y-f||T>=m)&&v.push(F[w])});return i(v.length==g),v}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const g=u-f,y=(u+1&2)==0?this.size-1-h:h;!this.isFunction[y][g]&&c<o.length*8&&(this.modules[y][g]=s(o[c>>>3],7-(c&7)),c++)}}i(c==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let h;switch(o){case 0:h=(u+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+c)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:h=u*c%2+u*c%3==0;break;case 6:h=(u*c%2+u*c%3)%2==0;break;case 7:h=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&h&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[f][E]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[f][E],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][f]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[E][f],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const m=this.modules[f][g];m==this.modules[f][g+1]&&m==this.modules[f+1][g]&&m==this.modules[f+1][g+1]&&(o+=e.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((g,m)=>g+(m?1:0),c);const u=this.size*this.size,h=Math.ceil(Math.abs(c*20-u*10)/u)-1;return i(0<=h&&h<=9),o+=h*e.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let u=[6];for(let h=this.size-7;u.length<o;h-=c)u.splice(1,0,h);return u}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*o+128)*o+64;if(o>=2){const u=Math.floor(o/7)+2;c-=(25*u-10)*u-55,o>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(o,c){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<o-1;h++)c.push(0);c.push(1);let u=1;for(let h=0;h<o;h++){for(let f=0;f<c.length;f++)c[f]=e.reedSolomonMultiply(c[f],u),f+1<c.length&&(c[f]^=c[f+1]);u=e.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(o,c){let u=c.map(h=>0);for(const h of o){const f=h^u.shift();u.push(0),c.forEach((g,m)=>u[m]^=e.reedSolomonMultiply(g,f))}return u}static reedSolomonMultiply(o,c){if(o>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(c>>>h&1)*o;return i(u>>>8==0),u}finderPenaltyCountPatterns(o){const c=o[1];i(c<=this.size*3);const u=c>0&&o[2]==c&&o[3]==c*3&&o[4]==c&&o[5]==c;return(u&&o[0]>=c*4&&o[6]>=c?1:0)+(u&&o[6]>=c*4&&o[0]>=c?1:0)}finderPenaltyTerminateAndCount(o,c,u){return o&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(o,c){c[0]==0&&(o+=this.size),c.pop(),c.unshift(o)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(o,c,u){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let h=c-1;h>=0;h--)u.push(o>>>h&1)}function s(o,c){return(o>>>c&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const A=class{constructor(o,c,u){if(this.mode=o,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(o){let c=[];for(const u of o)r(u,8,c);return new A(A.Mode.BYTE,o.length,c)}static makeNumeric(o){if(!A.isNumeric(o))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<o.length;){const h=Math.min(o.length-u,3);r(parseInt(o.substr(u,h),10),h*3+1,c),u+=h}return new A(A.Mode.NUMERIC,o.length,c)}static makeAlphanumeric(o){if(!A.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=o.length;u+=2){let h=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;h+=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),r(h,11,c)}return u<o.length&&r(A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,c),new A(A.Mode.ALPHANUMERIC,o.length,c)}static makeSegments(o){return o==""?[]:A.isNumeric(o)?[A.makeNumeric(o)]:A.isAlphanumeric(o)?[A.makeAlphanumeric(o)]:[A.makeBytes(A.toUtf8ByteArray(o))]}static makeEci(o){let c=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,c);else if(o<16384)r(2,2,c),r(o,14,c);else if(o<1e6)r(6,3,c),r(o,21,c);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,c)}static isNumeric(o){return A.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return A.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,c){let u=0;for(const h of o){const f=h.mode.numCharCountBits(c);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u}static toUtf8ByteArray(o){o=encodeURI(o);let c=[];for(let u=0;u<o.length;u++)o.charAt(u)!="%"?c.push(o.charCodeAt(u)):(c.push(parseInt(o.substr(u+1,2),16)),u+=2);return c}};let a=A;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(pa||(pa={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(pa||(pa={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(pa||(pa={}));var _c=pa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Ore={L:_c.QrCode.Ecc.LOW,M:_c.QrCode.Ecc.MEDIUM,Q:_c.QrCode.Ecc.QUARTILE,H:_c.QrCode.Ecc.HIGH},Vre=128,Hre="L",Kre="#FFFFFF",zre="#000000",Gre=!1,OR=4,$re=.1;function Wre(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(A,a){if(!A&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!A)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}A&&i===null&&(i=a)})}),n.join("")}function qre(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Xre(t,e,n,r){if(r==null)return null;const s=n?OR:0,i=t.length+s*2,A=Math.floor(e*$re),a=i/e,o=(r.width||A)*a,c=(r.height||A)*a,u=r.x==null?t.length/2-o/2:r.x*a,h=r.y==null?t.length/2-c/2:r.y*a;let f=null;if(r.excavate){let g=Math.floor(u),m=Math.floor(h),y=Math.ceil(o+u-g),E=Math.ceil(c+h-m);f={x:g,y:m,w:y,h:E}}return{x:u,y:h,h:c,w:o,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function Yre(t){const e=t,{value:n,size:r=Vre,level:s=Hre,bgColor:i=Kre,fgColor:A=zre,includeMargin:a=Gre,imageSettings:o}=e,c=Mre(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=_c.QrCode.encodeText(n,Ore[s]).getModules();const h=a?OR:0,f=u.length+h*2,g=Xre(u,r,a,o);let m=null;o!=null&&g!=null&&(g.excavation!=null&&(u=qre(u,g.excavation)),m=tt.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));const y=Wre(u,h);return tt.createElement("svg",jre({height:r,width:r,viewBox:`0 0 ${f} ${f}`},c),tt.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),tt.createElement("path",{fill:A,d:y,shapeRendering:"crispEdges"}),m)}const Jre=({bookingData:t,settings:e,selectedDate:n,selectedTime:r,onDownload:s})=>{var a;const i=(a=e.serviceTypes.find(o=>o.id===t.service))==null?void 0:a.name,A=Hp(n)?et(n,"dd/MM/yyyy"):"";return A?l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsxs("div",{id:"ticket",className:"relative bg-[#f8f4e9] aspect-[9/16] rounded-2xl overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"bg-gradient-to-b from-[--theater-red] to-red-700 text-white p-6 text-center",children:[l.jsx(Pr,{className:"w-12 h-12 mx-auto mb-2"}),l.jsx("h1",{className:"text-2xl font-bold mb-1",children:e.eventName}),l.jsx("p",{className:"text-sm opacity-80",children:e.company.name})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-inner",children:[l.jsx(Yre,{value:t.ticketNumber,size:150,bgColor:"#ffffff",fgColor:"#D22B2B",level:"H",includeMargin:!1}),l.jsx("div",{className:"mt-2 text-center font-mono text-sm text-[--theater-red]",children:t.ticketNumber})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(Cn,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Data"}),l.jsx("div",{className:"font-semibold",children:A})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(ps,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Orario"}),l.jsx("div",{className:"font-semibold",children:r})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(Pr,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Servizio"}),l.jsx("div",{className:"font-semibold",children:i})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(Ea,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Cliente"}),l.jsxs("div",{className:"font-semibold truncate",children:[t.firstName," ",t.lastName]}),l.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.email})]})]})]}),l.jsxs("div",{className:"text-center text-sm text-gray-600 mt-auto",children:[l.jsx(D9,{className:"w-4 h-4 mx-auto mb-1"}),l.jsx("p",{children:e.company.address})]})]}),l.jsx("div",{className:"absolute top-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute top-0 right-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute bottom-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute bottom-0 right-4 w-2 h-2 bg-gray-800 rounded-full"})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 print:hidden",children:[t.calendarLinks&&l.jsxs(l.Fragment,{children:[l.jsxs("a",{href:t.calendarLinks.google,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[l.jsx(Tb,{className:"w-4 h-4"}),"Google Calendar"]}),l.jsxs("a",{href:t.calendarLinks.ical,download:"prenotazione.ics",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[l.jsx(Tb,{className:"w-4 h-4"}),"iCal/Outlook"]})]}),l.jsxs("button",{onClick:s,className:"col-span-2 flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(Vc,{className:"w-4 h-4"}),"Scarica Biglietto"]})]})]}):(console.error("Invalid date provided to TicketCard"),null)},Zre=({type:t,ticketNumber:e,onComplete:n})=>{const r={classic:{stamp:{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:12}},text:{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}}},modern:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},stamp:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20}},circle:{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}},vintage:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},stamp:{initial:{scale:1.5,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15}}}};return tt.useEffect(()=>{const s=setTimeout(n,2e3);return()=>clearTimeout(s)},[n]),t==="classic"?l.jsx(z.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx(z.div,{...r.classic.stamp,className:"bg-red-600 text-white p-8 rounded-lg shadow-xl transform",children:l.jsxs(z.div,{...r.classic.text,children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Prenotazione Confermata!"}),l.jsxs("p",{className:"text-lg",children:["Ticket #",e]})]})})}):t==="modern"?l.jsx(z.div,{...r.modern.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:l.jsxs(z.div,{...r.modern.stamp,className:"bg-gradient-to-br from-blue-500 to-purple-600 p-8 rounded-xl shadow-2xl text-white",children:[l.jsxs("svg",{className:"w-24 h-24 mx-auto mb-4",viewBox:"0 0 100 100",children:[l.jsx(z.circle,{...r.modern.circle,cx:"50",cy:"50",r:"45",stroke:"white",strokeWidth:"2",fill:"none"}),l.jsx(z.path,{...r.modern.circle,d:"M 30 50 L 45 65 L 70 35",stroke:"white",strokeWidth:"3",fill:"none"})]}),l.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Confermato"}),l.jsxs("p",{className:"text-center opacity-90",children:["#",e]})]})}):l.jsx(z.div,{...r.vintage.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:l.jsx(z.div,{...r.vintage.stamp,className:"bg-[#f8e5b9] p-8 rounded-lg border-4 border-[#8b4513] shadow-xl transform",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Cpath d="M0 0h20L0 20z"/%3E%3C/g%3E%3C/svg%3E")'},children:l.jsxs("div",{className:"text-[#8b4513] text-center",children:[l.jsx("h2",{className:"text-3xl font-serif mb-2",children:"APPROVATO"}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),l.jsx("p",{className:"font-mono",children:e}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),l.jsx("p",{className:"text-sm font-serif",children:"Carnevale Cinematografico"})]})})})},ese=t=>Mn.object({firstName:Mn.string().min(2,"Nome richiesto"),lastName:Mn.string().min(2,"Cognome richiesto"),email:Mn.string().email("Email non valida"),phone:Mn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service:Mn.enum(t,{required_error:"Seleziona un tipo di servizio"}),notes:Mn.string().optional()}),tse=({existingBookings:t=[]})=>{const{settings:e,loading:n}=wA(),[r,s]=I.useState(null),[i,A]=I.useState(""),[a,o]=I.useState(!1),[c,u]=I.useState(""),[h,f]=I.useState(null),[g,m]=I.useState(null),[y,E]=I.useState(!1),[x,v]=I.useState(!1),[w,F]=I.useState(null),[T,Q]=I.useState(""),b=(e==null?void 0:e.serviceTypes.filter(L=>L.enabled).map(L=>L.id))||[],C=ese(b),{register:_,handleSubmit:U,formState:{errors:k},reset:R,setValue:S}=f4({resolver:g4(C)});I.useEffect(()=>{if(e!=null&&e.serviceTypes&&!c){const L=e.serviceTypes.filter(H=>H.enabled);if(L.length>0){const H=L[0];u(H.id),S("service",H.id)}}},[e==null?void 0:e.serviceTypes,c,S]);const ee=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,Ae=(L,H)=>{const W=new Date(Date.UTC(L.getFullYear(),L.getMonth(),L.getDate()));s(W),A(H)},K=async L=>new Promise(H=>{var fe;const W=document.createElement("div");document.body.appendChild(W);const G=UB(W);G.render(l.jsx(Zre,{type:((fe=e==null?void 0:e.ticketTemplate)==null?void 0:fe.type)||"classic",ticketNumber:L,onComplete:()=>{G.unmount(),document.body.removeChild(W),H()}}))}),J=async L=>{var H,W;if(!r||!i||!e){m("Seleziona data e ora per la prenotazione");return}if(!QY(L.phone)){m("Inserisci un numero di telefono italiano valido (9-10 cifre)");return}E(!0),m(null);try{const G=SY(L.phone),fe=r.toISOString().split("T")[0],Be=ee(),Je=new Date(`${fe}T${i}`),Ge=new Date(Je.getTime()+e.bookingIntervals*6e4),st=((H=e.serviceTypes.find(BA=>BA.id===L.service))==null?void 0:H.name)||"Servizio Fotografico",ut=FY(e.eventName,`${st}
Prenotazione: ${Be}
Nome: ${L.firstName} ${L.lastName}`,Je,Ge);await Vr(St(me,"bookings"),{firstName:L.firstName,lastName:L.lastName,email:L.email,phone:G,service_type:L.service,booking_date:fe,booking_time:i,ticket_number:Be,notes:L.notes,status:"pending",created_at:Kn()}),F(r),Q(i),f({...L,ticketNumber:Be,calendarLinks:ut}),(W=e.ticketTemplate)!=null&&W.enabled&&await K(Be),v(!0),o(!0),R(),s(null),A("")}catch(G){console.error("Error creating booking:",G),m(G.message||"Errore durante la prenotazione. Riprova più tardi.")}finally{E(!1)}};return n?l.jsx("div",{className:"text-center text-white",children:"Caricamento..."}):x&&a&&h&&h.ticketNumber&&e&&w?l.jsx("div",{className:"max-w-3xl mx-auto p-4",children:l.jsx(Jre,{bookingData:h,settings:e,selectedDate:w,selectedTime:T,onDownload:()=>{const L=document.getElementById("ticket");L&&Rre(L,{scale:2,backgroundColor:"#f8f4e9",logging:!1,useCORS:!0,allowTaint:!0,onclone:H=>{const W=H.getElementById("ticket");W&&(W.style.display="block",W.style.width="800px",W.style.height="auto")}}).then(H=>{const W=document.createElement("a");W.download=`biglietto-${h.ticketNumber}.jpg`,W.href=H.toDataURL("image/jpeg",.95),W.click()})}})}):l.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("select",{..._("service"),value:c,onChange:L=>{u(L.target.value),S("service",L.target.value)},className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",children:[l.jsx("option",{value:"",children:"Seleziona servizio"}),e==null?void 0:e.serviceTypes.filter(L=>L.enabled).map(L=>l.jsx("option",{value:L.id,children:L.name},L.id))]}),k.service&&l.jsx("p",{className:"text-red-500 mt-1",children:k.service.message})]}),l.jsx(dJ,{onSlotSelect:Ae,selectedDate:r,selectedTime:i,selectedService:c})]}),l.jsxs("form",{onSubmit:U(J),className:"space-y-6",children:[g&&l.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:g}),r&&i&&l.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded mb-4",children:["Hai selezionato: ",r.toLocaleDateString()," alle ",i]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Nome"}),l.jsx("input",{..._("firstName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Mario"}),k.firstName&&l.jsx("p",{className:"text-red-500 mt-1",children:k.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Cognome"}),l.jsx("input",{..._("lastName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Rossi"}),k.lastName&&l.jsx("p",{className:"text-red-500 mt-1",children:k.lastName.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Email"}),l.jsx("input",{type:"email",..._("email"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"mario.rossi@example.com"}),k.email&&l.jsx("p",{className:"text-red-500 mt-1",children:k.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",..._("phone"),className:"w-full pl-10 p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Inserisci il numero senza prefisso (es: 3401234567)"})]}),k.phone&&l.jsx("p",{className:"text-red-500 mt-1",children:k.phone.message}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inserisci solo le cifre del numero senza prefisso internazionale"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{..._("notes"),rows:3,className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none"})]}),l.jsx("button",{type:"submit",disabled:y||!r||!i,className:"w-full bg-[--theater-red] text-white py-3 px-6 rounded-full hover:bg-red-700 transition-colors text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Conferma in corso...":"Conferma Prenotazione"})]})]})},nse=({type:t,title:e,subtitle:n,onComplete:r})=>{const s={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},curtainLeft:{initial:{scaleX:1,transformOrigin:"left"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},curtainRight:{initial:{scaleX:1,transformOrigin:"right"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},content:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5}}},i={container:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5}},content:{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8}}},A={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},content:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100}}};return tt.useEffect(()=>{const a=setTimeout(r,4e3);return()=>clearTimeout(a)},[r]),t==="curtain"?l.jsxs(z.div,{...s.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:[l.jsx(z.div,{...s.curtainLeft,className:"absolute top-0 left-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:l.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-black/40 to-transparent"})}),l.jsx(z.div,{...s.curtainRight,className:"absolute top-0 right-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:l.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-black/40 to-transparent"})}),l.jsxs(z.div,{...s.content,className:"text-center z-10",children:[l.jsx(Pr,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx(z.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,times:[0,.5,1],repeat:1},className:"text-white text-2xl",children:n})]})]}):t==="fade"?l.jsx(z.div,{...i.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:l.jsxs(z.div,{...i.content,className:"text-center",children:[l.jsx(Pr,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx("p",{className:"text-white text-2xl",children:n})]})}):l.jsx(z.div,{...A.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:l.jsxs(z.div,{...A.content,className:"text-center",children:[l.jsx(Pr,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx("p",{className:"text-white text-2xl",children:n})]})})},rse=({targetDate:t,eventName:e})=>{const[n,r]=I.useState({days:0,hours:0,minutes:0,seconds:0});return I.useEffect(()=>{const s=setInterval(()=>{const i=new Date(t),A=new Date;r({days:U4(i,A),hours:oX(i,A)%24,minutes:lX(i,A)%60,seconds:cX(i,A)%60})},1e3);return()=>clearInterval(s)},[t]),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h2",{className:"text-2xl text-white text-center",children:[e," inizia tra:"]}),l.jsx("div",{className:"flex justify-center gap-4 text-white",children:Object.entries(n).map(([s,i])=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-[--theater-red] rounded-lg p-3 min-w-[80px]",children:l.jsx("span",{className:"text-2xl font-bold",children:i})}),l.jsx("div",{className:"text-sm mt-1 capitalize",children:s})]},s))})]})},sse=()=>{var s,i;const{settings:t,loading:e}=wA(),[n,r]=I.useState(!0);return I.useState(!1),I.useEffect(()=>{var A;if((A=t==null?void 0:t.animation)!=null&&A.enabled){const a=setTimeout(()=>r(!1),4e3);return()=>clearTimeout(a)}else r(!1)},[(s=t==null?void 0:t.animation)==null?void 0:s.enabled]),e?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white text-xl flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:"⌛"}),"Caricamento..."]})}):l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(qt,{children:n&&((i=t==null?void 0:t.animation)==null?void 0:i.enabled)&&l.jsx(nse,{type:t.animation.type,title:t.animation.title||"Carnevale 2025",subtitle:t.animation.subtitle||"3... 2... 1...",onComplete:()=>r(!1)})}),l.jsx(z.div,{initial:{opacity:0},animate:{opacity:n?0:1},transition:{duration:.5},children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("header",{className:"mb-12",children:[l.jsxs(z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-center items-center mb-8",children:[t!=null&&t.company.logo?l.jsx("img",{src:t.company.logo,alt:t.company.name,className:"w-12 h-12 object-contain"}):l.jsx(Pr,{className:"w-12 h-12 text-[--theater-gold]"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-marquee text-[--theater-gold] ml-4",children:(t==null?void 0:t.company.name)||"Image Studio"})]}),(t==null?void 0:t.showCountdown)&&l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:l.jsx(rse,{targetDate:t.countdownDate,eventName:t.eventName})})]}),l.jsxs("main",{className:"max-w-6xl mx-auto",children:[l.jsx(z.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl md:text-4xl text-white text-center mb-8 font-marquee",children:"Prenota il tuo servizio fotografico"}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-800 rounded-lg shadow-xl p-4 md:p-8",children:l.jsx(tse,{})})]}),l.jsx(z.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 text-center text-gray-400",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm md:text-base",children:t==null?void 0:t.company.address}),(t==null?void 0:t.company.phone)&&l.jsxs("p",{className:"text-sm md:text-base",children:["Tel: ",t.company.phone]}),(t==null?void 0:t.company.email)&&l.jsxs("p",{className:"text-sm md:text-base",children:["Email: ",t.company.email]})]})})]})})]})},mU=({searchTerm:t,statusFilter:e,serviceFilter:n,serviceTypes:r=[],onSearchChange:s,onStatusFilterChange:i,onServiceFilterChange:A})=>{const{statuses:a=[]}=Bd();return l.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per nome, email, telefono o ticket...",value:t,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nu,{className:"text-gray-400 flex-shrink-0"}),l.jsxs("select",{value:e,onChange:o=>i(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),a.filter(o=>o.enabled).map(o=>l.jsx("option",{value:o.id,children:o.name},o.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cn,{className:"text-gray-400 flex-shrink-0"}),l.jsxs("select",{value:n,onChange:o=>A(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti i servizi"}),r.filter(o=>o.enabled).map(o=>l.jsx("option",{value:o.id,children:o.name},o.id))]})]})]})},ise=({booking:t,onEdit:e,onDelete:n,getServiceLabel:r,getStatusColor:s,onClick:i,isSelected:A})=>{const{getStatusName:a}=Bd();return l.jsxs("tr",{onClick:i,className:`border-b border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors ${A?"bg-gray-700/50":""}`,children:[l.jsxs("td",{className:"p-4 text-white",children:[l.jsx("div",{className:"font-medium",children:et(new Date(t.booking_date),"dd/MM/yyyy")}),l.jsx("div",{className:"text-sm text-gray-400",children:t.booking_time})]}),l.jsx("td",{className:"p-4 text-white",children:l.jsxs("div",{className:"font-medium",children:[t.firstName," ",t.lastName]})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-blue-400 hover:text-blue-300",children:[l.jsx(Ea,{size:16}),t.email]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-1 text-green-400 hover:text-green-300",children:[l.jsx(vl,{size:16}),t.phone]}),l.jsx("a",{href:NY(t.phone),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1 bg-green-600 text-white rounded-full hover:bg-green-700",title:"Contatta su WhatsApp",children:l.jsx(L9,{size:16})})]})]})}),l.jsx("td",{className:"p-4 text-white",children:r(t.service_type)}),l.jsx("td",{className:"p-4 text-white font-mono",children:t.ticket_number}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:s(t.status)},children:a(t.status)})}),l.jsx("td",{className:"p-4 text-white text-sm",children:t.notes||"-"}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:o=>{o.stopPropagation(),e()},className:"p-2 text-yellow-400 hover:text-yellow-300 transition-colors",title:"Modifica prenotazione",children:l.jsx(UQ,{size:20})}),l.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Elimina prenotazione",children:l.jsx(nA,{size:20})})]})})]})},Ase=({booking:t,editedBooking:e,serviceTypes:n,bookingStatuses:r,onClose:s,onSave:i,onChange:A})=>{const{statuses:a}=Bd(),[o,c]=I.useState(!1),[u,h]=I.useState(null),[f,g]=I.useState(!1),m=async y=>{y.preventDefault(),c(!0),h(null),g(!1);try{const E=Ve(me,"bookings",t.id),x={...e,updated_at:new Date().toISOString()};Object.keys(x).forEach(v=>x[v]===void 0&&delete x[v]),await Er(E,x),g(!0),setTimeout(()=>{i()},1500)}catch(E){console.error("Error updating booking:",E),h("Errore durante l'aggiornamento della prenotazione"),c(!1)}};return l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:l.jsx(Rn,{size:24})}),l.jsxs("h2",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(V9,{className:"text-[--theater-gold]"}),"Modifica Prenotazione"]}),u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Wt,{size:20}),u]}),f&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),"Prenotazione aggiornata con successo!"]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"date",value:e.booking_date||t.booking_date,onChange:y=>A({booking_date:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Ora"}),l.jsxs("div",{className:"relative",children:[l.jsx(ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"time",value:e.booking_time||t.booking_time,onChange:y=>A({booking_time:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),l.jsx("input",{type:"text",value:e.firstName||t.firstName,onChange:y=>A({firstName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),l.jsx("input",{type:"text",value:e.lastName||t.lastName,onChange:y=>A({lastName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"email",value:e.email||t.email,onChange:y=>A({email:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",value:e.phone||t.phone,onChange:y=>A({phone:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),l.jsx("select",{value:e.service_type||t.service_type,onChange:y=>A({service_type:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:n.filter(y=>y.enabled).map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Stato"}),l.jsx("select",{value:e.status||t.status,onChange:y=>A({status:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:a.filter(y=>y.enabled).map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note"}),l.jsxs("div",{className:"relative",children:[l.jsx(Vx,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("textarea",{value:e.notes||t.notes||"",onChange:y=>A({notes:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[l.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",disabled:o,children:"Annulla"}),l.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ln,{size:20}),"Salva Modifiche"]})})]})]})]})})},ase=async(t,e)=>{const n=e.reduce((s,i)=>s+i.price*i.quantity,0),r={bookingId:t,items:e,totalAmount:n,paidAmount:0,balance:n,status:"pending",createdAt:Kn()};try{return{id:(await Vr(St(me,"orders"),r)).id,...r}}catch(s){throw console.error("Error creating order:",s),s}},kw=async(t,e)=>{try{const n=Ve(me,"orders",t);await Er(n,{...e,updatedAt:Kn()})}catch(n){throw console.error("Error updating order:",n),n}},ose=async(t,e,n,r)=>{try{const s=Ve(me,"orders",t),i=await Or(s);if(!i.exists())throw new Error("Ordine non trovato");const A=i.data(),a=(A.paidAmount||0)+e,o=A.totalAmount-a,c=o<=0?"paid":o<A.totalAmount?"partial":"pending",u={orderId:t,amount:e,method:n,notes:r,date:Kn(),createdAt:Kn()};await Vr(St(me,"payment_history"),u),await Er(s,{paidAmount:a,balance:o,status:c,paymentDate:Kn(),updatedAt:Kn()})}catch(s){throw console.error("Error recording payment:",s),s}},lse=async(t,e)=>{try{const n=Ve(me,"payment_history",e),r=await Or(n);if(!r.exists())throw new Error("Pagamento non trovato");const s=r.data(),i=Ve(me,"orders",t),A=await Or(i);if(!A.exists())throw new Error("Ordine non trovato");const a=A.data(),o=a.paidAmount-s.amount,c=a.totalAmount-o,u=o===0?"pending":o<a.totalAmount?"partial":"paid";await Er(i,{paidAmount:o,balance:c,status:u,updatedAt:Kn()}),await kx(n)}catch(n){throw console.error("Error deleting payment:",n),n}},VR=async t=>{try{if(!(await Or(Ve(me,"orders",t))).exists())throw new Error("Ordine non trovato");const n=St(me,"payment_history"),r=fs(n,ca("orderId","==",t));try{return(await Uu(r)).docs.map(i=>{var A;return{id:i.id,...i.data(),date:(A=i.data().date)==null?void 0:A.toDate()}})}catch(s){return console.error("Error fetching payment history:",s),[]}}catch(e){return console.error("Error checking order:",e),[]}},cse=async(t,e,n,r)=>{var s,i;try{const A=(r==null?void 0:r.whatsappTemplate)||{header:`*🎭 CARNEVALE CINEMATOGRAFICO*

*👤 CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

*📝 PRODOTTI ORDINATI*
`,productFormat:`{index}. {productName}
   Quantità: {quantity}
   Prezzo: €{price}
   Totale: €{total}
`,paymentFormat:`{index}. {date}
   Metodo: {method}
   Importo: €{amount}
`,footer:`
📍 {address}
📞 Per assistenza: {phone}`};let a=A.header.replace("{firstName}",e.firstName||"").replace("{lastName}",e.lastName||"").replace("{ticketNumber}",e.ticket_number||"");t.items.length>0&&(t.items.forEach((c,u)=>{const h=n.find(f=>f.id===c.productId);h&&(a+=A.productFormat.replace("{index}",(u+1).toString()).replace("{productName}",h.name).replace("{quantity}",c.quantity.toString()).replace("{price}",c.price.toFixed(2)).replace("{total}",(c.price*c.quantity).toFixed(2)))}),a+=`
*💰 TOTALE ORDINE:* €${t.totalAmount.toFixed(2)}`);try{const c=await VR(t.id);c.length>0&&(a+=`

*💳 ACCONTI VERSATI*
`,c.forEach((u,h)=>{a+=A.paymentFormat.replace("{index}",(h+1).toString()).replace("{date}",u.date.toLocaleDateString()).replace("{method}",use(u.method)).replace("{amount}",u.amount.toFixed(2))}),t.balance>0&&(a+=`
*🔸 SALDO RIMANENTE:* €${t.balance.toFixed(2)}`))}catch(c){console.error("Error adding payment history to receipt:",c)}return a+=A.footer.replace("{address}",((s=r==null?void 0:r.company)==null?void 0:s.address)||"Via Quinto Orazio Flacco 5, Aversa").replace("{phone}",((i=r==null?void 0:r.company)==null?void 0:i.phone)||""),`https://wa.me/39${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(a)}`}catch(A){throw console.error("Error generating receipt:",A),new Error("Errore nella generazione della ricevuta WhatsApp")}},use=t=>{switch(t){case"cash":return"Contanti";case"card":return"Carta";case"transfer":return"Bonifico";default:return t}},dse=({order:t,isOpen:e,onClose:n})=>{const[r,s]=I.useState(t.notes||""),[i,A]=I.useState(!1),[a,o]=I.useState(null),c=async()=>{A(!0),o(null);try{await kw(t.id,{notes:r}),n()}catch(u){console.error("Error saving notes:",u),o("Errore durante il salvataggio delle note")}finally{A(!1)}};return l.jsx(qt,{children:e&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(Qo,{className:"text-[--theater-gold]"}),"Note Ordine"]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(Rn,{size:24})})]}),a&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6",children:a}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:r,onChange:u=>s(u.target.value),className:"w-full h-48 p-4 bg-gray-700 border border-gray-600 rounded text-white resize-none",placeholder:"Inserisci le note per questo ordine..."}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:c,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx(tm,{size:20}),"Salva Note"]})})]})]})]})})})},hse=({bookingId:t,booking:e})=>{const[n,r]=I.useState(null),[s,i]=I.useState(!1),[A,a]=I.useState(!1),[o,c]=I.useState(!1),[u,h]=I.useState(!1),[f,g]=I.useState({}),[m,y]=I.useState(0),[E,x]=I.useState("cash"),[v,w]=I.useState(""),[F,T]=I.useState([]),[Q,b]=I.useState(!1),[C,_]=I.useState(null);I.useState(null);const{settings:U}=wA();I.useEffect(()=>{const K=St(me,"orders"),J=fs(K,ca("bookingId","==",t)),L=yl(J,H=>{if(!H.empty){const W=H.docs[0].data();r({...W,id:H.docs[0].id})}});return()=>L()},[t]),I.useEffect(()=>{n&&o&&k()},[n,o]),I.useEffect(()=>{s&&g({})},[s]);const k=async()=>{if(n)try{const K=await VR(n.id);T(K)}catch(K){console.error("Error loading payment history:",K),_("Errore nel caricamento dello storico pagamenti")}},R=async()=>{b(!0),_(null);try{const K=Object.entries(f).map(([J,L])=>({productId:J,quantity:L.quantity,price:L.price}));if(n){const J=[...n.items,...K],L=J.reduce((H,W)=>H+W.price*W.quantity,0);await kw(n.id,{items:J,totalAmount:L,balance:L-(n.paidAmount||0)})}else await ase(t,K);i(!1),g({})}catch(K){console.error("Error adding products:",K),_("Errore durante l'aggiunta dei prodotti")}finally{b(!1)}},S=async K=>{if(n){b(!0),_(null);try{const J=n.items.filter(H=>H.productId!==K),L=J.reduce((H,W)=>H+W.price*W.quantity,0);await kw(n.id,{items:J,totalAmount:L,balance:L-(n.paidAmount||0)})}catch(J){console.error("Error removing product:",J),_("Errore durante la rimozione del prodotto")}finally{b(!1)}}},ee=async()=>{if(!(!n||!U))try{b(!0),_(null);const K=await cse(n,e,U.products,U);window.open(K,"_blank")}catch(K){console.error("Error generating receipt:",K),_("Errore nella generazione della ricevuta WhatsApp")}finally{b(!1)}},Ae=()=>!n||!U?null:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full ${n.status==="paid"?"bg-green-500/20 text-green-400":n.status==="partial"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.status==="paid"?"Pagato":n.status==="partial"?"Acconto":"In attesa"}),l.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["€",n.totalAmount.toFixed(2)]})]}),n.paidAmount>0&&l.jsxs("span",{className:"text-green-400 text-xs",children:["Pagato: €",n.paidAmount.toFixed(2)]})]}),l.jsx("div",{className:"space-y-2 mt-4",children:n.items.map((K,J)=>{const L=U.products.find(H=>H.id===K.productId);return L?l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between bg-gray-700 p-2 rounded",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[L.imageUrl&&l.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-10 h-10 object-cover rounded"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:L.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[K.quantity,"x €",K.price.toFixed(2)]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-[--theater-gold]",children:["€",(K.quantity*K.price).toFixed(2)]}),l.jsx("button",{onClick:()=>S(K.productId),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Rimuovi prodotto",children:l.jsx(nA,{size:16})})]})]},`${K.productId}-${J}`):null})}),n.notes&&l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 mt-2",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Qo,{size:16,className:"text-yellow-400 mt-1 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-yellow-400 line-clamp-2",children:n.notes})]})})]});return l.jsxs("div",{className:"space-y-2",children:[n?l.jsxs(l.Fragment,{children:[Ae(),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm",children:[l.jsx(tA,{size:14}),"Prodotti"]}),l.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600/20 text-green-400 rounded hover:bg-green-600/30 text-sm",children:[l.jsx(Lv,{size:14}),"Pagamento"]}),l.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 text-sm",children:[l.jsx(ps,{size:14}),"Storico"]}),l.jsxs("button",{onClick:ee,disabled:Q,className:"inline-flex items-center gap-1 px-2 py-1 bg-[#25D366]/20 text-[#25D366] rounded hover:bg-[#25D366]/30 text-sm disabled:opacity-50",children:[Q?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsx(M9,{size:14}),"Ricevuta"]}),l.jsxs("button",{onClick:()=>h(!0),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${n.notes?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(Qo,{size:14}),n.notes?"Modifica Note":"Note"]})]})]}):l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 text-sm font-medium",children:[l.jsx(tA,{size:16}),"Nuovo Ordine"]})}),l.jsxs(qt,{children:[s&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:n?"Aggiungi Prodotti all'Ordine":"Nuovo Ordine"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:U==null?void 0:U.products.filter(K=>K.enabled).map(K=>{var J;return l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[K.imageUrl&&l.jsx("img",{src:K.imageUrl,alt:K.name,className:"w-full h-32 object-cover rounded mb-3"}),l.jsx("h4",{className:"text-white font-medium",children:K.name}),l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:K.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[--theater-gold]",children:["€",K.price.toFixed(2)]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{type:"number",min:"0",value:((J=f[K.id])==null?void 0:J.quantity)||0,onChange:L=>{const H=parseInt(L.target.value);if(H===0){const{[K.id]:W,...G}=f;g(G)}else g({...f,[K.id]:{quantity:H,price:K.price}})},className:"w-20 p-1 bg-gray-600 border border-gray-500 rounded text-white text-center"})})]})]},K.id)})}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{onClick:()=>{i(!1),g({})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:R,disabled:Object.keys(f).length===0||Q,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:Q?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),n?"Aggiunta in corso...":"Creazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ln,{size:20}),n?"Aggiungi Prodotti":"Crea Ordine"]})})]})]})}),A&&n&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Registra Pagamento"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Totale da Pagare:"}),l.jsxs("span",{className:"block text-xl text-[--theater-gold]",children:["€",n.totalAmount.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Saldo Rimanente:"}),l.jsxs("span",{className:"block text-xl text-red-400",children:["€",n.balance.toFixed(2)]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Importo Pagamento"}),l.jsxs("div",{className:"relative",children:[l.jsx(Lv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"number",step:"0.01",min:"0",max:n.balance,value:m,onChange:K=>y(parseFloat(K.target.value)),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Metodo di Pagamento"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>x("cash"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="cash"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(_b,{size:16}),"Contanti"]}),l.jsxs("button",{type:"button",onClick:()=>x("card"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="card"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(Su,{size:16}),"Carta"]}),l.jsxs("button",{type:"button",onClick:()=>x("transfer"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="transfer"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(Sb,{size:16}),"Bonifico"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{value:v,onChange:K=>w(K.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Aggiungi una nota per questo pagamento..."})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{onClick:()=>{a(!1),y(0),x("cash"),w("")},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:async()=>{b(!0);try{await ose(n.id,m,E,v),a(!1),y(0),x("cash"),w("")}catch(K){console.error("Error recording payment:",K),_("Errore durante la registrazione del pagamento")}finally{b(!1)}},disabled:m<=0||m>n.balance||Q,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:Q?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),"Registrazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ln,{size:20}),"Conferma Pagamento"]})})]})]})]})}),o&&n&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(ps,{className:"text-[--theater-gold]"}),"Storico Pagamenti"]}),C&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Wt,{size:20}),C]}),l.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[F.map(K=>l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["€",K.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-400 mt-1",children:K.date.toLocaleDateString()}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[K.method==="cash"&&l.jsx(_b,{size:16,className:"text-green-400"}),K.method==="card"&&l.jsx(Su,{size:16,className:"text-blue-400"}),K.method==="transfer"&&l.jsx(Sb,{size:16,className:"text-purple-400"}),l.jsx("span",{className:"text-gray-300",children:K.method==="cash"?"Contanti":K.method==="card"?"Carta":"Bonifico"})]})]}),K.notes&&l.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[l.jsx(Qo,{size:14,className:"mt-1"}),l.jsx("p",{children:K.notes})]}),l.jsx("button",{onClick:()=>{window.confirm("Sei sicuro di voler eliminare questo pagamento?")&&lse(n.id,K.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",title:"Elimina pagamento",children:l.jsx(nA,{size:16})})]})},K.id)),F.length===0&&l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessun pagamento registrato"})]})]})}),u&&n&&l.jsx(dse,{order:n,isOpen:u,onClose:()=>h(!1)})]}),C&&l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mt-4",children:C})]})},Xh=10,fse=({bookings:t,serviceTypes:e,bookingStatuses:n,getServiceLabel:r,getStatusColor:s})=>{const[i,A]=I.useState(null),[a,o]=I.useState(null),[c,u]=I.useState({}),[h,f]=I.useState(null),[g,m]=I.useState(1),y=C=>{A(i===C?null:C)},E=C=>{o(C),u({...C})},x=async()=>{if(a)try{const C=Ve(me,"bookings",a.id);await Er(C,{...c,updated_at:new Date().toISOString()}),o(null),u({})}catch(C){console.error("Error saving booking:",C),f("Errore durante il salvataggio della prenotazione")}},v=async C=>{if(window.confirm("Sei sicuro di voler eliminare questa prenotazione?"))try{f(null),await kx(Ve(me,"bookings",C)),i===C&&A(null),(a==null?void 0:a.id)===C&&(o(null),u({}))}catch(_){console.error("Error deleting booking:",_),f("Errore durante l'eliminazione della prenotazione")}},w=()=>{o(null),u({})},F=[...t].sort((C,_)=>{const U=C.booking_date.localeCompare(_.booking_date);return U!==0?U:C.booking_time.localeCompare(_.booking_time)}),T=Math.ceil(F.length/Xh),Q=(g-1)*Xh,b=F.slice(Q,Q+Xh);return l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[h&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 m-4 rounded-lg",children:h}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Data e Ora"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Cliente"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Contatti"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Servizio"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Ticket"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Stato"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Note"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Azioni"})]})}),l.jsx("tbody",{children:b.map(C=>l.jsxs(tt.Fragment,{children:[l.jsx(ise,{booking:C,onEdit:()=>E(C),onDelete:()=>v(C.id),getServiceLabel:r,getStatusColor:s,onClick:()=>y(C.id),isSelected:i===C.id}),i===C.id&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-4 bg-gray-700/30",children:l.jsx(hse,{bookingId:C.id,booking:C})})})]},C.id))})]})}),T>1&&l.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-gray-700",children:[l.jsxs("button",{onClick:()=>m(C=>Math.max(1,C-1)),disabled:g===1,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(em,{size:20}),"Precedente"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-gray-400",children:["Pagina ",g," di ",T]}),l.jsxs("span",{className:"text-gray-400",children:["(",Q+1,"-",Math.min(Q+Xh,F.length)," di ",F.length,")"]})]}),l.jsxs("button",{onClick:()=>m(C=>Math.min(T,C+1)),disabled:g===T,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:["Successiva",l.jsx(Fu,{size:20})]})]}),l.jsx(qt,{children:a&&l.jsx(Ase,{booking:a,editedBooking:c,serviceTypes:e,bookingStatuses:n,onClose:w,onSave:x,onChange:u})})]})},pse=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(!1);I.useEffect(()=>{o()},[]);const o=async()=>{if(!tn.currentUser){r(!1);return}try{await db(me,async h=>{const f=Ve(me,"users",tn.currentUser.uid),g=await h.get(f);if(!g.exists())h.set(f,{email:tn.currentUser.email,createdAt:new Date,updatedAt:new Date}),e(!1);else{const m=g.data();e(!!(m!=null&&m.googleCalendarToken))}})}catch(h){console.error("Error checking calendar connection:",h),h.code==="permission-denied"?e(!1):i("Errore durante la verifica della connessione")}finally{r(!1)}},c=()=>{if(!tn.currentUser){i("Devi essere autenticato per connettere il calendario");return}{i("Configurazione Google Calendar non disponibile");return}},u=async()=>{if(!tn.currentUser){i("Devi essere autenticato per disconnettere il calendario");return}try{r(!0),i(null),await db(me,async h=>{const f=Ve(me,"users",tn.currentUser.uid);if(!(await h.get(f)).exists())throw new Error("User document not found");h.update(f,{googleCalendarToken:null,googleCalendarRefreshToken:null,calendarConnected:!1,updatedAt:new Date})}),e(!1),a(!0),setTimeout(()=>a(!1),3e3)}catch(h){console.error("Error disconnecting calendar:",h),h.code==="permission-denied"?i("Non hai i permessi per disconnettere il calendario"):i("Errore durante la disconnessione del calendario")}finally{r(!1)}};return n?l.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[l.jsx(P9,{className:"animate-spin",size:20}),l.jsx("span",{children:"Verifica connessione..."})]}):l.jsxs("div",{className:"space-y-4",children:[s&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Wt,{size:20}),s]}),A&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),t?"Calendario connesso con successo!":"Calendario disconnesso con successo!"]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:t?"Calendario Connesso":"Connetti Google Calendar"}),l.jsx("p",{className:"text-gray-400",children:t?"Le tue prenotazioni verranno automaticamente sincronizzate con il tuo Google Calendar":"Connetti il tuo Google Calendar per sincronizzare automaticamente le prenotazioni"})]}),l.jsx(z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t?u:c,disabled:n,className:`flex items-center gap-2 px-6 py-2 rounded transition-colors ${t?"bg-red-500 text-white hover:bg-red-600":"bg-[--theater-gold] text-black hover:bg-yellow-500"} disabled:opacity-50`,children:n?l.jsx("span",{className:"animate-spin",children:"⌛"}):t?l.jsxs(l.Fragment,{children:[l.jsx(z9,{size:20}),"Disconnetti"]}):l.jsxs(l.Fragment,{children:[l.jsx(k9,{size:20}),"Connetti"]})})]}),t&&l.jsx("div",{className:"text-sm text-gray-400",children:l.jsx("p",{children:"Le nuove prenotazioni verranno automaticamente aggiunte al tuo Google Calendar. Puoi disconnettere il calendario in qualsiasi momento."})})]})},gse=({settings:t,onChange:e})=>{var s,i,A,a;const n=(o,c)=>{e({company:{...t.company,[o]:c}})},r=(o,c)=>{e({whatsappTemplate:{...t.whatsappTemplate,[o]:c}})};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Informazioni Aziendali"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(bb,{size:16}),"Nome Azienda"]}),l.jsx("input",{type:"text",value:t.company.name,onChange:o=>n("name",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Ib,{size:16}),"Logo URL"]}),l.jsx("input",{type:"url",value:t.company.logo,onChange:o=>n("logo",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/logo.png"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(bb,{size:16}),"Indirizzo"]}),l.jsx("input",{type:"text",value:t.company.address,onChange:o=>n("address",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Ib,{size:16}),"Sito Web"]}),l.jsx("input",{type:"url",value:t.company.website,onChange:o=>n("website",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Cn,{className:"text-[--theater-gold]"}),"Sincronizzazione Google Calendar"]}),l.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:l.jsx(pse,{})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Vx,{className:"text-[--theater-gold]"}),"Template WhatsApp"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Intestazione Messaggio"}),l.jsx("textarea",{value:((s=t.whatsappTemplate)==null?void 0:s.header)||`*🎭 CARNEVALE CINEMATOGRAFICO*

*👤 CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

*📝 PRODOTTI ORDINATI*`,onChange:o=>r("header",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-32",placeholder:"Intestazione del messaggio..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Prodotto"}),l.jsx("textarea",{value:((i=t.whatsappTemplate)==null?void 0:i.productFormat)||`{index}. {productName}
   Quantità: {quantity}
   Prezzo: {price}
   Totale: {total}
`,onChange:o=>r("productFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni prodotto..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Pagamento"}),l.jsx("textarea",{value:((A=t.whatsappTemplate)==null?void 0:A.paymentFormat)||`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,onChange:o=>r("paymentFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni pagamento..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Footer Messaggio"}),l.jsx("textarea",{value:((a=t.whatsappTemplate)==null?void 0:a.footer)||`
📍 {address}
📞 Per assistenza: {phone}`,onChange:o=>r("footer",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Footer del messaggio..."})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-2",children:"Variabili Disponibili"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Generali:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:["{firstName}"," - Nome cliente"]}),l.jsxs("li",{children:["{lastName}"," - Cognome cliente"]}),l.jsxs("li",{children:["{ticketNumber}"," - Numero ticket"]}),l.jsxs("li",{children:["{address}"," - Indirizzo"]}),l.jsxs("li",{children:["{phone}"," - Telefono"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Prodotti:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:["{index}"," - Numero prodotto"]}),l.jsxs("li",{children:["{productName}"," - Nome prodotto"]}),l.jsxs("li",{children:["{quantity}"," - Quantità"]}),l.jsxs("li",{children:["{price}"," - Prezzo unitario"]}),l.jsxs("li",{children:["{total}"," - Totale prodotto"]})]})]})]})]})]})]})]})},mse=[{value:0,label:"Domenica"},{value:1,label:"Lunedì"},{value:2,label:"Martedì"},{value:3,label:"Mercoledì"},{value:4,label:"Giovedì"},{value:5,label:"Venerdì"},{value:6,label:"Sabato"}],yse=[{value:15,label:"15 minuti"},{value:30,label:"30 minuti"},{value:45,label:"45 minuti"},{value:60,label:"1 ora"},{value:90,label:"1 ora e 30 minuti"},{value:120,label:"2 ore"}],vse=({serviceTypes:t,newServiceType:e,onServiceTypeChange:n,onNewServiceTypeChange:r,onAddServiceType:s,onRemoveServiceType:i})=>{const[A,a]=I.useState(null),[o,c]=I.useState(""),[u,h]=I.useState(null),f=(m,y)=>{const v=(t[m].excludedDays||[]).map(Number),F=v.indexOf(y)>=0?v.filter(T=>T!==y):[...v,y];F.sort((T,Q)=>T-Q),n(m,"excludedDays",F)},g=m=>{var x;if(!o){h("Seleziona una data da escludere");return}const y=t[m];if(y.bookingStartDate&&y.bookingEndDate){const v=new Date(o),w=new Date(y.bookingStartDate),F=new Date(y.bookingEndDate);if(v<w||v>F){h("La data deve essere compresa nel periodo di prenotazione");return}}if((x=y.excludedDates)!=null&&x.includes(o)){h("Questa data è già stata esclusa");return}const E=[...y.excludedDates||[],o].sort();n(m,"excludedDates",E),c(""),a(null),h(null)};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Tipi di Servizio"}),l.jsx("div",{className:"space-y-4",children:t.map((m,y)=>l.jsxs(z.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:m.name,onChange:E=>n(y,"name",E.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"Nome servizio"}),l.jsxs("label",{className:"flex items-center gap-2 text-white",children:[l.jsx("input",{type:"checkbox",checked:m.enabled,onChange:E=>n(y,"enabled",E.target.checked),className:"w-4 h-4"}),"Attivo"]}),l.jsx("button",{type:"button",onClick:()=>i(y),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(nA,{size:20})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(ps,{size:16}),"Durata Servizio"]}),l.jsx("select",{value:m.duration||30,onChange:E=>n(y,"duration",parseInt(E.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white",children:yse.map(E=>l.jsx("option",{value:E.value,children:E.label},E.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Cn,{size:16}),"Data Inizio Prenotazioni"]}),l.jsx("input",{type:"date",value:m.bookingStartDate||"",onChange:E=>n(y,"bookingStartDate",E.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Cn,{size:16}),"Data Fine Prenotazioni"]}),l.jsx("input",{type:"date",value:m.bookingEndDate||"",onChange:E=>n(y,"bookingEndDate",E.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(dc,{size:16}),"Giorni della Settimana Esclusi"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:mse.map(E=>l.jsxs(z.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(y,E.value),className:`
                      px-3 py-1 rounded-full text-sm flex items-center gap-2 transition-colors
                      ${(m.excludedDays||[]).includes(E.value)?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
                    `,children:[(m.excludedDays||[]).includes(E.value)&&l.jsx(dc,{size:14,className:"text-red-400"}),E.label]},E.value))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(dc,{size:16}),"Date Specifiche Escluse"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(qt,{mode:"popLayout",children:(m.excludedDates||[]).map(E=>l.jsxs(z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[l.jsx(dc,{size:14}),et(new Date(E),"dd MMM yyyy",{locale:ys}),l.jsx("button",{type:"button",onClick:()=>{const x=(m.excludedDates||[]).filter(v=>v!==E);n(y,"excludedDates",x)},className:"text-red-400 hover:text-red-300",children:l.jsx(Rn,{size:14})})]},E))})}),l.jsx(qt,{children:u&&l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-400 text-sm mt-2",children:[l.jsx(Wt,{size:14}),u]})}),A===m.id?l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex gap-2",children:[l.jsx("input",{type:"date",value:o,onChange:E=>{c(E.target.value),h(null)},className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",min:m.bookingStartDate,max:m.bookingEndDate}),l.jsxs("button",{type:"button",onClick:()=>g(y),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[l.jsx(ln,{size:16}),"Aggiungi"]}),l.jsxs("button",{type:"button",onClick:()=>{a(null),c(""),h(null)},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500",children:[l.jsx(Rn,{size:16}),"Annulla"]})]}):l.jsxs(z.button,{type:"button",onClick:()=>a(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 text-sm text-[--theater-gold] hover:text-yellow-500",children:[l.jsx(tA,{size:14}),"Aggiungi data esclusa"]})]})]})]},m.id))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"text",value:e.name,onChange:m=>r({...e,name:m.target.value}),placeholder:"Nuovo tipo di servizio",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white"}),l.jsxs(z.button,{type:"button",onClick:s,disabled:!e.name,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(tA,{size:20}),"Aggiungi"]})]})]})},wse=({breakTimes:t,newBreakTime:e,onBreakTimeChange:n,onNewBreakTimeChange:r,onAddBreakTime:s,onRemoveBreakTime:i})=>l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Pause e Intervalli"}),l.jsx("div",{className:"space-y-4",children:t.map((A,a)=>l.jsxs("div",{className:"flex items-center gap-4 bg-gray-700 p-4 rounded",children:[l.jsx("input",{type:"time",value:A.start,onChange:o=>n(a,"start",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),l.jsx("span",{className:"text-white",children:"a"}),l.jsx("input",{type:"time",value:A.end,onChange:o=>n(a,"end",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),l.jsxs("label",{className:"flex items-center gap-2 text-white",children:[l.jsx("input",{type:"checkbox",checked:A.enabled,onChange:o=>n(a,"enabled",o.target.checked),className:"w-4 h-4"}),"Attivo"]}),l.jsx("button",{type:"button",onClick:()=>i(a),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(nA,{size:20})})]},a))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"time",value:e.start,onChange:A=>r({...e,start:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inizio pausa"}),l.jsx("input",{type:"time",value:e.end,onChange:A=>r({...e,end:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Fine pausa"}),l.jsxs("button",{type:"button",onClick:s,disabled:!e.start||!e.end,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(tA,{size:20}),"Aggiungi Pausa"]})]})]}),Bse=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],yU=({color:t,onChange:e})=>l.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-xl border border-gray-700 w-64",children:[l.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:Bse.map(n=>l.jsx("button",{onClick:()=>e(n),className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${t===n?"ring-2 ring-white ring-offset-2 ring-offset-gray-800":""}`,style:{backgroundColor:n},title:n},n))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm text-gray-300",children:"Custom Color"}),l.jsx("input",{type:"color",value:t,onChange:n=>e(n.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),xse=({statuses:t,onSave:e})=>{const[n,r]=I.useState(t.map(w=>({...w,enabled:w.enabled??!0}))),[s,i]=I.useState(null),[A,a]=I.useState(!1),[o,c]=I.useState(null),[u,h]=I.useState({name:"",color:"#4CAF50",enabled:!0}),[f,g]=I.useState(null),m=w=>{g(w),setTimeout(()=>g(null),3e3)},y=async()=>{if(!u.name){i("Inserisci un nome per lo stato");return}if(n.some(Q=>Q.name.toLowerCase()===u.name.toLowerCase())){i("Esiste già uno stato con questo nome");return}const w=u.name.toLowerCase().replace(/\s+/g,"_"),F={...u,id:w,enabled:!0},T=[...n,F];r(T);try{a(!0),await e(T),h({name:"",color:"#4CAF50",enabled:!0}),i(null),m("Nuovo stato aggiunto con successo")}catch(Q){console.error("Error saving new status:",Q),i("Errore durante il salvataggio del nuovo stato"),r(n)}finally{a(!1)}},E=async(w,F,T)=>{const Q=[...n];Q[w]={...Q[w],[F]:T},r(Q);try{a(!0),await e(Q),m("Modifiche salvate con successo")}catch(b){console.error("Error saving status changes:",b),i("Errore durante il salvataggio delle modifiche"),r(n)}finally{a(!1)}},x=async(w,F)=>{await E(w,"color",F)},v=async w=>{const F=n.filter((T,Q)=>Q!==w);try{a(!0),await e(F),r(F),m("Stato rimosso con successo")}catch(T){console.error("Error removing status:",T),i("Errore durante la rimozione dello stato")}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(OA,{className:"text-[--theater-gold]"}),"Stati Prenotazione"]})}),l.jsxs(qt,{children:[s&&l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Wt,{size:20}),s]}),f&&l.jsxs(z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Wt,{size:20}),f]})]}),l.jsx("div",{className:"space-y-4",children:n.map((w,F)=>l.jsx(z.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:w.name,onChange:T=>E(F,"name",T.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white focus:border-[--theater-gold] transition-colors",placeholder:"Nome stato"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>c(o===w.id?null:w.id),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:w.color}}),o===w.id&&l.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[l.jsx("div",{className:"fixed inset-0",onClick:()=>c(null)}),l.jsx(yU,{color:w.color,onChange:T=>x(F,T)})]})]}),l.jsxs("label",{className:"flex items-center gap-2 text-white hover:text-[--theater-gold] transition-colors cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:w.enabled,onChange:T=>E(F,"enabled",T.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Attivo"]}),l.jsx("button",{onClick:()=>v(F),className:"p-2 text-red-400 hover:text-red-300 hover:scale-110 transition-all",title:"Rimuovi stato",disabled:A,children:l.jsx(nA,{size:20})})]})},w.id))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"text",value:u.name,onChange:w=>h({...u,name:w.target.value}),placeholder:"Nuovo stato",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-[--theater-gold] transition-colors"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>c(o==="new"?null:"new"),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:u.color}}),o==="new"&&l.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[l.jsx("div",{className:"fixed inset-0",onClick:()=>c(null)}),l.jsx(yU,{color:u.color,onChange:w=>h({...u,color:w})})]})]}),l.jsxs(z.button,{onClick:y,disabled:!u.name||A,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[l.jsx(tA,{size:20}),A?"Aggiunta...":"Aggiungi"]})]})]})},Cse=({settings:t,onChange:e})=>{var r,s,i,A;const n=(a,o)=>{e({social:{...t.social,[a]:o}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(rm,{className:"text-[--theater-gold]"}),"Impostazioni Condivisione Social"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(Ms,{size:16}),"Immagine Anteprima"]}),l.jsx("input",{type:"url",value:((r=t.social)==null?void 0:r.image)||"",onChange:a=>n("image",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/image.jpg"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Dimensioni consigliate: 1200x630 pixel"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(K9,{size:16}),"Titolo Anteprima"]}),l.jsx("input",{type:"text",value:((s=t.social)==null?void 0:s.title)||"",onChange:a=>n("title",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale Cinematografico 2025"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(Qo,{size:16}),"Descrizione Anteprima"]}),l.jsx("textarea",{value:((i=t.social)==null?void 0:i.description)||"",onChange:a=>n("description",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(N9,{size:16}),"URL Sito"]}),l.jsx("input",{type:"url",value:((A=t.social)==null?void 0:A.url)||"",onChange:a=>n("url",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://gennaromazzacane.it/carnival2025"})]}),l.jsx("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-4",children:l.jsx("div",{className:"flex items-start gap-2",children:l.jsxs("div",{className:"text-blue-400 text-sm",children:[l.jsx("p",{className:"font-medium mb-1",children:"Anteprima Social"}),l.jsx("p",{children:"Queste impostazioni controllano come appare il link quando viene condiviso su WhatsApp, Facebook e altri social media. L'immagine dovrebbe essere rappresentativa del tuo evento e catturare l'attenzione."})]})})})]})]})},Ese=({type:t,enabled:e,onChange:n})=>{const r=s=>{const i="w-full aspect-[9/16] rounded-lg overflow-hidden";switch(s){case"classic":return l.jsxs("div",{className:`${i} bg-gradient-to-br from-red-600 to-red-700 text-white p-6 flex flex-col`,children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Vc,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold",children:"Carnevale 2025"}),l.jsx("p",{className:"text-sm opacity-75",children:"CNC-123456"})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-4",children:[l.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-75",children:"Nome"}),l.jsx("p",{className:"font-bold",children:"Mario Rossi"})]}),l.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-75",children:"Data"}),l.jsx("p",{className:"font-bold",children:"01/03/2025"})]})]})]});case"modern":return l.jsx("div",{className:`${i} bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6`,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[l.jsx(Vc,{className:"w-16 h-16 mx-auto mb-6"}),l.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Carnevale"}),l.jsx("p",{className:"text-lg mb-8",children:"2025"}),l.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-xl",children:l.jsx("p",{className:"font-mono text-xl",children:"CNC-123456"})})]}),l.jsx("div",{className:"mt-auto text-center",children:l.jsx("p",{className:"text-sm opacity-75",children:"Via Quinto Orazio Flacco 5, Aversa"})})]})});case"vintage":return l.jsx("div",{className:`${i} bg-[#f8e5b9] p-6 border-8 border-[#8b4513]`,children:l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#8b4513]",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-3xl font-serif mb-2",children:"CARNEVALE"}),l.jsx("p",{className:"text-xl font-serif",children:"CINEMATOGRAFICO"})]}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),l.jsx("div",{className:"font-mono text-xl mb-6",children:"CNC-123456"}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),l.jsxs("div",{className:"text-center mt-auto",children:[l.jsx("p",{className:"font-serif",children:"01 Marzo 2025"}),l.jsx("p",{className:"font-serif text-sm mt-2",children:"Aversa"})]})]})})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Vc,{className:"text-[--theater-gold]"}),"Template Ticket"]}),l.jsx("div",{className:"grid grid-cols-3 gap-6",children:["classic","modern","vintage"].map(s=>l.jsxs(z.div,{whileHover:{scale:1.02},className:`relative cursor-pointer rounded-lg overflow-hidden ${t===s?"ring-2 ring-[--theater-gold]":""}`,onClick:()=>n({type:s,enabled:e}),children:[r(s),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsx("button",{className:"px-4 py-2 bg-[--theater-gold] text-black rounded-lg",children:"Seleziona"})})]},s))}),l.jsx("div",{className:"mt-6",children:l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e,onChange:s=>n({type:t,enabled:s.target.checked}),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione ticket"]})})]})},_se=({enabled:t,title:e,subtitle:n,type:r,onChange:s})=>{var a;const i=[{id:"curtain",label:"Sipario",description:"Un elegante sipario teatrale che si apre per rivelare il contenuto"},{id:"fade",label:"Dissolvenza",description:"Una transizione fluida con dissolvenza del contenuto"},{id:"slide",label:"Scorrimento",description:"Un effetto dinamico di scorrimento laterale"}],A=o=>c=>{s({enabled:t,title:e,subtitle:n,type:r,[o]:c})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Pr,{className:"text-[--theater-gold]"}),"Animazione Introduttiva"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t,onChange:o=>A("enabled")(o.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione all'apertura"]})}),t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Titolo Animazione"}),l.jsx("input",{type:"text",value:e,onChange:o=>A("title")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale 2025"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Sottotitolo"}),l.jsx("input",{type:"text",value:n,onChange:o=>A("subtitle")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"3... 2... 1..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-4",children:"Tipo Animazione"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(o=>l.jsxs(z.button,{type:"button",whileHover:{scale:1.02},onClick:()=>A("type")(o.id),className:`p-4 rounded-lg border-2 transition-colors ${r===o.id?"border-[--theater-gold] bg-[--theater-gold]/10":"border-gray-700 hover:border-gray-600"}`,children:[l.jsx(j9,{className:`w-8 h-8 mx-auto mb-2 ${r===o.id?"text-[--theater-gold]":"text-gray-400"}`}),l.jsx("span",{className:`block font-medium mb-2 ${r===o.id?"text-white":"text-gray-300"}`,children:o.label}),l.jsx("p",{className:"text-sm text-gray-400",children:o.description})]},o.id))})]})]}),l.jsxs("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-4",children:"Anteprima Impostazioni"}),l.jsxs("div",{className:"space-y-2 text-gray-300",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Stato:"})," ",t?"Attivo":"Disattivato"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Titolo:"})," ",e||"(non impostato)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Sottotitolo:"})," ",n||"(non impostato)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tipo:"})," ",((a=i.find(o=>o.id===r))==null?void 0:a.label)||r]})]})]})]})]})},bse=[{id:"general",label:"Generali",icon:OA},{id:"status",label:"Stati Prenotazione",icon:OA},{id:"services",label:"Servizi",icon:OA},{id:"breaks",label:"Pause",icon:OA},{id:"social",label:"Condivisione",icon:rm},{id:"ticket",label:"Template Ticket",icon:Vc},{id:"intro",label:"Intro",icon:Pr}],Tse=({settings:t,onSave:e,onClose:n})=>{const[r,s]=I.useState(!1),[i,A]=I.useState(t),[a,o]=I.useState(null),[c,u]=I.useState("general"),[h,f]=I.useState(!1),{statuses:g}=Bd(),m=async E=>{E.preventDefault(),s(!0),o(null);try{await e(i),f(!0),setTimeout(()=>f(!1),3e3)}catch(x){console.error("Error saving settings:",x),o("Errore durante il salvataggio delle impostazioni")}finally{s(!1)}},y=()=>{var E,x,v,w,F,T;switch(c){case"general":return l.jsx(gse,{settings:i,onChange:Q=>A({...i,...Q})});case"status":return l.jsx(xse,{statuses:g,onSave:async Q=>{A({...i,bookingStatuses:Q})}});case"services":return l.jsx(vse,{serviceTypes:i.serviceTypes,newServiceType:{id:"",name:"",enabled:!0,bookingStartDate:"",bookingEndDate:""},onServiceTypeChange:(Q,b,C)=>{const _=[...i.serviceTypes];_[Q]={..._[Q],[b]:C},A({...i,serviceTypes:_})},onNewServiceTypeChange:()=>{},onAddServiceType:()=>{},onRemoveServiceType:Q=>{const b=i.serviceTypes.filter((C,_)=>_!==Q);A({...i,serviceTypes:b})}});case"breaks":return l.jsx(wse,{breakTimes:i.breakTimes,newBreakTime:{start:"",end:"",enabled:!0},onBreakTimeChange:(Q,b,C)=>{const _=[...i.breakTimes];_[Q]={..._[Q],[b]:C},A({...i,breakTimes:_})},onNewBreakTimeChange:()=>{},onAddBreakTime:()=>{},onRemoveBreakTime:Q=>{const b=i.breakTimes.filter((C,_)=>_!==Q);A({...i,breakTimes:b})}});case"social":return l.jsx(Cse,{settings:i,onChange:Q=>A({...i,...Q})});case"ticket":return l.jsx(Ese,{type:((E=i.ticketTemplate)==null?void 0:E.type)||"classic",enabled:((x=i.ticketTemplate)==null?void 0:x.enabled)??!0,onChange:Q=>A(b=>({...b,ticketTemplate:Q}))});case"intro":return l.jsx(_se,{enabled:((v=i.animation)==null?void 0:v.enabled)??!0,title:((w=i.animation)==null?void 0:w.title)||"",subtitle:((F=i.animation)==null?void 0:F.subtitle)||"",type:((T=i.animation)==null?void 0:T.type)||"curtain",onChange:Q=>A(b=>({...b,animation:{...b.animation,...Q}}))});default:return null}};return l.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:l.jsxs("form",{onSubmit:m,className:"space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Impostazioni"}),l.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})})]}),a&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:a}),h&&l.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg",children:"Impostazioni salvate con successo"}),l.jsx("div",{className:"flex gap-4 border-b border-gray-700 overflow-x-auto",children:bse.map(E=>l.jsxs("button",{type:"button",onClick:()=>u(E.id),className:`px-4 py-2 -mb-px whitespace-nowrap flex items-center gap-2 ${c===E.id?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:[l.jsx(E.icon,{size:16}),E.label]},E.id))}),l.jsx("div",{className:"pt-6",children:y()}),l.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:r?"Salvataggio...":"Salva Impostazioni"})]})]})})},Ise=()=>{const{settings:t,loading:e}=wA(),[n,r]=I.useState(null),[s,i]=I.useState(!1),[A,a]=I.useState({name:"",description:"",price:0,imageUrl:"",enabled:!0}),o=async h=>{if(h.preventDefault(),!!t)try{let f=[...t.products];if(n){const g=f.findIndex(m=>m.id===n);g!==-1&&(f[g]={...A,id:n})}else{const g={...A,id:crypto.randomUUID()};f.push(g)}await Wp({products:f}),i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})}catch(f){console.error("Error saving product:",f),alert("Errore durante il salvataggio del prodotto")}},c=async h=>{if(window.confirm("Sei sicuro di voler eliminare questo prodotto?")&&t)try{const f=t.products.filter(g=>g.id!==h);await Wp({products:f})}catch(f){console.error("Error deleting product:",f),alert("Errore durante l'eliminazione del prodotto")}},u=h=>{a(h),r(h.id),i(!0)};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-white flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:"⌛"}),"Caricamento..."]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Prodotti"}),l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(tA,{size:20}),"Nuovo Prodotto"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.products.map(h=>l.jsxs(z.div,{layout:!0,className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[h.imageUrl&&l.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:h.name}),l.jsx("p",{className:"text-gray-400 mb-4",children:h.description}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-[--theater-gold] text-xl",children:["€",h.price.toFixed(2)]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>u(h),className:"p-2 text-blue-400 hover:text-blue-300",children:l.jsx(UQ,{size:20})}),l.jsx("button",{onClick:()=>c(h.id),className:"p-2 text-red-400 hover:text-red-300",children:l.jsx(nA,{size:20})})]})]})]})]},h.id))}),l.jsx(qt,{children:(s||n)&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:n?"Modifica Prodotto":"Nuovo Prodotto"}),l.jsx("button",{onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})})]}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome Prodotto"}),l.jsx("input",{type:"text",value:A.name,onChange:h=>a({...A,name:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Descrizione"}),l.jsx("textarea",{value:A.description,onChange:h=>a({...A,description:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Prezzo"}),l.jsxs("div",{className:"relative",children:[l.jsx(Lv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:A.price,onChange:h=>a({...A,price:parseFloat(h.target.value)}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"URL Immagine"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:A.imageUrl,onChange:h=>a({...A,imageUrl:h.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:A.enabled,onChange:h=>a({...A,enabled:h.target.checked}),className:"w-4 h-4"}),l.jsx("label",{className:"text-gray-300",children:"Prodotto attivo"})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[l.jsx(tm,{size:20}),n?"Salva Modifiche":"Crea Prodotto"]})]})]})]})})})]})},Use=async t=>{try{console.log("Preparing email:",{to:t.to,type:t.type,data:t.data});const e=Fse(t.type,t.data);if(!e.subject||!e.html)throw new Error("Email template generation failed");console.log("Email template generated:",{subject:e.subject,htmlLength:e.html.length});const r=await c5(Tz,"sendEmailFunction")({to:t.to,type:t.type,data:{...t.data,subject:e.subject,html:e.html,text:e.text}}),s=r.data.success;console.log("Email function result:",r.data);try{await Vr(St(me,"email_logs"),{to:t.to,type:t.type,data:t.data,success:s,timestamp:Kn()})}catch(i){console.error("Error logging email:",i)}return s}catch(e){console.error("Error in sendEmail:",e instanceof Error?e.message:"Unknown error");try{await Vr(St(me,"email_logs"),{to:t.to,type:t.type,data:t.data,success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Kn()})}catch(n){console.error("Error logging email failure:",n)}throw e}},Fse=(t,e)=>{try{const n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #D22B2B; text-align: center;">Carnevale Cinematografico</h1>
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
          {{content}}
        </div>
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p>© ${new Date().getFullYear()} Carnevale Cinematografico. Tutti i diritti riservati.</p>
        </div>
      </div>
    `;let r="",s="",i="";switch(t){case"welcome":s="Benvenuto in Carnevale Cinematografico",r=`
          <p>Gentile ${(e==null?void 0:e.name)||"Utente"},</p>
          <p>Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.</p>
          <p>Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.</p>
        `,i=`
          Gentile ${(e==null?void 0:e.name)||"Utente"},
          
          Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.
          Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.
        `;break;case"booking":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time)||!(e!=null&&e.ticketNumber))throw new Error("Missing required booking data");s="Conferma della prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>La tua prenotazione è stata confermata con successo!</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
            <p><strong>Numero Ticket:</strong> ${e.ticketNumber}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo per il tuo servizio fotografico!</p>
        `,i=`
          Gentile ${e.name},
          
          La tua prenotazione è stata confermata con successo!
          
          Data: ${e.date}
          Orario: ${e.time}
          Numero Ticket: ${e.ticketNumber}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo per il tuo servizio fotografico!
        `;break;case"reminder":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time))throw new Error("Missing required reminder data");s="Promemoria prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>Ti ricordiamo che hai una prenotazione per domani:</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo!</p>
        `,i=`
          Gentile ${e.name},
          
          Ti ricordiamo che hai una prenotazione per domani:
          
          Data: ${e.date}
          Orario: ${e.time}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo!
        `;break;case"subscription":if(s="Informazioni abbonamento",e!=null&&e.endDate){const A=new Date(e.endDate);if(isNaN(A.getTime()))throw new Error("Invalid subscription end date");r=`
            <p>Il tuo abbonamento scadrà il ${A.toLocaleDateString("it-IT")}.</p>
            <p>Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.</p>
            <div style="text-align: center; margin-top: 20px;">
              <a href="https://carnevale-cinematografico.web.app/profile/subscription" 
                 style="background-color: #D22B2B; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                Rinnova Ora
              </a>
            </div>
          `,i=`
            Il tuo abbonamento scadrà il ${A.toLocaleDateString("it-IT")}.
            Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.
            
            Rinnova ora: https://carnevale-cinematografico.web.app/profile/subscription
          `}else r=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.",i=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.";break;case"custom":default:s="Notifica da Carnevale Cinematografico",r=`<p>${(e==null?void 0:e.message)||"Nessun messaggio"}</p>`,i=(e==null?void 0:e.message)||"Nessun messaggio";break}return{subject:s,html:n.replace("{{content}}",r),text:i.trim().replace(/\n\s+/g,`
`)}}catch(n){throw console.error("Error generating email template:",n),n}},Ag=async(t,e)=>Use({to:t,type:"subscription",data:{endDate:e.endDate,message:e.message}}),Sse=({subscription:t,onClose:e})=>{const[n,r]=I.useState(!1),[s,i]=I.useState(null),[A,a]=I.useState(null),[o,c]=I.useState(1),[u,h]=I.useState(""),[f,g]=I.useState(!1),m=async()=>{r(!0),i(null),a(null);try{const E=Vp(t.endDate,o);await Er(Ve(me,"subscriptions",t.userId),{endDate:E,status:"active"}),await Vr(St(me,"subscription_history"),{userId:t.userId,email:t.email,action:"extension",months:o,previousEndDate:t.endDate,newEndDate:E,timestamp:new Date}),a(`Abbonamento esteso di ${o} ${o===1?"mese":"mesi"}`),await Ag(t.email,{type:"extension",endDate:E})}catch(E){console.error("Error extending subscription:",E),i("Errore durante l'estensione dell'abbonamento")}finally{r(!1)}},y=async()=>{if(!u.trim()){i("Inserisci un messaggio per la notifica");return}r(!0),i(null),a(null);try{await Ag(t.email,{type:"custom",message:u}),await Vr(St(me,"notification_history"),{userId:t.userId,email:t.email,message:u,timestamp:new Date}),a("Notifica inviata con successo"),h("")}catch(E){console.error("Error sending notification:",E),i("Errore durante l'invio della notifica")}finally{r(!1)}};return l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Gestione Abbonamento"}),s&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Wt,{size:20}),s]}),A&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),A]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[l.jsx(Cn,{className:"text-[--theater-gold]"}),"Estendi Abbonamento"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Durata estensione (mesi)"}),l.jsx("input",{type:"number",min:"1",max:"12",value:o,onChange:E=>c(parseInt(E.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Nuova data di scadenza:"," ",l.jsx("span",{className:"text-white",children:et(Vp(t.endDate,o),"dd MMMM yyyy",{locale:ys})})]}),l.jsxs("button",{onClick:m,disabled:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[n?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsx(ln,{size:20}),"Estendi Abbonamento"]})]})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[l.jsx(Dv,{className:"text-[--theater-gold]"}),"Invia Notifica"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:u,onChange:E=>h(E.target.value),placeholder:"Scrivi un messaggio...",className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white h-24 resize-none"}),l.jsxs("button",{onClick:y,disabled:n||!u.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[n?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsx(Dv,{size:20}),"Invia Notifica"]})]})]}),l.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[l.jsx(Q9,{size:20}),"Visualizza Storico"]})]}),l.jsx(qt,{children:f&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(ps,{className:"text-[--theater-gold]"}),"Storico Abbonamento"]}),l.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Storico in fase di implementazione"})})]})})})]})})},Nse=({subscriptions:t})=>{const e={total:t.length,active:t.filter(n=>n.status==="active").length,expiringSoon:t.filter(n=>{const r=Math.ceil((n.endDate.getTime()-Date.now())/864e5);return n.status==="active"&&r<=7}).length,monthlyRevenue:t.filter(n=>n.status==="active"&&n.plan==="monthly").length*20+t.filter(n=>n.status==="active"&&n.plan==="yearly").length*8.333333333333334};return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:l.jsx(Jo,{className:"w-6 h-6 text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Totale Abbonati"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.total})]})]})}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:l.jsx(Su,{className:"w-6 h-6 text-green-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Abbonamenti Attivi"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.active})]})]})}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:l.jsx(ps,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"In Scadenza"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.expiringSoon})]})]})}),l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-[--theater-gold]/20 rounded-lg",children:l.jsx(H9,{className:"w-6 h-6 text-[--theater-gold]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Ricavi Mensili"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["€",Math.round(e.monthlyRevenue)]})]})]})})]})},Qse=({subscriptions:t})=>{const[e,n]=I.useState(!1),[r,s]=I.useState(null),i=()=>{n(!0),s(null);try{const A=["Email","Piano","Stato","Data Inizio","Data Scadenza","Prenotazioni Usate","Limite Prenotazioni"],a=t.map(f=>[f.email,f.plan,f.status,et(f.startDate,"dd/MM/yyyy",{locale:ys}),et(f.endDate,"dd/MM/yyyy",{locale:ys}),f.bookingsUsed,f.maxBookings]),o=[A.join(","),...a.map(f=>f.join(","))].join(`
`),c=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(c);u.setAttribute("href",h),u.setAttribute("download",`abbonamenti_${et(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(A){console.error("Error exporting subscriptions:",A),s("Errore durante l'esportazione")}finally{n(!1)}};return l.jsxs("div",{className:"mb-6",children:[r&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-4 flex items-center gap-2",children:[l.jsx(Wt,{size:20}),r]}),l.jsxs(z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50",children:[e?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsx(S9,{size:20}),"Esporta Abbonamenti"]})]})},HR=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(""),[o,c]=I.useState("all"),[u,h]=I.useState(null);I.useEffect(()=>{const g=St(me,"subscriptions"),m=fs(g,Zs("endDate","desc")),y=yl(m,E=>{const x=E.docs.map(v=>{const w=v.data();return{...w,id:v.id,startDate:w.startDate?new Date(w.startDate):new Date,endDate:w.endDate?new Date(w.endDate):new Date}});e(x),r(!1)},E=>{console.error("Error fetching subscriptions:",E),i("Errore nel caricamento degli abbonamenti"),r(!1)});return()=>y()},[]);const f=t.filter(g=>{const m=g.email.toLowerCase().includes(A.toLowerCase()),y=o==="all"||g.status===o;return m&&y});return n?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):l.jsxs("div",{className:"min-h-screen bg-gray-900 py-8",children:[l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Jo,{className:"text-[--theater-gold]"}),"Gestione Abbonamenti"]}),l.jsx("div",{className:"flex gap-4",children:l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:l.jsx(FQ,{size:20})})})]}),l.jsx(Nse,{subscriptions:t}),l.jsx(Qse,{subscriptions:t}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per email...",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nu,{className:"text-gray-400"}),l.jsxs("select",{value:o,onChange:g=>c(g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),l.jsx("option",{value:"active",children:"Attivi"}),l.jsx("option",{value:"expired",children:"Scaduti"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Piano"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Scadenza"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Prenotazioni"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),l.jsx("tbody",{children:f.map(g=>l.jsxs(z.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-gray-700 hover:bg-gray-700/50",children:[l.jsx("td",{className:"p-4 text-white",children:g.email}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-400",children:g.plan})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${g.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:g.status==="active"?"Attivo":"Scaduto"})}),l.jsx("td",{className:"p-4 text-white",children:et(g.endDate,"dd MMM yyyy",{locale:ys})}),l.jsxs("td",{className:"p-4 text-white",children:[g.bookingsUsed," / ",g.maxBookings]}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>h(g),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:l.jsx(OA,{size:18})})})]},g.id))})]})})]})}),l.jsx(qt,{children:u&&l.jsx(Sse,{subscription:u,onClose:()=>h(null)})})]})},kse=async t=>{try{const e=new Date(t.booking_date);if(isNaN(e.getTime()))throw new Error("Data di prenotazione non valida");const n=e.toISOString().split("T")[0],r=await Vr(St(me,"bookings"),{...t,booking_date:n,created_at:Kn()});if(t.userId)try{const i=(await Or(Ve(me,"users",t.userId))).data();if(i!=null&&i.calendarConnected){const A=new Date(`${n}T${t.booking_time}`),a=new Date(A.getTime()+60*60*1e3);await IY(t.userId,{summary:`Prenotazione Fotografica - ${t.firstName} ${t.lastName}`,description:`Prenotazione: ${t.ticket_number}
Servizio: ${t.service_type}`,startTime:A,endTime:a,location:"Via Quinto Orazio Flacco 5, Aversa"})}}catch(s){console.error("Error syncing with Google Calendar:",s)}return r.id}catch(e){throw console.error("Error creating booking:",e),e}},Rse=({selectedDate:t,selectedTime:e,onTimeSelect:n})=>{const{settings:r}=wA(),[s,i]=I.useState([]);return I.useEffect(()=>{if(!r)return;const A=[],[a,o=0]=r.startTime.split(":").map(Number),[c,u=0]=r.endTime.split(":").map(Number),h=r.bookingIntervals||30;let f=zp(Gp(t,o),a);const g=zp(Gp(t,u),c);for(;f<g;){const m=et(f,"HH:mm");A.push(m),f=I4(f,h)}i(A)},[t,r]),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"block text-gray-300",children:[l.jsx(ps,{size:16,className:"inline-block mr-2"}),"Orari Disponibili"]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.map(A=>l.jsx("button",{type:"button",onClick:()=>n(A),className:`
              p-2 rounded text-center transition-colors
              ${e===A?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}
            `,children:A},A))})]})},Pse=Mn.object({firstName:Mn.string().min(2,"Nome richiesto"),lastName:Mn.string().min(2,"Cognome richiesto"),email:Mn.string().email("Email non valida"),phone:Mn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service_type:Mn.string().min(1,"Seleziona un tipo di servizio"),notes:Mn.string().optional()}),Dse=({isOpen:t,onClose:e,onSuccess:n})=>{const{settings:r}=wA(),[s,i]=I.useState(null),[A,a]=I.useState(""),[o,c]=I.useState(!1),[u,h]=I.useState(null),{register:f,handleSubmit:g,formState:{errors:m},reset:y}=f4({resolver:g4(Pse)}),E=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,x=async v=>{if(!s||!A){h("Seleziona data e ora per la prenotazione");return}c(!0),h(null);try{const w={...v,booking_date:s.toISOString().split("T")[0],booking_time:A,ticket_number:E(),status:"pending"};await kse(w),y(),i(null),a(""),n&&n(),e()}catch(w){console.error("Error creating booking:",w),h("Errore durante la creazione della prenotazione")}finally{c(!1)}};return l.jsx(qt,{children:t&&l.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs(z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Cn,{className:"text-[--theater-gold]"}),"Nuova Prenotazione"]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})})]}),u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Wt,{size:20}),u]}),l.jsxs("form",{onSubmit:g(x),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),l.jsxs("div",{className:"relative",children:[l.jsx(rA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("firstName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),m.firstName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),l.jsxs("div",{className:"relative",children:[l.jsx(rA,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("lastName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),m.lastName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("email"),type:"email",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"email@esempio.com"})]}),m.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("phone"),type:"tel",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il numero senza prefisso"})]}),m.phone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),l.jsxs("select",{...f("service_type"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"",children:"Seleziona servizio"}),r==null?void 0:r.serviceTypes.filter(v=>v.enabled).map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))]}),m.service_type&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.service_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{...f("notes"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Note aggiuntive..."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),l.jsx("input",{type:"date",value:s?s.toISOString().split("T")[0]:"",onChange:v=>i(v.target.value?new Date(v.target.value):null),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),s&&l.jsx(Rse,{selectedDate:s,selectedTime:A,onTimeSelect:a})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),"Creazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ln,{size:20}),"Crea Prenotazione"]})})]})]})]})})})},KR=({photos:t,currentIndex:e,onClose:n,onNext:r,onPrev:s,onFavorite:i,favorites:A=[],onShare:a})=>{const[o,c]=tt.useState(1),[u,h]=tt.useState({x:0,y:0}),[f,g]=tt.useState(!1),m=t[e],y=tt.useRef(null),E=()=>{c(T=>Math.min(T+.5,3)),h({x:0,y:0})},x=()=>{c(T=>Math.max(T-.5,1)),h({x:0,y:0})},v=(T,Q)=>{g(!1),o===1?Q.offset.x>50?s():Q.offset.x<-50&&r():h({x:u.x+Q.offset.x,y:u.y+Q.offset.y})},w=()=>{a&&m?a(m.url):navigator.share&&navigator.share({title:"Condividi foto",url:m.url}).catch(console.error)},F=T=>{T.key==="ArrowLeft"&&s(),T.key==="ArrowRight"&&r(),T.key==="Escape"&&n(),(T.key==="+"||T.key==="=")&&E(),T.key==="-"&&x()};return tt.useEffect(()=>(window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)),[]),tt.useEffect(()=>{c(1),h({x:0,y:0})},[e]),l.jsx(qt,{children:l.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:n,children:[l.jsxs("div",{className:"fixed top-4 right-4 flex items-center gap-4 z-50",children:[l.jsx("button",{onClick:T=>{T.stopPropagation(),E()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx($9,{size:20})}),l.jsx("button",{onClick:T=>{T.stopPropagation(),x()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(W9,{size:20})}),l.jsx("button",{onClick:T=>{T.stopPropagation(),w()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(rm,{size:20})}),l.jsx("a",{href:m.url,download:!0,onClick:T=>T.stopPropagation(),className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(No,{size:20})}),l.jsx("button",{onClick:n,className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Rn,{size:20})})]}),e>0&&l.jsx("button",{onClick:T=>{T.stopPropagation(),s()},className:"fixed left-4 top-1/2 -translate-y-1/2 p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(em,{size:24})}),e<t.length-1&&l.jsx("button",{onClick:T=>{T.stopPropagation(),r()},className:"fixed right-4 top-1/2 -translate-y-1/2 p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Fu,{size:24})}),l.jsxs(z.div,{ref:y,initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative w-full h-full select-none flex items-center justify-center",onClick:T=>T.stopPropagation(),children:[l.jsx(z.div,{drag:o>1,dragConstraints:y,dragElastic:.1,onDragStart:()=>g(!0),onDragEnd:v,style:{cursor:o>1?f?"grabbing":"grab":"default"},children:l.jsx(z.img,{src:m.url,alt:m.name,className:"max-w-full max-h-[90vh] object-contain",style:{transform:`scale(${o}) translate(${u.x}px, ${u.y}px)`,transition:f?"none":"transform 0.2s ease-out"},onDoubleClick:()=>{o===1?E():(c(1),h({x:0,y:0}))}})}),i&&l.jsx("button",{onClick:()=>i(m.id),className:"absolute bottom-4 right-4 p-3 rounded-full bg-black/50 hover:bg-black/70 transition-colors",children:l.jsx(_Q,{size:24,className:A.includes(m.id)?"text-red-500 fill-red-500":"text-white"})})]}),l.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-gray-800/80 rounded-full text-white",children:[e+1," / ",t.length]}),o>1&&l.jsxs("div",{className:"fixed bottom-4 left-4 px-4 py-2 bg-gray-800/80 rounded-full text-white text-sm",children:[Math.round(o*100),"%"]})]})})},dy=10,Lse=({bookingId:t})=>{const[e,n]=I.useState([]),[r,s]=I.useState(!0),[i,A]=I.useState(null),[a,o]=I.useState(null),[c,u]=I.useState(!0);I.useState(1);const[h,f]=I.useState(null);I.useEffect(()=>{t?g():(s(!1),n([]))},[t]);const g=async(y=!1)=>{var E;if(t)try{s(!0),A(null);let x=fs(St(me,"photo_selections"),ca("bookingId","==",t),Zs("createdAt","desc"),lb(dy));y&&a&&(x=fs(St(me,"photo_selections"),ca("bookingId","==",t),Zs("createdAt","desc"),M6(a),lb(dy)));const v=await Uu(x),w=[];for(const F of v.docs){const T=F.data(),Q=T.photoIds||[],b=[];for(const C of Q){const _=await Or(Ve(me,"galleries",C));_.exists()&&b.push({id:_.id,..._.data()})}if(w.push({id:F.id,...T,photos:b,createdAt:(E=T.createdAt)==null?void 0:E.toDate()}),!T.viewed)try{await Er(Ve(me,"photo_selections",F.id),{viewed:!0}),await Er(Ve(me,"bookings",t),{hasNewSelection:!0})}catch(C){console.error("Error updating selection/booking status:",C)}}n(y?F=>[...F,...w]:w),o(v.docs[v.docs.length-1]),u(v.docs.length===dy)}catch(x){console.error("Error loading selections:",x),A("Errore nel caricamento delle selezioni")}finally{s(!1)}},m=y=>{try{const E=y.photos.map(F=>F.name).join(`
`),x=new Blob([E],{type:"text/plain"}),v=URL.createObjectURL(x),w=document.createElement("a");w.href=v,w.download=`selection-${y.id}.txt`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(v),Pe.success("Selezione esportata con successo")}catch(E){console.error("Error exporting selection:",E),Pe.error("Errore durante l'esportazione")}};return r&&e.length===0?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin text-[--theater-gold] text-4xl",children:"⌛"})}):i?l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Wt,{size:20}),i]}):t?l.jsx("div",{className:"space-y-6",children:l.jsx(qt,{mode:"wait",children:h?l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("button",{onClick:()=>f(null),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[l.jsx(em,{size:20}),"Torna alle selezioni"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-gray-400",children:et(h.createdAt,"dd MMMM yyyy HH:mm",{locale:ys})}),l.jsxs("button",{onClick:()=>m(h),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(No,{size:18}),"Esporta"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:h.photos.map(y=>l.jsxs(z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"group relative aspect-square",children:[l.jsx("img",{src:y.url,alt:y.name,className:"w-full h-full object-cover rounded-lg"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsx("a",{href:y.url,download:!0,className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",onClick:E=>E.stopPropagation(),children:l.jsx(No,{size:20,className:"text-white"})})})]},y.id))})]}):l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[e.map(y=>l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-700 rounded-lg overflow-hidden transition-all ${y.viewed?"":"ring-2 ring-[--theater-gold]"}`,children:[l.jsxs("div",{className:"p-4 flex justify-between items-start",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ps,{size:16,className:"text-[--theater-gold]"}),l.jsx("span",{className:"text-gray-300",children:et(y.createdAt,"dd MMMM yyyy HH:mm",{locale:ys})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ms,{size:16,className:"text-[--theater-gold]"}),l.jsxs("span",{className:"text-white",children:[y.photos.length," foto selezionate"]})]}),!y.viewed&&l.jsxs("div",{className:"flex items-center gap-1 text-[--theater-gold]",children:[l.jsx(F9,{size:14}),l.jsx("span",{className:"text-sm",children:"Non visualizzata"})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>f(y),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[l.jsx(EQ,{size:16}),"Visualizza"]}),l.jsxs("button",{onClick:()=>m(y),className:"flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors",children:[l.jsx(No,{size:16}),"Esporta"]})]})]}),l.jsx("div",{className:"px-4 pb-4 overflow-x-auto",children:l.jsx("div",{className:"flex gap-4 snap-x snap-mandatory",children:y.photos.map(E=>l.jsx("div",{className:"flex-none w-24 h-24 snap-start",children:l.jsx("img",{src:E.url,alt:E.name,className:"w-full h-full object-cover rounded-lg"})},E.id))})})]},y.id)),e.length===0&&l.jsxs("div",{className:"text-center text-gray-400 py-8",children:[l.jsx(Ms,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Nessuna selezione trovata"})]}),c&&l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>g(!0),disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50",children:r?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsxs(l.Fragment,{children:[l.jsx(ChevronDown,{size:20}),"Carica altre"]})})})]})})}):l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Seleziona una prenotazione per visualizzare le selezioni"})},vU="gs://cinema-70fbc.firebasestorage.app",jse=5*1024*1024,hy=1920,Mse=({bookingId:t,isOpen:e=!0,onClose:n})=>{const[r,s]=I.useState([]),[i,A]=I.useState(!0),[a,o]=I.useState(null),[c,u]=I.useState(!1),[h,f]=I.useState(0),[g,m]=I.useState(null),[y,E]=I.useState(null),[x,v]=I.useState("photos");I.useEffect(()=>{(async()=>{if(t)try{const U=await Or(Ve(me,"bookings",t));U.exists()&&E(U.data())}catch(U){console.error("Error loading booking details:",U)}})()},[t]),I.useEffect(()=>{(async()=>{if(t){A(!0),o(null);try{const U=St(me,"galleries"),k=fs(U,ca("bookingId","==",t),Zs("uploadedAt","desc")),S=(await Uu(k)).docs.map(ee=>{var Ae;return{id:ee.id,...ee.data(),uploadedAt:(Ae=ee.data().uploadedAt)==null?void 0:Ae.toDate()}});s(S)}catch(U){console.error("Error loading photos:",U),o("Errore durante il caricamento delle foto"),Pe.error("Errore nel caricamento delle foto")}finally{A(!1)}}})()},[t]);const w=_=>new Promise(U=>{if(_.size>jse){Pe.error(`Il file ${_.name} supera i 5MB`),U(!1);return}const k=document.createElement("img"),R=URL.createObjectURL(_);k.onload=()=>{URL.revokeObjectURL(R),k.width>hy||k.height>hy?(Pe.error(`L'immagine ${_.name} supera ${hy}px`),U(!1)):U(!0)},k.onerror=()=>{URL.revokeObjectURL(R),Pe.error(`Errore nel caricamento di ${_.name}`),U(!1)},k.src=R}),F=async _=>{var U;if(!(!t||!((U=_.target.files)!=null&&U.length))){u(!0),o(null),f(0);try{const k=Array.from(_.target.files),R=[];for(const H of k)await w(H)&&R.push(H);if(R.length===0){Pe.error("Nessun file valido da caricare"),u(!1);return}const S=R.length;let ee=0;for(const H of R){const W=Bb(xb,`${vU}/galleries/${t}/${H.name}`);await vz(W,H);const G=await wz(W);await Vr(St(me,"galleries"),{bookingId:t,url:G,name:H.name,uploadedAt:new Date}),ee++,f(ee/S*100),Pe.success(`Foto ${ee}/${S} caricata`)}const Ae=St(me,"galleries"),K=fs(Ae,ca("bookingId","==",t),Zs("uploadedAt","desc")),L=(await Uu(K)).docs.map(H=>{var W;return{id:H.id,...H.data(),uploadedAt:(W=H.data().uploadedAt)==null?void 0:W.toDate()}});s(L),f(0),Pe.success("Tutte le foto sono state caricate con successo!")}catch(k){console.error("Error uploading photos:",k),Pe.error("Errore durante il caricamento delle foto"),o("Errore durante il caricamento delle foto")}finally{u(!1)}}},T=async _=>{if(t)try{const U=Bb(xb,`${vU}/galleries/${t}/${_.name}`);await Bz(U),await kx(Ve(me,"galleries",_.id)),s(k=>k.filter(R=>R.id!==_.id)),Pe.success("Foto eliminata con successo")}catch(U){console.error("Error deleting photo:",U),Pe.error("Errore durante l'eliminazione della foto")}},Q=()=>{const _=window.location.origin;let k=window.location.pathname.split("/").filter(Boolean);const R=k.indexOf("dashboard");R>=0&&k.splice(R,1);const S=k.indexOf("gallery");S>=0&&k.splice(S,2),k.push("gallery",t);const ee=k.join("/");return`${_}/${ee}`},b=()=>{if(!(y!=null&&y.phone)){Pe.error("Numero di telefono non disponibile");return}const _=Q(),U=`Ciao ${y.firstName}, ecco il link alla tua galleria fotografica: ${_}`,k=`https://wa.me/${y.phone.replace(/\D/g,"")}?text=${encodeURIComponent(U)}`;window.open(k,"_blank"),Pe.success("Link condiviso su WhatsApp")},C=()=>{const _=Q();window.open(_,"_blank"),Pe.success("Galleria aperta in una nuova scheda")};return l.jsx("div",{className:"bg-gray-900 min-h-screen p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-4",children:[l.jsx(Ms,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),y&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(rA,{size:16,className:"text-[--theater-gold]"}),y.firstName," ",y.lastName]}),l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(Cn,{size:16,className:"text-[--theater-gold]"}),y.booking_date," ",y.booking_time]}),l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(vl,{size:16,className:"text-[--theater-gold]"}),y.phone]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[(y==null?void 0:y.phone)&&l.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Vx,{size:20}),"Condividi su WhatsApp"]}),l.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(EQ,{size:20}),"Visualizza Galleria"]}),n&&l.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:l.jsx(Rn,{size:24,className:"text-gray-400"})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6 border-b border-gray-700",children:[l.jsx("button",{onClick:()=>v("photos"),className:`px-4 py-2 -mb-px ${x==="photos"?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ms,{size:20}),"Foto"]})}),l.jsx("button",{onClick:()=>v("selections"),className:`px-4 py-2 -mb-px ${x==="selections"?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qo,{size:20}),"Selezioni"]})})]})]}),a&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Wt,{size:20}),a]}),x==="photos"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Carica Foto"}),r.length>0&&l.jsxs("span",{className:"text-sm text-gray-400",children:[r.length," foto caricate"]})]}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:F,disabled:c,className:`block w-full text-sm text-gray-400
                  file:mr-4 file:py-2 file:px-4
                  file:rounded-lg file:border-0
                  file:text-sm file:font-semibold
                  file:bg-[--theater-gold] file:text-black
                  hover:file:bg-yellow-500
                  disabled:opacity-50`}),c&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"relative h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx(z.div,{className:"absolute inset-0 bg-[--theater-gold]",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.3}})}),l.jsxs("p",{className:"text-sm text-gray-400 mt-2 flex items-center gap-2",children:[l.jsx(R9,{className:"animate-spin",size:16}),"Caricamento in corso... ",Math.round(h),"%"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((_,U)=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"relative pt-[100%]",children:l.jsx("img",{src:_.url,alt:_.name,className:"absolute inset-0 w-full h-full object-contain bg-gray-800 rounded-lg cursor-pointer",onClick:()=>m(U)})}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-4",children:[l.jsx("a",{href:_.url,download:!0,className:"p-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",onClick:k=>k.stopPropagation(),children:l.jsx(No,{size:20})}),l.jsx("button",{onClick:k=>{k.stopPropagation(),T(_)},className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:l.jsx(nA,{size:20})})]})]},_.id))}),r.length===0&&!i&&l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessuna foto caricata"})]}):l.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:l.jsx(Lse,{bookingId:t})}),g!==null&&l.jsx(KR,{photos:r,currentIndex:g,onClose:()=>m(null),onNext:()=>m(_=>_!==null&&_<r.length-1?_+1:_),onPrev:()=>m(_=>_!==null&&_>0?_-1:_)})]})})},fy=10,Ose=()=>{const[t,e]=I.useState("bookings"),[n,r]=I.useState(!1),[s,i]=I.useState(!1),[A,a]=I.useState([]),[o,c]=I.useState(""),[u,h]=I.useState("all"),[f,g]=I.useState("all"),[m,y]=I.useState(!0),[E,x]=I.useState(null),[v,w]=I.useState(!1),[F,T]=I.useState(null),[Q,b]=I.useState(1),[C,_]=I.useState(!1),{settings:U}=wA(),{statuses:k,getStatusColor:R}=Bd(),{user:S}=ii();I.useEffect(()=>{if(S)try{const G=fs(St(me,"bookings"),Zs("booking_date","asc"),Zs("booking_time","asc")),fe=yl(G,Be=>{const Je=Be.docs.map(Ge=>({id:Ge.id,...Ge.data()}));a(Je),y(!1),x(null)},Be=>{console.error("Error fetching bookings:",Be),x("Errore nel caricamento delle prenotazioni"),y(!1)});return()=>fe()}catch(G){console.error("Error setting up bookings listener:",G),x("Errore nella configurazione del listener delle prenotazioni"),y(!1)}},[S]);const ee=async G=>{if(G.hasNewSelection)try{await Er(Ve(me,"bookings",G.id),{hasNewSelection:!1})}catch(fe){console.error("Error updating booking selection status:",fe)}T(G)},Ae=G=>{if(!(U!=null&&U.serviceTypes))return G;const fe=U.serviceTypes.find(Be=>Be.id===G);return(fe==null?void 0:fe.name)||G},K=A.filter(G=>{var Ge,st,ut;const fe=(G.firstName+" "+G.lastName).toLowerCase().includes(o.toLowerCase())||((Ge=G.email)==null?void 0:Ge.toLowerCase().includes(o.toLowerCase()))||((st=G.phone)==null?void 0:st.includes(o))||((ut=G.ticket_number)==null?void 0:ut.toLowerCase().includes(o.toLowerCase())),Be=u==="all"||G.status===u,Je=f==="all"||G.service_type===f;return fe&&Be&&Je}),J=Math.ceil(K.length/fy),L=(Q-1)*fy,H=K.slice(L,L+fy),W=()=>F?l.jsx(Mse,{bookingId:F.id,isOpen:!0,onClose:()=>T(null)}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-4",children:[l.jsx(Ms,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),l.jsx("p",{className:"text-gray-400",children:"Seleziona una prenotazione per gestire la sua galleria fotografica"})]})}),l.jsxs("div",{className:"relative mt-6",children:[l.jsx(nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",value:o,onChange:G=>c(G.target.value),placeholder:"Cerca per nome, email, telefono o ticket...",className:"w-full p-3 pl-10 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map(G=>l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors cursor-pointer ${G.hasNewSelection?"ring-2 ring-green-500":""}`,onClick:()=>ee(G),children:l.jsx("div",{className:"flex items-start justify-between gap-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jo,{size:16,className:"text-[--theater-gold]"}),l.jsxs("span",{className:"text-white font-medium",children:[G.firstName," ",G.lastName]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(Cn,{size:14}),l.jsxs("span",{children:[G.booking_date," ",G.booking_time]})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["#",G.ticket_number]}),G.hasNewSelection&&l.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-xs",children:[l.jsx(ln,{size:12}),"Nuova selezione"]})]})})},G.id))}),J>1&&l.jsxs("div",{className:"flex justify-between items-center mt-6 bg-gray-700 p-4 rounded-lg",children:[l.jsx("button",{onClick:()=>b(G=>Math.max(1,G-1)),disabled:Q===1,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Precedente"}),l.jsxs("span",{className:"text-gray-300",children:["Pagina ",Q," di ",J]}),l.jsx("button",{onClick:()=>b(G=>Math.min(J,G+1)),disabled:Q===J,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Successiva"})]})]});return m?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):E?l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:E}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"lg:hidden bg-gray-800 p-4 sticky top-0 z-30 shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>_(!C),className:"p-2 text-gray-400 hover:text-white rounded-lg bg-gray-700",children:l.jsx(Nu,{size:20})}),l.jsx("button",{onClick:()=>w(!v),className:"p-2 text-gray-400 hover:text-white rounded-lg bg-gray-700",children:v?l.jsx(Rn,{size:20}):l.jsx(IQ,{size:20})})]})]}),l.jsxs(qt,{children:[v&&l.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 p-2 bg-gray-700 rounded-lg",children:[l.jsxs("button",{onClick:()=>{e("bookings"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(Cn,{size:18}),"Prenotazioni"]}),l.jsxs("button",{onClick:()=>{e("gallery"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(Ms,{size:18}),"Gallerie"]}),l.jsxs("button",{onClick:()=>{e("products"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(jv,{size:18}),"Prodotti"]}),l.jsxs("button",{onClick:()=>{e("subscriptions"),w(!1)},className:`p-3 rounded-lg flex items-center gap-2 ${t==="subscriptions"?"bg-[--theater-gold] text-black":"bg-gray-600 text-white"}`,children:[l.jsx(Jo,{size:18}),"Abbonamenti"]})]})}),C&&t==="bookings"&&l.jsx(z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4",children:l.jsx(mU,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(U==null?void 0:U.serviceTypes)||[],onSearchChange:c,onStatusFilterChange:h,onServiceFilterChange:g})})]})]}),l.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>e("bookings"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(Cn,{size:20}),"Prenotazioni"]}),l.jsxs("button",{onClick:()=>e("products"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(jv,{size:20}),"Prodotti"]}),l.jsxs("button",{onClick:()=>e("gallery"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(Ms,{size:20}),"Gallerie"]})]}),l.jsx("div",{className:"flex gap-4",children:t==="bookings"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(tA,{size:20}),"Nuova Prenotazione"]}),l.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(Pr,{size:20}),"Impostazioni"]})]})})]}),t==="products"&&l.jsx(Ise,{}),t==="subscriptions"&&l.jsx(HR,{}),t==="bookings"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl text-white text-center mb-8 font-marquee",children:"Gestione Prenotazioni"}),n&&U&&l.jsx(Tse,{settings:U,onSave:Wp,onClose:()=>r(!1)}),l.jsx("div",{className:"hidden lg:block",children:l.jsx(mU,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(U==null?void 0:U.serviceTypes)||[],onSearchChange:c,onStatusFilterChange:h,onServiceFilterChange:g})}),l.jsx("div",{className:"lg:hidden grid grid-cols-1 gap-4",children:H.map(G=>{var fe;return l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gray-700 p-4 rounded-lg ${G.hasNewSelection?"bg-green-500/20 border border-green-500":""}`,onClick:()=>ee(G),children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-white font-medium",children:[G.firstName," ",G.lastName]}),l.jsxs("p",{className:"text-sm text-gray-400",children:[G.booking_date," ",G.booking_time]})]}),l.jsx("div",{className:"px-2 py-1 rounded-full text-sm",style:{backgroundColor:R(G.status)},children:(fe=k.find(Be=>Be.id===G.status))==null?void 0:fe.name})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[l.jsxs("p",{children:["#",G.ticket_number]}),l.jsx("p",{children:Ae(G.service_type)})]}),G.hasNewSelection&&l.jsx("div",{className:"mt-2 px-2 py-1 text-xs bg-green-500 text-white rounded-full inline-block",children:"Nuova selezione"})]},G.id)})}),l.jsx("div",{className:"hidden lg:block",children:l.jsx(fse,{bookings:H,serviceTypes:(U==null?void 0:U.serviceTypes)||[],bookingStatuses:k,getServiceLabel:Ae,getStatusColor:R})}),J>1&&l.jsxs("div",{className:"flex justify-between items-center mt-6 bg-gray-700 p-4 rounded-lg",children:[l.jsx("button",{onClick:()=>b(G=>Math.max(1,G-1)),disabled:Q===1,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Precedente"}),l.jsxs("span",{className:"text-gray-300",children:["Pagina ",Q," di ",J]}),l.jsx("button",{onClick:()=>b(G=>Math.min(J,G+1)),disabled:Q===J,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 disabled:opacity-50",children:"Successiva"})]}),l.jsx(Dse,{isOpen:s,onClose:()=>i(!1),onSuccess:()=>{i(!1),Pe.success("Prenotazione creata con successo")}})]}),t==="gallery"&&W()]})},Vse=[{icon:rA,label:"Profilo",path:"/profile"},{icon:co,label:"Sicurezza",path:"/profile/security"}],zR=()=>{const t=pA(),e=ya();return l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:l.jsx("nav",{children:l.jsx("ul",{className:"space-y-2",children:Vse.map(n=>l.jsx("li",{children:l.jsxs(z.button,{whileHover:{x:4},onClick:()=>e(n.path),className:`w-full flex items-center gap-3 px-4 py-2 rounded transition-colors ${t.pathname===n.path?"bg-[--theater-gold] text-black":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[l.jsx(n.icon,{size:18}),n.label]})},n.path))})})})}),l.jsx("div",{className:"md:col-span-3",children:l.jsx(OS,{})})]})})})},GR=()=>{const{user:t}=ii(),[e,n]=I.useState(!1),[r,s]=I.useState(null),[i,A]=I.useState(!1),[a,o]=I.useState({displayName:(t==null?void 0:t.displayName)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",customUrl:""}),c=async u=>{if(u.preventDefault(),!!t){n(!0),s(null),A(!1);try{await FV(t,{displayName:a.displayName}),A(!0)}catch(h){console.error("Error updating profile:",h),s("Errore durante l'aggiornamento del profilo")}finally{n(!1)}}};return l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(rA,{className:"text-[--theater-gold]"}),"Profilo"]}),r&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Wt,{size:20}),r]}),i&&l.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6",children:"Profilo aggiornato con successo!"}),l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Email"}),l.jsxs("div",{className:"flex items-center gap-2 text-white bg-gray-700 p-3 rounded",children:[l.jsx(Ea,{className:"text-[--theater-gold]",size:20}),t==null?void 0:t.email]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",value:a.phoneNumber,onChange:u=>o({...a,phoneNumber:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il tuo numero"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Nome Azienda"}),l.jsxs("div",{className:"relative",children:[l.jsx(I9,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a.displayName,onChange:u=>o({...a,displayName:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome della tua azienda"})]})]})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Personalizzazione Pagina Prenotazioni"}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Personalizza l'URL della tua pagina di prenotazioni."}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("input",{type:"text",value:a.customUrl,onChange:u=>o({...a,customUrl:u.target.value}),className:"flex-1 p-3 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"URL personalizzato (es: /booking/your-business)"})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[e?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsx(tm,{size:20}),"Salva Modifiche"]})})]})]})})},Hse=()=>{const{subscription:t}=ii();if(!t)return l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 rounded-lg p-6 flex items-start gap-4",children:[l.jsx(Wt,{className:"w-6 h-6 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-red-500",children:"Nessun abbonamento attivo"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Per utilizzare tutte le funzionalità, attiva un abbonamento."})]})]});const e=t.status==="active",n=new Date(t.endDate),r=Hp(n)?U4(n,new Date):0;return l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:`rounded-lg p-6 flex items-start gap-4 ${e?"bg-green-500/10 border border-green-500":"bg-red-500/10 border border-red-500"}`,children:[e?l.jsx(U9,{className:"w-6 h-6 text-green-500 mt-1"}):l.jsx(G9,{className:"w-6 h-6 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h3",{className:"text-lg font-medium text-white",children:["Piano ",t.plan==="monthly"?"Mensile":"Annuale"]}),l.jsx("span",{className:`px-2 py-0.5 rounded text-sm ${e?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e?"Attivo":"Scaduto"})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[Hp(n)&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[l.jsx(Cn,{className:"w-4 h-4"}),l.jsxs("span",{children:["Scade il ",et(n,"d MMMM yyyy",{locale:ys}),e&&r>0&&` (${r} giorni rimanenti)`]})]}),t.paypalSubscriptionId&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[l.jsx(Su,{className:"w-4 h-4"}),l.jsx("span",{children:"Rinnovo automatico attivo"})]})]})]})]}),t.plan==="trial"&&l.jsxs("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-6",children:[l.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Piano di prova"}),l.jsxs("p",{className:"text-gray-400",children:["Stai utilizzando il piano di prova gratuito. Hai ancora ",t.maxBookings-t.bookingsUsed," prenotazioni disponibili."]})]}),!e&&l.jsx(z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Rinnova Abbonamento"})]})},Kse=()=>l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Su,{className:"text-[--theater-gold]"}),"Abbonamento"]}),l.jsx(Hse,{})]}),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Storico Fatturazione"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Data"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Importo"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Fattura"})]})}),l.jsx("tbody",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("td",{className:"py-3 text-white",children:"01/01/2024"}),l.jsx("td",{className:"py-3 text-white",children:"€20.00"}),l.jsx("td",{className:"py-3",children:l.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Pagato"})}),l.jsx("td",{className:"py-3",children:l.jsx("button",{className:"text-[--theater-gold] hover:underline",children:"Scarica PDF"})})]})})]})})]})]}),zse=()=>{var m,y,E;const[t,e]=I.useState(""),[n,r]=I.useState(""),[s,i]=I.useState(""),[A,a]=I.useState(!1),[o,c]=I.useState(null),[u,h]=I.useState(!1),f=async x=>{if(x.preventDefault(),!!tn.currentUser){if(n!==s){c("Le password non coincidono");return}a(!0),c(null),h(!1);try{await SV(tn.currentUser,n),h(!0),e(""),r(""),i("")}catch(v){console.error("Error updating password:",v),c("Errore durante l'aggiornamento della password")}finally{a(!1)}}},g=async()=>{if(tn.currentUser){a(!0),c(null),h(!1);try{await IV(tn.currentUser),h(!0)}catch(x){console.error("Error sending verification email:",x),c("Errore durante l'invio dell'email di verifica")}finally{a(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[o&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Wt,{size:20}),o]}),u&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(ln,{size:20}),(m=tn.currentUser)!=null&&m.emailVerified?"Password aggiornata con successo!":"Email di verifica inviata con successo!"]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Password Attuale"}),l.jsxs("div",{className:"relative",children:[l.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:t,onChange:x=>e(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuova Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:n,onChange:x=>r(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Conferma Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(co,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:s,onChange:x=>i(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),l.jsx("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:A?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),"Aggiornamento in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(co,{size:20}),"Aggiorna Password"]})})]}),l.jsx("div",{className:"border-t border-gray-700 pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Verifica Email"}),l.jsx("p",{className:"text-gray-400",children:(y=tn.currentUser)!=null&&y.emailVerified?"La tua email è verificata":"Verifica la tua email per accedere a tutte le funzionalità"})]}),!((E=tn.currentUser)!=null&&E.emailVerified)&&l.jsxs("button",{onClick:g,disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[A?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsx(Ea,{size:20}),"Invia Verifica"]})]})})]})},$R=()=>l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(O9,{className:"text-[--theater-gold]"}),"Sicurezza"]}),l.jsx(zse,{})]})}),Gse=async(t,e)=>{try{const n=Ve(me,"notification_settings",t);return await qg(n,{settings:e.reduce((r,s)=>({...r,[s.id]:{enabled:s.enabled,template:s.template}}),{}),updatedAt:new Date}),await Vr(St(me,"notification_logs"),{userId:t,type:"settings_update",timestamp:new Date,details:{settings:e}}),!0}catch(n){throw console.error("Error saving notification settings:",n),n}},$se=async t=>{try{const e=Ve(me,"notification_settings",t),n=await Or(e);return n.exists()?n.data():{settings:{subscription_expiring:{enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadrà tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},subscription_expired:{enabled:!0,template:{subject:"Il tuo abbonamento è scaduto",body:"Il tuo abbonamento è scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},subscription_renewed:{enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento è attivo fino al {expiry_date}."}}}}}catch(e){throw console.error("Error getting notification settings:",e),e}},Wse=[{id:"subscription_expiring",enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadrà tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},{id:"subscription_expired",enabled:!0,template:{subject:"Il tuo abbonamento è scaduto",body:"Il tuo abbonamento è scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},{id:"subscription_renewed",enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento è attivo fino al {expiry_date}."}}],qse=()=>{const{user:t}=ii(),[e,n]=I.useState(Wse),[r,s]=I.useState(null),[i,A]=I.useState(!1),[a,o]=I.useState(null),[c,u]=I.useState(!1);I.useEffect(()=>{(async()=>{if(t)try{const g=await $se(t.uid);if(g){const m=Object.entries(g.settings).map(([y,E])=>({id:y,...E}));n(m)}}catch(g){console.error("Error loading notification settings:",g),o("Errore nel caricamento delle preferenze di notifica")}})()},[t]);const h=async()=>{if(!t){o("Utente non autenticato");return}A(!0),o(null),u(!1);try{await Gse(t.uid,e),e.some(f=>f.enabled)?await Ag(t.email,{type:"custom",message:"Questa è una notifica di test. Le tue preferenze di notifica sono state aggiornate con successo!"})?u(!0):o("Le preferenze sono state salvate ma non è stato possibile inviare la notifica di test"):u(!0),s(null)}catch(f){console.error("Error saving notification settings:",f),o("Errore durante il salvataggio delle preferenze")}finally{A(!1)}};return l.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Dv,{className:"text-[--theater-gold]"}),"Notifiche"]}),a&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Wt,{size:20}),a]}),c&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(ln,{size:20}),"Preferenze salvate con successo"]}),l.jsx("div",{className:"space-y-6",children:e.map(f=>l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.enabled,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,enabled:g.target.checked}:y);n(m)},className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[--theater-gold]"})]}),l.jsxs("h3",{className:"text-lg font-medium text-white",children:[f.id==="subscription_expiring"&&"Abbonamento in Scadenza",f.id==="subscription_expired"&&"Abbonamento Scaduto",f.id==="subscription_renewed"&&"Abbonamento Rinnovato"]})]}),l.jsx("button",{onClick:()=>s(r===f.id?null:f.id),className:"text-[--theater-gold] hover:text-yellow-500 transition-colors",children:r===f.id?"Chiudi":"Personalizza"})]}),r===f.id&&l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Oggetto Email"}),l.jsx("input",{type:"text",value:f.template.subject,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,subject:g.target.value}}:y);n(m)},className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Testo Email"}),l.jsx("textarea",{value:f.template.body,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,body:g.target.value}}:y);n(m)},rows:4,className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[l.jsx("p",{children:"Variabili disponibili:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1",children:[f.id==="subscription_expiring"&&l.jsxs("li",{children:["{days_left}"," - Giorni rimanenti alla scadenza"]}),f.id==="subscription_renewed"&&l.jsxs("li",{children:["{expiry_date}"," - Data di scadenza del nuovo abbonamento"]})]})]})]})]},f.id))}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:h,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:"⌛"}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx(tm,{size:20}),"Salva Preferenze"]})})})]})})},Xse=async(t,e,n,r)=>{var s;try{const i=new Date,A=new Date(i);A.setMonth(A.getMonth()+(e==="yearly"?12:1));const a=Ve(me,"subscriptions",t),o=Ve(me,"users",t),u=(s=(await Or(o)).data())==null?void 0:s.email;await qg(a,{userId:t,plan:e,status:"active",startDate:i,endDate:A,maxBookings:e==="yearly"?1e3:100,bookingsUsed:0,...n==="stripe"&&{stripeSubscriptionId:r},...n==="paypal"&&{paypalSubscriptionId:r},updatedAt:Kn()},{merge:!0}),await Er(o,{"subscription.status":"active","subscription.plan":e,"subscription.endDate":A,updatedAt:Kn()}),u&&await Ag(u,{type:"extension",endDate:A})}catch(i){throw console.error("Error activating subscription:",i),i}},Yse=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(""),[o,c]=I.useState("all"),[u,h]=I.useState("all"),[f,g]=I.useState(null),[m,y]=I.useState(!1);I.useEffect(()=>{const w=St(me,"users"),F=fs(w,Zs("createdAt","desc")),T=yl(F,Q=>{const b=Q.docs.map(C=>{var _,U,k,R;return{id:C.id,...C.data(),createdAt:(_=C.data().createdAt)==null?void 0:_.toDate(),updatedAt:(U=C.data().updatedAt)==null?void 0:U.toDate(),lastLoginAt:(k=C.data().lastLoginAt)==null?void 0:k.toDate(),subscription:C.data().subscription?{...C.data().subscription,endDate:(R=C.data().subscription.endDate)==null?void 0:R.toDate()}:void 0}});e(b),r(!1)},Q=>{console.error("Error fetching users:",Q),i("Errore nel caricamento degli utenti"),r(!1)});return()=>T()},[]);const E=async(w,F)=>{y(!0),i(null);try{await Xse(w,"monthly","admin_activation"),await Er(Ve(me,"users",w),{subscription:{status:"active",plan:"monthly",endDate:new Date(Date.now()+30*24*60*60*1e3)},updatedAt:new Date})}catch(T){console.error("Error activating subscription:",T),i("Errore durante l'attivazione dell'abbonamento")}finally{y(!1)}},x=async(w,F)=>{try{await Er(Ve(me,"users",w),{status:F,updatedAt:new Date})}catch(T){console.error("Error updating user status:",T),i("Errore durante l'aggiornamento dello stato utente")}},v=t.filter(w=>{var b;const F=w.email.toLowerCase().includes(A.toLowerCase())||((b=w.displayName)==null?void 0:b.toLowerCase().includes(A.toLowerCase())),T=o==="all"||w.role===o,Q=u==="all"||w.status===u;return F&&T&&Q});return n?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(Jo,{className:"text-[--theater-gold]"}),"Gestione Utenti"]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:l.jsx(FQ,{size:20})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per email o nome...",value:A,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nu,{className:"text-gray-400"}),l.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti i ruoli"}),l.jsx("option",{value:"user",children:"Utenti"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nu,{className:"text-gray-400"}),l.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),l.jsx("option",{value:"active",children:"Attivi"}),l.jsx("option",{value:"suspended",children:"Sospesi"}),l.jsx("option",{value:"pending",children:"In attesa"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Nome"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ruolo"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Abbonamento"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ultimo Accesso"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),l.jsx("tbody",{children:v.map(w=>{var F;return l.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[l.jsx("td",{className:"p-4 text-white",children:w.email}),l.jsx("td",{className:"p-4 text-white",children:w.displayName||"-"}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:w.role==="admin"?"Admin":"Utente"})}),l.jsx("td",{className:"p-4",children:l.jsxs("select",{value:w.status,onChange:T=>x(w.id,T.target.value),className:`px-3 py-1 rounded text-sm ${w.status==="active"?"bg-green-500/20 text-green-400":w.status==="suspended"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[l.jsx("option",{value:"active",children:"Attivo"}),l.jsx("option",{value:"suspended",children:"Sospeso"}),l.jsx("option",{value:"pending",children:"In attesa"})]})}),l.jsx("td",{className:"p-4",children:w.subscription?l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.subscription.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:w.subscription.status==="active"?`${w.subscription.plan} (attivo)`:"Scaduto"}):l.jsxs("button",{onClick:()=>E(w.id,w.email),disabled:m,className:"flex items-center gap-2 px-3 py-1 bg-[--theater-gold] text-black rounded-full text-sm hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[m?l.jsx("span",{className:"animate-spin",children:"⌛"}):l.jsx(Fb,{size:14}),"Attiva"]})}),l.jsx("td",{className:"p-4 text-gray-400",children:((F=w.lastLoginAt)==null?void 0:F.toLocaleDateString())||"Mai"}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>g(w),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:l.jsx(Fb,{size:18})})})]},w.id)})})]})})]})})})},Jse=()=>{const{user:t,isAdmin:e}=ii(),n=ya();if(!t)return l.jsx(_o,{to:"/login",replace:!0});if(!e)return l.jsx(_o,{to:"/",replace:!0});const r=async()=>{try{await tn.signOut(),n("/")}catch(s){console.error("Error signing out:",s)}};return l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(np,{to:"/dashboard",className:"text-2xl font-marquee text-[--theater-gold]",children:"Booking Manager"}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:[l.jsx(rA,{size:18}),l.jsx("span",{className:"max-w-[150px] truncate",children:t==null?void 0:t.email})]}),l.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[l.jsx(np,{to:"/dashboard/profile",className:"block px-4 py-2 text-white hover:bg-gray-600 transition-colors",children:"Profilo"}),l.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-600 transition-colors flex items-center gap-2",children:[l.jsx(TQ,{size:18}),"Esci"]})]})]})})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(VS,{children:[l.jsx(Tt,{path:"/",element:l.jsx(Ose,{})}),l.jsx(Tt,{path:"users",element:l.jsx(Yse,{})}),l.jsx(Tt,{path:"subscriptions",element:l.jsx(HR,{})}),l.jsxs(Tt,{path:"profile/*",element:l.jsx(zR,{}),children:[l.jsx(Tt,{index:!0,element:l.jsx(GR,{})}),l.jsx(Tt,{path:"subscription",element:l.jsx(Kse,{})}),l.jsx(Tt,{path:"security",element:l.jsx($R,{})}),l.jsx(Tt,{path:"notifications",element:l.jsx(qse,{})})]}),l.jsx(Tt,{path:"*",element:l.jsx(_o,{to:"/dashboard",replace:!0})})]})})]})},Zse=()=>l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx(CQ,{className:"w-24 h-24 text-[--theater-gold]"})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Pagina non trovata"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"La pagina che stai cercando non esiste o è stata spostata."}),l.jsxs(np,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(bQ,{size:20}),"Torna alla Home"]})]})}),eie=()=>{const t=ya(),e=pA(),{user:n}=ii(),[r,s]=I.useState(null);return I.useEffect(()=>{(async()=>{if(n)try{const a=new URLSearchParams(e.search).get("code");if(!a)throw new Error("Codice di autorizzazione mancante");await UY(a,n.uid);const o=sessionStorage.getItem("calendarReturnTo")||"/dashboard";sessionStorage.removeItem("calendarReturnTo"),t(o)}catch(A){console.error("Error handling calendar callback:",A),s("Errore durante la connessione a Google Calendar")}})()},[n,e.search,t]),l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center",children:[l.jsx(Cn,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-6"}),r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 mb-4",children:[l.jsx(Wt,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Errore di Connessione"})]}),l.jsx("p",{className:"text-gray-400",children:r})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500 mb-4",children:[l.jsx(ln,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Connessione in corso..."})]}),l.jsx("p",{className:"text-gray-400",children:"Stiamo connettendo il tuo Google Calendar..."})]})]})})},tie=()=>{const{bookingId:t}=_j(),[e,n]=I.useState([]),[r,s]=I.useState(null),[i,A]=I.useState(!0),[a,o]=I.useState(null),[c,u]=I.useState([]),[h,f]=I.useState(null),[g,m]=I.useState(!1);I.useEffect(()=>{(async()=>{if(t){A(!0),o(null);try{const w=await Or(Ve(me,"bookings",t));if(!w.exists()){o("Galleria non trovata");return}s(w.data());const F=St(me,"galleries"),T=fs(F,ca("bookingId","==",t),Zs("uploadedAt","desc")),b=(await Uu(T)).docs.map(C=>({id:C.id,...C.data()}));n(b)}catch(w){console.error("Error loading gallery:",w),o("Errore nel caricamento della galleria")}finally{A(!1)}}})()},[t]);const y=v=>{u(w=>w.includes(v)?w.filter(F=>F!==v):[...w,v]),m(!1)},E=async()=>{if(!(!t||c.length===0))try{await Vr(St(me,"photo_selections"),{bookingId:t,photoIds:c,createdAt:new Date}),m(!0),Pe.success("Selezione salvata con successo!")}catch(v){console.error("Error saving selection:",v),Pe.error("Errore nel salvataggio della selezione")}},x=()=>{navigator.share?navigator.share({title:"La mia galleria fotografica",url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>Pe.success("Link copiato negli appunti")).catch(()=>Pe.error("Errore nella copia del link"))};return i?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin text-[--theater-gold] text-4xl",children:"⌛"})}):a||!r?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-6 rounded-lg max-w-md w-full flex items-center gap-3",children:[l.jsx(Wt,{size:24}),l.jsx("p",{children:a||"Galleria non trovata"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx(Pr,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"La tua Galleria Fotografica"}),l.jsx("p",{className:"text-gray-400",children:"Seleziona le tue foto preferite"})]}),l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"text-gray-400",children:[c.length," foto selezionate"]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(rm,{size:20}),"Condividi"]}),c.length>0&&l.jsxs("button",{onClick:E,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[l.jsx(ln,{size:20}),g?"Selezione Salvata":"Conferma Selezione"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((v,w)=>l.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"relative group",children:[l.jsx("img",{src:v.url,alt:v.name,className:"w-full aspect-square object-cover rounded-lg cursor-pointer",onClick:()=>f(w)}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-4",children:[l.jsx("button",{onClick:F=>{F.stopPropagation(),y(v.id)},className:`p-3 rounded-full transition-colors ${c.includes(v.id)?"bg-[--theater-gold] text-black":"bg-white/20 text-white hover:bg-white/30"}`,children:l.jsx(_Q,{size:24,className:c.includes(v.id)?"fill-current":""})}),l.jsx("a",{href:v.url,download:!0,onClick:F=>F.stopPropagation(),className:"p-3 bg-white/20 text-white rounded-full hover:bg-white/30 transition-colors",children:l.jsx(No,{size:24})})]}),c.includes(v.id)&&l.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 bg-[--theater-gold] rounded-full flex items-center justify-center",children:l.jsx(ln,{className:"w-5 h-5 text-black"})})]},v.id))}),l.jsx(qt,{children:h!==null&&l.jsx(KR,{photos:e,currentIndex:h,onClose:()=>f(null),onNext:()=>f(v=>v!==null&&v<e.length-1?v+1:v),onPrev:()=>f(v=>v!==null&&v>0?v-1:v),onFavorite:y,favorites:c})}),c.length>0&&l.jsx(z.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-0 inset-x-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[l.jsxs("div",{className:"text-white",children:[c.length," foto selezionate"]}),l.jsxs("button",{onClick:E,disabled:g,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[l.jsx(ln,{size:20}),g?"Selezione Salvata":"Conferma Selezione"]})]})})]})})},nie="/carnival2025",rie=()=>(ii(),l.jsxs(VS,{children:[l.jsx(Tt,{path:"/",element:l.jsx(_o,{to:"/prenota",replace:!0})}),l.jsxs(Tt,{element:l.jsx(_W,{}),children:[l.jsx(Tt,{path:"/prenota",element:l.jsx(sse,{})}),l.jsx(Tt,{path:"/dashboard/*",element:l.jsx(Nb,{requireAdmin:!0,children:l.jsx(Jse,{})})}),l.jsxs(Tt,{path:"/profile",element:l.jsx(Nb,{children:l.jsx(zR,{})}),children:[l.jsx(Tt,{index:!0,element:l.jsx(GR,{})}),l.jsx(Tt,{path:"security",element:l.jsx($R,{})})]}),l.jsx(Tt,{path:"/gallery/:bookingId",element:l.jsx(tie,{})}),l.jsx(Tt,{path:"/calendar/callback",element:l.jsx(eie,{})}),l.jsx(Tt,{path:"/404",element:l.jsx(Zse,{})}),l.jsx(Tt,{path:"*",element:l.jsx(_o,{to:"/404",replace:!0})})]})]})),sie=()=>l.jsx(q9,{children:l.jsx(Rz,{children:l.jsx(Gj,{basename:nie,children:l.jsxs(Fz,{children:[l.jsx(rie,{}),l.jsx(_9,{position:"top-right",toastOptions:{style:{background:"#333",color:"#fff",borderRadius:"8px"},success:{iconTheme:{primary:"#FFD700",secondary:"#000"}},error:{iconTheme:{primary:"#ff4b4b",secondary:"#fff"}}}})]})})})}),WR=document.getElementById("root");if(!WR)throw new Error("Failed to find the root element");UB(WR).render(l.jsx(I.StrictMode,{children:l.jsx(sie,{})}));
