function wP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function cU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uU={exports:{}},ig={},dU={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu=Symbol.for("react.element"),BP=Symbol.for("react.portal"),xP=Symbol.for("react.fragment"),CP=Symbol.for("react.strict_mode"),EP=Symbol.for("react.profiler"),_P=Symbol.for("react.provider"),bP=Symbol.for("react.context"),TP=Symbol.for("react.forward_ref"),IP=Symbol.for("react.suspense"),UP=Symbol.for("react.memo"),FP=Symbol.for("react.lazy"),xE=Symbol.iterator;function SP(t){return t===null||typeof t!="object"?null:(t=xE&&t[xE]||t["@@iterator"],typeof t=="function"?t:null)}var hU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fU=Object.assign,pU={};function rl(t,e,n){this.props=t,this.context=e,this.refs=pU,this.updater=n||hU}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gU(){}gU.prototype=rl.prototype;function Tw(t,e,n){this.props=t,this.context=e,this.refs=pU,this.updater=n||hU}var Iw=Tw.prototype=new gU;Iw.constructor=Tw;fU(Iw,rl.prototype);Iw.isPureReactComponent=!0;var CE=Array.isArray,mU=Object.prototype.hasOwnProperty,Uw={current:null},yU={key:!0,ref:!0,__self:!0,__source:!0};function vU(t,e,n){var r,s={},i=null,A=null;if(e!=null)for(r in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)mU.call(e,r)&&!yU.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xu,type:t,key:i,ref:A,props:s,_owner:Uw.current}}function QP(t,e){return{$$typeof:Xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xu}function NP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var EE=/\/+/g;function Nm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NP(""+t.key):e.toString(36)}function Gh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Xu:case BP:A=!0}}if(A)return A=t,s=s(A),t=r===""?"."+Nm(A,0):r,CE(s)?(n="",t!=null&&(n=t.replace(EE,"$&/")+"/"),Gh(s,e,n,"",function(l){return l})):s!=null&&(Fw(s)&&(s=QP(s,n+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(EE,"$&/")+"/")+t)),e.push(s)),1;if(A=0,r=r===""?".":r+":",CE(t))for(var a=0;a<t.length;a++){i=t[a];var o=r+Nm(i,a);A+=Gh(i,e,n,o,s)}else if(o=SP(t),typeof o=="function")for(t=o.call(t),a=0;!(i=t.next()).done;)i=i.value,o=r+Nm(i,a++),A+=Gh(i,e,n,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function $d(t,e,n){if(t==null)return t;var r=[],s=0;return Gh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kn={current:null},$h={transition:null},RP={ReactCurrentDispatcher:kn,ReactCurrentBatchConfig:$h,ReactCurrentOwner:Uw};function wU(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:$d,forEach:function(t,e,n){$d(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $d(t,function(){e++}),e},toArray:function(t){return $d(t,function(e){return e})||[]},only:function(t){if(!Fw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=rl;Fe.Fragment=xP;Fe.Profiler=EP;Fe.PureComponent=Tw;Fe.StrictMode=CP;Fe.Suspense=IP;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RP;Fe.act=wU;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fU({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=Uw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)mU.call(e,o)&&!yU.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Xu,type:t.type,key:s,ref:i,props:r,_owner:A}};Fe.createContext=function(t){return t={$$typeof:bP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_P,_context:t},t.Consumer=t};Fe.createElement=vU;Fe.createFactory=function(t){var e=vU.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:TP,render:t}};Fe.isValidElement=Fw;Fe.lazy=function(t){return{$$typeof:FP,_payload:{_status:-1,_result:t},_init:kP}};Fe.memo=function(t,e){return{$$typeof:UP,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=$h.transition;$h.transition={};try{t()}finally{$h.transition=e}};Fe.unstable_act=wU;Fe.useCallback=function(t,e){return kn.current.useCallback(t,e)};Fe.useContext=function(t){return kn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return kn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return kn.current.useEffect(t,e)};Fe.useId=function(){return kn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return kn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return kn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return kn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return kn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return kn.current.useReducer(t,e,n)};Fe.useRef=function(t){return kn.current.useRef(t)};Fe.useState=function(t){return kn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return kn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return kn.current.useTransition()};Fe.version="18.3.1";dU.exports=Fe;var F=dU.exports;const ye=cU(F),DP=wP({__proto__:null,default:ye},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=F,LP=Symbol.for("react.element"),MP=Symbol.for("react.fragment"),OP=Object.prototype.hasOwnProperty,jP=PP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VP={key:!0,ref:!0,__self:!0,__source:!0};function BU(t,e,n){var r,s={},i=null,A=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(r in e)OP.call(e,r)&&!VP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:LP,type:t,key:i,ref:A,props:s,_owner:jP.current}}ig.Fragment=MP;ig.jsx=BU;ig.jsxs=BU;uU.exports=ig;var c=uU.exports,xU={exports:{}},or={},CU={exports:{}},EU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,K){var J=M.length;M.push(K);e:for(;0<J;){var ee=J-1>>>1,fe=M[ee];if(0<s(fe,K))M[ee]=K,M[J]=fe,J=ee;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var K=M[0],J=M.pop();if(J!==K){M[0]=J;e:for(var ee=0,fe=M.length,me=fe>>>1;ee<me;){var Re=2*(ee+1)-1,Ge=M[Re],Je=Re+1,ut=M[Je];if(0>s(Ge,J))Je<fe&&0>s(ut,Ge)?(M[ee]=ut,M[Je]=J,ee=Je):(M[ee]=Ge,M[Re]=J,ee=Re);else if(Je<fe&&0>s(ut,J))M[ee]=ut,M[Je]=J,ee=Je;else break e}}return K}function s(M,K){var J=M.sortIndex-K.sortIndex;return J!==0?J:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],l=[],u=1,h=null,f=3,p=!1,m=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var K=n(l);K!==null;){if(K.callback===null)r(l);else if(K.startTime<=M)r(l),K.sortIndex=K.expirationTime,e(o,K);else break;K=n(l)}}function I(M){if(y=!1,v(M),!m)if(n(o)!==null)m=!0,V(Q);else{var K=n(l);K!==null&&q(I,K.startTime-M)}}function Q(M,K){m=!1,y&&(y=!1,B(E),E=-1),p=!0;var J=f;try{for(v(K),h=n(o);h!==null&&(!(h.expirationTime>K)||M&&!R());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var fe=ee(h.expirationTime<=K);K=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(o)&&r(o),v(K)}else r(o);h=n(o)}if(h!==null)var me=!0;else{var Re=n(l);Re!==null&&q(I,Re.startTime-K),me=!1}return me}finally{h=null,f=J,p=!1}}var k=!1,T=null,E=-1,b=5,_=-1;function R(){return!(t.unstable_now()-_<b)}function N(){if(T!==null){var M=t.unstable_now();_=M;var K=!0;try{K=T(!0,M)}finally{K?S():(k=!1,T=null)}}else k=!1}var S;if(typeof w=="function")S=function(){w(N)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Ae=Y.port2;Y.port1.onmessage=N,S=function(){Ae.postMessage(null)}}else S=function(){C(N,0)};function V(M){T=M,k||(k=!0,S())}function q(M,K){E=C(function(){M(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,V(Q))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var J=f;f=K;try{return M()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var J=f;f=M;try{return K()}finally{f=J}},t.unstable_scheduleCallback=function(M,K,J){var ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,M){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=J+fe,M={id:u++,callback:K,priorityLevel:M,startTime:J,expirationTime:fe,sortIndex:-1},J>ee?(M.sortIndex=J,e(l,M),n(o)===null&&M===n(l)&&(y?(B(E),E=-1):y=!0,q(I,J-ee))):(M.sortIndex=fe,e(o,M),m||p||(m=!0,V(Q))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var K=f;return function(){var J=f;f=K;try{return M.apply(this,arguments)}finally{f=J}}}})(EU);CU.exports=EU;var HP=CU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP=F,ir=HP;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _U=new Set,Jc={};function ga(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(Jc[t]=e,t=0;t<e.length;t++)_U.add(e[t])}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l0=Object.prototype.hasOwnProperty,zP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_E={},bE={};function GP(t){return l0.call(bE,t)?!0:l0.call(_E,t)?!1:zP.test(t)?bE[t]=!0:(_E[t]=!0,!1)}function $P(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WP(t,e,n,r){if(e===null||typeof e>"u"||$P(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sn[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sn[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sn[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sn[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sn[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sn[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sn[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sn[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sn[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sw=/[\-:]([a-z])/g;function Qw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sw,Qw);sn[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sw,Qw);sn[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sw,Qw);sn[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nw(t,e,n,r){var s=sn.hasOwnProperty(e)?sn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WP(e,n,s,r)&&(n=null),r||s===null?GP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ni=KP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wd=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),kw=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),bU=Symbol.for("react.provider"),TU=Symbol.for("react.context"),Rw=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),d0=Symbol.for("react.suspense_list"),Dw=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),IU=Symbol.for("react.offscreen"),TE=Symbol.iterator;function Rl(t){return t===null||typeof t!="object"?null:(t=TE&&t[TE]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,km;function tc(t){if(km===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);km=e&&e[1]||""}return`
`+km+t}var Rm=!1;function Dm(t,e){if(!t||Rm)return"";Rm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var o=`
`+s[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{Rm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function qP(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=Dm(t.type,!1),t;case 11:return t=Dm(t.type.render,!1),t;case 1:return t=Dm(t.type,!0),t;default:return""}}function h0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qa:return"Fragment";case Wa:return"Portal";case c0:return"Profiler";case kw:return"StrictMode";case u0:return"Suspense";case d0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TU:return(t.displayName||"Context")+".Consumer";case bU:return(t._context.displayName||"Context")+".Provider";case Rw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dw:return e=t.displayName||null,e!==null?e:h0(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return h0(t(e))}catch{}}return null}function XP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h0(e);case 8:return e===kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YP(t){var e=UU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){r=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qd(t){t._valueTracker||(t._valueTracker=YP(t))}function FU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function f0(t,e){var n=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function IE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SU(t,e){e=e.checked,e!=null&&Nw(t,"checked",e,!1)}function p0(t,e){SU(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?g0(t,e.type,n):e.hasOwnProperty("defaultValue")&&g0(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function g0(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function m0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(nc(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function QU(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function SE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xd,kU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xd=Xd||document.createElement("div"),Xd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JP=["Webkit","ms","Moz","O"];Object.keys(Ec).forEach(function(t){JP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ec[e]=Ec[t]})});function RU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ec.hasOwnProperty(t)&&Ec[t]?(""+e).trim():e+"px"}function DU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=RU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ZP=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v0(t,e){if(e){if(ZP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function w0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=null;function Pw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var x0=null,yo=null,vo=null;function QE(t){if(t=Zu(t)){if(typeof x0!="function")throw Error(W(280));var e=t.stateNode;e&&(e=cg(e),x0(t.stateNode,t.type,e))}}function PU(t){yo?vo?vo.push(t):vo=[t]:yo=t}function LU(){if(yo){var t=yo,e=vo;if(vo=yo=null,QE(t),e)for(t=0;t<e.length;t++)QE(e[t])}}function MU(t,e){return t(e)}function OU(){}var Pm=!1;function jU(t,e,n){if(Pm)return t(e,n);Pm=!0;try{return MU(t,e,n)}finally{Pm=!1,(yo!==null||vo!==null)&&(OU(),LU())}}function eu(t,e){var n=t.stateNode;if(n===null)return null;var r=cg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var C0=!1;if(Os)try{var Dl={};Object.defineProperty(Dl,"passive",{get:function(){C0=!0}}),window.addEventListener("test",Dl,Dl),window.removeEventListener("test",Dl,Dl)}catch{C0=!1}function e4(t,e,n,r,s,i,A,a,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var _c=!1,_f=null,bf=!1,E0=null,t4={onError:function(t){_c=!0,_f=t}};function n4(t,e,n,r,s,i,A,a,o){_c=!1,_f=null,e4.apply(t4,arguments)}function r4(t,e,n,r,s,i,A,a,o){if(n4.apply(this,arguments),_c){if(_c){var l=_f;_c=!1,_f=null}else throw Error(W(198));bf||(bf=!0,E0=l)}}function ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function NE(t){if(ma(t)!==t)throw Error(W(188))}function s4(t){var e=t.alternate;if(!e){if(e=ma(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return NE(s),t;if(i===r)return NE(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var A=!1,a=s.child;a;){if(a===n){A=!0,n=s,r=i;break}if(a===r){A=!0,r=s,n=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===n){A=!0,n=i,r=s;break}if(a===r){A=!0,r=i,n=s;break}a=a.sibling}if(!A)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function HU(t){return t=s4(t),t!==null?KU(t):null}function KU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KU(t);if(e!==null)return e;t=t.sibling}return null}var zU=ir.unstable_scheduleCallback,kE=ir.unstable_cancelCallback,i4=ir.unstable_shouldYield,A4=ir.unstable_requestPaint,Tt=ir.unstable_now,a4=ir.unstable_getCurrentPriorityLevel,Lw=ir.unstable_ImmediatePriority,GU=ir.unstable_UserBlockingPriority,Tf=ir.unstable_NormalPriority,o4=ir.unstable_LowPriority,$U=ir.unstable_IdlePriority,Ag=null,ns=null;function l4(t){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(Ag,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:d4,c4=Math.log,u4=Math.LN2;function d4(t){return t>>>=0,t===0?32:31-(c4(t)/u4|0)|0}var Yd=64,Jd=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function If(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,A=n&268435455;if(A!==0){var a=A&~s;a!==0?r=rc(a):(i&=A,i!==0&&(r=rc(i)))}else A=n&~s,A!==0?r=rc(A):i!==0&&(r=rc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),s=1<<n,r|=t[n],e&=~s;return r}function h4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-Dr(i),a=1<<A,o=s[A];o===-1?(!(a&n)||a&r)&&(s[A]=h4(a,e)):o<=e&&(t.expiredLanes|=a),i&=~a}}function _0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WU(){var t=Yd;return Yd<<=1,!(Yd&4194240)&&(Yd=64),t}function Lm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function p4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Dr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Mw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var We=0;function qU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XU,Ow,YU,JU,ZU,b0=!1,Zd=[],Ri=null,Di=null,Pi=null,tu=new Map,nu=new Map,vi=[],g4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RE(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":tu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(e.pointerId)}}function Pl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zu(e),e!==null&&Ow(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function m4(t,e,n,r,s){switch(e){case"focusin":return Ri=Pl(Ri,t,e,n,r,s),!0;case"dragenter":return Di=Pl(Di,t,e,n,r,s),!0;case"mouseover":return Pi=Pl(Pi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return tu.set(i,Pl(tu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,nu.set(i,Pl(nu.get(i)||null,t,e,n,r,s)),!0}return!1}function eF(t){var e=LA(t.target);if(e!==null){var n=ma(e);if(n!==null){if(e=n.tag,e===13){if(e=VU(n),e!==null){t.blockedOn=e,ZU(t.priority,function(){YU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=T0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);B0=r,n.target.dispatchEvent(r),B0=null}else return e=Zu(n),e!==null&&Ow(e),t.blockedOn=n,!1;e.shift()}return!0}function DE(t,e,n){Wh(t)&&n.delete(e)}function y4(){b0=!1,Ri!==null&&Wh(Ri)&&(Ri=null),Di!==null&&Wh(Di)&&(Di=null),Pi!==null&&Wh(Pi)&&(Pi=null),tu.forEach(DE),nu.forEach(DE)}function Ll(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,y4)))}function ru(t){function e(s){return Ll(s,t)}if(0<Zd.length){Ll(Zd[0],t);for(var n=1;n<Zd.length;n++){var r=Zd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Ll(Ri,t),Di!==null&&Ll(Di,t),Pi!==null&&Ll(Pi,t),tu.forEach(e),nu.forEach(e),n=0;n<vi.length;n++)r=vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)eF(n),n.blockedOn===null&&vi.shift()}var wo=ni.ReactCurrentBatchConfig,Uf=!0;function v4(t,e,n,r){var s=We,i=wo.transition;wo.transition=null;try{We=1,jw(t,e,n,r)}finally{We=s,wo.transition=i}}function w4(t,e,n,r){var s=We,i=wo.transition;wo.transition=null;try{We=4,jw(t,e,n,r)}finally{We=s,wo.transition=i}}function jw(t,e,n,r){if(Uf){var s=T0(t,e,n,r);if(s===null)Wm(t,e,r,Ff,n),RE(t,r);else if(m4(s,t,e,n,r))r.stopPropagation();else if(RE(t,r),e&4&&-1<g4.indexOf(t)){for(;s!==null;){var i=Zu(s);if(i!==null&&XU(i),i=T0(t,e,n,r),i===null&&Wm(t,e,r,Ff,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wm(t,e,r,null,n)}}var Ff=null;function T0(t,e,n,r){if(Ff=null,t=Pw(r),t=LA(t),t!==null)if(e=ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ff=t,null}function tF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a4()){case Lw:return 1;case GU:return 4;case Tf:case o4:return 16;case $U:return 536870912;default:return 16}default:return 16}}var Ti=null,Vw=null,qh=null;function nF(){if(qh)return qh;var t,e=Vw,n=e.length,r,s="value"in Ti?Ti.value:Ti.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var A=n-t;for(r=1;r<=A&&e[n-r]===s[i-r];r++);return qh=s.slice(t,1<r?1-r:void 0)}function Xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eh(){return!0}function PE(){return!1}function lr(t){function e(n,r,s,i,A){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?eh:PE,this.isPropagationStopped=PE,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hw=lr(sl),Ju=gt({},sl,{view:0,detail:0}),B4=lr(Ju),Mm,Om,Ml,ag=gt({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(Mm=t.screenX-Ml.screenX,Om=t.screenY-Ml.screenY):Om=Mm=0,Ml=t),Mm)},movementY:function(t){return"movementY"in t?t.movementY:Om}}),LE=lr(ag),x4=gt({},ag,{dataTransfer:0}),C4=lr(x4),E4=gt({},Ju,{relatedTarget:0}),jm=lr(E4),_4=gt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),b4=lr(_4),T4=gt({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I4=lr(T4),U4=gt({},sl,{data:0}),ME=lr(U4),F4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q4[t])?!!e[t]:!1}function Kw(){return N4}var k4=gt({},Ju,{key:function(t){if(t.key){var e=F4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kw,charCode:function(t){return t.type==="keypress"?Xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R4=lr(k4),D4=gt({},ag,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OE=lr(D4),P4=gt({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kw}),L4=lr(P4),M4=gt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),O4=lr(M4),j4=gt({},ag,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V4=lr(j4),H4=[9,13,27,32],zw=Os&&"CompositionEvent"in window,bc=null;Os&&"documentMode"in document&&(bc=document.documentMode);var K4=Os&&"TextEvent"in window&&!bc,rF=Os&&(!zw||bc&&8<bc&&11>=bc),jE=" ",VE=!1;function sF(t,e){switch(t){case"keyup":return H4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function z4(t,e){switch(t){case"compositionend":return iF(e);case"keypress":return e.which!==32?null:(VE=!0,jE);case"textInput":return t=e.data,t===jE&&VE?null:t;default:return null}}function G4(t,e){if(Xa)return t==="compositionend"||!zw&&sF(t,e)?(t=nF(),qh=Vw=Ti=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rF&&e.locale!=="ko"?null:e.data;default:return null}}var $4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$4[t.type]:e==="textarea"}function AF(t,e,n,r){PU(r),e=Sf(e,"onChange"),0<e.length&&(n=new Hw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tc=null,su=null;function W4(t){mF(t,0)}function og(t){var e=Za(t);if(FU(e))return t}function q4(t,e){if(t==="change")return e}var aF=!1;if(Os){var Vm;if(Os){var Hm="oninput"in document;if(!Hm){var KE=document.createElement("div");KE.setAttribute("oninput","return;"),Hm=typeof KE.oninput=="function"}Vm=Hm}else Vm=!1;aF=Vm&&(!document.documentMode||9<document.documentMode)}function zE(){Tc&&(Tc.detachEvent("onpropertychange",oF),su=Tc=null)}function oF(t){if(t.propertyName==="value"&&og(su)){var e=[];AF(e,su,t,Pw(t)),jU(W4,e)}}function X4(t,e,n){t==="focusin"?(zE(),Tc=e,su=n,Tc.attachEvent("onpropertychange",oF)):t==="focusout"&&zE()}function Y4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return og(su)}function J4(t,e){if(t==="click")return og(e)}function Z4(t,e){if(t==="input"||t==="change")return og(e)}function eL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mr=typeof Object.is=="function"?Object.is:eL;function iu(t,e){if(Mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!l0.call(e,s)||!Mr(t[s],e[s]))return!1}return!0}function GE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $E(t,e){var n=GE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GE(n)}}function lF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cF(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tL(t){var e=cF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lF(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$E(n,i);var A=$E(n,r);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nL=Os&&"documentMode"in document&&11>=document.documentMode,Ya=null,I0=null,Ic=null,U0=!1;function WE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;U0||Ya==null||Ya!==Ef(r)||(r=Ya,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ic&&iu(Ic,r)||(Ic=r,r=Sf(I0,"onSelect"),0<r.length&&(e=new Hw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ya)))}function th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},Km={},uF={};Os&&(uF=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function lg(t){if(Km[t])return Km[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uF)return Km[t]=e[n];return t}var dF=lg("animationend"),hF=lg("animationiteration"),fF=lg("animationstart"),pF=lg("transitionend"),gF=new Map,qE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dA(t,e){gF.set(t,e),ga(e,[t])}for(var zm=0;zm<qE.length;zm++){var Gm=qE[zm],rL=Gm.toLowerCase(),sL=Gm[0].toUpperCase()+Gm.slice(1);dA(rL,"on"+sL)}dA(dF,"onAnimationEnd");dA(hF,"onAnimationIteration");dA(fF,"onAnimationStart");dA("dblclick","onDoubleClick");dA("focusin","onFocus");dA("focusout","onBlur");dA(pF,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iL=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function XE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,r4(r,e,void 0,t),t.currentTarget=null}function mF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var A=r.length-1;0<=A;A--){var a=r[A],o=a.instance,l=a.currentTarget;if(a=a.listener,o!==i&&s.isPropagationStopped())break e;XE(s,a,l),i=o}else for(A=0;A<r.length;A++){if(a=r[A],o=a.instance,l=a.currentTarget,a=a.listener,o!==i&&s.isPropagationStopped())break e;XE(s,a,l),i=o}}}if(bf)throw t=E0,bf=!1,E0=null,t}function st(t,e){var n=e[k0];n===void 0&&(n=e[k0]=new Set);var r=t+"__bubble";n.has(r)||(yF(e,t,2,!1),n.add(r))}function $m(t,e,n){var r=0;e&&(r|=4),yF(n,t,r,e)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Au(t){if(!t[nh]){t[nh]=!0,_U.forEach(function(n){n!=="selectionchange"&&(iL.has(n)||$m(n,!1,t),$m(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nh]||(e[nh]=!0,$m("selectionchange",!1,e))}}function yF(t,e,n,r){switch(tF(e)){case 1:var s=v4;break;case 4:s=w4;break;default:s=jw}n=s.bind(null,e,n,t),s=void 0,!C0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=r.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;A=A.return}for(;a!==null;){if(A=LA(a),A===null)return;if(o=A.tag,o===5||o===6){r=i=A;continue e}a=a.parentNode}}r=r.return}jU(function(){var l=i,u=Pw(n),h=[];e:{var f=gF.get(t);if(f!==void 0){var p=Hw,m=t;switch(t){case"keypress":if(Xh(n)===0)break e;case"keydown":case"keyup":p=R4;break;case"focusin":m="focus",p=jm;break;case"focusout":m="blur",p=jm;break;case"beforeblur":case"afterblur":p=jm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=LE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=C4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=L4;break;case dF:case hF:case fF:p=b4;break;case pF:p=O4;break;case"scroll":p=B4;break;case"wheel":p=V4;break;case"copy":case"cut":case"paste":p=I4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OE}var y=(e&4)!==0,C=!y&&t==="scroll",B=y?f!==null?f+"Capture":null:f;y=[];for(var w=l,v;w!==null;){v=w;var I=v.stateNode;if(v.tag===5&&I!==null&&(v=I,B!==null&&(I=eu(w,B),I!=null&&y.push(au(w,I,v)))),C)break;w=w.return}0<y.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==B0&&(m=n.relatedTarget||n.fromElement)&&(LA(m)||m[js]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?LA(m):null,m!==null&&(C=ma(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(y=LE,I="onMouseLeave",B="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=OE,I="onPointerLeave",B="onPointerEnter",w="pointer"),C=p==null?f:Za(p),v=m==null?f:Za(m),f=new y(I,w+"leave",p,n,u),f.target=C,f.relatedTarget=v,I=null,LA(u)===l&&(y=new y(B,w+"enter",m,n,u),y.target=v,y.relatedTarget=C,I=y),C=I,p&&m)t:{for(y=p,B=m,w=0,v=y;v;v=Qa(v))w++;for(v=0,I=B;I;I=Qa(I))v++;for(;0<w-v;)y=Qa(y),w--;for(;0<v-w;)B=Qa(B),v--;for(;w--;){if(y===B||B!==null&&y===B.alternate)break t;y=Qa(y),B=Qa(B)}y=null}else y=null;p!==null&&YE(h,f,p,y,!1),m!==null&&C!==null&&YE(h,C,m,y,!0)}}e:{if(f=l?Za(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var Q=q4;else if(HE(f))if(aF)Q=Z4;else{Q=Y4;var k=X4}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(Q=J4);if(Q&&(Q=Q(t,l))){AF(h,Q,n,u);break e}k&&k(t,f,l),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&g0(f,"number",f.value)}switch(k=l?Za(l):window,t){case"focusin":(HE(k)||k.contentEditable==="true")&&(Ya=k,I0=l,Ic=null);break;case"focusout":Ic=I0=Ya=null;break;case"mousedown":U0=!0;break;case"contextmenu":case"mouseup":case"dragend":U0=!1,WE(h,n,u);break;case"selectionchange":if(nL)break;case"keydown":case"keyup":WE(h,n,u)}var T;if(zw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Xa?sF(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(rF&&n.locale!=="ko"&&(Xa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Xa&&(T=nF()):(Ti=u,Vw="value"in Ti?Ti.value:Ti.textContent,Xa=!0)),k=Sf(l,E),0<k.length&&(E=new ME(E,t,null,n,u),h.push({event:E,listeners:k}),T?E.data=T:(T=iF(n),T!==null&&(E.data=T)))),(T=K4?z4(t,n):G4(t,n))&&(l=Sf(l,"onBeforeInput"),0<l.length&&(u=new ME("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:l}),u.data=T))}mF(h,e)})}function au(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=eu(t,n),i!=null&&r.unshift(au(t,i,s)),i=eu(t,e),i!=null&&r.push(au(t,i,s))),t=t.return}return r}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function YE(t,e,n,r,s){for(var i=e._reactName,A=[];n!==null&&n!==r;){var a=n,o=a.alternate,l=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&l!==null&&(a=l,s?(o=eu(n,i),o!=null&&A.unshift(au(n,o,a))):s||(o=eu(n,i),o!=null&&A.push(au(n,o,a)))),n=n.return}A.length!==0&&t.push({event:e,listeners:A})}var AL=/\r\n?/g,aL=/\u0000|\uFFFD/g;function JE(t){return(typeof t=="string"?t:""+t).replace(AL,`
`).replace(aL,"")}function rh(t,e,n){if(e=JE(e),JE(t)!==e&&n)throw Error(W(425))}function Qf(){}var F0=null,S0=null;function Q0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N0=typeof setTimeout=="function"?setTimeout:void 0,oL=typeof clearTimeout=="function"?clearTimeout:void 0,ZE=typeof Promise=="function"?Promise:void 0,lL=typeof queueMicrotask=="function"?queueMicrotask:typeof ZE<"u"?function(t){return ZE.resolve(null).then(t).catch(cL)}:N0;function cL(t){setTimeout(function(){throw t})}function qm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ru(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ru(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function e_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),Xr="__reactFiber$"+il,ou="__reactProps$"+il,js="__reactContainer$"+il,k0="__reactEvents$"+il,uL="__reactListeners$"+il,dL="__reactHandles$"+il;function LA(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[js]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=e_(t);t!==null;){if(n=t[Xr])return n;t=e_(t)}return e}t=n,n=t.parentNode}return null}function Zu(t){return t=t[Xr]||t[js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function cg(t){return t[ou]||null}var R0=[],eo=-1;function hA(t){return{current:t}}function it(t){0>eo||(t.current=R0[eo],R0[eo]=null,eo--)}function nt(t,e){eo++,R0[eo]=t.current,t.current=e}var Yi={},Bn=hA(Yi),Hn=hA(!1),ea=Yi;function ko(t,e){var n=t.type.contextTypes;if(!n)return Yi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Kn(t){return t=t.childContextTypes,t!=null}function Nf(){it(Hn),it(Bn)}function t_(t,e,n){if(Bn.current!==Yi)throw Error(W(168));nt(Bn,e),nt(Hn,n)}function vF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,XP(t)||"Unknown",s));return gt({},n,r)}function kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yi,ea=Bn.current,nt(Bn,t),nt(Hn,Hn.current),!0}function n_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=vF(t,e,ea),r.__reactInternalMemoizedMergedChildContext=t,it(Hn),it(Bn),nt(Bn,t)):it(Hn),nt(Hn,n)}var _s=null,ug=!1,Xm=!1;function wF(t){_s===null?_s=[t]:_s.push(t)}function hL(t){ug=!0,wF(t)}function fA(){if(!Xm&&_s!==null){Xm=!0;var t=0,e=We;try{var n=_s;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}_s=null,ug=!1}catch(s){throw _s!==null&&(_s=_s.slice(t+1)),zU(Lw,fA),s}finally{We=e,Xm=!1}}return null}var to=[],no=0,Rf=null,Df=0,gr=[],mr=0,ta=null,Ts=1,Is="";function FA(t,e){to[no++]=Df,to[no++]=Rf,Rf=t,Df=e}function BF(t,e,n){gr[mr++]=Ts,gr[mr++]=Is,gr[mr++]=ta,ta=t;var r=Ts;t=Is;var s=32-Dr(r)-1;r&=~(1<<s),n+=1;var i=32-Dr(e)+s;if(30<i){var A=s-s%5;i=(r&(1<<A)-1).toString(32),r>>=A,s-=A,Ts=1<<32-Dr(e)+s|n<<s|r,Is=i+t}else Ts=1<<i|n<<s|r,Is=t}function $w(t){t.return!==null&&(FA(t,1),BF(t,1,0))}function Ww(t){for(;t===Rf;)Rf=to[--no],to[no]=null,Df=to[--no],to[no]=null;for(;t===ta;)ta=gr[--mr],gr[mr]=null,Is=gr[--mr],gr[mr]=null,Ts=gr[--mr],gr[mr]=null}var tr=null,Jn=null,lt=!1,Nr=null;function xF(t,e){var n=vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function r_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Jn=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ta!==null?{id:Ts,overflow:Is}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Jn=null,!0):!1;default:return!1}}function D0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function P0(t){if(lt){var e=Jn;if(e){var n=e;if(!r_(t,e)){if(D0(t))throw Error(W(418));e=Li(n.nextSibling);var r=tr;e&&r_(t,e)?xF(r,n):(t.flags=t.flags&-4097|2,lt=!1,tr=t)}}else{if(D0(t))throw Error(W(418));t.flags=t.flags&-4097|2,lt=!1,tr=t}}}function s_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function sh(t){if(t!==tr)return!1;if(!lt)return s_(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Q0(t.type,t.memoizedProps)),e&&(e=Jn)){if(D0(t))throw CF(),Error(W(418));for(;e;)xF(t,e),e=Li(e.nextSibling)}if(s_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=tr?Li(t.stateNode.nextSibling):null;return!0}function CF(){for(var t=Jn;t;)t=Li(t.nextSibling)}function Ro(){Jn=tr=null,lt=!1}function qw(t){Nr===null?Nr=[t]:Nr.push(t)}var fL=ni.ReactCurrentBatchConfig;function Ol(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function ih(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i_(t){var e=t._init;return e(t._payload)}function EF(t){function e(B,w){if(t){var v=B.deletions;v===null?(B.deletions=[w],B.flags|=16):v.push(w)}}function n(B,w){if(!t)return null;for(;w!==null;)e(B,w),w=w.sibling;return null}function r(B,w){for(B=new Map;w!==null;)w.key!==null?B.set(w.key,w):B.set(w.index,w),w=w.sibling;return B}function s(B,w){return B=Vi(B,w),B.index=0,B.sibling=null,B}function i(B,w,v){return B.index=v,t?(v=B.alternate,v!==null?(v=v.index,v<w?(B.flags|=2,w):v):(B.flags|=2,w)):(B.flags|=1048576,w)}function A(B){return t&&B.alternate===null&&(B.flags|=2),B}function a(B,w,v,I){return w===null||w.tag!==6?(w=ry(v,B.mode,I),w.return=B,w):(w=s(w,v),w.return=B,w)}function o(B,w,v,I){var Q=v.type;return Q===qa?u(B,w,v.props.children,I,v.key):w!==null&&(w.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===gi&&i_(Q)===w.type)?(I=s(w,v.props),I.ref=Ol(B,w,v),I.return=B,I):(I=rf(v.type,v.key,v.props,null,B.mode,I),I.ref=Ol(B,w,v),I.return=B,I)}function l(B,w,v,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=sy(v,B.mode,I),w.return=B,w):(w=s(w,v.children||[]),w.return=B,w)}function u(B,w,v,I,Q){return w===null||w.tag!==7?(w=GA(v,B.mode,I,Q),w.return=B,w):(w=s(w,v),w.return=B,w)}function h(B,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ry(""+w,B.mode,v),w.return=B,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wd:return v=rf(w.type,w.key,w.props,null,B.mode,v),v.ref=Ol(B,null,w),v.return=B,v;case Wa:return w=sy(w,B.mode,v),w.return=B,w;case gi:var I=w._init;return h(B,I(w._payload),v)}if(nc(w)||Rl(w))return w=GA(w,B.mode,v,null),w.return=B,w;ih(B,w)}return null}function f(B,w,v,I){var Q=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return Q!==null?null:a(B,w,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wd:return v.key===Q?o(B,w,v,I):null;case Wa:return v.key===Q?l(B,w,v,I):null;case gi:return Q=v._init,f(B,w,Q(v._payload),I)}if(nc(v)||Rl(v))return Q!==null?null:u(B,w,v,I,null);ih(B,v)}return null}function p(B,w,v,I,Q){if(typeof I=="string"&&I!==""||typeof I=="number")return B=B.get(v)||null,a(w,B,""+I,Q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Wd:return B=B.get(I.key===null?v:I.key)||null,o(w,B,I,Q);case Wa:return B=B.get(I.key===null?v:I.key)||null,l(w,B,I,Q);case gi:var k=I._init;return p(B,w,v,k(I._payload),Q)}if(nc(I)||Rl(I))return B=B.get(v)||null,u(w,B,I,Q,null);ih(w,I)}return null}function m(B,w,v,I){for(var Q=null,k=null,T=w,E=w=0,b=null;T!==null&&E<v.length;E++){T.index>E?(b=T,T=null):b=T.sibling;var _=f(B,T,v[E],I);if(_===null){T===null&&(T=b);break}t&&T&&_.alternate===null&&e(B,T),w=i(_,w,E),k===null?Q=_:k.sibling=_,k=_,T=b}if(E===v.length)return n(B,T),lt&&FA(B,E),Q;if(T===null){for(;E<v.length;E++)T=h(B,v[E],I),T!==null&&(w=i(T,w,E),k===null?Q=T:k.sibling=T,k=T);return lt&&FA(B,E),Q}for(T=r(B,T);E<v.length;E++)b=p(T,B,E,v[E],I),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?E:b.key),w=i(b,w,E),k===null?Q=b:k.sibling=b,k=b);return t&&T.forEach(function(R){return e(B,R)}),lt&&FA(B,E),Q}function y(B,w,v,I){var Q=Rl(v);if(typeof Q!="function")throw Error(W(150));if(v=Q.call(v),v==null)throw Error(W(151));for(var k=Q=null,T=w,E=w=0,b=null,_=v.next();T!==null&&!_.done;E++,_=v.next()){T.index>E?(b=T,T=null):b=T.sibling;var R=f(B,T,_.value,I);if(R===null){T===null&&(T=b);break}t&&T&&R.alternate===null&&e(B,T),w=i(R,w,E),k===null?Q=R:k.sibling=R,k=R,T=b}if(_.done)return n(B,T),lt&&FA(B,E),Q;if(T===null){for(;!_.done;E++,_=v.next())_=h(B,_.value,I),_!==null&&(w=i(_,w,E),k===null?Q=_:k.sibling=_,k=_);return lt&&FA(B,E),Q}for(T=r(B,T);!_.done;E++,_=v.next())_=p(T,B,E,_.value,I),_!==null&&(t&&_.alternate!==null&&T.delete(_.key===null?E:_.key),w=i(_,w,E),k===null?Q=_:k.sibling=_,k=_);return t&&T.forEach(function(N){return e(B,N)}),lt&&FA(B,E),Q}function C(B,w,v,I){if(typeof v=="object"&&v!==null&&v.type===qa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Wd:e:{for(var Q=v.key,k=w;k!==null;){if(k.key===Q){if(Q=v.type,Q===qa){if(k.tag===7){n(B,k.sibling),w=s(k,v.props.children),w.return=B,B=w;break e}}else if(k.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===gi&&i_(Q)===k.type){n(B,k.sibling),w=s(k,v.props),w.ref=Ol(B,k,v),w.return=B,B=w;break e}n(B,k);break}else e(B,k);k=k.sibling}v.type===qa?(w=GA(v.props.children,B.mode,I,v.key),w.return=B,B=w):(I=rf(v.type,v.key,v.props,null,B.mode,I),I.ref=Ol(B,w,v),I.return=B,B=I)}return A(B);case Wa:e:{for(k=v.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(B,w.sibling),w=s(w,v.children||[]),w.return=B,B=w;break e}else{n(B,w);break}else e(B,w);w=w.sibling}w=sy(v,B.mode,I),w.return=B,B=w}return A(B);case gi:return k=v._init,C(B,w,k(v._payload),I)}if(nc(v))return m(B,w,v,I);if(Rl(v))return y(B,w,v,I);ih(B,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(B,w.sibling),w=s(w,v),w.return=B,B=w):(n(B,w),w=ry(v,B.mode,I),w.return=B,B=w),A(B)):n(B,w)}return C}var Do=EF(!0),_F=EF(!1),Pf=hA(null),Lf=null,ro=null,Xw=null;function Yw(){Xw=ro=Lf=null}function Jw(t){var e=Pf.current;it(Pf),t._currentValue=e}function L0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){Lf=t,Xw=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function Er(t){var e=t._currentValue;if(Xw!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(Lf===null)throw Error(W(308));ro=t,Lf.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var MA=null;function Zw(t){MA===null?MA=[t]:MA.push(t)}function bF(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vs(t,r)}function Vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mi=!1;function eB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vs(t,n)}return s=r.interleaved,s===null?(e.next=e,Zw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vs(t,n)}function Yh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mw(t,n)}}function A_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=A:i=i.next=A,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mf(t,e,n,r){var s=t.updateQueue;mi=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var o=a,l=o.next;o.next=null,A===null?i=l:A.next=l,A=o;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==A&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;A=0,u=l=o=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,p=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=gt({},h,f);break e;case 2:mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=p,o=h):u=u.next=p,A|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(o=h),s.baseState=o,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ra|=A,t.lanes=A,t.memoizedState=h}}function a_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var ed={},rs=hA(ed),lu=hA(ed),cu=hA(ed);function OA(t){if(t===ed)throw Error(W(174));return t}function tB(t,e){switch(nt(cu,e),nt(lu,t),nt(rs,ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:y0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=y0(e,t)}it(rs),nt(rs,e)}function Po(){it(rs),it(lu),it(cu)}function IF(t){OA(cu.current);var e=OA(rs.current),n=y0(e,t.type);e!==n&&(nt(lu,t),nt(rs,n))}function nB(t){lu.current===t&&(it(rs),it(lu))}var ht=hA(0);function Of(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ym=[];function rB(){for(var t=0;t<Ym.length;t++)Ym[t]._workInProgressVersionPrimary=null;Ym.length=0}var Jh=ni.ReactCurrentDispatcher,Jm=ni.ReactCurrentBatchConfig,na=0,pt=null,Pt=null,Kt=null,jf=!1,Uc=!1,uu=0,pL=0;function un(){throw Error(W(321))}function sB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function iB(t,e,n,r,s,i){if(na=i,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jh.current=t===null||t.memoizedState===null?vL:wL,t=n(r,s),Uc){i=0;do{if(Uc=!1,uu=0,25<=i)throw Error(W(301));i+=1,Kt=Pt=null,e.updateQueue=null,Jh.current=BL,t=n(r,s)}while(Uc)}if(Jh.current=Vf,e=Pt!==null&&Pt.next!==null,na=0,Kt=Pt=pt=null,jf=!1,e)throw Error(W(300));return t}function AB(){var t=uu!==0;return uu=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?pt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function _r(){if(Pt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Kt===null?pt.memoizedState:Kt.next;if(e!==null)Kt=e,Pt=t;else{if(t===null)throw Error(W(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Kt===null?pt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function du(t,e){return typeof e=="function"?e(t):e}function Zm(t){var e=_r(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=Pt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=A=null,o=null,l=i;do{var u=l.lane;if((na&u)===u)o!==null&&(o=o.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};o===null?(a=o=h,A=r):o=o.next=h,pt.lanes|=u,ra|=u}l=l.next}while(l!==null&&l!==i);o===null?A=r:o.next=a,Mr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=A,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,pt.lanes|=i,ra|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ey(t){var e=_r(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Mr(i,e.memoizedState)||(jn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function UF(){}function FF(t,e){var n=pt,r=_r(),s=e(),i=!Mr(r.memoizedState,s);if(i&&(r.memoizedState=s,jn=!0),r=r.queue,aB(NF.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,hu(9,QF.bind(null,n,r,s,e),void 0,null),Gt===null)throw Error(W(349));na&30||SF(n,e,s)}return s}function SF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QF(t,e,n,r){e.value=n,e.getSnapshot=r,kF(e)&&RF(t)}function NF(t,e,n){return n(function(){kF(e)&&RF(t)})}function kF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mr(t,n)}catch{return!0}}function RF(t){var e=Vs(t,1);e!==null&&Pr(e,t,1,-1)}function o_(t){var e=Wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:t},e.queue=t,t=t.dispatch=yL.bind(null,pt,t),[e.memoizedState,t]}function hu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DF(){return _r().memoizedState}function Zh(t,e,n,r){var s=Wr();pt.flags|=t,s.memoizedState=hu(1|e,n,void 0,r===void 0?null:r)}function dg(t,e,n,r){var s=_r();r=r===void 0?null:r;var i=void 0;if(Pt!==null){var A=Pt.memoizedState;if(i=A.destroy,r!==null&&sB(r,A.deps)){s.memoizedState=hu(e,n,i,r);return}}pt.flags|=t,s.memoizedState=hu(1|e,n,i,r)}function l_(t,e){return Zh(8390656,8,t,e)}function aB(t,e){return dg(2048,8,t,e)}function PF(t,e){return dg(4,2,t,e)}function LF(t,e){return dg(4,4,t,e)}function MF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OF(t,e,n){return n=n!=null?n.concat([t]):null,dg(4,4,MF.bind(null,e,t),n)}function oB(){}function jF(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VF(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function HF(t,e,n){return na&21?(Mr(n,e)||(n=WU(),pt.lanes|=n,ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function gL(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Jm.transition;Jm.transition={};try{t(!1),e()}finally{We=n,Jm.transition=r}}function KF(){return _r().memoizedState}function mL(t,e,n){var r=ji(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zF(t))GF(e,n);else if(n=bF(t,e,n,r),n!==null){var s=Fn();Pr(n,t,r,s),$F(n,e,r)}}function yL(t,e,n){var r=ji(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zF(t))GF(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,n);if(s.hasEagerState=!0,s.eagerState=a,Mr(a,A)){var o=e.interleaved;o===null?(s.next=s,Zw(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}n=bF(t,e,s,r),n!==null&&(s=Fn(),Pr(n,t,r,s),$F(n,e,r))}}function zF(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function GF(t,e){Uc=jf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $F(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mw(t,n)}}var Vf={readContext:Er,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},vL={readContext:Er,useCallback:function(t,e){return Wr().memoizedState=[t,e===void 0?null:e],t},useContext:Er,useEffect:l_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4194308,4,MF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zh(4,2,t,e)},useMemo:function(t,e){var n=Wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mL.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Wr();return t={current:t},e.memoizedState=t},useState:o_,useDebugValue:oB,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=o_(!1),e=t[0];return t=gL.bind(null,t[1]),Wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,s=Wr();if(lt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Gt===null)throw Error(W(349));na&30||SF(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,l_(NF.bind(null,r,i,t),[t]),r.flags|=2048,hu(9,QF.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Wr(),e=Gt.identifierPrefix;if(lt){var n=Is,r=Ts;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wL={readContext:Er,useCallback:jF,useContext:Er,useEffect:aB,useImperativeHandle:OF,useInsertionEffect:PF,useLayoutEffect:LF,useMemo:VF,useReducer:Zm,useRef:DF,useState:function(){return Zm(du)},useDebugValue:oB,useDeferredValue:function(t){var e=_r();return HF(e,Pt.memoizedState,t)},useTransition:function(){var t=Zm(du)[0],e=_r().memoizedState;return[t,e]},useMutableSource:UF,useSyncExternalStore:FF,useId:KF,unstable_isNewReconciler:!1},BL={readContext:Er,useCallback:jF,useContext:Er,useEffect:aB,useImperativeHandle:OF,useInsertionEffect:PF,useLayoutEffect:LF,useMemo:VF,useReducer:ey,useRef:DF,useState:function(){return ey(du)},useDebugValue:oB,useDeferredValue:function(t){var e=_r();return Pt===null?e.memoizedState=t:HF(e,Pt.memoizedState,t)},useTransition:function(){var t=ey(du)[0],e=_r().memoizedState;return[t,e]},useMutableSource:UF,useSyncExternalStore:FF,useId:KF,unstable_isNewReconciler:!1};function Sr(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function M0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hg={isMounted:function(t){return(t=t._reactInternals)?ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=ji(t),i=ks(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mi(t,i,s),e!==null&&(Pr(e,t,s,r),Yh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=ji(t),i=ks(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mi(t,i,s),e!==null&&(Pr(e,t,s,r),Yh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=ji(t),s=ks(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mi(t,s,r),e!==null&&(Pr(e,t,r,n),Yh(e,t,r))}};function c_(t,e,n,r,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,A):e.prototype&&e.prototype.isPureReactComponent?!iu(n,r)||!iu(s,i):!0}function WF(t,e,n){var r=!1,s=Yi,i=e.contextType;return typeof i=="object"&&i!==null?i=Er(i):(s=Kn(e)?ea:Bn.current,r=e.contextTypes,i=(r=r!=null)?ko(t,s):Yi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function u_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hg.enqueueReplaceState(e,e.state,null)}function O0(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},eB(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Er(i):(i=Kn(e)?ea:Bn.current,s.context=ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(M0(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hg.enqueueReplaceState(s,s.state,null),Mf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Lo(t,e){try{var n="",r=e;do n+=qP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ty(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function j0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xL=typeof WeakMap=="function"?WeakMap:Map;function qF(t,e,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kf||(Kf=!0,Y0=r),j0(t,e)},n}function XF(t,e,n){n=ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){j0(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){j0(t,e),typeof r!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),n}function d_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=DL.bind(null,t,e,n),e.then(t,t))}function h_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function f_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ks(-1,1),e.tag=2,Mi(n,e,1))),n.lanes|=1),t)}var CL=ni.ReactCurrentOwner,jn=!1;function Tn(t,e,n,r){e.child=t===null?_F(e,null,n,r):Do(e,t.child,n,r)}function p_(t,e,n,r,s){n=n.render;var i=e.ref;return Bo(e,s),r=iB(t,e,n,r,i,s),n=AB(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(lt&&n&&$w(e),e.flags|=1,Tn(t,e,r,s),e.child)}function g_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gB(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,YF(t,e,i,r,s)):(t=rf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(n=n.compare,n=n!==null?n:iu,n(A,r)&&t.ref===e.ref)return Hs(t,e,s)}return e.flags|=1,t=Vi(i,r),t.ref=e.ref,t.return=e,e.child=t}function YF(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(iu(i,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,Hs(t,e,s)}return V0(t,e,n,r,s)}function JF(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(io,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(io,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,nt(io,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,nt(io,Yn),Yn|=r;return Tn(t,e,s,n),e.child}function ZF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function V0(t,e,n,r,s){var i=Kn(n)?ea:Bn.current;return i=ko(e,i),Bo(e,s),n=iB(t,e,n,r,i,s),r=AB(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(lt&&r&&$w(e),e.flags|=1,Tn(t,e,n,s),e.child)}function m_(t,e,n,r,s){if(Kn(n)){var i=!0;kf(e)}else i=!1;if(Bo(e,s),e.stateNode===null)ef(t,e),WF(e,n,r),O0(e,n,r,s),r=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,l=n.contextType;typeof l=="object"&&l!==null?l=Er(l):(l=Kn(n)?ea:Bn.current,l=ko(e,l));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";h||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==r||o!==l)&&u_(e,A,r,l),mi=!1;var f=e.memoizedState;A.state=f,Mf(e,r,A,s),o=e.memoizedState,a!==r||f!==o||Hn.current||mi?(typeof u=="function"&&(M0(e,n,u,r),o=e.memoizedState),(a=mi||c_(e,n,a,r,f,o,l))?(h||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),A.props=r,A.state=o,A.context=l,r=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{A=e.stateNode,TF(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Sr(e.type,a),A.props=l,h=e.pendingProps,f=A.context,o=n.contextType,typeof o=="object"&&o!==null?o=Er(o):(o=Kn(n)?ea:Bn.current,o=ko(e,o));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==h||f!==o)&&u_(e,A,r,o),mi=!1,f=e.memoizedState,A.state=f,Mf(e,r,A,s);var m=e.memoizedState;a!==h||f!==m||Hn.current||mi?(typeof p=="function"&&(M0(e,n,p,r),m=e.memoizedState),(l=mi||c_(e,n,l,r,f,m,o)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,m,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,m,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),A.props=r,A.state=m,A.context=o,r=l):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return H0(t,e,n,r,i,s)}function H0(t,e,n,r,s,i){ZF(t,e);var A=(e.flags&128)!==0;if(!r&&!A)return s&&n_(e,n,!1),Hs(t,e,i);r=e.stateNode,CL.current=e;var a=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&A?(e.child=Do(e,t.child,null,i),e.child=Do(e,null,a,i)):Tn(t,e,a,i),e.memoizedState=r.state,s&&n_(e,n,!0),e.child}function eS(t){var e=t.stateNode;e.pendingContext?t_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&t_(t,e.context,!1),tB(t,e.containerInfo)}function y_(t,e,n,r,s){return Ro(),qw(s),e.flags|=256,Tn(t,e,n,r),e.child}var K0={dehydrated:null,treeContext:null,retryLane:0};function z0(t){return{baseLanes:t,cachePool:null,transitions:null}}function tS(t,e,n){var r=e.pendingProps,s=ht.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),nt(ht,s&1),t===null)return P0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=r.children,t=r.fallback,i?(r=e.mode,i=e.child,A={mode:"hidden",children:A},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=gg(A,r,0,null),t=GA(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=z0(n),e.memoizedState=K0,t):lB(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return EL(t,e,A,r,a,s,n);if(i){i=r.fallback,A=e.mode,s=t.child,a=s.sibling;var o={mode:"hidden",children:r.children};return!(A&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Vi(s,o),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vi(a,i):(i=GA(i,A,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,A=t.child.memoizedState,A=A===null?z0(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~n,e.memoizedState=K0,r}return i=t.child,t=i.sibling,r=Vi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lB(t,e){return e=gg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,n,r){return r!==null&&qw(r),Do(e,t.child,null,n),t=lB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EL(t,e,n,r,s,i,A){if(n)return e.flags&256?(e.flags&=-257,r=ty(Error(W(422))),Ah(t,e,A,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=gg({mode:"visible",children:r.children},s,0,null),i=GA(i,s,A,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Do(e,t.child,null,A),e.child.memoizedState=z0(A),e.memoizedState=K0,i);if(!(e.mode&1))return Ah(t,e,A,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=ty(i,r,void 0),Ah(t,e,A,r)}if(a=(A&t.childLanes)!==0,jn||a){if(r=Gt,r!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vs(t,s),Pr(r,t,s,-1))}return pB(),r=ty(Error(W(421))),Ah(t,e,A,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=PL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=Li(s.nextSibling),tr=e,lt=!0,Nr=null,t!==null&&(gr[mr++]=Ts,gr[mr++]=Is,gr[mr++]=ta,Ts=t.id,Is=t.overflow,ta=e),e=lB(e,r.children),e.flags|=4096,e)}function v_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),L0(t.return,e,n)}function ny(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function nS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(t,e,r.children,n),r=ht.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,n,e);else if(t.tag===19)v_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(ht,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Of(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ny(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Of(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ny(e,!0,n,null,i);break;case"together":ny(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _L(t,e,n){switch(e.tag){case 3:eS(e),Ro();break;case 5:IF(e);break;case 1:Kn(e.type)&&kf(e);break;case 4:tB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;nt(Pf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(ht,ht.current&1),e.flags|=128,null):n&e.child.childLanes?tS(t,e,n):(nt(ht,ht.current&1),t=Hs(t,e,n),t!==null?t.sibling:null);nt(ht,ht.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),nt(ht,ht.current),r)break;return null;case 22:case 23:return e.lanes=0,JF(t,e,n)}return Hs(t,e,n)}var rS,G0,sS,iS;rS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};G0=function(){};sS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,OA(rs.current);var i=null;switch(n){case"input":s=f0(t,s),r=f0(t,r),i=[];break;case"select":s=gt({},s,{value:void 0}),r=gt({},r,{value:void 0}),i=[];break;case"textarea":s=m0(t,s),r=m0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qf)}v0(n,r);var A;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(A in a)a.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Jc.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var o=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&o!==a&&(o!=null||a!=null))if(l==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(n||(n={}),n[A]=o[A])}else n||(i||(i=[]),i.push(l,n)),n=o;else l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(i=i||[]).push(l,o)):l==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(l,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Jc.hasOwnProperty(l)?(o!=null&&l==="onScroll"&&st("scroll",t),i||a===o||(i=[])):(i=i||[]).push(l,o))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};iS=function(t,e,n,r){n!==r&&(e.flags|=4)};function jl(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bL(t,e,n){var r=e.pendingProps;switch(Ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Kn(e.type)&&Nf(),dn(e),null;case 3:return r=e.stateNode,Po(),it(Hn),it(Bn),rB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nr!==null&&(ev(Nr),Nr=null))),G0(t,e),dn(e),null;case 5:nB(e);var s=OA(cu.current);if(n=e.type,t!==null&&e.stateNode!=null)sS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return dn(e),null}if(t=OA(rs.current),sh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xr]=e,r[ou]=i,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<sc.length;s++)st(sc[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":IE(r,i),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},st("invalid",r);break;case"textarea":FE(r,i),st("invalid",r)}v0(n,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&rh(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&rh(r.textContent,a,t),s=["children",""+a]):Jc.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&st("scroll",r)}switch(n){case"input":qd(r),UE(r,i,!0);break;case"textarea":qd(r),SE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=A.createElement(n,{is:r.is}):(t=A.createElement(n),n==="select"&&(A=t,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):t=A.createElementNS(t,n),t[Xr]=e,t[ou]=r,rS(t,e,!1,!1),e.stateNode=t;e:{switch(A=w0(n,r),n){case"dialog":st("cancel",t),st("close",t),s=r;break;case"iframe":case"object":case"embed":st("load",t),s=r;break;case"video":case"audio":for(s=0;s<sc.length;s++)st(sc[s],t);s=r;break;case"source":st("error",t),s=r;break;case"img":case"image":case"link":st("error",t),st("load",t),s=r;break;case"details":st("toggle",t),s=r;break;case"input":IE(t,r),s=f0(t,r),st("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=gt({},r,{value:void 0}),st("invalid",t);break;case"textarea":FE(t,r),s=m0(t,r),st("invalid",t);break;default:s=r}v0(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="style"?DU(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&kU(t,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Zc(t,o):typeof o=="number"&&Zc(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jc.hasOwnProperty(i)?o!=null&&i==="onScroll"&&st("scroll",t):o!=null&&Nw(t,i,o,A))}switch(n){case"input":qd(t),UE(t,r,!1);break;case"textarea":qd(t),SE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?mo(t,!!r.multiple,i,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)iS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=OA(cu.current),OA(rs.current),sh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(i=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:rh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rh(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return dn(e),null;case 13:if(it(ht),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Jn!==null&&e.mode&1&&!(e.flags&128))CF(),Ro(),e.flags|=98560,i=!1;else if(i=sh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Xr]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),i=!1}else Nr!==null&&(ev(Nr),Nr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Mt===0&&(Mt=3):pB())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Po(),G0(t,e),t===null&&Au(e.stateNode.containerInfo),dn(e),null;case 10:return Jw(e.type._context),dn(e),null;case 17:return Kn(e.type)&&Nf(),dn(e),null;case 19:if(it(ht),i=e.memoizedState,i===null)return dn(e),null;if(r=(e.flags&128)!==0,A=i.rendering,A===null)if(r)jl(i,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Of(t),A!==null){for(e.flags|=128,jl(i,!1),r=A.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(ht,ht.current&1|2),e.child}t=t.sibling}i.tail!==null&&Tt()>Mo&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Of(A),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!lt)return dn(e),null}else 2*Tt()-i.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,r=!0,jl(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(n=i.last,n!==null?n.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tt(),e.sibling=null,n=ht.current,nt(ht,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return fB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function TL(t,e){switch(Ww(e),e.tag){case 1:return Kn(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Po(),it(Hn),it(Bn),rB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nB(e),null;case 13:if(it(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ht),null;case 4:return Po(),null;case 10:return Jw(e.type._context),null;case 22:case 23:return fB(),null;case 24:return null;default:return null}}var ah=!1,vn=!1,IL=typeof WeakSet=="function"?WeakSet:Set,ce=null;function so(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bt(t,e,r)}else n.current=null}function $0(t,e,n){try{n()}catch(r){Bt(t,e,r)}}var w_=!1;function UL(t,e){if(F0=Uf,t=cF(),Gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var A=0,a=-1,o=-1,l=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=A+s),h!==i||r!==0&&h.nodeType!==3||(o=A+r),h.nodeType===3&&(A+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++l===s&&(a=A),f===i&&++u===r&&(o=A),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(S0={focusedElem:t,selectionRange:n},Uf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,C=m.memoizedState,B=e.stateNode,w=B.getSnapshotBeforeUpdate(e.elementType===e.type?y:Sr(e.type,y),C);B.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(I){Bt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=w_,w_=!1,m}function Fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$0(e,n,i)}s=s.next}while(s!==r)}}function fg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function W0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AS(t){var e=t.alternate;e!==null&&(t.alternate=null,AS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[ou],delete e[k0],delete e[uL],delete e[dL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aS(t){return t.tag===5||t.tag===3||t.tag===4}function B_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qf));else if(r!==4&&(t=t.child,t!==null))for(q0(t,e,n),t=t.sibling;t!==null;)q0(t,e,n),t=t.sibling}function X0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(X0(t,e,n),t=t.sibling;t!==null;)X0(t,e,n),t=t.sibling}var Wt=null,Qr=!1;function ci(t,e,n){for(n=n.child;n!==null;)oS(t,e,n),n=n.sibling}function oS(t,e,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(Ag,n)}catch{}switch(n.tag){case 5:vn||so(n,e);case 6:var r=Wt,s=Qr;Wt=null,ci(t,e,n),Wt=r,Qr=s,Wt!==null&&(Qr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(Qr?(t=Wt,n=n.stateNode,t.nodeType===8?qm(t.parentNode,n):t.nodeType===1&&qm(t,n),ru(t)):qm(Wt,n.stateNode));break;case 4:r=Wt,s=Qr,Wt=n.stateNode.containerInfo,Qr=!0,ci(t,e,n),Wt=r,Qr=s;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&$0(n,e,A),s=s.next}while(s!==r)}ci(t,e,n);break;case 1:if(!vn&&(so(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Bt(n,e,a)}ci(t,e,n);break;case 21:ci(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,ci(t,e,n),vn=r):ci(t,e,n);break;default:ci(t,e,n)}}function x_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IL),e.forEach(function(r){var s=LL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,Qr=!1;break e;case 3:Wt=a.stateNode.containerInfo,Qr=!0;break e;case 4:Wt=a.stateNode.containerInfo,Qr=!0;break e}a=a.return}if(Wt===null)throw Error(W(160));oS(i,A,s),Wt=null,Qr=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(l){Bt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lS(e,t),e=e.sibling}function lS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),Gr(t),r&4){try{Fc(3,t,t.return),fg(3,t)}catch(y){Bt(t,t.return,y)}try{Fc(5,t,t.return)}catch(y){Bt(t,t.return,y)}}break;case 1:Ir(e,t),Gr(t),r&512&&n!==null&&so(n,n.return);break;case 5:if(Ir(e,t),Gr(t),r&512&&n!==null&&so(n,n.return),t.flags&32){var s=t.stateNode;try{Zc(s,"")}catch(y){Bt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=n!==null?n.memoizedProps:i,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&SU(s,i),w0(a,A);var l=w0(a,i);for(A=0;A<o.length;A+=2){var u=o[A],h=o[A+1];u==="style"?DU(s,h):u==="dangerouslySetInnerHTML"?kU(s,h):u==="children"?Zc(s,h):Nw(s,u,h,l)}switch(a){case"input":p0(s,i);break;case"textarea":QU(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?mo(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?mo(s,!!i.multiple,i.defaultValue,!0):mo(s,!!i.multiple,i.multiple?[]:"",!1))}s[ou]=i}catch(y){Bt(t,t.return,y)}}break;case 6:if(Ir(e,t),Gr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Bt(t,t.return,y)}}break;case 3:if(Ir(e,t),Gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ru(e.containerInfo)}catch(y){Bt(t,t.return,y)}break;case 4:Ir(e,t),Gr(t);break;case 13:Ir(e,t),Gr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dB=Tt())),r&4&&x_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(l=vn)||u,Ir(e,t),vn=l):Ir(e,t),Gr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(ce=t,u=t.child;u!==null;){for(h=ce=u;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:Fc(4,f,f.return);break;case 1:so(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Bt(r,n,y)}}break;case 5:so(f,f.return);break;case 22:if(f.memoizedState!==null){E_(h);continue}}p!==null?(p.return=f,ce=p):E_(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,o=h.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=RU("display",A))}catch(y){Bt(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Bt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ir(e,t),Gr(t),r&4&&x_(t);break;case 21:break;default:Ir(e,t),Gr(t)}}function Gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Zc(s,""),r.flags&=-33);var i=B_(t);X0(t,i,s);break;case 3:case 4:var A=r.stateNode.containerInfo,a=B_(t);q0(t,a,A);break;default:throw Error(W(161))}}catch(o){Bt(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FL(t,e,n){ce=t,cS(t)}function cS(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var A=s.memoizedState!==null||ah;if(!A){var a=s.alternate,o=a!==null&&a.memoizedState!==null||vn;a=ah;var l=vn;if(ah=A,(vn=o)&&!l)for(ce=s;ce!==null;)A=ce,o=A.child,A.tag===22&&A.memoizedState!==null?__(s):o!==null?(o.return=A,ce=o):__(s);for(;i!==null;)ce=i,cS(i),i=i.sibling;ce=s,ah=a,vn=l}C_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):C_(t)}}function C_(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||fg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&a_(e,i,r);break;case 3:var A=e.updateQueue;if(A!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}a_(e,A,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ru(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}vn||e.flags&512&&W0(e)}catch(f){Bt(e,e.return,f)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function E_(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function __(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fg(4,e)}catch(o){Bt(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(o){Bt(e,s,o)}}var i=e.return;try{W0(e)}catch(o){Bt(e,i,o)}break;case 5:var A=e.return;try{W0(e)}catch(o){Bt(e,A,o)}}}catch(o){Bt(e,e.return,o)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var SL=Math.ceil,Hf=ni.ReactCurrentDispatcher,cB=ni.ReactCurrentOwner,xr=ni.ReactCurrentBatchConfig,Me=0,Gt=null,kt=null,tn=0,Yn=0,io=hA(0),Mt=0,fu=null,ra=0,pg=0,uB=0,Sc=null,On=null,dB=0,Mo=1/0,Es=null,Kf=!1,Y0=null,Oi=null,oh=!1,Ii=null,zf=0,Qc=0,J0=null,tf=-1,nf=0;function Fn(){return Me&6?Tt():tf!==-1?tf:tf=Tt()}function ji(t){return t.mode&1?Me&2&&tn!==0?tn&-tn:fL.transition!==null?(nf===0&&(nf=WU()),nf):(t=We,t!==0||(t=window.event,t=t===void 0?16:tF(t.type)),t):1}function Pr(t,e,n,r){if(50<Qc)throw Qc=0,J0=null,Error(W(185));Yu(t,n,r),(!(Me&2)||t!==Gt)&&(t===Gt&&(!(Me&2)&&(pg|=n),Mt===4&&wi(t,tn)),zn(t,r),n===1&&Me===0&&!(e.mode&1)&&(Mo=Tt()+500,ug&&fA()))}function zn(t,e){var n=t.callbackNode;f4(t,e);var r=If(t,t===Gt?tn:0);if(r===0)n!==null&&kE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kE(n),e===1)t.tag===0?hL(b_.bind(null,t)):wF(b_.bind(null,t)),lL(function(){!(Me&6)&&fA()}),n=null;else{switch(qU(r)){case 1:n=Lw;break;case 4:n=GU;break;case 16:n=Tf;break;case 536870912:n=$U;break;default:n=Tf}n=yS(n,uS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uS(t,e){if(tf=-1,nf=0,Me&6)throw Error(W(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var r=If(t,t===Gt?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gf(t,r);else{e=r;var s=Me;Me|=2;var i=hS();(Gt!==t||tn!==e)&&(Es=null,Mo=Tt()+500,zA(t,e));do try{kL();break}catch(a){dS(t,a)}while(!0);Yw(),Hf.current=i,Me=s,kt!==null?e=0:(Gt=null,tn=0,e=Mt)}if(e!==0){if(e===2&&(s=_0(t),s!==0&&(r=s,e=Z0(t,s))),e===1)throw n=fu,zA(t,0),wi(t,r),zn(t,Tt()),n;if(e===6)wi(t,r);else{if(s=t.current.alternate,!(r&30)&&!QL(s)&&(e=Gf(t,r),e===2&&(i=_0(t),i!==0&&(r=i,e=Z0(t,i))),e===1))throw n=fu,zA(t,0),wi(t,r),zn(t,Tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:SA(t,On,Es);break;case 3:if(wi(t,r),(r&130023424)===r&&(e=dB+500-Tt(),10<e)){if(If(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=N0(SA.bind(null,t,On,Es),e);break}SA(t,On,Es);break;case 4:if(wi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var A=31-Dr(r);i=1<<A,A=e[A],A>s&&(s=A),r&=~i}if(r=s,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SL(r/1960))-r,10<r){t.timeoutHandle=N0(SA.bind(null,t,On,Es),r);break}SA(t,On,Es);break;case 5:SA(t,On,Es);break;default:throw Error(W(329))}}}return zn(t,Tt()),t.callbackNode===n?uS.bind(null,t):null}function Z0(t,e){var n=Sc;return t.current.memoizedState.isDehydrated&&(zA(t,e).flags|=256),t=Gf(t,e),t!==2&&(e=On,On=n,e!==null&&ev(e)),t}function ev(t){On===null?On=t:On.push.apply(On,t)}function QL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wi(t,e){for(e&=~uB,e&=~pg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function b_(t){if(Me&6)throw Error(W(327));xo();var e=If(t,0);if(!(e&1))return zn(t,Tt()),null;var n=Gf(t,e);if(t.tag!==0&&n===2){var r=_0(t);r!==0&&(e=r,n=Z0(t,r))}if(n===1)throw n=fu,zA(t,0),wi(t,e),zn(t,Tt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,SA(t,On,Es),zn(t,Tt()),null}function hB(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(Mo=Tt()+500,ug&&fA())}}function sa(t){Ii!==null&&Ii.tag===0&&!(Me&6)&&xo();var e=Me;Me|=1;var n=xr.transition,r=We;try{if(xr.transition=null,We=1,t)return t()}finally{We=r,xr.transition=n,Me=e,!(Me&6)&&fA()}}function fB(){Yn=io.current,it(io)}function zA(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oL(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:Po(),it(Hn),it(Bn),rB();break;case 5:nB(r);break;case 4:Po();break;case 13:it(ht);break;case 19:it(ht);break;case 10:Jw(r.type._context);break;case 22:case 23:fB()}n=n.return}if(Gt=t,kt=t=Vi(t.current,null),tn=Yn=e,Mt=0,fu=null,uB=pg=ra=0,On=Sc=null,MA!==null){for(e=0;e<MA.length;e++)if(n=MA[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var A=i.next;i.next=s,r.next=A}n.pending=r}MA=null}return t}function dS(t,e){do{var n=kt;try{if(Yw(),Jh.current=Vf,jf){for(var r=pt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jf=!1}if(na=0,Kt=Pt=pt=null,Uc=!1,uu=0,cB.current=null,n===null||n.return===null){Mt=1,fu=e,kt=null;break}e:{var i=t,A=n.return,a=n,o=e;if(e=tn,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var l=o,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=h_(A);if(p!==null){p.flags&=-257,f_(p,A,a,i,e),p.mode&1&&d_(i,l,e),e=p,o=l;var m=e.updateQueue;if(m===null){var y=new Set;y.add(o),e.updateQueue=y}else m.add(o);break e}else{if(!(e&1)){d_(i,l,e),pB();break e}o=Error(W(426))}}else if(lt&&a.mode&1){var C=h_(A);if(C!==null){!(C.flags&65536)&&(C.flags|=256),f_(C,A,a,i,e),qw(Lo(o,a));break e}}i=o=Lo(o,a),Mt!==4&&(Mt=2),Sc===null?Sc=[i]:Sc.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var B=qF(i,o,e);A_(i,B);break e;case 1:a=o;var w=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Oi===null||!Oi.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=XF(i,a,e);A_(i,I);break e}}i=i.return}while(i!==null)}pS(n)}catch(Q){e=Q,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function hS(){var t=Hf.current;return Hf.current=Vf,t===null?Vf:t}function pB(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Gt===null||!(ra&268435455)&&!(pg&268435455)||wi(Gt,tn)}function Gf(t,e){var n=Me;Me|=2;var r=hS();(Gt!==t||tn!==e)&&(Es=null,zA(t,e));do try{NL();break}catch(s){dS(t,s)}while(!0);if(Yw(),Me=n,Hf.current=r,kt!==null)throw Error(W(261));return Gt=null,tn=0,Mt}function NL(){for(;kt!==null;)fS(kt)}function kL(){for(;kt!==null&&!i4();)fS(kt)}function fS(t){var e=mS(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?pS(t):kt=e,cB.current=null}function pS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TL(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,kt=null;return}}else if(n=bL(n,e,Yn),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);Mt===0&&(Mt=5)}function SA(t,e,n){var r=We,s=xr.transition;try{xr.transition=null,We=1,RL(t,e,n,r)}finally{xr.transition=s,We=r}return null}function RL(t,e,n,r){do xo();while(Ii!==null);if(Me&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(p4(t,i),t===Gt&&(kt=Gt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oh||(oh=!0,yS(Tf,function(){return xo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var A=We;We=1;var a=Me;Me|=4,cB.current=null,UL(t,n),lS(n,t),tL(S0),Uf=!!F0,S0=F0=null,t.current=n,FL(n),A4(),Me=a,We=A,xr.transition=i}else t.current=n;if(oh&&(oh=!1,Ii=t,zf=s),i=t.pendingLanes,i===0&&(Oi=null),l4(n.stateNode),zn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kf)throw Kf=!1,t=Y0,Y0=null,t;return zf&1&&t.tag!==0&&xo(),i=t.pendingLanes,i&1?t===J0?Qc++:(Qc=0,J0=t):Qc=0,fA(),null}function xo(){if(Ii!==null){var t=qU(zf),e=xr.transition,n=We;try{if(xr.transition=null,We=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,zf=0,Me&6)throw Error(W(331));var s=Me;for(Me|=4,ce=t.current;ce!==null;){var i=ce,A=i.child;if(ce.flags&16){var a=i.deletions;if(a!==null){for(var o=0;o<a.length;o++){var l=a[o];for(ce=l;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:Fc(8,u,i)}var h=u.child;if(h!==null)h.return=u,ce=h;else for(;ce!==null;){u=ce;var f=u.sibling,p=u.return;if(AS(u),u===l){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}ce=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,ce=A;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fc(9,i,i.return)}var B=i.sibling;if(B!==null){B.return=i.return,ce=B;break e}ce=i.return}}var w=t.current;for(ce=w;ce!==null;){A=ce;var v=A.child;if(A.subtreeFlags&2064&&v!==null)v.return=A,ce=v;else e:for(A=w;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fg(9,a)}}catch(Q){Bt(a,a.return,Q)}if(a===A){ce=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ce=I;break e}ce=a.return}}if(Me=s,fA(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(Ag,t)}catch{}r=!0}return r}finally{We=n,xr.transition=e}}return!1}function T_(t,e,n){e=Lo(n,e),e=qF(t,e,1),t=Mi(t,e,1),e=Fn(),t!==null&&(Yu(t,1,e),zn(t,e))}function Bt(t,e,n){if(t.tag===3)T_(t,t,n);else for(;e!==null;){if(e.tag===3){T_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oi===null||!Oi.has(r))){t=Lo(n,t),t=XF(e,t,1),e=Mi(e,t,1),t=Fn(),e!==null&&(Yu(e,1,t),zn(e,t));break}}e=e.return}}function DL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(tn&n)===n&&(Mt===4||Mt===3&&(tn&130023424)===tn&&500>Tt()-dB?zA(t,0):uB|=n),zn(t,e)}function gS(t,e){e===0&&(t.mode&1?(e=Jd,Jd<<=1,!(Jd&130023424)&&(Jd=4194304)):e=1);var n=Fn();t=Vs(t,e),t!==null&&(Yu(t,e,n),zn(t,n))}function PL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gS(t,n)}function LL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),gS(t,n)}var mS;mS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,_L(t,e,n);jn=!!(t.flags&131072)}else jn=!1,lt&&e.flags&1048576&&BF(e,Df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ef(t,e),t=e.pendingProps;var s=ko(e,Bn.current);Bo(e,n),s=iB(null,e,r,t,s,n);var i=AB();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kn(r)?(i=!0,kf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,eB(e),s.updater=hg,e.stateNode=s,s._reactInternals=e,O0(e,r,t,n),e=H0(null,e,r,!0,i,n)):(e.tag=0,lt&&i&&$w(e),Tn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ef(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=OL(r),t=Sr(r,t),s){case 0:e=V0(null,e,r,t,n);break e;case 1:e=m_(null,e,r,t,n);break e;case 11:e=p_(null,e,r,t,n);break e;case 14:e=g_(null,e,r,Sr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),V0(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),m_(t,e,r,s,n);case 3:e:{if(eS(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,TF(t,e),Mf(e,r,null,n);var A=e.memoizedState;if(r=A.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Lo(Error(W(423)),e),e=y_(t,e,r,n,s);break e}else if(r!==s){s=Lo(Error(W(424)),e),e=y_(t,e,r,n,s);break e}else for(Jn=Li(e.stateNode.containerInfo.firstChild),tr=e,lt=!0,Nr=null,n=_F(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===s){e=Hs(t,e,n);break e}Tn(t,e,r,n)}e=e.child}return e;case 5:return IF(e),t===null&&P0(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,Q0(r,s)?A=null:i!==null&&Q0(r,i)&&(e.flags|=32),ZF(t,e),Tn(t,e,A,n),e.child;case 6:return t===null&&P0(e),null;case 13:return tS(t,e,n);case 4:return tB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),p_(t,e,r,s,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:return Tn(t,e,e.pendingProps.children,n),e.child;case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,nt(Pf,r._currentValue),r._currentValue=A,i!==null)if(Mr(i.value,A)){if(i.children===s.children&&!Hn.current){e=Hs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(i.tag===1){o=ks(-1,n&-n),o.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?o.next=o:(o.next=u.next,u.next=o),l.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),L0(i.return,n,e),a.lanes|=n;break}o=o.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(W(341));A.lanes|=n,a=A.alternate,a!==null&&(a.lanes|=n),L0(A,n,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}Tn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bo(e,n),s=Er(s),r=r(s),e.flags|=1,Tn(t,e,r,n),e.child;case 14:return r=e.type,s=Sr(r,e.pendingProps),s=Sr(r.type,s),g_(t,e,r,s,n);case 15:return YF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Sr(r,s),ef(t,e),e.tag=1,Kn(r)?(t=!0,kf(e)):t=!1,Bo(e,n),WF(e,r,s),O0(e,r,s,n),H0(null,e,r,!0,t,n);case 19:return nS(t,e,n);case 22:return JF(t,e,n)}throw Error(W(156,e.tag))};function yS(t,e){return zU(t,e)}function ML(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,e,n,r){return new ML(t,e,n,r)}function gB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OL(t){if(typeof t=="function")return gB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rw)return 11;if(t===Dw)return 14}return 2}function Vi(t,e){var n=t.alternate;return n===null?(n=vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rf(t,e,n,r,s,i){var A=2;if(r=t,typeof t=="function")gB(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case qa:return GA(n.children,s,i,e);case kw:A=8,s|=8;break;case c0:return t=vr(12,n,e,s|2),t.elementType=c0,t.lanes=i,t;case u0:return t=vr(13,n,e,s),t.elementType=u0,t.lanes=i,t;case d0:return t=vr(19,n,e,s),t.elementType=d0,t.lanes=i,t;case IU:return gg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bU:A=10;break e;case TU:A=9;break e;case Rw:A=11;break e;case Dw:A=14;break e;case gi:A=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=vr(A,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function GA(t,e,n,r){return t=vr(7,t,r,e),t.lanes=n,t}function gg(t,e,n,r){return t=vr(22,t,r,e),t.elementType=IU,t.lanes=n,t.stateNode={isHidden:!1},t}function ry(t,e,n){return t=vr(6,t,null,e),t.lanes=n,t}function sy(t,e,n){return e=vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lm(0),this.expirationTimes=Lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mB(t,e,n,r,s,i,A,a,o){return t=new jL(t,e,n,a,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eB(i),t}function VL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vS(t){if(!t)return Yi;t=t._reactInternals;e:{if(ma(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Kn(n))return vF(t,n,e)}return e}function wS(t,e,n,r,s,i,A,a,o){return t=mB(n,r,!0,t,s,i,A,a,o),t.context=vS(null),n=t.current,r=Fn(),s=ji(n),i=ks(r,s),i.callback=e??null,Mi(n,i,s),t.current.lanes=s,Yu(t,s,r),zn(t,r),t}function mg(t,e,n,r){var s=e.current,i=Fn(),A=ji(s);return n=vS(n),e.context===null?e.context=n:e.pendingContext=n,e=ks(i,A),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mi(s,e,A),t!==null&&(Pr(t,s,A,i),Yh(t,s,A)),A}function $f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yB(t,e){I_(t,e),(t=t.alternate)&&I_(t,e)}function HL(){return null}var BS=typeof reportError=="function"?reportError:function(t){console.error(t)};function vB(t){this._internalRoot=t}yg.prototype.render=vB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));mg(t,e,null,null)};yg.prototype.unmount=vB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){mg(null,t,null,null)}),e[js]=null}};function yg(t){this._internalRoot=t}yg.prototype.unstable_scheduleHydration=function(t){if(t){var e=JU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&eF(t)}};function wB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U_(){}function KL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=$f(A);i.call(l)}}var A=wS(e,r,t,0,null,!1,!1,"",U_);return t._reactRootContainer=A,t[js]=A.current,Au(t.nodeType===8?t.parentNode:t),sa(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=$f(o);a.call(l)}}var o=mB(t,0,!1,null,null,!1,!1,"",U_);return t._reactRootContainer=o,t[js]=o.current,Au(t.nodeType===8?t.parentNode:t),sa(function(){mg(e,o,n,r)}),o}function wg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var o=$f(A);a.call(o)}}mg(e,A,t,s)}else A=KL(n,e,t,s,r);return $f(A)}XU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(Mw(e,n|1),zn(e,Tt()),!(Me&6)&&(Mo=Tt()+500,fA()))}break;case 13:sa(function(){var r=Vs(t,1);if(r!==null){var s=Fn();Pr(r,t,1,s)}}),yB(t,1)}};Ow=function(t){if(t.tag===13){var e=Vs(t,134217728);if(e!==null){var n=Fn();Pr(e,t,134217728,n)}yB(t,134217728)}};YU=function(t){if(t.tag===13){var e=ji(t),n=Vs(t,e);if(n!==null){var r=Fn();Pr(n,t,e,r)}yB(t,e)}};JU=function(){return We};ZU=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};x0=function(t,e,n){switch(e){case"input":if(p0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=cg(r);if(!s)throw Error(W(90));FU(r),p0(r,s)}}}break;case"textarea":QU(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};MU=hB;OU=sa;var zL={usingClientEntryPoint:!1,Events:[Zu,Za,cg,PU,LU,hB]},Vl={findFiberByHostInstance:LA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GL={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HU(t),t===null?null:t.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||HL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Ag=lh.inject(GL),ns=lh}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zL;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wB(e))throw Error(W(200));return VL(t,e,null,n)};or.createRoot=function(t,e){if(!wB(t))throw Error(W(299));var n=!1,r="",s=BS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mB(t,1,!1,null,null,n,!1,r,s),t[js]=e.current,Au(t.nodeType===8?t.parentNode:t),new vB(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=HU(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return sa(t)};or.hydrate=function(t,e,n){if(!vg(e))throw Error(W(200));return wg(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!wB(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",A=BS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),e=wS(e,null,t,1,n??null,s,!1,i,A),t[js]=e.current,Au(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new yg(e)};or.render=function(t,e,n){if(!vg(e))throw Error(W(200));return wg(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!vg(t))throw Error(W(40));return t._reactRootContainer?(sa(function(){wg(null,null,t,!1,function(){t._reactRootContainer=null,t[js]=null})}),!0):!1};or.unstable_batchedUpdates=hB;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vg(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return wg(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function xS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xS)}catch(t){console.error(t)}}xS(),xU.exports=or;var CS=xU.exports;const $L=cU(CS);var BB,F_=CS;BB=F_.createRoot,F_.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}var Ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ui||(Ui={}));const S_="popstate";function WL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:A,hash:a}=r.location;return tv("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wf(s)}return XL(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ES(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qL(){return Math.random().toString(36).substr(2,8)}function Q_(t,e){return{usr:t.state,key:t.key,idx:e}}function tv(t,e,n,r){return n===void 0&&(n=null),pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Al(e):e,{state:n,key:e&&e.key||r||qL()})}function Wf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function XL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,A=s.history,a=Ui.Pop,o=null,l=u();l==null&&(l=0,A.replaceState(pu({},A.state,{idx:l}),""));function u(){return(A.state||{idx:null}).idx}function h(){a=Ui.Pop;let C=u(),B=C==null?null:C-l;l=C,o&&o({action:a,location:y.location,delta:B})}function f(C,B){a=Ui.Push;let w=tv(y.location,C,B);l=u()+1;let v=Q_(w,l),I=y.createHref(w);try{A.pushState(v,"",I)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(I)}i&&o&&o({action:a,location:y.location,delta:1})}function p(C,B){a=Ui.Replace;let w=tv(y.location,C,B);l=u();let v=Q_(w,l),I=y.createHref(w);A.replaceState(v,"",I),i&&o&&o({action:a,location:y.location,delta:0})}function m(C){let B=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof C=="string"?C:Wf(C);return w=w.replace(/ $/,"%20"),It(B,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,B)}let y={get action(){return a},get location(){return t(s,A)},listen(C){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(S_,h),o=C,()=>{s.removeEventListener(S_,h),o=null}},createHref(C){return e(s,C)},createURL:m,encodeLocation(C){let B=m(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:f,replace:p,go(C){return A.go(C)}};return y}var N_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(N_||(N_={}));function YL(t,e,n){return n===void 0&&(n="/"),JL(t,e,n,!1)}function JL(t,e,n,r){let s=typeof e=="string"?Al(e):e,i=xB(s.pathname||"/",n);if(i==null)return null;let A=_S(t);ZL(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let l=cM(i);a=oM(A[o],l,r)}return a}function _S(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,A,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};o.relativePath.startsWith("/")&&(It(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let l=Hi([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(It(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),_S(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:AM(l,i.index),routesMeta:u})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let o of bS(i.path))s(i,A,o)}),e}function bS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let A=bS(r.join("/")),a=[];return a.push(...A.map(o=>o===""?i:[i,o].join("/"))),s&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function ZL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eM=/^:[\w-]+$/,tM=3,nM=2,rM=1,sM=10,iM=-2,k_=t=>t==="*";function AM(t,e){let n=t.split("/"),r=n.length;return n.some(k_)&&(r+=iM),e&&(r+=nM),n.filter(s=>!k_(s)).reduce((s,i)=>s+(eM.test(i)?tM:i===""?rM:sM),r)}function aM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function oM(t,e,n){let{routesMeta:r}=t,s={},i="/",A=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=R_({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u),f=o.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=R_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),A.push({params:s,pathname:Hi([i,h.pathname]),pathnameBase:fM(Hi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Hi([i,h.pathnameBase]))}return A}function R_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[h]||"";A=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:A,pattern:t}}function lM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ES(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ES(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xB(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Al(t):t;return{pathname:n?n.startsWith("/")?n:dM(n,e):e,search:pM(r),hash:gM(s)}}function dM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function iy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CB(t,e){let n=hM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EB(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Al(t):(s=pu({},t),It(!s.pathname||!s.pathname.includes("?"),iy("?","pathname","search",s)),It(!s.pathname||!s.pathname.includes("#"),iy("#","pathname","hash",s)),It(!s.search||!s.search.includes("#"),iy("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=n;else{let h=e.length-1;if(!r&&A.startsWith("..")){let f=A.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let o=uM(s,a),l=A&&A!=="/"&&A.endsWith("/"),u=(i||A===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(l||u)&&(o.pathname+="/"),o}const Hi=t=>t.join("/").replace(/\/\/+/g,"/"),fM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TS=["post","put","patch","delete"];new Set(TS);const yM=["get",...TS];new Set(yM);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}const _B=F.createContext(null),vM=F.createContext(null),pA=F.createContext(null),Bg=F.createContext(null),ri=F.createContext({outlet:null,matches:[],isDataRoute:!1}),IS=F.createContext(null);function wM(t,e){let{relative:n}=e===void 0?{}:e;al()||It(!1);let{basename:r,navigator:s}=F.useContext(pA),{hash:i,pathname:A,search:a}=FS(t,{relative:n}),o=A;return r!=="/"&&(o=A==="/"?r:Hi([r,A])),s.createHref({pathname:o,search:a,hash:i})}function al(){return F.useContext(Bg)!=null}function gA(){return al()||It(!1),F.useContext(Bg).location}function US(t){F.useContext(pA).static||F.useLayoutEffect(t)}function ol(){let{isDataRoute:t}=F.useContext(ri);return t?RM():BM()}function BM(){al()||It(!1);let t=F.useContext(_B),{basename:e,future:n,navigator:r}=F.useContext(pA),{matches:s}=F.useContext(ri),{pathname:i}=gA(),A=JSON.stringify(CB(s,n.v7_relativeSplatPath)),a=F.useRef(!1);return US(()=>{a.current=!0}),F.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=EB(l,JSON.parse(A),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,A,i,t])}const xM=F.createContext(null);function CM(t){let e=F.useContext(ri).outlet;return e&&F.createElement(xM.Provider,{value:t},e)}function FS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(pA),{matches:s}=F.useContext(ri),{pathname:i}=gA(),A=JSON.stringify(CB(s,r.v7_relativeSplatPath));return F.useMemo(()=>EB(t,JSON.parse(A),i,n==="path"),[t,A,i,n])}function EM(t,e){return _M(t,e)}function _M(t,e,n,r){al()||It(!1);let{navigator:s,static:i}=F.useContext(pA),{matches:A}=F.useContext(ri),a=A[A.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=gA(),h;if(e){var f;let B=typeof e=="string"?Al(e):e;l==="/"||(f=B.pathname)!=null&&f.startsWith(l)||It(!1),h=B}else h=u;let p=h.pathname||"/",m=p;if(l!=="/"){let B=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(B.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:YL(t,{pathname:m}),C=FM(y&&y.map(B=>Object.assign({},B,{params:Object.assign({},o,B.params),pathname:Hi([l,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?l:Hi([l,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),A,n,r);return e&&C?F.createElement(Bg.Provider,{value:{location:gu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ui.Pop}},C):C}function bM(){let t=kM(),e=mM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:s},n):null,null)}const TM=F.createElement(bM,null);class IM extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(ri.Provider,{value:this.props.routeContext},F.createElement(IS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UM(t){let{routeContext:e,match:n,children:r}=t,s=F.useContext(_B);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(ri.Provider,{value:e},r)}function FM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let A=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=A.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||It(!1),A=A.slice(0,Math.min(A.length,u+1))}let o=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<A.length;u++){let h=A[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){o=!0,l>=0?A=A.slice(0,l+1):A=[A[0]];break}}}return A.reduceRight((u,h,f)=>{let p,m=!1,y=null,C=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||TM,o&&(l<0&&f===0?(m=!0,C=null):l===f&&(m=!0,C=h.route.hydrateFallbackElement||null)));let B=e.concat(A.slice(0,f+1)),w=()=>{let v;return p?v=y:m?v=C:h.route.Component?v=F.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,F.createElement(UM,{match:h,routeContext:{outlet:u,matches:B,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?F.createElement(IM,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):w()},null)}var SS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SS||{}),qf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qf||{});function SM(t){let e=F.useContext(_B);return e||It(!1),e}function QM(t){let e=F.useContext(vM);return e||It(!1),e}function NM(t){let e=F.useContext(ri);return e||It(!1),e}function QS(t){let e=NM(),n=e.matches[e.matches.length-1];return n.route.id||It(!1),n.route.id}function kM(){var t;let e=F.useContext(IS),n=QM(qf.UseRouteError),r=QS(qf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RM(){let{router:t}=SM(SS.UseNavigateStable),e=QS(qf.UseNavigateStable),n=F.useRef(!1);return US(()=>{n.current=!0}),F.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,gu({fromRouteId:e},i)))},[t,e])}function DM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Co(t){let{to:e,replace:n,state:r,relative:s}=t;al()||It(!1);let{future:i,static:A}=F.useContext(pA),{matches:a}=F.useContext(ri),{pathname:o}=gA(),l=ol(),u=EB(e,CB(a,i.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(u);return F.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:s}),[l,h,s,n,r]),null}function NS(t){return CM(t.context)}function St(t){It(!1)}function PM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ui.Pop,navigator:i,static:A=!1,future:a}=t;al()&&It(!1);let o=e.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:o,navigator:i,static:A,future:gu({v7_relativeSplatPath:!1},a)}),[o,a,i,A]);typeof r=="string"&&(r=Al(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,y=F.useMemo(()=>{let C=xB(u,o);return C==null?null:{location:{pathname:C,search:h,hash:f,state:p,key:m},navigationType:s}},[o,u,h,f,p,m,s]);return y==null?null:F.createElement(pA.Provider,{value:l},F.createElement(Bg.Provider,{children:n,value:y}))}function kS(t){let{children:e,location:n}=t;return EM(nv(e),n)}new Promise(()=>{});function nv(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,s)=>{if(!F.isValidElement(r))return;let i=[...e,s];if(r.type===F.Fragment){n.push.apply(n,nv(r.props.children,i));return}r.type!==St&&It(!1),!r.props.index||!r.props.children||It(!1);let A={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(A.children=nv(r.props.children,i)),n.push(A)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function LM(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function MM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OM(t,e){return t.button===0&&(!e||e==="_self")&&!MM(t)}const jM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VM="6";try{window.__reactRouterVersion=VM}catch{}const HM="startTransition",D_=DP[HM];function KM(t){let{basename:e,children:n,future:r,window:s}=t,i=F.useRef();i.current==null&&(i.current=WL({window:s,v5Compat:!0}));let A=i.current,[a,o]=F.useState({action:A.action,location:A.location}),{v7_startTransition:l}=r||{},u=F.useCallback(h=>{l&&D_?D_(()=>o(h)):o(h)},[o,l]);return F.useLayoutEffect(()=>A.listen(u),[A,u]),F.useEffect(()=>DM(r),[r]),F.createElement(PM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:A,future:r})}const zM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=F.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:A,state:a,target:o,to:l,preventScrollReset:u,viewTransition:h}=e,f=LM(e,jM),{basename:p}=F.useContext(pA),m,y=!1;if(typeof l=="string"&&GM.test(l)&&(m=l,zM))try{let v=new URL(window.location.href),I=l.startsWith("//")?new URL(v.protocol+l):new URL(l),Q=xB(I.pathname,p);I.origin===v.origin&&Q!=null?l=Q+I.search+I.hash:y=!0}catch{}let C=wM(l,{relative:s}),B=$M(l,{replace:A,state:a,target:o,preventScrollReset:u,relative:s,viewTransition:h});function w(v){r&&r(v),v.defaultPrevented||B(v)}return F.createElement("a",rv({},f,{href:m||C,onClick:y||i?r:w,ref:n,target:o}))});var P_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P_||(P_={}));var L_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(L_||(L_={}));function $M(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,o=ol(),l=gA(),u=FS(t,{relative:A});return F.useCallback(h=>{if(OM(h,n)){h.preventDefault();let f=r!==void 0?r:Wf(l)===Wf(u);o(t,{replace:f,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[l,o,u,r,s,n,t,i,A,a])}var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],A=t[n++],a=t[n++],o=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(o&1023))}else{const i=t[n++],A=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},DS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,o=s+2<t.length,l=o?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;o||(p=64,A||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new qM;const f=i<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XM=function(t){const e=RS(t);return DS.encodeByteArray(e,!0)},Xf=function(t){return XM(t).replace(/\./g,"")},PS=function(t){try{return DS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=()=>YM().__FIREBASE_DEFAULTS__,ZM=()=>{if(typeof process>"u"||typeof M_>"u")return;const t=M_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PS(t[1]);return e&&JSON.parse(e)},xg=()=>{try{return JM()||ZM()||eO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LS=t=>{var e,n;return(n=(e=xg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bB=t=>{const e=LS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MS=()=>{var t;return(t=xg())===null||t===void 0?void 0:t.config},OS=t=>{var e;return(e=xg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xf(JSON.stringify(n)),Xf(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function rO(){var t;const e=(t=xg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aO(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oO(){return!rO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lO(){try{return typeof indexedDB=="object"}catch{return!1}}function cO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uO,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?dO(i,r):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new Hr(s,a,r)}}function dO(t,e){return t.replace(hO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hO=/\{\$([^}]+)}/g;function fO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],A=e[s];if(O_(i)&&O_(A)){if(!Yf(i,A))return!1}else if(i!==A)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function O_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ac(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pO(t,e){const n=new gO(t,e);return n.subscribe.bind(n)}class gO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ay),s.error===void 0&&(s.error=Ay),s.complete===void 0&&(s.complete=Ay);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ay(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wO(e))try{this.getOrInitializeService({instanceIdentifier:QA})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=QA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=QA){return this.instances.has(e)}getOptions(e=QA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&A.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=QA){return this.component?this.component.multipleInstances?e:QA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vO(t){return t===QA?void 0:t}function wO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const xO={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},CO=ke.INFO,EO={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},_O=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=EO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let TB=class{constructor(e){this.name=e,this._logLevel=CO,this._logHandler=_O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};const bO=(t,e)=>e.some(n=>t instanceof n);let j_,V_;function TO(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IO(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,sv=new WeakMap,HS=new WeakMap,ay=new WeakMap,IB=new WeakMap;function UO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{n(Ki(t.result)),s()},A=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&VS.set(n,t)}).catch(()=>{}),IB.set(e,t),e}function FO(t){if(sv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{n(),s()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});sv.set(t,e)}let iv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SO(t){iv=t(iv)}function QO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oy(this),e,...n);return HS.set(r,e.sort?e.sort():[e]),Ki(r)}:IO().includes(t)?function(...e){return t.apply(oy(this),e),Ki(VS.get(this))}:function(...e){return Ki(t.apply(oy(this),e))}}function NO(t){return typeof t=="function"?QO(t):(t instanceof IDBTransaction&&FO(t),bO(t,TO())?new Proxy(t,iv):t)}function Ki(t){if(t instanceof IDBRequest)return UO(t);if(ay.has(t))return ay.get(t);const e=NO(t);return e!==t&&(ay.set(t,e),IB.set(e,t)),e}const oy=t=>IB.get(t);function kO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=Ki(A);return r&&A.addEventListener("upgradeneeded",o=>{r(Ki(A.result),o.oldVersion,o.newVersion,Ki(A.transaction),o)}),n&&A.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const RO=["get","getKey","getAll","getAllKeys","count"],DO=["put","add","delete","clear"],ly=new Map;function H_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ly.get(e))return ly.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RO.includes(n)))return;const i=async function(A,...a){const o=this.transaction(A,s?"readwrite":"readonly");let l=o.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&o.done]))[0]};return ly.set(e,i),i}SO(t=>({...t,get:(e,n,r)=>H_(e,n)||t.get(e,n,r),has:(e,n)=>!!H_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Av="@firebase/app",K_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new TB("@firebase/app"),MO="@firebase/app-compat",OO="@firebase/analytics-compat",jO="@firebase/analytics",VO="@firebase/app-check-compat",HO="@firebase/app-check",KO="@firebase/auth",zO="@firebase/auth-compat",GO="@firebase/database",$O="@firebase/data-connect",WO="@firebase/database-compat",qO="@firebase/functions",XO="@firebase/functions-compat",YO="@firebase/installations",JO="@firebase/installations-compat",ZO="@firebase/messaging",ej="@firebase/messaging-compat",tj="@firebase/performance",nj="@firebase/performance-compat",rj="@firebase/remote-config",sj="@firebase/remote-config-compat",ij="@firebase/storage",Aj="@firebase/storage-compat",aj="@firebase/firestore",oj="@firebase/vertexai-preview",lj="@firebase/firestore-compat",cj="firebase",uj="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",dj={[Av]:"fire-core",[MO]:"fire-core-compat",[jO]:"fire-analytics",[OO]:"fire-analytics-compat",[HO]:"fire-app-check",[VO]:"fire-app-check-compat",[KO]:"fire-auth",[zO]:"fire-auth-compat",[GO]:"fire-rtdb",[$O]:"fire-data-connect",[WO]:"fire-rtdb-compat",[qO]:"fire-fn",[XO]:"fire-fn-compat",[YO]:"fire-iid",[JO]:"fire-iid-compat",[ZO]:"fire-fcm",[ej]:"fire-fcm-compat",[tj]:"fire-perf",[nj]:"fire-perf-compat",[rj]:"fire-rc",[sj]:"fire-rc-compat",[ij]:"fire-gcs",[Aj]:"fire-gcs-compat",[aj]:"fire-fst",[lj]:"fire-fst-compat",[oj]:"fire-vertex","fire-js":"fire-js",[cj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,hj=new Map,ov=new Map;function z_(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ji(t){const e=t.name;if(ov.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,t);for(const n of Jf.values())z_(n,t);for(const n of hj.values())z_(n,t);return!0}function rd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Us(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new td("app","Firebase",fj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=uj;function KS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw zi.create("bad-app-name",{appName:String(s)});if(n||(n=MS()),!n)throw zi.create("no-options");const i=Jf.get(s);if(i){if(Yf(n,i.options)&&Yf(r,i.config))return i;throw zi.create("duplicate-app",{appName:s})}const A=new BO(s);for(const o of ov.values())A.addComponent(o);const a=new pj(n,r,A);return Jf.set(s,a),a}function Cg(t=av){const e=Jf.get(t);if(!e&&t===av&&MS())return KS();if(!e)throw zi.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let s=(r=dj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(a.join(" "));return}Ji(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="firebase-heartbeat-database",mj=1,mu="firebase-heartbeat-store";let cy=null;function zS(){return cy||(cy=kO(gj,mj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),cy}async function yj(t){try{const n=(await zS()).transaction(mu),r=await n.objectStore(mu).get(GS(t));return await n.done,r}catch(e){if(e instanceof Hr)zs.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zs.warn(n.message)}}}async function G_(t,e){try{const r=(await zS()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,GS(t)),await r.done}catch(n){if(n instanceof Hr)zs.warn(n.message);else{const r=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zs.warn(r.message)}}}function GS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=1024,wj=30*24*60*60*1e3;class Bj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=wj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$_(),{heartbeatsToSend:r,unsentEntries:s}=xj(this._heartbeatsCache.heartbeats),i=Xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zs.warn(n),""}}}function $_(){return new Date().toISOString().substring(0,10)}function xj(t,e=vj){const n=[];let r=t.slice();for(const s of t){const i=n.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),W_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),W_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Cj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lO()?cO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function W_(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t){Ji(new Ks("platform-logger",e=>new PO(e),"PRIVATE")),Ji(new Ks("heartbeat",e=>new Bj(e),"PRIVATE")),Cr(Av,K_,t),Cr(Av,K_,"esm2017"),Cr("fire-js","")}Ej("");var _j="firebase",bj="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(_j,bj,"app");function UB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tj=$S,WS=new td("auth","Firebase",$S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new TB("@firebase/auth");function Ij(t,...e){Zf.logLevel<=ke.WARN&&Zf.warn(`Auth (${ya}): ${t}`,...e)}function sf(t,...e){Zf.logLevel<=ke.ERROR&&Zf.error(`Auth (${ya}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,...e){throw FB(t,...e)}function ss(t,...e){return FB(t,...e)}function qS(t,e,n){const r=Object.assign(Object.assign({},Tj()),{[e]:n});return new td("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return qS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FB(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WS.create(t,...e)}function Ce(t,e,...n){if(!t)throw FB(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sf(e),new Error(e)}function Gs(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Uj(){return q_()==="http:"||q_()==="https:"}function q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uj()||iO()||"connection"in navigator)?navigator.onLine:!0}function Sj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=nO()||AO()}get(){return Fj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t,e){Gs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=new sd(3e4,6e4);function mA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kr(t,e,n,r,s={}){return YS(t,s,async()=>{let i={},A={};r&&(e==="GET"?A=r:i={body:JSON.stringify(r)});const a=nd(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:o},i);return sO()||(l.referrerPolicy="no-referrer"),XS.fetch()(JS(t,t.config.apiHost,n,a),l)})}async function YS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qj),e);try{const s=new Rj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw ch(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[o,l]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw ch(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw ch(t,"user-disabled",A);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qS(t,u,l);Or(t,u)}}catch(s){if(s instanceof Hr)throw s;Or(t,"network-request-failed",{message:String(s)})}}async function Eg(t,e,n,r,s={}){const i=await Kr(t,e,n,r,s);return"mfaPendingCredential"in i&&Or(t,"multi-factor-auth-required",{_serverResponse:i}),i}function JS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?SB(t.config,s):`${t.config.apiScheme}://${s}`}function kj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),Nj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ch(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ss(t,e,r);return s.customData._tokenResponse=n,s}function X_(t){return t!==void 0&&t.enterprise!==void 0}class Dj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Pj(t,e){return Kr(t,"GET","/v2/recaptchaConfig",mA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function ZS(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mj(t,e=!1){const n=ze(t),r=await n.getIdToken(e),s=QB(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Nc(uy(s.auth_time)),issuedAtTime:Nc(uy(s.iat)),expirationTime:Nc(uy(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function uy(t){return Number(t)*1e3}function QB(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const s=PS(n);return s?JSON.parse(s):(sf("Failed to decode base64 JWT payload"),null)}catch(s){return sf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Y_(t){const e=QB(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&Oj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Oj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ia(t,ZS(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?eQ(i.providerUserInfo):[],a=Hj(t.providerData,A),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new cv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Vj(t){const e=ze(t);await ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function eQ(t){return t.map(e=>{var{providerId:n}=e,r=UB(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e){const n=await YS(t,{},async()=>{const r=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=JS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XS.fetch()(A,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zj(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",mA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Kj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,A=new _o;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),A.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=UB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ia(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mj(this,e)}reload(){return Vj(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Us(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await ia(this,Lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,A,a,o,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(A=n.photoURL)!==null&&A!==void 0?A:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(o=n._redirectEventId)!==null&&o!==void 0?o:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:I,isAnonymous:Q,providerData:k,stsTokenManager:T}=n;Ce(v&&T,e,"internal-error");const E=_o.fromJSON(this.name,T);Ce(typeof v=="string",e,"internal-error"),ui(h,e.name),ui(f,e.name),Ce(typeof I=="boolean",e,"internal-error"),Ce(typeof Q=="boolean",e,"internal-error"),ui(p,e.name),ui(m,e.name),ui(y,e.name),ui(C,e.name),ui(B,e.name),ui(w,e.name);const b=new Ss({uid:v,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:Q,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:B,lastLoginAt:w});return k&&Array.isArray(k)&&(b.providerData=k.map(_=>Object.assign({},_))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new _o;s.updateFromServerResponse(n);const i=new Ss({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ep(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?eQ(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new _o;a.updateFromIdToken(r);const o=new Ss({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function Qs(t){Gs(t instanceof Function,"Expected a class definition");let e=J_.get(t);return e?(Gs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tQ.type="NONE";const Z_=tQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Af(this.userKey,s.apiKey,i),this.fullPersistenceKey=Af("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bo(Qs(Z_),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Qs(Z_);const A=Af(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(A);if(u){const h=Ss._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const o=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new bo(i,e,r):(i=o[0],a&&await i._set(A,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(A)}catch{}})),new bo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aQ(e))return"Blackberry";if(oQ(e))return"Webos";if(rQ(e))return"Safari";if((e.includes("chrome/")||sQ(e))&&!e.includes("edge/"))return"Chrome";if(AQ(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nQ(t=xn()){return/firefox\//i.test(t)}function rQ(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sQ(t=xn()){return/crios\//i.test(t)}function iQ(t=xn()){return/iemobile/i.test(t)}function AQ(t=xn()){return/android/i.test(t)}function aQ(t=xn()){return/blackberry/i.test(t)}function oQ(t=xn()){return/webos/i.test(t)}function NB(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gj(t=xn()){var e;return NB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $j(){return aO()&&document.documentMode===10}function lQ(t=xn()){return NB(t)||AQ(t)||oQ(t)||aQ(t)||/windows phone/i.test(t)||iQ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(t,e=[]){let n;switch(t){case"Browser":n=e1(xn());break;case"Worker":n=`${e1(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((A,a)=>{try{const o=e(i);A(o)}catch(o){a(o)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",mA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=6;class Yj{constructor(e){var n,r,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=A.minPasswordLength)!==null&&n!==void 0?n:Xj,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(n=o.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t1(this),this.idTokenSubscription=new t1(this),this.beforeStateQueue=new Wj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ZS(this,{idToken:e}),r=await Ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Us(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ep(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Sj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Us(this.app))return Promise.reject(Gi(this));const n=e?ze(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Us(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Us(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qj(this),n=new Yj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qs(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,r,s);return()=>{A=!0,o()}}else{const o=e.addObserver(n);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ij(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ll(t){return ze(t)}class t1{constructor(e){this.auth=e,this.observer=null,this.addObserver=pO(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zj(t){_g=t}function uQ(t){return _g.loadJS(t)}function eV(){return _g.recaptchaEnterpriseScript}function tV(){return _g.gapiScript}function nV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rV="recaptcha-enterprise",sV="NO_RECAPTCHA";class iV{constructor(e){this.type=rV,this.auth=ll(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,a)=>{Pj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new Dj(o);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,A(l.siteKey)}}).catch(o=>{a(o)})})}function s(i,A,a){const o=window.grecaptcha;X_(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:e}).then(l=>{A(l)}).catch(()=>{A(sV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{r(this.auth).then(a=>{if(!n&&X_(window.grecaptcha))s(a,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=eV();o.length!==0&&(o+=a),uQ(o).then(()=>{s(a,i,A)}).catch(l=>{A(l)})}}).catch(a=>{A(a)})})}}async function n1(t,e,n,r=!1){const s=new iV(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const A=Object.assign({},e);return r?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function r1(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await n1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await n1(t,e,n,n==="getOobCode");return r(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t,e){const n=rd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Yf(i,e??{}))return s;Or(s,"already-initialized")}return n.initialize({options:e})}function aV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oV(t,e,n){const r=ll(t);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=dQ(e),{host:A,port:a}=lV(e),o=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${A}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),cV()}function dQ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lV(t){const e=dQ(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:s1(r.substr(i.length+1))}}else{const[i,A]=r.split(":");return{host:i,port:s1(A)}}}function s1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function uV(t,e){return Kr(t,"POST","/v1/accounts:update",e)}async function dV(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e){return Eg(t,"POST","/v1/accounts:signInWithPassword",mA(t,e))}async function fV(t,e){return Kr(t,"POST","/v1/accounts:sendOobCode",mA(t,e))}async function pV(t,e){return fV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return Eg(t,"POST","/v1/accounts:signInWithEmailLink",mA(t,e))}async function mV(t,e){return Eg(t,"POST","/v1/accounts:signInWithEmailLink",mA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends kB{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r1(e,n,"signInWithPassword",hV);case"emailLink":return gV(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return r1(e,r,"signUpPassword",dV);case"emailLink":return mV(e,{idToken:n,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return Eg(t,"POST","/v1/accounts:signInWithIdp",mA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="http://localhost";class Aa extends kB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=UB(n,["providerId","signInMethod"]);if(!r||!s)return null;const A=new Aa(r,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:yV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wV(t){const e=ic(Ac(t)).link,n=e?ic(Ac(e)).deep_link_id:null,r=ic(Ac(t)).deep_link_id;return(r?ic(Ac(r)).link:null)||r||n||e||t}class RB{constructor(e){var n,r,s,i,A,a;const o=ic(Ac(e)),l=(n=o.apiKey)!==null&&n!==void 0?n:null,u=(r=o.oobCode)!==null&&r!==void 0?r:null,h=vV((s=o.mode)!==null&&s!==void 0?s:null);Ce(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wV(e);try{return new RB(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.providerId=cl.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=RB.parseLink(n);return Ce(r,"argument-error"),yu._fromEmailAndCode(e,r.code,r.tenantId)}}cl.PROVIDER_ID="password";cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends hQ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends id{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends id{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends id{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ei.credential(n,r)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ss._fromIdTokenResponse(e,r,s),A=i1(r);return new Oo({user:i,providerId:A,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=i1(r);return new Oo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function i1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Hr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new tp(e,n,r,s)}}function fQ(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(t,i,e,r):i})}async function BV(t,e,n=!1){const r=await ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e,n=!1){const{auth:r}=t;if(Us(r.app))return Promise.reject(Gi(r));const s="reauthenticate";try{const i=await ia(t,fQ(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const A=QB(i.idToken);Ce(A,r,"internal-error");const{sub:a}=A;return Ce(t.uid===a,r,"user-mismatch"),Oo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pQ(t,e,n=!1){if(Us(t.app))return Promise.reject(Gi(t));const r="signIn",s=await fQ(t,r,e),i=await Oo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function CV(t,e){return pQ(ll(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t){const e=ll(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _V(t,e,n){return Us(t.app)?Promise.reject(Gi(t)):CV(ze(t),cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EV(t),r})}async function bV(t,e){const n=ze(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await pV(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){return Kr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ze(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},A=await ia(r,TV(r.auth,i));r.displayName=A.displayName||null,r.photoURL=A.photoUrl||null;const a=r.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(A)}function UV(t,e){return FV(ze(t),null,e)}async function FV(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const A=await ia(t,uV(r,i));await t._updateTokensIfNecessary(A,!0)}function SV(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function QV(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1e3,kV=10;class mQ extends gQ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lQ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(r);!n&&this.localCache[r]===A||this.notifyListeners(r,A)},i=this.storage.getItem(r);$j()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mQ.type="LOCAL";const RV=mQ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ extends gQ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yQ.type="SESSION";const vQ=yQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(A).map(async l=>l(n.origin,i)),o=await DV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,o)=>{const l=DB("",20);s.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},r);A={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function LV(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function MV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jV(){return wQ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="firebaseLocalStorageDb",VV=1,rp="firebaseLocalStorage",xQ="fbase_key";class Ad{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tg(t,e){return t.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function HV(){const t=indexedDB.deleteDatabase(BQ);return new Ad(t).toPromise()}function uv(){const t=indexedDB.open(BQ,VV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rp,{keyPath:xQ})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rp)?e(r):(r.close(),await HV(),e(await uv()))})})}async function A1(t,e,n){const r=Tg(t,!0).put({[xQ]:e,value:n});return new Ad(r).toPromise()}async function KV(t,e){const n=Tg(t,!1).get(e),r=await new Ad(n).toPromise();return r===void 0?null:r.value}function a1(t,e){const n=Tg(t,!0).delete(e);return new Ad(n).toPromise()}const zV=800,GV=3;class CQ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wQ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bg._getInstance(jV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MV(),!this.activeServiceWorker)return;this.sender=new PV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uv();return await A1(e,np,"1"),await a1(e,np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Tg(s,!1).getAll();return new Ad(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CQ.type="LOCAL";const $V=CQ;new sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t,e){return e?Qs(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB extends kB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qV(t){return pQ(t.auth,new PB(t),t.bypassAuthState)}function XV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),xV(n,new PB(t),t.bypassAuthState)}async function YV(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),BV(n,new PB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qV;case"linkViaPopup":case"linkViaRedirect":return YV;case"reauthViaPopup":case"reauthViaRedirect":return XV;default:Or(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new sd(2e3,1e4);class Ao extends EQ{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=DB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JV.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="pendingRedirect",af=new Map;class eH extends EQ{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=af.get(this.auth._key());if(!e){try{const r=await tH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}af.set(this.auth._key(),e)}return this.bypassAuthState||af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tH(t,e){const n=sH(e),r=rH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function nH(t,e){af.set(t._key(),e)}function rH(t){return Qs(t._redirectPersistence)}function sH(t){return Af(ZV,t.config.apiKey,t.name)}async function iH(t,e,n=!1){if(Us(t.app))return Promise.reject(Gi(t));const r=ll(t),s=WV(r,e),A=await new eH(r,s,n).execute();return A&&!n&&(delete A.user._redirectEventId,await r._persistUserIfCurrent(A.user),await r._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=10*60*1e3;class aH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_Q(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AH&&this.cachedEventUids.clear(),this.cachedEventUids.has(o1(e))}saveEventToCache(e){this.cachedEventUids.add(o1(e)),this.lastProcessedEventTime=Date.now()}}function o1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _Q({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _Q(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lH(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uH=/^https?/;async function dH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lH(t);for(const n of e)try{if(hH(n))return}catch{}Or(t,"unauthorized-domain")}function hH(t){const e=lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&A.hostname===r}if(!uH.test(n))return!1;if(cH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new sd(3e4,6e4);function l1(){const t=is().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pH(t){return new Promise((e,n)=>{var r,s,i;function A(){l1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l1(),n(ss(t,"network-request-failed"))},timeout:fH.get()})}if(!((s=(r=is().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=is().gapi)===null||i===void 0)&&i.load)A();else{const a=nV("iframefcb");return is()[a]=()=>{gapi.load?A():n(ss(t,"network-request-failed"))},uQ(`${tV()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw of=null,e})}let of=null;function gH(t){return of=of||pH(t),of}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=new sd(5e3,15e3),yH="__/auth/iframe",vH="emulator/auth/iframe",wH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xH(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SB(e,vH):`https://${t.config.authDomain}/${yH}`,r={apiKey:e.apiKey,appName:t.name,v:ya},s=BH.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${nd(r).slice(1)}`}async function CH(t){const e=await gH(t),n=is().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:xH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const A=ss(t,"network-request-failed"),a=is().setTimeout(()=>{i(A)},mH.get());function o(){is().clearTimeout(a),s(r)}r.ping(o).then(o,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_H=500,bH=600,TH="_blank",IH="http://localhost";class c1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UH(t,e,n,r=_H,s=bH){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const o=Object.assign(Object.assign({},EH),{width:r.toString(),height:s.toString(),top:i,left:A}),l=xn().toLowerCase();n&&(a=sQ(l)?TH:n),nQ(l)&&(e=e||IH,o.scrollbars="yes");const u=Object.entries(o).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Gj(l)&&a!=="_self")return FH(e||"",a),new c1(null);const h=window.open(e||"",a,u);Ce(h,t,"popup-blocked");try{h.focus()}catch{}return new c1(h)}function FH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="__/auth/handler",QH="emulator/auth/handler",NH=encodeURIComponent("fac");async function u1(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ya,eventId:s};if(e instanceof hQ){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",fO(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))A[u]=h}if(e instanceof id){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const o=await t._getAppCheckToken(),l=o?`#${NH}=${encodeURIComponent(o)}`:"";return`${kH(t)}?${nd(a).slice(1)}${l}`}function kH({config:t}){return t.emulator?SB(t,QH):`https://${t.authDomain}/${SH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="webStorageSupport";class RH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vQ,this._completeRedirectFn=iH,this._overrideRedirectResult=nH}async _openPopup(e,n,r,s){var i;Gs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await u1(e,n,r,lv(),s);return UH(e,A,DB())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await u1(e,n,r,lv(),s);return LV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Gs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CH(e),r=new aH(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dy,{type:dy},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[dy];A!==void 0&&n(!!A),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lQ()||rQ()||NB()}}const DH=RH;var d1="@firebase/auth",h1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MH(t){Ji(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=r.options;Ce(A&&!A.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cQ(t)},l=new Jj(r,s,i,o);return aV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ji(new Ks("auth-internal",e=>{const n=ll(e.getProvider("auth").getImmediate());return(r=>new PH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(d1,h1,LH(t)),Cr(d1,h1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=5*60,jH=OS("authIdTokenMaxAge")||OH;let f1=null;const VH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jH)return;const s=n==null?void 0:n.token;f1!==s&&(f1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function HH(t=Cg()){const e=rd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AV(t,{popupRedirectResolver:DH,persistence:[$V,RV,vQ]}),r=OS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const A=VH(i.toString());QV(n,A,()=>A(n.currentUser)),SV(n,a=>A(a))}}const s=LS("auth");return s&&oV(n,`http://${s}`),n}function KH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ss("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",KH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MH("Browser");var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $A,bQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function b(){}b.prototype=E.prototype,T.D=E.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(_,R,N){for(var S=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)S[Y-2]=arguments[Y];return E.prototype[R].apply(_,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,E,b){b||(b=0);var _=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)_[R]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(R=0;16>R;++R)_[R]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=T.g[0],b=T.g[1],R=T.g[2];var N=T.g[3],S=E+(N^b&(R^N))+_[0]+3614090360&4294967295;E=b+(S<<7&4294967295|S>>>25),S=N+(R^E&(b^R))+_[1]+3905402710&4294967295,N=E+(S<<12&4294967295|S>>>20),S=R+(b^N&(E^b))+_[2]+606105819&4294967295,R=N+(S<<17&4294967295|S>>>15),S=b+(E^R&(N^E))+_[3]+3250441966&4294967295,b=R+(S<<22&4294967295|S>>>10),S=E+(N^b&(R^N))+_[4]+4118548399&4294967295,E=b+(S<<7&4294967295|S>>>25),S=N+(R^E&(b^R))+_[5]+1200080426&4294967295,N=E+(S<<12&4294967295|S>>>20),S=R+(b^N&(E^b))+_[6]+2821735955&4294967295,R=N+(S<<17&4294967295|S>>>15),S=b+(E^R&(N^E))+_[7]+4249261313&4294967295,b=R+(S<<22&4294967295|S>>>10),S=E+(N^b&(R^N))+_[8]+1770035416&4294967295,E=b+(S<<7&4294967295|S>>>25),S=N+(R^E&(b^R))+_[9]+2336552879&4294967295,N=E+(S<<12&4294967295|S>>>20),S=R+(b^N&(E^b))+_[10]+4294925233&4294967295,R=N+(S<<17&4294967295|S>>>15),S=b+(E^R&(N^E))+_[11]+2304563134&4294967295,b=R+(S<<22&4294967295|S>>>10),S=E+(N^b&(R^N))+_[12]+1804603682&4294967295,E=b+(S<<7&4294967295|S>>>25),S=N+(R^E&(b^R))+_[13]+4254626195&4294967295,N=E+(S<<12&4294967295|S>>>20),S=R+(b^N&(E^b))+_[14]+2792965006&4294967295,R=N+(S<<17&4294967295|S>>>15),S=b+(E^R&(N^E))+_[15]+1236535329&4294967295,b=R+(S<<22&4294967295|S>>>10),S=E+(R^N&(b^R))+_[1]+4129170786&4294967295,E=b+(S<<5&4294967295|S>>>27),S=N+(b^R&(E^b))+_[6]+3225465664&4294967295,N=E+(S<<9&4294967295|S>>>23),S=R+(E^b&(N^E))+_[11]+643717713&4294967295,R=N+(S<<14&4294967295|S>>>18),S=b+(N^E&(R^N))+_[0]+3921069994&4294967295,b=R+(S<<20&4294967295|S>>>12),S=E+(R^N&(b^R))+_[5]+3593408605&4294967295,E=b+(S<<5&4294967295|S>>>27),S=N+(b^R&(E^b))+_[10]+38016083&4294967295,N=E+(S<<9&4294967295|S>>>23),S=R+(E^b&(N^E))+_[15]+3634488961&4294967295,R=N+(S<<14&4294967295|S>>>18),S=b+(N^E&(R^N))+_[4]+3889429448&4294967295,b=R+(S<<20&4294967295|S>>>12),S=E+(R^N&(b^R))+_[9]+568446438&4294967295,E=b+(S<<5&4294967295|S>>>27),S=N+(b^R&(E^b))+_[14]+3275163606&4294967295,N=E+(S<<9&4294967295|S>>>23),S=R+(E^b&(N^E))+_[3]+4107603335&4294967295,R=N+(S<<14&4294967295|S>>>18),S=b+(N^E&(R^N))+_[8]+1163531501&4294967295,b=R+(S<<20&4294967295|S>>>12),S=E+(R^N&(b^R))+_[13]+2850285829&4294967295,E=b+(S<<5&4294967295|S>>>27),S=N+(b^R&(E^b))+_[2]+4243563512&4294967295,N=E+(S<<9&4294967295|S>>>23),S=R+(E^b&(N^E))+_[7]+1735328473&4294967295,R=N+(S<<14&4294967295|S>>>18),S=b+(N^E&(R^N))+_[12]+2368359562&4294967295,b=R+(S<<20&4294967295|S>>>12),S=E+(b^R^N)+_[5]+4294588738&4294967295,E=b+(S<<4&4294967295|S>>>28),S=N+(E^b^R)+_[8]+2272392833&4294967295,N=E+(S<<11&4294967295|S>>>21),S=R+(N^E^b)+_[11]+1839030562&4294967295,R=N+(S<<16&4294967295|S>>>16),S=b+(R^N^E)+_[14]+4259657740&4294967295,b=R+(S<<23&4294967295|S>>>9),S=E+(b^R^N)+_[1]+2763975236&4294967295,E=b+(S<<4&4294967295|S>>>28),S=N+(E^b^R)+_[4]+1272893353&4294967295,N=E+(S<<11&4294967295|S>>>21),S=R+(N^E^b)+_[7]+4139469664&4294967295,R=N+(S<<16&4294967295|S>>>16),S=b+(R^N^E)+_[10]+3200236656&4294967295,b=R+(S<<23&4294967295|S>>>9),S=E+(b^R^N)+_[13]+681279174&4294967295,E=b+(S<<4&4294967295|S>>>28),S=N+(E^b^R)+_[0]+3936430074&4294967295,N=E+(S<<11&4294967295|S>>>21),S=R+(N^E^b)+_[3]+3572445317&4294967295,R=N+(S<<16&4294967295|S>>>16),S=b+(R^N^E)+_[6]+76029189&4294967295,b=R+(S<<23&4294967295|S>>>9),S=E+(b^R^N)+_[9]+3654602809&4294967295,E=b+(S<<4&4294967295|S>>>28),S=N+(E^b^R)+_[12]+3873151461&4294967295,N=E+(S<<11&4294967295|S>>>21),S=R+(N^E^b)+_[15]+530742520&4294967295,R=N+(S<<16&4294967295|S>>>16),S=b+(R^N^E)+_[2]+3299628645&4294967295,b=R+(S<<23&4294967295|S>>>9),S=E+(R^(b|~N))+_[0]+4096336452&4294967295,E=b+(S<<6&4294967295|S>>>26),S=N+(b^(E|~R))+_[7]+1126891415&4294967295,N=E+(S<<10&4294967295|S>>>22),S=R+(E^(N|~b))+_[14]+2878612391&4294967295,R=N+(S<<15&4294967295|S>>>17),S=b+(N^(R|~E))+_[5]+4237533241&4294967295,b=R+(S<<21&4294967295|S>>>11),S=E+(R^(b|~N))+_[12]+1700485571&4294967295,E=b+(S<<6&4294967295|S>>>26),S=N+(b^(E|~R))+_[3]+2399980690&4294967295,N=E+(S<<10&4294967295|S>>>22),S=R+(E^(N|~b))+_[10]+4293915773&4294967295,R=N+(S<<15&4294967295|S>>>17),S=b+(N^(R|~E))+_[1]+2240044497&4294967295,b=R+(S<<21&4294967295|S>>>11),S=E+(R^(b|~N))+_[8]+1873313359&4294967295,E=b+(S<<6&4294967295|S>>>26),S=N+(b^(E|~R))+_[15]+4264355552&4294967295,N=E+(S<<10&4294967295|S>>>22),S=R+(E^(N|~b))+_[6]+2734768916&4294967295,R=N+(S<<15&4294967295|S>>>17),S=b+(N^(R|~E))+_[13]+1309151649&4294967295,b=R+(S<<21&4294967295|S>>>11),S=E+(R^(b|~N))+_[4]+4149444226&4294967295,E=b+(S<<6&4294967295|S>>>26),S=N+(b^(E|~R))+_[11]+3174756917&4294967295,N=E+(S<<10&4294967295|S>>>22),S=R+(E^(N|~b))+_[2]+718787259&4294967295,R=N+(S<<15&4294967295|S>>>17),S=b+(N^(R|~E))+_[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var b=E-this.blockSize,_=this.B,R=this.h,N=0;N<E;){if(R==0)for(;N<=b;)s(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<E;)if(_[R++]=T.charCodeAt(N++),R==this.blockSize){s(this,_),R=0;break}}else for(;N<E;)if(_[R++]=T[N++],R==this.blockSize){s(this,_),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var b=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=b&255,b/=256;for(this.u(T),T=Array(16),E=b=0;4>E;++E)for(var _=0;32>_;_+=8)T[b++]=this.g[E]>>>_&255;return T};function i(T,E){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=E(T)}function A(T,E){this.h=E;for(var b=[],_=!0,R=T.length-1;0<=R;R--){var N=T[R]|0;_&&N==E||(b[R]=N,_=!1)}this.g=b}var a={};function o(T){return-128<=T&&128>T?i(T,function(E){return new A([E|0],0>E?-1:0)}):new A([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return C(l(-T));for(var E=[],b=1,_=0;T>=b;_++)E[_]=T/b|0,b*=4294967296;return new A(E,0)}function u(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return C(u(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(E,8)),_=h,R=0;R<T.length;R+=8){var N=Math.min(8,T.length-R),S=parseInt(T.substring(R,R+N),E);8>N?(N=l(Math.pow(E,N)),_=_.j(N).add(l(S))):(_=_.j(b),_=_.add(l(S)))}return _}var h=o(0),f=o(1),p=o(16777216);t=A.prototype,t.m=function(){if(y(this))return-C(this).m();for(var T=0,E=1,b=0;b<this.g.length;b++){var _=this.i(b);T+=(0<=_?_:4294967296+_)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(y(this))return"-"+C(this).toString(T);for(var E=l(Math.pow(T,6)),b=this,_="";;){var R=I(b,E).g;b=B(b,R.j(E));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=R,m(b))return N+_;for(;6>N.length;)N="0"+N;_=N+_}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=B(this,T),y(T)?-1:m(T)?0:1};function C(T){for(var E=T.g.length,b=[],_=0;_<E;_++)b[_]=~T.g[_];return new A(b,~T.h).add(f)}t.abs=function(){return y(this)?C(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],_=0,R=0;R<=E;R++){var N=_+(this.i(R)&65535)+(T.i(R)&65535),S=(N>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);_=S>>>16,N&=65535,S&=65535,b[R]=S<<16|N}return new A(b,b[b.length-1]&-2147483648?-1:0)};function B(T,E){return T.add(C(E))}t.j=function(T){if(m(this)||m(T))return h;if(y(this))return y(T)?C(this).j(C(T)):C(C(this).j(T));if(y(T))return C(this.j(C(T)));if(0>this.l(p)&&0>T.l(p))return l(this.m()*T.m());for(var E=this.g.length+T.g.length,b=[],_=0;_<2*E;_++)b[_]=0;for(_=0;_<this.g.length;_++)for(var R=0;R<T.g.length;R++){var N=this.i(_)>>>16,S=this.i(_)&65535,Y=T.i(R)>>>16,Ae=T.i(R)&65535;b[2*_+2*R]+=S*Ae,w(b,2*_+2*R),b[2*_+2*R+1]+=N*Ae,w(b,2*_+2*R+1),b[2*_+2*R+1]+=S*Y,w(b,2*_+2*R+1),b[2*_+2*R+2]+=N*Y,w(b,2*_+2*R+2)}for(_=0;_<E;_++)b[_]=b[2*_+1]<<16|b[2*_];for(_=E;_<2*E;_++)b[_]=0;return new A(b,0)};function w(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function v(T,E){this.g=T,this.h=E}function I(T,E){if(m(E))throw Error("division by zero");if(m(T))return new v(h,h);if(y(T))return E=I(C(T),E),new v(C(E.g),C(E.h));if(y(E))return E=I(T,C(E)),new v(C(E.g),E.h);if(30<T.g.length){if(y(T)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var b=f,_=E;0>=_.l(T);)b=Q(b),_=Q(_);var R=k(b,1),N=k(_,1);for(_=k(_,2),b=k(b,2);!m(_);){var S=N.add(_);0>=S.l(T)&&(R=R.add(b),N=S),_=k(_,1),b=k(b,1)}return E=B(T,R.j(E)),new v(R,E)}for(R=h;0<=T.l(E);){for(b=Math.max(1,Math.floor(T.m()/E.m())),_=Math.ceil(Math.log(b)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),N=l(b),S=N.j(E);y(S)||0<S.l(T);)b-=_,N=l(b),S=N.j(E);m(N)&&(N=f),R=R.add(N),T=B(T,S)}return new v(R,T)}t.A=function(T){return I(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)&T.i(_);return new A(b,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)|T.i(_);return new A(b,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)^T.i(_);return new A(b,this.h^T.h)};function Q(T){for(var E=T.g.length+1,b=[],_=0;_<E;_++)b[_]=T.i(_)<<1|T.i(_-1)>>>31;return new A(b,T.h)}function k(T,E){var b=E>>5;E%=32;for(var _=T.g.length-b,R=[],N=0;N<_;N++)R[N]=0<E?T.i(N+b)>>>E|T.i(N+b+1)<<32-E:T.i(N+b);return new A(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bQ=r,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=l,A.fromString=u,$A=A}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TQ,ac,IQ,lf,dv,UQ,FQ,SQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,x){return d==Array.prototype||d==Object.prototype||(d[g]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var g=0;g<d.length;++g){var x=d[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var x=r;d=d.split(".");for(var U=0;U<d.length-1;U++){var P=d[U];if(!(P in x))break e;x=x[P]}d=d[d.length-1],U=x[d],g=g(U),g!=U&&g!=null&&e(x,d,{configurable:!0,writable:!0,value:g})}}function i(d,g){d instanceof String&&(d+="");var x=0,U=!1,P={next:function(){if(!U&&x<d.length){var O=x++;return{value:g(O,d[O]),done:!1}}return U=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}s("Array.prototype.values",function(d){return d||function(){return i(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function l(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,x){return d.call.apply(d.bind,arguments)}function h(d,g,x){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,U),d.apply(g,P)}}return function(){return d.apply(g,arguments)}}function f(d,g,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,g){var x=Array.prototype.slice.call(arguments,1);return function(){var U=x.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function m(d,g){function x(){}x.prototype=g.prototype,d.aa=g.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(U,P,O){for(var Z=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Z[Ze-2]=arguments[Ze];return g.prototype[P].apply(U,Z)}}function y(d){const g=d.length;if(0<g){const x=Array(g);for(let U=0;U<g;U++)x[U]=d[U];return x}return[]}function C(d,g){for(let x=1;x<arguments.length;x++){const U=arguments[x];if(o(U)){const P=d.length||0,O=U.length||0;d.length=P+O;for(let Z=0;Z<O;Z++)d[P+Z]=U[Z]}else d.push(U)}}class B{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(d){return/^[\s\xa0]*$/.test(d)}function v(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var Q=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function k(d,g,x){for(const U in d)g.call(x,d[U],U,d)}function T(d,g){for(const x in d)g.call(void 0,d[x],x,d)}function E(d){const g={};for(const x in d)g[x]=d[x];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(d,g){let x,U;for(let P=1;P<arguments.length;P++){U=arguments[P];for(x in U)d[x]=U[x];for(let O=0;O<b.length;O++)x=b[O],Object.prototype.hasOwnProperty.call(U,x)&&(d[x]=U[x])}}function R(d){var g=1;d=d.split(":");const x=[];for(;0<g&&d.length;)x.push(d.shift()),g--;return d.length&&x.push(d.join(":")),x}function N(d){a.setTimeout(()=>{throw d},0)}function S(){var d=K;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class Y{constructor(){this.h=this.g=null}add(g,x){const U=Ae.get();U.set(g,x),this.h?this.h.next=U:this.g=U,this.h=U}}var Ae=new B(()=>new V,d=>d.reset());class V{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let q,M=!1,K=new Y,J=()=>{const d=a.Promise.resolve(void 0);q=()=>{d.then(ee)}};var ee=()=>{for(var d;d=S();){try{d.h.call(d.g)}catch(x){N(x)}var g=Ae;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}M=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};a.addEventListener("test",x,g),a.removeEventListener("test",x,g)}catch{}return d}();function Ge(d,g){if(me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(Q){e:{try{I(g.nodeName);var P=!0;break e}catch{}P=!1}P||(g=null)}}else x=="mouseover"?g=d.fromElement:x=="mouseout"&&(g=d.toElement);this.relatedTarget=g,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Je[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ge.aa.h.call(this)}}m(Ge,me);var Je={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),ms=0;function ii(d,g,x,U,P){this.listener=d,this.proxy=null,this.src=g,this.type=x,this.capture=!!U,this.ha=P,this.key=++ms,this.da=this.fa=!1}function br(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function cr(d){this.src=d,this.g={},this.h=0}cr.prototype.add=function(d,g,x,U,P){var O=d.toString();d=this.g[O],d||(d=this.g[O]=[],this.h++);var Z=Ea(d,g,U,P);return-1<Z?(g=d[Z],x||(g.fa=!1)):(g=new ii(g,this.src,O,!!U,P),g.fa=x,d.push(g)),g};function Ai(d,g){var x=g.type;if(x in d.g){var U=d.g[x],P=Array.prototype.indexOf.call(U,g,void 0),O;(O=0<=P)&&Array.prototype.splice.call(U,P,1),O&&(br(g),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Ea(d,g,x,U){for(var P=0;P<d.length;++P){var O=d[P];if(!O.da&&O.listener==g&&O.capture==!!x&&O.ha==U)return P}return-1}var _a="closure_lm_"+(1e6*Math.random()|0),Ud={};function mm(d,g,x,U,P){if(Array.isArray(g)){for(var O=0;O<g.length;O++)mm(d,g[O],x,U,P);return null}return x=Ie(x),d&&d[ut]?d.K(g,x,l(U)?!!U.capture:!!U,P):FC(d,g,x,!1,U,P)}function FC(d,g,x,U,P,O){if(!g)throw Error("Invalid event type");var Z=l(P)?!!P.capture:!!P,Ze=X(d);if(Ze||(d[_a]=Ze=new cr(d)),x=Ze.add(g,x,U,Z,O),x.proxy)return x;if(U=D(),x.proxy=U,U.src=d,U.listener=x,d.addEventListener)Re||(P=Z),P===void 0&&(P=!1),d.addEventListener(g.toString(),U,P);else if(d.attachEvent)d.attachEvent(re(g.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return x}function D(){function d(x){return g.call(d.src,d.listener,x)}const g=te;return d}function L(d,g,x,U,P){if(Array.isArray(g))for(var O=0;O<g.length;O++)L(d,g[O],x,U,P);else U=l(U)?!!U.capture:!!U,x=Ie(x),d&&d[ut]?(d=d.i,g=String(g).toString(),g in d.g&&(O=d.g[g],x=Ea(O,x,U,P),-1<x&&(br(O[x]),Array.prototype.splice.call(O,x,1),O.length==0&&(delete d.g[g],d.h--)))):d&&(d=X(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Ea(g,x,U,P)),(x=-1<d?g[d]:null)&&j(x))}function j(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[ut])Ai(g.i,d);else{var x=d.type,U=d.proxy;g.removeEventListener?g.removeEventListener(x,U,d.capture):g.detachEvent?g.detachEvent(re(x),U):g.addListener&&g.removeListener&&g.removeListener(U),(x=X(g))?(Ai(x,d),x.h==0&&(x.src=null,g[_a]=null)):br(d)}}}function re(d){return d in Ud?Ud[d]:Ud[d]="on"+d}function te(d,g){if(d.da)d=!0;else{g=new Ge(g,this);var x=d.listener,U=d.ha||d.src;d.fa&&j(d),d=x.call(U,g)}return d}function X(d){return d=d[_a],d instanceof cr?d:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(d){return typeof d=="function"?d:(d[pe]||(d[pe]=function(g){return d.handleEvent(g)}),d[pe])}function Ne(){fe.call(this),this.i=new cr(this),this.M=this,this.F=null}m(Ne,fe),Ne.prototype[ut]=!0,Ne.prototype.removeEventListener=function(d,g,x,U){L(this,d,g,x,U)};function De(d,g){var x,U=d.F;if(U)for(x=[];U;U=U.F)x.push(U);if(d=d.M,U=g.type||g,typeof g=="string")g=new me(g,d);else if(g instanceof me)g.target=g.target||d;else{var P=g;g=new me(U,d),_(g,P)}if(P=!0,x)for(var O=x.length-1;0<=O;O--){var Z=g.g=x[O];P=Wn(Z,U,!0,g)&&P}if(Z=g.g=d,P=Wn(Z,U,!0,g)&&P,P=Wn(Z,U,!1,g)&&P,x)for(O=0;O<x.length;O++)Z=g.g=x[O],P=Wn(Z,U,!1,g)&&P}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var x=d.g[g],U=0;U<x.length;U++)br(x[U]);delete d.g[g],d.h--}}this.F=null},Ne.prototype.K=function(d,g,x,U){return this.i.add(String(d),g,!1,x,U)},Ne.prototype.L=function(d,g,x,U){return this.i.add(String(d),g,!0,x,U)};function Wn(d,g,x,U){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,O=0;O<g.length;++O){var Z=g[O];if(Z&&!Z.da&&Z.capture==x){var Ze=Z.listener,$t=Z.ha||Z.src;Z.fa&&Ai(d.i,Z),P=Ze.call($t,U)!==!1&&P}}return P&&!U.defaultPrevented}function Fd(d,g,x){if(typeof d=="function")x&&(d=f(d,x));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function ba(d){d.g=Fd(()=>{d.g=null,d.i&&(d.i=!1,ba(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Bl extends fe{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function CA(d){fe.call(this),this.h=d,this.g={}}m(CA,fe);var xl=[];function Sd(d){k(d.g,function(g,x){this.g.hasOwnProperty(x)&&j(g)},d),d.g={}}CA.prototype.N=function(){CA.aa.N.call(this),Sd(this)},CA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ta=a.JSON.stringify,qD=a.JSON.parse,XD=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function ym(){}ym.prototype.h=null;function SC(d){return d.h||(d.h=d.i())}function QC(){}var Cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vm(){me.call(this,"d")}m(vm,me);function wm(){me.call(this,"c")}m(wm,me);var EA={},NC=null;function Qd(){return NC=NC||new Ne}EA.La="serverreachability";function kC(d){me.call(this,EA.La,d)}m(kC,me);function El(d){const g=Qd();De(g,new kC(g))}EA.STAT_EVENT="statevent";function RC(d,g){me.call(this,EA.STAT_EVENT,d),this.stat=g}m(RC,me);function En(d){const g=Qd();De(g,new RC(g,d))}EA.Ma="timingevent";function DC(d,g){me.call(this,EA.Ma,d),this.size=g}m(DC,me);function _l(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function bl(){this.g=!0}bl.prototype.xa=function(){this.g=!1};function YD(d,g,x,U,P,O){d.info(function(){if(d.g)if(O)for(var Z="",Ze=O.split("&"),$t=0;$t<Ze.length;$t++){var je=Ze[$t].split("=");if(1<je.length){var ln=je[0];je=je[1];var cn=ln.split("_");Z=2<=cn.length&&cn[1]=="type"?Z+(ln+"="+je+"&"):Z+(ln+"=redacted&")}}else Z=null;else Z=O;return"XMLHTTP REQ ("+U+") [attempt "+P+"]: "+g+`
`+x+`
`+Z})}function JD(d,g,x,U,P,O,Z){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+P+"]: "+g+`
`+x+`
`+O+" "+Z})}function Ia(d,g,x,U){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+eP(d,x)+(U?" "+U:"")})}function ZD(d,g){d.info(function(){return"TIMEOUT: "+g})}bl.prototype.info=function(){};function eP(d,g){if(!d.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var U=x[d];if(!(2>U.length)){var P=U[1];if(Array.isArray(P)&&!(1>P.length)){var O=P[0];if(O!="noop"&&O!="stop"&&O!="close")for(var Z=1;Z<P.length;Z++)P[Z]=""}}}}return Ta(x)}catch{return g}}var Nd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bm;function kd(){}m(kd,ym),kd.prototype.g=function(){return new XMLHttpRequest},kd.prototype.i=function(){return{}},Bm=new kd;function ai(d,g,x,U){this.j=d,this.i=g,this.l=x,this.R=U||1,this.U=new CA(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new LC}function LC(){this.i=null,this.g="",this.h=!1}var MC={},xm={};function Cm(d,g,x){d.L=1,d.v=Ld(ys(g)),d.m=x,d.P=!0,OC(d,null)}function OC(d,g){d.F=Date.now(),Rd(d),d.A=ys(d.v);var x=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),eE(x.i,"t",U),d.C=0,x=d.j.J,d.h=new LC,d.g=yE(d.j,x?g:null,!d.m),0<d.O&&(d.M=new Bl(f(d.Y,d,d.g),d.O)),g=d.U,x=d.g,U=d.ca;var P="readystatechange";Array.isArray(P)||(P&&(xl[0]=P.toString()),P=xl);for(var O=0;O<P.length;O++){var Z=mm(x,P[O],U||g.handleEvent,!1,g.h||g);if(!Z)break;g.g[Z.key]=Z}g=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),El(),YD(d.i,d.u,d.A,d.l,d.R,d.m)}ai.prototype.ca=function(d){d=d.target;const g=this.M;g&&vs(d)==3?g.j():this.Y(d)},ai.prototype.Y=function(d){try{if(d==this.g)e:{const cn=vs(this.g);var g=this.g.Ba();const Sa=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||aE(this.g)))){this.J||cn!=4||g==7||(g==8||0>=Sa?El(3):El(2)),Em(this);var x=this.g.Z();this.X=x;t:if(jC(this)){var U=aE(this.g);d="";var P=U.length,O=vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_A(this),Tl(this);var Z="";break t}this.h.i=new a.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,d+=this.h.i.decode(U[g],{stream:!(O&&g==P-1)});U.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=x==200,JD(this.i,this.u,this.A,this.l,this.R,cn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,$t=this.g;if((Ze=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ze)){var je=Ze;break t}}je=null}if(x=je)Ia(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_m(this,x);else{this.o=!1,this.s=3,En(12),_A(this),Tl(this);break e}}if(this.P){x=!0;let Tr;for(;!this.J&&this.C<Z.length;)if(Tr=tP(this,Z),Tr==xm){cn==4&&(this.s=4,En(14),x=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==MC){this.s=4,En(15),Ia(this.i,this.l,Z,"[Invalid Chunk]"),x=!1;break}else Ia(this.i,this.l,Tr,null),_m(this,Tr);if(jC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||Z.length!=0||this.h.h||(this.s=1,En(16),x=!1),this.o=this.o&&x,!x)Ia(this.i,this.l,Z,"[Invalid Chunked Response]"),_A(this),Tl(this);else if(0<Z.length&&!this.W){this.W=!0;var ln=this.j;ln.g==this&&ln.ba&&!ln.M&&(ln.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Sm(ln),ln.M=!0,En(11))}}else Ia(this.i,this.l,Z,null),_m(this,Z);cn==4&&_A(this),this.o&&!this.J&&(cn==4?fE(this.j,this):(this.o=!1,Rd(this)))}else yP(this.g),x==400&&0<Z.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),_A(this),Tl(this)}}}catch{}finally{}};function jC(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function tP(d,g){var x=d.C,U=g.indexOf(`
`,x);return U==-1?xm:(x=Number(g.substring(x,U)),isNaN(x)?MC:(U+=1,U+x>g.length?xm:(g=g.slice(U,U+x),d.C=U+x,g)))}ai.prototype.cancel=function(){this.J=!0,_A(this)};function Rd(d){d.S=Date.now()+d.I,VC(d,d.I)}function VC(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=_l(f(d.ba,d),g)}function Em(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ai.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ZD(this.i,this.A),this.L!=2&&(El(),En(17)),_A(this),this.s=2,Tl(this)):VC(this,this.S-d)};function Tl(d){d.j.G==0||d.J||fE(d.j,d)}function _A(d){Em(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Sd(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function _m(d,g){try{var x=d.j;if(x.G!=0&&(x.g==d||bm(x.h,d))){if(!d.K&&bm(x.h,d)&&x.G==3){try{var U=x.Da.g.parse(g)}catch{U=null}if(Array.isArray(U)&&U.length==3){var P=U;if(P[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Kd(x),Vd(x);else break e;Fm(x),En(18)}}else x.za=P[1],0<x.za-x.T&&37500>P[2]&&x.F&&x.v==0&&!x.C&&(x.C=_l(f(x.Za,x),6e3));if(1>=zC(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else TA(x,11)}else if((d.K||x.g==d)&&Kd(x),!w(g))for(P=x.Da.g.parse(g),g=0;g<P.length;g++){let je=P[g];if(x.T=je[0],je=je[1],x.G==2)if(je[0]=="c"){x.K=je[1],x.ia=je[2];const ln=je[3];ln!=null&&(x.la=ln,x.j.info("VER="+x.la));const cn=je[4];cn!=null&&(x.Aa=cn,x.j.info("SVER="+x.Aa));const Sa=je[5];Sa!=null&&typeof Sa=="number"&&0<Sa&&(U=1.5*Sa,x.L=U,x.j.info("backChannelRequestTimeoutMs_="+U)),U=x;const Tr=d.g;if(Tr){const Gd=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gd){var O=U.h;O.g||Gd.indexOf("spdy")==-1&&Gd.indexOf("quic")==-1&&Gd.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Tm(O,O.h),O.h=null))}if(U.D){const Qm=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qm&&(U.ya=Qm,rt(U.I,U.D,Qm))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),U=x;var Z=d;if(U.qa=mE(U,U.J?U.ia:null,U.W),Z.K){GC(U.h,Z);var Ze=Z,$t=U.L;$t&&(Ze.I=$t),Ze.B&&(Em(Ze),Rd(Ze)),U.g=Z}else dE(U);0<x.i.length&&Hd(x)}else je[0]!="stop"&&je[0]!="close"||TA(x,7);else x.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?TA(x,7):Um(x):je[0]!="noop"&&x.l&&x.l.ta(je),x.v=0)}}El(4)}catch{}}var nP=class{constructor(d,g){this.g=d,this.map=g}};function HC(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function KC(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function zC(d){return d.h?1:d.g?d.g.size:0}function bm(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Tm(d,g){d.g?d.g.add(g):d.h=g}function GC(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}HC.prototype.cancel=function(){if(this.i=$C(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function $C(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const x of d.g.values())g=g.concat(x.D);return g}return y(d.i)}function rP(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(o(d)){for(var g=[],x=d.length,U=0;U<x;U++)g.push(d[U]);return g}g=[],x=0;for(U in d)g[x++]=d[U];return g}function sP(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(o(d)||typeof d=="string"){var g=[];d=d.length;for(var x=0;x<d;x++)g.push(x);return g}g=[],x=0;for(const U in d)g[x++]=U;return g}}}function WC(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(o(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var x=sP(d),U=rP(d),P=U.length,O=0;O<P;O++)g.call(void 0,U[O],x&&x[O],d)}var qC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iP(d,g){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var U=d[x].indexOf("="),P=null;if(0<=U){var O=d[x].substring(0,U);P=d[x].substring(U+1)}else O=d[x];g(O,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function bA(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof bA){this.h=d.h,Dd(this,d.j),this.o=d.o,this.g=d.g,Pd(this,d.s),this.l=d.l;var g=d.i,x=new Fl;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),XC(this,x),this.m=d.m}else d&&(g=String(d).match(qC))?(this.h=!1,Dd(this,g[1]||"",!0),this.o=Il(g[2]||""),this.g=Il(g[3]||"",!0),Pd(this,g[4]),this.l=Il(g[5]||"",!0),XC(this,g[6]||"",!0),this.m=Il(g[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}bA.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Ul(g,YC,!0),":");var x=this.g;return(x||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Ul(g,YC,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Ul(x,x.charAt(0)=="/"?oP:aP,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Ul(x,cP)),d.join("")};function ys(d){return new bA(d)}function Dd(d,g,x){d.j=x?Il(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Pd(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function XC(d,g,x){g instanceof Fl?(d.i=g,uP(d.i,d.h)):(x||(g=Ul(g,lP)),d.i=new Fl(g,d.h))}function rt(d,g,x){d.i.set(g,x)}function Ld(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Il(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ul(d,g,x){return typeof d=="string"?(d=encodeURI(d).replace(g,AP),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function AP(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var YC=/[#\/\?@]/g,aP=/[#\?:]/g,oP=/[#\?]/g,lP=/[#\?@]/g,cP=/#/g;function Fl(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function oi(d){d.g||(d.g=new Map,d.h=0,d.i&&iP(d.i,function(g,x){d.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=Fl.prototype,t.add=function(d,g){oi(this),this.i=null,d=Ua(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(g),this.h+=1,this};function JC(d,g){oi(d),g=Ua(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function ZC(d,g){return oi(d),g=Ua(d,g),d.g.has(g)}t.forEach=function(d,g){oi(this),this.g.forEach(function(x,U){x.forEach(function(P){d.call(g,P,U,this)},this)},this)},t.na=function(){oi(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let U=0;U<g.length;U++){const P=d[U];for(let O=0;O<P.length;O++)x.push(g[U])}return x},t.V=function(d){oi(this);let g=[];if(typeof d=="string")ZC(this,d)&&(g=g.concat(this.g.get(Ua(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)g=g.concat(d[x])}return g},t.set=function(d,g){return oi(this),this.i=null,d=Ua(this,d),ZC(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function eE(d,g,x){JC(d,g),0<x.length&&(d.i=null,d.g.set(Ua(d,g),y(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var U=g[x];const O=encodeURIComponent(String(U)),Z=this.V(U);for(U=0;U<Z.length;U++){var P=O;Z[U]!==""&&(P+="="+encodeURIComponent(String(Z[U]))),d.push(P)}}return this.i=d.join("&")};function Ua(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function uP(d,g){g&&!d.j&&(oi(d),d.i=null,d.g.forEach(function(x,U){var P=U.toLowerCase();U!=P&&(JC(this,U),eE(this,P,x))},d)),d.j=g}function dP(d,g){const x=new bl;if(a.Image){const U=new Image;U.onload=p(li,x,"TestLoadImage: loaded",!0,g,U),U.onerror=p(li,x,"TestLoadImage: error",!1,g,U),U.onabort=p(li,x,"TestLoadImage: abort",!1,g,U),U.ontimeout=p(li,x,"TestLoadImage: timeout",!1,g,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else g(!1)}function hP(d,g){const x=new bl,U=new AbortController,P=setTimeout(()=>{U.abort(),li(x,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:U.signal}).then(O=>{clearTimeout(P),O.ok?li(x,"TestPingServer: ok",!0,g):li(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),li(x,"TestPingServer: error",!1,g)})}function li(d,g,x,U,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),U(x)}catch{}}function fP(){this.g=new XD}function pP(d,g,x){const U=x||"";try{WC(d,function(P,O){let Z=P;l(P)&&(Z=Ta(P)),g.push(U+O+"="+encodeURIComponent(Z))})}catch(P){throw g.push(U+"type="+encodeURIComponent("_badmap")),P}}function Md(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Md,ym),Md.prototype.g=function(){return new Od(this.l,this.j)},Md.prototype.i=function(d){return function(){return d}}({});function Od(d,g){Ne.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Od,Ne),t=Od.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Ql(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ql(this)),this.g&&(this.readyState=3,Ql(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function tE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Sl(this):Ql(this),this.readyState==3&&tE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Sl(this))},t.Qa=function(d){this.g&&(this.response=d,Sl(this))},t.ga=function(){this.g&&Sl(this)};function Sl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ql(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=g.next();return d.join(`\r
`)};function Ql(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Od.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function nE(d){let g="";return k(d,function(x,U){g+=U,g+=":",g+=x,g+=`\r
`}),g}function Im(d,g,x){e:{for(U in x){var U=!1;break e}U=!0}U||(x=nE(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):rt(d,g,x))}function vt(d){Ne.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(vt,Ne);var gP=/^https?$/i,mP=["POST","PUT"];t=vt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,x,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bm.g(),this.v=this.o?SC(this.o):SC(Bm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(O){rE(this,O);return}if(d=x||"",x=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var P in U)x.set(P,U[P]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const O of U.keys())x.set(O,U.get(O));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(x.keys()).find(O=>O.toLowerCase()=="content-type"),P=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mP,g,void 0))||U||P||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,Z]of x)this.g.setRequestHeader(O,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AE(this),this.u=!0,this.g.send(d),this.u=!1}catch(O){rE(this,O)}};function rE(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,sE(d),jd(d)}function sE(d){d.A||(d.A=!0,De(d,"complete"),De(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,De(this,"complete"),De(this,"abort"),jd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jd(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iE(this):this.bb())},t.bb=function(){iE(this)};function iE(d){if(d.h&&typeof A<"u"&&(!d.v[1]||vs(d)!=4||d.Z()!=2)){if(d.u&&vs(d)==4)Fd(d.Ea,0,d);else if(De(d,"readystatechange"),vs(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var U;if(U=Z===0){var P=String(d.D).match(qC)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),U=!gP.test(P?P.toLowerCase():"")}x=U}if(x)De(d,"complete"),De(d,"success");else{d.m=6;try{var O=2<vs(d)?d.g.statusText:""}catch{O=""}d.l=O+" ["+d.Z()+"]",sE(d)}}finally{jd(d)}}}}function jd(d,g){if(d.g){AE(d);const x=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||De(d,"ready");try{x.onreadystatechange=U}catch{}}}function AE(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function vs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),qD(g)}};function aE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function yP(d){const g={};d=(d.g&&2<=vs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(w(d[U]))continue;var x=R(d[U]);const P=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const O=g[P]||[];g[P]=O,O.push(x)}T(g,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nl(d,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||g}function oE(d){this.Aa=0,this.i=[],this.j=new bl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nl("baseRetryDelayMs",5e3,d),this.cb=Nl("retryDelaySeedMs",1e4,d),this.Wa=Nl("forwardChannelMaxRetries",2,d),this.wa=Nl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new HC(d&&d.concurrentRequestLimit),this.Da=new fP,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oE.prototype,t.la=8,t.G=1,t.connect=function(d,g,x,U){En(0),this.W=d,this.H=g||{},x&&U!==void 0&&(this.H.OSID=x,this.H.OAID=U),this.F=this.X,this.I=mE(this,null,this.W),Hd(this)};function Um(d){if(lE(d),d.G==3){var g=d.U++,x=ys(d.I);if(rt(x,"SID",d.K),rt(x,"RID",g),rt(x,"TYPE","terminate"),kl(d,x),g=new ai(d,d.j,g),g.L=2,g.v=Ld(ys(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=g.v,x=!0),x||(g.g=yE(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Rd(g)}gE(d)}function Vd(d){d.g&&(Sm(d),d.g.cancel(),d.g=null)}function lE(d){Vd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Kd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Hd(d){if(!KC(d.h)&&!d.s){d.s=!0;var g=d.Ga;q||J(),M||(q(),M=!0),K.add(g,d),d.B=0}}function vP(d,g){return zC(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=_l(f(d.Ga,d,g),pE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const P=new ai(this,this.j,d);let O=this.o;if(this.S&&(O?(O=E(O),_(O,this.S)):O=this.S),this.m!==null||this.O||(P.H=O,O=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var U=this.i[x];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(g+=U,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=uE(this,P,g),x=ys(this.I),rt(x,"RID",d),rt(x,"CVER",22),this.D&&rt(x,"X-HTTP-Session-Id",this.D),kl(this,x),O&&(this.O?g="headers="+encodeURIComponent(String(nE(O)))+"&"+g:this.m&&Im(x,this.m,O)),Tm(this.h,P),this.Ua&&rt(x,"TYPE","init"),this.P?(rt(x,"$req",g),rt(x,"SID","null"),P.T=!0,Cm(P,x,null)):Cm(P,x,g),this.G=2}}else this.G==3&&(d?cE(this,d):this.i.length==0||KC(this.h)||cE(this))};function cE(d,g){var x;g?x=g.l:x=d.U++;const U=ys(d.I);rt(U,"SID",d.K),rt(U,"RID",x),rt(U,"AID",d.T),kl(d,U),d.m&&d.o&&Im(U,d.m,d.o),x=new ai(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),g&&(d.i=g.D.concat(d.i)),g=uE(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Tm(d.h,x),Cm(x,U,g)}function kl(d,g){d.H&&k(d.H,function(x,U){rt(g,U,x)}),d.l&&WC({},function(x,U){rt(g,U,x)})}function uE(d,g,x){x=Math.min(d.i.length,x);var U=d.l?f(d.l.Na,d.l,d):null;e:{var P=d.i;let O=-1;for(;;){const Z=["count="+x];O==-1?0<x?(O=P[0].g,Z.push("ofs="+O)):O=0:Z.push("ofs="+O);let Ze=!0;for(let $t=0;$t<x;$t++){let je=P[$t].g;const ln=P[$t].map;if(je-=O,0>je)O=Math.max(0,P[$t].g-100),Ze=!1;else try{pP(ln,Z,"req"+je+"_")}catch{U&&U(ln)}}if(Ze){U=Z.join("&");break e}}}return d=d.i.splice(0,x),g.D=d,U}function dE(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;q||J(),M||(q(),M=!0),K.add(g,d),d.v=0}}function Fm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=_l(f(d.Fa,d),pE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,hE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=_l(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,En(10),Vd(this),hE(this))};function Sm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function hE(d){d.g=new ai(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=ys(d.qa);rt(g,"RID","rpc"),rt(g,"SID",d.K),rt(g,"AID",d.T),rt(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(g,"TO",d.ja),rt(g,"TYPE","xmlhttp"),kl(d,g),d.m&&d.o&&Im(g,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Ld(ys(g)),x.m=null,x.P=!0,OC(x,d)}t.Za=function(){this.C!=null&&(this.C=null,Vd(this),Fm(this),En(19))};function Kd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function fE(d,g){var x=null;if(d.g==g){Kd(d),Sm(d),d.g=null;var U=2}else if(bm(d.h,g))x=g.D,GC(d.h,g),U=1;else return;if(d.G!=0){if(g.o)if(U==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var P=d.B;U=Qd(),De(U,new DC(U,x)),Hd(d)}else dE(d);else if(P=g.s,P==3||P==0&&0<g.X||!(U==1&&vP(d,g)||U==2&&Fm(d)))switch(x&&0<x.length&&(g=d.h,g.i=g.i.concat(x)),P){case 1:TA(d,5);break;case 4:TA(d,10);break;case 3:TA(d,6);break;default:TA(d,2)}}}function pE(d,g){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*g}function TA(d,g){if(d.j.info("Error code "+g),g==2){var x=f(d.fb,d),U=d.Xa;const P=!U;U=new bA(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Dd(U,"https"),Ld(U),P?dP(U.toString(),x):hP(U.toString(),x)}else En(2);d.G=0,d.l&&d.l.sa(g),gE(d),lE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function gE(d){if(d.G=0,d.ka=[],d.l){const g=$C(d.h);(g.length!=0||d.i.length!=0)&&(C(d.ka,g),C(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function mE(d,g,x){var U=x instanceof bA?ys(x):new bA(x);if(U.g!="")g&&(U.g=g+"."+U.g),Pd(U,U.s);else{var P=a.location;U=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var O=new bA(null);U&&Dd(O,U),g&&(O.g=g),P&&Pd(O,P),x&&(O.l=x),U=O}return x=d.D,g=d.ya,x&&g&&rt(U,x,g),rt(U,"VER",d.la),kl(d,U),U}function yE(d,g,x){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new vt(new Md({eb:x})):new vt(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vE(){}t=vE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zd(){}zd.prototype.g=function(d,g){return new qn(d,g)};function qn(d,g){Ne.call(this),this.g=new oE(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!w(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Fa(this)}m(qn,Ne),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Um(this.g)},qn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Ta(d),d=x);g.i.push(new nP(g.Ya++,d)),g.G==3&&Hd(g)},qn.prototype.N=function(){this.g.l=null,delete this.j,Um(this.g),delete this.g,qn.aa.N.call(this)};function wE(d){vm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const x in g){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}m(wE,vm);function BE(){wm.call(this),this.status=1}m(BE,wm);function Fa(d){this.g=d}m(Fa,vE),Fa.prototype.ua=function(){De(this.g,"a")},Fa.prototype.ta=function(d){De(this.g,new wE(d))},Fa.prototype.sa=function(d){De(this.g,new BE)},Fa.prototype.ra=function(){De(this.g,"b")},zd.prototype.createWebChannel=zd.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,SQ=function(){return new zd},FQ=function(){return Qd()},UQ=EA,dv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nd.NO_ERROR=0,Nd.TIMEOUT=8,Nd.HTTP_ERROR=6,lf=Nd,PC.COMPLETE="complete",IQ=PC,QC.EventType=Cl,Cl.OPEN="a",Cl.CLOSE="b",Cl.ERROR="c",Cl.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,ac=QC,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,TQ=vt}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const g1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new TB("@firebase/firestore");function Hl(){return aa.logLevel}function ue(t,...e){if(aa.logLevel<=ke.DEBUG){const n=e.map(LB);aa.debug(`Firestore (${ul}): ${t}`,...n)}}function $s(t,...e){if(aa.logLevel<=ke.ERROR){const n=e.map(LB);aa.error(`Firestore (${ul}): ${t}`,...n)}}function jo(t,...e){if(aa.logLevel<=ke.WARN){const n=e.map(LB);aa.warn(`Firestore (${ul}): ${t}`,...n)}}function LB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: `+t;throw $s(e),new Error(e)}function Oe(t,e){t||we()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class GH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $H{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let r=this.i;const s=o=>this.i!==r?(r=this.i,n(o)):Promise.resolve();let i=new As;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new As,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const o=i;e.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},a=o=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new As)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string"),new QQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new gn(e)}}class WH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const r=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new XH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=JH(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ot(0,0))}static max(){return new xe(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),A=n.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class et extends vu{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new et(n)}static emptyPath(){return new et([])}}const ZH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends vu{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return ZH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(r+=a,s++):(i(),s++)}if(i(),A)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}function e3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Zi(s,ge.empty(),e)}function t3(t){return new Zi(t.readTime,t.key,-1)}class Zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zi(xe.min(),ge.empty(),-1)}static max(){return new Zi(xe.max(),ge.empty(),-1)}}function n3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==r3)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&n()},o=>r(o))}),A=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,A=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;n(e[l]).next(u=>{A[l]=u,++a,a===i&&r(A)},u=>s(u))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function i3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function od(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}MB.oe=-1;function ld(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function A3(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=i??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Yt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y1(this.data.getIterator())}getIteratorFrom(e){return new y1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class y1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new nn(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RQ("Invalid base64 string: "+i):i}}(e);return new An(n)}static fromUint8Array(e){const n=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const a3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eA(t){if(Oe(!!t),typeof t=="string"){let e=0;const n=a3.exec(t);if(Oe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oa(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jB(t){const e=t.mapValue.fields.__previous_value__;return OB(e)?jB(e):e}function wu(t){const e=eA(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n,r,s,i,A,a,o,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Bu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OB(t)?4:c3(t)?9007199254740991:l3(t)?10:11:we()}function us(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wu(t).isEqual(wu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=eA(s.timestampValue),a=eA(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return oa(s.bytesValue).isEqual(oa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return bt(s.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(s.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return bt(s.integerValue)===bt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=bt(s.doubleValue),a=bt(i.doubleValue);return A===a?sp(A)===sp(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if(m1(A)!==m1(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!us(A[o],a[o])))return!1;return!0}(t,e);default:return we()}}function xu(t,e){return(t.values||[]).find(n=>us(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=la(t),r=la(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=bt(i.integerValue||i.doubleValue),o=bt(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return v1(t.timestampValue,e.timestampValue);case 4:return v1(wu(t),wu(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(i,A){const a=oa(i),o=oa(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),o=A.split("/");for(let l=0;l<a.length&&l<o.length;l++){const u=Ve(a[l],o[l]);if(u!==0)return u}return Ve(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=Ve(bt(i.latitude),bt(A.latitude));return a!==0?a:Ve(bt(i.longitude),bt(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w1(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,o,l,u;const h=i.fields||{},f=A.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=Ve(((l=p==null?void 0:p.values)===null||l===void 0?void 0:l.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:w1(p,m)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===hh.mapValue&&A===hh.mapValue)return 0;if(i===hh.mapValue)return 1;if(A===hh.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),l=A.fields||{},u=Object.keys(l);o.sort(),u.sort();for(let h=0;h<o.length&&h<u.length;++h){const f=Ve(o[h],u[h]);if(f!==0)return f;const p=Ho(a[o[h]],l[u[h]]);if(p!==0)return p}return Ve(o.length,u.length)}(t.mapValue,e.mapValue);default:throw we()}}function v1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=eA(t),r=eA(e),s=Ve(n.seconds,r.seconds);return s!==0?s:Ve(n.nanos,r.nanos)}function w1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ho(n[s],r[s]);if(i)return i}return Ve(n.length,r.length)}function Ko(t){return hv(t)}function hv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=eA(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const A of r)i?i=!1:s+=",",s+=`${A}:${hv(n.fields[A])}`;return s+"}"}(t.mapValue):we()}function B1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fv(t){return!!t&&"integerValue"in t}function VB(t){return!!t&&"arrayValue"in t}function x1(t){return!!t&&"nullValue"in t}function C1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function l3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function c3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(n)}setAll(e){let n=Jt.emptyPath(),r={},s=[];e.forEach((A,a)=>{if(!n.isImmediateParentOf(a)){const o=this.getFieldsMap(n);this.applyChanges(o,r,s),r={},s=[],n=a.popLast()}A?r[a.lastSegment()]=kc(A):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];cf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){va(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Un(kc(this.value))}}function DQ(t){const e=[];return va(t.fields,(n,r)=>{const s=new Jt([n]);if(cf(r)){const i=DQ(r.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,r,s,i,A,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new zt(e,0,xe.min(),xe.min(),xe.min(),Un.empty(),0)}static newFoundDocument(e,n,r,s){return new zt(e,1,n,xe.min(),r,s,0)}static newNoDocument(e,n){return new zt(e,2,n,xe.min(),xe.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,xe.min(),xe.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.position=e,this.inclusive=n}}function E1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?r=ge.comparator(ge.fromName(A.referenceValue),n.key):r=Ho(A,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function u3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PQ=class{};class Rt extends PQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new h3(e,n,r):n==="array-contains"?new g3(e,r):n==="in"?new m3(e,r):n==="not-in"?new y3(e,r):n==="array-contains-any"?new v3(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new f3(e,r):new p3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ho(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends PQ{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jr(e,n)}matches(e){return LQ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LQ(t){return t.op==="and"}function MQ(t){return d3(t)&&LQ(t)}function d3(t){for(const e of t.filters)if(e instanceof jr)return!1;return!0}function pv(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(MQ(t))return t.filters.map(e=>pv(e)).join(",");{const e=t.filters.map(n=>pv(n)).join(",");return`${t.op}(${e})`}}function OQ(t,e){return t instanceof Rt?function(r,s){return s instanceof Rt&&r.op===s.op&&r.field.isEqual(s.field)&&us(r.value,s.value)}(t,e):t instanceof jr?function(r,s){return s instanceof jr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,A,a)=>i&&OQ(A,s.filters[a]),!0):!1}(t,e):void we()}function jQ(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof jr?function(n){return n.op.toString()+" {"+n.getFilters().map(jQ).join(" ,")+"}"}(t):"Filter"}class h3 extends Rt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class f3 extends Rt{constructor(e,n){super(e,"in",n),this.keys=VQ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p3 extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=VQ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VQ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class g3 extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return VB(n)&&xu(n.arrayValue,this.value)}}class m3 extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xu(this.value.arrayValue,n)}}class y3 extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xu(this.value.arrayValue,n)}}class v3 extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!VB(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n=null,r=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function b1(t,e=null,n=[],r=[],s=null,i=null,A=null){return new w3(t,e,n,r,s,i,A)}function HB(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.ue=n}return e.ue}function KB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OQ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_1(t.startAt,e.startAt)&&_1(t.endAt,e.endAt)}function gv(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n=null,r=[],s=[],i=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function B3(t,e,n,r,s,i,A,a){return new dl(t,e,n,r,s,i,A,a)}function Ig(t){return new dl(t)}function T1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HQ(t){return t.collectionGroup!==null}function Rc(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new nn(Jt.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Cu(i,r))}),n.has(Jt.keyField().canonicalString())||e.ce.push(new Cu(Jt.keyField(),r))}return e.ce}function as(t){const e=_e(t);return e.le||(e.le=x3(e,Rc(t))),e.le}function x3(t,e){if(t.limitType==="F")return b1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cu(s.field,i)});const n=t.endAt?new ip(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ip(t.startAt.position,t.startAt.inclusive):null;return b1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mv(t,e){const n=t.filters.concat([e]);return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yv(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ug(t,e){return KB(as(t),as(e))&&t.limitType===e.limitType}function KQ(t){return`${HB(as(t))}|lt:${t.limitType}`}function Va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jQ(s)).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ko(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ko(s)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function Fg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ge.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Rc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(A,a,o){const l=E1(A,a,o);return A.inclusive?l<=0:l<0}(r.startAt,Rc(r),s)||r.endAt&&!function(A,a,o){const l=E1(A,a,o);return A.inclusive?l>=0:l>0}(r.endAt,Rc(r),s))}(t,e)}function C3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zQ(t){return(e,n)=>{let r=!1;for(const s of Rc(t)){const i=E3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function E3(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(i,A,a){const o=A.data.field(i),l=a.data.field(i);return o!==null&&l!==null?Ho(o,l):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new mt(ge.comparator);function Ws(){return _3}const GQ=new mt(ge.comparator);function oc(...t){let e=GQ;for(const n of t)e=e.insert(n.key,n);return e}function $Q(t){let e=GQ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jA(){return Dc()}function WQ(){return Dc()}function Dc(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const b3=new mt(ge.comparator),T3=new nn(ge.comparator);function Qe(...t){let e=T3;for(const n of t)e=e.add(n);return e}const I3=new nn(Ve);function U3(){return I3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function qQ(t){return{integerValue:""+t}}function F3(t,e){return A3(e)?qQ(e):zB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this._=void 0}}function S3(t,e,n){return t instanceof Eu?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&OB(i)&&(i=jB(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(n,e):t instanceof _u?YQ(t,e):t instanceof bu?JQ(t,e):function(s,i){const A=XQ(s,i),a=I1(A)+I1(s.Pe);return fv(A)&&fv(s.Pe)?qQ(a):zB(s.serializer,a)}(t,e)}function Q3(t,e,n){return t instanceof _u?YQ(t,e):t instanceof bu?JQ(t,e):n}function XQ(t,e){return t instanceof Ap?function(r){return fv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Eu extends Sg{}class _u extends Sg{constructor(e){super(),this.elements=e}}function YQ(t,e){const n=ZQ(e);for(const r of t.elements)n.some(s=>us(s,r))||n.push(r);return{arrayValue:{values:n}}}class bu extends Sg{constructor(e){super(),this.elements=e}}function JQ(t,e){let n=ZQ(e);for(const r of t.elements)n=n.filter(s=>!us(s,r));return{arrayValue:{values:n}}}class Ap extends Sg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function I1(t){return bt(t.integerValue||t.doubleValue)}function ZQ(t){return VB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.field=e,this.transform=n}}function k3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _u&&s instanceof _u||r instanceof bu&&s instanceof bu?Vo(r.elements,s.elements,us):r instanceof Ap&&s instanceof Ap?us(r.Pe,s.Pe):r instanceof Eu&&s instanceof Eu}(t.transform,e.transform)}class R3{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qg{}function e2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ng(t.key,Zt.none()):new cd(t.key,t.data,Zt.none());{const n=t.data,r=Un.empty();let s=new nn(Jt.comparator);for(let i of e.fields)if(!s.has(i)){let A=n.field(i);A===null&&i.length>1&&(i=i.popLast(),A=n.field(i)),A===null?r.delete(i):r.set(i,A),s=s.add(i)}return new yA(t.key,r,new Zn(s.toArray()),Zt.none())}}function D3(t,e,n){t instanceof cd?function(s,i,A){const a=s.value.clone(),o=F1(s.fieldTransforms,i,A.transformResults);a.setAll(o),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yA?function(s,i,A){if(!uf(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=F1(s.fieldTransforms,i,A.transformResults),o=i.data;o.setAll(t2(s)),o.setAll(a),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,n):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,n)}function Pc(t,e,n,r){return t instanceof cd?function(i,A,a,o){if(!uf(i.precondition,A))return a;const l=i.value.clone(),u=S1(i.fieldTransforms,o,A);return l.setAll(u),A.convertToFoundDocument(A.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof yA?function(i,A,a,o){if(!uf(i.precondition,A))return a;const l=S1(i.fieldTransforms,o,A),u=A.data;return u.setAll(t2(i)),u.setAll(l),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,A,a){return uf(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,n)}function P3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=XQ(r.transform,s||null);i!=null&&(n===null&&(n=Un.empty()),n.set(r.field,i))}return n||null}function U1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Vo(r,s,(i,A)=>k3(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cd extends Qg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yA extends Qg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function t2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function F1(t,e,n){const r=new Map;Oe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);r.set(i.field,Q3(A,a,n[s]))}return r}function S1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,A=n.data.field(s.field);r.set(s.field,S3(i,A,e))}return r}class Ng extends Qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n2 extends Qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&D3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WQ();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=n.has(s.key)?null:a;const o=e2(A,a);o!==null&&r.set(s.key,o),A.isValidDocument()||A.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,r)=>U1(n,r))&&Vo(this.baseMutations,e.baseMutations,(n,r)=>U1(n,r))}}class GB{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length);let s=function(){return b3}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,r[A].version);return new GB(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Pe;function r2(t){switch(t){default:return we();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function s2(t){if(t===void 0)return $s("GRPC error has no .code"),H.UNKNOWN;switch(t){case Ft.OK:return H.OK;case Ft.CANCELLED:return H.CANCELLED;case Ft.UNKNOWN:return H.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return H.INTERNAL;case Ft.UNAVAILABLE:return H.UNAVAILABLE;case Ft.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Ft.NOT_FOUND:return H.NOT_FOUND;case Ft.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Ft.ABORTED:return H.ABORTED;case Ft.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Ft.DATA_LOSS:return H.DATA_LOSS;default:return we()}}(Pe=Ft||(Ft={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new $A([4294967295,4294967295],0);function Q1(t){const e=j3().encode(t),n=new bQ;return n.update(e),new Uint8Array(n.digest())}function N1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $A([n,r],0),new $A([s,i],0)]}class $B{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$A.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply($A.fromNumber(r)));return s.compare(V3)===1&&(s=new $A([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Q1(e),[r,s]=N1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);if(!this.de(A))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new $B(i,s,n);return r.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const n=Q1(e),[r,s]=N1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);this.Ae(A)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kg(xe.min(),s,new mt(Ve),Ws(),Qe())}}class ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ud(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class i2{constructor(e,n){this.targetId=e,this.me=n}}class A2{constructor(e,n,r=An.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class k1{constructor(){this.fe=0,this.ge=D1(),this.pe=An.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:we()}}),new ud(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=D1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class H3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ws(),this.qe=R1(),this.Qe=new mt(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(gv(i))if(r===0){const A=new ge(i.path);this.Ue(n,A,zt.newNoDocument(A,xe.min()))}else Oe(r===1);else{const A=this.Ye(n);if(A!==r){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(n);const l=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let A,a;try{A=oa(r).toUint8Array()}catch(o){if(o instanceof RQ)return jo("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new $B(A,s,i)}catch(o){return jo(o instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&gv(a.target)){const o=new ge(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,zt.newNoDocument(o,e))}i.be&&(n.set(A,i.ve()),i.Ce())}});let r=Qe();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(o=>{const l=this.Je(o);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new kg(e,n,this.Qe,this.ke,r);return this.ke=Ws(),this.qe=R1(),this.Qe=new mt(Ve),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new k1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nn(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function R1(){return new mt(ge.comparator)}function D1(){return new mt(ge.comparator)}const K3={asc:"ASCENDING",desc:"DESCENDING"},z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G3={and:"AND",or:"OR"};class $3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vv(t,e){return t.useProto3Json||ld(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function W3(t,e){return ap(t,e.toTimestamp())}function nr(t){return Oe(!!t),xe.fromTimestamp(function(n){const r=eA(n);return new Ot(r.seconds,r.nanos)}(t))}function WB(t,e){return wv(t,e).canonicalString()}function wv(t,e){const n=function(s){return new et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function o2(t){const e=et.fromString(t);return Oe(f2(e)),e}function op(t,e){return WB(t.databaseId,e.path)}function Lc(t,e){const n=o2(e);if(n.get(1)!==t.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(c2(n))}function l2(t,e){return WB(t.databaseId,e)}function q3(t){const e=o2(t);return e.length===4?et.emptyPath():c2(e)}function Bv(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c2(t){return Oe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P1(t,e,n){return{name:op(t,e),fields:n.value.mapValue.fields}}function X3(t,e){return"found"in e?function(r,s){Oe(!!s.found),s.found.name,s.found.updateTime;const i=Lc(r,s.found.name),A=nr(s.found.updateTime),a=s.found.createTime?nr(s.found.createTime):xe.min(),o=new Un({mapValue:{fields:s.found.fields}});return zt.newFoundDocument(i,A,a,o)}(t,e):"missing"in e?function(r,s){Oe(!!s.missing),Oe(!!s.readTime);const i=Lc(r,s.missing),A=nr(s.readTime);return zt.newNoDocument(i,A)}(t,e):we()}function Y3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Oe(u===void 0||typeof u=="string"),An.fromBase64String(u||"")):(Oe(u===void 0||u instanceof Buffer||u instanceof Uint8Array),An.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(l){const u=l.code===void 0?H.UNKNOWN:s2(l.code);return new se(u,l.message||"")}(A);n=new A2(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lc(t,r.document.name),i=nr(r.document.updateTime),A=r.document.createTime?nr(r.document.createTime):xe.min(),a=new Un({mapValue:{fields:r.document.fields}}),o=zt.newFoundDocument(s,i,A,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new df(l,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lc(t,r.document),i=r.readTime?nr(r.readTime):xe.min(),A=zt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new df([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lc(t,r.document),i=r.removedTargetIds||[];n=new df([],i,s,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,A=new O3(s,i),a=r.targetId;n=new i2(a,A)}}return n}function u2(t,e){let n;if(e instanceof cd)n={update:P1(t,e.key,e.value)};else if(e instanceof Ng)n={delete:op(t,e.key)};else if(e instanceof yA)n={update:P1(t,e.key,e.data),updateMask:AK(e.fieldMask)};else{if(!(e instanceof n2))return we();n={verify:op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,A){const a=A.transform;if(a instanceof Eu)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _u)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bu)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ap)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:W3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:we()}(t,e.precondition)),n}function J3(t,e){return t&&t.length>0?(Oe(e!==void 0),t.map(n=>function(s,i){let A=s.updateTime?nr(s.updateTime):nr(i);return A.isEqual(xe.min())&&(A=nr(i)),new R3(A,s.transformResults||[])}(n,e))):[]}function Z3(t,e){return{documents:[l2(t,e.path)]}}function eK(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=l2(t,s);const i=function(l){if(l.length!==0)return h2(jr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const A=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Ha(f.field),direction:rK(f.dir)}}(u))}(e.orderBy);A&&(n.structuredQuery.orderBy=A);const a=vv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:s}}function tK(t){let e=q3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=d2(h);return f instanceof jr&&MQ(f)?f.getFilters():[f]}(n.where));let A=[];n.orderBy&&(A=function(h){return h.map(f=>function(m){return new Cu(Ka(m.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ld(f)?null:f}(n.limit));let o=null;n.startAt&&(o=function(h){const f=!!h.before,p=h.values||[];return new ip(p,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,p=h.values||[];return new ip(p,f)}(n.endAt)),B3(e,s,A,i,a,"F",o,l)}function nK(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ka(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ka(n.unaryFilter.field);return Rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ka(n.unaryFilter.field);return Rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Ka(n.unaryFilter.field);return Rt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(Ka(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jr.create(n.compositeFilter.filters.map(r=>d2(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function rK(t){return K3[t]}function sK(t){return z3[t]}function iK(t){return G3[t]}function Ha(t){return{fieldPath:t.canonicalString()}}function Ka(t){return Jt.fromServerFormat(t.fieldPath)}function h2(t){return t instanceof Rt?function(n){if(n.op==="=="){if(C1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(x1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(x1(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:sK(n.op),value:n.value}}}(t):t instanceof jr?function(n){const r=n.getFilters().map(s=>h2(s));return r.length===1?r[0]:{compositeFilter:{op:iK(n.op),filters:r}}}(t):we()}function AK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,s,i=xe.min(),A=xe.min(),a=An.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.ct=e}}function oK(t){const e=tK({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.un=new cK}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Zi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class cK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nn(et.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nn(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zo(0)}static kn(){return new zo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Pc(r.mutation,s,Zn.empty(),Ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const s=jA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let A=oc();return i.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,n){const r=jA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{n.set(A,a)})})}computeViews(e,n,r,s){let i=Ws();const A=Dc(),a=function(){return Dc()}();return n.forEach((o,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof yA)?i=i.insert(l.key,l):u!==void 0?(A.set(l.key,u.mutation.getFieldMask()),Pc(u.mutation,l,u.mutation.getFieldMask(),Ot.now())):A.set(l.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(o=>(o.forEach((l,u)=>A.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new dK(u,(h=A.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dc();let s=new mt((A,a)=>A-a),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(A=>{for(const a of A)a.keys().forEach(o=>{const l=n.get(o);if(l===null)return;let u=r.get(o)||Zn.empty();u=a.applyToLocalView(l,u),r.set(o,u);const h=(s.get(a.batchId)||Qe()).add(o);s=s.insert(a.batchId,h)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),l=o.key,u=o.value,h=WQ();u.forEach(f=>{if(!i.has(f)){const p=e2(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),A.push(this.documentOverlayCache.saveOverlays(e,l,h))}return z.waitFor(A)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(A){return ge.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(jA());let a=-1,o=i;return A.next(l=>z.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{o=o.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,o,l,Qe())).next(u=>({batchId:a,changes:$Q(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let s=oc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let A=oc();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,o=>{const l=function(h,f){return new dl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,f)=>{A=A.insert(h,f)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(A=>{i.forEach((o,l)=>{const u=l.getKey();A.get(u)===null&&(A=A.insert(u,zt.newInvalidDocument(u)))});let a=oc();return A.forEach((o,l)=>{const u=i.get(o);u!==void 0&&Pc(u.mutation,l,Zn.empty(),Ot.now()),Fg(n,l)&&(a=a.insert(o,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:oK(s.bundledQuery),readTime:nr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(){this.overlays=new mt(ge.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jA();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=jA(),i=n.length+1,A=new ge(n.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,l=o.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&o.largestBatchId>r&&s.set(o.getKey(),o)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((l,u)=>l-u);const A=this.overlays.getIterator();for(;A.hasNext();){const l=A.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=jA(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=jA(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new M3(n,r));let i=this.Ir.get(n);i===void 0&&(i=Qe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.Tr=new nn(Ht.Er),this.dr=new nn(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new et([])),r=new Ht(n,e),s=new Ht(n,e+1),i=[];return this.dr.forEachInRange([r,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new et([])),r=new Ht(n,e),s=new Ht(n,e+1);let i=Qe();return this.dr.forEachInRange([r,s],A=>{i=i.add(A.key)}),i}containsKey(e){const n=new Ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nn(Ht.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new L3(i,n,r,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new Ht(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(A)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),s=new Ht(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],A=>{const a=this.Dr(A.wr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(Ve);return n.forEach(s=>{const i=new Ht(s,0),A=new Ht(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ge.isDocumentKey(i)||(i=i.child(""));const A=new Ht(new ge(i),0);let a=new nn(Ve);return this.br.forEachWhile(o=>{const l=o.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(o.wr)),!0)},A),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new Ht(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ht(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e){this.Mr=e,this.docs=function(){return new mt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,A=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Ws();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():zt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ws();const A=n.path,a=new ge(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:l,value:{document:u}}=o.getNext();if(!A.isPrefixOf(l.path))break;l.path.length>A.length+1||n3(t3(u),r)<=0||(s.has(u.key)||Fg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){we()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vK(this)}getSize(e){return z.resolve(this.size)}}class vK extends uK{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wK{constructor(e){this.persistence=e,this.Nr=new hl(n=>HB(n),KB),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new qB,this.targetCount=0,this.kr=zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,n){this.qr={},this.overlays={},this.Qr=new MB(0),this.Kr=!1,this.Kr=!0,this.$r=new gK,this.referenceDelegate=e(this),this.Ur=new wK(this),this.indexManager=new lK,this.remoteDocumentCache=function(s){return new yK(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new aK(n),this.Gr=new fK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new mK(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new xK(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class xK extends s3{constructor(e){super(),this.currentSequenceNumber=e}}class XB{constructor(e){this.persistence=e,this.Jr=new qB,this.Yr=null}static Zr(e){return new XB(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=ge.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Qe(),s=Qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new YB(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return oO()?8:i3(xn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new CK;return this.Xi(e,n,A).next(a=>{if(i.result=a,this.zi)return this.es(e,n,A,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Hl()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Hl()<=ke.DEBUG&&ue("QueryEngine","Query:",Va(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Hl()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(n))):z.resolve())}Yi(e,n){if(T1(n))return z.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yv(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const A=Qe(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,r).next(o=>{const l=this.ts(n,a);return this.ns(n,l,A,o.readTime)?this.Yi(e,yv(n,null,"F")):this.rs(e,l,n,o)}))})))}Zi(e,n,r,s){return T1(n)||s.isEqual(xe.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const A=this.ts(n,i);return this.ns(n,A,r,s)?z.resolve(null):(Hl()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Va(n)),this.rs(e,A,n,e3(s,-1)).next(a=>a))})}ts(e,n){let r=new nn(zQ(e));return n.forEach((s,i)=>{Fg(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Hl()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Va(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new mt(Ve),this._s=new hl(i=>HB(i),KB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function bK(t,e,n,r){return new _K(t,e,n,r)}async function p2(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const A=[],a=[];let o=Qe();for(const l of s){A.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(l=>({hs:l,removedBatchIds:A,addedBatchIds:a}))})})}function TK(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,l,u){const h=l.batch,f=h.keys();let p=z.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(o,m)).next(y=>{const C=l.docVersions.get(m);Oe(C!==null),y.version.compareTo(C)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(o,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function g2(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function IK(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(An.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(y,C,B){return y.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(f,p,u)&&a.push(n.Ur.updateTargetData(i,p))});let o=Ws(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(UK(i,A,e.documentUpdates).next(u=>{o=u.Ps,l=u.Is})),!r.isEqual(xe.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>A.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,o,l)).next(()=>o)}).then(i=>(n.os=s,i))}function UK(t,e,n){let r=Qe(),s=Qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let A=Ws();return n.forEach((a,o)=>{const l=i.get(a);o.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),o.isNoDocument()&&o.version.isEqual(xe.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||o.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",o.version)}),{Ps:A,Is:s}})}function FK(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SK(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(A=>(s=new Fi(e,A,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function xv(t,e,n){const r=_e(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,A=>r.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!od(A))throw A;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function L1(t,e,n){const r=_e(t);let s=xe.min(),i=Qe();return r.persistence.runTransaction("Execute query","readwrite",A=>function(o,l,u){const h=_e(o),f=h._s.get(u);return f!==void 0?z.resolve(h.os.get(f)):h.Ur.getTargetData(l,u)}(r,A,as(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{i=o})}).next(()=>r.ss.getDocumentsMatchingQuery(A,e,n?s:xe.min(),n?i:Qe())).next(a=>(QK(r,C3(e),a),{documents:a,Ts:i})))}function QK(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class M1{constructor(){this.activeTargetIds=U3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NK{constructor(){this.so=new M1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new M1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=null;function hy(){return fh===null?fh=function(){return 268435456+Math.round(2147483648*Math.random())}():fh++,"0x"+fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class PK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,A){const a=hy(),o=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,o,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,A),this.No(n,o,l,s).then(u=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw jo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",o,"request:",s),u})}Lo(n,r,s,i,A,a){return this.Mo(n,r,s,i,A)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ul}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,A)=>n[A]=i),s&&s.headers.forEach((i,A)=>n[A]=i)}xo(n,r){const s=RK[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=hy();return new Promise((A,a)=>{const o=new TQ;o.setWithCredentials(!0),o.listenOnce(IQ.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case lf.NO_ERROR:const u=o.getResponseJson();ue(hn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),A(u);break;case lf.TIMEOUT:ue(hn,`RPC '${e}' ${i} timed out`),a(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const h=o.getStatus();if(ue(hn,`RPC '${e}' ${i} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(C){const B=C.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(B)>=0?B:H.UNKNOWN}(p.status);a(new se(m,p.message))}else a(new se(H.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new se(H.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(hn,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);ue(hn,`RPC '${e}' ${i} sending request:`,s),o.send(n,"POST",l,r,15)})}Bo(e,n,r){const s=hy(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=SQ(),a=FQ(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=i.join("");ue(hn,`Creating RPC '${e}' stream ${s}: ${u}`,o);const h=A.createWebChannel(u,o);let f=!1,p=!1;const m=new DK({Io:C=>{p?ue(hn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||(ue(hn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),ue(hn,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},To:()=>h.close()}),y=(C,B,w)=>{C.listen(B,v=>{try{w(v)}catch(I){setTimeout(()=>{throw I},0)}})};return y(h,ac.EventType.OPEN,()=>{p||(ue(hn,`RPC '${e}' stream ${s} transport opened.`),m.yo())}),y(h,ac.EventType.CLOSE,()=>{p||(p=!0,ue(hn,`RPC '${e}' stream ${s} transport closed`),m.So())}),y(h,ac.EventType.ERROR,C=>{p||(p=!0,jo(hn,`RPC '${e}' stream ${s} transport errored:`,C),m.So(new se(H.UNAVAILABLE,"The operation could not be completed")))}),y(h,ac.EventType.MESSAGE,C=>{var B;if(!p){const w=C.data[0];Oe(!!w);const v=w,I=v.error||((B=v[0])===null||B===void 0?void 0:B.error);if(I){ue(hn,`RPC '${e}' stream ${s} received error:`,I);const Q=I.status;let k=function(b){const _=Ft[b];if(_!==void 0)return s2(_)}(Q),T=I.message;k===void 0&&(k=H.INTERNAL,T="Unknown error status: "+Q+" with message "+I.message),p=!0,m.So(new se(k,T)),h.close()}else ue(hn,`RPC '${e}' stream ${s} received:`,w),m.bo(w)}}),y(a,UQ.STAT_EVENT,C=>{C.stat===dv.PROXY?ue(hn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===dv.NOPROXY&&ue(hn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){return new $3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,s,i,A,a,o){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new JB(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new se(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LK extends m2{constructor(e,n,r,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Y3(this.serializer,e),r=function(i){if(!("targetChange"in i))return xe.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?xe.min():A.readTime?nr(A.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Bv(this.serializer),n.addTarget=function(i,A){let a;const o=A.target;if(a=gv(o)?{documents:Z3(i,o)}:{query:eK(i,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=a2(i,A.resumeToken);const l=vv(i,A.expectedCount);l!==null&&(a.expectedCount=l)}else if(A.snapshotVersion.compareTo(xe.min())>0){a.readTime=ap(i,A.snapshotVersion.toTimestamp());const l=vv(i,A.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=nK(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Bv(this.serializer),n.removeTarget=e,this.a_(n)}}class MK extends m2{constructor(e,n,r,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=J3(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Bv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>u2(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,wv(n,r),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(H.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,wv(n,r),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new se(H.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class jK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($s(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{r.enqueueAndForget(async()=>{wa(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=_e(o);l.L_.add(4),await dd(l),l.q_.set("Unknown"),l.L_.delete(4),await Dg(l)}(this))})}),this.q_=new jK(r,s)}}async function Dg(t){if(wa(t))for(const e of t.B_)await e(!0)}async function dd(t){for(const e of t.B_)await e(!1)}function y2(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),nx(n)?tx(n):fl(n).r_()&&ex(n,e))}function ZB(t,e){const n=_e(t),r=fl(n);n.N_.delete(e),r.r_()&&v2(n,e),n.N_.size===0&&(r.r_()?r.o_():wa(n)&&n.q_.set("Unknown"))}function ex(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(t).A_(e)}function v2(t,e){t.Q_.xe(e),fl(t).R_(e)}function tx(t){t.Q_=new H3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fl(t).start(),t.q_.v_()}function nx(t){return wa(t)&&!fl(t).n_()&&t.N_.size>0}function wa(t){return _e(t).L_.size===0}function w2(t){t.Q_=void 0}async function HK(t){t.q_.set("Online")}async function KK(t){t.N_.forEach((e,n)=>{ex(t,e)})}async function zK(t,e){w2(t),nx(t)?(t.q_.M_(e),tx(t)):t.q_.set("Unknown")}async function GK(t,e,n){if(t.q_.set("Online"),e instanceof A2&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(t,r)}else if(e instanceof df?t.Q_.Ke(e):e instanceof i2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await g2(t.localStore);n.compareTo(r)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const u=i.N_.get(l);u&&i.N_.set(l,u.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,l)=>{const u=i.N_.get(o);if(!u)return;i.N_.set(o,u.withResumeToken(An.EMPTY_BYTE_STRING,u.snapshotVersion)),v2(i,o);const h=new Fi(u.target,o,l,u.sequenceNumber);ex(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await lp(t,r)}}async function lp(t,e,n){if(!od(e))throw e;t.L_.add(1),await dd(t),t.q_.set("Offline"),n||(n=()=>g2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dg(t)})}function B2(t,e){return e().catch(n=>lp(t,n,e))}async function Pg(t){const e=_e(t),n=tA(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$K(e);)try{const s=await FK(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,WK(e,s)}catch(s){await lp(e,s)}x2(e)&&C2(e)}function $K(t){return wa(t)&&t.O_.length<10}function WK(t,e){t.O_.push(e);const n=tA(t);n.r_()&&n.V_&&n.m_(e.mutations)}function x2(t){return wa(t)&&!tA(t).n_()&&t.O_.length>0}function C2(t){tA(t).start()}async function qK(t){tA(t).p_()}async function XK(t){const e=tA(t);for(const n of t.O_)e.m_(n.mutations)}async function YK(t,e,n){const r=t.O_.shift(),s=GB.from(r,e,n);await B2(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Pg(t)}async function JK(t,e){e&&tA(t).V_&&await async function(r,s){if(function(A){return r2(A)&&A!==H.ABORTED}(s.code)){const i=r.O_.shift();tA(r).s_(),await B2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Pg(r)}}(t,e),x2(t)&&C2(t)}async function j1(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=wa(n);n.L_.add(3),await dd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dg(n)}async function ZK(t,e){const n=_e(t);e?(n.L_.delete(2),await Dg(n)):e||(n.L_.add(2),await dd(n),n.q_.set("Unknown"))}function fl(t){return t.K_||(t.K_=function(n,r,s){const i=_e(n);return i.w_(),new LK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:HK.bind(null,t),Ro:KK.bind(null,t),mo:zK.bind(null,t),d_:GK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),nx(t)?tx(t):t.q_.set("Unknown")):(await t.K_.stop(),w2(t))})),t.K_}function tA(t){return t.U_||(t.U_=function(n,r,s){const i=_e(n);return i.w_(),new MK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qK.bind(null,t),mo:JK.bind(null,t),f_:XK.bind(null,t),g_:YK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Pg(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const A=Date.now()+r,a=new rx(e,n,A,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sx(t,e){if($s("AsyncQueue",`${e}: ${t}`),od(t))return new se(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.W_=new mt(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Go{constructor(e,n,r,s,i,A,a,o,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const A=[];return n.forEach(a=>{A.push({type:0,doc:a})}),new Go(e,n,Io.emptySet(n),A,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class t6{constructor(){this.queries=H1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=_e(n),i=s.queries;s.queries=H1(),i.forEach((A,a)=>{for(const o of a.j_)o.onError(r)})})(this,new se(H.ABORTED,"Firestore shutting down"))}}function H1(){return new hl(t=>KQ(t),Ug)}async function ix(t,e){const n=_e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new e6,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(A){const a=sx(A,`Initialization of query '${Va(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&ax(n)}async function Ax(t,e){const n=_e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function n6(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,A=n.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(r=!0);A.z_=s}}r&&ax(n)}function r6(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function ax(t){t.Y_.forEach(e=>{e.next()})}var Cv,K1;(K1=Cv||(Cv={})).ea="default",K1.Cache="cache";class ox{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Cv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.key=e}}class _2{constructor(e){this.key=e}}class s6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=zQ(e),this.Ra=new Io(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new V1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,A=s,a=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=Fg(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let C=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),C=!0):this.ga(f,p)||(r.track({type:2,doc:p}),C=!0,(o&&this.Aa(p,o)>0||l&&this.Aa(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),C=!0):f&&!p&&(r.track({type:1,doc:f}),C=!0,(o||l)&&(a=!0)),C&&(p?(A=A.add(p),i=y?i.add(u):i.delete(u)):(A=A.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:A,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,h)=>function(p,m){const y=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return y(p)-y(m)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,l=o!==this.Ea;return this.Ea=o,A.length!==0||l?{snapshot:new Go(this.query,e.Ra,i,A,e.mutatedKeys,o===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new V1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new _2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new E2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Go.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class i6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A6{constructor(e){this.key=e,this.va=!1}}class a6{constructor(e,n,r,s,i,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new hl(a=>KQ(a),Ug),this.Ma=new Map,this.xa=new Set,this.Oa=new mt(ge.comparator),this.Na=new Map,this.La=new qB,this.Ba={},this.ka=new Map,this.qa=zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function o6(t,e,n=!0){const r=S2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await b2(r,e,n,!0),s}async function l6(t,e){const n=S2(t);await b2(n,e,!0,!1)}async function b2(t,e,n,r){const s=await SK(t.localStore,as(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await c6(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&n&&y2(t.remoteStore,s),a}async function c6(t,e,n,r,s){t.Ka=(h,f,p)=>async function(y,C,B,w){let v=C.view.ma(B);v.ns&&(v=await L1(y.localStore,C.query,!1).then(({documents:T})=>C.view.ma(T,v)));const I=w&&w.targetChanges.get(C.targetId),Q=w&&w.targetMismatches.get(C.targetId)!=null,k=C.view.applyChanges(v,y.isPrimaryClient,I,Q);return G1(y,C.targetId,k.wa),k.snapshot}(t,h,f,p);const i=await L1(t.localStore,e,!0),A=new s6(e,i.Ts),a=A.ma(i.documents),o=ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=A.applyChanges(a,t.isPrimaryClient,o);G1(t,n,l.wa);const u=new i6(e,n,A);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function u6(t,e,n){const r=_e(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(A=>!Ug(A,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ZB(r.remoteStore,s.targetId),Ev(r,s.targetId)}).catch(ad)):(Ev(r,s.targetId),await xv(r.localStore,s.targetId,!0))}async function d6(t,e){const n=_e(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZB(n.remoteStore,r.targetId))}async function h6(t,e,n){const r=w6(t);try{const s=await function(A,a){const o=_e(A),l=Ot.now(),u=a.reduce((p,m)=>p.add(m.key),Qe());let h,f;return o.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ws(),y=Qe();return o.cs.getEntries(p,u).next(C=>{m=C,m.forEach((B,w)=>{w.isValidDocument()||(y=y.add(B))})}).next(()=>o.localDocuments.getOverlayedDocuments(p,m)).next(C=>{h=C;const B=[];for(const w of a){const v=P3(w,h.get(w.key).overlayedDocument);v!=null&&B.push(new yA(w.key,v,DQ(v.value.mapValue),Zt.exists(!0)))}return o.mutationQueue.addMutationBatch(p,l,B,a)}).next(C=>{f=C;const B=C.applyToLocalDocumentSet(h,y);return o.documentOverlayCache.saveOverlays(p,C.batchId,B)})}).then(()=>({batchId:f.batchId,changes:$Q(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(A,a,o){let l=A.Ba[A.currentUser.toKey()];l||(l=new mt(Ve)),l=l.insert(a,o),A.Ba[A.currentUser.toKey()]=l}(r,s.batchId,n),await hd(r,s.changes),await Pg(r.remoteStore)}catch(s){const i=sx(s,"Failed to persist write");n.reject(i)}}async function T2(t,e){const n=_e(t);try{const r=await IK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const A=n.Na.get(i);A&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?Oe(A.va):s.removedDocuments.size>0&&(Oe(A.va),A.va=!1))}),await hd(n,r,e)}catch(r){await ad(r)}}function z1(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const o=_e(A);o.onlineState=a;let l=!1;o.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(l=!0)}),l&&ax(o)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f6(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let A=new mt(ge.comparator);A=A.insert(i,zt.newNoDocument(i,xe.min()));const a=Qe().add(i),o=new kg(xe.min(),new Map,new mt(Ve),A,a);await T2(r,o),r.Oa=r.Oa.remove(i),r.Na.delete(e),lx(r)}else await xv(r.localStore,e,!1).then(()=>Ev(r,e,n)).catch(ad)}async function p6(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await TK(n.localStore,e);U2(n,r,null),I2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hd(n,s)}catch(s){await ad(s)}}async function g6(t,e,n){const r=_e(t);try{const s=await function(A,a){const o=_e(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return o.mutationQueue.lookupMutationBatch(l,a).next(h=>(Oe(h!==null),u=h.keys(),o.mutationQueue.removeMutationBatch(l,h))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>o.localDocuments.getDocuments(l,u))})}(r.localStore,e);U2(r,e,n),I2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hd(r,s)}catch(s){await ad(s)}}function I2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function U2(t,e,n){const r=_e(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Ev(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||F2(t,r)})}function F2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ZB(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lx(t))}function G1(t,e,n){for(const r of n)r instanceof E2?(t.La.addReference(r.key,e),m6(t,r)):r instanceof _2?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||F2(t,r.key)):we()}function m6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),lx(t))}function lx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(et.fromString(e)),r=t.qa.next();t.Na.set(r,new A6(n)),t.Oa=t.Oa.insert(n,r),y2(t.remoteStore,new Fi(as(Ig(n.path)),r,"TargetPurposeLimboResolution",MB.oe))}}async function hd(t,e,n){const r=_e(t),s=[],i=[],A=[];r.Fa.isEmpty()||(r.Fa.forEach((a,o)=>{A.push(r.Ka(o,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(u=n==null?void 0:n.targetChanges.get(o.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(o.targetId,h?"current":"not-current")}if(l){s.push(l);const h=YB.Wi(o.targetId,l);i.push(h)}}))}),await Promise.all(A),r.Ca.d_(s),await async function(o,l){const u=_e(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(l,f=>z.forEach(f.$i,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>z.forEach(f.Ui,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!od(h))throw h;ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=u.os.get(f),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,y)}}}(r.localStore,i))}async function y6(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await p2(n.localStore,e);n.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(o=>{o.reject(new se(H.CANCELLED,A))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hd(n,r.hs)}}function v6(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Qe().add(r.key);{let s=Qe();const i=n.Ma.get(e);if(!i)return s;for(const A of i){const a=n.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function S2(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f6.bind(null,e),e.Ca.d_=n6.bind(null,e.eventManager),e.Ca.$a=r6.bind(null,e.eventManager),e}function w6(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g6.bind(null,e),e}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return bK(this.persistence,new EK,e.initialUser,this.serializer)}Ga(e){return new BK(XB.Zr,this.serializer)}Wa(e){return new NK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class _v{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y6.bind(null,this.syncEngine),await ZK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t6}()}createDatastore(e){const n=Rg(e.databaseInfo.databaseId),r=function(i){return new PK(i)}(e.databaseInfo);return function(i,A,a,o){return new OK(i,A,a,o)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,A,a){return new VK(r,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z1(this.syncEngine,n,0),function(){return O1.D()?new O1:new kK}())}createSyncEngine(e,n){return function(s,i,A,a,o,l,u){const h=new a6(s,i,A,a,o,l);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=_e(s);ue("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await dd(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_v.provider={build:()=>new _v};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new se(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const A=_e(s),a={documents:i.map(h=>op(A.serializer,h))},o=await A.Lo("BatchGetDocuments",A.serializer.databaseId,et.emptyPath(),a,i.length),l=new Map;o.forEach(h=>{const f=X3(A.serializer,h);l.set(f.key.toString(),f)});const u=[];return i.forEach(h=>{const f=l.get(h.toString());Oe(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ng(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=ge.fromPath(r);this.mutations.push(new n2(s,this.precondition(s)))}),await async function(r,s){const i=_e(r),A={writes:s.map(a=>u2(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,et.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw we();n=xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new se(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(xe.min())?Zt.exists(!1):Zt.updateTime(n):Zt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(xe.min()))throw new se(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zt.updateTime(n)}return Zt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new JB(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new B6(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!ld(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!r2(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=gn.UNAUTHENTICATED,this.clientId=NQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async A=>{ue("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(r,A=>(ue("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function py(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await p2(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await E6(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>j1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>j1(e.remoteStore,s)),t._onlineComponents=e}async function E6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await py(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await py(t,new cp)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await py(t,new cp);return t._offlineComponents}async function ux(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await $1(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await $1(t,new _v))),t._onlineComponents}function _6(t){return ux(t).then(e=>e.syncEngine)}function b6(t){return ux(t).then(e=>e.datastore)}async function up(t){const e=await ux(t),n=e.eventManager;return n.onListen=o6.bind(null,e.syncEngine),n.onUnlisten=u6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d6.bind(null,e.syncEngine),n}function T6(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,l){const u=new cx({next:f=>{u.Za(),A.enqueueAndForget(()=>Ax(i,h));const p=f.docs.has(a);!p&&f.fromCache?l.reject(new se(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&o&&o.source==="server"?l.reject(new se(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new ox(Ig(a.path),u,{includeMetadataChanges:!0,_a:!0});return ix(i,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}function I6(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,l){const u=new cx({next:f=>{u.Za(),A.enqueueAndForget(()=>Ax(i,h)),f.fromCache&&o.source==="server"?l.reject(new se(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new ox(a,u,{includeMetadataChanges:!0,_a:!0});return ix(i,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U6(t,e,n,r){if(e===!0&&r===!0)throw new se(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q1(t){if(!ge.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X1(t){if(ge.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function Sn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lg(t);throw new se(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zH;switch(r.type){case"firstParty":return new qH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=W1.get(n);r&&(ue("ComponentProvider","Removing Datastore"),W1.delete(n),r.terminate())}(this),Promise.resolve()}}function F6(t,e,n,r={}){var s;const i=(t=Sn(t,Mg))._getSettings(),A=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),r.mockUserToken){let a,o;if(typeof r.mockUserToken=="string")a=r.mockUserToken,o=gn.MOCK_USER;else{a=jS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new gn(l)}t._authCredentials=new GH(new QQ(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vA(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class $i extends vA{constructor(e,n,r){super(e,n,Ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ge(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function an(t,e,...n){if(t=ze(t),N2("collection","path",e),t instanceof Mg){const r=et.fromString(e,...n);return X1(r),new $i(t,null,r)}{if(!(t instanceof rn||t instanceof $i))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return X1(r),new $i(t.firestore,null,r)}}function ct(t,e,...n){if(t=ze(t),arguments.length===1&&(e=NQ.newId()),N2("doc","path",e),t instanceof Mg){const r=et.fromString(e,...n);return q1(r),new rn(t,null,new ge(r))}{if(!(t instanceof rn||t instanceof $i))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return q1(r),new rn(t.firestore,t instanceof $i?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new JB(this,"async_queue_retry"),this.Vu=()=>{const r=fy();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=fy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new As;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!od(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(r);throw $s("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=rx.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Z1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ds extends Mg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new J1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J1(e),this._firestoreClient=void 0,await e}}}function S6(t,e){const n=typeof t=="object"?t:Cg(),r=typeof t=="string"?t:"(default)",s=rd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bB("firestore");i&&F6(s,...i)}return s}function fd(t){if(t._terminated)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q6(t),t._firestoreClient}function Q6(t){var e,n,r;const s=t._freezeSettings(),i=function(a,o,l,u){return new o3(a,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Q2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new C6(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(An.fromBase64String(e))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ca(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^__.*__$/;class k6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yA(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class k2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yA(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class fx{constructor(e,n,r,s,i,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(R2(this.Cu)&&N6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class R6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rg(e)}Qu(e,n,r,s=!1){return new fx({Cu:e,methodName:n,qu:r,path:Jt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(t){const e=t._freezeSettings(),n=Rg(t._databaseId);return new R6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function px(t,e,n,r,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);mx("Data must be an object, but it was:",A,r);const a=L2(r,A);let o,l;if(i.merge)o=new Zn(A.fieldMask),l=A.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=bv(e,h,n);if(!A.contains(f))throw new se(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);O2(u,f)||u.push(f)}o=new Zn(u),l=A.fieldTransforms.filter(h=>o.covers(h.field))}else o=null,l=A.fieldTransforms;return new k6(new Un(a),o,l)}class jg extends Og{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jg}}class gx extends Og{_toFieldTransform(e){return new N3(e.path,new Eu)}isEqual(e){return e instanceof gx}}function D2(t,e,n,r){const s=t.Qu(1,e,n);mx("Data must be an object, but it was:",s,r);const i=[],A=Un.empty();va(r,(o,l)=>{const u=yx(e,o,n);l=ze(l);const h=s.Nu(u);if(l instanceof jg)i.push(u);else{const f=md(l,h);f!=null&&(i.push(u),A.set(u,f))}});const a=new Zn(i);return new k2(A,a,s.fieldTransforms)}function P2(t,e,n,r,s,i){const A=t.Qu(1,e,n),a=[bv(e,r,n)],o=[s];if(i.length%2!=0)throw new se(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(bv(e,i[f])),o.push(i[f+1]);const l=[],u=Un.empty();for(let f=a.length-1;f>=0;--f)if(!O2(l,a[f])){const p=a[f];let m=o[f];m=ze(m);const y=A.Nu(p);if(m instanceof jg)l.push(p);else{const C=md(m,y);C!=null&&(l.push(p),u.set(p,C))}}const h=new Zn(l);return new k2(u,h,A.fieldTransforms)}function D6(t,e,n,r=!1){return md(n,t.Qu(r?4:3,e))}function md(t,e){if(M2(t=ze(t)))return mx("Unsupported field value:",e,t),L2(t,e);if(t instanceof Og)return function(r,s){if(!R2(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let A=0;for(const a of r){let o=md(a,s.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),A++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ot.fromDate(r);return{timestampValue:ap(s.serializer,i)}}if(r instanceof Ot){const i=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(s.serializer,i)}}if(r instanceof dx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ca)return{bytesValue:a2(s.serializer,r._byteString)};if(r instanceof rn){const i=s.databaseId,A=r.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:WB(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hx)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return zB(a.serializer,o)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Lg(r)}`)}(t,e)}function L2(t,e){const n={};return kQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,(r,s)=>{const i=md(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function M2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof dx||t instanceof ca||t instanceof rn||t instanceof Og||t instanceof hx)}function mx(t,e,n){if(!M2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function bv(t,e,n){if((e=ze(e))instanceof pd)return e._internalPath;if(typeof e=="string")return yx(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const P6=new RegExp("[~\\*/\\[\\]]");function yx(t,e,n){if(e.search(P6)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pd(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,s){const i=r&&!r.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||A)&&(o+=" (found",i&&(o+=` in field ${r}`),A&&(o+=` in document ${s}`),o+=")"),new se(H.INVALID_ARGUMENT,a+t+o)}function O2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L6 extends hp{data(){return super.data()}}function Vg(t,e){return typeof e=="string"?yx(t,e):e instanceof pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vx{}class V2 extends vx{}function wA(t,e,...n){let r=[];e instanceof vx&&r.push(e),r=r.concat(n),function(i){const A=i.filter(o=>o instanceof wx).length,a=i.filter(o=>o instanceof Hg).length;if(A>1||A>0&&a>0)throw new se(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Hg extends V2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hg(e,n,r)}_apply(e){const n=this._parse(e);return H2(e._query,n),new vA(e.firestore,e.converter,mv(e._query,n))}_parse(e){const n=gd(e.firestore);return function(i,A,a,o,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new se(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){tb(h,u);const p=[];for(const m of h)p.push(eb(o,i,m));f={arrayValue:{values:p}}}else f=eb(o,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||tb(h,u),f=D6(a,A,h,u==="in"||u==="not-in");return Rt.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tu(t,e,n){const r=e,s=Vg("where",t);return Hg._create(s,r,n)}class wx extends vx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const o of a)H2(A,o),A=mv(A,o)}(e._query,n),new vA(e.firestore,e.converter,mv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bx extends V2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bx(e,n)}_apply(e){const n=function(s,i,A){if(s.startAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(i,A)}(e._query,this._field,this._direction);return new vA(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new dl(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function $o(t,e="asc"){const n=e,r=Vg("orderBy",t);return Bx._create(r,n)}function eb(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new se(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HQ(e)&&n.indexOf("/")!==-1)throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!ge.isDocumentKey(r))throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B1(t,new ge(r))}if(n instanceof rn)return B1(t,n._key);throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lg(n)}.`)}function tb(t,e){if(!Array.isArray(t)||t.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H2(t,e){const n=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class K2{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return va(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(A=>bt(A.doubleValue));return new hx(i)}convertGeoPoint(e){return new dx(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jB(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=eA(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);Oe(f2(r));const s=new Bu(r.get(1),r.get(3)),i=new ge(r.popFirst(5));return s.isEqual(n)||$s(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class M6 extends K2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cx extends hp{constructor(e,n,r,s,i,A){super(e,n,r,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hf extends Cx{data(e={}){return super.data(e)}}class z2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ao(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hf(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const o=new hf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ao(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new hf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ao(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),u=A.indexOf(a.doc.key)),{type:O6(a.type),doc:o,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){t=Sn(t,rn);const e=Sn(t.firestore,ds);return T6(fd(e),t._key).then(n=>$2(e,t,n))}class Kg extends K2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function zg(t){t=Sn(t,vA);const e=Sn(t.firestore,ds),n=fd(e),r=new Kg(e);return j2(t._query),I6(n,t._query).then(s=>new z2(e,r,t,s))}function Gg(t,e,n){t=Sn(t,rn);const r=Sn(t.firestore,ds),s=xx(t.converter,e,n);return $g(r,[px(gd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zt.none())])}function qs(t,e,n,...r){t=Sn(t,rn);const s=Sn(t.firestore,ds),i=gd(s);let A;return A=typeof(e=ze(e))=="string"||e instanceof pd?P2(i,"updateDoc",t._key,e,n,r):D2(i,"updateDoc",t._key,e),$g(s,[A.toMutation(t._key,Zt.exists(!0))])}function G2(t){return $g(Sn(t.firestore,ds),[new Ng(t._key,Zt.none())])}function Xs(t,e){const n=Sn(t.firestore,ds),r=ct(t),s=xx(t.converter,e);return $g(n,[px(gd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then(()=>r)}function pl(t,...e){var n,r,s;t=ze(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||Z1(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Z1(e[A])){const h=e[A];e[A]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[A+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[A+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let o,l,u;if(t instanceof rn)l=Sn(t.firestore,ds),u=Ig(t._key.path),o={next:h=>{e[A]&&e[A]($2(l,t,h))},error:e[A+1],complete:e[A+2]};else{const h=Sn(t,vA);l=Sn(h.firestore,ds),u=h._query;const f=new Kg(l);o={next:p=>{e[A]&&e[A](new z2(l,f,h,p))},error:e[A+1],complete:e[A+2]},j2(t._query)}return function(f,p,m,y){const C=new cx(y),B=new ox(p,C,m);return f.asyncQueue.enqueueAndForget(async()=>ix(await up(f),B)),()=>{C.Za(),f.asyncQueue.enqueueAndForget(async()=>Ax(await up(f),B))}}(fd(l),u,a,o)}function $g(t,e){return function(r,s){const i=new As;return r.asyncQueue.enqueueAndForget(async()=>h6(await _6(r),s,i)),i.promise}(fd(t),e)}function $2(t,e,n){const r=n.docs.get(e._key),s=new Kg(t);return new Cx(t,s,e._key,r,new ao(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={maxAttempts:5};function Kl(t,e){if((t=ze(t)).firestore!==e)throw new se(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=gd(n)}get(n){const r=Kl(n,this._firestore),s=new M6(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return we();const A=i[0];if(A.isFoundDocument())return new hp(this._firestore,s,A.key,A,r.converter);if(A.isNoDocument())return new hp(this._firestore,s,r._key,null,r.converter);throw we()})}set(n,r,s){const i=Kl(n,this._firestore),A=xx(i.converter,r,s),a=px(this._dataReader,"Transaction.set",i._key,A,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const A=Kl(n,this._firestore);let a;return a=typeof(r=ze(r))=="string"||r instanceof pd?P2(this._dataReader,"Transaction.update",A._key,r,s,i):D2(this._dataReader,"Transaction.update",A._key,r),this._transaction.update(A._key,a),this}delete(n){const r=Kl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Kl(e,this._firestore),r=new Kg(this._firestore);return super.get(e).then(s=>new Cx(this._firestore,r,n._key,s._document,new ao(!1,!1),n.converter))}}function nb(t,e,n){t=Sn(t,ds);const r=Object.assign(Object.assign({},j6),n);return function(i){if(i.maxAttempts<1)throw new se(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,A,a){const o=new As;return i.asyncQueue.enqueueAndForget(async()=>{const l=await b6(i);new x6(i.asyncQueue,l,a,A,o).au()}),o.promise}(fd(t),s=>e(new V6(t,s)),r)}function Vn(){return new gx("serverTimestamp")}(function(e,n=!0){(function(s){ul=s})(ya),Ji(new Ks("firestore",(r,{instanceIdentifier:s,options:i})=>{const A=r.getProvider("app").getImmediate(),a=new ds(new $H(r.getProvider("auth-internal")),new YH(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(l.options.projectId,u)}(A,s),A);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Cr(g1,"4.7.3",e),Cr(g1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="type.googleapis.com/google.protobuf.Int64Value",K6="type.googleapis.com/google.protobuf.UInt64Value";function W2(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Tv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Tv(e));if(typeof t=="function"||typeof t=="object")return W2(t,e=>Tv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function fp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case H6:case K6:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>fp(e)):typeof t=="function"||typeof t=="object"?W2(t,e=>fp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Uo extends Hr{constructor(e,n,r){super(`${Ex}/${e}`,n||""),this.details=r}}function z6(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function G6(t,e){let n=z6(t),r=n,s;try{const i=e&&e.error;if(i){const A=i.status;if(typeof A=="string"){if(!rb[A])return new Uo("internal","internal");n=rb[A],r=A}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=fp(s))}}catch{}return n==="ok"?null:new Uo(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="us-central1";function W6(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Uo("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class q6{constructor(e,n,r,s,i=Iv,A){this.app=e,this.fetchImpl=A,this.emulatorOrigin=null,this.contextProvider=new $6(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Iv}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function X6(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function Y6(t,e,n){return r=>Z6(t,e,r,{})}async function J6(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function Z6(t,e,n,r){const s=t._url(e);return e5(t,s,n,r)}async function e5(t,e,n,r){n=Tv(n);const s={data:n},i={},A=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);A.authToken&&(i.Authorization="Bearer "+A.authToken),A.messagingToken&&(i["Firebase-Instance-ID-Token"]=A.messagingToken),A.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=A.appCheckToken);const a=r.timeout||7e4,o=W6(a),l=await Promise.race([J6(e,s,i,t.fetchImpl),o.promise,t.cancelAllRequests]);if(o.cancel(),!l)throw new Uo("cancelled","Firebase Functions instance was deleted.");const u=G6(l.status,l.json);if(u)throw u;if(!l.json)throw new Uo("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new Uo("internal","Response is missing data field.");return{data:fp(h)}}const sb="@firebase/functions",ib="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="auth-internal",n5="app-check-internal",r5="messaging-internal";function s5(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),A=r.getProvider(t5),a=r.getProvider(r5),o=r.getProvider(n5);return new q6(i,A,a,o,s,t)};Ji(new Ks(Ex,n,"PUBLIC").setMultipleInstances(!0)),Cr(sb,ib,e),Cr(sb,ib,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t=Cg(),e=Iv){const r=rd(ze(t),Ex).getImmediate({identifier:e}),s=bB("functions");return s&&A5(r,...s),r}function A5(t,e,n){X6(ze(t),e,n)}function a5(t,e,n){return Y6(ze(t),e)}s5(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="firebasestorage.googleapis.com",X2="storageBucket",o5=2*60*1e3,l5=10*60*1e3,c5=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends Hr{constructor(e,n,r=0){super(gy(e),`Firebase Storage: ${n} (${gy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function gy(t){return"storage/"+t}function _x(){const t="An unknown error occurred, please check the error payload for server response.";return new yt(at.UNKNOWN,t)}function u5(t){return new yt(at.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function d5(t){return new yt(at.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function h5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(at.UNAUTHENTICATED,t)}function f5(){return new yt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function p5(t){return new yt(at.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Y2(){return new yt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J2(){return new yt(at.CANCELED,"User canceled the upload/download.")}function g5(t){return new yt(at.INVALID_URL,"Invalid URL '"+t+"'.")}function m5(t){return new yt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y5(){return new yt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X2+"' property when initializing the app?")}function Z2(){return new yt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v5(){return new yt(at.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function w5(){return new yt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function B5(t){return new yt(at.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Uv(t){return new yt(at.INVALID_ARGUMENT,t)}function eN(){return new yt(at.APP_DELETED,"The Firebase app was deleted.")}function x5(t){return new yt(at.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mc(t,e){return new yt(at.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function zl(t){throw new yt(at.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw m5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const A="(/(.*))?$",a=new RegExp("^gs://"+s+A,"i"),o={bucket:1,path:3};function l(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},y=n===q2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",B=new RegExp(`^https?://${y}/${s}/${C}`,"i"),v=[{regex:a,indices:o,postModify:i},{regex:p,indices:m,postModify:l},{regex:B,indices:{bucket:1,path:2},postModify:l}];for(let I=0;I<v.length;I++){const Q=v[I],k=Q.regex.exec(e);if(k){const T=k[Q.indices.bucket];let E=k[Q.indices.path];E||(E=""),r=new er(T,E),Q.postModify(r);break}}if(r==null)throw g5(e);return r}}class C5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e,n){let r=1,s=null,i=null,A=!1,a=0;function o(){return a===2}let l=!1;function u(...C){l||(l=!0,e.apply(null,C))}function h(C){s=setTimeout(()=>{s=null,t(p,o())},C)}function f(){i&&clearTimeout(i)}function p(C,...B){if(l){f();return}if(C){f(),u.call(null,C,...B);return}if(o()||A){f(),u.call(null,C,...B);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let m=!1;function y(C){m||(m=!0,f(),!l&&(s!==null?(C||(a=2),clearTimeout(s),h(0)):C||(a=1)))}return h(0),i=setTimeout(()=>{A=!0,y(!0)},n),y}function _5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){return t!==void 0}function T5(t){return typeof t=="function"}function I5(t){return typeof t=="object"&&!Array.isArray(t)}function Wg(t){return typeof t=="string"||t instanceof String}function Ab(t){return bx()&&t instanceof Blob}function bx(){return typeof Blob<"u"}function ab(t,e,n,r){if(r<e)throw Uv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Uv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var WA;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(WA||(WA={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n,r,s,i,A,a,o,l,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=A,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ph(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const A=a=>{const o=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,l)};this.progressCallback_!==null&&i.addUploadProgressListener(A),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(A),this.pendingConnection_=null;const a=i.getErrorCode()===WA.NO_ERROR,o=i.getStatus();if(!a||nN(o,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===WA.ABORT;r(!1,new ph(!1,null,u));return}const l=this.successCodes_.indexOf(o)!==-1;r(!0,new ph(l,i))})},n=(r,s)=>{const i=this.resolve_,A=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const o=this.callback_(a,a.getResponse());b5(o)?i(o):i()}catch(o){A(o)}else if(a!==null){const o=_x();o.serverResponse=a.getErrorText(),this.errorCallback_?A(this.errorCallback_(a,o)):A(o)}else if(s.canceled){const o=this.appDelete_?eN():J2();A(o)}else{const o=Y2();A(o)}};this.canceled_?n(!1,new ph(!1,null,!0)):this.backoffId_=E5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function F5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function S5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Q5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function N5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function k5(t,e,n,r,s,i,A=!0){const a=tN(t.urlParams),o=t.url+a,l=Object.assign({},t.headers);return Q5(l,e),F5(l,n),S5(l,i),N5(l,r),new U5(o,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function D5(...t){const e=R5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bx())return new Blob(t);throw new yt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function P5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){if(typeof atob>"u")throw B5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class my{constructor(e,n){this.data=e,this.contentType=n||null}}function M5(t,e){switch(t){case es.RAW:return new my(rN(e));case es.BASE64:case es.BASE64URL:return new my(sN(t,e));case es.DATA_URL:return new my(j5(e),V5(e))}throw _x()}function rN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,A=t.charCodeAt(++n);r=65536|(i&1023)<<10|A&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function O5(t){let e;try{e=decodeURIComponent(t)}catch{throw Mc(es.DATA_URL,"Malformed data URL.")}return rN(e)}function sN(t,e){switch(t){case es.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Mc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case es.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Mc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=L5(e)}catch(s){throw s.message.includes("polyfill")?s:Mc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class iN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Mc(es.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=H5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function j5(t){const e=new iN(t);return e.base64?sN(es.BASE64,e.rest):O5(e.rest)}function V5(t){return new iN(t).contentType}function H5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n){let r=0,s="";Ab(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ab(this.data_)){const r=this.data_,s=P5(r,e,n);return s===null?null:new _i(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new _i(r,!0)}}static getBlob(...e){if(bx()){const n=e.map(r=>r instanceof _i?r.data_:r);return new _i(D5.apply(null,n))}else{const n=e.map(A=>Wg(A)?M5(es.RAW,A).data:A.data_);let r=0;n.forEach(A=>{r+=A.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(A=>{for(let a=0;a<A.length;a++)s[i++]=A[a]}),new _i(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){let e;try{e=JSON.parse(t)}catch{return null}return I5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function aN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){return e}class _n{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||G5}}let gh=null;function $5(t){return!Wg(t)||t.length<2?t:aN(t)}function oN(){if(gh)return gh;const t=[];t.push(new _n("bucket")),t.push(new _n("generation")),t.push(new _n("metageneration")),t.push(new _n("name","fullPath",!0));function e(i,A){return $5(A)}const n=new _n("name");n.xform=e,t.push(n);function r(i,A){return A!==void 0?Number(A):A}const s=new _n("size");return s.xform=r,t.push(s),t.push(new _n("timeCreated")),t.push(new _n("updated")),t.push(new _n("md5Hash",null,!0)),t.push(new _n("cacheControl",null,!0)),t.push(new _n("contentDisposition",null,!0)),t.push(new _n("contentEncoding",null,!0)),t.push(new _n("contentLanguage",null,!0)),t.push(new _n("contentType",null,!0)),t.push(new _n("metadata","customMetadata",!0)),gh=t,gh}function W5(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new er(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function q5(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const A=n[i];r[A.local]=A.xform(r,e[A.server])}return W5(r,t),r}function lN(t,e,n){const r=AN(e);return r===null?null:q5(t,r,n)}function X5(t,e,n,r){const s=AN(e);if(s===null||!Wg(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const A=encodeURIComponent;return i.split(",").map(l=>{const u=t.bucket,h=t.fullPath,f="/b/"+A(u)+"/o/"+A(h),p=gl(f,n,r),m=tN({alt:"media",token:l});return p+m})[0]}function cN(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Ba{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){if(!t)throw _x()}function Tx(t,e){function n(r,s){const i=lN(t,s,e);return Rs(i!==null),i}return n}function Y5(t,e){function n(r,s){const i=lN(t,s,e);return Rs(i!==null),X5(i,s,t.host,t._protocol)}return n}function yd(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=f5():s=h5():n.getStatus()===402?s=d5(t.bucket):n.getStatus()===403?s=p5(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Ix(t){const e=yd(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=u5(t.path)),i.serverResponse=s.serverResponse,i}return n}function J5(t,e,n){const r=e.fullServerUrl(),s=gl(r,t.host,t._protocol),i="GET",A=t.maxOperationRetryTime,a=new Ba(s,i,Tx(t,n),A);return a.errorHandler=Ix(e),a}function Z5(t,e,n){const r=e.fullServerUrl(),s=gl(r,t.host,t._protocol),i="GET",A=t.maxOperationRetryTime,a=new Ba(s,i,Y5(t,n),A);return a.errorHandler=Ix(e),a}function ez(t,e){const n=e.fullServerUrl(),r=gl(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function A(o,l){}const a=new Ba(r,s,A,i);return a.successCodes=[200,204],a.errorHandler=Ix(e),a}function tz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uN(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tz(null,e)),r}function nz(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let I=0;I<2;I++)v=v+Math.random().toString().slice(2);return v}const o=a();A["Content-Type"]="multipart/related; boundary="+o;const l=uN(e,r,s),u=cN(l,n),h="--"+o+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+o+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+o+"--",p=_i.getBlob(h,r,f);if(p===null)throw Z2();const m={name:l.fullPath},y=gl(i,t.host,t._protocol),C="POST",B=t.maxUploadRetryTime,w=new Ba(y,C,Tx(t,n),B);return w.urlParams=m,w.headers=A,w.body=p.uploadData(),w.errorHandler=yd(e),w}class pp{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Ux(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Rs(!1)}return Rs(!!n&&(e||["active"]).indexOf(n)!==-1),n}function rz(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),A=uN(e,r,s),a={name:A.fullPath},o=gl(i,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":A.contentType,"Content-Type":"application/json; charset=utf-8"},h=cN(A,n),f=t.maxUploadRetryTime;function p(y){Ux(y);let C;try{C=y.getResponseHeader("X-Goog-Upload-URL")}catch{Rs(!1)}return Rs(Wg(C)),C}const m=new Ba(o,l,p,f);return m.urlParams=a,m.headers=u,m.body=h,m.errorHandler=yd(e),m}function sz(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(l){const u=Ux(l,["active","final"]);let h=null;try{h=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Rs(!1)}h||Rs(!1);const f=Number(h);return Rs(!isNaN(f)),new pp(f,r.size(),u==="final")}const A="POST",a=t.maxUploadRetryTime,o=new Ba(n,A,i,a);return o.headers=s,o.errorHandler=yd(e),o}const ob=256*1024;function iz(t,e,n,r,s,i,A,a){const o=new pp(0,0);if(A?(o.current=A.current,o.total=A.total):(o.current=0,o.total=r.size()),r.size()!==o.total)throw v5();const l=o.total-o.current;let u=l;s>0&&(u=Math.min(u,s));const h=o.current,f=h+u;let p="";u===0?p="finalize":l===u?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${o.current}`},y=r.slice(h,f);if(y===null)throw Z2();function C(I,Q){const k=Ux(I,["active","final"]),T=o.current+u,E=r.size();let b;return k==="final"?b=Tx(e,i)(I,Q):b=null,new pp(T,E,k==="final",b)}const B="POST",w=e.maxUploadRetryTime,v=new Ba(n,B,C,w);return v.headers=m,v.body=y.uploadData(),v.progressCallback=a||null,v.errorHandler=yd(t),v}const Pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yy(t){switch(t){case"running":case"pausing":case"canceling":return Pn.RUNNING;case"paused":return Pn.PAUSED;case"success":return Pn.SUCCESS;case"canceled":return Pn.CANCELED;case"error":return Pn.ERROR;default:return Pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n,r){if(T5(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class az{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=WA.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=WA.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=WA.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw zl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oz extends az{initXhr(){this.xhr_.responseType="text"}}function DA(){return new oz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=oN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(at.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(nN(s.status,[]))if(i)s=Y2();else{this.sleepTime=Math.max(this.sleepTime*2,c5),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(at.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=rz(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,DA,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=sz(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,DA,n,r);this._request=i,i.getPromise().then(A=>{A=A,this._request=void 0,this._updateProgress(A.current),this._needToFetchStatus=!1,A.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ob*this._chunkMultiplier,n=new pp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let A;try{A=iz(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(o){this._error=o,this._transition("error");return}const a=this._ref.storage._makeRequest(A,DA,s,i,!1);this._request=a,a.getPromise().then(o=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(o.current),o.finalized?(this._metadata=o.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ob*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=J5(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,DA,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=nz(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,DA,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=J2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new Az(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yy(this._state)){case Pn.SUCCESS:Na(this._resolve.bind(null,this.snapshot))();break;case Pn.CANCELED:case Pn.ERROR:const n=this._reject;Na(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yy(this._state)){case Pn.RUNNING:case Pn.PAUSED:e.next&&Na(e.next.bind(e,this.snapshot))();break;case Pn.SUCCESS:e.complete&&Na(e.complete.bind(e))();break;case Pn.CANCELED:case Pn.ERROR:e.error&&Na(e.error.bind(e,this._error))();break;default:e.error&&Na(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ua(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aN(this._location.path)}get storage(){return this._service}get parent(){const e=K5(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new ua(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x5(e)}}function cz(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new lz(t,new _i(e),n)}function uz(t){t._throwIfRoot("getDownloadURL");const e=Z5(t.storage,t._location,oN());return t.storage.makeRequestWithTokens(e,DA).then(n=>{if(n===null)throw w5();return n})}function dz(t){t._throwIfRoot("deleteObject");const e=ez(t.storage,t._location);return t.storage.makeRequestWithTokens(e,DA)}function hz(t,e){const n=z5(t._location.path,e),r=new er(t._location.bucket,n);return new ua(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t){return/^[A-Za-z]+:\/\//.test(t)}function pz(t,e){return new ua(t,e)}function dN(t,e){if(t instanceof Fx){const n=t;if(n._bucket==null)throw y5();const r=new ua(n,n._bucket);return e!=null?dN(r,e):r}else return e!==void 0?hz(t,e):t}function gz(t,e){if(e&&fz(e)){if(t instanceof Fx)return pz(t,e);throw Uv("To use ref(service, url), the first argument must be a Storage instance.")}else return dN(t,e)}function lb(t,e){const n=e==null?void 0:e[X2];return n==null?null:er.makeFromBucketSpec(n,t)}function mz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:jS(s,t.app.options.projectId))}class Fx{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=q2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o5,this._maxUploadRetryTime=l5,this._requests=new Set,s!=null?this._bucket=er.makeFromBucketSpec(s,this._host):this._bucket=lb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=lb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ab("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ab("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ua(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new C5(eN());{const A=k5(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const cb="@firebase/storage",ub="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="storage";function yz(t,e,n){return t=ze(t),cz(t,e,n)}function vz(t){return t=ze(t),uz(t)}function fN(t){return t=ze(t),dz(t)}function pN(t,e){return t=ze(t),gz(t,e)}function wz(t=Cg(),e){t=ze(t);const r=rd(t,hN).getImmediate({identifier:e}),s=bB("storage");return s&&Bz(r,...s),r}function Bz(t,e,n,r={}){mz(t,e,n,r)}function xz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Fx(n,r,s,e,ya)}function Cz(){Ji(new Ks(hN,xz,"PUBLIC").setMultipleInstances(!0)),Cr(cb,ub,""),Cr(cb,ub,"esm2017")}Cz();const Ez={apiKey:"AIzaSyCjm6MOIuRFXQkTKwREvVWo8zogfNA6HPg",authDomain:"cinema-70fbc.firebaseapp.com",projectId:"cinema-70fbc",storageBucket:"cinema-70fbc.appspot.com",messagingSenderId:"508764987276",appId:"1:508764987276:web:878a0e32d806071bf380a9",measurementId:"G-E9KFW2B3BW"},qg=KS(Ez),mn=HH(qg),be=S6(qg),_z=i5(qg,"europe-west1"),gN=wz(qg);let db=new Map;const bz=t=>{db.clear(),t.forEach(e=>db.set(e.id,e))},Tz=t=>{const e=ct(be,"settings","event-settings");return pl(e,n=>{if(n.exists()){const r=n.data(),s=(r==null?void 0:r.bookingStatuses)||[];bz(s),t(s)}else t([])})},mN=F.createContext(void 0),Iz=({children:t})=>{const[e,n]=F.useState([]),[r,s]=F.useState(!0),[i,A]=F.useState(null),[a,o]=F.useState(0);F.useEffect(()=>{const p=Tz(m=>{n(m),s(!1),A(null)});return()=>p()},[a]);const l=p=>e.find(m=>m.id===p),u=p=>{var m;return((m=l(p))==null?void 0:m.color)||"#718096"},h=p=>{var m;return((m=l(p))==null?void 0:m.name)||p},f=()=>o(p=>p+1);return c.jsx(mN.Provider,{value:{statuses:e,loading:r,error:i,getStatusById:l,getStatusColor:u,getStatusName:h,refreshStatuses:f},children:t})},vd=()=>{const t=F.useContext(mN);if(!t)throw new Error("useBookingStatus must be used within a BookingStatusProvider");return t},gp="gennaro.mazzacane@gmail.com",Uz="_1500Napoli500_",Fz=t=>t===gp,Sz=async(t,e)=>{try{if(t!==gp)throw new Error("Accesso non autorizzato");return{success:!0,user:(await _V(mn,gp,Uz)).user}}catch(n){throw console.error("Error logging in:",n),n}},Qz=t=>t.code&&{"auth/invalid-credential":"Email o password non corretti","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password non corretta","auth/email-already-in-use":"Email gi in uso","auth/weak-password":"Password troppo debole","auth/invalid-email":"Email non valida","auth/too-many-requests":"Troppi tentativi. Riprova pi tardi.","auth/network-request-failed":"Errore di connessione. Verifica la tua connessione internet.","auth/requires-recent-login":"Per favore, effettua nuovamente il login per completare questa operazione"}[t.code]||"Errore durante l'autenticazione",yN=F.createContext(void 0),Nz=({children:t})=>{const[e,n]=F.useState(null),[r,s]=F.useState(!0),[i,A]=F.useState(!1);return F.useEffect(()=>{const a=mn.onAuthStateChanged(o=>{n(o),A(o?Fz(o.email||""):!1),s(!1)});return()=>a()},[]),c.jsx(yN.Provider,{value:{user:e,loading:r,isAdmin:i},children:t})},si=()=>{const t=F.useContext(yN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(t,e)=>{const n=F.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:o,...l},u)=>F.createElement("svg",{ref:u,...kz,width:s,height:s,stroke:r,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Rz(t)}`,a].join(" "),...l},[...e.map(([h,f])=>F.createElement(h,f)),...Array.isArray(o)?o:[o]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=he("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=he("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=he("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=he("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=he("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=he("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=he("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=he("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=he("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=he("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=he("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=he("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=he("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=he("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=he("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=he("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class s9 extends F.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[c.jsx(vN,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Qualcosa  andato storto"})]}),c.jsx("p",{className:"text-gray-300 mb-4",children:"Si  verificato un errore imprevisto. Ricarica la pagina o prova pi tardi."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Ricarica la pagina"}),this.state.error&&c.jsx("pre",{className:"mt-4 p-4 bg-gray-800 rounded text-sm text-gray-400 overflow-auto",children:this.state.error.message})]})}):this.props.children}}const wb=({children:t,requireAdmin:e=!1})=>{const{user:n,loading:r,isAdmin:s}=si();return r?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):!n||e&&!s?c.jsx(Co,{to:"/",replace:!0}):c.jsx(c.Fragment,{children:t})},Qx=F.createContext({});function Nx(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const Jg=F.createContext(null),kx=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class i9 extends F.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function A9({children:t,isPresent:e}){const n=F.useId(),r=F.useRef(null),s=F.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=F.useContext(kx);return F.useInsertionEffect(()=>{const{width:A,height:a,top:o,left:l}=s.current;if(e||!r.current||!A||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),c.jsx(i9,{isPresent:e,childRef:r,sizeRef:s,children:F.cloneElement(t,{ref:r})})}const a9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:A})=>{const a=Nx(o9),o=F.useId(),l=F.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=F.useMemo(()=>({id:o,initial:e,isPresent:n,custom:s,onExitComplete:l,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),l]:[n,l]);return F.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),F.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),A==="popLayout"&&(t=c.jsx(A9,{isPresent:n,children:t})),c.jsx(Jg.Provider,{value:u,children:t})};function o9(){return new Map}function bN(t=!0){const e=F.useContext(Jg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=F.useId();F.useEffect(()=>{t&&s(i)},[t]);const A=F.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,A]:[!0]}const mh=t=>t.key||"";function Bb(t){const e=[];return F.Children.forEach(t,n=>{F.isValidElement(n)&&e.push(n)}),e}const Rx=typeof window<"u",TN=Rx?F.useLayoutEffect:F.useEffect,on=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:A=!1})=>{const[a,o]=bN(A),l=F.useMemo(()=>Bb(t),[t]),u=A&&!a?[]:l.map(mh),h=F.useRef(!0),f=F.useRef(l),p=Nx(()=>new Map),[m,y]=F.useState(l),[C,B]=F.useState(l);TN(()=>{h.current=!1,f.current=l;for(let I=0;I<C.length;I++){const Q=mh(C[I]);u.includes(Q)?p.delete(Q):p.get(Q)!==!0&&p.set(Q,!1)}},[C,u.length,u.join("-")]);const w=[];if(l!==m){let I=[...l];for(let Q=0;Q<C.length;Q++){const k=C[Q],T=mh(k);u.includes(T)||(I.splice(Q,0,k),w.push(k))}i==="wait"&&w.length&&(I=w),B(Bb(I)),y(l);return}const{forceRender:v}=F.useContext(Qx);return c.jsx(c.Fragment,{children:C.map(I=>{const Q=mh(I),k=A&&!a?!1:l===C||u.includes(Q),T=()=>{if(p.has(Q))p.set(Q,!0);else return;let E=!0;p.forEach(b=>{b||(E=!1)}),E&&(v==null||v(),B(f.current),A&&(o==null||o()),r&&r())};return c.jsx(a9,{isPresent:k,initial:!h.current||n?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:T,children:I},Q)})})},rr=t=>t;let Qv=rr;function Dx(t){let e;return()=>(e===void 0&&(e=t()),e)}const qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ps=t=>t*1e3,Ls=t=>t/1e3,l9={skipAnimations:!1,useManualTiming:!1};function c9(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1};function a(l){i.has(l)&&(o.schedule(l),t()),l(A)}const o={schedule:(l,u=!1,h=!1)=>{const p=h&&r?e:n;return u&&i.add(l),p.has(l)||p.add(l),l},cancel:l=>{n.delete(l),i.delete(l)},process:l=>{if(A=l,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,o.process(l))}};return o}const yh=["read","resolveKeyframes","update","preRender","render","postRender"],u9=40;function IN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,A=yh.reduce((B,w)=>(B[w]=c9(i),B),{}),{read:a,resolveKeyframes:o,update:l,preRender:u,render:h,postRender:f}=A,p=()=>{const B=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(B-s.timestamp,u9),1),s.timestamp=B,s.isProcessing=!0,a.process(s),o.process(s),l.process(s),u.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},m=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:yh.reduce((B,w)=>{const v=A[w];return B[w]=(I,Q=!1,k=!1)=>(n||m(),v.schedule(I,Q,k)),B},{}),cancel:B=>{for(let w=0;w<yh.length;w++)A[yh[w]].cancel(B)},state:s,steps:A}}const{schedule:At,cancel:iA,state:qt,steps:vy}=IN(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0),UN=F.createContext({strict:!1}),xb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const t in xb)Xo[t]={isEnabled:e=>xb[t].some(n=>!!e[n])};function d9(t){for(const e in t)Xo[e]={...Xo[e],...t[e]}}const h9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||h9.has(t)}let FN=t=>!yp(t);function f9(t){t&&(FN=e=>e.startsWith("on")?!yp(e):t(e))}try{f9(require("@emotion/is-prop-valid").default)}catch{}function p9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(FN(s)||n===!0&&yp(s)||!e&&!yp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function g9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Zg=F.createContext({});function Uu(t){return typeof t=="string"||Array.isArray(t)}function em(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Px=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lx=["initial",...Px];function tm(t){return em(t.animate)||Lx.some(e=>Uu(t[e]))}function SN(t){return!!(tm(t)||t.variants)}function m9(t,e){if(tm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Uu(n)?n:void 0,animate:Uu(r)?r:void 0}}return t.inherit!==!1?e:{}}function y9(t){const{initial:e,animate:n}=m9(t,F.useContext(Zg));return F.useMemo(()=>({initial:e,animate:n}),[Cb(e),Cb(n)])}function Cb(t){return Array.isArray(t)?t.join(" "):t}const v9=Symbol.for("motionComponentSymbol");function lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function w9(t,e,n){return F.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):lo(n)&&(n.current=r))},[e])}const Mx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B9="framerAppearId",QN="data-"+Mx(B9),{schedule:Ox,cancel:Lse}=IN(queueMicrotask,!1),NN=F.createContext({});function x9(t,e,n,r,s){var i,A;const{visualElement:a}=F.useContext(Zg),o=F.useContext(UN),l=F.useContext(Jg),u=F.useContext(kx).reducedMotion,h=F.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=F.useContext(NN);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&C9(h.current,n,s,p);const m=F.useRef(!1);F.useInsertionEffect(()=>{f&&m.current&&f.update(n,l)});const y=n[QN],C=F.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((A=window.MotionHasOptimisedAnimation)===null||A===void 0?void 0:A.call(window,y)));return TN(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Ox.render(f.render),C.current&&f.animationState&&f.animationState.animateChanges())}),F.useEffect(()=>{f&&(!C.current&&f.animationState&&f.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)===null||B===void 0||B.call(window,y)}),C.current=!1))}),f}function C9(t,e,n,r){const{layoutId:s,layout:i,drag:A,dragConstraints:a,layoutScroll:o,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!A||a&&lo(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}function kN(t){if(t)return t.options.allowProjection!==!1?t.projection:kN(t.parent)}function E9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,A;t&&d9(t);function a(l,u){let h;const f={...F.useContext(kx),...l,layoutId:_9(l)},{isStatic:p}=f,m=y9(l),y=r(l,p);if(!p&&Rx){b9();const C=T9(f);h=C.MeasureLayout,m.visualElement=x9(s,y,f,e,C.ProjectionNode)}return c.jsxs(Zg.Provider,{value:m,children:[h&&m.visualElement?c.jsx(h,{visualElement:m.visualElement,...f}):null,n(s,l,w9(y,m.visualElement,u),y,p,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(A=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&A!==void 0?A:""})`}`;const o=F.forwardRef(a);return o[v9]=s,o}function _9({layoutId:t}){const e=F.useContext(Qx).id;return e&&t!==void 0?e+"-"+t:t}function b9(t,e){F.useContext(UN).strict}function T9(t){const{drag:e,layout:n}=Xo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const I9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jx(t){return typeof t!="string"||t.includes("-")?!1:!!(I9.indexOf(t)>-1||/[A-Z]/u.test(t))}function Eb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Vx(t,e,n,r){if(typeof e=="function"){const[s,i]=Eb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Eb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Nv=t=>Array.isArray(t),U9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),F9=t=>Nv(t)?t[t.length-1]||0:t,wn=t=>!!(t&&t.getVelocity);function ff(t){const e=wn(t)?t.get():t;return U9(e)?e.toValue():e}function S9({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const A={latestValues:Q9(r,s,i,t),renderState:e()};return n&&(A.onMount=a=>n({props:r,current:a,...A}),A.onUpdate=a=>n(a)),A}const RN=t=>(e,n)=>{const r=F.useContext(Zg),s=F.useContext(Jg),i=()=>S9(t,e,r,s);return n?i():Nx(i)};function Q9(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=ff(i[f]);let{initial:A,animate:a}=t;const o=tm(t),l=SN(t);e&&l&&!o&&t.inherit!==!1&&(A===void 0&&(A=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||A===!1;const h=u?a:A;if(h&&typeof h!="boolean"&&!em(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const m=Vx(t,f[p]);if(m){const{transitionEnd:y,transition:C,...B}=m;for(const w in B){let v=B[w];if(Array.isArray(v)){const I=u?v.length-1:0;v=v[I]}v!==null&&(s[w]=v)}for(const w in y)s[w]=y[w]}}}return s}const yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ca=new Set(yl),DN=t=>e=>typeof e=="string"&&e.startsWith(t),PN=DN("--"),N9=DN("var(--"),Hx=t=>N9(t)?k9.test(t.split("/*")[0].trim()):!1,k9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,LN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Js=(t,e,n)=>n>e?e:n<t?t:n,vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fu={...vl,transform:t=>Js(0,1,t)},vh={...vl,default:1},Bd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hi=Bd("deg"),os=Bd("%"),ve=Bd("px"),R9=Bd("vh"),D9=Bd("vw"),_b={...os,parse:t=>os.parse(t)/100,transform:t=>os.transform(t*100)},P9={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve},L9={rotate:hi,rotateX:hi,rotateY:hi,rotateZ:hi,scale:vh,scaleX:vh,scaleY:vh,scaleZ:vh,skew:hi,skewX:hi,skewY:hi,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Fu,originX:_b,originY:_b,originZ:ve},bb={...vl,transform:Math.round},Kx={...P9,...L9,zIndex:bb,size:ve,fillOpacity:Fu,strokeOpacity:Fu,numOctaves:bb},M9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O9=yl.length;function j9(t,e,n){let r="",s=!0;for(let i=0;i<O9;i++){const A=yl[i],a=t[A];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(A.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||n){const l=LN(a,Kx[A]);if(!o){s=!1;const u=M9[A]||A;r+=`${u}(${l}) `}n&&(e[A]=l)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function zx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let A=!1,a=!1;for(const o in e){const l=e[o];if(Ca.has(o)){A=!0;continue}else if(PN(o)){s[o]=l;continue}else{const u=LN(l,Kx[o]);o.startsWith("origin")?(a=!0,i[o]=u):r[o]=u}}if(e.transform||(A||n?r.transform=j9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:o="50%",originY:l="50%",originZ:u=0}=i;r.transformOrigin=`${o} ${l} ${u}`}}const V9={offset:"stroke-dashoffset",array:"stroke-dasharray"},H9={offset:"strokeDashoffset",array:"strokeDasharray"};function K9(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?V9:H9;t[i.offset]=ve.transform(-r);const A=ve.transform(e),a=ve.transform(n);t[i.array]=`${A} ${a}`}function Tb(t,e,n){return typeof t=="string"?t:ve.transform(e+n*t)}function z9(t,e,n){const r=Tb(e,t.x,t.width),s=Tb(n,t.y,t.height);return`${r} ${s}`}function Gx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:A,pathSpacing:a=1,pathOffset:o=0,...l},u,h){if(zx(t,l,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p,dimensions:m}=t;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=z9(m,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),A!==void 0&&K9(f,A,a,o,!1)}const $x=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),MN=()=>({...$x(),attrs:{}}),Wx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ON(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const jN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VN(t,e,n,r){ON(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(jN.has(s)?s:Mx(s),e.attrs[s])}const vp={};function G9(t){Object.assign(vp,t)}function HN(t,{layout:e,layoutId:n}){return Ca.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vp[t]||t==="opacity")}function qx(t,e,n){var r;const{style:s}=t,i={};for(const A in s)(wn(s[A])||e.style&&wn(e.style[A])||HN(A,t)||((r=n==null?void 0:n.getValue(A))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[A]=s[A]);return i}function KN(t,e,n){const r=qx(t,e,n);for(const s in t)if(wn(t[s])||wn(e[s])){const i=yl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function $9(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Ib=["x","y","width","height","cx","cy","r"],W9={useVisualState:RN({scrapeMotionValuesFromProps:KN,createRenderState:MN,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Ca.has(a)){i=!0;break}}if(!i)return;let A=!e;if(e)for(let a=0;a<Ib.length;a++){const o=Ib[a];t[o]!==e[o]&&(A=!0)}A&&At.read(()=>{$9(n,r),At.render(()=>{Gx(r,s,Wx(n.tagName),t.transformTemplate),VN(n,r)})})}})},q9={useVisualState:RN({scrapeMotionValuesFromProps:qx,createRenderState:$x})};function zN(t,e,n){for(const r in e)!wn(e[r])&&!HN(r,n)&&(t[r]=e[r])}function X9({transformTemplate:t},e){return F.useMemo(()=>{const n=$x();return zx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Y9(t,e){const n=t.style||{},r={};return zN(r,n,t),Object.assign(r,X9(t,e)),r}function J9(t,e){const n={},r=Y9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Z9(t,e,n,r){const s=F.useMemo(()=>{const i=MN();return Gx(i,e,Wx(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};zN(i,t.style,t),s.style={...i,...s.style}}return s}function eG(t=!1){return(n,r,s,{latestValues:i},A)=>{const o=(jx(n)?Z9:J9)(r,i,A,n),l=p9(r,typeof n=="string",t),u=n!==F.Fragment?{...l,...o,ref:s}:{},{children:h}=r,f=F.useMemo(()=>wn(h)?h.get():h,[h]);return F.createElement(n,{...u,children:f})}}function tG(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const A={...jx(r)?W9:q9,preloadedFeatures:t,useRender:eG(s),createVisualElement:e,Component:r};return E9(A)}}function GN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function nm(t,e,n){const r=t.getProps();return Vx(r,e,n!==void 0?n:r.custom,t)}const nG=Dx(()=>window.ScrollTimeline!==void 0);class rG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(nG()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sG extends rG{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Xx(t,e){return t?t[e]||t.default||t:void 0}const kv=2e4;function $N(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kv;)e+=n,r=t.next(e);return e>=kv?1/0:e}function Yx(t){return typeof t=="function"}function Ub(t,e){t.timeline=e,t.onfinish=null}const Jx=t=>Array.isArray(t)&&typeof t[0]=="number",iG={linearEasing:void 0};function AG(t,e){const n=Dx(t);return()=>{var r;return(r=iG[e])!==null&&r!==void 0?r:n()}}const wp=AG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),WN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(qo(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function qN(t){return!!(typeof t=="function"&&wp()||!t||typeof t=="string"&&(t in Rv||wp())||Jx(t)||Array.isArray(t)&&t.every(qN))}const uc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Rv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uc([0,.65,.55,1]),circOut:uc([.55,0,1,.45]),backIn:uc([.31,.01,.66,-.59]),backOut:uc([.33,1.53,.69,.99])};function XN(t,e){if(t)return typeof t=="function"&&wp()?WN(t,e):Jx(t)?uc(t):Array.isArray(t)?t.map(n=>XN(n,e)||Rv.easeOut):Rv[t]}const Fr={x:!1,y:!1};function YN(){return Fr.x||Fr.y}function aG(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function JN(t,e){const n=aG(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Fb(t){return e=>{e.pointerType==="touch"||YN()||t(e)}}function oG(t,e,n={}){const[r,s,i]=JN(t,n),A=Fb(a=>{const{target:o}=a,l=e(a);if(typeof l!="function"||!o)return;const u=Fb(h=>{l(h),o.removeEventListener("pointerleave",u)});o.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",A,s)}),i}const ZN=(t,e)=>e?t===e?!0:ZN(t,e.parentElement):!1,Zx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cG(t){return lG.has(t.tagName)||t.tabIndex!==-1}const dc=new WeakSet;function Sb(t){return e=>{e.key==="Enter"&&t(e)}}function wy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Sb(()=>{if(dc.has(n))return;wy(n,"down");const s=Sb(()=>{wy(n,"up")}),i=()=>wy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Qb(t){return Zx(t)&&!YN()}function dG(t,e,n={}){const[r,s,i]=JN(t,n),A=a=>{const o=a.currentTarget;if(!Qb(a)||dc.has(o))return;dc.add(o);const l=e(a),u=(p,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Qb(p)||!dc.has(o))&&(dc.delete(o),typeof l=="function"&&l(p,{success:m}))},h=p=>{u(p,n.useGlobalTarget||ZN(o,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!cG(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",A,s),a.addEventListener("focus",l=>uG(l,s),s)}),i}function hG(t){return t==="x"||t==="y"?Fr[t]?null:(Fr[t]=!0,()=>{Fr[t]=!1}):Fr.x||Fr.y?null:(Fr.x=Fr.y=!0,()=>{Fr.x=Fr.y=!1})}const ek=new Set(["width","height","top","left","right","bottom",...yl]);let pf;function fG(){pf=void 0}const ls={now:()=>(pf===void 0&&ls.set(qt.isProcessing||l9.useManualTiming?qt.timestamp:performance.now()),pf),set:t=>{pf=t,queueMicrotask(fG)}};function eC(t,e){t.indexOf(e)===-1&&t.push(e)}function tC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nC{constructor(){this.subscriptions=[]}add(e){return eC(this.subscriptions,e),()=>tC(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const A=this.subscriptions[i];A&&A(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tk(t,e){return e?t*(1e3/e):0}const Nb=30,pG=t=>!isNaN(parseFloat(t));class gG{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ls.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nC);const r=this.events[e].add(n);return e==="change"?()=>{r(),At.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Nb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Nb);return tk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Su(t,e){return new gG(t,e)}function mG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Su(n))}function yG(t,e){const n=nm(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const A in i){const a=F9(i[A]);mG(t,A,a)}}function vG(t){return!!(wn(t)&&t.add)}function Dv(t,e){const n=t.getValue("willChange");if(vG(n))return n.add(e)}function nk(t){return t.props[QN]}const rk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,wG=1e-7,BG=12;function xG(t,e,n,r,s){let i,A,a=0;do A=e+(n-e)/2,i=rk(A,r,s)-t,i>0?n=A:e=A;while(Math.abs(i)>wG&&++a<BG);return A}function xd(t,e,n,r){if(t===e&&n===r)return rr;const s=i=>xG(i,0,1,t,n);return i=>i===0||i===1?i:rk(s(i),e,r)}const sk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ik=t=>e=>1-t(1-e),Ak=xd(.33,1.53,.69,.99),rC=ik(Ak),ak=sk(rC),ok=t=>(t*=2)<1?.5*rC(t):.5*(2-Math.pow(2,-10*(t-1))),sC=t=>1-Math.sin(Math.acos(t)),lk=ik(sC),ck=sk(sC),uk=t=>/^0[^.\s]+$/u.test(t);function CG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uk(t):!0}const Vc=t=>Math.round(t*1e5)/1e5,iC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EG(t){return t==null}const _G=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AC=(t,e)=>n=>!!(typeof n=="string"&&_G.test(n)&&n.startsWith(t)||e&&!EG(n)&&Object.prototype.hasOwnProperty.call(n,e)),dk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,A,a]=r.match(iC);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(A),alpha:a!==void 0?parseFloat(a):1}},bG=t=>Js(0,255,t),By={...vl,transform:t=>Math.round(bG(t))},VA={test:AC("rgb","red"),parse:dk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+By.transform(t)+", "+By.transform(e)+", "+By.transform(n)+", "+Vc(Fu.transform(r))+")"};function TG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Pv={test:AC("#"),parse:TG,transform:VA.transform},co={test:AC("hsl","hue"),parse:dk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+os.transform(Vc(e))+", "+os.transform(Vc(n))+", "+Vc(Fu.transform(r))+")"},pn={test:t=>VA.test(t)||Pv.test(t)||co.test(t),parse:t=>VA.test(t)?VA.parse(t):co.test(t)?co.parse(t):Pv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?VA.transform(t):co.transform(t)},IG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(iC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(IG))===null||n===void 0?void 0:n.length)||0)>0}const hk="number",fk="color",FG="var",SG="var(",kb="${}",QG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(QG,o=>(pn.test(o)?(r.color.push(i),s.push(fk),n.push(pn.parse(o))):o.startsWith(SG)?(r.var.push(i),s.push(FG),n.push(o)):(r.number.push(i),s.push(hk),n.push(parseFloat(o))),++i,kb)).split(kb);return{values:n,split:a,indexes:r,types:s}}function pk(t){return Qu(t).values}function gk(t){const{split:e,types:n}=Qu(t),r=e.length;return s=>{let i="";for(let A=0;A<r;A++)if(i+=e[A],s[A]!==void 0){const a=n[A];a===hk?i+=Vc(s[A]):a===fk?i+=pn.transform(s[A]):i+=s[A]}return i}}const NG=t=>typeof t=="number"?0:t;function kG(t){const e=pk(t);return gk(t)(e.map(NG))}const AA={test:UG,parse:pk,createTransformer:gk,getAnimatableNone:kG},RG=new Set(["brightness","contrast","saturate","opacity"]);function DG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(iC)||[];if(!r)return t;const s=n.replace(r,"");let i=RG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const PG=/\b([a-z-]*)\(.*?\)/gu,Lv={...AA,getAnimatableNone:t=>{const e=t.match(PG);return e?e.map(DG).join(" "):t}},LG={...Kx,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:Lv,WebkitFilter:Lv},aC=t=>LG[t];function mk(t,e){let n=aC(t);return n!==Lv&&(n=AA),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MG=new Set(["auto","none","0"]);function OG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!MG.has(i)&&Qu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=mk(n,s)}const Rb=t=>t===vl||t===ve,Db=(t,e)=>parseFloat(t.split(", ")[e]),Pb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Db(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Db(i[1],t):0}},jG=new Set(["x","y","z"]),VG=yl.filter(t=>!jG.has(t));function HG(t){const e=[];return VG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Pb(4,13),y:Pb(5,14)};Yo.translateX=Yo.x;Yo.translateY=Yo.y;const qA=new Set;let Mv=!1,Ov=!1;function yk(){if(Ov){const t=Array.from(qA).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=HG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,A])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(A)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ov=!1,Mv=!1,qA.forEach(t=>t.complete()),qA.clear()}function vk(){qA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ov=!0)})}function KG(){vk(),yk()}class oC{constructor(e,n,r,s,i,A=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=A}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qA.add(this),Mv||(Mv=!0,At.read(vk),At.resolveKeyframes(yk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const A=s==null?void 0:s.get(),a=e[e.length-1];if(A!==void 0)e[0]=A;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&A===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),zG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GG(t){const e=zG.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Bk(t,e,n=1){const[r,s]=GG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const A=i.trim();return wk(A)?parseFloat(A):A}return Hx(s)?Bk(s,e,n+1):s}const xk=t=>e=>e.test(t),$G={test:t=>t==="auto",parse:t=>t},Ck=[vl,ve,os,hi,D9,R9,$G],Lb=t=>Ck.find(xk(t));class Ek extends oC{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let l=e[o];if(typeof l=="string"&&(l=l.trim(),Hx(l))){const u=Bk(l,n.current);u!==void 0&&(e[o]=u),o===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!ek.has(r)||e.length!==2)return;const[s,i]=e,A=Lb(s),a=Lb(i);if(A!==a)if(Rb(A)&&Rb(a))for(let o=0;o<e.length;o++){const l=e[o];typeof l=="string"&&(e[o]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)CG(e[s])&&r.push(s);r.length&&OG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const A=s.length-1,a=s[A];s[A]=Yo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([o,l])=>{n.getValue(o).set(l)}),this.resolveNoneKeyframes()}}const Mb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(AA.test(t)||t==="0")&&!t.startsWith("url("));function WG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],A=Mb(s,e),a=Mb(i,e);return!A||!a?!1:WG(t)||(n==="spring"||Yx(n))&&r}const XG=t=>t!==null;function rm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(XG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const YG=40;class _k{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:A="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ls.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:A,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ls.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:A,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!qG(e,r,s,i))if(A)this.options.duration=0;else{o&&o(rm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ft=(t,e,n)=>t+(e-t)*n;function xy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,A=0;if(!e)s=i=A=n;else{const a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;s=xy(o,a,t+1/3),i=xy(o,a,t),A=xy(o,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(A*255),alpha:r}}function Bp(t,e){return n=>n>0?e:t}const Cy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ZG=[Pv,VA,co],e8=t=>ZG.find(e=>e.test(t));function Ob(t){const e=e8(t);if(!e)return!1;let n=e.parse(t);return e===co&&(n=JG(n)),n}const jb=(t,e)=>{const n=Ob(t),r=Ob(e);if(!n||!r)return Bp(t,e);const s={...n};return i=>(s.red=Cy(n.red,r.red,i),s.green=Cy(n.green,r.green,i),s.blue=Cy(n.blue,r.blue,i),s.alpha=ft(n.alpha,r.alpha,i),VA.transform(s))},t8=(t,e)=>n=>e(t(n)),Cd=(...t)=>t.reduce(t8),jv=new Set(["none","hidden"]);function n8(t,e){return jv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function r8(t,e){return n=>ft(t,e,n)}function lC(t){return typeof t=="number"?r8:typeof t=="string"?Hx(t)?Bp:pn.test(t)?jb:A8:Array.isArray(t)?bk:typeof t=="object"?pn.test(t)?jb:s8:Bp}function bk(t,e){const n=[...t],r=n.length,s=t.map((i,A)=>lC(i)(i,e[A]));return i=>{for(let A=0;A<r;A++)n[A]=s[A](i);return n}}function s8(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=lC(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function i8(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const A=e.types[i],a=t.indexes[A][s[A]],o=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=o,s[A]++}return r}const A8=(t,e)=>{const n=AA.createTransformer(e),r=Qu(t),s=Qu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?jv.has(t)&&!s.values.length||jv.has(e)&&!r.values.length?n8(t,e):Cd(bk(i8(r,s),s.values),n):Bp(t,e)};function Tk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):lC(t)(t,e)}const a8=5;function Ik(t,e,n){const r=Math.max(e-a8,0);return tk(n-t(r),e-r)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ey=.001;function o8({duration:t=wt.duration,bounce:e=wt.bounce,velocity:n=wt.velocity,mass:r=wt.mass}){let s,i,A=1-e;A=Js(wt.minDamping,wt.maxDamping,A),t=Js(wt.minDuration,wt.maxDuration,Ls(t)),A<1?(s=l=>{const u=l*A,h=u*t,f=u-n,p=Vv(l,A),m=Math.exp(-h);return Ey-f/p*m},i=l=>{const h=l*A*t,f=h*n+n,p=Math.pow(A,2)*Math.pow(l,2)*t,m=Math.exp(-h),y=Vv(Math.pow(l,2),A);return(-s(l)+Ey>0?-1:1)*((f-p)*m)/y}):(s=l=>{const u=Math.exp(-l*t),h=(l-n)*t+1;return-Ey+u*h},i=l=>{const u=Math.exp(-l*t),h=(n-l)*(t*t);return u*h});const a=5/t,o=c8(s,i,a);if(t=Ps(t),isNaN(o))return{stiffness:wt.stiffness,damping:wt.damping,duration:t};{const l=Math.pow(o,2)*r;return{stiffness:l,damping:A*2*Math.sqrt(r*l),duration:t}}}const l8=12;function c8(t,e,n){let r=n;for(let s=1;s<l8;s++)r=r-t(r)/e(r);return r}function Vv(t,e){return t*Math.sqrt(1-e*e)}const u8=["duration","bounce"],d8=["stiffness","damping","mass"];function Vb(t,e){return e.some(n=>t[n]!==void 0)}function h8(t){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...t};if(!Vb(t,d8)&&Vb(t,u8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Js(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:wt.mass,stiffness:s,damping:i}}else{const n=o8(t);e={...e,...n,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function Uk(t=wt.visualDuration,e=wt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],A=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=h8({...n,velocity:-Ls(n.velocity||0)}),m=f||0,y=l/(2*Math.sqrt(o*u)),C=A-i,B=Ls(Math.sqrt(o/u)),w=Math.abs(C)<5;r||(r=w?wt.restSpeed.granular:wt.restSpeed.default),s||(s=w?wt.restDelta.granular:wt.restDelta.default);let v;if(y<1){const Q=Vv(B,y);v=k=>{const T=Math.exp(-y*B*k);return A-T*((m+y*B*C)/Q*Math.sin(Q*k)+C*Math.cos(Q*k))}}else if(y===1)v=Q=>A-Math.exp(-B*Q)*(C+(m+B*C)*Q);else{const Q=B*Math.sqrt(y*y-1);v=k=>{const T=Math.exp(-y*B*k),E=Math.min(Q*k,300);return A-T*((m+y*B*C)*Math.sinh(E)+Q*C*Math.cosh(E))/Q}}const I={calculatedDuration:p&&h||null,next:Q=>{const k=v(Q);if(p)a.done=Q>=h;else{let T=0;y<1&&(T=Q===0?Ps(m):Ik(v,Q,k));const E=Math.abs(T)<=r,b=Math.abs(A-k)<=s;a.done=E&&b}return a.value=a.done?A:k,a},toString:()=>{const Q=Math.min($N(I),kv),k=WN(T=>I.next(Q*T).value,Q,30);return Q+"ms "+k}};return I}function Hb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:A,min:a,max:o,restDelta:l=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=E=>a!==void 0&&E<a||o!==void 0&&E>o,m=E=>a===void 0?o:o===void 0||Math.abs(a-E)<Math.abs(o-E)?a:o;let y=n*e;const C=h+y,B=A===void 0?C:A(C);B!==C&&(y=B-h);const w=E=>-y*Math.exp(-E/r),v=E=>B+w(E),I=E=>{const b=w(E),_=v(E);f.done=Math.abs(b)<=l,f.value=f.done?B:_};let Q,k;const T=E=>{p(f.value)&&(Q=E,k=Uk({keyframes:[f.value,m(f.value)],velocity:Ik(v,E,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return T(0),{calculatedDuration:null,next:E=>{let b=!1;return!k&&Q===void 0&&(b=!0,I(E),T(E)),Q!==void 0&&E>=Q?k.next(E-Q):(!b&&I(E),f)}}}const f8=xd(.42,0,1,1),p8=xd(0,0,.58,1),Fk=xd(.42,0,.58,1),g8=t=>Array.isArray(t)&&typeof t[0]!="number",Kb={linear:rr,easeIn:f8,easeInOut:Fk,easeOut:p8,circIn:sC,circInOut:ck,circOut:lk,backIn:rC,backInOut:ak,backOut:Ak,anticipate:ok},zb=t=>{if(Jx(t)){Qv(t.length===4);const[e,n,r,s]=t;return xd(e,n,r,s)}else if(typeof t=="string")return Qv(Kb[t]!==void 0),Kb[t];return t};function m8(t,e,n){const r=[],s=n||Tk,i=t.length-1;for(let A=0;A<i;A++){let a=s(t[A],t[A+1]);if(e){const o=Array.isArray(e)?e[A]||rr:e;a=Cd(o,a)}r.push(a)}return r}function y8(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Qv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const A=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=m8(e,r,s),o=a.length,l=u=>{if(A&&u<t[0])return e[0];let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=qo(t[h],t[h+1],u);return a[h](f)};return n?u=>l(Js(t[0],t[i-1],u)):l}function v8(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=qo(0,e,r);t.push(ft(n,1,s))}}function w8(t){const e=[0];return v8(e,t.length-1),e}function B8(t,e){return t.map(n=>n*e)}function x8(t,e){return t.map(()=>e||Fk).splice(0,t.length-1)}function xp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=g8(r)?r.map(zb):zb(r),i={done:!1,value:e[0]},A=B8(n&&n.length===e.length?n:w8(e),t),a=y8(A,e,{ease:Array.isArray(s)?s:x8(e,s)});return{calculatedDuration:t,next:o=>(i.value=a(o),i.done=o>=t,i)}}const C8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>At.update(e,!0),stop:()=>iA(e),now:()=>qt.isProcessing?qt.timestamp:ls.now()}},E8={decay:Hb,inertia:Hb,tween:xp,keyframes:xp,spring:Uk},_8=t=>t/100;class cC extends _k{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,A=(s==null?void 0:s.KeyframeResolver)||oC,a=(o,l)=>this.onKeyframesResolved(o,l);this.resolver=new A(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:A=0}=this.options,a=Yx(n)?n:E8[n]||xp;let o,l;a!==xp&&typeof e[0]!="number"&&(o=Cd(_8,Tk(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-A})),u.calculatedDuration===null&&(u.calculatedDuration=$N(u));const{calculatedDuration:h}=u,f=h+s,p=f*(r+1)-s;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:A,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:m,repeatDelay:y,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const B=this.currentTime-f*(this.speed>=0?1:-1),w=this.speed>=0?B<0:B>u;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,I=i;if(p){const E=Math.min(this.currentTime,u)/h;let b=Math.floor(E),_=E%1;!_&&E>=1&&(_=1),_===1&&b--,b=Math.min(b,p+1),!!(b%2)&&(m==="reverse"?(_=1-_,y&&(_-=y/h)):m==="mirror"&&(I=A)),v=Js(0,1,_)*h}const Q=w?{done:!1,value:o[0]}:I.next(v);a&&(Q.value=a(Q.value));let{done:k}=Q;!w&&l!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&s!==void 0&&(Q.value=rm(o,this.options,s)),C&&C(Q.value),T&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Ls(e.calculatedDuration):0}get time(){return Ls(this.currentTime)}set time(e){e=Ps(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ls(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=C8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const b8=new Set(["opacity","clipPath","filter","transform"]);function T8(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:A="loop",ease:a="easeInOut",times:o}={}){const l={[e]:n};o&&(l.offset=o);const u=XN(a,s);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:A==="reverse"?"alternate":"normal"})}const I8=Dx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cp=10,U8=2e4;function F8(t){return Yx(t.type)||t.type==="spring"||!qN(t.ease)}function S8(t,e){const n=new cC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<U8;)r=n.sample(i),s.push(r.value),i+=Cp;return{times:void 0,keyframes:s,duration:i-Cp,ease:"linear"}}const Sk={anticipate:ok,backInOut:ak,circInOut:ck};function Q8(t){return t in Sk}class Gb extends _k{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Ek(i,(A,a)=>this.onKeyframesResolved(A,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:A,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&wp()&&Q8(i)&&(i=Sk[i]),F8(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:m,...y}=this.options,C=S8(e,y);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,s=C.times,i=C.ease,A="keyframes"}const u=T8(a.owner.current,o,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(Ub(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(rm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:A,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ls(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ls(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ps(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rr;const{animation:r}=n;Ub(r,e)}return rr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:A,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:h,element:f,...p}=this.options,m=new cC({...p,keyframes:r,duration:s,type:i,ease:A,times:a,isGenerator:!0}),y=Ps(this.time);l.setWithVelocity(m.sample(y-Cp).value,m.sample(y).value,Cp)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:A,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=n.owner.getProps();return I8()&&r&&b8.has(r)&&!o&&!l&&!s&&i!=="mirror"&&A!==0&&a!=="inertia"}}const N8={type:"spring",stiffness:500,damping:25,restSpeed:10},k8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),R8={type:"keyframes",duration:.8},D8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P8=(t,{keyframes:e})=>e.length>2?R8:Ca.has(t)?t.startsWith("scale")?k8(e[1]):N8:D8;function L8({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:A,repeatDelay:a,from:o,elapsed:l,...u}){return!!Object.keys(u).length}const uC=(t,e,n,r={},s,i)=>A=>{const a=Xx(r,t)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ps(o);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{A(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};L8(a)||(u={...u,...P8(t,u)}),u.duration&&(u.duration=Ps(u.duration)),u.repeatDelay&&(u.repeatDelay=Ps(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=rm(u.keyframes,a);if(f!==void 0)return At.update(()=>{u.onUpdate(f),u.onComplete()}),new sG([])}return!i&&Gb.supports(u)?new Gb(u):new cC(u)};function M8({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Qk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:A=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(A=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=o[h];if(p===void 0||u&&M8(u,h))continue;const m={delay:n,...Xx(A||{},h)};let y=!1;if(window.MotionHandoffAnimation){const B=nk(t);if(B){const w=window.MotionHandoffAnimation(B,h,At);w!==null&&(m.startTime=w,y=!0)}}Dv(t,h),f.start(uC(h,f,p,t.shouldReduceMotion&&ek.has(h)?{type:!1}:m,t,y));const C=f.animation;C&&l.push(C)}return a&&Promise.all(l).then(()=>{At.update(()=>{a&&yG(t,a)})}),l}function Hv(t,e,n={}){var r;const s=nm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const A=s?()=>Promise.all(Qk(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return O8(t,e,u+l,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[A,a]:[a,A];return l().then(()=>u())}else return Promise.all([A(),a(n.delay)])}function O8(t,e,n=0,r=0,s=1,i){const A=[],a=(t.variantChildren.size-1)*r,o=s===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(t.variantChildren).sort(j8).forEach((l,u)=>{l.notify("AnimationStart",e),A.push(Hv(l,e,{...i,delay:n+o(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(A)}function j8(t,e){return t.sortNodePosition(e)}function V8(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Hv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Hv(t,e,n);else{const s=typeof e=="function"?nm(t,e,n.custom):e;r=Promise.all(Qk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const H8=Lx.length;function Nk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Nk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<H8;n++){const r=Lx[n],s=t.props[r];(Uu(s)||s===!1)&&(e[r]=s)}return e}const K8=[...Px].reverse(),z8=Px.length;function G8(t){return e=>Promise.all(e.map(({animation:n,options:r})=>V8(t,n,r)))}function $8(t){let e=G8(t),n=$b(),r=!0;const s=o=>(l,u)=>{var h;const f=nm(t,u,o==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...y}=f;l={...l,...y,...m}}return l};function i(o){e=o(t)}function A(o){const{props:l}=t,u=Nk(t.parent)||{},h=[],f=new Set;let p={},m=1/0;for(let C=0;C<z8;C++){const B=K8[C],w=n[B],v=l[B]!==void 0?l[B]:u[B],I=Uu(v),Q=B===o?w.isActive:null;Q===!1&&(m=C);let k=v===u[B]&&v!==l[B]&&I;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...p},!w.isActive&&Q===null||!v&&!w.prevProp||em(v)||typeof v=="boolean")continue;const T=W8(w.prevProp,v);let E=T||B===o&&w.isActive&&!k&&I||C>m&&I,b=!1;const _=Array.isArray(v)?v:[v];let R=_.reduce(s(B),{});Q===!1&&(R={});const{prevResolvedValues:N={}}=w,S={...N,...R},Y=q=>{E=!0,f.has(q)&&(b=!0,f.delete(q)),w.needsAnimating[q]=!0;const M=t.getValue(q);M&&(M.liveStyle=!1)};for(const q in S){const M=R[q],K=N[q];if(p.hasOwnProperty(q))continue;let J=!1;Nv(M)&&Nv(K)?J=!GN(M,K):J=M!==K,J?M!=null?Y(q):f.add(q):M!==void 0&&f.has(q)?Y(q):w.protectedKeys[q]=!0}w.prevProp=v,w.prevResolvedValues=R,w.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(k&&T)||b)&&h.push(..._.map(q=>({animation:q,options:{type:B}})))}if(f.size){const C={};f.forEach(B=>{const w=t.getBaseTarget(B),v=t.getValue(B);v&&(v.liveStyle=!0),C[B]=w??null}),h.push({animation:C})}let y=!!h.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(o,l){var u;if(n[o].isActive===l)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(o,l)}),n[o].isActive=l;const h=A(o);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:A,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=$b(),r=!0}}}function W8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GN(e,t):!1}function IA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $b(){return{animate:IA(!0),whileInView:IA(),whileHover:IA(),whileTap:IA(),whileDrag:IA(),whileFocus:IA(),exit:IA()}}class BA{constructor(e){this.isMounted=!1,this.node=e}update(){}}class q8 extends BA{constructor(e){super(e),e.animationState||(e.animationState=$8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();em(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let X8=0;class Y8 extends BA{constructor(){super(...arguments),this.id=X8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const J8={animation:{Feature:q8},exit:{Feature:Y8}};function Nu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ed(t){return{point:{x:t.pageX,y:t.pageY}}}const Z8=t=>e=>Zx(e)&&t(e,Ed(e));function Hc(t,e,n,r){return Nu(t,e,Z8(n),r)}const Wb=(t,e)=>Math.abs(t-e);function e$(t,e){const n=Wb(t.x,e.x),r=Wb(t.y,e.y);return Math.sqrt(n**2+r**2)}class kk{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=by(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=e$(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=h,{timestamp:y}=qt;this.history.push({...m,timestamp:y});const{onStart:C,onMove:B}=this.handlers;f||(C&&C(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_y(f,this.transformPagePoint),At.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=by(h.type==="pointercancel"?this.lastMoveEventInfo:_y(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,C),m&&m(h,C)},!Zx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const A=Ed(e),a=_y(A,this.transformPagePoint),{point:o}=a,{timestamp:l}=qt;this.history=[{...o,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,by(a,this.history)),this.removeListeners=Cd(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),iA(this.updatePoint)}}function _y(t,e){return e?{point:e(t.point)}:t}function qb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function by({point:t},e){return{point:t,delta:qb(t,Rk(e)),offset:qb(t,t$(e)),velocity:n$(e,.1)}}function t$(t){return t[0]}function Rk(t){return t[t.length-1]}function n$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Rk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const i=Ls(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const A={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}const Dk=1e-4,r$=1-Dk,s$=1+Dk,Pk=.01,i$=0-Pk,A$=0+Pk;function Ar(t){return t.max-t.min}function a$(t,e,n){return Math.abs(t-e)<=n}function Xb(t,e,n,r=.5){t.origin=r,t.originPoint=ft(e.min,e.max,t.origin),t.scale=Ar(n)/Ar(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=r$&&t.scale<=s$||isNaN(t.scale))&&(t.scale=1),(t.translate>=i$&&t.translate<=A$||isNaN(t.translate))&&(t.translate=0)}function Kc(t,e,n,r){Xb(t.x,e.x,n.x,r?r.originX:void 0),Xb(t.y,e.y,n.y,r?r.originY:void 0)}function Yb(t,e,n){t.min=n.min+e.min,t.max=t.min+Ar(e)}function o$(t,e,n){Yb(t.x,e.x,n.x),Yb(t.y,e.y,n.y)}function Jb(t,e,n){t.min=e.min-n.min,t.max=t.min+Ar(e)}function zc(t,e,n){Jb(t.x,e.x,n.x),Jb(t.y,e.y,n.y)}function l$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ft(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ft(n,t,r.max):Math.min(t,n)),t}function Zb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function c$(t,{top:e,left:n,bottom:r,right:s}){return{x:Zb(t.x,n,s),y:Zb(t.y,e,r)}}function eT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function u$(t,e){return{x:eT(t.x,e.x),y:eT(t.y,e.y)}}function d$(t,e){let n=.5;const r=Ar(t),s=Ar(e);return s>r?n=qo(e.min,e.max-r,t.min):r>s&&(n=qo(t.min,t.max-s,e.min)),Js(0,1,n)}function h$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kv=.35;function f$(t=Kv){return t===!1?t=0:t===!0&&(t=Kv),{x:tT(t,"left","right"),y:tT(t,"top","bottom")}}function tT(t,e,n){return{min:nT(t,e),max:nT(t,n)}}function nT(t,e){return typeof t=="number"?t:t[e]||0}const rT=()=>({translate:0,scale:1,origin:0,originPoint:0}),uo=()=>({x:rT(),y:rT()}),sT=()=>({min:0,max:0}),Et=()=>({x:sT(),y:sT()});function hr(t){return[t("x"),t("y")]}function Lk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function p$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function g$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ty(t){return t===void 0||t===1}function zv({scale:t,scaleX:e,scaleY:n}){return!Ty(t)||!Ty(e)||!Ty(n)}function NA(t){return zv(t)||Mk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Mk(t){return iT(t.x)||iT(t.y)}function iT(t){return t&&t!=="0%"}function Ep(t,e,n){const r=t-n,s=e*r;return n+s}function AT(t,e,n,r,s){return s!==void 0&&(t=Ep(t,s,r)),Ep(t,n,r)+e}function Gv(t,e=0,n=1,r,s){t.min=AT(t.min,e,n,r,s),t.max=AT(t.max,e,n,r,s)}function Ok(t,{x:e,y:n}){Gv(t.x,e.translate,e.scale,e.originPoint),Gv(t.y,n.translate,n.scale,n.originPoint)}const aT=.999999999999,oT=1.0000000000001;function m$(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,A;for(let a=0;a<s;a++){i=n[a],A=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,Ok(t,A)),r&&NA(i.latestValues)&&fo(t,i.latestValues))}e.x<oT&&e.x>aT&&(e.x=1),e.y<oT&&e.y>aT&&(e.y=1)}function ho(t,e){t.min=t.min+e,t.max=t.max+e}function lT(t,e,n,r,s=.5){const i=ft(t.min,t.max,s);Gv(t,e,n,i,r)}function fo(t,e){lT(t.x,e.x,e.scaleX,e.scale,e.originX),lT(t.y,e.y,e.scaleY,e.scale,e.originY)}function jk(t,e){return Lk(g$(t.getBoundingClientRect(),e))}function y$(t,e,n){const r=jk(t,n),{scroll:s}=e;return s&&(ho(r.x,s.offset.x),ho(r.y,s.offset.y)),r}const Vk=({current:t})=>t?t.ownerDocument.defaultView:null,v$=new WeakMap;class w${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ed(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hG(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hr(C=>{let B=this.getAxisMotionValue(C).get()||0;if(os.test(B)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[C];v&&(B=Ar(v)*(parseFloat(B)/100))}}this.originPoint[C]=B}),m&&At.postRender(()=>m(u,h)),Dv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},A=(u,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:C}=h;if(p&&this.currentDirection===null){this.currentDirection=B$(C),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),o=()=>hr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new kk(e,{onSessionStart:s,onStart:i,onMove:A,onSessionEnd:a,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:Vk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&At.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!wh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let A=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(A=l$(A,this.constraints[e],this.elastic[e])),i.set(A)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&lo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=c$(s.layoutBox,n):this.constraints=!1,this.elastic=f$(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&hr(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=h$(s.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=y$(r,s.root,this.visualElement.getTransformPagePoint());let A=u$(s.layout.layoutBox,i);if(n){const a=n(p$(A));this.hasMutatedConstraints=!!a,a&&(A=Lk(a))}return A}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:A,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=hr(u=>{if(!wh(u,n,this.currentDirection))return;let h=o&&o[u]||{};A&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Dv(this.visualElement,e),r.start(uC(e,r,0,n,this.visualElement,!1))}stopAnimation(){hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hr(n=>{const{drag:r}=this.getProps();if(!wh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:A,max:a}=s.layout.layoutBox[n];i.set(e[n]-ft(A,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hr(A=>{const a=this.getAxisMotionValue(A);if(a&&this.constraints!==!1){const o=a.get();s[A]=d$({min:o,max:o},this.constraints[A])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hr(A=>{if(!wh(A,e,null))return;const a=this.getAxisMotionValue(A),{min:o,max:l}=this.constraints[A];a.set(ft(o,l,s[A]))})}addListeners(){if(!this.visualElement.current)return;v$.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",o=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();lo(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),At.read(r);const A=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:o,hasLayoutChanged:l})=>{this.isDragging&&l&&(hr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=o[u].translate,h.set(h.get()+o[u].translate))}),this.visualElement.render())});return()=>{A(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:A=Kv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:A,dragMomentum:a}}}function wh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function B$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class x$ extends BA{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new w$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const cT=t=>(e,n)=>{t&&At.postRender(()=>t(e,n))};class C$ extends BA{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new kk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:cT(e),onStart:cT(n),onMove:r,onEnd:(i,A)=>{delete this.session,s&&At.postRender(()=>s(i,A))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=uT(t,e.target.x),r=uT(t,e.target.y);return`${n}% ${r}%`}},E$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=AA.parse(t);if(s.length>5)return r;const i=AA.createTransformer(t),A=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,o=n.y.scale*e.y;s[0+A]/=a,s[1+A]/=o;const l=ft(a,o,.5);return typeof s[2+A]=="number"&&(s[2+A]/=l),typeof s[3+A]=="number"&&(s[3+A]/=l),i(s)}};class _$ extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;G9(b$),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,A=r.projection;return A&&(A.isPresent=i,s||e.layoutDependency!==n||n===void 0?A.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?A.promote():A.relegate()||At.postRender(()=>{const a=A.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ox.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hk(t){const[e,n]=bN(),r=F.useContext(Qx);return c.jsx(_$,{...t,layoutGroup:r,switchLayoutGroup:F.useContext(NN),isPresent:e,safeToRemove:n})}const b$={borderRadius:{...Gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gl,borderTopRightRadius:Gl,borderBottomLeftRadius:Gl,borderBottomRightRadius:Gl,boxShadow:E$};function T$(t,e,n){const r=wn(t)?t:Su(t);return r.start(uC("",r,e,n)),r.animation}function I$(t){return t instanceof SVGElement&&t.tagName!=="svg"}const U$=(t,e)=>t.depth-e.depth;class F${constructor(){this.children=[],this.isDirty=!1}add(e){eC(this.children,e),this.isDirty=!0}remove(e){tC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U$),this.isDirty=!1,this.children.forEach(e)}}function S$(t,e){const n=ls.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(iA(r),t(i-e))};return At.read(r,!0),()=>iA(r)}const Kk=["TopLeft","TopRight","BottomLeft","BottomRight"],Q$=Kk.length,dT=t=>typeof t=="string"?parseFloat(t):t,hT=t=>typeof t=="number"||ve.test(t);function N$(t,e,n,r,s,i){s?(t.opacity=ft(0,n.opacity!==void 0?n.opacity:1,k$(r)),t.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,R$(r))):i&&(t.opacity=ft(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let A=0;A<Q$;A++){const a=`border${Kk[A]}Radius`;let o=fT(e,a),l=fT(n,a);if(o===void 0&&l===void 0)continue;o||(o=0),l||(l=0),o===0||l===0||hT(o)===hT(l)?(t[a]=Math.max(ft(dT(o),dT(l),r),0),(os.test(l)||os.test(o))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,r))}function fT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const k$=zk(0,.5,lk),R$=zk(.5,.95,rr);function zk(t,e,n){return r=>r<t?0:r>e?1:n(qo(t,e,r))}function pT(t,e){t.min=e.min,t.max=e.max}function ur(t,e){pT(t.x,e.x),pT(t.y,e.y)}function gT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mT(t,e,n,r,s){return t-=e,t=Ep(t,1/n,r),s!==void 0&&(t=Ep(t,1/s,r)),t}function D$(t,e=0,n=1,r=.5,s,i=t,A=t){if(os.test(e)&&(e=parseFloat(e),e=ft(A.min,A.max,e/100)-A.min),typeof e!="number")return;let a=ft(i.min,i.max,r);t===i&&(a-=e),t.min=mT(t.min,e,n,a,s),t.max=mT(t.max,e,n,a,s)}function yT(t,e,[n,r,s],i,A){D$(t,e[n],e[r],e[s],e.scale,i,A)}const P$=["x","scaleX","originX"],L$=["y","scaleY","originY"];function vT(t,e,n,r){yT(t.x,e,P$,n?n.x:void 0,r?r.x:void 0),yT(t.y,e,L$,n?n.y:void 0,r?r.y:void 0)}function wT(t){return t.translate===0&&t.scale===1}function Gk(t){return wT(t.x)&&wT(t.y)}function BT(t,e){return t.min===e.min&&t.max===e.max}function M$(t,e){return BT(t.x,e.x)&&BT(t.y,e.y)}function xT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $k(t,e){return xT(t.x,e.x)&&xT(t.y,e.y)}function CT(t){return Ar(t.x)/Ar(t.y)}function ET(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class O${constructor(){this.members=[]}add(e){eC(this.members,e),e.scheduleRender()}remove(e){if(tC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j$(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,A=(n==null?void 0:n.z)||0;if((s||i||A)&&(r=`translate3d(${s}px, ${i}px, ${A}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:m}=n;l&&(r=`perspective(${l}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const kA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},hc=typeof window<"u"&&window.MotionDebug!==void 0,Iy=["","X","Y","Z"],V$={visibility:"hidden"},_T=1e3;let H$=0;function Uy(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Wk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",At,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Wk(r)}function qk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(A={},a=e==null?void 0:e()){this.id=H$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hc&&(kA.totalNodes=kA.resolvedTargetDeltas=kA.recalculatedProjection=0),this.nodes.forEach(G$),this.nodes.forEach(Y$),this.nodes.forEach(J$),this.nodes.forEach($$),hc&&window.MotionDebug.record(kA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new F$)}addEventListener(A,a){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new nC),this.eventHandlers.get(A).add(a)}notifyListeners(A,...a){const o=this.eventHandlers.get(A);o&&o.notify(...a)}hasListeners(A){return this.eventHandlers.has(A)}mount(A,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=I$(A),this.instance=A;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||o)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(A,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=S$(f,250),gf.hasAnimatedSinceResize&&(gf.hasAnimatedSinceResize=!1,this.nodes.forEach(TT))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||rW,{onLayoutAnimationStart:C,onLayoutAnimationComplete:B}=u.getProps(),w=!this.targetLayout||!$k(this.targetLayout,m)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const I={...Xx(y,"layout"),onPlay:C,onComplete:B};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else f||TT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,iA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z$),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bT);return}this.isUpdating||this.nodes.forEach(q$),this.isUpdating=!1,this.nodes.forEach(X$),this.nodes.forEach(K$),this.nodes.forEach(z$),this.clearAllSnapshots();const a=ls.now();qt.delta=Js(0,1e3/60,a-qt.timestamp),qt.timestamp=a,qt.isProcessing=!0,vy.update.process(qt),vy.preRender.process(qt),vy.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ox.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(W$),this.sharedNodes.forEach(eW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,At.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){At.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(a=!1),a){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!s)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Gk(this.projectionDelta),o=this.getTransformTemplate(),l=o?o(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;A&&(a||NA(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return A&&(o=this.removeTransform(o)),sW(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var A;const{visualElement:a}=this.options;if(!a)return Et();const o=a.measureViewportBox();if(!(((A=this.scroll)===null||A===void 0?void 0:A.wasRoot)||this.path.some(iW))){const{scroll:u}=this.root;u&&(ho(o.x,u.offset.x),ho(o.y,u.offset.y))}return o}removeElementScroll(A){var a;const o=Et();if(ur(o,A),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ur(o,A),ho(o.x,h.offset.x),ho(o.y,h.offset.y))}return o}applyTransform(A,a=!1){const o=Et();ur(o,A);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&fo(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),NA(u.latestValues)&&fo(o,u.latestValues)}return NA(this.latestValues)&&fo(o,this.latestValues),o}removeTransform(A){const a=Et();ur(a,A);for(let o=0;o<this.path.length;o++){const l=this.path[o];if(!l.instance||!NA(l.latestValues))continue;zv(l.latestValues)&&l.updateSnapshot();const u=Et(),h=l.measurePageBox();ur(u,h),vT(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return NA(this.latestValues)&&vT(a,this.latestValues),a}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var a;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(A||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),zc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ur(this.target,this.layout.layoutBox),Ok(this.target,this.targetDelta)):ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),zc(this.relativeTargetOrigin,this.target,p.target),ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hc&&kA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zv(this.parent.latestValues)||Mk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((A=this.parent)===null||A===void 0)&&A.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ur(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;m$(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Et());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gT(this.prevProjectionDelta.x,this.projectionDelta.x),gT(this.prevProjectionDelta.y,this.projectionDelta.y)),Kc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!ET(this.projectionDelta.x,this.prevProjectionDelta.x)||!ET(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),hc&&kA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),A){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uo(),this.projectionDelta=uo(),this.projectionDeltaWithTransform=uo()}setAnimationOrigin(A,a=!1){const o=this.snapshot,l=o?o.latestValues:{},u={...this.latestValues},h=uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Et(),p=o?o.source:void 0,m=this.layout?this.layout.source:void 0,y=p!==m,C=this.getStack(),B=!C||C.members.length<=1,w=!!(y&&!B&&this.options.crossfade===!0&&!this.path.some(nW));this.animationProgress=0;let v;this.mixTargetDelta=I=>{const Q=I/1e3;IT(h.x,A.x,Q),IT(h.y,A.y,Q),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tW(this.relativeTarget,this.relativeTargetOrigin,f,Q),v&&M$(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Et()),ur(v,this.relativeTarget)),y&&(this.animationValues=u,N$(u,l,this.latestValues,Q,w,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(iA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=At.update(()=>{gf.hasAnimatedSinceResize=!0,this.currentAnimation=T$(0,_T,{...A,onUpdate:a=>{this.mixTargetDelta(a),A.onUpdate&&A.onUpdate(a)},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_T),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:a,target:o,layout:l,latestValues:u}=A;if(!(!a||!o||!l)){if(this!==A&&this.layout&&l&&Xk(this.options.animationType,this.layout.layoutBox,l.layoutBox)){o=this.target||Et();const h=Ar(this.layout.layoutBox.x);o.x.min=A.target.x.min,o.x.max=o.x.min+h;const f=Ar(this.layout.layoutBox.y);o.y.min=A.target.y.min,o.y.max=o.y.min+f}ur(a,o),fo(a,u),Kc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(A,a){this.sharedNodes.has(A)||this.sharedNodes.set(A,new O$),this.sharedNodes.get(A).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var A;const{layoutId:a}=this.options;return a?((A=this.getStack())===null||A===void 0?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:a}=this.options;return a?(A=this.getStack())===null||A===void 0?void 0:A.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:a,preserveFollowOpacity:o}={}){const l=this.getStack();l&&l.promote(this,o),A&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let a=!1;const{latestValues:o}=A;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const l={};o.z&&Uy("z",A,l,this.animationValues);for(let u=0;u<Iy.length;u++)Uy(`rotate${Iy[u]}`,A,l,this.animationValues),Uy(`skew${Iy[u]}`,A,l,this.animationValues);A.render();for(const u in l)A.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);A.scheduleRender()}getProjectionStyles(A){var a,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V$;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ff(A==null?void 0:A.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=ff(A==null?void 0:A.pointerEvents)||""),this.hasProjected&&!NA(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=j$(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(o=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in vp){if(f[y]===void 0)continue;const{correct:C,applyTo:B}=vp[y],w=l.transform==="none"?f[y]:C(f[y],h);if(B){const v=B.length;for(let I=0;I<v;I++)l[B[I]]=w}else l[y]=w}return this.options.layoutId&&(l.pointerEvents=h===this?ff(A==null?void 0:A.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var a;return(a=A.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(bT),this.root.sharedNodes.clear()}}}function K$(t){t.updateLayout()}function z$(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,A=n.source!==t.layout.source;i==="size"?hr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],p=Ar(f);f.min=r[h].min,f.max=f.min+p}):Xk(i,n.layoutBox,r)&&hr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],p=Ar(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=uo();Kc(a,r,n.layoutBox);const o=uo();A?Kc(o,t.applyTransform(s,!0),n.measuredBox):Kc(o,r,n.layoutBox);const l=!Gk(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=Et();zc(m,n.layoutBox,f.layoutBox);const y=Et();zc(y,r,p.layoutBox),$k(m,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function G$(t){hc&&kA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function W$(t){t.clearSnapshot()}function bT(t){t.clearMeasurements()}function q$(t){t.isLayoutDirty=!1}function X$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Y$(t){t.resolveTargetDelta()}function J$(t){t.calcProjection()}function Z$(t){t.resetSkewAndRotation()}function eW(t){t.removeLeadSnapshot()}function IT(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UT(t,e,n,r){t.min=ft(e.min,n.min,r),t.max=ft(e.max,n.max,r)}function tW(t,e,n,r){UT(t.x,e.x,n.x,r),UT(t.y,e.y,n.y,r)}function nW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const rW={duration:.45,ease:[.4,0,.1,1]},FT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ST=FT("applewebkit/")&&!FT("chrome/")?Math.round:rr;function QT(t){t.min=ST(t.min),t.max=ST(t.max)}function sW(t){QT(t.x),QT(t.y)}function Xk(t,e,n){return t==="position"||t==="preserve-aspect"&&!a$(CT(e),CT(n),.2)}function iW(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const AW=qk({attachResizeListener:(t,e)=>Nu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fy={current:void 0},Yk=qk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fy.current){const t=new AW({});t.mount(window),t.setOptions({layoutScroll:!0}),Fy.current=t}return Fy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),aW={pan:{Feature:C$},drag:{Feature:x$,ProjectionNode:Yk,MeasureLayout:Hk}};function NT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&At.postRender(()=>i(e,Ed(e)))}class oW extends BA{mount(){const{current:e}=this.node;e&&(this.unmount=oG(e,n=>(NT(this.node,n,"Start"),r=>NT(this.node,r,"End"))))}unmount(){}}class lW extends BA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cd(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&At.postRender(()=>i(e,Ed(e)))}class cW extends BA{mount(){const{current:e}=this.node;e&&(this.unmount=dG(e,n=>(kT(this.node,n,"Start"),(r,{success:s})=>kT(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $v=new WeakMap,Sy=new WeakMap,uW=t=>{const e=$v.get(t.target);e&&e(t)},dW=t=>{t.forEach(uW)};function hW({root:t,...e}){const n=t||document;Sy.has(n)||Sy.set(n,{});const r=Sy.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(dW,{root:t,...e})),r[s]}function fW(t,e,n){const r=hW(e);return $v.set(t,n),r.observe(t),()=>{$v.delete(t),r.unobserve(t)}}const pW={some:0,all:1};class gW extends BA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,A={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pW[s]},a=o=>{const{isIntersecting:l}=o;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=l?u:h;f&&f(o)};return fW(this.node.current,A,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mW(e,n))&&this.startObserver()}unmount(){}}function mW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yW={inView:{Feature:gW},tap:{Feature:cW},focus:{Feature:lW},hover:{Feature:oW}},vW={layout:{ProjectionNode:Yk,MeasureLayout:Hk}},Wv={current:null},Jk={current:!1};function wW(){if(Jk.current=!0,!!Rx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wv.current=t.matches;t.addListener(e),e()}else Wv.current=!1}const BW=[...Ck,pn,AA],xW=t=>BW.find(xk(t)),RT=new WeakMap;function CW(t,e,n){for(const r in e){const s=e[r],i=n[r];if(wn(s))t.addValue(r,s);else if(wn(i))t.addValue(r,Su(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const A=t.getValue(r);A.liveStyle===!0?A.jump(s):A.hasAnimated||A.set(s)}else{const A=t.getStaticValue(r);t.addValue(r,Su(A!==void 0?A:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const DT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:A},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ls.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,At.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:u}=A;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=tm(n),this.isVariantNode=SN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];o[p]!==void 0&&wn(m)&&m.set(o[p],!1)}}mount(e){this.current=e,RT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Jk.current||wW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){RT.delete(this.current),this.projection&&this.projection.unmount(),iA(this.notifyUpdate),iA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ca.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&At.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let A;window.MotionCheckAppearSync&&(A=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),A&&A(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xo){const n=Xo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<DT.length;r++){const s=DT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,A=e[i];A&&(this.propEventSubscriptions[s]=this.on(s,A))}this.prevMotionValues=CW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Su(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(wk(s)||uk(s))?s=parseFloat(s):!xW(s)&&AA.test(n)&&(s=mk(e,n)),this.setBaseTarget(e,wn(s)?s.get():s)),wn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const A=Vx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);A&&(s=A[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!wn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Zk extends EW{constructor(){super(...arguments),this.KeyframeResolver=Ek}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _W(t){return window.getComputedStyle(t)}class bW extends Zk{constructor(){super(...arguments),this.type="html",this.renderInstance=ON}readValueFromInstance(e,n){if(Ca.has(n)){const r=aC(n);return r&&r.default||0}else{const r=_W(e),s=(PN(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jk(e,n)}build(e,n,r){zx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qx(e,n,r)}}class TW extends Zk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ca.has(n)){const r=aC(n);return r&&r.default||0}return n=jN.has(n)?n:Mx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KN(e,n,r)}build(e,n,r){Gx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){VN(e,n,r,s)}mount(e){this.isSVGTag=Wx(e.tagName),super.mount(e)}}const IW=(t,e)=>jx(t)?new TW(e):new bW(e,{allowProjection:t!==F.Fragment}),UW=tG({...J8,...yW,...aW,...vW},IW),$=g9(UW),FW=({isOpen:t,onClose:e,onSuccess:n})=>{const r=ol(),[s,i]=F.useState(gp),[A,a]=F.useState(""),[o,l]=F.useState(!1),[u,h]=F.useState(null),f=async p=>{p.preventDefault(),l(!0),h(null);try{await Sz(s,A),n&&n(),e(),r("/dashboard")}catch(m){console.error("Auth error:",m),h(Qz(m))}finally{l(!1)}};return c.jsx(on,{children:t&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx($n,{size:24})}),c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(mb,{className:"text-[--theater-gold]"}),"Admin Login"]}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded flex items-center gap-2",children:[c.jsx(jt,{size:20}),u]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{id:"email",type:"email",value:s,readOnly:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white opacity-50"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{id:"password",type:"password",value:A,onChange:p=>a(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Accesso in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(mb,{size:20}),"Accedi"]})})]})]})})})},SW=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState(!1),s=gA(),{user:i,isAdmin:A}=si(),a=[{path:"/",label:"Home",icon:wN,public:!0},{path:"/prenota",label:"Prenotazioni",icon:Qn,public:!0},{path:"/dashboard",label:"Dashboard",icon:Si,adminOnly:!0}].filter(o=>o.public||o.adminOnly&&A);return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:[c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx(Eo,{to:"/",className:"text-2xl font-marquee text-[--theater-gold]",children:"Carnevale"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.map(({path:o,label:l,icon:u})=>c.jsxs(Eo,{to:o,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s.pathname===o?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[c.jsx(u,{size:18}),c.jsx("span",{children:l})]},o)),!i&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(Si,{size:18}),c.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})]}),c.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-400 hover:text-white",children:t?c.jsx($n,{size:24}):c.jsx(BN,{size:24})})]})]})}),c.jsx(on,{children:t&&c.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-gray-800 border-t border-gray-700",children:c.jsx("div",{className:"container mx-auto px-4 py-2",children:a.map(({path:o,label:l,icon:u})=>c.jsxs(Eo,{to:o,onClick:()=>e(!1),className:"flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg",children:[c.jsx(u,{size:20}),c.jsx("span",{children:l})]},o))})})})]}),c.jsx(FW,{isOpen:n,onClose:()=>r(!1)})]})},QW=()=>c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx(SW,{}),c.jsx($.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-8",children:c.jsx(NS,{})})]});var _d=t=>t.type==="checkbox",HA=t=>t instanceof Date,In=t=>t==null;const eR=t=>typeof t=="object";var Ut=t=>!In(t)&&!Array.isArray(t)&&eR(t)&&!HA(t),NW=t=>Ut(t)&&t.target?_d(t.target)?t.target.checked:t.target.value:t,kW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,RW=(t,e)=>t.has(kW(e)),DW=t=>{const e=t.constructor&&t.constructor.prototype;return Ut(e)&&e.hasOwnProperty("isPrototypeOf")},dC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(dC&&(t instanceof Blob||r))&&(n||Ut(t)))if(e=n?[]:{},!n&&!DW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=dr(t[s]));else return t;return e}var sm=t=>Array.isArray(t)?t.filter(Boolean):[],Qt=t=>t===void 0,le=(t,e,n)=>{if(!e||!Ut(t))return n;const r=sm(e.split(/[,[\].]+?/)).reduce((s,i)=>In(s)?s:s[i],t);return Qt(r)||r===t?Qt(t[e])?n:t[e]:r},qr=t=>typeof t=="boolean",hC=t=>/^\w*$/.test(t),tR=t=>sm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(t,e,n)=>{let r=-1;const s=hC(e)?[e]:tR(e),i=s.length,A=i-1;for(;++r<i;){const a=s[r];let o=n;if(r!==A){const l=t[a];o=Ut(l)||Array.isArray(l)?l:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=o,t=t[a]}return t};const PT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ye.createContext(null);var PW=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const A=i;return e._proxyFormState[A]!==kr.all&&(e._proxyFormState[A]=!r||kr.all),t[A]}});return s},Dn=t=>Ut(t)&&!Object.keys(t).length,LW=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Dn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(A=>e[A]===kr.all)},mf=t=>Array.isArray(t)?t:[t];function MW(t){const e=ye.useRef(t);e.current=t,ye.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var ts=t=>typeof t=="string",OW=(t,e,n,r,s)=>ts(t)?(r&&e.watch.add(t),le(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),le(n,i))):(r&&(e.watchAll=!0),n),nR=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},LT=t=>({isOnSubmit:!t||t===kr.onSubmit,isOnBlur:t===kr.onBlur,isOnChange:t===kr.onChange,isOnAll:t===kr.all,isOnTouch:t===kr.onTouched}),MT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Gc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=le(t,s);if(i){const{_f:A,...a}=i;if(A){if(A.refs&&A.refs[0]&&e(A.refs[0],s)&&!r)return!0;if(A.ref&&e(A.ref,A.name)&&!r)return!0;if(Gc(a,e))break}else if(Ut(a)&&Gc(a,e))break}}};var jW=(t,e,n)=>{const r=mf(le(t,n));return qe(r,"root",e[n]),qe(t,n,r),t},fC=t=>t.type==="file",Yr=t=>typeof t=="function",_p=t=>{if(!dC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yf=t=>ts(t),pC=t=>t.type==="radio",bp=t=>t instanceof RegExp;const OT={value:!1,isValid:!1},jT={value:!0,isValid:!0};var rR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Qt(t[0].attributes.value)?Qt(t[0].value)||t[0].value===""?jT:{value:t[0].value,isValid:!0}:jT:OT}return OT};const VT={isValid:!1,value:null};var sR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,VT):VT;function HT(t,e,n="validate"){if(yf(t)||Array.isArray(t)&&t.every(yf)||qr(t)&&!t)return{type:n,message:yf(t)?t:"",ref:e}}var ka=t=>Ut(t)&&!bp(t)?t:{value:t,message:""},KT=async(t,e,n,r,s,i)=>{const{ref:A,refs:a,required:o,maxLength:l,minLength:u,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:C,mount:B}=t._f,w=le(n,y);if(!B||e.has(y))return{};const v=a?a[0]:A,I=N=>{s&&v.reportValidity&&(v.setCustomValidity(qr(N)?"":N||""),v.reportValidity())},Q={},k=pC(A),T=_d(A),E=k||T,b=(C||fC(A))&&Qt(A.value)&&Qt(w)||_p(A)&&A.value===""||w===""||Array.isArray(w)&&!w.length,_=nR.bind(null,y,r,Q),R=(N,S,Y,Ae=ws.maxLength,V=ws.minLength)=>{const q=N?S:Y;Q[y]={type:N?Ae:V,message:q,ref:A,..._(N?Ae:V,q)}};if(i?!Array.isArray(w)||!w.length:o&&(!E&&(b||In(w))||qr(w)&&!w||T&&!rR(a).isValid||k&&!sR(a).isValid)){const{value:N,message:S}=yf(o)?{value:!!o,message:o}:ka(o);if(N&&(Q[y]={type:ws.required,message:S,ref:v,..._(ws.required,S)},!r))return I(S),Q}if(!b&&(!In(h)||!In(f))){let N,S;const Y=ka(f),Ae=ka(h);if(!In(w)&&!isNaN(w)){const V=A.valueAsNumber||w&&+w;In(Y.value)||(N=V>Y.value),In(Ae.value)||(S=V<Ae.value)}else{const V=A.valueAsDate||new Date(w),q=J=>new Date(new Date().toDateString()+" "+J),M=A.type=="time",K=A.type=="week";ts(Y.value)&&w&&(N=M?q(w)>q(Y.value):K?w>Y.value:V>new Date(Y.value)),ts(Ae.value)&&w&&(S=M?q(w)<q(Ae.value):K?w<Ae.value:V<new Date(Ae.value))}if((N||S)&&(R(!!N,Y.message,Ae.message,ws.max,ws.min),!r))return I(Q[y].message),Q}if((l||u)&&!b&&(ts(w)||i&&Array.isArray(w))){const N=ka(l),S=ka(u),Y=!In(N.value)&&w.length>+N.value,Ae=!In(S.value)&&w.length<+S.value;if((Y||Ae)&&(R(Y,N.message,S.message),!r))return I(Q[y].message),Q}if(p&&!b&&ts(w)){const{value:N,message:S}=ka(p);if(bp(N)&&!w.match(N)&&(Q[y]={type:ws.pattern,message:S,ref:A,..._(ws.pattern,S)},!r))return I(S),Q}if(m){if(Yr(m)){const N=await m(w,n),S=HT(N,v);if(S&&(Q[y]={...S,..._(ws.validate,S.message)},!r))return I(S.message),Q}else if(Ut(m)){let N={};for(const S in m){if(!Dn(N)&&!r)break;const Y=HT(await m[S](w,n),v,S);Y&&(N={...Y,..._(S,Y.message)},I(Y.message),r&&(Q[y]=N))}if(!Dn(N)&&(Q[y]={ref:v,...N},!r))return Q}}return I(!0),Q};function VW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Qt(t)?r++:t[e[r++]];return t}function HW(t){for(const e in t)if(t.hasOwnProperty(e)&&!Qt(t[e]))return!1;return!0}function Dt(t,e){const n=Array.isArray(e)?e:hC(e)?[e]:tR(e),r=n.length===1?t:VW(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ut(r)&&Dn(r)||Array.isArray(r)&&HW(r))&&Dt(t,n.slice(0,-1)),t}var Qy=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},qv=t=>In(t)||!eR(t);function bi(t,e){if(qv(t)||qv(e))return t===e;if(HA(t)&&HA(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const A=e[s];if(HA(i)&&HA(A)||Ut(i)&&Ut(A)||Array.isArray(i)&&Array.isArray(A)?!bi(i,A):i!==A)return!1}}return!0}var iR=t=>t.type==="select-multiple",KW=t=>pC(t)||_d(t),Ny=t=>_p(t)&&t.isConnected,AR=t=>{for(const e in t)if(Yr(t[e]))return!0;return!1};function Tp(t,e={}){const n=Array.isArray(t);if(Ut(t)||n)for(const r in t)Array.isArray(t[r])||Ut(t[r])&&!AR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Tp(t[r],e[r])):In(t[r])||(e[r]=!0);return e}function aR(t,e,n){const r=Array.isArray(t);if(Ut(t)||r)for(const s in t)Array.isArray(t[s])||Ut(t[s])&&!AR(t[s])?Qt(e)||qv(n[s])?n[s]=Array.isArray(t[s])?Tp(t[s],[]):{...Tp(t[s])}:aR(t[s],In(e)?{}:e[s],n[s]):n[s]=!bi(t[s],e[s]);return n}var $l=(t,e)=>aR(t,e,Tp(e)),oR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Qt(t)?t:e?t===""?NaN:t&&+t:n&&ts(t)?new Date(t):r?r(t):t;function ky(t){const e=t.ref;return fC(e)?e.files:pC(e)?sR(t.refs).value:iR(e)?[...e.selectedOptions].map(({value:n})=>n):_d(e)?rR(t.refs).value:oR(Qt(e.value)?t.ref.value:e.value,t)}var zW=(t,e,n,r)=>{const s={};for(const i of t){const A=le(e,i);A&&qe(s,i,A._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Wl=t=>Qt(t)?t:bp(t)?t.source:Ut(t)?bp(t.value)?t.value.source:t.value:t;const zT="AsyncFunction";var GW=t=>!!t&&!!t.validate&&!!(Yr(t.validate)&&t.validate.constructor.name===zT||Ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===zT)),$W=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function GT(t,e,n){const r=le(t,n);if(r||hC(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),A=le(e,i),a=le(t,i);if(A&&!Array.isArray(A)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var WW=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,qW=(t,e)=>!sm(le(t,e)).length&&Dt(t,e);const XW={mode:kr.onSubmit,reValidateMode:kr.onChange,shouldFocusError:!0};function YW(t={}){let e={...XW,...t},n={submitCount:0,isDirty:!1,isLoading:Yr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ut(e.defaultValues)||Ut(e.values)?dr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:dr(s),A={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,l=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Qy(),array:Qy(),state:Qy()},f=LT(e.mode),p=LT(e.reValidateMode),m=e.criteriaMode===kr.all,y=D=>L=>{clearTimeout(l),l=setTimeout(D,L)},C=async D=>{if(!e.disabled&&(u.isValid||D)){const L=e.resolver?Dn((await E()).errors):await _(r,!0);L!==n.isValid&&h.state.next({isValid:L})}},B=(D,L)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((D||Array.from(a.mount)).forEach(j=>{j&&(L?qe(n.validatingFields,j,L):Dt(n.validatingFields,j))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Dn(n.validatingFields)}))},w=(D,L=[],j,re,te=!0,X=!0)=>{if(re&&j&&!e.disabled){if(A.action=!0,X&&Array.isArray(le(r,D))){const pe=j(le(r,D),re.argA,re.argB);te&&qe(r,D,pe)}if(X&&Array.isArray(le(n.errors,D))){const pe=j(le(n.errors,D),re.argA,re.argB);te&&qe(n.errors,D,pe),qW(n.errors,D)}if(u.touchedFields&&X&&Array.isArray(le(n.touchedFields,D))){const pe=j(le(n.touchedFields,D),re.argA,re.argB);te&&qe(n.touchedFields,D,pe)}u.dirtyFields&&(n.dirtyFields=$l(s,i)),h.state.next({name:D,isDirty:N(D,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else qe(i,D,L)},v=(D,L)=>{qe(n.errors,D,L),h.state.next({errors:n.errors})},I=D=>{n.errors=D,h.state.next({errors:n.errors,isValid:!1})},Q=(D,L,j,re)=>{const te=le(r,D);if(te){const X=le(i,D,Qt(j)?le(s,D):j);Qt(X)||re&&re.defaultChecked||L?qe(i,D,L?X:ky(te._f)):Ae(D,X),A.mount&&C()}},k=(D,L,j,re,te)=>{let X=!1,pe=!1;const Ie={name:D};if(!e.disabled){const Ne=!!(le(r,D)&&le(r,D)._f&&le(r,D)._f.disabled);if(!j||re){u.isDirty&&(pe=n.isDirty,n.isDirty=Ie.isDirty=N(),X=pe!==Ie.isDirty);const De=Ne||bi(le(s,D),L);pe=!!(!Ne&&le(n.dirtyFields,D)),De||Ne?Dt(n.dirtyFields,D):qe(n.dirtyFields,D,!0),Ie.dirtyFields=n.dirtyFields,X=X||u.dirtyFields&&pe!==!De}if(j){const De=le(n.touchedFields,D);De||(qe(n.touchedFields,D,j),Ie.touchedFields=n.touchedFields,X=X||u.touchedFields&&De!==j)}X&&te&&h.state.next(Ie)}return X?Ie:{}},T=(D,L,j,re)=>{const te=le(n.errors,D),X=u.isValid&&qr(L)&&n.isValid!==L;if(e.delayError&&j?(o=y(()=>v(D,j)),o(e.delayError)):(clearTimeout(l),o=null,j?qe(n.errors,D,j):Dt(n.errors,D)),(j?!bi(te,j):te)||!Dn(re)||X){const pe={...re,...X&&qr(L)?{isValid:L}:{},errors:n.errors,name:D};n={...n,...pe},h.state.next(pe)}},E=async D=>{B(D,!0);const L=await e.resolver(i,e.context,zW(D||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return B(D),L},b=async D=>{const{errors:L}=await E(D);if(D)for(const j of D){const re=le(L,j);re?qe(n.errors,j,re):Dt(n.errors,j)}else n.errors=L;return L},_=async(D,L,j={valid:!0})=>{for(const re in D){const te=D[re];if(te){const{_f:X,...pe}=te;if(X){const Ie=a.array.has(X.name),Ne=te._f&&GW(te._f);Ne&&u.validatingFields&&B([re],!0);const De=await KT(te,a.disabled,i,m,e.shouldUseNativeValidation&&!L,Ie);if(Ne&&u.validatingFields&&B([re]),De[X.name]&&(j.valid=!1,L))break;!L&&(le(De,X.name)?Ie?jW(n.errors,De,X.name):qe(n.errors,X.name,De[X.name]):Dt(n.errors,X.name))}!Dn(pe)&&await _(pe,L,j)}}return j.valid},R=()=>{for(const D of a.unMount){const L=le(r,D);L&&(L._f.refs?L._f.refs.every(j=>!Ny(j)):!Ny(L._f.ref))&&Je(D)}a.unMount=new Set},N=(D,L)=>!e.disabled&&(D&&L&&qe(i,D,L),!bi(ee(),s)),S=(D,L,j)=>OW(D,a,{...A.mount?i:Qt(L)?s:ts(D)?{[D]:L}:L},j,L),Y=D=>sm(le(A.mount?i:s,D,e.shouldUnregister?le(s,D,[]):[])),Ae=(D,L,j={})=>{const re=le(r,D);let te=L;if(re){const X=re._f;X&&(!X.disabled&&qe(i,D,oR(L,X)),te=_p(X.ref)&&In(L)?"":L,iR(X.ref)?[...X.ref.options].forEach(pe=>pe.selected=te.includes(pe.value)):X.refs?_d(X.ref)?X.refs.length>1?X.refs.forEach(pe=>(!pe.defaultChecked||!pe.disabled)&&(pe.checked=Array.isArray(te)?!!te.find(Ie=>Ie===pe.value):te===pe.value)):X.refs[0]&&(X.refs[0].checked=!!te):X.refs.forEach(pe=>pe.checked=pe.value===te):fC(X.ref)?X.ref.value="":(X.ref.value=te,X.ref.type||h.values.next({name:D,values:{...i}})))}(j.shouldDirty||j.shouldTouch)&&k(D,te,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&J(D)},V=(D,L,j)=>{for(const re in L){const te=L[re],X=`${D}.${re}`,pe=le(r,X);(a.array.has(D)||Ut(te)||pe&&!pe._f)&&!HA(te)?V(X,te,j):Ae(X,te,j)}},q=(D,L,j={})=>{const re=le(r,D),te=a.array.has(D),X=dr(L);qe(i,D,X),te?(h.array.next({name:D,values:{...i}}),(u.isDirty||u.dirtyFields)&&j.shouldDirty&&h.state.next({name:D,dirtyFields:$l(s,i),isDirty:N(D,X)})):re&&!re._f&&!In(X)?V(D,X,j):Ae(D,X,j),MT(D,a)&&h.state.next({...n}),h.values.next({name:A.mount?D:void 0,values:{...i}})},M=async D=>{A.mount=!0;const L=D.target;let j=L.name,re=!0;const te=le(r,j),X=()=>L.type?ky(te._f):NW(D),pe=Ie=>{re=Number.isNaN(Ie)||HA(Ie)&&isNaN(Ie.getTime())||bi(Ie,le(i,j,Ie))};if(te){let Ie,Ne;const De=X(),Wn=D.type===PT.BLUR||D.type===PT.FOCUS_OUT,Fd=!$W(te._f)&&!e.resolver&&!le(n.errors,j)&&!te._f.deps||WW(Wn,le(n.touchedFields,j),n.isSubmitted,p,f),ba=MT(j,a,Wn);qe(i,j,De),Wn?(te._f.onBlur&&te._f.onBlur(D),o&&o(0)):te._f.onChange&&te._f.onChange(D);const Bl=k(j,De,Wn,!1),CA=!Dn(Bl)||ba;if(!Wn&&h.values.next({name:j,type:D.type,values:{...i}}),Fd)return u.isValid&&(e.mode==="onBlur"&&Wn?C():Wn||C()),CA&&h.state.next({name:j,...ba?{}:Bl});if(!Wn&&ba&&h.state.next({...n}),e.resolver){const{errors:xl}=await E([j]);if(pe(De),re){const Sd=GT(n.errors,r,j),Ta=GT(xl,r,Sd.name||j);Ie=Ta.error,j=Ta.name,Ne=Dn(xl)}}else B([j],!0),Ie=(await KT(te,a.disabled,i,m,e.shouldUseNativeValidation))[j],B([j]),pe(De),re&&(Ie?Ne=!1:u.isValid&&(Ne=await _(r,!0)));re&&(te._f.deps&&J(te._f.deps),T(j,Ne,Ie,Bl))}},K=(D,L)=>{if(le(n.errors,L)&&D.focus)return D.focus(),1},J=async(D,L={})=>{let j,re;const te=mf(D);if(e.resolver){const X=await b(Qt(D)?D:te);j=Dn(X),re=D?!te.some(pe=>le(X,pe)):j}else D?(re=(await Promise.all(te.map(async X=>{const pe=le(r,X);return await _(pe&&pe._f?{[X]:pe}:pe)}))).every(Boolean),!(!re&&!n.isValid)&&C()):re=j=await _(r);return h.state.next({...!ts(D)||u.isValid&&j!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:j}:{},errors:n.errors}),L.shouldFocus&&!re&&Gc(r,K,D?te:a.mount),re},ee=D=>{const L={...A.mount?i:s};return Qt(D)?L:ts(D)?le(L,D):D.map(j=>le(L,j))},fe=(D,L)=>({invalid:!!le((L||n).errors,D),isDirty:!!le((L||n).dirtyFields,D),error:le((L||n).errors,D),isValidating:!!le(n.validatingFields,D),isTouched:!!le((L||n).touchedFields,D)}),me=D=>{D&&mf(D).forEach(L=>Dt(n.errors,L)),h.state.next({errors:D?n.errors:{}})},Re=(D,L,j)=>{const re=(le(r,D,{_f:{}})._f||{}).ref,te=le(n.errors,D)||{},{ref:X,message:pe,type:Ie,...Ne}=te;qe(n.errors,D,{...Ne,...L,ref:re}),h.state.next({name:D,errors:n.errors,isValid:!1}),j&&j.shouldFocus&&re&&re.focus&&re.focus()},Ge=(D,L)=>Yr(D)?h.values.subscribe({next:j=>D(S(void 0,L),j)}):S(D,L,!0),Je=(D,L={})=>{for(const j of D?mf(D):a.mount)a.mount.delete(j),a.array.delete(j),L.keepValue||(Dt(r,j),Dt(i,j)),!L.keepError&&Dt(n.errors,j),!L.keepDirty&&Dt(n.dirtyFields,j),!L.keepTouched&&Dt(n.touchedFields,j),!L.keepIsValidating&&Dt(n.validatingFields,j),!e.shouldUnregister&&!L.keepDefaultValue&&Dt(s,j);h.values.next({values:{...i}}),h.state.next({...n,...L.keepDirty?{isDirty:N()}:{}}),!L.keepIsValid&&C()},ut=({disabled:D,name:L,field:j,fields:re})=>{(qr(D)&&A.mount||D||a.disabled.has(L))&&(D?a.disabled.add(L):a.disabled.delete(L),k(L,ky(j?j._f:le(re,L)._f),!1,!1,!0))},ms=(D,L={})=>{let j=le(r,D);const re=qr(L.disabled)||qr(e.disabled);return qe(r,D,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:D}},name:D,mount:!0,...L}}),a.mount.add(D),j?ut({field:j,disabled:qr(L.disabled)?L.disabled:e.disabled,name:D}):Q(D,!0,L.value),{...re?{disabled:L.disabled||e.disabled}:{},...e.progressive?{required:!!L.required,min:Wl(L.min),max:Wl(L.max),minLength:Wl(L.minLength),maxLength:Wl(L.maxLength),pattern:Wl(L.pattern)}:{},name:D,onChange:M,onBlur:M,ref:te=>{if(te){ms(D,L),j=le(r,D);const X=Qt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,pe=KW(X),Ie=j._f.refs||[];if(pe?Ie.find(Ne=>Ne===X):X===j._f.ref)return;qe(r,D,{_f:{...j._f,...pe?{refs:[...Ie.filter(Ny),X,...Array.isArray(le(s,D))?[{}]:[]],ref:{type:X.type,name:D}}:{ref:X}}}),Q(D,!1,void 0,X)}else j=le(r,D,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(RW(a.array,D)&&A.action)&&a.unMount.add(D)}}},ii=()=>e.shouldFocusError&&Gc(r,K,a.mount),br=D=>{qr(D)&&(h.state.next({disabled:D}),Gc(r,(L,j)=>{const re=le(r,j);re&&(L.disabled=re._f.disabled||D,Array.isArray(re._f.refs)&&re._f.refs.forEach(te=>{te.disabled=re._f.disabled||D}))},0,!1))},cr=(D,L)=>async j=>{let re;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let te=dr(i);if(a.disabled.size)for(const X of a.disabled)qe(te,X,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:pe}=await E();n.errors=X,te=pe}else await _(r);if(Dt(n.errors,"root"),Dn(n.errors)){h.state.next({errors:{}});try{await D(te,j)}catch(X){re=X}}else L&&await L({...n.errors},j),ii(),setTimeout(ii);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},Ai=(D,L={})=>{le(r,D)&&(Qt(L.defaultValue)?q(D,dr(le(s,D))):(q(D,L.defaultValue),qe(s,D,dr(L.defaultValue))),L.keepTouched||Dt(n.touchedFields,D),L.keepDirty||(Dt(n.dirtyFields,D),n.isDirty=L.defaultValue?N(D,dr(le(s,D))):N()),L.keepError||(Dt(n.errors,D),u.isValid&&C()),h.state.next({...n}))},Ea=(D,L={})=>{const j=D?dr(D):s,re=dr(j),te=Dn(D),X=te?s:re;if(L.keepDefaultValues||(s=j),!L.keepValues){if(L.keepDirtyValues){const pe=new Set([...a.mount,...Object.keys($l(s,i))]);for(const Ie of Array.from(pe))le(n.dirtyFields,Ie)?qe(X,Ie,le(i,Ie)):q(Ie,le(X,Ie))}else{if(dC&&Qt(D))for(const pe of a.mount){const Ie=le(r,pe);if(Ie&&Ie._f){const Ne=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(_p(Ne)){const De=Ne.closest("form");if(De){De.reset();break}}}}r={}}i=e.shouldUnregister?L.keepDefaultValues?dr(s):{}:dr(X),h.array.next({values:{...X}}),h.values.next({values:{...X}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},A.mount=!u.isValid||!!L.keepIsValid||!!L.keepDirtyValues,A.watch=!!e.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:te?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!bi(D,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:L.keepDirtyValues?L.keepDefaultValues&&i?$l(s,i):n.dirtyFields:L.keepDefaultValues&&D?$l(s,D):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_a=(D,L)=>Ea(Yr(D)?D(i):D,L);return{control:{register:ms,unregister:Je,getFieldState:fe,handleSubmit:cr,setError:Re,_executeSchema:E,_getWatch:S,_getDirty:N,_updateValid:C,_removeUnmounted:R,_updateFieldArray:w,_updateDisabledField:ut,_getFieldArray:Y,_reset:Ea,_resetDefaultValues:()=>Yr(e.defaultValues)&&e.defaultValues().then(D=>{_a(D,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:D=>{n={...n,...D}},_disableForm:br,_subjects:h,_proxyFormState:u,_setErrors:I,get _fields(){return r},get _formValues(){return i},get _state(){return A},set _state(D){A=D},get _defaultValues(){return s},get _names(){return a},set _names(D){a=D},get _formState(){return n},set _formState(D){n=D},get _options(){return e},set _options(D){e={...e,...D}}},trigger:J,register:ms,handleSubmit:cr,watch:Ge,setValue:q,getValues:ee,reset:_a,resetField:Ai,clearErrors:me,unregister:Je,setError:Re,setFocus:(D,L={})=>{const j=le(r,D),re=j&&j._f;if(re){const te=re.refs?re.refs[0]:re.ref;te.focus&&(te.focus(),L.shouldSelect&&Yr(te.select)&&te.select())}},getFieldState:fe}}function lR(t={}){const e=ye.useRef(void 0),n=ye.useRef(void 0),[r,s]=ye.useState({isDirty:!1,isValidating:!1,isLoading:Yr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Yr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...YW(t),formState:r});const i=e.current.control;return i._options=t,MW({subject:i._subjects.state,next:A=>{LW(A,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),ye.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ye.useEffect(()=>{if(i._proxyFormState.isDirty){const A=i._getDirty();A!==r.isDirty&&i._subjects.state.next({isDirty:A})}},[i,r.isDirty]),ye.useEffect(()=>{t.values&&!bi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(A=>({...A}))):i._resetDefaultValues()},[t.values,i]),ye.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),ye.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ye.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=PW(r,i),e.current}const $T=(t,e,n)=>{if(t&&"reportValidity"in t){const r=le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},cR=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?$T(r.ref,n,t):r.refs&&r.refs.forEach(s=>$T(s,n,t))}},JW=(t,e)=>{e.shouldUseNativeValidation&&cR(t,e);const n={};for(const r in t){const s=le(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(ZW(e.names||Object.keys(t),r)){const A=Object.assign({},le(n,r));qe(A,"root",i),qe(n,r,A)}else qe(n,r,i)}return n},ZW=(t,e)=>t.some(n=>n.startsWith(e+"."));var e7=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,A=r.path.join(".");if(!n[A])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[A]={message:a.message,type:a.code}}else n[A]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var o=n[A].types,l=o&&o[r.code];n[A]=nR(A,e,n,s,l?[].concat(l,r.message):r.message)}t.shift()}return n},uR=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(A,a){try{var o=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return i.shouldUseNativeValidation&&cR({},i),{errors:{},values:n.raw?r:l}})}catch(l){return a(l)}return o&&o.then?o.then(void 0,a):o}(0,function(A){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(A))return{values:{},errors:JW(e7(A.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw A}))}catch(A){return Promise.reject(A)}}},Le;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const A of s)i[A]=A;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),A={};for(const a of i)A[a]=s[a];return t.objectValues(A)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const A in s)Object.prototype.hasOwnProperty.call(s,A)&&i.push(A);return i},t.find=(s,i)=>{for(const A of s)if(i(A))return A},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(A=>typeof A=="string"?`'${A}'`:A).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Le||(Le={}));var Xv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Xv||(Xv={}));const oe=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bs=t=>{switch(typeof t){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(t)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(t)?oe.array:t===null?oe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?oe.promise:typeof Map<"u"&&t instanceof Map?oe.map:typeof Set<"u"&&t instanceof Set?oe.set:typeof Date<"u"&&t instanceof Date?oe.date:oe.object;default:return oe.unknown}},G=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class sr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const A of i.issues)if(A.code==="invalid_union")A.unionErrors.map(s);else if(A.code==="invalid_return_type")s(A.returnTypeError);else if(A.code==="invalid_arguments")s(A.argumentsError);else if(A.path.length===0)r._errors.push(n(A));else{let a=r,o=0;for(;o<A.path.length;){const l=A.path[o];o===A.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(A))):a[l]=a[l]||{_errors:[]},a=a[l],o++}}};return s(this),r}static assert(e){if(!(e instanceof sr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}sr.create=t=>new sr(t);const Jo=(t,e)=>{let n;switch(t.code){case G.invalid_type:t.received===oe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case G.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Le.jsonStringifyReplacer)}`;break;case G.unrecognized_keys:n=`Unrecognized key(s) in object: ${Le.joinValues(t.keys,", ")}`;break;case G.invalid_union:n="Invalid input";break;case G.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Le.joinValues(t.options)}`;break;case G.invalid_enum_value:n=`Invalid enum value. Expected ${Le.joinValues(t.options)}, received '${t.received}'`;break;case G.invalid_arguments:n="Invalid function arguments";break;case G.invalid_return_type:n="Invalid function return type";break;case G.invalid_date:n="Invalid date";break;case G.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Le.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case G.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case G.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case G.custom:n="Invalid input";break;case G.invalid_intersection_types:n="Intersection results could not be merged";break;case G.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case G.not_finite:n="Number must be finite";break;default:n=e.defaultError,Le.assertNever(t)}return{message:n}};let dR=Jo;function n7(t){dR=t}function Ip(){return dR}const Up=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],A={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const o=r.filter(l=>!!l).slice().reverse();for(const l of o)a=l(A,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},r7=[];function ne(t,e){const n=Ip(),r=Up({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Jo?void 0:Jo].filter(s=>!!s)});t.common.issues.push(r)}class Cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ee;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,A=await s.value;r.push({key:i,value:A})}return Cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:A}=s;if(i.status==="aborted"||A.status==="aborted")return Ee;i.status==="dirty"&&e.dirty(),A.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof A.value<"u"||s.alwaysSet)&&(r[i.value]=A.value)}return{status:e.value,value:r}}}const Ee=Object.freeze({status:"aborted"}),po=t=>({status:"dirty",value:t}),Nn=t=>({status:"valid",value:t}),Yv=t=>t.status==="aborted",Jv=t=>t.status==="dirty",da=t=>t.status==="valid",ku=t=>typeof Promise<"u"&&t instanceof Promise;function Fp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function hR(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));var fc,pc;class hs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const WT=(t,e)=>{if(da(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new sr(t.common.issues);return this._error=n,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(A,a)=>{var o,l;const{message:u}=t;return A.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(o=u??r)!==null&&o!==void 0?o:a.defaultError}:A.code!=="invalid_type"?{message:a.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}},description:s}}class Ue{get description(){return this._def.description}_getType(e){return bs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Cn,ctx:{common:e.parent.common,data:e.data,parsedType:bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ku(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return WT(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return da(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>da(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(ku(s)?s:Promise.resolve(s));return WT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const A=e(s),a=()=>i.addIssue({code:G.custom,...r(s)});return typeof Promise<"u"&&A instanceof Promise?A.then(o=>o?!0:(a(),!1)):A?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Vr({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return cs.create(this,this._def)}nullable(){return cA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lr.create(this)}promise(){return el.create(this,this._def)}or(e){return Lu.create([this,e],this._def)}and(e){return Mu.create(this,e,this._def)}transform(e){return new Vr({...Te(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ku({...Te(this._def),innerType:this,defaultValue:n,typeName:Be.ZodDefault})}brand(){return new gC({typeName:Be.ZodBranded,type:this,...Te(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new zu({...Te(this._def),innerType:this,catchValue:n,typeName:Be.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return bd.create(this,e)}readonly(){return Gu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const s7=/^c[^\s-]{8,}$/i,i7=/^[0-9a-z]+$/,A7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,a7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,o7=/^[a-z0-9_-]{21}$/i,l7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,c7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,u7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,d7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ry;const h7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,f7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,p7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,g7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,m7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,y7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",v7=new RegExp(`^${fR}$`);function pR(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function w7(t){return new RegExp(`^${pR(t)}$`)}function gR(t){let e=`${fR}T${pR(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function B7(t,e){return!!((e==="v4"||!e)&&h7.test(t)||(e==="v6"||!e)&&p7.test(t))}function x7(t,e){if(!l7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function C7(t,e){return!!((e==="v4"||!e)&&f7.test(t)||(e==="v6"||!e)&&g7.test(t))}class Rr extends Ue{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const i=this._getOrReturnCtx(e);return ne(i,{code:G.invalid_type,expected:oe.string,received:i.parsedType}),Ee}const r=new Cn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const A=e.data.length>i.value,a=e.data.length<i.value;(A||a)&&(s=this._getOrReturnCtx(e,s),A?ne(s,{code:G.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ne(s,{code:G.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")u7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"email",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Ry||(Ry=new RegExp(d7,"u")),Ry.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"emoji",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")a7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"uuid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")o7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"nanoid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")s7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")i7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid2",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")A7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ulid",code:G.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ne(s,{validation:"url",code:G.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"regex",code:G.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ne(s,{code:G.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:G.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:G.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?gR(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:G.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?v7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:G.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?w7(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:G.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?c7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"duration",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?B7(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ip",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?x7(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"jwt",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?C7(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cidr",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?m7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64",code:G.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?y7.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64url",code:G.invalid_string,message:i.message}),r.dirty()):Le.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:G.invalid_string,...de.errToObj(r)})}_addCheck(e){return new Rr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Rr.create=t=>{var e;return new Rr({checks:[],typeName:Be.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};function E7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),A=parseInt(e.toFixed(s).replace(".",""));return i%A/Math.pow(10,s)}class aA extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const i=this._getOrReturnCtx(e);return ne(i,{code:G.invalid_type,expected:oe.number,received:i.parsedType}),Ee}let r;const s=new Cn;for(const i of this._def.checks)i.kind==="int"?Le.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:G.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:G.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:G.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?E7(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:G.not_finite,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new aA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new aA({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Le.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}aA.create=t=>new aA({checks:[],typeName:Be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class oA extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let r;const s=new Cn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:G.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:G.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:G.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:oe.bigint,received:n.parsedType}),Ee}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new oA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new oA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oA.create=t=>{var e;return new oA({checks:[],typeName:Be.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Te(t)})};class Ru extends Ue{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==oe.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:G.invalid_type,expected:oe.boolean,received:r.parsedType}),Ee}return Nn(e.data)}}Ru.create=t=>new Ru({typeName:Be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class ha extends Ue{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const i=this._getOrReturnCtx(e);return ne(i,{code:G.invalid_type,expected:oe.date,received:i.parsedType}),Ee}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ne(i,{code:G.invalid_date}),Ee}const r=new Cn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:G.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:G.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Le.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ha({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ha.create=t=>new ha({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Be.ZodDate,...Te(t)});class Sp extends Ue{_parse(e){if(this._getType(e)!==oe.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:G.invalid_type,expected:oe.symbol,received:r.parsedType}),Ee}return Nn(e.data)}}Sp.create=t=>new Sp({typeName:Be.ZodSymbol,...Te(t)});class Du extends Ue{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:G.invalid_type,expected:oe.undefined,received:r.parsedType}),Ee}return Nn(e.data)}}Du.create=t=>new Du({typeName:Be.ZodUndefined,...Te(t)});class Pu extends Ue{_parse(e){if(this._getType(e)!==oe.null){const r=this._getOrReturnCtx(e);return ne(r,{code:G.invalid_type,expected:oe.null,received:r.parsedType}),Ee}return Nn(e.data)}}Pu.create=t=>new Pu({typeName:Be.ZodNull,...Te(t)});class Zo extends Ue{constructor(){super(...arguments),this._any=!0}_parse(e){return Nn(e.data)}}Zo.create=t=>new Zo({typeName:Be.ZodAny,...Te(t)});class XA extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nn(e.data)}}XA.create=t=>new XA({typeName:Be.ZodUnknown,...Te(t)});class Zs extends Ue{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:G.invalid_type,expected:oe.never,received:n.parsedType}),Ee}}Zs.create=t=>new Zs({typeName:Be.ZodNever,...Te(t)});class Qp extends Ue{_parse(e){if(this._getType(e)!==oe.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:G.invalid_type,expected:oe.void,received:r.parsedType}),Ee}return Nn(e.data)}}Qp.create=t=>new Qp({typeName:Be.ZodVoid,...Te(t)});class Lr extends Ue{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==oe.array)return ne(n,{code:G.invalid_type,expected:oe.array,received:n.parsedType}),Ee;if(s.exactLength!==null){const A=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(A||a)&&(ne(n,{code:A?G.too_big:G.too_small,minimum:a?s.exactLength.value:void 0,maximum:A?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ne(n,{code:G.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ne(n,{code:G.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((A,a)=>s.type._parseAsync(new hs(n,A,n.path,a)))).then(A=>Cn.mergeArray(r,A));const i=[...n.data].map((A,a)=>s.type._parseSync(new hs(n,A,n.path,a)));return Cn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Lr({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new Lr({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new Lr({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}Lr.create=(t,e)=>new Lr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Te(e)});function za(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=cs.create(za(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof Lr?new Lr({...t._def,type:za(t.element)}):t instanceof cs?cs.create(za(t.unwrap())):t instanceof cA?cA.create(za(t.unwrap())):t instanceof fs?fs.create(t.items.map(e=>za(e))):t}class dt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Le.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==oe.object){const l=this._getOrReturnCtx(e);return ne(l,{code:G.invalid_type,expected:oe.object,received:l.parsedType}),Ee}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:A}=this._getCached(),a=[];if(!(this._def.catchall instanceof Zs&&this._def.unknownKeys==="strip"))for(const l in s.data)A.includes(l)||a.push(l);const o=[];for(const l of A){const u=i[l],h=s.data[l];o.push({key:{status:"valid",value:l},value:u._parse(new hs(s,h,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof Zs){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)o.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(ne(s,{code:G.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const h=s.data[u];o.push({key:{status:"valid",value:u},value:l._parse(new hs(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of o){const h=await u.key,f=await u.value;l.push({key:h,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>Cn.mergeObjectSync(r,l)):Cn.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,A,a;const o=(A=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&A!==void 0?A:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:o}:{message:o}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Be.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};return Le.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}omit(e){const n={};return Le.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}deepPartial(){return za(this)}partial(e){const n={};return Le.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new dt({...this._def,shape:()=>n})}required(e){const n={};return Le.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof cs;)i=i._def.innerType;n[r]=i}}),new dt({...this._def,shape:()=>n})}keyof(){return mR(Le.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:Zs.create(),typeName:Be.ZodObject,...Te(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:Zs.create(),typeName:Be.ZodObject,...Te(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:Zs.create(),typeName:Be.ZodObject,...Te(e)});class Lu extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const A=i.map(a=>new sr(a.ctx.common.issues));return ne(n,{code:G.invalid_union,unionErrors:A}),Ee}if(n.common.async)return Promise.all(r.map(async i=>{const A={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:A}),ctx:A}})).then(s);{let i;const A=[];for(const o of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=o._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&A.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=A.map(o=>new sr(o));return ne(n,{code:G.invalid_union,unionErrors:a}),Ee}}get options(){return this._def.options}}Lu.create=(t,e)=>new Lu({options:t,typeName:Be.ZodUnion,...Te(e)});const Cs=t=>t instanceof ju?Cs(t.schema):t instanceof Vr?Cs(t.innerType()):t instanceof Vu?[t.value]:t instanceof lA?t.options:t instanceof Hu?Le.objectValues(t.enum):t instanceof Ku?Cs(t._def.innerType):t instanceof Du?[void 0]:t instanceof Pu?[null]:t instanceof cs?[void 0,...Cs(t.unwrap())]:t instanceof cA?[null,...Cs(t.unwrap())]:t instanceof gC||t instanceof Gu?Cs(t.unwrap()):t instanceof zu?Cs(t._def.innerType):[];class im extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.object)return ne(n,{code:G.invalid_type,expected:oe.object,received:n.parsedType}),Ee;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:G.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const A=Cs(i.shape[e]);if(!A.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of A){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new im({typeName:Be.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Te(r)})}}function Zv(t,e){const n=bs(t),r=bs(e);if(t===e)return{valid:!0,data:t};if(n===oe.object&&r===oe.object){const s=Le.objectKeys(e),i=Le.objectKeys(t).filter(a=>s.indexOf(a)!==-1),A={...t,...e};for(const a of i){const o=Zv(t[a],e[a]);if(!o.valid)return{valid:!1};A[a]=o.data}return{valid:!0,data:A}}else if(n===oe.array&&r===oe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const A=t[i],a=e[i],o=Zv(A,a);if(!o.valid)return{valid:!1};s.push(o.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Mu extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,A)=>{if(Yv(i)||Yv(A))return Ee;const a=Zv(i.value,A.value);return a.valid?((Jv(i)||Jv(A))&&n.dirty(),{status:n.value,value:a.data}):(ne(r,{code:G.invalid_intersection_types}),Ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,A])=>s(i,A)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Mu.create=(t,e,n)=>new Mu({left:t,right:e,typeName:Be.ZodIntersection,...Te(n)});class fs extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.array)return ne(r,{code:G.invalid_type,expected:oe.array,received:r.parsedType}),Ee;if(r.data.length<this._def.items.length)return ne(r,{code:G.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:G.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((A,a)=>{const o=this._def.items[a]||this._def.rest;return o?o._parse(new hs(r,A,r.path,a)):null}).filter(A=>!!A);return r.common.async?Promise.all(i).then(A=>Cn.mergeArray(n,A)):Cn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new fs({...this._def,rest:e})}}fs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fs({items:t,typeName:Be.ZodTuple,rest:null,...Te(e)})};class Ou extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return ne(r,{code:G.invalid_type,expected:oe.object,received:r.parsedType}),Ee;const s=[],i=this._def.keyType,A=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new hs(r,a,r.path,a)),value:A._parse(new hs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Cn.mergeObjectAsync(n,s):Cn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ue?new Ou({keyType:e,valueType:n,typeName:Be.ZodRecord,...Te(r)}):new Ou({keyType:Rr.create(),valueType:e,typeName:Be.ZodRecord,...Te(n)})}}class Np extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.map)return ne(r,{code:G.invalid_type,expected:oe.map,received:r.parsedType}),Ee;const s=this._def.keyType,i=this._def.valueType,A=[...r.data.entries()].map(([a,o],l)=>({key:s._parse(new hs(r,a,r.path,[l,"key"])),value:i._parse(new hs(r,o,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const o of A){const l=await o.key,u=await o.value;if(l.status==="aborted"||u.status==="aborted")return Ee;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const o of A){const l=o.key,u=o.value;if(l.status==="aborted"||u.status==="aborted")return Ee;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}Np.create=(t,e,n)=>new Np({valueType:e,keyType:t,typeName:Be.ZodMap,...Te(n)});class fa extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.set)return ne(r,{code:G.invalid_type,expected:oe.set,received:r.parsedType}),Ee;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ne(r,{code:G.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ne(r,{code:G.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function A(o){const l=new Set;for(const u of o){if(u.status==="aborted")return Ee;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((o,l)=>i._parse(new hs(r,o,r.path,l)));return r.common.async?Promise.all(a).then(o=>A(o)):A(a)}min(e,n){return new fa({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new fa({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}fa.create=(t,e)=>new fa({valueType:t,minSize:null,maxSize:null,typeName:Be.ZodSet,...Te(e)});class Fo extends Ue{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.function)return ne(n,{code:G.invalid_type,expected:oe.function,received:n.parsedType}),Ee;function r(a,o){return Up({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ip(),Jo].filter(l=>!!l),issueData:{code:G.invalid_arguments,argumentsError:o}})}function s(a,o){return Up({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ip(),Jo].filter(l=>!!l),issueData:{code:G.invalid_return_type,returnTypeError:o}})}const i={errorMap:n.common.contextualErrorMap},A=n.data;if(this._def.returns instanceof el){const a=this;return Nn(async function(...o){const l=new sr([]),u=await a._def.args.parseAsync(o,i).catch(p=>{throw l.addIssue(r(o,p)),l}),h=await Reflect.apply(A,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(p=>{throw l.addIssue(s(h,p)),l})})}else{const a=this;return Nn(function(...o){const l=a._def.args.safeParse(o,i);if(!l.success)throw new sr([r(o,l.error)]);const u=Reflect.apply(A,this,l.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new sr([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Fo({...this._def,args:fs.create(e).rest(XA.create())})}returns(e){return new Fo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Fo({args:e||fs.create([]).rest(XA.create()),returns:n||XA.create(),typeName:Be.ZodFunction,...Te(r)})}}class ju extends Ue{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ju.create=(t,e)=>new ju({getter:t,typeName:Be.ZodLazy,...Te(e)});class Vu extends Ue{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:G.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:e.data}}get value(){return this._def.value}}Vu.create=(t,e)=>new Vu({value:t,typeName:Be.ZodLiteral,...Te(e)});function mR(t,e){return new lA({values:t,typeName:Be.ZodEnum,...Te(e)})}class lA extends Ue{constructor(){super(...arguments),fc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{expected:Le.joinValues(r),received:n.parsedType,code:G.invalid_type}),Ee}if(Fp(this,fc)||hR(this,fc,new Set(this._def.values)),!Fp(this,fc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{received:n.data,code:G.invalid_enum_value,options:r}),Ee}return Nn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return lA.create(e,{...this._def,...n})}exclude(e,n=this._def){return lA.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}fc=new WeakMap;lA.create=mR;class Hu extends Ue{constructor(){super(...arguments),pc.set(this,void 0)}_parse(e){const n=Le.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=Le.objectValues(n);return ne(r,{expected:Le.joinValues(s),received:r.parsedType,code:G.invalid_type}),Ee}if(Fp(this,pc)||hR(this,pc,new Set(Le.getValidEnumValues(this._def.values))),!Fp(this,pc).has(e.data)){const s=Le.objectValues(n);return ne(r,{received:r.data,code:G.invalid_enum_value,options:s}),Ee}return Nn(e.data)}get enum(){return this._def.values}}pc=new WeakMap;Hu.create=(t,e)=>new Hu({values:t,typeName:Be.ZodNativeEnum,...Te(e)});class el extends Ue{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==oe.promise&&n.common.async===!1)return ne(n,{code:G.invalid_type,expected:oe.promise,received:n.parsedType}),Ee;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return Nn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}el.create=(t,e)=>new el({type:t,typeName:Be.ZodPromise,...Te(e)});class Vr extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:A=>{ne(r,A),A.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const A=s.transform(r.data,i);if(r.common.async)return Promise.resolve(A).then(async a=>{if(n.value==="aborted")return Ee;const o=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return o.status==="aborted"?Ee:o.status==="dirty"||n.value==="dirty"?po(o.value):o});{if(n.value==="aborted")return Ee;const a=this._def.schema._parseSync({data:A,path:r.path,parent:r});return a.status==="aborted"?Ee:a.status==="dirty"||n.value==="dirty"?po(a.value):a}}if(s.type==="refinement"){const A=a=>{const o=s.refinement(a,i);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),A(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ee:(a.status==="dirty"&&n.dirty(),A(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const A=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!da(A))return A;const a=s.transform(A.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(A=>da(A)?Promise.resolve(s.transform(A.value,i)).then(a=>({status:n.value,value:a})):A);Le.assertNever(s)}}Vr.create=(t,e,n)=>new Vr({schema:t,typeName:Be.ZodEffects,effect:e,...Te(n)});Vr.createWithPreprocess=(t,e,n)=>new Vr({schema:e,effect:{type:"preprocess",transform:t},typeName:Be.ZodEffects,...Te(n)});class cs extends Ue{_parse(e){return this._getType(e)===oe.undefined?Nn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cs.create=(t,e)=>new cs({innerType:t,typeName:Be.ZodOptional,...Te(e)});class cA extends Ue{_parse(e){return this._getType(e)===oe.null?Nn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cA.create=(t,e)=>new cA({innerType:t,typeName:Be.ZodNullable,...Te(e)});class Ku extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ku.create=(t,e)=>new Ku({innerType:t,typeName:Be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class zu extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ku(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zu.create=(t,e)=>new zu({innerType:t,typeName:Be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class kp extends Ue{_parse(e){if(this._getType(e)!==oe.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:G.invalid_type,expected:oe.nan,received:r.parsedType}),Ee}return{status:"valid",value:e.data}}}kp.create=t=>new kp({typeName:Be.ZodNaN,...Te(t)});const _7=Symbol("zod_brand");class gC extends Ue{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bd extends Ue{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ee:i.status==="dirty"?(n.dirty(),po(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ee:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new bd({in:e,out:n,typeName:Be.ZodPipeline})}}class Gu extends Ue{_parse(e){const n=this._def.innerType._parse(e),r=s=>(da(s)&&(s.value=Object.freeze(s.value)),s);return ku(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Gu.create=(t,e)=>new Gu({innerType:t,typeName:Be.ZodReadonly,...Te(e)});function yR(t,e={},n){return t?Zo.create().superRefine((r,s)=>{var i,A;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,o=(A=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&A!==void 0?A:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:o})}}):Zo.create()}const b7={object:dt.lazycreate};var Be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Be||(Be={}));const T7=(t,e={message:`Input not instance of ${t.name}`})=>yR(n=>n instanceof t,e),vR=Rr.create,wR=aA.create,I7=kp.create,U7=oA.create,BR=Ru.create,F7=ha.create,S7=Sp.create,Q7=Du.create,N7=Pu.create,k7=Zo.create,R7=XA.create,D7=Zs.create,P7=Qp.create,L7=Lr.create,M7=dt.create,O7=dt.strictCreate,j7=Lu.create,V7=im.create,H7=Mu.create,K7=fs.create,z7=Ou.create,G7=Np.create,$7=fa.create,W7=Fo.create,q7=ju.create,X7=Vu.create,Y7=lA.create,J7=Hu.create,Z7=el.create,qT=Vr.create,eq=cs.create,tq=cA.create,nq=Vr.createWithPreprocess,rq=bd.create,sq=()=>vR().optional(),iq=()=>wR().optional(),Aq=()=>BR().optional(),aq={string:t=>Rr.create({...t,coerce:!0}),number:t=>aA.create({...t,coerce:!0}),boolean:t=>Ru.create({...t,coerce:!0}),bigint:t=>oA.create({...t,coerce:!0}),date:t=>ha.create({...t,coerce:!0})},oq=Ee;var Ln=Object.freeze({__proto__:null,defaultErrorMap:Jo,setErrorMap:n7,getErrorMap:Ip,makeIssue:Up,EMPTY_PATH:r7,addIssueToContext:ne,ParseStatus:Cn,INVALID:Ee,DIRTY:po,OK:Nn,isAborted:Yv,isDirty:Jv,isValid:da,isAsync:ku,get util(){return Le},get objectUtil(){return Xv},ZodParsedType:oe,getParsedType:bs,ZodType:Ue,datetimeRegex:gR,ZodString:Rr,ZodNumber:aA,ZodBigInt:oA,ZodBoolean:Ru,ZodDate:ha,ZodSymbol:Sp,ZodUndefined:Du,ZodNull:Pu,ZodAny:Zo,ZodUnknown:XA,ZodNever:Zs,ZodVoid:Qp,ZodArray:Lr,ZodObject:dt,ZodUnion:Lu,ZodDiscriminatedUnion:im,ZodIntersection:Mu,ZodTuple:fs,ZodRecord:Ou,ZodMap:Np,ZodSet:fa,ZodFunction:Fo,ZodLazy:ju,ZodLiteral:Vu,ZodEnum:lA,ZodNativeEnum:Hu,ZodPromise:el,ZodEffects:Vr,ZodTransformer:Vr,ZodOptional:cs,ZodNullable:cA,ZodDefault:Ku,ZodCatch:zu,ZodNaN:kp,BRAND:_7,ZodBranded:gC,ZodPipeline:bd,ZodReadonly:Gu,custom:yR,Schema:Ue,ZodSchema:Ue,late:b7,get ZodFirstPartyTypeKind(){return Be},coerce:aq,any:k7,array:L7,bigint:U7,boolean:BR,date:F7,discriminatedUnion:V7,effect:qT,enum:Y7,function:W7,instanceof:T7,intersection:H7,lazy:q7,literal:X7,map:G7,nan:I7,nativeEnum:J7,never:D7,null:N7,nullable:tq,number:wR,object:M7,oboolean:Aq,onumber:iq,optional:eq,ostring:sq,pipeline:rq,preprocess:nq,promise:Z7,record:z7,set:$7,strictObject:O7,string:vR,symbol:S7,transformer:qT,tuple:K7,undefined:Q7,union:j7,unknown:R7,void:P7,NEVER:oq,ZodIssueCode:G,quotelessJson:t7,ZodError:sr});const Dy={clientId:"164337596330-todg1eiufp3sb6h4aotrnq6srh06a478.apps.googleusercontent.com",clientSecret:"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",redirectUri:`${window.location.origin}/calendar/callback`,scopes:["https://www.googleapis.com/auth/calendar.events"]},ew={defaultDuration:60,defaultReminder:60,timeZone:"Europe/Rome"};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function ar(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function He(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function xt(t){He(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Rp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Dp(t,e){He(2,arguments);var n=xt(t),r=ar(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var A=i.getDate();return s>=A?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function xR(t,e){He(2,arguments);var n=xt(t).getTime(),r=ar(e);return new Date(n+r)}var lq={};function Am(){return lq}function tw(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function nw(t){He(1,arguments);var e=xt(t);return e.setHours(0,0,0,0),e}var cq=864e5;function uq(t,e){He(2,arguments);var n=nw(t),r=nw(e),s=n.getTime()-tw(n),i=r.getTime()-tw(r);return Math.round((s-i)/cq)}var dq=6e4;function CR(t,e){He(2,arguments);var n=ar(e);return xR(t,n*dq)}var mC=6e4,yC=36e5;function hq(t){return He(1,arguments),t instanceof Date||Rp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Pp(t){if(He(1,arguments),!hq(t)&&typeof t!="number")return!1;var e=xt(t);return!isNaN(Number(e))}function XT(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function ER(t,e){He(2,arguments);var n=xt(t),r=xt(e),s=XT(n,r),i=Math.abs(uq(n,r));n.setDate(n.getDate()-s*i);var A=+(XT(n,r)===-s),a=s*(i-A);return a===0?0:a}function vC(t,e){return He(2,arguments),xt(t).getTime()-xt(e).getTime()}var YT={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},fq="trunc";function wC(t){return t?YT[t]:YT[fq]}function pq(t,e,n){He(2,arguments);var r=vC(t,e)/yC;return wC(void 0)(r)}function gq(t,e,n){He(2,arguments);var r=vC(t,e)/mC;return wC(void 0)(r)}function mq(t,e,n){He(2,arguments);var r=vC(t,e)/1e3;return wC(void 0)(r)}function yq(t,e){He(2,arguments);var n=ar(e);return xR(t,-n)}var vq=864e5;function wq(t){He(1,arguments);var e=xt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/vq)+1}function Lp(t){He(1,arguments);var e=1,n=xt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function _R(t){He(1,arguments);var e=xt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Lp(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var A=Lp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=A.getTime()?n:n-1}function Bq(t){He(1,arguments);var e=_R(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Lp(n);return r}var xq=6048e5;function Cq(t){He(1,arguments);var e=xt(t),n=Lp(e).getTime()-Bq(e).getTime();return Math.round(n/xq)+1}function tl(t,e){var n,r,s,i,A,a,o,l;He(1,arguments);var u=Am(),h=ar((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=xt(t),p=f.getUTCDay(),m=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function bR(t,e){var n,r,s,i,A,a,o,l;He(1,arguments);var u=xt(t),h=u.getUTCFullYear(),f=Am(),p=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(o=f.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,p),m.setUTCHours(0,0,0,0);var y=tl(m,e),C=new Date(0);C.setUTCFullYear(h,0,p),C.setUTCHours(0,0,0,0);var B=tl(C,e);return u.getTime()>=y.getTime()?h+1:u.getTime()>=B.getTime()?h:h-1}function Eq(t,e){var n,r,s,i,A,a,o,l;He(1,arguments);var u=Am(),h=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=bR(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var m=tl(p,e);return m}var _q=6048e5;function bq(t,e){He(1,arguments);var n=xt(t),r=tl(n,e).getTime()-Eq(n,e).getTime();return Math.round(r/_q)+1}function $e(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var di={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return $e(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):$e(r+1,2)},d:function(e,n){return $e(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return $e(e.getUTCHours()%12||12,n.length)},H:function(e,n){return $e(e.getUTCHours(),n.length)},m:function(e,n){return $e(e.getUTCMinutes(),n.length)},s:function(e,n){return $e(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return $e(i,n.length)}},Ra={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tq={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return di.y(e,n)},Y:function(e,n,r,s){var i=bR(e,s),A=i>0?i:1-i;if(n==="YY"){var a=A%100;return $e(a,2)}return n==="Yo"?r.ordinalNumber(A,{unit:"year"}):$e(A,n.length)},R:function(e,n){var r=_R(e);return $e(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return $e(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return $e(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return $e(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return di.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return $e(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=bq(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):$e(i,n.length)},I:function(e,n,r){var s=Cq(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):$e(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):di.d(e,n)},D:function(e,n,r){var s=wq(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):$e(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(A);case"ee":return $e(A,2);case"eo":return r.ordinalNumber(A,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(A);case"cc":return $e(A,n.length);case"co":return r.ordinalNumber(A,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return $e(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Ra.noon:s===0?i=Ra.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Ra.evening:s>=12?i=Ra.afternoon:s>=4?i=Ra.morning:i=Ra.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return di.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):di.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):$e(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):di.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):di.s(e,n)},S:function(e,n){return di.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();if(A===0)return"Z";switch(n){case"X":return ZT(A);case"XXXX":case"XX":return RA(A);case"XXXXX":case"XXX":default:return RA(A,":")}},x:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"x":return ZT(A);case"xxxx":case"xx":return RA(A);case"xxxxx":case"xxx":default:return RA(A,":")}},O:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+JT(A,":");case"OOOO":default:return"GMT"+RA(A,":")}},z:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+JT(A,":");case"zzzz":default:return"GMT"+RA(A,":")}},t:function(e,n,r,s){var i=s._originalDate||e,A=Math.floor(i.getTime()/1e3);return $e(A,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,A=i.getTime();return $e(A,n.length)}};function JT(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var A=e;return n+String(s)+A+$e(i,2)}function ZT(t,e){if(t%60===0){var n=t>0?"-":"+";return n+$e(Math.abs(t)/60,2)}return RA(t,e)}function RA(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=$e(Math.floor(s/60),2),A=$e(s%60,2);return r+i+n+A}var eI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},TR=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Iq=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return eI(e,n);var A;switch(s){case"P":A=n.dateTime({width:"short"});break;case"PP":A=n.dateTime({width:"medium"});break;case"PPP":A=n.dateTime({width:"long"});break;case"PPPP":default:A=n.dateTime({width:"full"});break}return A.replace("{{date}}",eI(s,n)).replace("{{time}}",TR(i,n))},Uq={p:TR,P:Iq},Fq=["D","DD"],Sq=["YY","YYYY"];function Qq(t){return Fq.indexOf(t)!==-1}function Nq(t){return Sq.indexOf(t)!==-1}function tI(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var kq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rq=function(e,n,r){var s,i=kq[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function So(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Dq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Pq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mq={date:So({formats:Dq,defaultWidth:"full"}),time:So({formats:Pq,defaultWidth:"full"}),dateTime:So({formats:Lq,defaultWidth:"full"})},Oq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jq=function(e,n,r,s){return Oq[e]};function Jr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,A=n!=null&&n.width?String(n.width):i;s=t.formattingValues[A]||t.formattingValues[i]}else{var a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}var l=t.argumentCallback?t.argumentCallback(e):e;return s[l]}}var Vq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Kq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$q={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wq=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qq={ordinalNumber:Wq,era:Jr({values:Vq,defaultWidth:"wide"}),quarter:Jr({values:Hq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Jr({values:Kq,defaultWidth:"wide"}),day:Jr({values:zq,defaultWidth:"wide"}),dayPeriod:Jr({values:Gq,defaultWidth:"wide",formattingValues:$q,defaultFormattingWidth:"wide"})};function Zr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var A=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?Yq(a,function(h){return h.test(A)}):Xq(a,function(h){return h.test(A)}),l;l=t.valueCallback?t.valueCallback(o):o,l=n.valueCallback?n.valueCallback(l):l;var u=e.slice(A.length);return{value:l,rest:u}}}function Xq(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Yq(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function IR(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var A=t.valueCallback?t.valueCallback(i[0]):i[0];A=n.valueCallback?n.valueCallback(A):A;var a=e.slice(s.length);return{value:A,rest:a}}}var Jq=/^(\d+)(th|st|nd|rd)?/i,Zq=/\d+/i,eX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tX={any:[/^b/i,/^(a|c)/i]},nX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rX={any:[/1/i,/2/i,/3/i,/4/i]},sX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cX={ordinalNumber:IR({matchPattern:Jq,parsePattern:Zq,valueCallback:function(e){return parseInt(e,10)}}),era:Zr({matchPatterns:eX,defaultMatchWidth:"wide",parsePatterns:tX,defaultParseWidth:"any"}),quarter:Zr({matchPatterns:nX,defaultMatchWidth:"wide",parsePatterns:rX,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Zr({matchPatterns:sX,defaultMatchWidth:"wide",parsePatterns:iX,defaultParseWidth:"any"}),day:Zr({matchPatterns:AX,defaultMatchWidth:"wide",parsePatterns:aX,defaultParseWidth:"any"}),dayPeriod:Zr({matchPatterns:oX,defaultMatchWidth:"any",parsePatterns:lX,defaultParseWidth:"any"})},uX={code:"en-US",formatDistance:Rq,formatLong:Mq,formatRelative:jq,localize:qq,match:cX,options:{weekStartsOn:0,firstWeekContainsDate:1}},dX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fX=/^'([^]*?)'?$/,pX=/''/g,gX=/[a-zA-Z]/;function Xe(t,e,n){var r,s,i,A,a,o,l,u,h,f,p,m,y,C,B,w,v,I;He(2,arguments);var Q=String(e),k=Am(),T=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:k.locale)!==null&&r!==void 0?r:uX,E=ar((i=(A=(a=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:k.firstWeekContainsDate)!==null&&A!==void 0?A:(h=k.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=ar((p=(m=(y=(C=n==null?void 0:n.weekStartsOn)!==null&&C!==void 0?C:n==null||(B=n.locale)===null||B===void 0||(w=B.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&m!==void 0?m:(v=k.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&p!==void 0?p:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var _=xt(t);if(!Pp(_))throw new RangeError("Invalid time value");var R=tw(_),N=yq(_,R),S={firstWeekContainsDate:E,weekStartsOn:b,locale:T,_originalDate:_},Y=Q.match(hX).map(function(Ae){var V=Ae[0];if(V==="p"||V==="P"){var q=Uq[V];return q(Ae,T.formatLong)}return Ae}).join("").match(dX).map(function(Ae){if(Ae==="''")return"'";var V=Ae[0];if(V==="'")return mX(Ae);var q=Tq[V];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Nq(Ae)&&tI(Ae,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Qq(Ae)&&tI(Ae,e,String(t)),q(N,Ae,T.localize,S);if(V.match(gX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return Ae}).join("");return Y}function mX(t){var e=t.match(fX);return e?e[1].replace(pX,"'"):t}function Py(t,e){He(2,arguments);var n=xt(t),r=xt(e);return n.getTime()<r.getTime()}function yX(t,e){He(2,arguments);var n=xt(t),r=xt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Ly(t,e){var n;He(1,arguments);var r=ar((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=xX(t),i;if(s.date){var A=CX(s.date,r);i=EX(A.restDateString,A.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),o=0,l;if(s.time&&(o=_X(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=bX(s.timezone),isNaN(l))return new Date(NaN)}else{var u=new Date(a+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+o+l)}var Bh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vX=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wX=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,BX=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xX(t){var e={},n=t.split(Bh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Bh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Bh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=Bh.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function CX(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function EX(t,e){if(e===null)return new Date(NaN);var n=t.match(vX);if(!n)return new Date(NaN);var r=!!n[4],s=ql(n[1]),i=ql(n[2])-1,A=ql(n[3]),a=ql(n[4]),o=ql(n[5])-1;if(r)return SX(e,a,o)?TX(e,a,o):new Date(NaN);var l=new Date(0);return!UX(e,i,A)||!FX(e,s)?new Date(NaN):(l.setUTCFullYear(e,i,Math.max(s,A)),l)}function ql(t){return t?parseInt(t):1}function _X(t){var e=t.match(wX);if(!e)return NaN;var n=My(e[1]),r=My(e[2]),s=My(e[3]);return QX(n,r,s)?n*yC+r*mC+s*1e3:NaN}function My(t){return t&&parseFloat(t.replace(",","."))||0}function bX(t){if(t==="Z")return 0;var e=t.match(BX);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return NX(r,s)?n*(r*yC+s*mC):NaN}function TX(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var IX=[31,null,31,30,31,30,31,31,30,31,30,31];function UR(t){return t%400===0||t%4===0&&t%100!==0}function UX(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(IX[e]||(UR(t)?29:28))}function FX(t,e){return e>=1&&e<=(UR(t)?366:365)}function SX(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function QX(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function NX(t,e){return e>=0&&e<=59}function Mp(t,e){He(2,arguments);var n=xt(t),r=ar(e);return n.setHours(r),n}function Op(t,e){He(2,arguments);var n=xt(t),r=ar(e);return n.setMinutes(r),n}function nI(){return nw(Date.now())}function kX(t,e){He(2,arguments);var n=ar(e);return Dp(t,-n)}const RX=async(t,e)=>{try{const r=(await nA(ct(be,"users",t))).data();if(!(r!=null&&r.googleCalendarToken))throw new Error("Token Google Calendar non trovato");const s={summary:e.summary,description:e.description,start:{dateTime:e.startTime.toISOString(),timeZone:ew.timeZone},end:{dateTime:e.endTime.toISOString(),timeZone:ew.timeZone},location:e.location,reminders:{useDefault:!0}},i=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${r.googleCalendarToken}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error("Errore durante l'aggiunta dell'evento al calendario");return await i.json()}catch(n){throw console.error("Error adding event to Google Calendar:",n),n}},DX=async(t,e)=>{try{const n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:t,client_id:Dy.clientId,client_secret:Dy.clientSecret,redirect_uri:Dy.redirectUri,grant_type:"authorization_code"})});if(!n.ok)throw new Error("Errore durante lo scambio del codice di autorizzazione");const r=await n.json();return await Gg(ct(be,"users",e),{googleCalendarToken:r.access_token,googleCalendarRefreshToken:r.refresh_token,calendarConnected:!0,updatedAt:Vn()},{merge:!0}),!0}catch(n){throw console.error("Error handling Google Calendar callback:",n),n}},PX=(t,e,n,r,s)=>{const i=f=>Xe(f,"yyyyMMdd'T'HHmmss"),A=new URLSearchParams({action:"TEMPLATE",text:t,details:e,location:"",dates:`${i(n)}/${i(r)}`,ctz:ew.timeZone}),a=Xe(n,"yyyyMMdd'T'HHmmss'Z'"),o=Xe(r,"yyyyMMdd'T'HHmmss'Z'"),l=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",`DTSTART:${a}`,`DTEND:${o}`,`SUMMARY:${t}`,`DESCRIPTION:${e}`,"","END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`
`),u=new Blob([l],{type:"text/calendar;charset=utf-8"}),h=URL.createObjectURL(u);return{google:`https://calendar.google.com/calendar/render?${A.toString()}`,ical:h}},LX=t=>t.replace(/\D/g,""),MX=t=>`https://wa.me/39${t.replace(/\D/g,"")}`,OX=t=>{const e=t.replace(/\D/g,"");return!(e.length<9||e.length>10)};function rI(t,e,n){He(2,arguments);var r=tl(t,n),s=tl(e,n);return r.getTime()===s.getTime()}var jX={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},VX=function(e,n,r){var s,i=jX[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+s:s+" fa":s},HX={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},KX={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},zX={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},GX={date:So({formats:HX,defaultWidth:"full"}),time:So({formats:KX,defaultWidth:"full"}),dateTime:So({formats:zX,defaultWidth:"full"})},BC=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function $X(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+BC[t]+" scorso alle' p"}}function sI(t){return"'"+BC[t]+" alle' p"}function WX(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+BC[t]+" prossimo alle' p"}}var qX={lastWeek:function(e,n,r){var s=e.getUTCDay();return rI(e,n,r)?sI(s):$X(s)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,n,r){var s=e.getUTCDay();return rI(e,n,r)?sI(s):WX(s)},other:"P"},XX=function(e,n,r,s){var i=qX[e];return typeof i=="function"?i(n,r,s):i},YX={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},JX={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ZX={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},eY={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},tY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},nY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},rY=function(e,n){var r=Number(e);return String(r)},sY={ordinalNumber:rY,era:Jr({values:YX,defaultWidth:"wide"}),quarter:Jr({values:JX,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Jr({values:ZX,defaultWidth:"wide"}),day:Jr({values:eY,defaultWidth:"wide"}),dayPeriod:Jr({values:tY,defaultWidth:"wide",formattingValues:nY,defaultFormattingWidth:"wide"})},iY=/^(\d+)()?/i,AY=/\d+/i,aY={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},oY={any:[/^a/i,/^(d|e)/i]},lY={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},cY={any:[/1/i,/2/i,/3/i,/4/i]},uY={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},dY={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},hY={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},fY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},pY={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},gY={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},mY={ordinalNumber:IR({matchPattern:iY,parsePattern:AY,valueCallback:function(e){return parseInt(e,10)}}),era:Zr({matchPatterns:aY,defaultMatchWidth:"wide",parsePatterns:oY,defaultParseWidth:"any"}),quarter:Zr({matchPatterns:lY,defaultMatchWidth:"wide",parsePatterns:cY,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Zr({matchPatterns:uY,defaultMatchWidth:"wide",parsePatterns:dY,defaultParseWidth:"any"}),day:Zr({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:fY,defaultParseWidth:"any"}),dayPeriod:Zr({matchPatterns:pY,defaultMatchWidth:"any",parsePatterns:gY,defaultParseWidth:"any"})},ei={code:"it",formatDistance:VX,formatLong:GX,formatRelative:XX,localize:sY,match:mY,options:{weekStartsOn:1,firstWeekContainsDate:4}};const FR="settings",jp="event-settings",xh={id:jp,eventName:"Carnevale Cinematografico",countdownDate:"2024-03-04T09:00:00",showCountdown:!0,bookingIntervals:30,maxBookingsPerDay:20,startTime:"09:00",endTime:"18:00",serviceTypes:[{id:"carnival",name:"Carnevale",enabled:!0,bookingStartDate:"2024-03-04",bookingEndDate:"2024-03-31",excludedDays:[0],excludedDates:[]}],breakTimes:[{start:"13:00",end:"14:00",enabled:!0}],bookingStatuses:[{id:"pending",name:"In attesa",color:"#FFA500",enabled:!0},{id:"confirmed",name:"Confermato",color:"#10B981",enabled:!0},{id:"cancelled",name:"Cancellato",color:"#EF4444",enabled:!0}],products:[],company:{name:"Image Studio",logo:"",address:"Via Quinto Orazio Flacco 5, Aversa",phone:"",email:"",website:"",socialLinks:{}},animation:{enabled:!0,title:"Carnevale 2025",subtitle:"3... 2... 1...",type:"curtain",ticketStampType:"classic"},social:{image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819",title:"Carnevale Cinematografico 2025",description:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025",url:"https://gennaromazzacane.it/carnival2025"},ticketTemplate:{type:"classic",enabled:!0},whatsappTemplate:{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`* ACCONTI VERSATI*
{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`}},Vp=async t=>{try{const e=ct(be,FR,jp);await Gg(e,{...t,id:jp},{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},yY=t=>{const e=ct(be,FR,jp);return pl(e,r=>{if(r.exists()){const s=r.data();t({...xh,...s,company:{...xh.company,...s.company||{}},whatsappTemplate:{...xh.whatsappTemplate,...s.whatsappTemplate||{}}})}else t(xh)},r=>{console.error("Error observing settings:",r)})},xA=()=>{const[t,e]=F.useState(null),[n,r]=F.useState(!0),[s,i]=F.useState(null),[A,a]=F.useState(!1);F.useEffect(()=>{r(!0);const u=yY(h=>{e(h),r(!1),i(null)});return()=>u()},[]);const o=F.useCallback(async u=>{if(t){a(!0),i(null);try{await Vp(u)}catch(h){throw console.error("Error updating settings:",h),i("Errore durante l'aggiornamento delle impostazioni"),h}finally{a(!1)}}},[t]),l=F.useCallback(()=>{i(null)},[]);return{settings:t,loading:n,error:s,saving:A,updateSettings:o,resetError:l}},vY=({selectedDate:t,selectedTime:e,selectedService:n,onSlotSelect:r})=>{var b;const{settings:s,loading:i}=xA(),[A,a]=F.useState(new Date),[o,l]=F.useState({}),[u,h]=F.useState(!0),[f,p]=F.useState(null),[m,y]=F.useState(null),[C,B]=F.useState({});F.useEffect(()=>{if(s&&!i){const _=s.serviceTypes.find(R=>R.enabled);if(_!=null&&_.bookingStartDate){const R=Ly(_.bookingStartDate),N=nI();a(Py(R,N)?N:R)}h(!1)}},[s,i]),F.useEffect(()=>{(async()=>{if(!s)return;const R=new Date(A.getFullYear(),A.getMonth(),1),N=new Date(A.getFullYear(),A.getMonth()+1,0);try{const S=an(be,"bookings"),Y=wA(S,Tu("booking_date",">=",Xe(R,"yyyy-MM-dd")),Tu("booking_date","<=",Xe(N,"yyyy-MM-dd"))),Ae=await zg(Y),V={};Ae.docs.forEach(q=>{const M=q.data(),K=M.booking_date;V[K]||(V[K]=[]),V[K].push(M.booking_time)}),B(V)}catch(S){console.error("Error loading existing bookings:",S),p("Errore nel caricamento delle prenotazioni esistenti")}})()},[A,s]),F.useEffect(()=>{if(t&&s){const _=I(t),R=Xe(t,"yyyy-MM-dd");l(N=>({...N,[R]:_}))}},[t,s,n,C]);const w=_=>{var Y,Ae;if(!s)return!0;const R=s.serviceTypes.find(V=>V.id===n||V.enabled);if(!R)return!0;if(R.bookingStartDate&&R.bookingEndDate){const V=Ly(R.bookingStartDate),q=Ly(R.bookingEndDate);if(Py(_,V)||_>q)return!0}const N=Xe(_,"yyyy-MM-dd");if((Y=R.excludedDates)!=null&&Y.includes(N))return!0;const S=_.getDay();return((Ae=R.excludedDays)==null?void 0:Ae.includes(S))||!1},v=(_,R)=>{var S;const N=Xe(_,"yyyy-MM-dd");return((S=C[N])==null?void 0:S.includes(R))||!1},I=_=>{if(!s||w(_))return[];const R=[],[N,S=0]=s.startTime.split(":").map(Number),[Y,Ae=0]=s.endTime.split(":").map(Number),V=s.serviceTypes.find(J=>J.id===n||J.enabled),q=(V==null?void 0:V.duration)||s.bookingIntervals||30;let M=Mp(Op(new Date(_),S),N);const K=Mp(Op(new Date(_),Ae),Y);for(;M<K;){const J=Xe(M,"HH:mm");!Q(J)&&!v(_,J)&&R.push(J),M=CR(M,q)}return R},Q=_=>{if(!(s!=null&&s.breakTimes))return!1;const[R,N]=_.split(":").map(Number),S=new Date;return S.setHours(R,N,0,0),s.breakTimes.some(Y=>{if(!Y.enabled)return!1;const[Ae,V]=Y.start.split(":").map(Number),[q,M]=Y.end.split(":").map(Number),K=new Date;K.setHours(Ae,V,0,0);const J=new Date;return J.setHours(q,M,0,0),S>=K&&S<J})},k=_=>{if(w(_))return;const R=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate())),N=I(R);if(N.length===0){p("Nessun orario disponibile per questa data");return}p(null),r(R,N[0])},T=_=>{t&&r(t,_)},E=Array.from({length:42},(_,R)=>{const N=new Date(A.getFullYear(),A.getMonth(),1),Y=(N.getDay()+6)%7;return N.setDate(1-Y+R),N});return u?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:""}),"Caricamento calendario..."]})}):c.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:c.jsxs("div",{className:"space-y-6",children:[f&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(jt,{size:20}),f]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("button",{onClick:()=>a(_=>kX(_,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(Lz,{size:20})}),c.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(Qn,{className:"w-5 h-5 text-[--theater-gold]"}),Xe(A,"MMMM yyyy",{locale:ei})]}),c.jsx("button",{onClick:()=>a(_=>Dp(_,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(Mz,{size:20})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(_=>c.jsx("div",{className:"text-center text-gray-400 text-sm py-2 font-medium",children:_},_))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:E.map((_,R)=>{const N=Xe(_,"yyyy-MM-dd"),S=w(_),Y=I(_),Ae=Y.length>0,V=t&&Xe(t,"yyyy-MM-dd")===N,q=Py(_,nI()),M=S||q||!Ae,K=m&&Xe(m,"yyyy-MM-dd")===N;return c.jsxs($.button,{onClick:()=>!M&&k(_),onMouseEnter:()=>y(_),onMouseLeave:()=>y(null),disabled:M,whileHover:M?void 0:{scale:1.05},whileTap:M?void 0:{scale:.95},className:`
                  relative p-3 rounded-lg text-center transition-all duration-200
                  ${yX(_,A)?"":"opacity-40"}
                  ${V?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":K&&!M?"bg-gray-700 text-white shadow-md":M?"bg-gray-800 text-gray-500 cursor-not-allowed":Ae?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-500"}
                `,children:[c.jsx("span",{className:"relative z-10 font-medium",children:Xe(_,"d")}),S&&c.jsx(cc,{size:12,className:"absolute top-1 right-1 text-red-400"}),Ae&&!q&&!S&&c.jsx($.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[...Array(Math.min(3,Y.length))].map((J,ee)=>c.jsx("div",{className:`w-1 h-1 rounded-full ${V?"bg-black":K?"bg-white":"bg-[--theater-gold]"}`},ee))})]},N)})}),c.jsx(on,{children:t&&o[Xe(t,"yyyy-MM-dd")]&&c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 space-y-4",children:[c.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[c.jsx(Ys,{className:"w-4 h-4 text-[--theater-gold]"}),"Orari disponibili per il ",Xe(t,"d MMMM yyyy",{locale:ei})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:(b=o[Xe(t,"yyyy-MM-dd")])==null?void 0:b.map(_=>c.jsxs($.button,{onClick:()=>T(_),whileHover:{scale:1.05,backgroundColor:"var(--theater-gold)",color:"black",transition:{duration:.2}},whileTap:{scale:.95},className:`
                      relative p-3 rounded-lg text-center transition-all duration-200
                      ${e===_?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":"bg-gray-700 text-white hover:shadow-md"}
                    `,children:[_,e===_&&c.jsx($.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:c.jsx(Gn,{className:"w-3 h-3 text-white"})})]},_))})]})})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rw=function(t,e){return rw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},rw(t,e)};function zr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var sw=function(){return sw=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sw.apply(this,arguments)};function bn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(A){A(i)})}return new(n||(n=Promise))(function(i,A){function a(u){try{l(r.next(u))}catch(h){A(h)}}function o(u){try{l(r.throw(u))}catch(h){A(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,o)}l((r=r.apply(t,[])).next())})}function fn(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(l){return function(u){return o([l,u])}}function o(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ch(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var ti=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),am=function(t,e){return ti.fromClientRect(t,e.getBoundingClientRect())},wY=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new ti(0,0,r,s)},om=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},_t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},iI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<iI.length;Eh++)BY[iI.charCodeAt(Eh)]=Eh;var AI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _h=0;_h<AI.length;_h++)gc[AI.charCodeAt(_h)]=_h;var xY=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=gc[t.charCodeAt(r)],A=gc[t.charCodeAt(r+1)],a=gc[t.charCodeAt(r+2)],o=gc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return l},CY=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},EY=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},YA=5,xC=11,Oy=2,_Y=xC-YA,SR=65536>>YA,bY=1<<YA,jy=bY-1,TY=1024>>YA,IY=SR+TY,UY=IY,FY=32,SY=UY+FY,QY=65536>>xC,NY=1<<_Y,kY=NY-1,aI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},RY=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},DY=function(t,e){var n=xY(t),r=Array.isArray(n)?EY(n):new Uint32Array(n),s=Array.isArray(n)?CY(n):new Uint16Array(n),i=24,A=aI(s,i/2,r[4]/2),a=r[5]===2?aI(s,(i+r[4])/2):RY(r,Math.ceil((i+r[4])/4));return new PY(r[0],r[1],r[2],r[3],A,a)},PY=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>YA],n=(n<<Oy)+(e&jy),this.data[n];if(e<=65535)return n=this.index[SR+(e-55296>>YA)],n=(n<<Oy)+(e&jy),this.data[n];if(e<this.highStart)return n=SY-QY+(e>>xC),n=this.index[n],n+=e>>YA&kY,n=this.index[n],n=(n<<Oy)+(e&jy),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),oI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LY=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bh=0;bh<oI.length;bh++)LY[oI.charCodeAt(bh)]=bh;var MY="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",lI=50,OY=1,QR=2,NR=3,jY=4,VY=5,cI=7,kR=8,uI=9,Qi=10,iw=11,dI=12,Aw=13,HY=14,mc=15,aw=16,Th=17,Xl=18,KY=19,hI=20,ow=21,Yl=22,Vy=23,Da=24,Xn=25,yc=26,vc=27,Pa=28,zY=29,PA=30,GY=31,Ih=32,Uh=33,lw=34,cw=35,uw=36,$u=37,dw=38,vf=39,wf=40,Hy=41,RR=42,$Y=43,WY=[9001,65288],DR="!",Se="",Fh="",hw=DY(MY),Bs=[PA,uw],fw=[OY,QR,NR,VY],PR=[Qi,kR],fI=[vc,yc],qY=fw.concat(PR),pI=[dw,vf,wf,lw,cw],XY=[mc,Aw],YY=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,A){var a=hw.get(i);if(a>lI?(s.push(!0),a-=lI):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(A),n.push(aw);if(a===jY||a===iw){if(A===0)return r.push(A),n.push(PA);var o=n[A-1];return qY.indexOf(o)===-1?(r.push(r[A-1]),n.push(o)):(r.push(A),n.push(PA))}if(r.push(A),a===GY)return n.push(e==="strict"?ow:$u);if(a===RR||a===zY)return n.push(PA);if(a===$Y)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push($u):n.push(PA);n.push(a)}),[r,n,s]},Ky=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var A=r[i];if(A===e)return!0;if(A!==Qi)break}if(s===Qi)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===e)return!0;if(A!==Qi)break}if(a!==Qi)break}return!1},gI=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Qi)n--;else return r}return 0},JY=function(t,e,n,r,s){if(n[r]===0)return Se;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Se;var A=i-1,a=i+1,o=e[i],l=A>=0?e[A]:0,u=e[a];if(o===QR&&u===NR)return Se;if(fw.indexOf(o)!==-1)return DR;if(fw.indexOf(u)!==-1||PR.indexOf(u)!==-1)return Se;if(gI(i,e)===kR)return Fh;if(hw.get(t[i])===iw||(o===Ih||o===Uh)&&hw.get(t[a])===iw||o===cI||u===cI||o===uI||[Qi,Aw,mc].indexOf(o)===-1&&u===uI||[Th,Xl,KY,Da,Pa].indexOf(u)!==-1||gI(i,e)===Yl||Ky(Vy,Yl,i,e)||Ky([Th,Xl],ow,i,e)||Ky(dI,dI,i,e))return Se;if(o===Qi)return Fh;if(o===Vy||u===Vy)return Se;if(u===aw||o===aw)return Fh;if([Aw,mc,ow].indexOf(u)!==-1||o===HY||l===uw&&XY.indexOf(o)!==-1||o===Pa&&u===uw||u===hI||Bs.indexOf(u)!==-1&&o===Xn||Bs.indexOf(o)!==-1&&u===Xn||o===vc&&[$u,Ih,Uh].indexOf(u)!==-1||[$u,Ih,Uh].indexOf(o)!==-1&&u===yc||Bs.indexOf(o)!==-1&&fI.indexOf(u)!==-1||fI.indexOf(o)!==-1&&Bs.indexOf(u)!==-1||[vc,yc].indexOf(o)!==-1&&(u===Xn||[Yl,mc].indexOf(u)!==-1&&e[a+1]===Xn)||[Yl,mc].indexOf(o)!==-1&&u===Xn||o===Xn&&[Xn,Pa,Da].indexOf(u)!==-1)return Se;if([Xn,Pa,Da,Th,Xl].indexOf(u)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Xn)return Se;if([Pa,Da].indexOf(f)!==-1)h--;else break}if([vc,yc].indexOf(u)!==-1)for(var h=[Th,Xl].indexOf(o)!==-1?A:i;h>=0;){var f=e[h];if(f===Xn)return Se;if([Pa,Da].indexOf(f)!==-1)h--;else break}if(dw===o&&[dw,vf,lw,cw].indexOf(u)!==-1||[vf,lw].indexOf(o)!==-1&&[vf,wf].indexOf(u)!==-1||[wf,cw].indexOf(o)!==-1&&u===wf||pI.indexOf(o)!==-1&&[hI,yc].indexOf(u)!==-1||pI.indexOf(u)!==-1&&o===vc||Bs.indexOf(o)!==-1&&Bs.indexOf(u)!==-1||o===Da&&Bs.indexOf(u)!==-1||Bs.concat(Xn).indexOf(o)!==-1&&u===Yl&&WY.indexOf(t[a])===-1||Bs.concat(Xn).indexOf(u)!==-1&&o===Xl)return Se;if(o===Hy&&u===Hy){for(var p=n[i],m=1;p>0&&(p--,e[p]===Hy);)m++;if(m%2!==0)return Se}return o===Ih&&u===Uh?Se:Fh},ZY=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=YY(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Xn,PA,RR].indexOf(a)!==-1?$u:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[r,s,A]},eJ=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===DR,this.start=r,this.end=s}return t.prototype.slice=function(){return _t.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),tJ=function(t,e){var n=om(t),r=ZY(n,e),s=r[0],i=r[1],A=r[2],a=n.length,o=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var u=Se;l<a&&(u=JY(n,i,s,++l,A))===Se;);if(u!==Se||l===a){var h=new eJ(n,u,o,l);return o=l,{value:h,done:!1}}return{done:!0,value:null}}}},nJ=1,rJ=2,Td=4,mI=8,Hp=10,yI=47,$c=92,sJ=9,iJ=32,Sh=34,Jl=61,AJ=35,aJ=36,oJ=37,Qh=39,Nh=40,Zl=41,lJ=95,Mn=45,cJ=33,uJ=60,dJ=62,hJ=64,fJ=91,pJ=93,gJ=61,mJ=123,kh=63,yJ=125,vI=124,vJ=126,wJ=128,wI=65533,zy=42,KA=43,BJ=44,xJ=58,CJ=59,Wu=46,EJ=0,_J=8,bJ=11,TJ=14,IJ=31,UJ=127,$r=-1,LR=48,MR=97,OR=101,FJ=102,SJ=117,QJ=122,jR=65,VR=69,HR=70,NJ=85,kJ=90,yn=function(t){return t>=LR&&t<=57},RJ=function(t){return t>=55296&&t<=57343},La=function(t){return yn(t)||t>=jR&&t<=HR||t>=MR&&t<=FJ},DJ=function(t){return t>=MR&&t<=QJ},PJ=function(t){return t>=jR&&t<=kJ},LJ=function(t){return DJ(t)||PJ(t)},MJ=function(t){return t>=wJ},Rh=function(t){return t===Hp||t===sJ||t===iJ},Kp=function(t){return LJ(t)||MJ(t)||t===lJ},BI=function(t){return Kp(t)||yn(t)||t===Mn},OJ=function(t){return t>=EJ&&t<=_J||t===bJ||t>=TJ&&t<=IJ||t===UJ},yi=function(t,e){return t!==$c?!1:e!==Hp},Dh=function(t,e,n){return t===Mn?Kp(e)||yi(e,n):Kp(t)?!0:!!(t===$c&&yi(t,e))},Gy=function(t,e,n){return t===KA||t===Mn?yn(e)?!0:e===Wu&&yn(n):yn(t===Wu?e:t)},jJ=function(t){var e=0,n=1;(t[e]===KA||t[e]===Mn)&&(t[e]===Mn&&(n=-1),e++);for(var r=[];yn(t[e]);)r.push(t[e++]);var s=r.length?parseInt(_t.apply(void 0,r),10):0;t[e]===Wu&&e++;for(var i=[];yn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(_t.apply(void 0,i),10):0;(t[e]===VR||t[e]===OR)&&e++;var o=1;(t[e]===KA||t[e]===Mn)&&(t[e]===Mn&&(o=-1),e++);for(var l=[];yn(t[e]);)l.push(t[e++]);var u=l.length?parseInt(_t.apply(void 0,l),10):0;return n*(s+a*Math.pow(10,-A))*Math.pow(10,o*u)},VJ={type:2},HJ={type:3},KJ={type:4},zJ={type:13},GJ={type:8},$J={type:21},WJ={type:9},qJ={type:10},XJ={type:11},YJ={type:12},JJ={type:14},Ph={type:23},ZJ={type:1},eZ={type:25},tZ={type:24},nZ={type:26},rZ={type:27},sZ={type:28},iZ={type:29},AZ={type:31},pw={type:32},KR=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(om(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==pw;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Sh:return this.consumeStringToken(Sh);case AJ:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(BI(n)||yi(r,s)){var i=Dh(n,r,s)?rJ:nJ,A=this.consumeName();return{type:5,value:A,flags:i}}break;case aJ:if(this.peekCodePoint(0)===Jl)return this.consumeCodePoint(),zJ;break;case Qh:return this.consumeStringToken(Qh);case Nh:return VJ;case Zl:return HJ;case zy:if(this.peekCodePoint(0)===Jl)return this.consumeCodePoint(),JJ;break;case KA:if(Gy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case BJ:return KJ;case Mn:var a=e,o=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Gy(a,o,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Dh(a,o,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===Mn&&l===dJ)return this.consumeCodePoint(),this.consumeCodePoint(),tZ;break;case Wu:if(Gy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yI:if(this.peekCodePoint(0)===zy)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===zy&&(u=this.consumeCodePoint(),u===yI))return this.consumeToken();if(u===$r)return this.consumeToken()}break;case xJ:return nZ;case CJ:return rZ;case uJ:if(this.peekCodePoint(0)===cJ&&this.peekCodePoint(1)===Mn&&this.peekCodePoint(2)===Mn)return this.consumeCodePoint(),this.consumeCodePoint(),eZ;break;case hJ:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Dh(h,f,p)){var A=this.consumeName();return{type:7,value:A}}break;case fJ:return sZ;case $c:if(yi(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case pJ:return iZ;case gJ:if(this.peekCodePoint(0)===Jl)return this.consumeCodePoint(),GJ;break;case mJ:return XJ;case yJ:return YJ;case SJ:case NJ:var m=this.peekCodePoint(0),y=this.peekCodePoint(1);return m===KA&&(La(y)||y===kh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vI:if(this.peekCodePoint(0)===Jl)return this.consumeCodePoint(),WJ;if(this.peekCodePoint(0)===vI)return this.consumeCodePoint(),$J;break;case vJ:if(this.peekCodePoint(0)===Jl)return this.consumeCodePoint(),qJ;break;case $r:return pw}return Rh(e)?(this.consumeWhiteSpace(),AZ):yn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Kp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:_t(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();La(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===kh&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(_t.apply(void 0,e.map(function(o){return o===kh?LR:o})),16),i=parseInt(_t.apply(void 0,e.map(function(o){return o===kh?HR:o})),16);return{type:30,start:s,end:i}}var A=parseInt(_t.apply(void 0,e),16);if(this.peekCodePoint(0)===Mn&&La(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];La(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(_t.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Nh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Nh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===$r)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Qh||n===Sh){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===$r||this.peekCodePoint(0)===Zl)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Ph)}for(;;){var s=this.consumeCodePoint();if(s===$r||s===Zl)return{type:22,value:_t.apply(void 0,e)};if(Rh(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===$r||this.peekCodePoint(0)===Zl?(this.consumeCodePoint(),{type:22,value:_t.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ph);if(s===Sh||s===Qh||s===Nh||OJ(s))return this.consumeBadUrlRemnants(),Ph;if(s===$c)if(yi(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ph;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;Rh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Zl||e===$r)return;yi(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=_t.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===$r||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===Hp)return this._value.splice(0,r),ZJ;if(s===$c){var i=this._value[r+1];i!==$r&&i!==void 0&&(i===Hp?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):yi(s,i)&&(n+=this.consumeStringSlice(r),n+=_t(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Td,r=this.peekCodePoint(0);for((r===KA||r===Mn)&&e.push(this.consumeCodePoint());yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Wu&&yn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=mI;yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===VR||r===OR)&&((s===KA||s===Mn)&&yn(i)||yn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=mI;yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[jJ(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Dh(s,i,A)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===oJ?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(La(e)){for(var n=_t(e);La(this.peekCodePoint(0))&&n.length<6;)n+=_t(this.consumeCodePoint());Rh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||RJ(r)||r>1114111?wI:r}return e===$r?wI:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(BI(n))e+=_t(n);else if(yi(n,this.peekCodePoint(0)))e+=_t(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),zR=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new KR;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||oZ(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?pw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Id=function(t){return t.type===15},wl=function(t){return t.type===17},Ye=function(t){return t.type===20},aZ=function(t){return t.type===0},gw=function(t,e){return Ye(t)&&t.value===e},GR=function(t){return t.type!==31},nl=function(t){return t.type!==31&&t.type!==4},ps=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},oZ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},uA=function(t){return t.type===17||t.type===15},Nt=function(t){return t.type===16||uA(t)},$R=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},en={type:17,number:0,flags:Td},CC={type:16,number:50,flags:Td},Ni={type:16,number:100,flags:Td},wc=function(t,e,n){var r=t[0],s=t[1];return[tt(r,e),tt(typeof s<"u"?s:r,n)]},tt=function(t,e){if(t.type===16)return t.number/100*e;if(Id(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},WR="deg",qR="grad",XR="rad",YR="turn",lm={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case WR:return Math.PI*e.number/180;case qR:return Math.PI/200*e.number;case XR:return e.number;case YR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},JR=function(t){return t.type===15&&(t.unit===WR||t.unit===qR||t.unit===XR||t.unit===YR)},ZR=function(t){var e=t.filter(Ye).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[en,en];case"to top":case"bottom":return wr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[en,Ni];case"to right":case"left":return wr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ni,Ni];case"to bottom":case"top":return wr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ni,en];case"to left":case"right":return wr(270)}return 0},wr=function(t){return Math.PI*t/180},Wi={name:"color",parse:function(t,e){if(e.type===18){var n=lZ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return ki(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return ki(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return ki(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return ki(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=Ms[e.value.toUpperCase()];if(typeof a<"u")return a}return Ms.TRANSPARENT}},qi=function(t){return(255&t)===0},Vt=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},ki=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},xI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},CI=function(t,e){var n=e.filter(nl);if(n.length===3){var r=n.map(xI),s=r[0],i=r[1],A=r[2];return ki(s,i,A,1)}if(n.length===4){var a=n.map(xI),s=a[0],i=a[1],A=a[2],o=a[3];return ki(s,i,A,o)}return 0};function $y(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var EI=function(t,e){var n=e.filter(nl),r=n[0],s=n[1],i=n[2],A=n[3],a=(r.type===17?wr(r.number):lm.parse(t,r))/(Math.PI*2),o=Nt(s)?s.number/100:0,l=Nt(i)?i.number/100:0,u=typeof A<"u"&&Nt(A)?tt(A,1):1;if(o===0)return ki(l*255,l*255,l*255,1);var h=l<=.5?l*(o+1):l+o-l*o,f=l*2-h,p=$y(f,h,a+1/3),m=$y(f,h,a),y=$y(f,h,a-1/3);return ki(p*255,m*255,y*255,u)},lZ={hsl:EI,hsla:EI,rgb:CI,rgba:CI},Wc=function(t,e){return Wi.parse(t,zR.create(e).parseComponentValue())},Ms={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cZ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ye(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uZ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cm=function(t,e){var n=Wi.parse(t,e[0]),r=e[1];return r&&Nt(r)?{color:n,stop:r}:{color:n,stop:null}},_I=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=en),r.stop===null&&(r.stop=Ni);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=tt(a,e);o>i?s.push(o):s.push(i),i=o}else s.push(null)}for(var l=null,A=0;A<s.length;A++){var u=s[A];if(u===null)l===null&&(l=A);else if(l!==null){for(var h=A-l,f=s[l-1],p=(u-f)/(h+1),m=1;m<=h;m++)s[l+m-1]=p*m;l=null}}return t.map(function(y,C){var B=y.color;return{color:B,stop:Math.max(Math.min(1,s[C]/e),0)}})},dZ=function(t,e,n){var r=e/2,s=n/2,i=tt(t[0],e)-r,A=s-tt(t[1],n);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},hZ=function(t,e,n){var r=typeof t=="number"?t:dZ(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,A=n/2,a=s/2,o=Math.sin(r-Math.PI/2)*a,l=Math.cos(r-Math.PI/2)*a;return[s,i-l,i+l,A-o,A+o]},Ur=function(t,e){return Math.sqrt(t*t+e*e)},bI=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var o=a[0],l=a[1],u=Ur(n-o,r-l);return(s?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:a,optimumDistance:u}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},fZ=function(t,e,n,r,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=A=Math.min(Ur(e,n),Ur(e,n-s),Ur(e-r,n),Ur(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),o=bI(r,s,e,n,!0),l=o[0],u=o[1];i=Ur(l-e,(u-n)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=A=Math.max(Ur(e,n),Ur(e,n-s),Ur(e-r,n),Ur(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=bI(r,s,e,n,!1),l=h[0],u=h[1];i=Ur(l-e,(u-n)/a),A=a*i}break}return Array.isArray(t.size)&&(i=tt(t.size[0],r),A=t.size.length===2?tt(t.size[1],s):i),[i,A]},pZ=function(t,e){var n=wr(180),r=[];return ps(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){n=ZR(s);return}else if(JR(A)){n=lm.parse(t,A);return}}var a=cm(t,s);r.push(a)}),{angle:n,stops:r,type:1}},Lh=function(t,e){var n=wr(180),r=[];return ps(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=ZR(s);return}else if(JR(A)){n=(lm.parse(t,A)+wr(270))%wr(360);return}}var a=cm(t,s);r.push(a)}),{angle:n,stops:r,type:1}},gZ=function(t,e){var n=wr(180),r=[],s=1,i=0,A=3,a=[];return ps(e).forEach(function(o,l){var u=o[0];if(l===0){if(Ye(u)&&u.value==="linear"){s=1;return}else if(Ye(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=Wi.parse(t,u.values[0]);r.push({stop:en,color:h})}else if(u.name==="to"){var h=Wi.parse(t,u.values[0]);r.push({stop:Ni,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(nl);if(f.length===2){var h=Wi.parse(t,f[1]),p=f[0];wl(p)&&r.push({stop:{type:16,number:p.number*100,flags:p.flags},color:h})}}}}),s===1?{angle:(n+wr(180))%wr(360),stops:r,type:s}:{size:A,shape:i,stops:r,position:a,type:s}},eD="closest-side",tD="farthest-side",nD="closest-corner",rD="farthest-corner",sD="circle",iD="ellipse",AD="cover",aD="contain",mZ=function(t,e){var n=0,r=3,s=[],i=[];return ps(e).forEach(function(A,a){var o=!0;if(a===0){var l=!1;o=A.reduce(function(h,f){if(l)if(Ye(f))switch(f.value){case"center":return i.push(CC),h;case"top":case"left":return i.push(en),h;case"right":case"bottom":return i.push(Ni),h}else(Nt(f)||uA(f))&&i.push(f);else if(Ye(f))switch(f.value){case sD:return n=0,!1;case iD:return n=1,!1;case"at":return l=!0,!1;case eD:return r=0,!1;case AD:case tD:return r=1,!1;case aD:case nD:return r=2,!1;case rD:return r=3,!1}else if(uA(f)||Nt(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return h},o)}if(o){var u=cm(t,A);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},Mh=function(t,e){var n=0,r=3,s=[],i=[];return ps(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(u,h){if(Ye(h))switch(h.value){case"center":return i.push(CC),!1;case"top":case"left":return i.push(en),!1;case"right":case"bottom":return i.push(Ni),!1}else if(Nt(h)||uA(h))return i.push(h),!1;return u},o):a===1&&(o=A.reduce(function(u,h){if(Ye(h))switch(h.value){case sD:return n=0,!1;case iD:return n=1,!1;case aD:case eD:return r=0,!1;case tD:return r=1,!1;case nD:return r=2,!1;case AD:case rD:return r=3,!1}else if(uA(h)||Nt(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},o)),o){var l=cm(t,A);s.push(l)}}),{size:r,shape:n,stops:s,position:i,type:2}},yZ=function(t){return t.type===1},vZ=function(t){return t.type===2},EC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=oD[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function wZ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!oD[t.name])}var oD={"linear-gradient":pZ,"-moz-linear-gradient":Lh,"-ms-linear-gradient":Lh,"-o-linear-gradient":Lh,"-webkit-linear-gradient":Lh,"radial-gradient":mZ,"-moz-radial-gradient":Mh,"-ms-radial-gradient":Mh,"-o-radial-gradient":Mh,"-webkit-radial-gradient":Mh,"-webkit-gradient":gZ},BZ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return nl(r)&&wZ(r)}).map(function(r){return EC.parse(t,r)})}},xZ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ye(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},CZ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return ps(e).map(function(n){return n.filter(Nt)}).map($R)}},EZ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return ps(e).map(function(n){return n.filter(Ye).map(function(r){return r.value}).join(" ")}).map(_Z)}},_Z=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Qo;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Qo||(Qo={}));var bZ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return ps(e).map(function(n){return n.filter(TZ)})}},TZ=function(t){return Ye(t)||Nt(t)},um=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},IZ=um("top"),UZ=um("right"),FZ=um("bottom"),SZ=um("left"),dm=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return $R(n.filter(Nt))}}},QZ=dm("top-left"),NZ=dm("top-right"),kZ=dm("bottom-right"),RZ=dm("bottom-left"),hm=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},DZ=hm("top"),PZ=hm("right"),LZ=hm("bottom"),MZ=hm("left"),fm=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Id(n)?n.number:0}}},OZ=fm("top"),jZ=fm("right"),VZ=fm("bottom"),HZ=fm("left"),KZ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zZ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},GZ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).reduce(function(n,r){return n|$Z(r.value)},0)}},$Z=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},WZ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},qZ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},zp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(zp||(zp={}));var XZ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return zp.STRICT;case"normal":default:return zp.NORMAL}}},YZ={name:"line-height",initialValue:"normal",prefix:!1,type:4},TI=function(t,e){return Ye(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Nt(t)?tt(t,e):e},JZ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:EC.parse(t,e)}},ZZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},mw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},pm=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},eee=pm("top"),tee=pm("right"),nee=pm("bottom"),ree=pm("left"),see={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},iee={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},gm=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Aee=gm("top"),aee=gm("right"),oee=gm("bottom"),lee=gm("left"),cee={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},uee={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dee={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&gw(e[0],"none")?[]:ps(e).map(function(n){for(var r={color:Ms.TRANSPARENT,offsetX:en,offsetY:en,blur:en},s=0,i=0;i<n.length;i++){var A=n[i];uA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=Wi.parse(t,A)}return r})}},hee={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fee={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=mee[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},pee=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},gee=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,A,a]:null},mee={matrix:pee,matrix3d:gee},II={type:16,number:50,flags:Td},yee=[II,II],vee={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Nt);return n.length!==2?yee:[n[0],n[1]]}},wee={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},qc;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(qc||(qc={}));var Bee={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return qc.BREAK_ALL;case"keep-all":return qc.KEEP_ALL;case"normal":default:return qc.NORMAL}}},xee={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(wl(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},lD={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Cee={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return wl(e)?e.number:1}},Eee={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_ee={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ye).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},bee={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Tee={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Iee={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(wl(e))return e.number;if(Ye(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Uee={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ye).map(function(n){return n.value})}},Fee={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Lt=function(t,e){return(t&e)!==0},See={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},Qee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(GR),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var o=a&&wl(a)?a.number:1;r.push({counter:A.value,increment:o})}}return r}},Nee={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(GR),s=0;s<r.length;s++){var i=r[s],A=r[s+1];if(Ye(i)&&i.value!=="none"){var a=A&&wl(A)?A.number:0;n.push({counter:i.value,reset:a})}}return n}},kee={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Id).map(function(n){return lD.parse(t,n)})}},Ree={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(aZ);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;r.push({open:A,close:a})}return r}},UI=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},Dee={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&gw(e[0],"none")?[]:ps(e).map(function(n){for(var r={color:255,offsetX:en,offsetY:en,blur:en,spread:en,inset:!1},s=0,i=0;i<n.length;i++){var A=n[i];gw(A,"inset")?r.inset=!0:uA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=Wi.parse(t,A)}return r})}},Pee={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Ye).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},Lee={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Mee={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Id(e)?e.number:0}},Oee=function(){function t(e,n){var r,s;this.animationDuration=ae(e,kee,n.animationDuration),this.backgroundClip=ae(e,cZ,n.backgroundClip),this.backgroundColor=ae(e,uZ,n.backgroundColor),this.backgroundImage=ae(e,BZ,n.backgroundImage),this.backgroundOrigin=ae(e,xZ,n.backgroundOrigin),this.backgroundPosition=ae(e,CZ,n.backgroundPosition),this.backgroundRepeat=ae(e,EZ,n.backgroundRepeat),this.backgroundSize=ae(e,bZ,n.backgroundSize),this.borderTopColor=ae(e,IZ,n.borderTopColor),this.borderRightColor=ae(e,UZ,n.borderRightColor),this.borderBottomColor=ae(e,FZ,n.borderBottomColor),this.borderLeftColor=ae(e,SZ,n.borderLeftColor),this.borderTopLeftRadius=ae(e,QZ,n.borderTopLeftRadius),this.borderTopRightRadius=ae(e,NZ,n.borderTopRightRadius),this.borderBottomRightRadius=ae(e,kZ,n.borderBottomRightRadius),this.borderBottomLeftRadius=ae(e,RZ,n.borderBottomLeftRadius),this.borderTopStyle=ae(e,DZ,n.borderTopStyle),this.borderRightStyle=ae(e,PZ,n.borderRightStyle),this.borderBottomStyle=ae(e,LZ,n.borderBottomStyle),this.borderLeftStyle=ae(e,MZ,n.borderLeftStyle),this.borderTopWidth=ae(e,OZ,n.borderTopWidth),this.borderRightWidth=ae(e,jZ,n.borderRightWidth),this.borderBottomWidth=ae(e,VZ,n.borderBottomWidth),this.borderLeftWidth=ae(e,HZ,n.borderLeftWidth),this.boxShadow=ae(e,Dee,n.boxShadow),this.color=ae(e,KZ,n.color),this.direction=ae(e,zZ,n.direction),this.display=ae(e,GZ,n.display),this.float=ae(e,WZ,n.cssFloat),this.fontFamily=ae(e,bee,n.fontFamily),this.fontSize=ae(e,Tee,n.fontSize),this.fontStyle=ae(e,Fee,n.fontStyle),this.fontVariant=ae(e,Uee,n.fontVariant),this.fontWeight=ae(e,Iee,n.fontWeight),this.letterSpacing=ae(e,qZ,n.letterSpacing),this.lineBreak=ae(e,XZ,n.lineBreak),this.lineHeight=ae(e,YZ,n.lineHeight),this.listStyleImage=ae(e,JZ,n.listStyleImage),this.listStylePosition=ae(e,ZZ,n.listStylePosition),this.listStyleType=ae(e,mw,n.listStyleType),this.marginTop=ae(e,eee,n.marginTop),this.marginRight=ae(e,tee,n.marginRight),this.marginBottom=ae(e,nee,n.marginBottom),this.marginLeft=ae(e,ree,n.marginLeft),this.opacity=ae(e,Cee,n.opacity);var i=ae(e,see,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ae(e,iee,n.overflowWrap),this.paddingTop=ae(e,Aee,n.paddingTop),this.paddingRight=ae(e,aee,n.paddingRight),this.paddingBottom=ae(e,oee,n.paddingBottom),this.paddingLeft=ae(e,lee,n.paddingLeft),this.paintOrder=ae(e,Pee,n.paintOrder),this.position=ae(e,uee,n.position),this.textAlign=ae(e,cee,n.textAlign),this.textDecorationColor=ae(e,Eee,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ae(e,_ee,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=ae(e,dee,n.textShadow),this.textTransform=ae(e,hee,n.textTransform),this.transform=ae(e,fee,n.transform),this.transformOrigin=ae(e,vee,n.transformOrigin),this.visibility=ae(e,wee,n.visibility),this.webkitTextStrokeColor=ae(e,Lee,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ae(e,Mee,n.webkitTextStrokeWidth),this.wordBreak=ae(e,Bee,n.wordBreak),this.zIndex=ae(e,xee,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return qi(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Lt(this.display,4)||Lt(this.display,33554432)||Lt(this.display,268435456)||Lt(this.display,536870912)||Lt(this.display,67108864)||Lt(this.display,134217728)},t}(),jee=function(){function t(e,n){this.content=ae(e,See,n.content),this.quotes=ae(e,Ree,n.quotes)}return t}(),FI=function(){function t(e,n){this.counterIncrement=ae(e,Qee,n.counterIncrement),this.counterReset=ae(e,Nee,n.counterReset)}return t}(),ae=function(t,e,n){var r=new KR,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new zR(r.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,Ye(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return lm.parse(t,i.parseComponentValue());case"color":return Wi.parse(t,i.parseComponentValue());case"image":return EC.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return uA(a)?a:en;case"length-percentage":var o=i.parseComponentValue();return Nt(o)?o:en;case"time":return lD.parse(t,i.parseComponentValue())}break}},Vee="data-html2canvas-debug",Hee=function(t){var e=t.getAttribute(Vee);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yw=function(t,e){var n=Hee(t);return n===1||e===n},gs=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,yw(n,3))debugger;this.styles=new Oee(e,window.getComputedStyle(n,null)),Bw(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=am(this.context,n),yw(n,4)&&(this.flags|=16)}return t}(),Kee="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",SI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Oh=0;Oh<SI.length;Oh++)Bc[SI.charCodeAt(Oh)]=Oh;var zee=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=Bc[t.charCodeAt(r)],A=Bc[t.charCodeAt(r+1)],a=Bc[t.charCodeAt(r+2)],o=Bc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return l},Gee=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},$ee=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},JA=5,_C=11,Wy=2,Wee=_C-JA,cD=65536>>JA,qee=1<<JA,qy=qee-1,Xee=1024>>JA,Yee=cD+Xee,Jee=Yee,Zee=32,ete=Jee+Zee,tte=65536>>_C,nte=1<<Wee,rte=nte-1,QI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},ste=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},ite=function(t,e){var n=zee(t),r=Array.isArray(n)?$ee(n):new Uint32Array(n),s=Array.isArray(n)?Gee(n):new Uint16Array(n),i=24,A=QI(s,i/2,r[4]/2),a=r[5]===2?QI(s,(i+r[4])/2):ste(r,Math.ceil((i+r[4])/4));return new Ate(r[0],r[1],r[2],r[3],A,a)},Ate=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>JA],n=(n<<Wy)+(e&qy),this.data[n];if(e<=65535)return n=this.index[cD+(e-55296>>JA)],n=(n<<Wy)+(e&qy),this.data[n];if(e<this.highStart)return n=ete-tte+(e>>_C),n=this.index[n],n+=e>>JA&rte,n=this.index[n],n=(n<<Wy)+(e&qy),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),NI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ate=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jh=0;jh<NI.length;jh++)ate[NI.charCodeAt(jh)]=jh;var ote=1,Xy=2,Yy=3,kI=4,RI=5,lte=7,DI=8,Jy=9,Zy=10,PI=11,LI=12,MI=13,OI=14,e0=15,cte=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},ute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},dte=ite(Kee),fr="",t0="",hte=function(t){return dte.get(t)},fte=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],A=e[n];if(i===Xy&&A===Yy)return fr;if(i===Xy||i===Yy||i===kI||A===Xy||A===Yy||A===kI)return t0;if(i===DI&&[DI,Jy,PI,LI].indexOf(A)!==-1||(i===PI||i===Jy)&&(A===Jy||A===Zy)||(i===LI||i===Zy)&&A===Zy||A===MI||A===RI||A===lte||i===ote)return fr;if(i===MI&&A===OI){for(;s===RI;)s=e[--r];if(s===OI)return fr}if(i===e0&&A===e0){for(var a=0;s===e0;)a++,s=e[--r];if(a%2===0)return fr}return t0},pte=function(t){var e=cte(t),n=e.length,r=0,s=0,i=e.map(hte);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=fr;r<n&&(A=fte(e,i,++r))===fr;);if(A!==fr||r===n){var a=ute.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},gte=function(t){for(var e=pte(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},mte=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},yte=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=om(r.data).map(function(o){return _t(o)}),i=0,A={},a=s.every(function(o,l){n.setStart(r,i),n.setEnd(r,i+o.length);var u=n.getBoundingClientRect();i+=o.length;var h=u.x>A.x||u.y>A.y;return A=u,l===0?!0:h});return t.body.removeChild(e),a},vte=function(){return typeof new Image().crossOrigin<"u"},wte=function(){return typeof new XMLHttpRequest().responseType=="string"},Bte=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},jI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},xte=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var A=vw(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),VI(A).then(function(a){r.drawImage(a,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var l=t.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=n+"px",jI(o)?VI(vw(n,n,0,0,l)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),jI(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},vw=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},VI=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Xt={get SUPPORT_RANGE_BOUNDS(){var t=mte(document);return Object.defineProperty(Xt,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Xt.SUPPORT_RANGE_BOUNDS&&yte(document);return Object.defineProperty(Xt,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Bte(document);return Object.defineProperty(Xt,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?xte(document):Promise.resolve(!1);return Object.defineProperty(Xt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=vte();return Object.defineProperty(Xt,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=wte();return Object.defineProperty(Xt,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Xt,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Xt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Xc=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),Cte=function(t,e,n,r){var s=bte(e,n),i=[],A=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Xt.SUPPORT_RANGE_BOUNDS){var o=HI(r,A,a.length).getClientRects();if(o.length>1){var l=bC(a),u=0;l.forEach(function(f){i.push(new Xc(f,ti.fromDOMRectList(t,HI(r,u+A,f.length).getClientRects()))),u+=f.length})}else i.push(new Xc(a,ti.fromDOMRectList(t,o)))}else{var h=r.splitText(a.length);i.push(new Xc(a,Ete(t,r))),r=h}else Xt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));A+=a.length}),i},Ete=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=am(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return ti.EMPTY},HI=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},bC=function(t){if(Xt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return gte(t)},_te=function(t,e){if(Xt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return Ite(t,e)},bte=function(t,e){return e.letterSpacing!==0?bC(t):_te(t,e)},Tte=[32,160,4961,65792,65793,4153,4241],Ite=function(t,e){for(var n=tJ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var A=s.value.slice(),a=om(A),o="";a.forEach(function(l){Tte.indexOf(l)===-1?o+=_t(l):(o.length&&r.push(o),r.push(_t(l)),o="")}),o.length&&r.push(o)}};!(s=n.next()).done;)i();return r},Ute=function(){function t(e,n,r){this.text=Fte(n.data,r.textTransform),this.textBounds=Cte(e,this.text,r,n)}return t}(),Fte=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Ste,Qte);case 2:return t.toUpperCase();default:return t}},Ste=/(^|\s|:|-|\(|\))([a-z])/g,Qte=function(t,e,n){return t.length>0?e+n.toUpperCase():t},uD=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(gs),dD=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(gs),hD=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,A=am(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(gs),fD=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(gs),ww=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(gs),Nte=[{type:15,flags:0,unit:"px",number:3}],kte=[{type:16,flags:0,number:50}],Rte=function(t){return t.width>t.height?new ti(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ti(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Dte=function(t){var e=t.type===Pte?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Gp="checkbox",$p="radio",Pte="password",KI=707406591,TC=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=Dte(r),(s.type===Gp||s.type===$p)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Rte(s.bounds)),s.type){case Gp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Nte;break;case $p:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=kte;break}return s}return e}(gs),pD=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(gs),gD=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(gs),mD=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=vD(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?Wc(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ms.TRANSPARENT,A=r.contentWindow.document.body?Wc(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ms.TRANSPARENT;s.backgroundColor=qi(i)?qi(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(gs),Lte=["OL","UL","MENU"],Bf=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,wD(s)&&s.data.trim().length>0)n.textNodes.push(new Ute(t,s,n.styles));else if(go(s))if(ED(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return Bf(t,a,n,r)});else{var A=yD(t,s);A.styles.isVisible()&&(Mte(s,A,r)?A.flags|=4:Ote(A.styles)&&(A.flags|=2),Lte.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?Bf(t,s.shadowRoot,A,r):!Wp(s)&&!BD(s)&&!qp(s)&&Bf(t,s,A,r))}},yD=function(t,e){return xw(e)?new uD(t,e):xD(e)?new dD(t,e):BD(e)?new hD(t,e):jte(e)?new fD(t,e):Vte(e)?new ww(t,e):Hte(e)?new TC(t,e):qp(e)?new pD(t,e):Wp(e)?new gD(t,e):CD(e)?new mD(t,e):new gs(t,e)},vD=function(t,e){var n=yD(t,e);return n.flags|=4,Bf(t,e,n,n),n},Mte=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||IC(t)&&n.styles.isTransparent()},Ote=function(t){return t.isPositioned()||t.isFloating()},wD=function(t){return t.nodeType===Node.TEXT_NODE},go=function(t){return t.nodeType===Node.ELEMENT_NODE},Bw=function(t){return go(t)&&typeof t.style<"u"&&!xf(t)},xf=function(t){return typeof t.className=="object"},jte=function(t){return t.tagName==="LI"},Vte=function(t){return t.tagName==="OL"},Hte=function(t){return t.tagName==="INPUT"},Kte=function(t){return t.tagName==="HTML"},BD=function(t){return t.tagName==="svg"},IC=function(t){return t.tagName==="BODY"},xD=function(t){return t.tagName==="CANVAS"},zI=function(t){return t.tagName==="VIDEO"},xw=function(t){return t.tagName==="IMG"},CD=function(t){return t.tagName==="IFRAME"},GI=function(t){return t.tagName==="STYLE"},zte=function(t){return t.tagName==="SCRIPT"},Wp=function(t){return t.tagName==="TEXTAREA"},qp=function(t){return t.tagName==="SELECT"},ED=function(t){return t.tagName==="SLOT"},$I=function(t){return t.tagName.indexOf("-")>0},Gte=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var o=n.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var o=n.counters[a.counter];A.push(a.counter),o||(o=n.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),WI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},qI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$te={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Wte={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ma=function(t,e,n,r,s,i){return t<e||t>n?qu(t,s,i.length>0):r.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=r.values[o];return A},"")+i},_D=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Ct=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(_D(Math.abs(t),i,r,function(A){return _t(Math.floor(A%i)+e)})+s)},UA=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return _D(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Ga=1,fi=2,pi=4,xc=8,xs=function(t,e,n,r,s,i){if(t<-9999||t>9999)return qu(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var l=A%10;l===0&&Lt(i,Ga)&&a!==""?a=e[l]+a:l>1||l===1&&o===0||l===1&&o===1&&Lt(i,fi)||l===1&&o===1&&Lt(i,pi)&&t>100||l===1&&o>1&&Lt(i,xc)?a=e[l]+(o>0?n[o-1]:"")+a:l===1&&o>0&&(a=n[o-1]+a),A=Math.floor(A/10)}return(t<0?r:"")+a},XI="",YI="",JI="",n0="",qu=function(t,e,n){var r=n?". ":"",s=n?"":"",i=n?", ":"",A=n?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var a=Ct(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return UA(t,"",s);case 6:return Ma(t,1,3999,WI,3,r).toLowerCase();case 7:return Ma(t,1,3999,WI,3,r);case 8:return Ct(t,945,969,!1,r);case 9:return Ct(t,97,122,!1,r);case 10:return Ct(t,65,90,!1,r);case 11:return Ct(t,1632,1641,!0,r);case 12:case 49:return Ma(t,1,9999,qI,3,r);case 35:return Ma(t,1,9999,qI,3,r).toLowerCase();case 13:return Ct(t,2534,2543,!0,r);case 14:case 30:return Ct(t,6112,6121,!0,r);case 15:return UA(t,"",s);case 16:return UA(t,"",s);case 17:case 48:return xs(t,"",XI,"",s,fi|pi|xc);case 47:return xs(t,"",YI,"",s,Ga|fi|pi|xc);case 42:return xs(t,"",XI,"",s,fi|pi|xc);case 41:return xs(t,"",YI,"",s,Ga|fi|pi|xc);case 26:return xs(t,"","",JI,s,0);case 25:return xs(t,"","",JI,s,Ga|fi|pi);case 31:return xs(t,"","",n0,i,Ga|fi|pi);case 33:return xs(t,"","",n0,i,0);case 32:return xs(t,"","",n0,i,Ga|fi|pi);case 18:return Ct(t,2406,2415,!0,r);case 20:return Ma(t,1,19999,Wte,3,r);case 21:return Ct(t,2790,2799,!0,r);case 22:return Ct(t,2662,2671,!0,r);case 22:return Ma(t,1,10999,$te,3,r);case 23:return UA(t,"");case 24:return UA(t,"");case 27:return Ct(t,3302,3311,!0,r);case 28:return UA(t,"",s);case 29:return UA(t,"",s);case 34:return Ct(t,3792,3801,!0,r);case 37:return Ct(t,6160,6169,!0,r);case 38:return Ct(t,4160,4169,!0,r);case 39:return Ct(t,2918,2927,!0,r);case 40:return Ct(t,1776,1785,!0,r);case 43:return Ct(t,3046,3055,!0,r);case 44:return Ct(t,3174,3183,!0,r);case 45:return Ct(t,3664,3673,!0,r);case 46:return Ct(t,3872,3881,!0,r);case 3:default:return Ct(t,48,57,!0,r)}},bD="data-html2canvas-ignore",ZI=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new Gte,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=qte(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,o=a.document,l=Jte(s).then(function(){return bn(r,void 0,void 0,function(){var u,h;return fn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(nne),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Yte(o)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(o,h)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write(ene(document.doctype)+"<html></html>"),tne(this.referenceElement.ownerDocument,i,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),l},t.prototype.createElementClone=function(e){if(yw(e,2))debugger;if(xD(e))return this.createCanvasClone(e);if(zI(e))return this.createVideoClone(e);if(GI(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return xw(n)&&(xw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),$I(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return r0(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!go(n)||!zte(n)&&!n.hasAttribute(bD)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!go(n)||!GI(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(go(i)&&ED(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(wD(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&go(e)&&(Bw(e)||xf(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&Bw(s)&&(this.clonedReferenceElement=s),IC(s)&&ine(s);var o=this.counters.parse(new FI(this.context,i)),l=this.resolvePseudoContent(e,s,A,Yc.BEFORE);$I(e)&&(n=!0),zI(e)||this.cloneChildNodes(e,s,n),l&&s.insertBefore(l,s.firstChild);var u=this.resolvePseudoContent(e,s,a,Yc.AFTER);return u&&s.appendChild(u),this.counters.pop(o),(i&&(this.options.copyStyles||xf(e))&&!CD(e)||n)&&r0(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Wp(e)||qp(e))&&(Wp(s)||qp(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var A=r.content,a=n.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new FI(this.context,r));var o=new jee(this.context,r),l=a.createElement("html2canvaspseudoelement");r0(r,l),o.content.forEach(function(h){if(h.type===0)l.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",l.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter(Ye);p.length&&l.appendChild(a.createTextNode(e.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(nl),y=m[0],C=m[1];if(y&&Ye(y)){var B=i.counters.getCounterValue(y.value),w=C&&Ye(C)?mw.parse(i.context,C.value):3;l.appendChild(a.createTextNode(qu(B,w,!1)))}}else if(h.name==="counters"){var v=h.values.filter(nl),y=v[0],I=v[1],C=v[2];if(y&&Ye(y)){var Q=i.counters.getCounterValues(y.value),k=C&&Ye(C)?mw.parse(i.context,C.value):3,T=I&&I.type===0?I.value:"",E=Q.map(function(R){return qu(R,k,!1)}).join(T);l.appendChild(a.createTextNode(E))}}}else if(h.type===20)switch(h.value){case"open-quote":l.appendChild(a.createTextNode(UI(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(UI(o.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(h.value))}}),l.className=Cw+" "+Ew;var u=s===Yc.BEFORE?" "+Cw:" "+Ew;return xf(n)?n.className.baseValue+=u:n.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Yc;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Yc||(Yc={}));var qte=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(bD,"true"),t.body.appendChild(n),n},Xte=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Yte=function(t){return Promise.all([].slice.call(t.images,0).map(Xte))},Jte=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},Zte=["all","d","content"],r0=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Zte.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},ene=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},tne=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},nne=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},rne=":before",sne=":after",Cw="___html2canvas___pseudoelement_before",Ew="___html2canvas___pseudoelement_after",eU=`{
    content: "" !important;
    display: none !important;
}`,ine=function(t){Ane(t,"."+Cw+rne+eU+`
         .`+Ew+sne+eU)},Ane=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},TD=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ane=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(i0(e)||une(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return bn(this,void 0,void 0,function(){var n,r,s,i,A=this;return fn(this,function(a){switch(a.label){case 0:return n=TD.isSameOrigin(e),r=!s0(e)&&this._options.useCORS===!0&&Xt.SUPPORT_CORS_IMAGES&&!n,s=!s0(e)&&!n&&!i0(e)&&typeof this._options.proxy=="string"&&Xt.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!s0(e)&&!i0(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,l){var u=new Image;u.onload=function(){return o(u)},u.onerror=l,(dne(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return o(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=Xt.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return A(f)},!1),h.readAsDataURL(o.response)}else A("Failed to proxy resource "+s+" with status code "+o.status)},o.onerror=A;var l=r.indexOf("?")>-1?"&":"?";if(o.open("GET",""+r+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;o.timeout=u,o.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+s)}}o.send()})},t}(),one=/^data:image\/svg\+xml/i,lne=/^data:image\/.*;base64,/i,cne=/^data:image\/.*/i,une=function(t){return Xt.SUPPORT_SVG_DRAWING||!hne(t)},s0=function(t){return cne.test(t)},dne=function(t){return lne.test(t)},i0=function(t){return t.substr(0,4)==="blob"},hne=function(t){return t.substr(-3).toLowerCase()==="svg"||one.test(t)},ie=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Oa=function(t,e,n){return new ie(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Vh=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=Oa(this.start,this.startControl,e),s=Oa(this.startControl,this.endControl,e),i=Oa(this.endControl,this.end,e),A=Oa(r,s,e),a=Oa(s,i,e),o=Oa(A,a,e);return n?new t(this.start,r,A,o):new t(o,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),yr=function(t){return t.type===1},fne=function(){function t(e){var n=e.styles,r=e.bounds,s=wc(n.borderTopLeftRadius,r.width,r.height),i=s[0],A=s[1],a=wc(n.borderTopRightRadius,r.width,r.height),o=a[0],l=a[1],u=wc(n.borderBottomRightRadius,r.width,r.height),h=u[0],f=u[1],p=wc(n.borderBottomLeftRadius,r.width,r.height),m=p[0],y=p[1],C=[];C.push((i+o)/r.width),C.push((m+h)/r.width),C.push((A+y)/r.height),C.push((l+f)/r.height);var B=Math.max.apply(Math,C);B>1&&(i/=B,A/=B,o/=B,l/=B,h/=B,f/=B,m/=B,y/=B);var w=r.width-o,v=r.height-f,I=r.width-h,Q=r.height-y,k=n.borderTopWidth,T=n.borderRightWidth,E=n.borderBottomWidth,b=n.borderLeftWidth,_=tt(n.paddingTop,e.bounds.width),R=tt(n.paddingRight,e.bounds.width),N=tt(n.paddingBottom,e.bounds.width),S=tt(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?ot(r.left+b/3,r.top+k/3,i-b/3,A-k/3,Ke.TOP_LEFT):new ie(r.left+b/3,r.top+k/3),this.topRightBorderDoubleOuterBox=i>0||A>0?ot(r.left+w,r.top+k/3,o-T/3,l-k/3,Ke.TOP_RIGHT):new ie(r.left+r.width-T/3,r.top+k/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?ot(r.left+I,r.top+v,h-T/3,f-E/3,Ke.BOTTOM_RIGHT):new ie(r.left+r.width-T/3,r.top+r.height-E/3),this.bottomLeftBorderDoubleOuterBox=m>0||y>0?ot(r.left+b/3,r.top+Q,m-b/3,y-E/3,Ke.BOTTOM_LEFT):new ie(r.left+b/3,r.top+r.height-E/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?ot(r.left+b*2/3,r.top+k*2/3,i-b*2/3,A-k*2/3,Ke.TOP_LEFT):new ie(r.left+b*2/3,r.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?ot(r.left+w,r.top+k*2/3,o-T*2/3,l-k*2/3,Ke.TOP_RIGHT):new ie(r.left+r.width-T*2/3,r.top+k*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?ot(r.left+I,r.top+v,h-T*2/3,f-E*2/3,Ke.BOTTOM_RIGHT):new ie(r.left+r.width-T*2/3,r.top+r.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||y>0?ot(r.left+b*2/3,r.top+Q,m-b*2/3,y-E*2/3,Ke.BOTTOM_LEFT):new ie(r.left+b*2/3,r.top+r.height-E*2/3),this.topLeftBorderStroke=i>0||A>0?ot(r.left+b/2,r.top+k/2,i-b/2,A-k/2,Ke.TOP_LEFT):new ie(r.left+b/2,r.top+k/2),this.topRightBorderStroke=i>0||A>0?ot(r.left+w,r.top+k/2,o-T/2,l-k/2,Ke.TOP_RIGHT):new ie(r.left+r.width-T/2,r.top+k/2),this.bottomRightBorderStroke=h>0||f>0?ot(r.left+I,r.top+v,h-T/2,f-E/2,Ke.BOTTOM_RIGHT):new ie(r.left+r.width-T/2,r.top+r.height-E/2),this.bottomLeftBorderStroke=m>0||y>0?ot(r.left+b/2,r.top+Q,m-b/2,y-E/2,Ke.BOTTOM_LEFT):new ie(r.left+b/2,r.top+r.height-E/2),this.topLeftBorderBox=i>0||A>0?ot(r.left,r.top,i,A,Ke.TOP_LEFT):new ie(r.left,r.top),this.topRightBorderBox=o>0||l>0?ot(r.left+w,r.top,o,l,Ke.TOP_RIGHT):new ie(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||f>0?ot(r.left+I,r.top+v,h,f,Ke.BOTTOM_RIGHT):new ie(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||y>0?ot(r.left,r.top+Q,m,y,Ke.BOTTOM_LEFT):new ie(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||A>0?ot(r.left+b,r.top+k,Math.max(0,i-b),Math.max(0,A-k),Ke.TOP_LEFT):new ie(r.left+b,r.top+k),this.topRightPaddingBox=o>0||l>0?ot(r.left+Math.min(w,r.width-T),r.top+k,w>r.width+T?0:Math.max(0,o-T),Math.max(0,l-k),Ke.TOP_RIGHT):new ie(r.left+r.width-T,r.top+k),this.bottomRightPaddingBox=h>0||f>0?ot(r.left+Math.min(I,r.width-b),r.top+Math.min(v,r.height-E),Math.max(0,h-T),Math.max(0,f-E),Ke.BOTTOM_RIGHT):new ie(r.left+r.width-T,r.top+r.height-E),this.bottomLeftPaddingBox=m>0||y>0?ot(r.left+b,r.top+Math.min(Q,r.height-E),Math.max(0,m-b),Math.max(0,y-E),Ke.BOTTOM_LEFT):new ie(r.left+b,r.top+r.height-E),this.topLeftContentBox=i>0||A>0?ot(r.left+b+S,r.top+k+_,Math.max(0,i-(b+S)),Math.max(0,A-(k+_)),Ke.TOP_LEFT):new ie(r.left+b+S,r.top+k+_),this.topRightContentBox=o>0||l>0?ot(r.left+Math.min(w,r.width+b+S),r.top+k+_,w>r.width+b+S?0:o-b+S,l-(k+_),Ke.TOP_RIGHT):new ie(r.left+r.width-(T+R),r.top+k+_),this.bottomRightContentBox=h>0||f>0?ot(r.left+Math.min(I,r.width-(b+S)),r.top+Math.min(v,r.height+k+_),Math.max(0,h-(T+R)),f-(E+N),Ke.BOTTOM_RIGHT):new ie(r.left+r.width-(T+R),r.top+r.height-(E+N)),this.bottomLeftContentBox=m>0||y>0?ot(r.left+b+S,r.top+Q,Math.max(0,m-(b+S)),y-(E+N),Ke.BOTTOM_LEFT):new ie(r.left+b+S,r.top+r.height-(E+N))}return t}(),Ke;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ke||(Ke={}));var ot=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),A=n*i,a=r*i,o=t+n,l=e+r;switch(s){case Ke.TOP_LEFT:return new Vh(new ie(t,l),new ie(t,l-a),new ie(o-A,e),new ie(o,e));case Ke.TOP_RIGHT:return new Vh(new ie(t,e),new ie(t+A,e),new ie(o,l-a),new ie(o,l));case Ke.BOTTOM_RIGHT:return new Vh(new ie(o,e),new ie(o,e+a),new ie(t+A,l),new ie(t,l));case Ke.BOTTOM_LEFT:default:return new Vh(new ie(o,l),new ie(o-A,l),new ie(t,e+a),new ie(t,e))}},Xp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},pne=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Yp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},gne=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Hh=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),mne=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),yne=function(t){return t.type===0},ID=function(t){return t.type===1},vne=function(t){return t.type===2},tU=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},wne=function(t,e,n,r,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},UD=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),FD=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new fne(this.container),this.container.styles.opacity<1&&this.effects.push(new mne(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new gne(r,s,i))}if(this.container.styles.overflowX!==0){var A=Xp(this.curves),a=Yp(this.curves);tU(A,a)?this.effects.push(new Hh(A,6)):(this.effects.push(new Hh(A,2)),this.effects.push(new Hh(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(o){return!ID(o)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=Xp(r.curves),a=Yp(r.curves);tU(A,a)||s.unshift(new Hh(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(o){return Lt(o.target,e)})},t}(),_w=function(t,e,n,r){t.container.elements.forEach(function(s){var i=Lt(s.flags,4),A=Lt(s.flags,2),a=new FD(s,t);Lt(s.styles.display,2048)&&r.push(a);var o=Lt(s.flags,8)?[]:r;if(i||A){var l=i||s.styles.isPositioned()?n:e,u=new UD(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;l.negativeZIndex.some(function(m,y){return h>m.element.container.styles.zIndex.order?(f=y,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(h>0){var p=0;l.positiveZIndex.some(function(m,y){return h>=m.element.container.styles.zIndex.order?(p=y+1,!1):p>0}),l.positiveZIndex.splice(p,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);_w(a,u,i?u:n,o)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),_w(a,e,n,o);Lt(s.flags,8)&&SD(s,o)})},SD=function(t,e){for(var n=t instanceof ww?t.start:1,r=t instanceof ww?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof fD&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=qu(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Bne=function(t){var e=new FD(t,null),n=new UD(e),r=[];return _w(e,n,n,r),SD(e.container,r),n},nU=function(t,e){switch(e){case 0:return Br(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Br(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Br(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Br(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},xne=function(t,e){switch(e){case 0:return Br(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Br(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Br(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Br(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Cne=function(t,e){switch(e){case 0:return Br(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Br(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Br(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Br(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Ene=function(t,e){switch(e){case 0:return Kh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Kh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Kh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Kh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Kh=function(t,e){var n=[];return yr(t)?n.push(t.subdivide(.5,!1)):n.push(t),yr(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Br=function(t,e,n,r){var s=[];return yr(t)?s.push(t.subdivide(.5,!1)):s.push(t),yr(n)?s.push(n.subdivide(.5,!0)):s.push(n),yr(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),yr(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},QD=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jp=function(t){var e=t.styles,n=t.bounds,r=tt(e.paddingLeft,n.width),s=tt(e.paddingRight,n.width),i=tt(e.paddingTop,n.width),A=tt(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},_ne=function(t,e){return t===0?e.bounds:t===2?Jp(e):QD(e)},bne=function(t,e){return t===0?e.bounds:t===2?Jp(e):QD(e)},A0=function(t,e,n){var r=_ne($a(t.styles.backgroundOrigin,e),t),s=bne($a(t.styles.backgroundClip,e),t),i=Tne($a(t.styles.backgroundSize,e),n,r),A=i[0],a=i[1],o=wc($a(t.styles.backgroundPosition,e),r.width-A,r.height-a),l=Ine($a(t.styles.backgroundRepeat,e),o,i,r,s),u=Math.round(r.left+o[0]),h=Math.round(r.top+o[1]);return[l,u,h,A,a]},ja=function(t){return Ye(t)&&t.value===Qo.AUTO},zh=function(t){return typeof t=="number"},Tne=function(t,e,n){var r=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(Nt(A)&&a&&Nt(a))return[tt(A,n.width),tt(a,n.height)];var o=zh(i);if(Ye(A)&&(A.value===Qo.CONTAIN||A.value===Qo.COVER)){if(zh(i)){var l=n.width/n.height;return l<i!=(A.value===Qo.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=zh(r),h=zh(s),f=u||h;if(ja(A)&&(!a||ja(a))){if(u&&h)return[r,s];if(!o&&!f)return[n.width,n.height];if(f&&o){var p=u?r:s*i,m=h?s:r/i;return[p,m]}var y=u?r:n.width,C=h?s:n.height;return[y,C]}if(o){var B=0,w=0;return Nt(A)?B=tt(A,n.width):Nt(a)&&(w=tt(a,n.height)),ja(A)?B=w*i:(!a||ja(a))&&(w=B/i),[B,w]}var v=null,I=null;if(Nt(A)?v=tt(A,n.width):a&&Nt(a)&&(I=tt(a,n.height)),v!==null&&(!a||ja(a))&&(I=u&&h?v/r*s:n.height),I!==null&&ja(A)&&(v=u&&h?I/s*r:n.width),v!==null&&I!==null)return[v,I];throw new Error("Unable to calculate background-size for element")},$a=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Ine=function(t,e,n,r,s){var i=e[0],A=e[1],a=n[0],o=n[1];switch(t){case 2:return[new ie(Math.round(r.left),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(o+r.top+A)),new ie(Math.round(r.left),Math.round(o+r.top+A))];case 3:return[new ie(Math.round(r.left+i),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.height+r.top)),new ie(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new ie(Math.round(r.left+i),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A+o)),new ie(Math.round(r.left+i),Math.round(r.top+A+o))];default:return[new ie(Math.round(s.left),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ie(Math.round(s.left),Math.round(s.height+s.top))]}},Une="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",rU="Hidden Text",Fne=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=Une,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(rU)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(rU)),r.style.lineHeight="normal",s.style.verticalAlign="super";var o=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),ND=function(){function t(e,n){this.context=e,this.options=n}return t}(),Sne=1e4,Qne=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Fne(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),vne(n)&&(this.ctx.globalAlpha=n.opacity),yne(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),ID(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return bn(this,void 0,void 0,function(){var r;return fn(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return bn(this,void 0,void 0,function(){return fn(this,function(r){switch(r.label){case 0:if(Lt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=bC(n.text);A.reduce(function(a,o){return i.ctx.fillText(o,a,n.bounds.top+s),a+i.ctx.measureText(o).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=Pne(n.fontFamily).join(", "),i=Id(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return bn(this,void 0,void 0,function(){var s,i,A,a,o,l,u,h,f=this;return fn(this,function(p){return s=this.createFontStyle(r),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),l=o.baseline,u=o.middle,h=r.paintOrder,n.textBounds.forEach(function(m){h.forEach(function(y){switch(y){case 0:f.ctx.fillStyle=Vt(r.color),f.renderTextWithLetterSpacing(m,r.letterSpacing,l);var C=r.textShadow;C.length&&m.text.trim().length&&(C.slice(0).reverse().forEach(function(B){f.ctx.shadowColor=Vt(B.color),f.ctx.shadowOffsetX=B.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=B.offsetY.number*f.options.scale,f.ctx.shadowBlur=B.blur.number,f.renderTextWithLetterSpacing(m,r.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=Vt(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(B){switch(B){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Vt(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=Jp(n),A=Yp(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return bn(this,void 0,void 0,function(){var r,s,i,A,a,o,w,w,l,u,h,f,I,p,m,Q,y,C,B,w,v,I,Q;return fn(this,function(k){switch(k.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,A=0,a=r.textNodes,k.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof uD))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return w=k.sent(),this.renderReplacedElement(r,s,w),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof dD&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof hD))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return w=k.sent(),this.renderReplacedElement(r,s,w),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof mD&&r.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:u=k.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),k.label=14;case 14:if(r instanceof TC&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===Gp?r.checked&&(this.ctx.save(),this.path([new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79),new ie(r.bounds.left+h*.16,r.bounds.top+h*.5549),new ie(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new ie(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new ie(r.bounds.left+h*.72983,r.bounds.top+h*.23),new ie(r.bounds.left+h*.84,r.bounds.top+h*.34085),new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Vt(KI),this.ctx.fill(),this.ctx.restore()):r.type===$p&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Vt(KI),this.ctx.fill(),this.ctx.restore())),Nne(r)&&r.value.length){switch(f=this.createFontStyle(i),I=f[0],p=f[1],m=this.fontMetrics.getMetrics(I,p).baseline,this.ctx.font=I,this.ctx.fillStyle=Vt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Rne(r.styles.textAlign),Q=Jp(r),y=0,r.styles.textAlign){case 1:y+=Q.width/2;break;case 2:y+=Q.width;break}C=Q.add(y,0,0,-Q.height/2+1),this.ctx.save(),this.path([new ie(Q.left,Q.top),new ie(Q.left+Q.width,Q.top),new ie(Q.left+Q.width,Q.top+Q.height),new ie(Q.left,Q.top+Q.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Xc(r.value,C),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Lt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(B=r.styles.listStyleImage,B.type!==0)return[3,18];w=void 0,v=B.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return w=k.sent(),this.ctx.drawImage(w,r.bounds.left-(w.width+10),r.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(I=this.createFontStyle(i)[0],this.ctx.font=I,this.ctx.fillStyle=Vt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Q=new ti(r.bounds.left,r.bounds.top+tt(r.styles.paddingTop,r.bounds.width),r.bounds.width,TI(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Xc(n.listValue,Q),i.letterSpacing,TI(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return bn(this,void 0,void 0,function(){var r,s,B,i,A,B,a,o,B,l,u,B,h,f,B,p,m,B,y,C,B;return fn(this,function(w){switch(w.label){case 0:if(Lt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),r=0,s=n.negativeZIndex,w.label=2;case 2:return r<s.length?(B=s[r],[4,this.renderStack(B)]):[3,5];case 3:w.sent(),w.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),i=0,A=n.nonInlineLevel,w.label=7;case 7:return i<A.length?(B=A[i],[4,this.renderNode(B)]):[3,10];case 8:w.sent(),w.label=9;case 9:return i++,[3,7];case 10:a=0,o=n.nonPositionedFloats,w.label=11;case 11:return a<o.length?(B=o[a],[4,this.renderStack(B)]):[3,14];case 12:w.sent(),w.label=13;case 13:return a++,[3,11];case 14:l=0,u=n.nonPositionedInlineLevel,w.label=15;case 15:return l<u.length?(B=u[l],[4,this.renderStack(B)]):[3,18];case 16:w.sent(),w.label=17;case 17:return l++,[3,15];case 18:h=0,f=n.inlineLevel,w.label=19;case 19:return h<f.length?(B=f[h],[4,this.renderNode(B)]):[3,22];case 20:w.sent(),w.label=21;case 21:return h++,[3,19];case 22:p=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return p<m.length?(B=m[p],[4,this.renderStack(B)]):[3,26];case 24:w.sent(),w.label=25;case 25:return p++,[3,23];case 26:y=0,C=n.positiveZIndex,w.label=27;case 27:return y<C.length?(B=C[y],[4,this.renderStack(B)]):[3,30];case 28:w.sent(),w.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var A=yr(s)?s.start:s;i===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),yr(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var o=a.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return bn(this,void 0,void 0,function(){var r,s,i,A,a,o;return fn(this,function(l){switch(l.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var h,f,p,_,V,q,S,Y,E,m,_,V,q,S,Y,y,C,B,w,v,I,Q,k,T,E,b,_,R,N,S,Y,Ae,V,q,M,K,J,ee,fe,me,Re,Ge;return fn(this,function(Je){switch(Je.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,Je.label=1;case 1:return Je.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=Je.sent(),[3,4];case 3:return Je.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(p=A0(n,r,[h.width,h.height,h.width/h.height]),_=p[0],V=p[1],q=p[2],S=p[3],Y=p[4],E=i.ctx.createPattern(i.resizeImage(h,S,Y),"repeat"),i.renderRepeat(_,E,V,q)),[3,6];case 5:yZ(u)?(m=A0(n,r,[null,null,null]),_=m[0],V=m[1],q=m[2],S=m[3],Y=m[4],y=hZ(u.angle,S,Y),C=y[0],B=y[1],w=y[2],v=y[3],I=y[4],Q=document.createElement("canvas"),Q.width=S,Q.height=Y,k=Q.getContext("2d"),T=k.createLinearGradient(B,v,w,I),_I(u.stops,C).forEach(function(ut){return T.addColorStop(ut.stop,Vt(ut.color))}),k.fillStyle=T,k.fillRect(0,0,S,Y),S>0&&Y>0&&(E=i.ctx.createPattern(Q,"repeat"),i.renderRepeat(_,E,V,q))):vZ(u)&&(b=A0(n,r,[null,null,null]),_=b[0],R=b[1],N=b[2],S=b[3],Y=b[4],Ae=u.position.length===0?[CC]:u.position,V=tt(Ae[0],S),q=tt(Ae[Ae.length-1],Y),M=fZ(u,V,q,S,Y),K=M[0],J=M[1],K>0&&J>0&&(ee=i.ctx.createRadialGradient(R+V,N+q,0,R+V,N+q,K),_I(u.stops,K*2).forEach(function(ut){return ee.addColorStop(ut.stop,Vt(ut.color))}),i.path(_),i.ctx.fillStyle=ee,K!==J?(fe=n.bounds.left+.5*n.bounds.width,me=n.bounds.top+.5*n.bounds.height,Re=J/K,Ge=1/Re,i.ctx.save(),i.ctx.translate(fe,me),i.ctx.transform(1,0,0,Re,0,0),i.ctx.translate(-fe,-me),i.ctx.fillRect(R,Ge*(N-me)+me,S,Y*Ge),i.ctx.restore()):i.ctx.fill())),Je.label=6;case 6:return r--,[2]}})},i=this,A=0,a=n.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return A<a.length?(o=a[A],[5,s(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return bn(this,void 0,void 0,function(){return fn(this,function(i){return this.path(nU(s,r)),this.ctx.fillStyle=Vt(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return bn(this,void 0,void 0,function(){var A,a;return fn(this,function(o){switch(o.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return o.sent(),[2];case 2:return A=xne(i,s),this.path(A),this.ctx.fillStyle=Vt(n),this.ctx.fill(),a=Cne(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return bn(this,void 0,void 0,function(){var r,s,i,A,a,o,l,u,h=this;return fn(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!qi(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=kne($a(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),qi(r.backgroundColor)||(this.ctx.fillStyle=Vt(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var m=Xp(n.curves),y=p.inset?0:Sne,C=wne(m,-y+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(h.path(m),h.ctx.clip(),h.mask(C)):(h.mask(m),h.ctx.clip(),h.path(C)),h.ctx.shadowOffsetX=p.offsetX.number+y,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=Vt(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?Vt(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,o=0,l=i,f.label=3;case 3:return o<l.length?(u=l[o],u.style!==0&&!qi(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,A){return bn(this,void 0,void 0,function(){var a,o,l,u,h,f,p,m,y,C,B,w,v,I,Q,k,Q,k;return fn(this,function(T){return this.ctx.save(),a=Ene(i,s),o=nU(i,s),A===2&&(this.path(o),this.ctx.clip()),yr(o[0])?(l=o[0].start.x,u=o[0].start.y):(l=o[0].x,u=o[0].y),yr(o[1])?(h=o[1].end.x,f=o[1].end.y):(h=o[1].x,f=o[1].y),s===0||s===2?p=Math.abs(l-h):p=Math.abs(u-f),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),m=r<3?r*3:r*2,y=r<3?r*2:r,A===3&&(m=r,y=r),C=!0,p<=m*2?C=!1:p<=m*2+y?(B=p/(2*m+y),m*=B,y*=B):(w=Math.floor((p+y)/(m+y)),v=(p-w*m)/(w-1),I=(p-(w+1)*m)/w,y=I<=0||Math.abs(y-v)<Math.abs(y-I)?v:I),C&&(A===3?this.ctx.setLineDash([0,m+y]):this.ctx.setLineDash([m,y])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Vt(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(yr(o[0])&&(Q=o[3],k=o[0],this.ctx.beginPath(),this.formatPath([new ie(Q.end.x,Q.end.y),new ie(k.start.x,k.start.y)]),this.ctx.stroke()),yr(o[1])&&(Q=o[1],k=o[2],this.ctx.beginPath(),this.formatPath([new ie(Q.end.x,Q.end.y),new ie(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return bn(this,void 0,void 0,function(){var r;return fn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Vt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Bne(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(ND),Nne=function(t){return t instanceof gD||t instanceof pD?!0:t instanceof TC&&t.type!==$p&&t.type!==Gp},kne=function(t,e){switch(t){case 0:return Xp(e);case 2:return pne(e);case 1:default:return Yp(e)}},Rne=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Dne=["-apple-system","system-ui"],Pne=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Dne.indexOf(e)===-1}):t},Lne=function(t){zr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return bn(this,void 0,void 0,function(){var r,s;return fn(this,function(i){switch(i.label){case 0:return r=vw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Mne(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Vt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(ND),Mne=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},One=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ch([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ch([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ch([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ch([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),jne=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new One({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new ane(this,e)}return t.instanceCount=1,t}(),Vne=function(t,e){return e===void 0&&(e={}),Hne(t,e)};typeof window<"u"&&TD.setContext(window);var Hne=function(t,e){return bn(void 0,void 0,void 0,function(){var n,r,s,i,A,a,o,l,u,h,f,p,m,y,C,B,w,v,I,Q,T,k,T,E,b,_,R,N,S,Y,Ae,V,q,M,K,J,ee,fe,me,Re;return fn(this,function(Ge){switch(Ge.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(b=e.imageTimeout)!==null&&b!==void 0?b:15e3,proxy:e.proxy,useCORS:(_=e.useCORS)!==null&&_!==void 0?_:!1},i=sw({logging:(R=e.logging)!==null&&R!==void 0?R:!0,cache:e.cache},s),A={windowWidth:(N=e.windowWidth)!==null&&N!==void 0?N:r.innerWidth,windowHeight:(S=e.windowHeight)!==null&&S!==void 0?S:r.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:r.pageXOffset,scrollY:(Ae=e.scrollY)!==null&&Ae!==void 0?Ae:r.pageYOffset},a=new ti(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new jne(i,a),l=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,u={allowTaint:(q=e.allowTaint)!==null&&q!==void 0?q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new ZI(o,t,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=Ge.sent(),m=IC(f)||Kte(f)?wY(f.ownerDocument):am(o,f),y=m.width,C=m.height,B=m.left,w=m.top,v=Kne(o,f,e.backgroundColor),I={canvas:e.canvas,backgroundColor:v,scale:(K=(M=e.scale)!==null&&M!==void 0?M:r.devicePixelRatio)!==null&&K!==void 0?K:1,x:((J=e.x)!==null&&J!==void 0?J:0)+B,y:((ee=e.y)!==null&&ee!==void 0?ee:0)+w,width:(fe=e.width)!==null&&fe!==void 0?fe:Math.ceil(y),height:(me=e.height)!==null&&me!==void 0?me:Math.ceil(C)},l?(o.logger.debug("Document cloned, using foreign object rendering"),T=new Lne(o,I),[4,T.render(f)]):[3,3];case 2:return Q=Ge.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+B+","+w+" with size "+y+"x"+C+" using computed rendering"),o.logger.debug("Starting DOM parsing"),k=vD(o,f),v===k.styles.backgroundColor&&(k.styles.backgroundColor=Ms.TRANSPARENT),o.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),T=new Qne(o,I),[4,T.render(k)];case 4:Q=Ge.sent(),Ge.label=5;case 5:return(!((Re=e.removeContainer)!==null&&Re!==void 0)||Re)&&(ZI.destroy(p)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,Q]}})})},Kne=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?Wc(t,getComputedStyle(r.documentElement).backgroundColor):Ms.TRANSPARENT,i=r.body?Wc(t,getComputedStyle(r.body).backgroundColor):Ms.TRANSPARENT,A=typeof n=="string"?Wc(t,n):n===null?Ms.TRANSPARENT:4294967295;return e===r.documentElement?qi(s)?qi(i)?A:i:s:A},zne=Object.defineProperty,Zp=Object.getOwnPropertySymbols,kD=Object.prototype.hasOwnProperty,RD=Object.prototype.propertyIsEnumerable,sU=(t,e,n)=>e in t?zne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gne=(t,e)=>{for(var n in e||(e={}))kD.call(e,n)&&sU(t,n,e[n]);if(Zp)for(var n of Zp(e))RD.call(e,n)&&sU(t,n,e[n]);return t},$ne=(t,e)=>{var n={};for(var r in t)kD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zp)for(var r of Zp(t))e.indexOf(r)<0&&RD.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var pa;(t=>{const e=class{constructor(o,l,u,h){if(this.version=o,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const p=this.addEccAndInterleave(u);if(this.drawCodewords(p),h==-1){let m=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const C=this.getPenaltyScore();C<m&&(h=y,m=C),this.applyMask(y)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(o,l){const u=t.QrSegment.makeSegments(o);return e.encodeSegments(u,l)}static encodeBinary(o,l){const u=t.QrSegment.makeBytes(o);return e.encodeSegments([u],l)}static encodeSegments(o,l,u=1,h=40,f=-1,p=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,y;for(m=u;;m++){const v=e.getNumDataCodewords(m,l)*8,I=a.getTotalBits(o,m);if(I<=v){y=I;break}if(m>=h)throw new RangeError("Data too long")}for(const v of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])p&&y<=e.getNumDataCodewords(m,v)*8&&(l=v);let C=[];for(const v of o){r(v.mode.modeBits,4,C),r(v.numChars,v.mode.numCharCountBits(m),C);for(const I of v.getData())C.push(I)}i(C.length==y);const B=e.getNumDataCodewords(m,l)*8;i(C.length<=B),r(0,Math.min(4,B-C.length),C),r(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let v=236;C.length<B;v^=253)r(v,8,C);let w=[];for(;w.length*8<C.length;)w.push(0);return C.forEach((v,I)=>w[I>>>3]|=v<<7-(I&7)),new e(m,l,w,f)}getModule(o,l){return 0<=o&&o<this.size&&0<=l&&l<this.size&&this.modules[l][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),l=o.length;for(let u=0;u<l;u++)for(let h=0;h<l;h++)u==0&&h==0||u==0&&h==l-1||u==l-1&&h==0||this.drawAlignmentPattern(o[u],o[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const l=this.errorCorrectionLevel.formatBits<<3|o;let u=l;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const h=(l<<10|u)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let u=0;u<12;u++)o=o<<1^(o>>>11)*7973;const l=this.version<<12|o;i(l>>>18==0);for(let u=0;u<18;u++){const h=s(l,u),f=this.size-11+u%3,p=Math.floor(u/3);this.setFunctionModule(f,p,h),this.setFunctionModule(p,f,h)}}drawFinderPattern(o,l){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(u)),p=o+h,m=l+u;0<=p&&p<this.size&&0<=m&&m<this.size&&this.setFunctionModule(p,m,f!=2&&f!=4)}}drawAlignmentPattern(o,l){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(o+h,l+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(o,l,u){this.modules[l][o]=u,this.isFunction[l][o]=!0}addEccAndInterleave(o){const l=this.version,u=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],p=Math.floor(e.getNumRawDataModules(l)/8),m=h-p%h,y=Math.floor(p/h);let C=[];const B=e.reedSolomonComputeDivisor(f);for(let v=0,I=0;v<h;v++){let Q=o.slice(I,I+y-f+(v<m?0:1));I+=Q.length;const k=e.reedSolomonComputeRemainder(Q,B);v<m&&Q.push(0),C.push(Q.concat(k))}let w=[];for(let v=0;v<C[0].length;v++)C.forEach((I,Q)=>{(v!=y-f||Q>=m)&&w.push(I[v])});return i(w.length==p),w}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const p=u-f,y=(u+1&2)==0?this.size-1-h:h;!this.isFunction[y][p]&&l<o.length*8&&(this.modules[y][p]=s(o[l>>>3],7-(l&7)),l++)}}i(l==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let u=0;u<this.size;u++){let h;switch(o){case 0:h=(u+l)%2==0;break;case 1:h=l%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+l)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:h=u*l%2+u*l%3==0;break;case 6:h=(u*l%2+u*l%3)%2==0;break;case 7:h=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&h&&(this.modules[l][u]=!this.modules[l][u])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let p=!1,m=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[f][C]==p?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),p||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),p=this.modules[f][C],m=1);o+=this.finderPenaltyTerminateAndCount(p,m,y)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let p=!1,m=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][f]==p?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),p||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),p=this.modules[C][f],m=1);o+=this.finderPenaltyTerminateAndCount(p,m,y)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let p=0;p<this.size-1;p++){const m=this.modules[f][p];m==this.modules[f][p+1]&&m==this.modules[f+1][p]&&m==this.modules[f+1][p+1]&&(o+=e.PENALTY_N2)}let l=0;for(const f of this.modules)l=f.reduce((p,m)=>p+(m?1:0),l);const u=this.size*this.size,h=Math.ceil(Math.abs(l*20-u*10)/u)-1;return i(0<=h&&h<=9),o+=h*e.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let u=[6];for(let h=this.size-7;u.length<o;h-=l)u.splice(1,0,h);return u}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*o+128)*o+64;if(o>=2){const u=Math.floor(o/7)+2;l-=(25*u-10)*u-55,o>=7&&(l-=36)}return i(208<=l&&l<=29648),l}static getNumDataCodewords(o,l){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let l=[];for(let h=0;h<o-1;h++)l.push(0);l.push(1);let u=1;for(let h=0;h<o;h++){for(let f=0;f<l.length;f++)l[f]=e.reedSolomonMultiply(l[f],u),f+1<l.length&&(l[f]^=l[f+1]);u=e.reedSolomonMultiply(u,2)}return l}static reedSolomonComputeRemainder(o,l){let u=l.map(h=>0);for(const h of o){const f=h^u.shift();u.push(0),l.forEach((p,m)=>u[m]^=e.reedSolomonMultiply(p,f))}return u}static reedSolomonMultiply(o,l){if(o>>>8||l>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(l>>>h&1)*o;return i(u>>>8==0),u}finderPenaltyCountPatterns(o){const l=o[1];i(l<=this.size*3);const u=l>0&&o[2]==l&&o[3]==l*3&&o[4]==l&&o[5]==l;return(u&&o[0]>=l*4&&o[6]>=l?1:0)+(u&&o[6]>=l*4&&o[0]>=l?1:0)}finderPenaltyTerminateAndCount(o,l,u){return o&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(o,l){l[0]==0&&(o+=this.size),l.pop(),l.unshift(o)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(o,l,u){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let h=l-1;h>=0;h--)u.push(o>>>h&1)}function s(o,l){return(o>>>l&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const A=class{constructor(o,l,u){if(this.mode=o,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(o){let l=[];for(const u of o)r(u,8,l);return new A(A.Mode.BYTE,o.length,l)}static makeNumeric(o){if(!A.isNumeric(o))throw new RangeError("String contains non-numeric characters");let l=[];for(let u=0;u<o.length;){const h=Math.min(o.length-u,3);r(parseInt(o.substr(u,h),10),h*3+1,l),u+=h}return new A(A.Mode.NUMERIC,o.length,l)}static makeAlphanumeric(o){if(!A.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],u;for(u=0;u+2<=o.length;u+=2){let h=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;h+=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),r(h,11,l)}return u<o.length&&r(A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,l),new A(A.Mode.ALPHANUMERIC,o.length,l)}static makeSegments(o){return o==""?[]:A.isNumeric(o)?[A.makeNumeric(o)]:A.isAlphanumeric(o)?[A.makeAlphanumeric(o)]:[A.makeBytes(A.toUtf8ByteArray(o))]}static makeEci(o){let l=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,l);else if(o<16384)r(2,2,l),r(o,14,l);else if(o<1e6)r(6,3,l),r(o,21,l);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,l)}static isNumeric(o){return A.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return A.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,l){let u=0;for(const h of o){const f=h.mode.numCharCountBits(l);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u}static toUtf8ByteArray(o){o=encodeURI(o);let l=[];for(let u=0;u<o.length;u++)o.charAt(u)!="%"?l.push(o.charCodeAt(u)):(l.push(parseInt(o.substr(u+1,2),16)),u+=2);return l}};let a=A;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(pa||(pa={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(pa||(pa={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(pa||(pa={}));var Cc=pa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Wne={L:Cc.QrCode.Ecc.LOW,M:Cc.QrCode.Ecc.MEDIUM,Q:Cc.QrCode.Ecc.QUARTILE,H:Cc.QrCode.Ecc.HIGH},qne=128,Xne="L",Yne="#FFFFFF",Jne="#000000",Zne=!1,DD=4,ere=.1;function tre(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(A,a){if(!A&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!A)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}A&&i===null&&(i=a)})}),n.join("")}function nre(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function rre(t,e,n,r){if(r==null)return null;const s=n?DD:0,i=t.length+s*2,A=Math.floor(e*ere),a=i/e,o=(r.width||A)*a,l=(r.height||A)*a,u=r.x==null?t.length/2-o/2:r.x*a,h=r.y==null?t.length/2-l/2:r.y*a;let f=null;if(r.excavate){let p=Math.floor(u),m=Math.floor(h),y=Math.ceil(o+u-p),C=Math.ceil(l+h-m);f={x:p,y:m,w:y,h:C}}return{x:u,y:h,h:l,w:o,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function sre(t){const e=t,{value:n,size:r=qne,level:s=Xne,bgColor:i=Yne,fgColor:A=Jne,includeMargin:a=Zne,imageSettings:o}=e,l=$ne(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Cc.QrCode.encodeText(n,Wne[s]).getModules();const h=a?DD:0,f=u.length+h*2,p=rre(u,r,a,o);let m=null;o!=null&&p!=null&&(p.excavation!=null&&(u=nre(u,p.excavation)),m=ye.createElement("image",{xlinkHref:o.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const y=tre(u,h);return ye.createElement("svg",Gne({height:r,width:r,viewBox:`0 0 ${f} ${f}`},l),ye.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),ye.createElement("path",{fill:A,d:y,shapeRendering:"crispEdges"}),m)}const ire=({bookingData:t,settings:e,selectedDate:n,selectedTime:r,onDownload:s})=>{var a;const i=(a=e.serviceTypes.find(o=>o.id===t.service))==null?void 0:a.name,A=Pp(n)?Xe(n,"dd/MM/yyyy"):"";return A?c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{id:"ticket",className:"relative bg-[#f8f4e9] aspect-[9/16] rounded-2xl overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"bg-gradient-to-b from-[--theater-red] to-red-700 text-white p-6 text-center",children:[c.jsx(Ds,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("h1",{className:"text-2xl font-bold mb-1",children:e.eventName}),c.jsx("p",{className:"text-sm opacity-80",children:e.company.name})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-inner",children:[c.jsx(sre,{value:t.ticketNumber,size:150,bgColor:"#ffffff",fgColor:"#D22B2B",level:"H",includeMargin:!1}),c.jsx("div",{className:"mt-2 text-center font-mono text-sm text-[--theater-red]",children:t.ticketNumber})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Qn,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Data"}),c.jsx("div",{className:"font-semibold",children:A})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Ys,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Orario"}),c.jsx("div",{className:"font-semibold",children:r})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Ds,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Servizio"}),c.jsx("div",{className:"font-semibold",children:i})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(xa,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Cliente"}),c.jsxs("div",{className:"font-semibold truncate",children:[t.firstName," ",t.lastName]}),c.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.email})]})]})]}),c.jsxs("div",{className:"text-center text-sm text-gray-600 mt-auto",children:[c.jsx(Gz,{className:"w-4 h-4 mx-auto mb-1"}),c.jsx("p",{children:e.company.address})]})]}),c.jsx("div",{className:"absolute top-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute top-0 right-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute bottom-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute bottom-0 right-4 w-2 h-2 bg-gray-800 rounded-full"})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 print:hidden",children:[t.calendarLinks&&c.jsxs(c.Fragment,{children:[c.jsxs("a",{href:t.calendarLinks.google,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[c.jsx(pb,{className:"w-4 h-4"}),"Google Calendar"]}),c.jsxs("a",{href:t.calendarLinks.ical,download:"prenotazione.ics",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[c.jsx(pb,{className:"w-4 h-4"}),"iCal/Outlook"]})]}),c.jsxs("button",{onClick:s,className:"col-span-2 flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(jc,{className:"w-4 h-4"}),"Scarica Biglietto"]})]})]}):(console.error("Invalid date provided to TicketCard"),null)},Are=({type:t,ticketNumber:e,onComplete:n})=>{const r={classic:{stamp:{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:12}},text:{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}}},modern:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},stamp:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20}},circle:{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}},vintage:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},stamp:{initial:{scale:1.5,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15}}}};return ye.useEffect(()=>{const s=setTimeout(n,2e3);return()=>clearTimeout(s)},[n]),t==="classic"?c.jsx($.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx($.div,{...r.classic.stamp,className:"bg-red-600 text-white p-8 rounded-lg shadow-xl transform",children:c.jsxs($.div,{...r.classic.text,children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Prenotazione Confermata!"}),c.jsxs("p",{className:"text-lg",children:["Ticket #",e]})]})})}):t==="modern"?c.jsx($.div,{...r.modern.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:c.jsxs($.div,{...r.modern.stamp,className:"bg-gradient-to-br from-blue-500 to-purple-600 p-8 rounded-xl shadow-2xl text-white",children:[c.jsxs("svg",{className:"w-24 h-24 mx-auto mb-4",viewBox:"0 0 100 100",children:[c.jsx($.circle,{...r.modern.circle,cx:"50",cy:"50",r:"45",stroke:"white",strokeWidth:"2",fill:"none"}),c.jsx($.path,{...r.modern.circle,d:"M 30 50 L 45 65 L 70 35",stroke:"white",strokeWidth:"3",fill:"none"})]}),c.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Confermato"}),c.jsxs("p",{className:"text-center opacity-90",children:["#",e]})]})}):c.jsx($.div,{...r.vintage.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:c.jsx($.div,{...r.vintage.stamp,className:"bg-[#f8e5b9] p-8 rounded-lg border-4 border-[#8b4513] shadow-xl transform",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Cpath d="M0 0h20L0 20z"/%3E%3C/g%3E%3C/svg%3E")'},children:c.jsxs("div",{className:"text-[#8b4513] text-center",children:[c.jsx("h2",{className:"text-3xl font-serif mb-2",children:"APPROVATO"}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),c.jsx("p",{className:"font-mono",children:e}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),c.jsx("p",{className:"text-sm font-serif",children:"Carnevale Cinematografico"})]})})})},PD=({type:t,title:e,subtitle:n,onComplete:r})=>{const s={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},curtainLeft:{initial:{scaleX:1,transformOrigin:"left"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},curtainRight:{initial:{scaleX:1,transformOrigin:"right"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},content:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5}}},i={container:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5}},content:{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8}}},A={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},content:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100}}};return ye.useEffect(()=>{const a=setTimeout(r,4e3);return()=>clearTimeout(a)},[r]),t==="curtain"?c.jsxs($.div,{...s.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:[c.jsx($.div,{...s.curtainLeft,className:"absolute top-0 left-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:c.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-black/40 to-transparent"})}),c.jsx($.div,{...s.curtainRight,className:"absolute top-0 right-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:c.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-black/40 to-transparent"})}),c.jsxs($.div,{...s.content,className:"text-center z-10",children:[c.jsx(Ds,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx($.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,times:[0,.5,1],repeat:1},className:"text-white text-2xl",children:n})]})]}):t==="fade"?c.jsx($.div,{...i.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:c.jsxs($.div,{...i.content,className:"text-center",children:[c.jsx(Ds,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx("p",{className:"text-white text-2xl",children:n})]})}):c.jsx($.div,{...A.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:c.jsxs($.div,{...A.content,className:"text-center",children:[c.jsx(Ds,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx("p",{className:"text-white text-2xl",children:n})]})})},are=t=>Ln.object({firstName:Ln.string().min(2,"Nome richiesto"),lastName:Ln.string().min(2,"Cognome richiesto"),email:Ln.string().email("Email non valida"),phone:Ln.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service:Ln.enum(t,{required_error:"Seleziona un tipo di servizio"}),notes:Ln.string().optional()}),ore=()=>{var K,J;const{settings:t,loading:e}=xA(),[n,r]=F.useState(null),[s,i]=F.useState(""),[A,a]=F.useState(!1),[o,l]=F.useState(""),[u,h]=F.useState(null),[f,p]=F.useState(null),[m,y]=F.useState(!1),[C,B]=F.useState(!0),[w,v]=F.useState(!1),[I,Q]=F.useState(null),[k,T]=F.useState(""),E=(t==null?void 0:t.serviceTypes.filter(ee=>ee.enabled).map(ee=>ee.id))||[],b=are(E),{register:_,handleSubmit:R,formState:{errors:N},reset:S,setValue:Y}=lR({resolver:uR(b)});F.useEffect(()=>{if(t!=null&&t.serviceTypes&&!o){const ee=t.serviceTypes.filter(fe=>fe.enabled);if(ee.length>0){const fe=ee[0];l(fe.id),Y("service",fe.id)}}},[t==null?void 0:t.serviceTypes,o,Y]),F.useEffect(()=>{var ee;if((ee=t==null?void 0:t.animation)!=null&&ee.enabled){const fe=setTimeout(()=>B(!1),4e3);return()=>clearTimeout(fe)}else B(!1)},[(K=t==null?void 0:t.animation)==null?void 0:K.enabled]);const Ae=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,V=(ee,fe)=>{const me=new Date(Date.UTC(ee.getFullYear(),ee.getMonth(),ee.getDate()));r(me),i(fe)},q=async ee=>new Promise(fe=>{var Ge;const me=document.createElement("div");document.body.appendChild(me);const Re=BB(me);Re.render(c.jsx(Are,{type:((Ge=t==null?void 0:t.ticketTemplate)==null?void 0:Ge.type)||"classic",ticketNumber:ee,onComplete:()=>{Re.unmount(),document.body.removeChild(me),fe()}}))}),M=async ee=>{var fe,me;if(!n||!s||!t){p("Seleziona data e ora per la prenotazione");return}if(!OX(ee.phone)){p("Inserisci un numero di telefono italiano valido (9-10 cifre)");return}y(!0),p(null);try{const Re=LX(ee.phone),Ge=n.toISOString().split("T")[0],Je=Ae(),ut=new Date(`${Ge}T${s}`),ms=new Date(ut.getTime()+t.bookingIntervals*6e4),ii=((fe=t.serviceTypes.find(cr=>cr.id===ee.service))==null?void 0:fe.name)||"Servizio Fotografico",br=PX(t.eventName,`${ii}
Prenotazione: ${Je}
Nome: ${ee.firstName} ${ee.lastName}`,ut,ms);await Xs(an(be,"bookings"),{firstName:ee.firstName,lastName:ee.lastName,email:ee.email,phone:Re,service_type:ee.service,booking_date:Ge,booking_time:s,ticket_number:Je,notes:ee.notes,status:"pending",created_at:Vn()}),Q(n),T(s),h({...ee,ticketNumber:Je,calendarLinks:br}),(me=t.ticketTemplate)!=null&&me.enabled&&await q(Je),v(!0),a(!0),S(),r(null),i("")}catch(Re){console.error("Error creating booking:",Re),p(Re.message||"Errore durante la prenotazione. Riprova pi tardi.")}finally{y(!1)}};return e?c.jsx("div",{className:"text-center text-white",children:"Caricamento..."}):w&&A&&u&&u.ticketNumber&&t&&I?c.jsx("div",{className:"max-w-3xl mx-auto p-4",children:c.jsx(ire,{bookingData:u,settings:t,selectedDate:I,selectedTime:k,onDownload:()=>{const ee=document.getElementById("ticket");ee&&Vne(ee,{scale:2,backgroundColor:"#f8f4e9",logging:!1,useCORS:!0,allowTaint:!0,onclone:fe=>{const me=fe.getElementById("ticket");me&&(me.style.display="block",me.style.width="800px",me.style.height="auto")}}).then(fe=>{const me=document.createElement("a");me.download=`biglietto-${u.ticketNumber}.jpg`,me.href=fe.toDataURL("image/jpeg",.95),me.click()})}})}):c.jsxs(c.Fragment,{children:[c.jsx(on,{children:C&&((J=t==null?void 0:t.animation)==null?void 0:J.enabled)&&c.jsx(PD,{type:t.animation.type,title:t.animation.title,subtitle:t.animation.subtitle,onComplete:()=>B(!1)})}),c.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("select",{..._("service"),value:o,onChange:ee=>{l(ee.target.value),Y("service",ee.target.value)},className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",children:[c.jsx("option",{value:"",children:"Seleziona servizio"}),t==null?void 0:t.serviceTypes.filter(ee=>ee.enabled).map(ee=>c.jsx("option",{value:ee.id,children:ee.name},ee.id))]}),N.service&&c.jsx("p",{className:"text-red-500 mt-1",children:N.service.message})]}),c.jsx(vY,{onSlotSelect:V,selectedDate:n,selectedTime:s,selectedService:o})]}),c.jsxs("form",{onSubmit:R(M),className:"space-y-6",children:[f&&c.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:f}),n&&s&&c.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded mb-4",children:["Hai selezionato: ",n.toLocaleDateString()," alle ",s]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Nome"}),c.jsx("input",{..._("firstName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Mario"}),N.firstName&&c.jsx("p",{className:"text-red-500 mt-1",children:N.firstName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Cognome"}),c.jsx("input",{..._("lastName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Rossi"}),N.lastName&&c.jsx("p",{className:"text-red-500 mt-1",children:N.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Email"}),c.jsx("input",{type:"email",..._("email"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"mario.rossi@example.com"}),N.email&&c.jsx("p",{className:"text-red-500 mt-1",children:N.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",..._("phone"),className:"w-full pl-10 p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Inserisci il numero senza prefisso (es: 3401234567)"})]}),N.phone&&c.jsx("p",{className:"text-red-500 mt-1",children:N.phone.message}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inserisci solo le cifre del numero senza prefisso internazionale"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{..._("notes"),rows:3,className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none"})]}),c.jsx("button",{type:"submit",disabled:m||!n||!s,className:"w-full bg-[--theater-red] text-white py-3 px-6 rounded-full hover:bg-red-700 transition-colors text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Conferma in corso...":"Conferma Prenotazione"})]})]})]})},lre=({targetDate:t,eventName:e})=>{const[n,r]=F.useState({days:0,hours:0,minutes:0,seconds:0});return F.useEffect(()=>{const s=setInterval(()=>{const i=new Date(t),A=new Date;r({days:ER(i,A),hours:pq(i,A)%24,minutes:gq(i,A)%60,seconds:mq(i,A)%60})},1e3);return()=>clearInterval(s)},[t]),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"text-2xl text-white text-center",children:[e," inizia tra:"]}),c.jsx("div",{className:"flex justify-center gap-4 text-white",children:Object.entries(n).map(([s,i])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-[--theater-red] rounded-lg p-3 min-w-[80px]",children:c.jsx("span",{className:"text-2xl font-bold",children:i})}),c.jsx("div",{className:"text-sm mt-1 capitalize",children:s})]},s))})]})},cre=()=>{var f,p;const{settings:t,loading:e}=xA(),[n,r]=F.useState(!0),[s,i]=F.useState(!1),[A,a]=F.useState([]),[o,l]=F.useState(!0),[u,h]=F.useState(null);return F.useEffect(()=>{var m;if((m=t==null?void 0:t.animation)!=null&&m.enabled){const y=setTimeout(()=>r(!1),4e3);return()=>clearTimeout(y)}else r(!1)},[(f=t==null?void 0:t.animation)==null?void 0:f.enabled]),F.useEffect(()=>{(async()=>{try{const y=new Date().toISOString().split("T")[0],C=an(be,"bookings"),B=wA(C,Tu("booking_date","==",y)),v=(await zg(B)).docs.map(I=>({id:I.id,...I.data()}));a(v),h(null)}catch(y){console.error("Error loading bookings:",y),h("Errore nel caricamento delle prenotazioni")}finally{l(!1)}})()},[]),e||o?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white text-xl flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):u?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-6 rounded-lg max-w-md w-full flex items-center gap-3",children:[c.jsx(jt,{size:24}),c.jsx("p",{children:u})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx(on,{children:n&&((p=t==null?void 0:t.animation)==null?void 0:p.enabled)&&c.jsx(PD,{type:t.animation.type,title:t.animation.title||"Carnevale 2025",subtitle:t.animation.subtitle||"3... 2... 1...",onComplete:()=>r(!1)})}),c.jsx($.div,{initial:{opacity:0},animate:{opacity:n?0:1},transition:{duration:.5},children:c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("header",{className:"mb-12",children:[c.jsxs($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-center items-center mb-8",children:[t!=null&&t.company.logo?c.jsx("img",{src:t.company.logo,alt:t.company.name,className:"w-12 h-12 object-contain"}):c.jsx(Ds,{className:"w-12 h-12 text-[--theater-gold]"}),c.jsx("h1",{className:"text-4xl md:text-5xl font-marquee text-[--theater-gold] ml-4",children:(t==null?void 0:t.company.name)||"Image Studio"})]}),(t==null?void 0:t.showCountdown)&&c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:c.jsx(lre,{targetDate:t.countdownDate,eventName:t.eventName})})]}),c.jsxs("main",{className:"max-w-6xl mx-auto",children:[c.jsx($.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl md:text-4xl text-white text-center mb-8 font-marquee",children:"Prenota il tuo servizio fotografico"}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-800 rounded-lg shadow-xl p-4 md:p-8",children:c.jsx(ore,{existingBookings:A})})]}),c.jsx($.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 text-center text-gray-400",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm md:text-base",children:t==null?void 0:t.company.address}),(t==null?void 0:t.company.phone)&&c.jsxs("p",{className:"text-sm md:text-base",children:["Tel: ",t.company.phone]}),(t==null?void 0:t.company.email)&&c.jsxs("p",{className:"text-sm md:text-base",children:["Email: ",t.company.email]})]})})]})}),c.jsx("button",{onClick:()=>i(!s),className:"fixed bottom-4 right-4 z-50 md:hidden bg-[--theater-gold] text-black p-4 rounded-full shadow-lg",children:c.jsx(Qn,{className:"w-6 h-6"})}),c.jsx(on,{children:s&&c.jsx($.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed inset-x-0 bottom-0 z-40 md:hidden bg-gray-800 border-t border-gray-700 p-4 rounded-t-xl shadow-xl",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-white font-semibold",children:"Menu Rapido"}),c.jsx("nav",{className:"grid grid-cols-2 gap-4",children:t==null?void 0:t.serviceTypes.map(m=>c.jsx("button",{onClick:()=>{var y;i(!1),(y=document.querySelector("form"))==null||y.scrollIntoView({behavior:"smooth"})},className:"p-3 bg-gray-700 rounded-lg text-white text-sm hover:bg-gray-600 transition-colors",children:m.name},m.id))})]})})})]})},ure=({searchTerm:t,statusFilter:e,serviceFilter:n,serviceTypes:r=[],onSearchChange:s,onStatusFilterChange:i,onServiceFilterChange:A})=>{const{statuses:a=[]}=vd();return c.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Yg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per nome, email, telefono o ticket...",value:t,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mp,{className:"text-gray-400 flex-shrink-0"}),c.jsxs("select",{value:e,onChange:o=>i(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),a.filter(o=>o.enabled).map(o=>c.jsx("option",{value:o.id,children:o.name},o.id))]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qn,{className:"text-gray-400 flex-shrink-0"}),c.jsxs("select",{value:n,onChange:o=>A(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti i servizi"}),r.filter(o=>o.enabled).map(o=>c.jsx("option",{value:o.id,children:o.name},o.id))]})]})]})},dre=({booking:t,onEdit:e,onDelete:n,getServiceLabel:r,getStatusColor:s,onClick:i,isSelected:A})=>{const{getStatusName:a}=vd();return c.jsxs("tr",{onClick:i,className:`border-b border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors ${A?"bg-gray-700/50":""}`,children:[c.jsxs("td",{className:"p-4 text-white",children:[c.jsx("div",{className:"font-medium",children:Xe(new Date(t.booking_date),"dd/MM/yyyy")}),c.jsx("div",{className:"text-sm text-gray-400",children:t.booking_time})]}),c.jsx("td",{className:"p-4 text-white",children:c.jsxs("div",{className:"font-medium",children:[t.firstName," ",t.lastName]})}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-blue-400 hover:text-blue-300",children:[c.jsx(xa,{size:16}),t.email]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-1 text-green-400 hover:text-green-300",children:[c.jsx(ml,{size:16}),t.phone]}),c.jsx("a",{href:MX(t.phone),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1 bg-green-600 text-white rounded-full hover:bg-green-700",title:"Contatta su WhatsApp",children:c.jsx($z,{size:16})})]})]})}),c.jsx("td",{className:"p-4 text-white",children:r(t.service_type)}),c.jsx("td",{className:"p-4 text-white font-mono",children:t.ticket_number}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:s(t.status)},children:a(t.status)})}),c.jsx("td",{className:"p-4 text-white text-sm",children:t.notes||"-"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:o=>{o.stopPropagation(),e()},className:"p-2 text-yellow-400 hover:text-yellow-300 transition-colors",title:"Modifica prenotazione",children:c.jsx(CN,{size:20})}),c.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Elimina prenotazione",children:c.jsx(sA,{size:20})})]})})]})},hre=({booking:t,editedBooking:e,serviceTypes:n,bookingStatuses:r,onClose:s,onSave:i,onChange:A})=>{const{statuses:a}=vd(),[o,l]=F.useState(!1),[u,h]=F.useState(null),[f,p]=F.useState(!1),m=async y=>{y.preventDefault(),l(!0),h(null),p(!1);try{const C=ct(be,"bookings",t.id),B={...e,updated_at:new Date().toISOString()};Object.keys(B).forEach(w=>B[w]===void 0&&delete B[w]),await qs(C,B),p(!0),setTimeout(()=>{i()},1500)}catch(C){console.error("Error updating booking:",C),h("Errore durante l'aggiornamento della prenotazione"),l(!1)}};return c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:c.jsx($n,{size:24})}),c.jsxs("h2",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Jz,{className:"text-[--theater-gold]"}),"Modifica Prenotazione"]}),u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),u]}),f&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Gn,{size:20}),"Prenotazione aggiornata con successo!"]}),c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),c.jsxs("div",{className:"relative",children:[c.jsx(Qn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"date",value:e.booking_date||t.booking_date,onChange:y=>A({booking_date:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Ora"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"time",value:e.booking_time||t.booking_time,onChange:y=>A({booking_time:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),c.jsx("input",{type:"text",value:e.firstName||t.firstName,onChange:y=>A({firstName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),c.jsx("input",{type:"text",value:e.lastName||t.lastName,onChange:y=>A({lastName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"email",value:e.email||t.email,onChange:y=>A({email:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",value:e.phone||t.phone,onChange:y=>A({phone:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),c.jsx("select",{value:e.service_type||t.service_type,onChange:y=>A({service_type:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:n.filter(y=>y.enabled).map(y=>c.jsx("option",{value:y.id,children:y.name},y.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Stato"}),c.jsx("select",{value:e.status||t.status,onChange:y=>A({status:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:a.filter(y=>y.enabled).map(y=>c.jsx("option",{value:y.id,children:y.name},y.id))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note"}),c.jsxs("div",{className:"relative",children:[c.jsx(xN,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("textarea",{value:e.notes||t.notes||"",onChange:y=>A({notes:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[c.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",disabled:o,children:"Annulla"}),c.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Gn,{size:20}),"Salva Modifiche"]})})]})]})]})})},fre=async(t,e)=>{const n=e.reduce((s,i)=>s+i.price*i.quantity,0),r={bookingId:t,items:e,totalAmount:n,paidAmount:0,balance:n,status:"pending",createdAt:Vn()};try{return{id:(await Xs(an(be,"orders"),r)).id,...r}}catch(s){throw console.error("Error creating order:",s),s}},bw=async(t,e)=>{try{const n=ct(be,"orders",t);await qs(n,{...e,updatedAt:Vn()})}catch(n){throw console.error("Error updating order:",n),n}},pre=async(t,e,n,r)=>{try{const s=ct(be,"orders",t),i=await nA(s);if(!i.exists())throw new Error("Ordine non trovato");const A=i.data(),a=(A.paidAmount||0)+e,o=A.totalAmount-a,l=o<=0?"paid":o<A.totalAmount?"partial":"pending",u={orderId:t,amount:e,method:n,notes:r,date:Vn(),createdAt:Vn()};await Xs(an(be,"payment_history"),u),await qs(s,{paidAmount:a,balance:o,status:l,paymentDate:Vn(),updatedAt:Vn()})}catch(s){throw console.error("Error recording payment:",s),s}},gre=async(t,e)=>{try{const n=ct(be,"payment_history",e),r=await nA(n);if(!r.exists())throw new Error("Pagamento non trovato");const s=r.data(),i=ct(be,"orders",t),A=await nA(i);if(!A.exists())throw new Error("Ordine non trovato");const a=A.data(),o=a.paidAmount-s.amount,l=a.totalAmount-o,u=o===0?"pending":o<a.totalAmount?"partial":"paid";await qs(i,{paidAmount:o,balance:l,status:u,updatedAt:Vn()}),await G2(n)}catch(n){throw console.error("Error deleting payment:",n),n}},LD=async t=>{try{if(!(await nA(ct(be,"orders",t))).exists())throw new Error("Ordine non trovato");const n=an(be,"payment_history"),r=wA(n,Tu("orderId","==",t));try{return(await zg(r)).docs.map(i=>{var A;return{id:i.id,...i.data(),date:(A=i.data().date)==null?void 0:A.toDate()}})}catch(s){return console.error("Error fetching payment history:",s),[]}}catch(e){return console.error("Error checking order:",e),[]}},mre=async(t,e,n,r)=>{var s,i;try{const A=(r==null?void 0:r.whatsappTemplate)||{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*
`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`};let a=A.header.replace("{firstName}",e.firstName||"").replace("{lastName}",e.lastName||"").replace("{ticketNumber}",e.ticket_number||"");t.items.length>0&&(t.items.forEach((l,u)=>{const h=n.find(f=>f.id===l.productId);h&&(a+=A.productFormat.replace("{index}",(u+1).toString()).replace("{productName}",h.name).replace("{quantity}",l.quantity.toString()).replace("{price}",l.price.toFixed(2)).replace("{total}",(l.price*l.quantity).toFixed(2)))}),a+=`
* TOTALE ORDINE:* ${t.totalAmount.toFixed(2)}`);try{const l=await LD(t.id);l.length>0&&(a+=`

* ACCONTI VERSATI*
`,l.forEach((u,h)=>{a+=A.paymentFormat.replace("{index}",(h+1).toString()).replace("{date}",u.date.toLocaleDateString()).replace("{method}",yre(u.method)).replace("{amount}",u.amount.toFixed(2))}),t.balance>0&&(a+=`
* SALDO RIMANENTE:* ${t.balance.toFixed(2)}`))}catch(l){console.error("Error adding payment history to receipt:",l)}return a+=A.footer.replace("{address}",((s=r==null?void 0:r.company)==null?void 0:s.address)||"Via Quinto Orazio Flacco 5, Aversa").replace("{phone}",((i=r==null?void 0:r.company)==null?void 0:i.phone)||""),`https://wa.me/39${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(a)}`}catch(A){throw console.error("Error generating receipt:",A),new Error("Errore nella generazione della ricevuta WhatsApp")}},yre=t=>{switch(t){case"cash":return"Contanti";case"card":return"Carta";case"transfer":return"Bonifico";default:return t}},vre=({order:t,isOpen:e,onClose:n})=>{const[r,s]=F.useState(t.notes||""),[i,A]=F.useState(!1),[a,o]=F.useState(null),l=async()=>{A(!0),o(null);try{await bw(t.id,{notes:r}),n()}catch(u){console.error("Error saving notes:",u),o("Errore durante il salvataggio delle note")}finally{A(!1)}};return c.jsx(on,{children:e&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(Oc,{className:"text-[--theater-gold]"}),"Note Ordine"]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx($n,{size:24})})]}),a&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6",children:a}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:r,onChange:u=>s(u.target.value),className:"w-full h-48 p-4 bg-gray-700 border border-gray-600 rounded text-white resize-none",placeholder:"Inserisci le note per questo ordine..."}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:l,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Xg,{size:20}),"Salva Note"]})})]})]})]})})})},wre=({bookingId:t,booking:e})=>{const[n,r]=F.useState(null),[s,i]=F.useState(!1),[A,a]=F.useState(!1),[o,l]=F.useState(!1),[u,h]=F.useState(!1),[f,p]=F.useState({}),[m,y]=F.useState(0),[C,B]=F.useState("cash"),[w,v]=F.useState(""),[I,Q]=F.useState([]),[k,T]=F.useState(!1),[E,b]=F.useState(null);F.useState(null);const{settings:_}=xA();F.useEffect(()=>{const V=an(be,"orders"),q=wA(V,Tu("bookingId","==",t)),M=pl(q,K=>{if(!K.empty){const J=K.docs[0].data();r({...J,id:K.docs[0].id})}});return()=>M()},[t]),F.useEffect(()=>{n&&o&&R()},[n,o]),F.useEffect(()=>{s&&p({})},[s]);const R=async()=>{if(n)try{const V=await LD(n.id);Q(V)}catch(V){console.error("Error loading payment history:",V),b("Errore nel caricamento dello storico pagamenti")}},N=async()=>{T(!0),b(null);try{const V=Object.entries(f).map(([q,M])=>({productId:q,quantity:M.quantity,price:M.price}));if(n){const q=[...n.items,...V],M=q.reduce((K,J)=>K+J.price*J.quantity,0);await bw(n.id,{items:q,totalAmount:M,balance:M-(n.paidAmount||0)})}else await fre(t,V);i(!1),p({})}catch(V){console.error("Error adding products:",V),b("Errore durante l'aggiunta dei prodotti")}finally{T(!1)}},S=async V=>{if(n){T(!0),b(null);try{const q=n.items.filter(K=>K.productId!==V),M=q.reduce((K,J)=>K+J.price*J.quantity,0);await bw(n.id,{items:q,totalAmount:M,balance:M-(n.paidAmount||0)})}catch(q){console.error("Error removing product:",q),b("Errore durante la rimozione del prodotto")}finally{T(!1)}}},Y=async()=>{if(!(!n||!_))try{T(!0),b(null);const V=await mre(n,e,_.products,_);window.open(V,"_blank")}catch(V){console.error("Error generating receipt:",V),b("Errore nella generazione della ricevuta WhatsApp")}finally{T(!1)}},Ae=()=>!n||!_?null:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-0.5 rounded-full ${n.status==="paid"?"bg-green-500/20 text-green-400":n.status==="partial"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.status==="paid"?"Pagato":n.status==="partial"?"Acconto":"In attesa"}),c.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",n.totalAmount.toFixed(2)]})]}),n.paidAmount>0&&c.jsxs("span",{className:"text-green-400 text-xs",children:["Pagato: ",n.paidAmount.toFixed(2)]})]}),c.jsx("div",{className:"space-y-2 mt-4",children:n.items.map((V,q)=>{const M=_.products.find(K=>K.id===V.productId);return M?c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between bg-gray-700 p-2 rounded",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[M.imageUrl&&c.jsx("img",{src:M.imageUrl,alt:M.name,className:"w-10 h-10 object-cover rounded"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-white",children:M.name}),c.jsxs("div",{className:"text-sm text-gray-400",children:[V.quantity,"x ",V.price.toFixed(2)]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-[--theater-gold]",children:["",(V.quantity*V.price).toFixed(2)]}),c.jsx("button",{onClick:()=>S(V.productId),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Rimuovi prodotto",children:c.jsx(sA,{size:16})})]})]},`${V.productId}-${q}`):null})}),n.notes&&c.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 mt-2",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Oc,{size:16,className:"text-yellow-400 mt-1 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-yellow-400 line-clamp-2",children:n.notes})]})})]});return c.jsxs("div",{className:"space-y-2",children:[n?c.jsxs(c.Fragment,{children:[Ae(),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm",children:[c.jsx(rA,{size:14}),"Prodotti"]}),c.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600/20 text-green-400 rounded hover:bg-green-600/30 text-sm",children:[c.jsx(Sv,{size:14}),"Pagamento"]}),c.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 text-sm",children:[c.jsx(Ys,{size:14}),"Storico"]}),c.jsxs("button",{onClick:Y,disabled:k,className:"inline-flex items-center gap-1 px-2 py-1 bg-[#25D366]/20 text-[#25D366] rounded hover:bg-[#25D366]/30 text-sm disabled:opacity-50",children:[k?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Xz,{size:14}),"Ricevuta"]}),c.jsxs("button",{onClick:()=>h(!0),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${n.notes?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(Oc,{size:14}),n.notes?"Modifica Note":"Note"]})]})]}):c.jsx("div",{className:"flex justify-center",children:c.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 text-sm font-medium",children:[c.jsx(rA,{size:16}),"Nuovo Ordine"]})}),c.jsxs(on,{children:[s&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:n?"Aggiungi Prodotti all'Ordine":"Nuovo Ordine"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:_==null?void 0:_.products.filter(V=>V.enabled).map(V=>{var q;return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[V.imageUrl&&c.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-full h-32 object-cover rounded mb-3"}),c.jsx("h4",{className:"text-white font-medium",children:V.name}),c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:V.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-[--theater-gold]",children:["",V.price.toFixed(2)]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"number",min:"0",value:((q=f[V.id])==null?void 0:q.quantity)||0,onChange:M=>{const K=parseInt(M.target.value);if(K===0){const{[V.id]:J,...ee}=f;p(ee)}else p({...f,[V.id]:{quantity:K,price:V.price}})},className:"w-20 p-1 bg-gray-600 border border-gray-500 rounded text-white text-center"})})]})]},V.id)})}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:()=>{i(!1),p({})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:N,disabled:Object.keys(f).length===0||k,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:k?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),n?"Aggiunta in corso...":"Creazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Gn,{size:20}),n?"Aggiungi Prodotti":"Crea Ordine"]})})]})]})}),A&&n&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Registra Pagamento"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Totale da Pagare:"}),c.jsxs("span",{className:"block text-xl text-[--theater-gold]",children:["",n.totalAmount.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Saldo Rimanente:"}),c.jsxs("span",{className:"block text-xl text-red-400",children:["",n.balance.toFixed(2)]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Importo Pagamento"}),c.jsxs("div",{className:"relative",children:[c.jsx(Sv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"number",step:"0.01",min:"0",max:n.balance,value:m,onChange:V=>y(parseFloat(V.target.value)),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Metodo di Pagamento"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>B("cash"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="cash"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(hb,{size:16}),"Contanti"]}),c.jsxs("button",{type:"button",onClick:()=>B("card"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="card"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(Iu,{size:16}),"Carta"]}),c.jsxs("button",{type:"button",onClick:()=>B("transfer"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="transfer"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(vb,{size:16}),"Bonifico"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{value:w,onChange:V=>v(V.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Aggiungi una nota per questo pagamento..."})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:()=>{a(!1),y(0),B("cash"),v("")},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:async()=>{T(!0);try{await pre(n.id,m,C,w),a(!1),y(0),B("cash"),v("")}catch(V){console.error("Error recording payment:",V),b("Errore durante la registrazione del pagamento")}finally{T(!1)}},disabled:m<=0||m>n.balance||k,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:k?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Registrazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Gn,{size:20}),"Conferma Pagamento"]})})]})]})]})}),o&&n&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx($n,{size:24})}),c.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Ys,{className:"text-[--theater-gold]"}),"Storico Pagamenti"]}),E&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),E]}),c.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[I.map(V=>c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",V.amount.toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-400 mt-1",children:V.date.toLocaleDateString()}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[V.method==="cash"&&c.jsx(hb,{size:16,className:"text-green-400"}),V.method==="card"&&c.jsx(Iu,{size:16,className:"text-blue-400"}),V.method==="transfer"&&c.jsx(vb,{size:16,className:"text-purple-400"}),c.jsx("span",{className:"text-gray-300",children:V.method==="cash"?"Contanti":V.method==="card"?"Carta":"Bonifico"})]})]}),V.notes&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[c.jsx(Oc,{size:14,className:"mt-1"}),c.jsx("p",{children:V.notes})]}),c.jsx("button",{onClick:()=>{window.confirm("Sei sicuro di voler eliminare questo pagamento?")&&gre(n.id,V.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",title:"Elimina pagamento",children:c.jsx(sA,{size:16})})]})},V.id)),I.length===0&&c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessun pagamento registrato"})]})]})}),u&&n&&c.jsx(vre,{order:n,isOpen:u,onClose:()=>h(!1)})]}),E&&c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mt-4",children:E})]})},Bre=({bookings:t,serviceTypes:e,bookingStatuses:n,getServiceLabel:r,getStatusColor:s})=>{const[i,A]=F.useState(null),[a,o]=F.useState(null),[l,u]=F.useState({}),[h,f]=F.useState(null),p=v=>{A(i===v?null:v)},m=v=>{o(v),u({...v})},y=async()=>{if(a)try{const v=ct(be,"bookings",a.id);await qs(v,{...l,updated_at:new Date().toISOString()}),o(null),u({})}catch(v){console.error("Error saving booking:",v),f("Errore durante il salvataggio della prenotazione")}},C=async v=>{if(window.confirm("Sei sicuro di voler eliminare questa prenotazione?"))try{f(null),await G2(ct(be,"bookings",v)),i===v&&A(null),(a==null?void 0:a.id)===v&&(o(null),u({}))}catch(I){console.error("Error deleting booking:",I),f("Errore durante l'eliminazione della prenotazione")}},B=()=>{o(null),u({})},w=[...t].sort((v,I)=>{const Q=v.booking_date.localeCompare(I.booking_date);return Q!==0?Q:v.booking_time.localeCompare(I.booking_time)});return c.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[h&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 m-4 rounded-lg",children:h}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Data e Ora"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Cliente"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Contatti"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Servizio"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Ticket"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Stato"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Note"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Azioni"})]})}),c.jsx("tbody",{children:w.map(v=>c.jsxs(ye.Fragment,{children:[c.jsx(dre,{booking:v,onEdit:()=>m(v),onDelete:()=>C(v.id),getServiceLabel:r,getStatusColor:s,onClick:()=>p(v.id),isSelected:i===v.id}),i===v.id&&c.jsx("tr",{children:c.jsx("td",{colSpan:8,className:"p-4 bg-gray-700/30",children:c.jsx(wre,{bookingId:v.id,booking:v})})})]},v.id))})]})}),c.jsx(on,{children:a&&c.jsx(hre,{booking:a,editedBooking:l,serviceTypes:e,bookingStatuses:n,onClose:B,onSave:y,onChange:u})})]})},xre=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState(!0),[s,i]=F.useState(null),[A,a]=F.useState(!1);F.useEffect(()=>{o()},[]);const o=async()=>{if(!mn.currentUser){r(!1);return}try{await nb(be,async h=>{const f=ct(be,"users",mn.currentUser.uid),p=await h.get(f);if(!p.exists())h.set(f,{email:mn.currentUser.email,createdAt:new Date,updatedAt:new Date}),e(!1);else{const m=p.data();e(!!(m!=null&&m.googleCalendarToken))}})}catch(h){console.error("Error checking calendar connection:",h),h.code==="permission-denied"?e(!1):i("Errore durante la verifica della connessione")}finally{r(!1)}},l=()=>{if(!mn.currentUser){i("Devi essere autenticato per connettere il calendario");return}{i("Configurazione Google Calendar non disponibile");return}},u=async()=>{if(!mn.currentUser){i("Devi essere autenticato per disconnettere il calendario");return}try{r(!0),i(null),await nb(be,async h=>{const f=ct(be,"users",mn.currentUser.uid);if(!(await h.get(f)).exists())throw new Error("User document not found");h.update(f,{googleCalendarToken:null,googleCalendarRefreshToken:null,calendarConnected:!1,updatedAt:new Date})}),e(!1),a(!0),setTimeout(()=>a(!1),3e3)}catch(h){console.error("Error disconnecting calendar:",h),h.code==="permission-denied"?i("Non hai i permessi per disconnettere il calendario"):i("Errore durante la disconnessione del calendario")}finally{r(!1)}};return n?c.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[c.jsx(Kz,{className:"animate-spin",size:20}),c.jsx("span",{children:"Verifica connessione..."})]}):c.jsxs("div",{className:"space-y-4",children:[s&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(jt,{size:20}),s]}),A&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Gn,{size:20}),t?"Calendario connesso con successo!":"Calendario disconnesso con successo!"]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:t?"Calendario Connesso":"Connetti Google Calendar"}),c.jsx("p",{className:"text-gray-400",children:t?"Le tue prenotazioni verranno automaticamente sincronizzate con il tuo Google Calendar":"Connetti il tuo Google Calendar per sincronizzare automaticamente le prenotazioni"})]}),c.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t?u:l,disabled:n,className:`flex items-center gap-2 px-6 py-2 rounded transition-colors ${t?"bg-red-500 text-white hover:bg-red-600":"bg-[--theater-gold] text-black hover:bg-yellow-500"} disabled:opacity-50`,children:n?c.jsx("span",{className:"animate-spin",children:""}):t?c.jsxs(c.Fragment,{children:[c.jsx(t9,{size:20}),"Disconnetti"]}):c.jsxs(c.Fragment,{children:[c.jsx(Hz,{size:20}),"Connetti"]})})]}),t&&c.jsx("div",{className:"text-sm text-gray-400",children:c.jsx("p",{children:"Le nuove prenotazioni verranno automaticamente aggiunte al tuo Google Calendar. Puoi disconnettere il calendario in qualsiasi momento."})})]})},Cre=({settings:t,onChange:e})=>{var s,i,A,a;const n=(o,l)=>{e({company:{...t.company,[o]:l}})},r=(o,l)=>{e({whatsappTemplate:{...t.whatsappTemplate,[o]:l}})};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Informazioni Aziendali"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(fb,{size:16}),"Nome Azienda"]}),c.jsx("input",{type:"text",value:t.company.name,onChange:o=>n("name",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(gb,{size:16}),"Logo URL"]}),c.jsx("input",{type:"url",value:t.company.logo,onChange:o=>n("logo",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/logo.png"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(fb,{size:16}),"Indirizzo"]}),c.jsx("input",{type:"text",value:t.company.address,onChange:o=>n("address",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(gb,{size:16}),"Sito Web"]}),c.jsx("input",{type:"url",value:t.company.website,onChange:o=>n("website",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com"})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Qn,{className:"text-[--theater-gold]"}),"Sincronizzazione Google Calendar"]}),c.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:c.jsx(xre,{})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(xN,{className:"text-[--theater-gold]"}),"Template WhatsApp"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Intestazione Messaggio"}),c.jsx("textarea",{value:((s=t.whatsappTemplate)==null?void 0:s.header)||`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,onChange:o=>r("header",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-32",placeholder:"Intestazione del messaggio..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Prodotto"}),c.jsx("textarea",{value:((i=t.whatsappTemplate)==null?void 0:i.productFormat)||`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,onChange:o=>r("productFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni prodotto..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Pagamento"}),c.jsx("textarea",{value:((A=t.whatsappTemplate)==null?void 0:A.paymentFormat)||`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,onChange:o=>r("paymentFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni pagamento..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Footer Messaggio"}),c.jsx("textarea",{value:((a=t.whatsappTemplate)==null?void 0:a.footer)||`
 {address}
 Per assistenza: {phone}`,onChange:o=>r("footer",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Footer del messaggio..."})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-white font-medium mb-2",children:"Variabili Disponibili"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Generali:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsxs("li",{children:["{firstName}"," - Nome cliente"]}),c.jsxs("li",{children:["{lastName}"," - Cognome cliente"]}),c.jsxs("li",{children:["{ticketNumber}"," - Numero ticket"]}),c.jsxs("li",{children:["{address}"," - Indirizzo"]}),c.jsxs("li",{children:["{phone}"," - Telefono"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Prodotti:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsxs("li",{children:["{index}"," - Numero prodotto"]}),c.jsxs("li",{children:["{productName}"," - Nome prodotto"]}),c.jsxs("li",{children:["{quantity}"," - Quantit"]}),c.jsxs("li",{children:["{price}"," - Prezzo unitario"]}),c.jsxs("li",{children:["{total}"," - Totale prodotto"]})]})]})]})]})]})]})]})},Ere=[{value:0,label:"Domenica"},{value:1,label:"Luned"},{value:2,label:"Marted"},{value:3,label:"Mercoled"},{value:4,label:"Gioved"},{value:5,label:"Venerd"},{value:6,label:"Sabato"}],_re=[{value:15,label:"15 minuti"},{value:30,label:"30 minuti"},{value:45,label:"45 minuti"},{value:60,label:"1 ora"},{value:90,label:"1 ora e 30 minuti"},{value:120,label:"2 ore"}],bre=({serviceTypes:t,newServiceType:e,onServiceTypeChange:n,onNewServiceTypeChange:r,onAddServiceType:s,onRemoveServiceType:i})=>{const[A,a]=F.useState(null),[o,l]=F.useState(""),[u,h]=F.useState(null),f=(m,y)=>{const w=(t[m].excludedDays||[]).map(Number),I=w.indexOf(y)>=0?w.filter(Q=>Q!==y):[...w,y];I.sort((Q,k)=>Q-k),n(m,"excludedDays",I)},p=m=>{var B;if(!o){h("Seleziona una data da escludere");return}const y=t[m];if(y.bookingStartDate&&y.bookingEndDate){const w=new Date(o),v=new Date(y.bookingStartDate),I=new Date(y.bookingEndDate);if(w<v||w>I){h("La data deve essere compresa nel periodo di prenotazione");return}}if((B=y.excludedDates)!=null&&B.includes(o)){h("Questa data  gi stata esclusa");return}const C=[...y.excludedDates||[],o].sort();n(m,"excludedDates",C),l(""),a(null),h(null)};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Tipi di Servizio"}),c.jsx("div",{className:"space-y-4",children:t.map((m,y)=>c.jsxs($.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"text",value:m.name,onChange:C=>n(y,"name",C.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"Nome servizio"}),c.jsxs("label",{className:"flex items-center gap-2 text-white",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:C=>n(y,"enabled",C.target.checked),className:"w-4 h-4"}),"Attivo"]}),c.jsx("button",{type:"button",onClick:()=>i(y),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:c.jsx(sA,{size:20})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Ys,{size:16}),"Durata Servizio"]}),c.jsx("select",{value:m.duration||30,onChange:C=>n(y,"duration",parseInt(C.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white",children:_re.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Qn,{size:16}),"Data Inizio Prenotazioni"]}),c.jsx("input",{type:"date",value:m.bookingStartDate||"",onChange:C=>n(y,"bookingStartDate",C.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Qn,{size:16}),"Data Fine Prenotazioni"]}),c.jsx("input",{type:"date",value:m.bookingEndDate||"",onChange:C=>n(y,"bookingEndDate",C.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(cc,{size:16}),"Giorni della Settimana Esclusi"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Ere.map(C=>c.jsxs($.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(y,C.value),className:`
                      px-3 py-1 rounded-full text-sm flex items-center gap-2 transition-colors
                      ${(m.excludedDays||[]).includes(C.value)?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
                    `,children:[(m.excludedDays||[]).includes(C.value)&&c.jsx(cc,{size:14,className:"text-red-400"}),C.label]},C.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(cc,{size:16}),"Date Specifiche Escluse"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:c.jsx(on,{mode:"popLayout",children:(m.excludedDates||[]).map(C=>c.jsxs($.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[c.jsx(cc,{size:14}),Xe(new Date(C),"dd MMM yyyy",{locale:ei}),c.jsx("button",{type:"button",onClick:()=>{const B=(m.excludedDates||[]).filter(w=>w!==C);n(y,"excludedDates",B)},className:"text-red-400 hover:text-red-300",children:c.jsx($n,{size:14})})]},C))})}),c.jsx(on,{children:u&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-400 text-sm mt-2",children:[c.jsx(jt,{size:14}),u]})}),A===m.id?c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex gap-2",children:[c.jsx("input",{type:"date",value:o,onChange:C=>{l(C.target.value),h(null)},className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",min:m.bookingStartDate,max:m.bookingEndDate}),c.jsxs("button",{type:"button",onClick:()=>p(y),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[c.jsx(Gn,{size:16}),"Aggiungi"]}),c.jsxs("button",{type:"button",onClick:()=>{a(null),l(""),h(null)},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500",children:[c.jsx($n,{size:16}),"Annulla"]})]}):c.jsxs($.button,{type:"button",onClick:()=>a(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 text-sm text-[--theater-gold] hover:text-yellow-500",children:[c.jsx(rA,{size:14}),"Aggiungi data esclusa"]})]})]})]},m.id))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",value:e.name,onChange:m=>r({...e,name:m.target.value}),placeholder:"Nuovo tipo di servizio",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white"}),c.jsxs($.button,{type:"button",onClick:s,disabled:!e.name,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(rA,{size:20}),"Aggiungi"]})]})]})},Tre=({breakTimes:t,newBreakTime:e,onBreakTimeChange:n,onNewBreakTimeChange:r,onAddBreakTime:s,onRemoveBreakTime:i})=>c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Pause e Intervalli"}),c.jsx("div",{className:"space-y-4",children:t.map((A,a)=>c.jsxs("div",{className:"flex items-center gap-4 bg-gray-700 p-4 rounded",children:[c.jsx("input",{type:"time",value:A.start,onChange:o=>n(a,"start",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),c.jsx("span",{className:"text-white",children:"a"}),c.jsx("input",{type:"time",value:A.end,onChange:o=>n(a,"end",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),c.jsxs("label",{className:"flex items-center gap-2 text-white",children:[c.jsx("input",{type:"checkbox",checked:A.enabled,onChange:o=>n(a,"enabled",o.target.checked),className:"w-4 h-4"}),"Attivo"]}),c.jsx("button",{type:"button",onClick:()=>i(a),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:c.jsx(sA,{size:20})})]},a))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"time",value:e.start,onChange:A=>r({...e,start:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inizio pausa"}),c.jsx("input",{type:"time",value:e.end,onChange:A=>r({...e,end:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Fine pausa"}),c.jsxs("button",{type:"button",onClick:s,disabled:!e.start||!e.end,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(rA,{size:20}),"Aggiungi Pausa"]})]})]}),Ire=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],iU=({color:t,onChange:e})=>c.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-xl border border-gray-700 w-64",children:[c.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:Ire.map(n=>c.jsx("button",{onClick:()=>e(n),className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${t===n?"ring-2 ring-white ring-offset-2 ring-offset-gray-800":""}`,style:{backgroundColor:n},title:n},n))}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm text-gray-300",children:"Custom Color"}),c.jsx("input",{type:"color",value:t,onChange:n=>e(n.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),Ure=({statuses:t,onSave:e})=>{const[n,r]=F.useState(t.map(v=>({...v,enabled:v.enabled??!0}))),[s,i]=F.useState(null),[A,a]=F.useState(!1),[o,l]=F.useState(null),[u,h]=F.useState({name:"",color:"#4CAF50",enabled:!0}),[f,p]=F.useState(null),m=v=>{p(v),setTimeout(()=>p(null),3e3)},y=async()=>{if(!u.name){i("Inserisci un nome per lo stato");return}if(n.some(k=>k.name.toLowerCase()===u.name.toLowerCase())){i("Esiste gi uno stato con questo nome");return}const v=u.name.toLowerCase().replace(/\s+/g,"_"),I={...u,id:v,enabled:!0},Q=[...n,I];r(Q);try{a(!0),await e(Q),h({name:"",color:"#4CAF50",enabled:!0}),i(null),m("Nuovo stato aggiunto con successo")}catch(k){console.error("Error saving new status:",k),i("Errore durante il salvataggio del nuovo stato"),r(n)}finally{a(!1)}},C=async(v,I,Q)=>{const k=[...n];k[v]={...k[v],[I]:Q},r(k);try{a(!0),await e(k),m("Modifiche salvate con successo")}catch(T){console.error("Error saving status changes:",T),i("Errore durante il salvataggio delle modifiche"),r(n)}finally{a(!1)}},B=async(v,I)=>{await C(v,"color",I)},w=async v=>{const I=n.filter((Q,k)=>k!==v);try{a(!0),await e(I),r(I),m("Stato rimosso con successo")}catch(Q){console.error("Error removing status:",Q),i("Errore durante la rimozione dello stato")}finally{a(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(Si,{className:"text-[--theater-gold]"}),"Stati Prenotazione"]})}),c.jsxs(on,{children:[s&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(jt,{size:20}),s]}),f&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(jt,{size:20}),f]})]}),c.jsx("div",{className:"space-y-4",children:n.map((v,I)=>c.jsx($.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"text",value:v.name,onChange:Q=>C(I,"name",Q.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white focus:border-[--theater-gold] transition-colors",placeholder:"Nome stato"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>l(o===v.id?null:v.id),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:v.color}}),o===v.id&&c.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[c.jsx("div",{className:"fixed inset-0",onClick:()=>l(null)}),c.jsx(iU,{color:v.color,onChange:Q=>B(I,Q)})]})]}),c.jsxs("label",{className:"flex items-center gap-2 text-white hover:text-[--theater-gold] transition-colors cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:v.enabled,onChange:Q=>C(I,"enabled",Q.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Attivo"]}),c.jsx("button",{onClick:()=>w(I),className:"p-2 text-red-400 hover:text-red-300 hover:scale-110 transition-all",title:"Rimuovi stato",disabled:A,children:c.jsx(sA,{size:20})})]})},v.id))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",value:u.name,onChange:v=>h({...u,name:v.target.value}),placeholder:"Nuovo stato",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-[--theater-gold] transition-colors"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>l(o==="new"?null:"new"),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:u.color}}),o==="new"&&c.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[c.jsx("div",{className:"fixed inset-0",onClick:()=>l(null)}),c.jsx(iU,{color:u.color,onChange:v=>h({...u,color:v})})]})]}),c.jsxs($.button,{onClick:y,disabled:!u.name||A,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[c.jsx(rA,{size:20}),A?"Aggiunta...":"Aggiungi"]})]})]})},Fre=({settings:t,onChange:e})=>{var r,s,i,A;const n=(a,o)=>{e({social:{...t.social,[a]:o}})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(_N,{className:"text-[--theater-gold]"}),"Impostazioni Condivisione Social"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(wd,{size:16}),"Immagine Anteprima"]}),c.jsx("input",{type:"url",value:((r=t.social)==null?void 0:r.image)||"",onChange:a=>n("image",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/image.jpg"}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Dimensioni consigliate: 1200x630 pixel"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(e9,{size:16}),"Titolo Anteprima"]}),c.jsx("input",{type:"text",value:((s=t.social)==null?void 0:s.title)||"",onChange:a=>n("title",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale Cinematografico 2025"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(Oc,{size:16}),"Descrizione Anteprima"]}),c.jsx("textarea",{value:((i=t.social)==null?void 0:i.description)||"",onChange:a=>n("description",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(jz,{size:16}),"URL Sito"]}),c.jsx("input",{type:"url",value:((A=t.social)==null?void 0:A.url)||"",onChange:a=>n("url",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://gennaromazzacane.it/carnival2025"})]}),c.jsx("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-4",children:c.jsx("div",{className:"flex items-start gap-2",children:c.jsxs("div",{className:"text-blue-400 text-sm",children:[c.jsx("p",{className:"font-medium mb-1",children:"Anteprima Social"}),c.jsx("p",{children:"Queste impostazioni controllano come appare il link quando viene condiviso su WhatsApp, Facebook e altri social media. L'immagine dovrebbe essere rappresentativa del tuo evento e catturare l'attenzione."})]})})})]})]})},Sre=({type:t,enabled:e,onChange:n})=>{const r=s=>{const i="w-full aspect-[9/16] rounded-lg overflow-hidden";switch(s){case"classic":return c.jsxs("div",{className:`${i} bg-gradient-to-br from-red-600 to-red-700 text-white p-6 flex flex-col`,children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(jc,{className:"w-12 h-12 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-bold",children:"Carnevale 2025"}),c.jsx("p",{className:"text-sm opacity-75",children:"CNC-123456"})]}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-4",children:[c.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm opacity-75",children:"Nome"}),c.jsx("p",{className:"font-bold",children:"Mario Rossi"})]}),c.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm opacity-75",children:"Data"}),c.jsx("p",{className:"font-bold",children:"01/03/2025"})]})]})]});case"modern":return c.jsx("div",{className:`${i} bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6`,children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[c.jsx(jc,{className:"w-16 h-16 mx-auto mb-6"}),c.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Carnevale"}),c.jsx("p",{className:"text-lg mb-8",children:"2025"}),c.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-xl",children:c.jsx("p",{className:"font-mono text-xl",children:"CNC-123456"})})]}),c.jsx("div",{className:"mt-auto text-center",children:c.jsx("p",{className:"text-sm opacity-75",children:"Via Quinto Orazio Flacco 5, Aversa"})})]})});case"vintage":return c.jsx("div",{className:`${i} bg-[#f8e5b9] p-6 border-8 border-[#8b4513]`,children:c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#8b4513]",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-3xl font-serif mb-2",children:"CARNEVALE"}),c.jsx("p",{className:"text-xl font-serif",children:"CINEMATOGRAFICO"})]}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),c.jsx("div",{className:"font-mono text-xl mb-6",children:"CNC-123456"}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),c.jsxs("div",{className:"text-center mt-auto",children:[c.jsx("p",{className:"font-serif",children:"01 Marzo 2025"}),c.jsx("p",{className:"font-serif text-sm mt-2",children:"Aversa"})]})]})})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(jc,{className:"text-[--theater-gold]"}),"Template Ticket"]}),c.jsx("div",{className:"grid grid-cols-3 gap-6",children:["classic","modern","vintage"].map(s=>c.jsxs($.div,{whileHover:{scale:1.02},className:`relative cursor-pointer rounded-lg overflow-hidden ${t===s?"ring-2 ring-[--theater-gold]":""}`,onClick:()=>n({type:s,enabled:e}),children:[r(s),c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:c.jsx("button",{className:"px-4 py-2 bg-[--theater-gold] text-black rounded-lg",children:"Seleziona"})})]},s))}),c.jsx("div",{className:"mt-6",children:c.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e,onChange:s=>n({type:t,enabled:s.target.checked}),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione ticket"]})})]})},Qre=({enabled:t,title:e,subtitle:n,type:r,onChange:s})=>{const i=[{id:"curtain",label:"Sipario"},{id:"fade",label:"Dissolvenza"},{id:"slide",label:"Scorrimento"}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Ds,{className:"text-[--theater-gold]"}),"Animazione Introduttiva"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Titolo Animazione"}),c.jsx("input",{type:"text",value:e,onChange:A=>s({enabled:t,title:A.target.value,subtitle:n,type:r}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale 2025"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Sottotitolo"}),c.jsx("input",{type:"text",value:n,onChange:A=>s({enabled:t,title:e,subtitle:A.target.value,type:r}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"3... 2... 1..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-4",children:"Tipo Animazione"}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(A=>c.jsxs($.button,{whileHover:{scale:1.02},onClick:()=>s({enabled:t,title:e,subtitle:n,type:A.id}),className:`p-4 rounded-lg border-2 transition-colors ${r===A.id?"border-[--theater-gold] bg-[--theater-gold]/10":"border-gray-700 hover:border-gray-600"}`,children:[c.jsx(qz,{className:`w-8 h-8 mx-auto mb-2 ${r===A.id?"text-[--theater-gold]":"text-gray-400"}`}),c.jsx("span",{className:r===A.id?"text-white":"text-gray-400",children:A.label})]},A.id))})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:t,onChange:A=>s({enabled:A.target.checked,title:e,subtitle:n,type:r}),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione all'apertura"]})})]})]})},Nre=[{id:"general",label:"Generali",icon:Si},{id:"status",label:"Stati Prenotazione",icon:Si},{id:"services",label:"Servizi",icon:Si},{id:"breaks",label:"Pause",icon:Si},{id:"social",label:"Condivisione",icon:_N},{id:"ticket",label:"Template Ticket",icon:jc},{id:"intro",label:"Intro",icon:Ds}],kre=({settings:t,onSave:e,onClose:n})=>{const[r,s]=F.useState(!1),[i,A]=F.useState(t),[a,o]=F.useState(null),[l,u]=F.useState("general"),[h,f]=F.useState(!1),{statuses:p}=vd(),m=async C=>{C.preventDefault(),s(!0),o(null);try{await e(i),f(!0),setTimeout(()=>f(!1),3e3)}catch(B){console.error("Error saving settings:",B),o("Errore durante il salvataggio delle impostazioni")}finally{s(!1)}},y=()=>{var C,B,w,v,I,Q;switch(l){case"general":return c.jsx(Cre,{settings:i,onChange:k=>A({...i,...k})});case"status":return c.jsx(Ure,{statuses:p,onSave:async k=>{A({...i,bookingStatuses:k})}});case"services":return c.jsx(bre,{serviceTypes:i.serviceTypes,newServiceType:{id:"",name:"",enabled:!0,bookingStartDate:"",bookingEndDate:""},onServiceTypeChange:(k,T,E)=>{const b=[...i.serviceTypes];b[k]={...b[k],[T]:E},A({...i,serviceTypes:b})},onNewServiceTypeChange:()=>{},onAddServiceType:()=>{},onRemoveServiceType:k=>{const T=i.serviceTypes.filter((E,b)=>b!==k);A({...i,serviceTypes:T})}});case"breaks":return c.jsx(Tre,{breakTimes:i.breakTimes,newBreakTime:{start:"",end:"",enabled:!0},onBreakTimeChange:(k,T,E)=>{const b=[...i.breakTimes];b[k]={...b[k],[T]:E},A({...i,breakTimes:b})},onNewBreakTimeChange:()=>{},onAddBreakTime:()=>{},onRemoveBreakTime:k=>{const T=i.breakTimes.filter((E,b)=>b!==k);A({...i,breakTimes:T})}});case"social":return c.jsx(Fre,{settings:i,onChange:k=>A({...i,...k})});case"ticket":return c.jsx(Sre,{type:((C=i.ticketTemplate)==null?void 0:C.type)||"classic",enabled:((B=i.ticketTemplate)==null?void 0:B.enabled)??!0,onChange:k=>A(T=>({...T,ticketTemplate:k}))});case"intro":return c.jsx(Qre,{enabled:((w=i.animation)==null?void 0:w.enabled)??!0,title:((v=i.animation)==null?void 0:v.title)||"",subtitle:((I=i.animation)==null?void 0:I.subtitle)||"",type:((Q=i.animation)==null?void 0:Q.type)||"curtain",onChange:k=>{console.log("Updating animation settings:",k),A(T=>({...T,animation:{...T.animation,...k}}))}});default:return null}};return c.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:c.jsxs("form",{onSubmit:m,className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Impostazioni"}),c.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-white",children:c.jsx($n,{size:24})})]}),a&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:a}),h&&c.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg",children:"Impostazioni salvate con successo"}),c.jsx("div",{className:"flex gap-4 border-b border-gray-700 overflow-x-auto",children:Nre.map(C=>c.jsxs("button",{type:"button",onClick:()=>u(C.id),className:`flex items-center gap-2 px-4 py-2 -mb-px whitespace-nowrap ${l===C.id?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:[c.jsx(C.icon,{size:16}),C.label]},C.id))}),c.jsx("div",{className:"pt-6",children:y()}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:r?"Salvataggio...":"Salva Impostazioni"})]})]})})},Rre=()=>{const{settings:t,loading:e}=xA(),[n,r]=F.useState(null),[s,i]=F.useState(!1),[A,a]=F.useState({name:"",description:"",price:0,imageUrl:"",enabled:!0}),o=async h=>{if(h.preventDefault(),!!t)try{let f=[...t.products];if(n){const p=f.findIndex(m=>m.id===n);p!==-1&&(f[p]={...A,id:n})}else{const p={...A,id:crypto.randomUUID()};f.push(p)}await Vp({products:f}),i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})}catch(f){console.error("Error saving product:",f),alert("Errore durante il salvataggio del prodotto")}},l=async h=>{if(window.confirm("Sei sicuro di voler eliminare questo prodotto?")&&t)try{const f=t.products.filter(p=>p.id!==h);await Vp({products:f})}catch(f){console.error("Error deleting product:",f),alert("Errore durante l'eliminazione del prodotto")}},u=h=>{a(h),r(h.id),i(!0)};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-white flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Prodotti"}),c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[c.jsx(rA,{size:20}),"Nuovo Prodotto"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.products.map(h=>c.jsxs($.div,{layout:!0,className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[h.imageUrl&&c.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:h.name}),c.jsx("p",{className:"text-gray-400 mb-4",children:h.description}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-[--theater-gold] text-xl",children:["",h.price.toFixed(2)]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>u(h),className:"p-2 text-blue-400 hover:text-blue-300",children:c.jsx(CN,{size:20})}),c.jsx("button",{onClick:()=>l(h.id),className:"p-2 text-red-400 hover:text-red-300",children:c.jsx(sA,{size:20})})]})]})]})]},h.id))}),c.jsx(on,{children:(s||n)&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:n?"Modifica Prodotto":"Nuovo Prodotto"}),c.jsx("button",{onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"text-gray-400 hover:text-white",children:c.jsx($n,{size:24})})]}),c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome Prodotto"}),c.jsx("input",{type:"text",value:A.name,onChange:h=>a({...A,name:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Descrizione"}),c.jsx("textarea",{value:A.description,onChange:h=>a({...A,description:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Prezzo"}),c.jsxs("div",{className:"relative",children:[c.jsx(Sv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:A.price,onChange:h=>a({...A,price:parseFloat(h.target.value)}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"URL Immagine"}),c.jsxs("div",{className:"relative",children:[c.jsx(wd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"url",value:A.imageUrl,onChange:h=>a({...A,imageUrl:h.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:A.enabled,onChange:h=>a({...A,enabled:h.target.checked}),className:"w-4 h-4"}),c.jsx("label",{className:"text-gray-300",children:"Prodotto attivo"})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[c.jsx(Xg,{size:20}),n?"Salva Modifiche":"Crea Prodotto"]})]})]})]})})})]})},Dre=async t=>{try{console.log("Preparing email:",{to:t.to,type:t.type,data:t.data});const e=Pre(t.type,t.data);if(!e.subject||!e.html)throw new Error("Email template generation failed");console.log("Email template generated:",{subject:e.subject,htmlLength:e.html.length});const r=await a5(_z,"sendEmailFunction")({to:t.to,type:t.type,data:{...t.data,subject:e.subject,html:e.html,text:e.text}}),s=r.data.success;console.log("Email function result:",r.data);try{await Xs(an(be,"email_logs"),{to:t.to,type:t.type,data:t.data,success:s,timestamp:Vn()})}catch(i){console.error("Error logging email:",i)}return s}catch(e){console.error("Error in sendEmail:",e instanceof Error?e.message:"Unknown error");try{await Xs(an(be,"email_logs"),{to:t.to,type:t.type,data:t.data,success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Vn()})}catch(n){console.error("Error logging email failure:",n)}throw e}},Pre=(t,e)=>{try{const n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #D22B2B; text-align: center;">Carnevale Cinematografico</h1>
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
          {{content}}
        </div>
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p> ${new Date().getFullYear()} Carnevale Cinematografico. Tutti i diritti riservati.</p>
        </div>
      </div>
    `;let r="",s="",i="";switch(t){case"welcome":s="Benvenuto in Carnevale Cinematografico",r=`
          <p>Gentile ${(e==null?void 0:e.name)||"Utente"},</p>
          <p>Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.</p>
          <p>Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.</p>
        `,i=`
          Gentile ${(e==null?void 0:e.name)||"Utente"},
          
          Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.
          Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.
        `;break;case"booking":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time)||!(e!=null&&e.ticketNumber))throw new Error("Missing required booking data");s="Conferma della prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>La tua prenotazione  stata confermata con successo!</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
            <p><strong>Numero Ticket:</strong> ${e.ticketNumber}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo per il tuo servizio fotografico!</p>
        `,i=`
          Gentile ${e.name},
          
          La tua prenotazione  stata confermata con successo!
          
          Data: ${e.date}
          Orario: ${e.time}
          Numero Ticket: ${e.ticketNumber}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo per il tuo servizio fotografico!
        `;break;case"reminder":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time))throw new Error("Missing required reminder data");s="Promemoria prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>Ti ricordiamo che hai una prenotazione per domani:</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo!</p>
        `,i=`
          Gentile ${e.name},
          
          Ti ricordiamo che hai una prenotazione per domani:
          
          Data: ${e.date}
          Orario: ${e.time}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo!
        `;break;case"subscription":if(s="Informazioni abbonamento",e!=null&&e.endDate){const A=new Date(e.endDate);if(isNaN(A.getTime()))throw new Error("Invalid subscription end date");r=`
            <p>Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.</p>
            <p>Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.</p>
            <div style="text-align: center; margin-top: 20px;">
              <a href="https://carnevale-cinematografico.web.app/profile/subscription" 
                 style="background-color: #D22B2B; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                Rinnova Ora
              </a>
            </div>
          `,i=`
            Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.
            Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.
            
            Rinnova ora: https://carnevale-cinematografico.web.app/profile/subscription
          `}else r=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.",i=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.";break;case"custom":default:s="Notifica da Carnevale Cinematografico",r=`<p>${(e==null?void 0:e.message)||"Nessun messaggio"}</p>`,i=(e==null?void 0:e.message)||"Nessun messaggio";break}return{subject:s,html:n.replace("{{content}}",r),text:i.trim().replace(/\n\s+/g,`
`)}}catch(n){throw console.error("Error generating email template:",n),n}},eg=async(t,e)=>Dre({to:t,type:"subscription",data:{endDate:e.endDate,message:e.message}}),Lre=({subscription:t,onClose:e})=>{const[n,r]=F.useState(!1),[s,i]=F.useState(null),[A,a]=F.useState(null),[o,l]=F.useState(1),[u,h]=F.useState(""),[f,p]=F.useState(!1),m=async()=>{r(!0),i(null),a(null);try{const C=Dp(t.endDate,o);await qs(ct(be,"subscriptions",t.userId),{endDate:C,status:"active"}),await Xs(an(be,"subscription_history"),{userId:t.userId,email:t.email,action:"extension",months:o,previousEndDate:t.endDate,newEndDate:C,timestamp:new Date}),a(`Abbonamento esteso di ${o} ${o===1?"mese":"mesi"}`),await eg(t.email,{type:"extension",endDate:C})}catch(C){console.error("Error extending subscription:",C),i("Errore durante l'estensione dell'abbonamento")}finally{r(!1)}},y=async()=>{if(!u.trim()){i("Inserisci un messaggio per la notifica");return}r(!0),i(null),a(null);try{await eg(t.email,{type:"custom",message:u}),await Xs(an(be,"notification_history"),{userId:t.userId,email:t.email,message:u,timestamp:new Date}),a("Notifica inviata con successo"),h("")}catch(C){console.error("Error sending notification:",C),i("Errore durante l'invio della notifica")}finally{r(!1)}};return c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx($n,{size:24})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Gestione Abbonamento"}),s&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),s]}),A&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Gn,{size:20}),A]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[c.jsx(Qn,{className:"text-[--theater-gold]"}),"Estendi Abbonamento"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Durata estensione (mesi)"}),c.jsx("input",{type:"number",min:"1",max:"12",value:o,onChange:C=>l(parseInt(C.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{className:"text-sm text-gray-400",children:["Nuova data di scadenza:"," ",c.jsx("span",{className:"text-white",children:Xe(Dp(t.endDate,o),"dd MMMM yyyy",{locale:ei})})]}),c.jsxs("button",{onClick:m,disabled:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[n?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Gn,{size:20}),"Estendi Abbonamento"]})]})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[c.jsx(Fv,{className:"text-[--theater-gold]"}),"Invia Notifica"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:u,onChange:C=>h(C.target.value),placeholder:"Scrivi un messaggio...",className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white h-24 resize-none"}),c.jsxs("button",{onClick:y,disabled:n||!u.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[n?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Fv,{size:20}),"Invia Notifica"]})]})]}),c.jsxs("button",{onClick:()=>p(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[c.jsx(Vz,{size:20}),"Visualizza Storico"]})]}),c.jsx(on,{children:f&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx($n,{size:24})}),c.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Ys,{className:"text-[--theater-gold]"}),"Storico Abbonamento"]}),c.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Storico in fase di implementazione"})})]})})})]})})},Mre=({subscriptions:t})=>{const e={total:t.length,active:t.filter(n=>n.status==="active").length,expiringSoon:t.filter(n=>{const r=Math.ceil((n.endDate.getTime()-Date.now())/864e5);return n.status==="active"&&r<=7}).length,monthlyRevenue:t.filter(n=>n.status==="active"&&n.plan==="monthly").length*20+t.filter(n=>n.status==="active"&&n.plan==="yearly").length*8.333333333333334};return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:c.jsx(Sx,{className:"w-6 h-6 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Totale Abbonati"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.total})]})]})}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:c.jsx(Iu,{className:"w-6 h-6 text-green-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Abbonamenti Attivi"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.active})]})]})}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:c.jsx(Ys,{className:"w-6 h-6 text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"In Scadenza"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.expiringSoon})]})]})}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-[--theater-gold]/20 rounded-lg",children:c.jsx(Zz,{className:"w-6 h-6 text-[--theater-gold]"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Ricavi Mensili"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:["",Math.round(e.monthlyRevenue)]})]})]})})]})},Ore=({subscriptions:t})=>{const[e,n]=F.useState(!1),[r,s]=F.useState(null),i=()=>{n(!0),s(null);try{const A=["Email","Piano","Stato","Data Inizio","Data Scadenza","Prenotazioni Usate","Limite Prenotazioni"],a=t.map(f=>[f.email,f.plan,f.status,Xe(f.startDate,"dd/MM/yyyy",{locale:ei}),Xe(f.endDate,"dd/MM/yyyy",{locale:ei}),f.bookingsUsed,f.maxBookings]),o=[A.join(","),...a.map(f=>f.join(","))].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(l);u.setAttribute("href",h),u.setAttribute("download",`abbonamenti_${Xe(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(A){console.error("Error exporting subscriptions:",A),s("Errore durante l'esportazione")}finally{n(!1)}};return c.jsxs("div",{className:"mb-6",children:[r&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-4 flex items-center gap-2",children:[c.jsx(jt,{size:20}),r]}),c.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50",children:[e?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Oz,{size:20}),"Esporta Abbonamenti"]})]})},MD=()=>{const[t,e]=F.useState([]),[n,r]=F.useState(!0),[s,i]=F.useState(null),[A,a]=F.useState(""),[o,l]=F.useState("all"),[u,h]=F.useState(null);F.useEffect(()=>{const p=an(be,"subscriptions"),m=wA(p,$o("endDate","desc")),y=pl(m,C=>{const B=C.docs.map(w=>{const v=w.data();return{...v,id:w.id,startDate:v.startDate?new Date(v.startDate):new Date,endDate:v.endDate?new Date(v.endDate):new Date}});e(B),r(!1)},C=>{console.error("Error fetching subscriptions:",C),i("Errore nel caricamento degli abbonamenti"),r(!1)});return()=>y()},[]);const f=t.filter(p=>{const m=p.email.toLowerCase().includes(A.toLowerCase()),y=o==="all"||p.status===o;return m&&y});return n?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):c.jsxs("div",{className:"min-h-screen bg-gray-900 py-8",children:[c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Sx,{className:"text-[--theater-gold]"}),"Gestione Abbonamenti"]}),c.jsx("div",{className:"flex gap-4",children:c.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:c.jsx(EN,{size:20})})})]}),c.jsx(Mre,{subscriptions:t}),c.jsx(Ore,{subscriptions:t}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Yg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per email...",value:A,onChange:p=>a(p.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mp,{className:"text-gray-400"}),c.jsxs("select",{value:o,onChange:p=>l(p.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),c.jsx("option",{value:"active",children:"Attivi"}),c.jsx("option",{value:"expired",children:"Scaduti"})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Piano"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Scadenza"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Prenotazioni"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),c.jsx("tbody",{children:f.map(p=>c.jsxs($.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-4 text-white",children:p.email}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-400",children:p.plan})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${p.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:p.status==="active"?"Attivo":"Scaduto"})}),c.jsx("td",{className:"p-4 text-white",children:Xe(p.endDate,"dd MMM yyyy",{locale:ei})}),c.jsxs("td",{className:"p-4 text-white",children:[p.bookingsUsed," / ",p.maxBookings]}),c.jsx("td",{className:"p-4",children:c.jsx("button",{onClick:()=>h(p),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:c.jsx(Si,{size:18})})})]},p.id))})]})})]})}),c.jsx(on,{children:u&&c.jsx(Lre,{subscription:u,onClose:()=>h(null)})})]})},jre=async t=>{try{const e=new Date(t.booking_date);if(isNaN(e.getTime()))throw new Error("Data di prenotazione non valida");const n=e.toISOString().split("T")[0],r=await Xs(an(be,"bookings"),{...t,booking_date:n,created_at:Vn()});if(t.userId)try{const i=(await nA(ct(be,"users",t.userId))).data();if(i!=null&&i.calendarConnected){const A=new Date(`${n}T${t.booking_time}`),a=new Date(A.getTime()+60*60*1e3);await RX(t.userId,{summary:`Prenotazione Fotografica - ${t.firstName} ${t.lastName}`,description:`Prenotazione: ${t.ticket_number}
Servizio: ${t.service_type}`,startTime:A,endTime:a,location:"Via Quinto Orazio Flacco 5, Aversa"})}}catch(s){console.error("Error syncing with Google Calendar:",s)}return r.id}catch(e){throw console.error("Error creating booking:",e),e}},Vre=({selectedDate:t,selectedTime:e,onTimeSelect:n})=>{const{settings:r}=xA(),[s,i]=F.useState([]);return F.useEffect(()=>{if(!r)return;const A=[],[a,o=0]=r.startTime.split(":").map(Number),[l,u=0]=r.endTime.split(":").map(Number),h=r.bookingIntervals||30;let f=Mp(Op(t,o),a);const p=Mp(Op(t,u),l);for(;f<p;){const m=Xe(f,"HH:mm");A.push(m),f=CR(f,h)}i(A)},[t,r]),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("label",{className:"block text-gray-300",children:[c.jsx(Ys,{size:16,className:"inline-block mr-2"}),"Orari Disponibili"]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.map(A=>c.jsx("button",{type:"button",onClick:()=>n(A),className:`
              p-2 rounded text-center transition-colors
              ${e===A?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}
            `,children:A},A))})]})},Hre=Ln.object({firstName:Ln.string().min(2,"Nome richiesto"),lastName:Ln.string().min(2,"Cognome richiesto"),email:Ln.string().email("Email non valida"),phone:Ln.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service_type:Ln.string().min(1,"Seleziona un tipo di servizio"),notes:Ln.string().optional()}),Kre=({isOpen:t,onClose:e,onSuccess:n})=>{const{settings:r}=xA(),[s,i]=F.useState(null),[A,a]=F.useState(""),[o,l]=F.useState(!1),[u,h]=F.useState(null),{register:f,handleSubmit:p,formState:{errors:m},reset:y}=lR({resolver:uR(Hre)}),C=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,B=async w=>{if(!s||!A){h("Seleziona data e ora per la prenotazione");return}l(!0),h(null);try{const v={...w,booking_date:s.toISOString().split("T")[0],booking_time:A,ticket_number:C(),status:"pending"};await jre(v),y(),i(null),a(""),n&&n(),e()}catch(v){console.error("Error creating booking:",v),h("Errore durante la creazione della prenotazione")}finally{l(!1)}};return c.jsx(on,{children:t&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Qn,{className:"text-[--theater-gold]"}),"Nuova Prenotazione"]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:c.jsx($n,{size:24})})]}),u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),u]}),c.jsxs("form",{onSubmit:p(B),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),c.jsxs("div",{className:"relative",children:[c.jsx(Wo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("firstName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),m.firstName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),c.jsxs("div",{className:"relative",children:[c.jsx(Wo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("lastName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),m.lastName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("email"),type:"email",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"email@esempio.com"})]}),m.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("phone"),type:"tel",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il numero senza prefisso"})]}),m.phone&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),c.jsxs("select",{...f("service_type"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"",children:"Seleziona servizio"}),r==null?void 0:r.serviceTypes.filter(w=>w.enabled).map(w=>c.jsx("option",{value:w.id,children:w.name},w.id))]}),m.service_type&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.service_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{...f("notes"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Note aggiuntive..."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),c.jsx("input",{type:"date",value:s?s.toISOString().split("T")[0]:"",onChange:w=>i(w.target.value?new Date(w.target.value):null),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),s&&c.jsx(Vre,{selectedDate:s,selectedTime:A,onTimeSelect:a})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Creazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Gn,{size:20}),"Crea Prenotazione"]})})]})]})]})})})},OD=1024*1024,tg=4096,zre=["image/jpeg","image/png"],Ns={FILE_TOO_LARGE:`Il file  troppo grande (max ${OD/1024/1024}MB)`,INVALID_TYPE:"Formato file non valido (solo JPG e PNG sono permessi)",DIMENSIONS_TOO_LARGE:`Dimensioni immagine troppo grandi (max ${tg}x${tg}px)`,CORRUPT_FILE:"File immagine non valido o corrotto",MISSING_BOOKING_ID:"ID prenotazione mancante",MISSING_PHOTO_ID:"ID foto mancante",NETWORK_ERROR:"Errore di rete durante il caricamento",UPLOAD_FAILED:"Caricamento fallito",DELETE_FAILED:"Eliminazione fallita"},jD=async t=>t.size>OD?{valid:!1,error:Ns.FILE_TOO_LARGE}:zre.includes(t.type)?new Promise(e=>{const n=new Image,r=URL.createObjectURL(t);n.onload=()=>{URL.revokeObjectURL(r),(n.width>tg||n.height>tg)&&e({valid:!1,error:Ns.DIMENSIONS_TOO_LARGE}),e({valid:!0,width:n.width,height:n.height})},n.onerror=()=>{URL.revokeObjectURL(r),e({valid:!1,error:Ns.CORRUPT_FILE})},n.src=r}):{valid:!1,error:Ns.INVALID_TYPE},Gre=async(t,e,n,r,s)=>{var i,A;if(!t)throw new Error(Ns.MISSING_BOOKING_ID);try{const a=await jD(e);if(!a.valid)throw new Error(a.error);const o=`${Date.now()}-${e.name}`,l=pN(gN,`galleries/${t}/${o}`),u=yz(l,e,{contentType:e.type,customMetadata:{width:(i=a.width)==null?void 0:i.toString(),height:(A=a.height)==null?void 0:A.toString()}});u.on("state_changed",h=>{const f=h.bytesTransferred/h.totalBytes*100;n&&n(f)},h=>{console.error("Upload error:",h),s&&s(new Error(Ns.UPLOAD_FAILED))},async()=>{try{const h=await vz(u.snapshot.ref),f=await u.snapshot.ref.getMetadata(),p={id:o,url:h,name:o,uploadedAt:new Date(f.timeCreated),width:a.width,height:a.height,size:e.size};r&&r(p)}catch(h){console.error("Error getting download URL:",h),await fN(l),s&&s(new Error(Ns.UPLOAD_FAILED))}})}catch(a){console.error("Error uploading photo:",a),s&&s(a)}},$re=async(t,e)=>{if(!t||!e)throw new Error(Ns.MISSING_BOOKING_ID);try{const n=pN(gN,`galleries/${t}/${e}`);await fN(n)}catch(n){throw console.error("Error deleting photo:",n),new Error(Ns.DELETE_FAILED)}};function Wre(t,e){if(t==null)return{};var n=qre(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qre(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ng(){return ng=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function AU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Yre={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},a0=2;class VD extends ye.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||a0,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||a0});let r=1/0,s=n.default||a0;for(let i in n){const A=parseInt(i);A>0&&e<=A&&A<r&&(r=A,s=n[i])}s=Math.max(1,parseInt(s)||1),this.state.columnCount!==s&&this.setState({columnCount:s})}itemsInColumns(){const e=this.state.columnCount,n=new Array(e),r=ye.Children.toArray(this.props.children);for(let s=0;s<r.length;s++){const i=s%e;n[i]||(n[i]=[]),n[i].push(r[s])}return n}renderColumns(){const{column:e,columnAttrs:n={},columnClassName:r}=this.props,s=this.itemsInColumns(),i=`${100/s.length}%`;let A=r;A&&typeof A!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof A>"u"&&(A="my-masonry-grid_column"));const a=ec(ec(ec({},e),n),{},{style:ec(ec({},n.style),{},{width:i}),className:A});return s.map((o,l)=>ye.createElement("div",ng({},a,{key:l}),o))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:n,breakpointCols:r,columnClassName:s,columnAttrs:i,column:A,className:a}=e,o=Wre(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let l=a;return typeof a!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof a>"u"&&(l="my-masonry-grid")),ye.createElement("div",ng({},o,{className:l}),this.renderColumns())}}VD.defaultProps=Yre;function Jre(){return ye.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ye.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function Zre(){return ye.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},ye.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const rg=(t,e)=>{var n,r;return t===((r=(n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase)==null?void 0:r.call(n))},UC=t=>rg("DIV",t)||rg("SPAN",t),sg=t=>rg("IMG",t),aU=t=>t.complete&&t.naturalHeight!==0,Cf=t=>rg("SVG",t),HD=({height:t,offset:e,width:n})=>Math.min((window.innerWidth-e*2)/n,(window.innerHeight-e*2)/t),ese=({containerHeight:t,containerWidth:e,offset:n,targetHeight:r,targetWidth:s})=>{const i=HD({height:r,offset:n,width:s}),A=s>r?s/e:r/t;return i>1?A:i*A},ZA=({containerHeight:t,containerWidth:e,hasScalableSrc:n,offset:r,targetHeight:s,targetWidth:i})=>!t||!e?1:!n&&s&&i?ese({containerHeight:t,containerWidth:e,offset:r,targetHeight:s,targetWidth:i}):HD({height:t,offset:r,width:e}),tse=/url(?:\(['"]?)(.*?)(?:['"]?\))/,oU=t=>{var e;if(t){if(sg(t))return t.currentSrc;if(UC(t)){const n=window.getComputedStyle(t).backgroundImage;if(n)return(e=tse.exec(n))==null?void 0:e[1]}}},nse=t=>{if(t)return sg(t)?t.alt??void 0:t.getAttribute("aria-label")??void 0},rse=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:r,hasScalableSrc:s,offset:i,targetHeight:A,targetWidth:a})=>{const o=ZA({containerHeight:t,containerWidth:r,hasScalableSrc:s,offset:i,targetHeight:A,targetWidth:a});return{top:n,left:e,width:r*o,height:t*o,transform:`translate(0,0) scale(${1/o})`}},pr=({position:t,relativeNum:e})=>{const n=parseFloat(t);return t.endsWith("%")?e*n/100:n},sse=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:r,hasScalableSrc:s,objectFit:i,objectPosition:A,offset:a,targetHeight:o,targetWidth:l})=>{if(i==="scale-down"&&(l<=r&&o<=t?i="none":i="contain"),i==="cover"||i==="contain"){const u=r/l,h=t/o,f=i==="cover"?Math.max(u,h):Math.min(u,h),[p="50%",m="50%"]=A.split(" "),y=pr({position:p,relativeNum:r-l*f}),C=pr({position:m,relativeNum:t-o*f}),B=ZA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{top:n+C,left:e+y,width:l*f*B,height:o*f*B,transform:`translate(0,0) scale(${1/B})`}}else if(i==="none"){const[u="50%",h="50%"]=A.split(" "),f=pr({position:u,relativeNum:r-l}),p=pr({position:h,relativeNum:t-o}),m=ZA({containerHeight:o,containerWidth:l,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{top:n+p,left:e+f,width:l*m,height:o*m,transform:`translate(0,0) scale(${1/m})`}}else if(i==="fill"){const u=r/l,h=t/o,f=Math.max(u,h),p=ZA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{width:r*p,height:t*p,transform:`translate(0,0) scale(${1/p})`}}else return{}},ise=({backgroundPosition:t,backgroundSize:e,containerHeight:n,containerLeft:r,containerTop:s,containerWidth:i,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l})=>{if(e==="cover"||e==="contain"){const u=i/l,h=n/o,f=e==="cover"?Math.max(u,h):Math.min(u,h),[p="50%",m="50%"]=t.split(" "),y=pr({position:p,relativeNum:i-l*f}),C=pr({position:m,relativeNum:n-o*f}),B=ZA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+C,left:r+y,width:l*f*B,height:o*f*B,transform:`translate(0,0) scale(${1/B})`}}else if(e==="auto"){const[u="50%",h="50%"]=t.split(" "),f=pr({position:u,relativeNum:i-l}),p=pr({position:h,relativeNum:n-o}),m=ZA({containerHeight:o,containerWidth:l,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+p,left:r+f,width:l*m,height:o*m,transform:`translate(0,0) scale(${1/m})`}}else{const[u="50%",h="50%"]=e.split(" "),f=pr({position:u,relativeNum:i}),p=pr({position:h,relativeNum:n}),m=f/l,y=p/o,C=Math.min(m,y),[B="50%",w="50%"]=t.split(" "),v=pr({position:B,relativeNum:i-l*C}),I=pr({position:w,relativeNum:n-o*C}),Q=ZA({containerHeight:o*C,containerWidth:l*C,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+I,left:r+v,width:l*C*Q,height:o*C*Q,transform:`translate(0,0) scale(${1/Q})`}}},Ase=/\.svg$/i,ase=({hasZoomImg:t,imgSrc:e,isSvg:n,isZoomed:r,loadedImgEl:s,offset:i,shouldRefresh:A,targetEl:a})=>{var B;const o=n||((B=e==null?void 0:e.slice)==null?void 0:B.call(e,0,18))==="data:image/svg+xml"||t||!!(e&&Ase.test(e)),l=a.getBoundingClientRect(),u=window.getComputedStyle(a),h=s!=null&&UC(a),f=s!=null&&!h,p=rse({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}),m=f?sse({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,objectFit:u.objectFit,objectPosition:u.objectPosition,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}):void 0,y=h?ise({backgroundPosition:u.backgroundPosition,backgroundSize:u.backgroundSize,containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}):void 0,C=Object.assign({},p,m,y);if(r){const w=window.innerWidth/2,v=window.innerHeight/2,I=parseFloat(String(C.left||0))+parseFloat(String(C.width||0))/2,Q=parseFloat(String(C.top||0))+parseFloat(String(C.height||0))/2,k=w-I,T=v-Q;A&&(C.transitionDuration="0.01ms"),C.transform=`translate(${k}px,${T}px) scale(1)`}return C},o0=t=>{if(!t)return{};if(Cf(t)){const e=t.parentElement,n=t.getBoundingClientRect();if(e){const r=e.getBoundingClientRect();return{height:n.height,left:r.left-n.left,top:r.top-n.top,width:n.width}}else return{height:n.height,left:n.left,width:n.width,top:n.top}}else return{height:t.offsetHeight,left:t.offsetLeft,width:t.offsetWidth,top:t.offsetTop}},ose=t=>{const e="-zoom",n=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],r=new Map;if(t.hasAttribute("id")){const s=t.id,i=s+e;r.set(s,i),t.id=i}t.querySelectorAll("[id]").forEach(s=>{const i=s.id,A=i+e;r.set(i,A),s.id=A}),r.forEach((s,i)=>{const A=`url(#${i})`,a=`url(#${s})`,o=n.map(l=>`[${l}="${A}"]`).join(", ");t.querySelectorAll(o).forEach(l=>{n.forEach(u=>{l.getAttribute(u)===A&&l.setAttribute(u,a)})})}),t.querySelectorAll("style").forEach(s=>{r.forEach((i,A)=>{s.textContent&&(s.textContent=s.textContent.replaceAll(`#${A}`,`#${i}`))})})},lse=["img","svg",'[role="img"]',"[data-zoom]"].map(t=>`${t}:not([aria-hidden="true"])`).join(","),lU={overflow:"",width:""};function cse(t){return ye.createElement(KD,{...t})}class KD extends ye.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=ye.createRef(),this.refDialog=ye.createRef(),this.refModalContent=ye.createRef(),this.refModalImg=ye.createRef(),this.refWrap=ye.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=lU,this.styleModalImg={},this.handleModalStateChange=e=>{var r,s,i,A;const{modalState:n}=this.state;e!=="LOADING"&&n==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):e!=="LOADED"&&n==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):e!=="UNLOADING"&&n==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):e!=="UNLOADED"&&n==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(s=(r=this.refModalImg.current)==null?void 0:r.removeEventListener)==null||s.call(r,"transitionend",this.handleImgTransitionEnd),(A=(i=this.refDialog.current)==null?void 0:i.close)==null||A.call(i))},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return e==null&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{var n,r;const e=this.refContent.current;e&&(this.imgEl=e.querySelector(lse),this.imgEl?((r=(n=this.contentNotFoundChangeObserver)==null?void 0:n.disconnect)==null||r.call(n),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(s=>{const i=s[0];i!=null&&i.target&&(this.imgEl=i.target,this.setState({styleGhost:o0(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:o0(this.imgEl)})}),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:n}=this.props;!e&&n?this.zoom():e&&!n&&this.unzoom()},this.handleImgLoad=()=>{const e=oU(this.imgEl);if(!e)return;const n=new Image;sg(this.imgEl)&&(n.sizes=this.imgEl.sizes,n.srcset=this.imgEl.srcset),n.src=e;const r=()=>{this.setState({loadedImgEl:n,styleGhost:o0(this.imgEl)})};n.decode().then(r).catch(()=>{if(aU(n)){r();return}n.onload=r})},this.handleZoom=()=>{var e,n;this.hasImage()&&((n=(e=this.props).onZoomChange)==null||n.call(e,!0))},this.handleUnzoom=()=>{var e,n;(n=(e=this.props).onZoomChange)==null||n.call(e,!1)},this.handleBtnUnzoomClick=e=>{e.preventDefault(),e.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{(e.target===this.refModalContent.current||e.target===this.refModalImg.current)&&(e.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=e=>{e.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=e=>{(e.key==="Escape"||e.keyCode===27)&&(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{if(e.touches.length>1){this.isScaling=!0;return}e.changedTouches.length===1&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{var r;const n=((r=window.visualViewport)==null?void 0:r.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&n<=1&&this.touchYStart!=null&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const s=Math.max(this.touchYStart,this.touchYEnd),i=Math.min(this.touchYStart,this.touchYEnd);Math.abs(s-i)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||Cf(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var e,n,r,s;this.bodyScrollDisable(),(n=(e=this.refDialog.current)==null?void 0:e.showModal)==null||n.call(e),(s=(r=this.refModalImg.current)==null?void 0:r.addEventListener)==null||s.call(r,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,n=parseFloat(e);if(n){const r=n*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,r)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=lU},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,n=e==null?void 0:e.src;if(n){const r=new Image;r.sizes=(e==null?void 0:e.sizes)??"",r.srcset=(e==null?void 0:e.srcSet)??"",r.src=n;const s=()=>{this.setState({isZoomImgLoaded:!0})};r.decode().then(s).catch(()=>{if(aU(r)){s();return}r.onload=s})}},this.UNSAFE_handleSvg=()=>{var s,i,A,a,o;const{imgEl:e,refModalImg:n,styleModalImg:r}=this;if(Cf(e)){const l=e.cloneNode(!0);ose(l),l.style.width=`${r.width||0}px`,l.style.height=`${r.height||0}px`,l.addEventListener("click",this.handleUnzoom),(A=(i=(s=n.current)==null?void 0:s.firstChild)==null?void 0:i.remove)==null||A.call(i),(o=(a=n.current)==null?void 0:a.appendChild)==null||o.call(a,l)}}}render(){const{handleBtnUnzoomClick:e,handleDialogCancel:n,handleDialogClick:r,handleDialogClose:s,handleUnzoom:i,handleZoom:A,imgEl:a,props:{a11yNameButtonUnzoom:o,a11yNameButtonZoom:l,children:u,classDialog:h,IconUnzoom:f,IconZoom:p,isZoomed:m,wrapElement:y,ZoomContent:C,zoomImg:B,zoomMargin:w},refContent:v,refDialog:I,refModalContent:Q,refModalImg:k,refWrap:T,state:{id:E,isZoomImgLoaded:b,loadedImgEl:_,modalState:R,shouldRefresh:N,styleGhost:S}}=this,Y=`rmiz-modal-${E}`,Ae=`rmiz-modal-img-${E}`,V=UC(a),q=sg(a),M=Cf(a),K=nse(a),J=oU(a),ee=q?a.sizes:void 0,fe=q?a.srcset:void 0,me=!!(B!=null&&B.src),Re=this.hasImage(),Ge=K?`${l}: ${K}`:l,Je=R==="LOADING"||R==="LOADED",ut=Re?"found":"not-found",ms=R==="UNLOADED"||R==="UNLOADING"?"hidden":"visible",ii={visibility:R==="UNLOADED"?"visible":"hidden"};this.styleModalImg=Re?ase({hasZoomImg:me,imgSrc:J,isSvg:M,isZoomed:m&&Je,loadedImgEl:_,offset:w,shouldRefresh:N,targetEl:a}):{};let br=null;if(Re){const cr=q||V?ye.createElement("img",{alt:K,sizes:ee,src:J,srcSet:fe,...b&&R==="LOADED"?B:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:Ae,ref:k,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):M?ye.createElement("div",{"data-rmiz-modal-img":!0,ref:k,style:this.styleModalImg}):null,Ai=ye.createElement("button",{"aria-label":o,"data-rmiz-btn-unzoom":"",onClick:e,type:"button"},ye.createElement(f,null));br=C?ye.createElement(C,{buttonUnzoom:Ai,modalState:R,img:cr,onUnzoom:i}):ye.createElement(ye.Fragment,null,cr,Ai)}return ye.createElement(y,{"aria-owns":Y,"data-rmiz":"",ref:T},ye.createElement(y,{"data-rmiz-content":ut,ref:v,style:ii},u),Re&&ye.createElement(y,{"data-rmiz-ghost":"",style:S},ye.createElement("button",{"aria-label":Ge,"data-rmiz-btn-zoom":"",onClick:A,type:"button"},ye.createElement(p,null))),Re&&$L.createPortal(ye.createElement("dialog",{"aria-labelledby":Ae,"aria-modal":"true",className:h,"data-rmiz-modal":"",id:Y,onClick:r,onClose:s,onCancel:n,ref:I,role:"dialog"},ye.createElement("div",{"data-rmiz-modal-overlay":ms}),ye.createElement("div",{"data-rmiz-modal-content":"",ref:Q},br)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var e,n,r,s,i,A,a,o,l,u,h,f;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(n=(e=this.contentChangeObserver)==null?void 0:e.disconnect)==null||n.call(e),(s=(r=this.contentNotFoundChangeObserver)==null?void 0:r.disconnect)==null||s.call(r),(A=(i=this.imgElResizeObserver)==null?void 0:i.disconnect)==null||A.call(i),(o=(a=this.imgEl)==null?void 0:a.removeEventListener)==null||o.call(a,"load",this.handleImgLoad),(u=(l=this.imgEl)==null?void 0:l.removeEventListener)==null||u.call(l,"click",this.handleZoom),(f=(h=this.refModalImg.current)==null?void 0:h.removeEventListener)==null||f.call(h,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,n){this.handleModalStateChange(n.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}KD.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:Jre,IconZoom:Zre,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function use(t){const[e,n]=ye.useState(!1);return ye.createElement(cse,{...t,isZoomed:e,onZoomChange:n})}const dse=({bookingId:t,isOpen:e,onClose:n})=>{const[r,s]=F.useState([]),[i,A]=F.useState(!1),[a,o]=F.useState(0),[l,u]=F.useState(null),[h,f]=F.useState(null),[p,m]=F.useState(0),y=3,C=async v=>{const I=Array.from(v.target.files||[]);if(I.length!==0){A(!0),u(null),f(null);try{for(const Q of I){const k=await jD(Q);if(!k.valid)throw new Error(k.error);let T=0,E=!1;for(;T<y&&!E;)try{await Gre(t,Q,b=>o(b),b=>{s(_=>[..._,b]),f("Foto caricata con successo"),E=!0},b=>{if(T<y-1)T++,m(T);else throw b})}catch(b){if(T===y-1)throw b;await new Promise(_=>setTimeout(_,1e3*(T+1)))}}}catch(Q){console.error("Error uploading photos:",Q),u(Q instanceof Error?Q.message:"Errore durante il caricamento")}finally{A(!1),o(0),m(0),v.target.value=""}}},B=async v=>{if(window.confirm("Sei sicuro di voler eliminare questa foto? Questa azione non pu essere annullata."))try{await $re(t,v),s(I=>I.filter(Q=>Q.id!==v)),f("Foto eliminata con successo")}catch(I){console.error("Error deleting photo:",I),u("Errore durante l'eliminazione della foto")}},w={default:4,1100:3,700:2,500:1};return c.jsx(on,{children:e&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-900 rounded-xl p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4 mb-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(wd,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx($n,{size:24})})]}),l&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),l,p>0&&` (Tentativo ${p}/${y})`]}),h&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Gn,{size:20}),h]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("input",{type:"file",multiple:!0,accept:"image/jpeg,image/png",onChange:C,className:"hidden",id:"photo-upload",disabled:i}),c.jsx("label",{htmlFor:"photo-upload",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors cursor-pointer disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-black border-t-transparent animate-spin"}),"Caricamento... ",Math.round(a),"%"]}):c.jsxs(c.Fragment,{children:[c.jsx(n9,{size:20}),"Carica Foto"]})})]}),c.jsx(VD,{breakpointCols:w,className:"flex -ml-4 w-auto",columnClassName:"pl-4 bg-clip-padding",children:r.map(v=>c.jsxs("div",{className:"mb-4 relative group",children:[c.jsx(use,{children:c.jsx("img",{src:v.url,alt:v.name,className:"w-full rounded-lg",loading:"lazy"})}),c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:c.jsx("button",{onClick:()=>B(v.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",children:c.jsx(sA,{size:20})})})]},v.id))})]})})})},hse=()=>{const[t,e]=F.useState(""),[n,r]=F.useState([]),[s,i]=F.useState([]),[A,a]=F.useState(!1),[o,l]=F.useState(null),[u,h]=F.useState(null),[f,p]=F.useState(!1);F.useEffect(()=>{(async()=>{a(!0),l(null);try{const C=an(be,"bookings"),B=wA(C,$o("booking_date","desc"),$o("booking_time","desc")),v=(await zg(B)).docs.map(I=>({id:I.id,...I.data()}));r(v),i(v)}catch(C){console.error("Error loading bookings:",C),l("Errore durante il caricamento delle prenotazioni")}finally{a(!1)}})()},[]),F.useEffect(()=>{const y=n.filter(C=>C.ticket_number.toLowerCase().includes(t.toLowerCase())||C.firstName.toLowerCase().includes(t.toLowerCase())||C.lastName.toLowerCase().includes(t.toLowerCase())||C.email.toLowerCase().includes(t.toLowerCase())||C.phone.includes(t));i(y)},[t,n]);const m=y=>{h(y),p(!0)};return c.jsx("div",{className:"space-y-6",children:f?c.jsx(dse,{bookingId:u==null?void 0:u.id,isOpen:!0,onClose:()=>{p(!1),h(null),e("")}}):c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(wd,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),o&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),o]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Yg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Cerca per nome, email, telefono o ticket...",className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsx("div",{className:"space-y-4",children:A?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Caricamento prenotazioni..."}):s.length===0?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessuna prenotazione trovata"}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(y=>c.jsx($.button,{onClick:()=>m(y),className:"bg-gray-700 p-4 rounded-lg text-left hover:bg-gray-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wo,{size:16,className:"text-[--theater-gold]"}),c.jsxs("span",{className:"text-white font-medium",children:[y.firstName," ",y.lastName]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[c.jsx(Qn,{size:14}),c.jsxs("span",{children:[Xe(new Date(y.booking_date),"d MMMM yyyy",{locale:ei})," ",y.booking_time]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[c.jsx(ml,{size:14}),c.jsx("span",{children:y.phone})]})]}),c.jsxs("span",{className:"px-2 py-1 bg-[--theater-gold]/10 text-[--theater-gold] rounded text-sm",children:["#",y.ticket_number]})]})},y.id))})})]})]})})},fse=()=>{const[t,e]=F.useState("bookings"),[n,r]=F.useState(!1),[s,i]=F.useState(!1),[A,a]=F.useState([]),[o,l]=F.useState(""),[u,h]=F.useState("all"),[f,p]=F.useState("all"),[m,y]=F.useState(!0),[C,B]=F.useState(null),[w,v]=F.useState(!1),{settings:I}=xA(),{statuses:Q,getStatusColor:k}=vd(),{user:T}=si();F.useEffect(()=>{if(T)try{const _=wA(an(be,"bookings"),$o("booking_date","asc"),$o("booking_time","asc")),R=pl(_,N=>{const S=N.docs.map(Y=>({id:Y.id,...Y.data()}));a(S),y(!1),B(null)},N=>{console.error("Error fetching bookings:",N),B("Errore nel caricamento delle prenotazioni. Verifica di avere i permessi necessari."),y(!1)});return()=>R()}catch(_){console.error("Error setting up bookings listener:",_),B("Errore nella configurazione del listener delle prenotazioni"),y(!1)}},[T]);const E=_=>{if(!(I!=null&&I.serviceTypes))return _;const R=I.serviceTypes.find(N=>N.id===_);return(R==null?void 0:R.name)||_},b=A.filter(_=>{var Y,Ae,V;const R=(_.firstName+" "+_.lastName).toLowerCase().includes(o.toLowerCase())||((Y=_.email)==null?void 0:Y.toLowerCase().includes(o.toLowerCase()))||((Ae=_.phone)==null?void 0:Ae.includes(o))||((V=_.ticket_number)==null?void 0:V.toLowerCase().includes(o.toLowerCase())),N=u==="all"||_.status===u,S=f==="all"||_.service_type===f;return R&&N&&S});return m?c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):C?c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:C}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"lg:hidden flex items-center justify-between bg-gray-800 p-4 sticky top-0 z-30",children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),c.jsx("button",{onClick:()=>v(!w),className:"p-2 text-gray-400 hover:text-white",children:w?c.jsx($n,{size:24}):c.jsx(BN,{size:24})})]}),c.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>e("bookings"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(Qn,{size:20}),"Prenotazioni"]}),c.jsxs("button",{onClick:()=>e("products"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(Wz,{size:20}),"Prodotti"]}),c.jsxs("button",{onClick:()=>e("gallery"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(wd,{size:20}),"Gallerie"]})]}),c.jsx("div",{className:"flex gap-4",children:t==="bookings"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(rA,{size:20}),"Nuova Prenotazione"]}),c.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[c.jsx(Ds,{size:20}),"Impostazioni"]})]})})]}),t==="products"&&c.jsx(Rre,{}),t==="subscriptions"&&c.jsx(MD,{}),t==="gallery"&&c.jsx(hse,{}),t==="bookings"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl text-white text-center mb-8 font-marquee",children:"Gestione Prenotazioni"}),n&&I&&c.jsx(kre,{settings:I,onSave:Vp,onClose:()=>r(!1)}),c.jsx(ure,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(I==null?void 0:I.serviceTypes)||[],onSearchChange:l,onStatusFilterChange:h,onServiceFilterChange:p}),c.jsx(Bre,{bookings:b,serviceTypes:(I==null?void 0:I.serviceTypes)||[],bookingStatuses:Q,getServiceLabel:E,getStatusColor:k}),c.jsx(Kre,{isOpen:s,onClose:()=>i(!1),onSuccess:()=>{i(!1)}})]})]})},pse=[{icon:Wo,label:"Profilo",path:"/profile"},{icon:oo,label:"Sicurezza",path:"/profile/security"}],zD=()=>{const t=gA(),e=ol();return c.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:c.jsx("nav",{children:c.jsx("ul",{className:"space-y-2",children:pse.map(n=>c.jsx("li",{children:c.jsxs($.button,{whileHover:{x:4},onClick:()=>e(n.path),className:`w-full flex items-center gap-3 px-4 py-2 rounded transition-colors ${t.pathname===n.path?"bg-[--theater-gold] text-black":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[c.jsx(n.icon,{size:18}),n.label]})},n.path))})})})}),c.jsx("div",{className:"md:col-span-3",children:c.jsx(NS,{})})]})})})},GD=()=>{const{user:t}=si(),[e,n]=F.useState(!1),[r,s]=F.useState(null),[i,A]=F.useState(!1),[a,o]=F.useState({displayName:(t==null?void 0:t.displayName)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",customUrl:""}),l=async u=>{if(u.preventDefault(),!!t){n(!0),s(null),A(!1);try{await IV(t,{displayName:a.displayName}),A(!0)}catch(h){console.error("Error updating profile:",h),s("Errore durante l'aggiornamento del profilo")}finally{n(!1)}}};return c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Wo,{className:"text-[--theater-gold]"}),"Profilo"]}),r&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),r]}),i&&c.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6",children:"Profilo aggiornato con successo!"}),c.jsxs("form",{onSubmit:l,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Email"}),c.jsxs("div",{className:"flex items-center gap-2 text-white bg-gray-700 p-3 rounded",children:[c.jsx(xa,{className:"text-[--theater-gold]",size:20}),t==null?void 0:t.email]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(ml,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",value:a.phoneNumber,onChange:u=>o({...a,phoneNumber:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il tuo numero"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Nome Azienda"}),c.jsxs("div",{className:"relative",children:[c.jsx(Dz,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:a.displayName,onChange:u=>o({...a,displayName:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome della tua azienda"})]})]})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Personalizzazione Pagina Prenotazioni"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"Personalizza l'URL della tua pagina di prenotazioni."}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("input",{type:"text",value:a.customUrl,onChange:u=>o({...a,customUrl:u.target.value}),className:"flex-1 p-3 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"URL personalizzato (es: /booking/your-business)"})})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[e?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Xg,{size:20}),"Salva Modifiche"]})})]})]})})},gse=()=>{const{subscription:t}=si();if(!t)return c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 rounded-lg p-6 flex items-start gap-4",children:[c.jsx(jt,{className:"w-6 h-6 text-red-500 mt-1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-red-500",children:"Nessun abbonamento attivo"}),c.jsx("p",{className:"text-gray-400 mt-1",children:"Per utilizzare tutte le funzionalit, attiva un abbonamento."})]})]});const e=t.status==="active",n=new Date(t.endDate),r=Pp(n)?ER(n,new Date):0;return c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{className:`rounded-lg p-6 flex items-start gap-4 ${e?"bg-green-500/10 border border-green-500":"bg-red-500/10 border border-red-500"}`,children:[e?c.jsx(Pz,{className:"w-6 h-6 text-green-500 mt-1"}):c.jsx(r9,{className:"w-6 h-6 text-red-500 mt-1"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h3",{className:"text-lg font-medium text-white",children:["Piano ",t.plan==="monthly"?"Mensile":"Annuale"]}),c.jsx("span",{className:`px-2 py-0.5 rounded text-sm ${e?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e?"Attivo":"Scaduto"})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[Pp(n)&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(Qn,{className:"w-4 h-4"}),c.jsxs("span",{children:["Scade il ",Xe(n,"d MMMM yyyy",{locale:ei}),e&&r>0&&` (${r} giorni rimanenti)`]})]}),t.paypalSubscriptionId&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(Iu,{className:"w-4 h-4"}),c.jsx("span",{children:"Rinnovo automatico attivo"})]})]})]})]}),t.plan==="trial"&&c.jsxs("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-6",children:[c.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Piano di prova"}),c.jsxs("p",{className:"text-gray-400",children:["Stai utilizzando il piano di prova gratuito. Hai ancora ",t.maxBookings-t.bookingsUsed," prenotazioni disponibili."]})]}),!e&&c.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Rinnova Abbonamento"})]})},mse=()=>c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Iu,{className:"text-[--theater-gold]"}),"Abbonamento"]}),c.jsx(gse,{})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Storico Fatturazione"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Data"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Importo"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Fattura"})]})}),c.jsx("tbody",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("td",{className:"py-3 text-white",children:"01/01/2024"}),c.jsx("td",{className:"py-3 text-white",children:"20.00"}),c.jsx("td",{className:"py-3",children:c.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Pagato"})}),c.jsx("td",{className:"py-3",children:c.jsx("button",{className:"text-[--theater-gold] hover:underline",children:"Scarica PDF"})})]})})]})})]})]}),yse=()=>{var m,y,C;const[t,e]=F.useState(""),[n,r]=F.useState(""),[s,i]=F.useState(""),[A,a]=F.useState(!1),[o,l]=F.useState(null),[u,h]=F.useState(!1),f=async B=>{if(B.preventDefault(),!!mn.currentUser){if(n!==s){l("Le password non coincidono");return}a(!0),l(null),h(!1);try{await UV(mn.currentUser,n),h(!0),e(""),r(""),i("")}catch(w){console.error("Error updating password:",w),l("Errore durante l'aggiornamento della password")}finally{a(!1)}}},p=async()=>{if(mn.currentUser){a(!0),l(null),h(!1);try{await bV(mn.currentUser),h(!0)}catch(B){console.error("Error sending verification email:",B),l("Errore durante l'invio dell'email di verifica")}finally{a(!1)}}};return c.jsxs("div",{className:"space-y-6",children:[o&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(jt,{size:20}),o]}),u&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Gn,{size:20}),(m=mn.currentUser)!=null&&m.emailVerified?"Password aggiornata con successo!":"Email di verifica inviata con successo!"]}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Password Attuale"}),c.jsxs("div",{className:"relative",children:[c.jsx(oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:t,onChange:B=>e(B.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuova Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:n,onChange:B=>r(B.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Conferma Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(oo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:s,onChange:B=>i(B.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),c.jsx("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:A?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Aggiornamento in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(oo,{size:20}),"Aggiorna Password"]})})]}),c.jsx("div",{className:"border-t border-gray-700 pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Verifica Email"}),c.jsx("p",{className:"text-gray-400",children:(y=mn.currentUser)!=null&&y.emailVerified?"La tua email  verificata":"Verifica la tua email per accedere a tutte le funzionalit"})]}),!((C=mn.currentUser)!=null&&C.emailVerified)&&c.jsxs("button",{onClick:p,disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[A?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(xa,{size:20}),"Invia Verifica"]})]})})]})},$D=()=>c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Yz,{className:"text-[--theater-gold]"}),"Sicurezza"]}),c.jsx(yse,{})]})}),vse=async(t,e)=>{try{const n=ct(be,"notification_settings",t);return await Gg(n,{settings:e.reduce((r,s)=>({...r,[s.id]:{enabled:s.enabled,template:s.template}}),{}),updatedAt:new Date}),await Xs(an(be,"notification_logs"),{userId:t,type:"settings_update",timestamp:new Date,details:{settings:e}}),!0}catch(n){throw console.error("Error saving notification settings:",n),n}},wse=async t=>{try{const e=ct(be,"notification_settings",t),n=await nA(e);return n.exists()?n.data():{settings:{subscription_expiring:{enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},subscription_expired:{enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},subscription_renewed:{enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}}}}catch(e){throw console.error("Error getting notification settings:",e),e}},Bse=[{id:"subscription_expiring",enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},{id:"subscription_expired",enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},{id:"subscription_renewed",enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}],xse=()=>{const{user:t}=si(),[e,n]=F.useState(Bse),[r,s]=F.useState(null),[i,A]=F.useState(!1),[a,o]=F.useState(null),[l,u]=F.useState(!1);F.useEffect(()=>{(async()=>{if(t)try{const p=await wse(t.uid);if(p){const m=Object.entries(p.settings).map(([y,C])=>({id:y,...C}));n(m)}}catch(p){console.error("Error loading notification settings:",p),o("Errore nel caricamento delle preferenze di notifica")}})()},[t]);const h=async()=>{if(!t){o("Utente non autenticato");return}A(!0),o(null),u(!1);try{await vse(t.uid,e),e.some(f=>f.enabled)?await eg(t.email,{type:"custom",message:"Questa  una notifica di test. Le tue preferenze di notifica sono state aggiornate con successo!"})?u(!0):o("Le preferenze sono state salvate ma non  stato possibile inviare la notifica di test"):u(!0),s(null)}catch(f){console.error("Error saving notification settings:",f),o("Errore durante il salvataggio delle preferenze")}finally{A(!1)}};return c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Fv,{className:"text-[--theater-gold]"}),"Notifiche"]}),a&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(jt,{size:20}),a]}),l&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Gn,{size:20}),"Preferenze salvate con successo"]}),c.jsx("div",{className:"space-y-6",children:e.map(f=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:f.enabled,onChange:p=>{const m=e.map(y=>y.id===f.id?{...y,enabled:p.target.checked}:y);n(m)},className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[--theater-gold]"})]}),c.jsxs("h3",{className:"text-lg font-medium text-white",children:[f.id==="subscription_expiring"&&"Abbonamento in Scadenza",f.id==="subscription_expired"&&"Abbonamento Scaduto",f.id==="subscription_renewed"&&"Abbonamento Rinnovato"]})]}),c.jsx("button",{onClick:()=>s(r===f.id?null:f.id),className:"text-[--theater-gold] hover:text-yellow-500 transition-colors",children:r===f.id?"Chiudi":"Personalizza"})]}),r===f.id&&c.jsxs("div",{className:"space-y-4 mt-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Oggetto Email"}),c.jsx("input",{type:"text",value:f.template.subject,onChange:p=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,subject:p.target.value}}:y);n(m)},className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Testo Email"}),c.jsx("textarea",{value:f.template.body,onChange:p=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,body:p.target.value}}:y);n(m)},rows:4,className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{className:"text-sm text-gray-400",children:[c.jsx("p",{children:"Variabili disponibili:"}),c.jsxs("ul",{className:"list-disc list-inside mt-1",children:[f.id==="subscription_expiring"&&c.jsxs("li",{children:["{days_left}"," - Giorni rimanenti alla scadenza"]}),f.id==="subscription_renewed"&&c.jsxs("li",{children:["{expiry_date}"," - Data di scadenza del nuovo abbonamento"]})]})]})]})]},f.id))}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:h,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Xg,{size:20}),"Salva Preferenze"]})})})]})})},Cse=async(t,e,n,r)=>{var s;try{const i=new Date,A=new Date(i);A.setMonth(A.getMonth()+(e==="yearly"?12:1));const a=ct(be,"subscriptions",t),o=ct(be,"users",t),u=(s=(await nA(o)).data())==null?void 0:s.email;await Gg(a,{userId:t,plan:e,status:"active",startDate:i,endDate:A,maxBookings:e==="yearly"?1e3:100,bookingsUsed:0,...n==="stripe"&&{stripeSubscriptionId:r},...n==="paypal"&&{paypalSubscriptionId:r},updatedAt:Vn()},{merge:!0}),await qs(o,{"subscription.status":"active","subscription.plan":e,"subscription.endDate":A,updatedAt:Vn()}),u&&await eg(u,{type:"extension",endDate:A})}catch(i){throw console.error("Error activating subscription:",i),i}},Ese=()=>{const[t,e]=F.useState([]),[n,r]=F.useState(!0),[s,i]=F.useState(null),[A,a]=F.useState(""),[o,l]=F.useState("all"),[u,h]=F.useState("all"),[f,p]=F.useState(null),[m,y]=F.useState(!1);F.useEffect(()=>{const v=an(be,"users"),I=wA(v,$o("createdAt","desc")),Q=pl(I,k=>{const T=k.docs.map(E=>{var b,_,R,N;return{id:E.id,...E.data(),createdAt:(b=E.data().createdAt)==null?void 0:b.toDate(),updatedAt:(_=E.data().updatedAt)==null?void 0:_.toDate(),lastLoginAt:(R=E.data().lastLoginAt)==null?void 0:R.toDate(),subscription:E.data().subscription?{...E.data().subscription,endDate:(N=E.data().subscription.endDate)==null?void 0:N.toDate()}:void 0}});e(T),r(!1)},k=>{console.error("Error fetching users:",k),i("Errore nel caricamento degli utenti"),r(!1)});return()=>Q()},[]);const C=async(v,I)=>{y(!0),i(null);try{await Cse(v,"monthly","admin_activation"),await qs(ct(be,"users",v),{subscription:{status:"active",plan:"monthly",endDate:new Date(Date.now()+30*24*60*60*1e3)},updatedAt:new Date})}catch(Q){console.error("Error activating subscription:",Q),i("Errore durante l'attivazione dell'abbonamento")}finally{y(!1)}},B=async(v,I)=>{try{await qs(ct(be,"users",v),{status:I,updatedAt:new Date})}catch(Q){console.error("Error updating user status:",Q),i("Errore durante l'aggiornamento dello stato utente")}},w=t.filter(v=>{var T;const I=v.email.toLowerCase().includes(A.toLowerCase())||((T=v.displayName)==null?void 0:T.toLowerCase().includes(A.toLowerCase())),Q=o==="all"||v.role===o,k=u==="all"||v.status===u;return I&&Q&&k});return n?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):c.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Sx,{className:"text-[--theater-gold]"}),"Gestione Utenti"]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:c.jsx(EN,{size:20})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Yg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per email o nome...",value:A,onChange:v=>a(v.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mp,{className:"text-gray-400"}),c.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti i ruoli"}),c.jsx("option",{value:"user",children:"Utenti"}),c.jsx("option",{value:"admin",children:"Admin"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mp,{className:"text-gray-400"}),c.jsxs("select",{value:u,onChange:v=>h(v.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),c.jsx("option",{value:"active",children:"Attivi"}),c.jsx("option",{value:"suspended",children:"Sospesi"}),c.jsx("option",{value:"pending",children:"In attesa"})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Nome"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ruolo"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Abbonamento"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ultimo Accesso"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),c.jsx("tbody",{children:w.map(v=>{var I;return c.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-4 text-white",children:v.email}),c.jsx("td",{className:"p-4 text-white",children:v.displayName||"-"}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${v.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:v.role==="admin"?"Admin":"Utente"})}),c.jsx("td",{className:"p-4",children:c.jsxs("select",{value:v.status,onChange:Q=>B(v.id,Q.target.value),className:`px-3 py-1 rounded text-sm ${v.status==="active"?"bg-green-500/20 text-green-400":v.status==="suspended"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[c.jsx("option",{value:"active",children:"Attivo"}),c.jsx("option",{value:"suspended",children:"Sospeso"}),c.jsx("option",{value:"pending",children:"In attesa"})]})}),c.jsx("td",{className:"p-4",children:v.subscription?c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${v.subscription.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:v.subscription.status==="active"?`${v.subscription.plan} (attivo)`:"Scaduto"}):c.jsxs("button",{onClick:()=>C(v.id,v.email),disabled:m,className:"flex items-center gap-2 px-3 py-1 bg-[--theater-gold] text-black rounded-full text-sm hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[m?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(yb,{size:14}),"Attiva"]})}),c.jsx("td",{className:"p-4 text-gray-400",children:((I=v.lastLoginAt)==null?void 0:I.toLocaleDateString())||"Mai"}),c.jsx("td",{className:"p-4",children:c.jsx("button",{onClick:()=>p(v),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:c.jsx(yb,{size:18})})})]},v.id)})})]})})]})})})},_se=()=>{const{user:t,isAdmin:e}=si(),n=ol();if(!t)return c.jsx(Co,{to:"/login",replace:!0});if(!e)return c.jsx(Co,{to:"/",replace:!0});const r=async()=>{try{await mn.signOut(),n("/")}catch(s){console.error("Error signing out:",s)}};return c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(Eo,{to:"/dashboard",className:"text-2xl font-marquee text-[--theater-gold]",children:"Booking Manager"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"relative group",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:[c.jsx(Wo,{size:18}),c.jsx("span",{className:"max-w-[150px] truncate",children:t==null?void 0:t.email})]}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[c.jsx(Eo,{to:"/dashboard/profile",className:"block px-4 py-2 text-white hover:bg-gray-600 transition-colors",children:"Profilo"}),c.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-600 transition-colors flex items-center gap-2",children:[c.jsx(zz,{size:18}),"Esci"]})]})]})})]})})}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(kS,{children:[c.jsx(St,{path:"/",element:c.jsx(fse,{})}),c.jsx(St,{path:"users",element:c.jsx(Ese,{})}),c.jsx(St,{path:"subscriptions",element:c.jsx(MD,{})}),c.jsxs(St,{path:"profile/*",element:c.jsx(zD,{}),children:[c.jsx(St,{index:!0,element:c.jsx(GD,{})}),c.jsx(St,{path:"subscription",element:c.jsx(mse,{})}),c.jsx(St,{path:"security",element:c.jsx($D,{})}),c.jsx(St,{path:"notifications",element:c.jsx(xse,{})})]}),c.jsx(St,{path:"*",element:c.jsx(Co,{to:"/dashboard",replace:!0})})]})})]})},bse=()=>c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx(vN,{className:"w-24 h-24 text-[--theater-gold]"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Pagina non trovata"}),c.jsx("p",{className:"text-gray-400 mb-8",children:"La pagina che stai cercando non esiste o  stata spostata."}),c.jsxs(Eo,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(wN,{size:20}),"Torna alla Home"]})]})}),Tse=()=>{const t=ol(),e=gA(),{user:n}=si(),[r,s]=F.useState(null);return F.useEffect(()=>{(async()=>{if(n)try{const a=new URLSearchParams(e.search).get("code");if(!a)throw new Error("Codice di autorizzazione mancante");await DX(a,n.uid);const o=sessionStorage.getItem("calendarReturnTo")||"/dashboard";sessionStorage.removeItem("calendarReturnTo"),t(o)}catch(A){console.error("Error handling calendar callback:",A),s("Errore durante la connessione a Google Calendar")}})()},[n,e.search,t]),c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center",children:[c.jsx(Qn,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-6"}),r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 mb-4",children:[c.jsx(jt,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Errore di Connessione"})]}),c.jsx("p",{className:"text-gray-400",children:r})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500 mb-4",children:[c.jsx(Gn,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Connessione in corso..."})]}),c.jsx("p",{className:"text-gray-400",children:"Stiamo connettendo il tuo Google Calendar..."})]})]})})},Ise="/carnival2025",Use=()=>(si(),c.jsxs(kS,{children:[c.jsx(St,{path:"/",element:c.jsx(Co,{to:"/prenota",replace:!0})}),c.jsxs(St,{element:c.jsx(QW,{}),children:[c.jsx(St,{path:"/prenota",element:c.jsx(cre,{})}),c.jsx(St,{path:"/dashboard/*",element:c.jsx(wb,{requireAdmin:!0,children:c.jsx(_se,{})})}),c.jsxs(St,{path:"/profile",element:c.jsx(wb,{children:c.jsx(zD,{})}),children:[c.jsx(St,{index:!0,element:c.jsx(GD,{})}),c.jsx(St,{path:"security",element:c.jsx($D,{})})]}),c.jsx(St,{path:"/calendar/callback",element:c.jsx(Tse,{})}),c.jsx(St,{path:"/404",element:c.jsx(bse,{})}),c.jsx(St,{path:"*",element:c.jsx(Co,{to:"/404",replace:!0})})]})]})),Fse=()=>c.jsx(s9,{children:c.jsx(Nz,{children:c.jsx(KM,{basename:Ise,children:c.jsx(Iz,{children:c.jsx(Use,{})})})})}),WD=document.getElementById("root");if(!WD)throw new Error("Failed to find the root element");BB(WD).render(c.jsx(F.StrictMode,{children:c.jsx(Fse,{})}));
