function lP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function cP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oU={exports:{}},tg={},lU={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu=Symbol.for("react.element"),uP=Symbol.for("react.portal"),dP=Symbol.for("react.fragment"),hP=Symbol.for("react.strict_mode"),fP=Symbol.for("react.profiler"),pP=Symbol.for("react.provider"),gP=Symbol.for("react.context"),mP=Symbol.for("react.forward_ref"),yP=Symbol.for("react.suspense"),vP=Symbol.for("react.memo"),wP=Symbol.for("react.lazy"),BE=Symbol.iterator;function BP(t){return t===null||typeof t!="object"?null:(t=BE&&t[BE]||t["@@iterator"],typeof t=="function"?t:null)}var cU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uU=Object.assign,dU={};function tl(t,e,n){this.props=t,this.context=e,this.refs=dU,this.updater=n||cU}tl.prototype.isReactComponent={};tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hU(){}hU.prototype=tl.prototype;function _w(t,e,n){this.props=t,this.context=e,this.refs=dU,this.updater=n||cU}var bw=_w.prototype=new hU;bw.constructor=_w;uU(bw,tl.prototype);bw.isPureReactComponent=!0;var xE=Array.isArray,fU=Object.prototype.hasOwnProperty,Tw={current:null},pU={key:!0,ref:!0,__self:!0,__source:!0};function gU(t,e,n){var r,s={},i=null,A=null;if(e!=null)for(r in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)fU.call(e,r)&&!pU.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wu,type:t,key:i,ref:A,props:s,_owner:Tw.current}}function xP(t,e){return{$$typeof:Wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wu}function CP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var CE=/\/+/g;function Sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CP(""+t.key):e.toString(36)}function zh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Wu:case uP:A=!0}}if(A)return A=t,s=s(A),t=r===""?"."+Sm(A,0):r,xE(s)?(n="",t!=null&&(n=t.replace(CE,"$&/")+"/"),zh(s,e,n,"",function(c){return c})):s!=null&&(Iw(s)&&(s=xP(s,n+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(CE,"$&/")+"/")+t)),e.push(s)),1;if(A=0,r=r===""?".":r+":",xE(t))for(var a=0;a<t.length;a++){i=t[a];var o=r+Sm(i,a);A+=zh(i,e,n,o,s)}else if(o=BP(t),typeof o=="function")for(t=o.call(t),a=0;!(i=t.next()).done;)i=i.value,o=r+Sm(i,a++),A+=zh(i,e,n,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function zd(t,e,n){if(t==null)return t;var r=[],s=0;return zh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function EP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Gh={transition:null},_P={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:Tw};function mU(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:zd,forEach:function(t,e,n){zd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zd(t,function(){e++}),e},toArray:function(t){return zd(t,function(e){return e})||[]},only:function(t){if(!Iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=tl;Ue.Fragment=dP;Ue.Profiler=fP;Ue.PureComponent=_w;Ue.StrictMode=hP;Ue.Suspense=yP;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_P;Ue.act=mU;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uU({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=Tw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)fU.call(e,o)&&!pU.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var c=0;c<o;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wu,type:t.type,key:s,ref:i,props:r,_owner:A}};Ue.createContext=function(t){return t={$$typeof:gP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pP,_context:t},t.Consumer=t};Ue.createElement=gU;Ue.createFactory=function(t){var e=gU.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:mP,render:t}};Ue.isValidElement=Iw;Ue.lazy=function(t){return{$$typeof:wP,_payload:{_status:-1,_result:t},_init:EP}};Ue.memo=function(t,e){return{$$typeof:vP,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};Ue.unstable_act=mU;Ue.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Ue.useContext=function(t){return Dn.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Ue.useId=function(){return Dn.current.useId()};Ue.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Ue.useRef=function(t){return Dn.current.useRef(t)};Ue.useState=function(t){return Dn.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Dn.current.useTransition()};Ue.version="18.3.1";lU.exports=Ue;var I=lU.exports;const Ze=cP(I),bP=lP({__proto__:null,default:Ze},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP=I,IP=Symbol.for("react.element"),UP=Symbol.for("react.fragment"),FP=Object.prototype.hasOwnProperty,SP=TP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QP={key:!0,ref:!0,__self:!0,__source:!0};function yU(t,e,n){var r,s={},i=null,A=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(r in e)FP.call(e,r)&&!QP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IP,type:t,key:i,ref:A,props:s,_owner:SP.current}}tg.Fragment=UP;tg.jsx=yU;tg.jsxs=yU;oU.exports=tg;var l=oU.exports,vU={exports:{}},or={},wU={exports:{}},BU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,K){var G=D.length;D.push(K);e:for(;0<G;){var ve=G-1>>>1,Ce=D[ve];if(0<s(Ce,K))D[ve]=K,D[G]=Ce,G=ve;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var K=D[0],G=D.pop();if(G!==K){D[0]=G;e:for(var ve=0,Ce=D.length,Ie=Ce>>>1;ve<Ie;){var ot=2*(ve+1)-1,lt=D[ot],gt=ot+1,Qt=D[gt];if(0>s(lt,G))gt<Ce&&0>s(Qt,lt)?(D[ve]=Qt,D[gt]=G,ve=gt):(D[ve]=lt,D[ot]=G,ve=ot);else if(gt<Ce&&0>s(Qt,G))D[ve]=Qt,D[gt]=G,ve=gt;else break e}}return K}function s(D,K){var G=D.sortIndex-K.sortIndex;return G!==0?G:D.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],c=[],u=1,h=null,f=3,g=!1,m=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=D)r(c),K.sortIndex=K.expirationTime,e(o,K);else break;K=n(c)}}function Q(D){if(v=!1,w(D),!m)if(n(o)!==null)m=!0,O(U);else{var K=n(c);K!==null&&q(Q,K.startTime-D)}}function U(D,K){m=!1,v&&(v=!1,x(C),C=-1),g=!0;var G=f;try{for(w(K),h=n(o);h!==null&&(!(h.expirationTime>K)||D&&!R());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,f=h.priorityLevel;var Ce=ve(h.expirationTime<=K);K=t.unstable_now(),typeof Ce=="function"?h.callback=Ce:h===n(o)&&r(o),w(K)}else r(o);h=n(o)}if(h!==null)var Ie=!0;else{var ot=n(c);ot!==null&&q(Q,ot.startTime-K),Ie=!1}return Ie}finally{h=null,f=G,g=!1}}var N=!1,_=null,C=-1,b=5,T=-1;function R(){return!(t.unstable_now()-T<b)}function k(){if(_!==null){var D=t.unstable_now();T=D;var K=!0;try{K=_(!0,D)}finally{K?F():(N=!1,_=null)}}else N=!1}var F;if(typeof y=="function")F=function(){y(k)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ee=J.port2;J.port1.onmessage=k,F=function(){ee.postMessage(null)}}else F=function(){E(k,0)};function O(D){_=D,N||(N=!0,F())}function q(D,K){C=E(function(){D(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,O(U))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var G=f;f=K;try{return D()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=f;f=D;try{return K()}finally{f=G}},t.unstable_scheduleCallback=function(D,K,G){var ve=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ve+G:ve):G=ve,D){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=G+Ce,D={id:u++,callback:K,priorityLevel:D,startTime:G,expirationTime:Ce,sortIndex:-1},G>ve?(D.sortIndex=G,e(c,D),n(o)===null&&D===n(c)&&(v?(x(C),C=-1):v=!0,q(Q,G-ve))):(D.sortIndex=Ce,e(o,D),m||g||(m=!0,O(U))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var K=f;return function(){var G=f;f=K;try{return D.apply(this,arguments)}finally{f=G}}}})(BU);wU.exports=BU;var NP=wU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP=I,ir=NP;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xU=new Set,Xc={};function fa(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Xc[t]=e,t=0;t<e.length;t++)xU.add(e[t])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iy=Object.prototype.hasOwnProperty,RP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,EE={},_E={};function PP(t){return iy.call(_E,t)?!0:iy.call(EE,t)?!1:RP.test(t)?_E[t]=!0:(EE[t]=!0,!1)}function DP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LP(t,e,n,r){if(e===null||typeof e>"u"||DP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){an[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];an[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){an[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){an[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){an[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){an[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){an[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){an[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){an[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uw=/[\-:]([a-z])/g;function Fw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uw,Fw);an[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uw,Fw);an[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uw,Fw);an[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){an[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});an.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){an[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sw(t,e,n,r){var s=an.hasOwnProperty(e)?an[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LP(e,n,s,r)&&(n=null),r||s===null?PP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ei=kP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gd=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),Qw=Symbol.for("react.strict_mode"),Ay=Symbol.for("react.profiler"),CU=Symbol.for("react.provider"),EU=Symbol.for("react.context"),Nw=Symbol.for("react.forward_ref"),ay=Symbol.for("react.suspense"),oy=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),_U=Symbol.for("react.offscreen"),bE=Symbol.iterator;function Nl(t){return t===null||typeof t!="object"?null:(t=bE&&t[bE]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Qm;function Jl(t){if(Qm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qm=e&&e[1]||""}return`
`+Qm+t}var Nm=!1;function km(t,e){if(!t||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var o=`
`+s[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function MP(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=km(t.type,!1),t;case 11:return t=km(t.type.render,!1),t;case 1:return t=km(t.type,!0),t;default:return""}}function ly(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $a:return"Fragment";case Ga:return"Portal";case Ay:return"Profiler";case Qw:return"StrictMode";case ay:return"Suspense";case oy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EU:return(t.displayName||"Context")+".Consumer";case CU:return(t._context.displayName||"Context")+".Provider";case Nw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kw:return e=t.displayName||null,e!==null?e:ly(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return ly(t(e))}catch{}}return null}function jP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ly(e);case 8:return e===Qw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OP(t){var e=bU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){r=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $d(t){t._valueTracker||(t._valueTracker=OP(t))}function TU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cy(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function TE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IU(t,e){e=e.checked,e!=null&&Sw(t,"checked",e,!1)}function uy(t,e){IU(t,e);var n=Gi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dy(t,e.type,n):e.hasOwnProperty("defaultValue")&&dy(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dy(t,e,n){(e!=="number"||Ef(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Zl(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function UU(t,e){var n=Gi(e.value),r=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function FE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wd,SU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wd=Wd||document.createElement("div"),Wd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HP=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(t){HP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bc[e]=Bc[t]})});function QU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bc.hasOwnProperty(t)&&Bc[t]?(""+e).trim():e+"px"}function NU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var VP=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function py(t,e){if(e){if(VP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function gy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var my=null;function Rw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yy=null,go=null,mo=null;function SE(t){if(t=Yu(t)){if(typeof yy!="function")throw Error(X(280));var e=t.stateNode;e&&(e=Ag(e),yy(t.stateNode,t.type,e))}}function kU(t){go?mo?mo.push(t):mo=[t]:go=t}function RU(){if(go){var t=go,e=mo;if(mo=go=null,SE(t),e)for(t=0;t<e.length;t++)SE(e[t])}}function PU(t,e){return t(e)}function DU(){}var Rm=!1;function LU(t,e,n){if(Rm)return t(e,n);Rm=!0;try{return PU(t,e,n)}finally{Rm=!1,(go!==null||mo!==null)&&(DU(),RU())}}function Jc(t,e){var n=t.stateNode;if(n===null)return null;var r=Ag(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var vy=!1;if(Ms)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){vy=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{vy=!1}function KP(t,e,n,r,s,i,A,a,o){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var xc=!1,_f=null,bf=!1,wy=null,zP={onError:function(t){xc=!0,_f=t}};function GP(t,e,n,r,s,i,A,a,o){xc=!1,_f=null,KP.apply(zP,arguments)}function $P(t,e,n,r,s,i,A,a,o){if(GP.apply(this,arguments),xc){if(xc){var c=_f;xc=!1,_f=null}else throw Error(X(198));bf||(bf=!0,wy=c)}}function pa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function QE(t){if(pa(t)!==t)throw Error(X(188))}function WP(t){var e=t.alternate;if(!e){if(e=pa(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return QE(s),t;if(i===r)return QE(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var A=!1,a=s.child;a;){if(a===n){A=!0,n=s,r=i;break}if(a===r){A=!0,r=s,n=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===n){A=!0,n=i,r=s;break}if(a===r){A=!0,r=i,n=s;break}a=a.sibling}if(!A)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function jU(t){return t=WP(t),t!==null?OU(t):null}function OU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=OU(t);if(e!==null)return e;t=t.sibling}return null}var HU=ir.unstable_scheduleCallback,NE=ir.unstable_cancelCallback,qP=ir.unstable_shouldYield,XP=ir.unstable_requestPaint,It=ir.unstable_now,YP=ir.unstable_getCurrentPriorityLevel,Pw=ir.unstable_ImmediatePriority,VU=ir.unstable_UserBlockingPriority,Tf=ir.unstable_NormalPriority,JP=ir.unstable_LowPriority,KU=ir.unstable_IdlePriority,ng=null,es=null;function ZP(t){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(ng,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:nD,eD=Math.log,tD=Math.LN2;function nD(t){return t>>>=0,t===0?32:31-(eD(t)/tD|0)|0}var qd=64,Xd=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function If(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,A=n&268435455;if(A!==0){var a=A&~s;a!==0?r=ec(a):(i&=A,i!==0&&(r=ec(i)))}else A=n&~s,A!==0?r=ec(A):i!==0&&(r=ec(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),s=1<<n,r|=t[n],e&=~s;return r}function rD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-Nr(i),a=1<<A,o=s[A];o===-1?(!(a&n)||a&r)&&(s[A]=rD(a,e)):o<=e&&(t.expiredLanes|=a),i&=~a}}function By(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zU(){var t=qd;return qd<<=1,!(qd&4194240)&&(qd=64),t}function Pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function iD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ge=0;function GU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $U,Lw,WU,qU,XU,xy=!1,Yd=[],Si=null,Qi=null,Ni=null,Zc=new Map,eu=new Map,fi=[],AD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kE(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Zc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function Rl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Yu(e),e!==null&&Lw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aD(t,e,n,r,s){switch(e){case"focusin":return Si=Rl(Si,t,e,n,r,s),!0;case"dragenter":return Qi=Rl(Qi,t,e,n,r,s),!0;case"mouseover":return Ni=Rl(Ni,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zc.set(i,Rl(Zc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,eu.set(i,Rl(eu.get(i)||null,t,e,n,r,s)),!0}return!1}function YU(t){var e=PA(t.target);if(e!==null){var n=pa(e);if(n!==null){if(e=n.tag,e===13){if(e=MU(n),e!==null){t.blockedOn=e,XU(t.priority,function(){WU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $h(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);my=r,n.target.dispatchEvent(r),my=null}else return e=Yu(n),e!==null&&Lw(e),t.blockedOn=n,!1;e.shift()}return!0}function RE(t,e,n){$h(t)&&n.delete(e)}function oD(){xy=!1,Si!==null&&$h(Si)&&(Si=null),Qi!==null&&$h(Qi)&&(Qi=null),Ni!==null&&$h(Ni)&&(Ni=null),Zc.forEach(RE),eu.forEach(RE)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,xy||(xy=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,oD)))}function tu(t){function e(s){return Pl(s,t)}if(0<Yd.length){Pl(Yd[0],t);for(var n=1;n<Yd.length;n++){var r=Yd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Pl(Si,t),Qi!==null&&Pl(Qi,t),Ni!==null&&Pl(Ni,t),Zc.forEach(e),eu.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)YU(n),n.blockedOn===null&&fi.shift()}var yo=ei.ReactCurrentBatchConfig,Uf=!0;function lD(t,e,n,r){var s=Ge,i=yo.transition;yo.transition=null;try{Ge=1,Mw(t,e,n,r)}finally{Ge=s,yo.transition=i}}function cD(t,e,n,r){var s=Ge,i=yo.transition;yo.transition=null;try{Ge=4,Mw(t,e,n,r)}finally{Ge=s,yo.transition=i}}function Mw(t,e,n,r){if(Uf){var s=Cy(t,e,n,r);if(s===null)Gm(t,e,r,Ff,n),kE(t,r);else if(aD(s,t,e,n,r))r.stopPropagation();else if(kE(t,r),e&4&&-1<AD.indexOf(t)){for(;s!==null;){var i=Yu(s);if(i!==null&&$U(i),i=Cy(t,e,n,r),i===null&&Gm(t,e,r,Ff,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gm(t,e,r,null,n)}}var Ff=null;function Cy(t,e,n,r){if(Ff=null,t=Rw(r),t=PA(t),t!==null)if(e=pa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ff=t,null}function JU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YP()){case Pw:return 1;case VU:return 4;case Tf:case JP:return 16;case KU:return 536870912;default:return 16}default:return 16}}var Ci=null,jw=null,Wh=null;function ZU(){if(Wh)return Wh;var t,e=jw,n=e.length,r,s="value"in Ci?Ci.value:Ci.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var A=n-t;for(r=1;r<=A&&e[n-r]===s[i-r];r++);return Wh=s.slice(t,1<r?1-r:void 0)}function qh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jd(){return!0}function PE(){return!1}function lr(t){function e(n,r,s,i,A){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jd:PE,this.isPropagationStopped=PE,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jd)},persist:function(){},isPersistent:Jd}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ow=lr(nl),Xu=ft({},nl,{view:0,detail:0}),uD=lr(Xu),Dm,Lm,Dl,rg=ft({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(Dm=t.screenX-Dl.screenX,Lm=t.screenY-Dl.screenY):Lm=Dm=0,Dl=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:Lm}}),DE=lr(rg),dD=ft({},rg,{dataTransfer:0}),hD=lr(dD),fD=ft({},Xu,{relatedTarget:0}),Mm=lr(fD),pD=ft({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),gD=lr(pD),mD=ft({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yD=lr(mD),vD=ft({},nl,{data:0}),LE=lr(vD),wD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xD[t])?!!e[t]:!1}function Hw(){return CD}var ED=ft({},Xu,{key:function(t){if(t.key){var e=wD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?BD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(t){return t.type==="keypress"?qh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_D=lr(ED),bD=ft({},rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ME=lr(bD),TD=ft({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),ID=lr(TD),UD=ft({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),FD=lr(UD),SD=ft({},rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QD=lr(SD),ND=[9,13,27,32],Vw=Ms&&"CompositionEvent"in window,Cc=null;Ms&&"documentMode"in document&&(Cc=document.documentMode);var kD=Ms&&"TextEvent"in window&&!Cc,eF=Ms&&(!Vw||Cc&&8<Cc&&11>=Cc),jE=" ",OE=!1;function tF(t,e){switch(t){case"keyup":return ND.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function RD(t,e){switch(t){case"compositionend":return nF(e);case"keypress":return e.which!==32?null:(OE=!0,jE);case"textInput":return t=e.data,t===jE&&OE?null:t;default:return null}}function PD(t,e){if(Wa)return t==="compositionend"||!Vw&&tF(t,e)?(t=ZU(),Wh=jw=Ci=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eF&&e.locale!=="ko"?null:e.data;default:return null}}var DD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DD[t.type]:e==="textarea"}function rF(t,e,n,r){kU(r),e=Sf(e,"onChange"),0<e.length&&(n=new Ow("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,nu=null;function LD(t){fF(t,0)}function sg(t){var e=Ya(t);if(TU(e))return t}function MD(t,e){if(t==="change")return e}var sF=!1;if(Ms){var jm;if(Ms){var Om="oninput"in document;if(!Om){var VE=document.createElement("div");VE.setAttribute("oninput","return;"),Om=typeof VE.oninput=="function"}jm=Om}else jm=!1;sF=jm&&(!document.documentMode||9<document.documentMode)}function KE(){Ec&&(Ec.detachEvent("onpropertychange",iF),nu=Ec=null)}function iF(t){if(t.propertyName==="value"&&sg(nu)){var e=[];rF(e,nu,t,Rw(t)),LU(LD,e)}}function jD(t,e,n){t==="focusin"?(KE(),Ec=e,nu=n,Ec.attachEvent("onpropertychange",iF)):t==="focusout"&&KE()}function OD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sg(nu)}function HD(t,e){if(t==="click")return sg(e)}function VD(t,e){if(t==="input"||t==="change")return sg(e)}function KD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pr=typeof Object.is=="function"?Object.is:KD;function ru(t,e){if(Pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!iy.call(e,s)||!Pr(t[s],e[s]))return!1}return!0}function zE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GE(t,e){var n=zE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zE(n)}}function AF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aF(){for(var t=window,e=Ef();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ef(t.document)}return e}function Kw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zD(t){var e=aF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AF(n.ownerDocument.documentElement,n)){if(r!==null&&Kw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=GE(n,i);var A=GE(n,r);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GD=Ms&&"documentMode"in document&&11>=document.documentMode,qa=null,Ey=null,_c=null,_y=!1;function $E(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_y||qa==null||qa!==Ef(r)||(r=qa,"selectionStart"in r&&Kw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&ru(_c,r)||(_c=r,r=Sf(Ey,"onSelect"),0<r.length&&(e=new Ow("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function Zd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xa={animationend:Zd("Animation","AnimationEnd"),animationiteration:Zd("Animation","AnimationIteration"),animationstart:Zd("Animation","AnimationStart"),transitionend:Zd("Transition","TransitionEnd")},Hm={},oF={};Ms&&(oF=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ig(t){if(Hm[t])return Hm[t];if(!Xa[t])return t;var e=Xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oF)return Hm[t]=e[n];return t}var lF=ig("animationend"),cF=ig("animationiteration"),uF=ig("animationstart"),dF=ig("transitionend"),hF=new Map,WE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lA(t,e){hF.set(t,e),fa(e,[t])}for(var Vm=0;Vm<WE.length;Vm++){var Km=WE[Vm],$D=Km.toLowerCase(),WD=Km[0].toUpperCase()+Km.slice(1);lA($D,"on"+WD)}lA(lF,"onAnimationEnd");lA(cF,"onAnimationIteration");lA(uF,"onAnimationStart");lA("dblclick","onDoubleClick");lA("focusin","onFocus");lA("focusout","onBlur");lA(dF,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function qE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$P(r,e,void 0,t),t.currentTarget=null}function fF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var A=r.length-1;0<=A;A--){var a=r[A],o=a.instance,c=a.currentTarget;if(a=a.listener,o!==i&&s.isPropagationStopped())break e;qE(s,a,c),i=o}else for(A=0;A<r.length;A++){if(a=r[A],o=a.instance,c=a.currentTarget,a=a.listener,o!==i&&s.isPropagationStopped())break e;qE(s,a,c),i=o}}}if(bf)throw t=wy,bf=!1,wy=null,t}function rt(t,e){var n=e[Fy];n===void 0&&(n=e[Fy]=new Set);var r=t+"__bubble";n.has(r)||(pF(e,t,2,!1),n.add(r))}function zm(t,e,n){var r=0;e&&(r|=4),pF(n,t,r,e)}var eh="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[eh]){t[eh]=!0,xU.forEach(function(n){n!=="selectionchange"&&(qD.has(n)||zm(n,!1,t),zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[eh]||(e[eh]=!0,zm("selectionchange",!1,e))}}function pF(t,e,n,r){switch(JU(e)){case 1:var s=lD;break;case 4:s=cD;break;default:s=Mw}n=s.bind(null,e,n,t),s=void 0,!vy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=r.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;A=A.return}for(;a!==null;){if(A=PA(a),A===null)return;if(o=A.tag,o===5||o===6){r=i=A;continue e}a=a.parentNode}}r=r.return}LU(function(){var c=i,u=Rw(n),h=[];e:{var f=hF.get(t);if(f!==void 0){var g=Ow,m=t;switch(t){case"keypress":if(qh(n)===0)break e;case"keydown":case"keyup":g=_D;break;case"focusin":m="focus",g=Mm;break;case"focusout":m="blur",g=Mm;break;case"beforeblur":case"afterblur":g=Mm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=DE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ID;break;case lF:case cF:case uF:g=gD;break;case dF:g=FD;break;case"scroll":g=uD;break;case"wheel":g=QD;break;case"copy":case"cut":case"paste":g=yD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ME}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,w;y!==null;){w=y;var Q=w.stateNode;if(w.tag===5&&Q!==null&&(w=Q,x!==null&&(Q=Jc(y,x),Q!=null&&v.push(iu(y,Q,w)))),E)break;y=y.return}0<v.length&&(f=new g(f,m,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==my&&(m=n.relatedTarget||n.fromElement)&&(PA(m)||m[js]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=c,m=m?PA(m):null,m!==null&&(E=pa(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(v=DE,Q="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=ME,Q="onPointerLeave",x="onPointerEnter",y="pointer"),E=g==null?f:Ya(g),w=m==null?f:Ya(m),f=new v(Q,y+"leave",g,n,u),f.target=E,f.relatedTarget=w,Q=null,PA(u)===c&&(v=new v(x,y+"enter",m,n,u),v.target=w,v.relatedTarget=E,Q=v),E=Q,g&&m)t:{for(v=g,x=m,y=0,w=v;w;w=Sa(w))y++;for(w=0,Q=x;Q;Q=Sa(Q))w++;for(;0<y-w;)v=Sa(v),y--;for(;0<w-y;)x=Sa(x),w--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=Sa(v),x=Sa(x)}v=null}else v=null;g!==null&&XE(h,f,g,v,!1),m!==null&&E!==null&&XE(h,E,m,v,!0)}}e:{if(f=c?Ya(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var U=MD;else if(HE(f))if(sF)U=VD;else{U=OD;var N=jD}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(U=HD);if(U&&(U=U(t,c))){rF(h,U,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&dy(f,"number",f.value)}switch(N=c?Ya(c):window,t){case"focusin":(HE(N)||N.contentEditable==="true")&&(qa=N,Ey=c,_c=null);break;case"focusout":_c=Ey=qa=null;break;case"mousedown":_y=!0;break;case"contextmenu":case"mouseup":case"dragend":_y=!1,$E(h,n,u);break;case"selectionchange":if(GD)break;case"keydown":case"keyup":$E(h,n,u)}var _;if(Vw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wa?tF(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(eF&&n.locale!=="ko"&&(Wa||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wa&&(_=ZU()):(Ci=u,jw="value"in Ci?Ci.value:Ci.textContent,Wa=!0)),N=Sf(c,C),0<N.length&&(C=new LE(C,t,null,n,u),h.push({event:C,listeners:N}),_?C.data=_:(_=nF(n),_!==null&&(C.data=_)))),(_=kD?RD(t,n):PD(t,n))&&(c=Sf(c,"onBeforeInput"),0<c.length&&(u=new LE("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=_))}fF(h,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jc(t,n),i!=null&&r.unshift(iu(t,i,s)),i=Jc(t,e),i!=null&&r.push(iu(t,i,s))),t=t.return}return r}function Sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function XE(t,e,n,r,s){for(var i=e._reactName,A=[];n!==null&&n!==r;){var a=n,o=a.alternate,c=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&c!==null&&(a=c,s?(o=Jc(n,i),o!=null&&A.unshift(iu(n,o,a))):s||(o=Jc(n,i),o!=null&&A.push(iu(n,o,a)))),n=n.return}A.length!==0&&t.push({event:e,listeners:A})}var XD=/\r\n?/g,YD=/\u0000|\uFFFD/g;function YE(t){return(typeof t=="string"?t:""+t).replace(XD,`
`).replace(YD,"")}function th(t,e,n){if(e=YE(e),YE(t)!==e&&n)throw Error(X(425))}function Qf(){}var by=null,Ty=null;function Iy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uy=typeof setTimeout=="function"?setTimeout:void 0,JD=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,ZD=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(t){return JE.resolve(null).then(t).catch(eL)}:Uy;function eL(t){setTimeout(function(){throw t})}function $m(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tu(e)}function ki(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ZE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Wr="__reactFiber$"+rl,Au="__reactProps$"+rl,js="__reactContainer$"+rl,Fy="__reactEvents$"+rl,tL="__reactListeners$"+rl,nL="__reactHandles$"+rl;function PA(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[js]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ZE(t);t!==null;){if(n=t[Wr])return n;t=ZE(t)}return e}t=n,n=t.parentNode}return null}function Yu(t){return t=t[Wr]||t[js],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Ag(t){return t[Au]||null}var Sy=[],Ja=-1;function cA(t){return{current:t}}function st(t){0>Ja||(t.current=Sy[Ja],Sy[Ja]=null,Ja--)}function tt(t,e){Ja++,Sy[Ja]=t.current,t.current=e}var $i={},Cn=cA($i),zn=cA(!1),YA=$i;function Qo(t,e){var n=t.type.contextTypes;if(!n)return $i;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Gn(t){return t=t.childContextTypes,t!=null}function Nf(){st(zn),st(Cn)}function e_(t,e,n){if(Cn.current!==$i)throw Error(X(168));tt(Cn,e),tt(zn,n)}function gF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,jP(t)||"Unknown",s));return ft({},n,r)}function kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$i,YA=Cn.current,tt(Cn,t),tt(zn,zn.current),!0}function t_(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=gF(t,e,YA),r.__reactInternalMemoizedMergedChildContext=t,st(zn),st(Cn),tt(Cn,t)):st(zn),tt(zn,n)}var Ts=null,ag=!1,Wm=!1;function mF(t){Ts===null?Ts=[t]:Ts.push(t)}function rL(t){ag=!0,mF(t)}function uA(){if(!Wm&&Ts!==null){Wm=!0;var t=0,e=Ge;try{var n=Ts;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ts=null,ag=!1}catch(s){throw Ts!==null&&(Ts=Ts.slice(t+1)),HU(Pw,uA),s}finally{Ge=e,Wm=!1}}return null}var Za=[],eo=0,Rf=null,Pf=0,fr=[],pr=0,JA=null,Us=1,Fs="";function UA(t,e){Za[eo++]=Pf,Za[eo++]=Rf,Rf=t,Pf=e}function yF(t,e,n){fr[pr++]=Us,fr[pr++]=Fs,fr[pr++]=JA,JA=t;var r=Us;t=Fs;var s=32-Nr(r)-1;r&=~(1<<s),n+=1;var i=32-Nr(e)+s;if(30<i){var A=s-s%5;i=(r&(1<<A)-1).toString(32),r>>=A,s-=A,Us=1<<32-Nr(e)+s|n<<s|r,Fs=i+t}else Us=1<<i|n<<s|r,Fs=t}function zw(t){t.return!==null&&(UA(t,1),yF(t,1,0))}function Gw(t){for(;t===Rf;)Rf=Za[--eo],Za[eo]=null,Pf=Za[--eo],Za[eo]=null;for(;t===JA;)JA=fr[--pr],fr[pr]=null,Fs=fr[--pr],fr[pr]=null,Us=fr[--pr],fr[pr]=null}var tr=null,Jn=null,at=!1,Fr=null;function vF(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function n_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Jn=ki(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=JA!==null?{id:Us,overflow:Fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Jn=null,!0):!1;default:return!1}}function Qy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ny(t){if(at){var e=Jn;if(e){var n=e;if(!n_(t,e)){if(Qy(t))throw Error(X(418));e=ki(n.nextSibling);var r=tr;e&&n_(t,e)?vF(r,n):(t.flags=t.flags&-4097|2,at=!1,tr=t)}}else{if(Qy(t))throw Error(X(418));t.flags=t.flags&-4097|2,at=!1,tr=t}}}function r_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function nh(t){if(t!==tr)return!1;if(!at)return r_(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Iy(t.type,t.memoizedProps)),e&&(e=Jn)){if(Qy(t))throw wF(),Error(X(418));for(;e;)vF(t,e),e=ki(e.nextSibling)}if(r_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=ki(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=tr?ki(t.stateNode.nextSibling):null;return!0}function wF(){for(var t=Jn;t;)t=ki(t.nextSibling)}function No(){Jn=tr=null,at=!1}function $w(t){Fr===null?Fr=[t]:Fr.push(t)}var sL=ei.ReactCurrentBatchConfig;function Ll(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function rh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function s_(t){var e=t._init;return e(t._payload)}function BF(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=Li(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function A(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,Q){return y===null||y.tag!==6?(y=t0(w,x.mode,Q),y.return=x,y):(y=s(y,w),y.return=x,y)}function o(x,y,w,Q){var U=w.type;return U===$a?u(x,y,w.props.children,Q,w.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ui&&s_(U)===y.type)?(Q=s(y,w.props),Q.ref=Ll(x,y,w),Q.return=x,Q):(Q=nf(w.type,w.key,w.props,null,x.mode,Q),Q.ref=Ll(x,y,w),Q.return=x,Q)}function c(x,y,w,Q){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=n0(w,x.mode,Q),y.return=x,y):(y=s(y,w.children||[]),y.return=x,y)}function u(x,y,w,Q,U){return y===null||y.tag!==7?(y=KA(w,x.mode,Q,U),y.return=x,y):(y=s(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=t0(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gd:return w=nf(y.type,y.key,y.props,null,x.mode,w),w.ref=Ll(x,null,y),w.return=x,w;case Ga:return y=n0(y,x.mode,w),y.return=x,y;case ui:var Q=y._init;return h(x,Q(y._payload),w)}if(Zl(y)||Nl(y))return y=KA(y,x.mode,w,null),y.return=x,y;rh(x,y)}return null}function f(x,y,w,Q){var U=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return U!==null?null:a(x,y,""+w,Q);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gd:return w.key===U?o(x,y,w,Q):null;case Ga:return w.key===U?c(x,y,w,Q):null;case ui:return U=w._init,f(x,y,U(w._payload),Q)}if(Zl(w)||Nl(w))return U!==null?null:u(x,y,w,Q,null);rh(x,w)}return null}function g(x,y,w,Q,U){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return x=x.get(w)||null,a(y,x,""+Q,U);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Gd:return x=x.get(Q.key===null?w:Q.key)||null,o(y,x,Q,U);case Ga:return x=x.get(Q.key===null?w:Q.key)||null,c(y,x,Q,U);case ui:var N=Q._init;return g(x,y,w,N(Q._payload),U)}if(Zl(Q)||Nl(Q))return x=x.get(w)||null,u(y,x,Q,U,null);rh(y,Q)}return null}function m(x,y,w,Q){for(var U=null,N=null,_=y,C=y=0,b=null;_!==null&&C<w.length;C++){_.index>C?(b=_,_=null):b=_.sibling;var T=f(x,_,w[C],Q);if(T===null){_===null&&(_=b);break}t&&_&&T.alternate===null&&e(x,_),y=i(T,y,C),N===null?U=T:N.sibling=T,N=T,_=b}if(C===w.length)return n(x,_),at&&UA(x,C),U;if(_===null){for(;C<w.length;C++)_=h(x,w[C],Q),_!==null&&(y=i(_,y,C),N===null?U=_:N.sibling=_,N=_);return at&&UA(x,C),U}for(_=r(x,_);C<w.length;C++)b=g(_,x,C,w[C],Q),b!==null&&(t&&b.alternate!==null&&_.delete(b.key===null?C:b.key),y=i(b,y,C),N===null?U=b:N.sibling=b,N=b);return t&&_.forEach(function(R){return e(x,R)}),at&&UA(x,C),U}function v(x,y,w,Q){var U=Nl(w);if(typeof U!="function")throw Error(X(150));if(w=U.call(w),w==null)throw Error(X(151));for(var N=U=null,_=y,C=y=0,b=null,T=w.next();_!==null&&!T.done;C++,T=w.next()){_.index>C?(b=_,_=null):b=_.sibling;var R=f(x,_,T.value,Q);if(R===null){_===null&&(_=b);break}t&&_&&R.alternate===null&&e(x,_),y=i(R,y,C),N===null?U=R:N.sibling=R,N=R,_=b}if(T.done)return n(x,_),at&&UA(x,C),U;if(_===null){for(;!T.done;C++,T=w.next())T=h(x,T.value,Q),T!==null&&(y=i(T,y,C),N===null?U=T:N.sibling=T,N=T);return at&&UA(x,C),U}for(_=r(x,_);!T.done;C++,T=w.next())T=g(_,x,C,T.value,Q),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?C:T.key),y=i(T,y,C),N===null?U=T:N.sibling=T,N=T);return t&&_.forEach(function(k){return e(x,k)}),at&&UA(x,C),U}function E(x,y,w,Q){if(typeof w=="object"&&w!==null&&w.type===$a&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gd:e:{for(var U=w.key,N=y;N!==null;){if(N.key===U){if(U=w.type,U===$a){if(N.tag===7){n(x,N.sibling),y=s(N,w.props.children),y.return=x,x=y;break e}}else if(N.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ui&&s_(U)===N.type){n(x,N.sibling),y=s(N,w.props),y.ref=Ll(x,N,w),y.return=x,x=y;break e}n(x,N);break}else e(x,N);N=N.sibling}w.type===$a?(y=KA(w.props.children,x.mode,Q,w.key),y.return=x,x=y):(Q=nf(w.type,w.key,w.props,null,x.mode,Q),Q.ref=Ll(x,y,w),Q.return=x,x=Q)}return A(x);case Ga:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=s(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=n0(w,x.mode,Q),y.return=x,x=y}return A(x);case ui:return N=w._init,E(x,y,N(w._payload),Q)}if(Zl(w))return m(x,y,w,Q);if(Nl(w))return v(x,y,w,Q);rh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,w),y.return=x,x=y):(n(x,y),y=t0(w,x.mode,Q),y.return=x,x=y),A(x)):n(x,y)}return E}var ko=BF(!0),xF=BF(!1),Df=cA(null),Lf=null,to=null,Ww=null;function qw(){Ww=to=Lf=null}function Xw(t){var e=Df.current;st(Df),t._currentValue=e}function ky(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){Lf=t,Ww=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function xr(t){var e=t._currentValue;if(Ww!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Lf===null)throw Error(X(308));to=t,Lf.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var DA=null;function Yw(t){DA===null?DA=[t]:DA.push(t)}function CF(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var di=!1;function Jw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Os(t,n)}return s=r.interleaved,s===null?(e.next=e,Yw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Os(t,n)}function Xh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dw(t,n)}}function i_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=A:i=i.next=A,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mf(t,e,n,r){var s=t.updateQueue;di=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var o=a,c=o.next;o.next=null,A===null?i=c:A.next=c,A=o;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==A&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;A=0,u=c=o=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(f=e,g=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=ft({},h,f);break e;case 2:di=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,o=h):u=u.next=g,A|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(o=h),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ea|=A,t.lanes=A,t.memoizedState=h}}function A_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var Ju={},ts=cA(Ju),au=cA(Ju),ou=cA(Ju);function LA(t){if(t===Ju)throw Error(X(174));return t}function Zw(t,e){switch(tt(ou,e),tt(au,t),tt(ts,Ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fy(e,t)}st(ts),tt(ts,e)}function Ro(){st(ts),st(au),st(ou)}function _F(t){LA(ou.current);var e=LA(ts.current),n=fy(e,t.type);e!==n&&(tt(au,t),tt(ts,n))}function eB(t){au.current===t&&(st(ts),st(au))}var ut=cA(0);function jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function tB(){for(var t=0;t<qm.length;t++)qm[t]._workInProgressVersionPrimary=null;qm.length=0}var Yh=ei.ReactCurrentDispatcher,Xm=ei.ReactCurrentBatchConfig,ZA=0,ht=null,Mt=null,Gt=null,Of=!1,bc=!1,lu=0,iL=0;function dn(){throw Error(X(321))}function nB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pr(t[n],e[n]))return!1;return!0}function rB(t,e,n,r,s,i){if(ZA=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yh.current=t===null||t.memoizedState===null?lL:cL,t=n(r,s),bc){i=0;do{if(bc=!1,lu=0,25<=i)throw Error(X(301));i+=1,Gt=Mt=null,e.updateQueue=null,Yh.current=uL,t=n(r,s)}while(bc)}if(Yh.current=Hf,e=Mt!==null&&Mt.next!==null,ZA=0,Gt=Mt=ht=null,Of=!1,e)throw Error(X(300));return t}function sB(){var t=lu!==0;return lu=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ht.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Cr(){if(Mt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Gt===null?ht.memoizedState:Gt.next;if(e!==null)Gt=e,Mt=t;else{if(t===null)throw Error(X(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Gt===null?ht.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function cu(t,e){return typeof e=="function"?e(t):e}function Ym(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=A=null,o=null,c=i;do{var u=c.lane;if((ZA&u)===u)o!==null&&(o=o.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};o===null?(a=o=h,A=r):o=o.next=h,ht.lanes|=u,ea|=u}c=c.next}while(c!==null&&c!==i);o===null?A=r:o.next=a,Pr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=A,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ht.lanes|=i,ea|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jm(t){var e=Cr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Pr(i,e.memoizedState)||(Vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bF(){}function TF(t,e){var n=ht,r=Cr(),s=e(),i=!Pr(r.memoizedState,s);if(i&&(r.memoizedState=s,Vn=!0),r=r.queue,iB(FF.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,uu(9,UF.bind(null,n,r,s,e),void 0,null),Wt===null)throw Error(X(349));ZA&30||IF(n,e,s)}return s}function IF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UF(t,e,n,r){e.value=n,e.getSnapshot=r,SF(e)&&QF(t)}function FF(t,e,n){return n(function(){SF(e)&&QF(t)})}function SF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pr(t,n)}catch{return!0}}function QF(t){var e=Os(t,1);e!==null&&kr(e,t,1,-1)}function a_(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:t},e.queue=t,t=t.dispatch=oL.bind(null,ht,t),[e.memoizedState,t]}function uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NF(){return Cr().memoizedState}function Jh(t,e,n,r){var s=Gr();ht.flags|=t,s.memoizedState=uu(1|e,n,void 0,r===void 0?null:r)}function og(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(Mt!==null){var A=Mt.memoizedState;if(i=A.destroy,r!==null&&nB(r,A.deps)){s.memoizedState=uu(e,n,i,r);return}}ht.flags|=t,s.memoizedState=uu(1|e,n,i,r)}function o_(t,e){return Jh(8390656,8,t,e)}function iB(t,e){return og(2048,8,t,e)}function kF(t,e){return og(4,2,t,e)}function RF(t,e){return og(4,4,t,e)}function PF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DF(t,e,n){return n=n!=null?n.concat([t]):null,og(4,4,PF.bind(null,e,t),n)}function AB(){}function LF(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function MF(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jF(t,e,n){return ZA&21?(Pr(n,e)||(n=zU(),ht.lanes|=n,ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function AL(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Xm.transition;Xm.transition={};try{t(!1),e()}finally{Ge=n,Xm.transition=r}}function OF(){return Cr().memoizedState}function aL(t,e,n){var r=Di(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HF(t))VF(e,n);else if(n=CF(t,e,n,r),n!==null){var s=Nn();kr(n,t,r,s),KF(n,e,r)}}function oL(t,e,n){var r=Di(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HF(t))VF(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,n);if(s.hasEagerState=!0,s.eagerState=a,Pr(a,A)){var o=e.interleaved;o===null?(s.next=s,Yw(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}n=CF(t,e,s,r),n!==null&&(s=Nn(),kr(n,t,r,s),KF(n,e,r))}}function HF(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function VF(t,e){bc=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dw(t,n)}}var Hf={readContext:xr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},lL={readContext:xr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:xr,useEffect:o_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jh(4194308,4,PF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jh(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aL.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:a_,useDebugValue:AB,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=a_(!1),e=t[0];return t=AL.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,s=Gr();if(at){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Wt===null)throw Error(X(349));ZA&30||IF(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,o_(FF.bind(null,r,i,t),[t]),r.flags|=2048,uu(9,UF.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gr(),e=Wt.identifierPrefix;if(at){var n=Fs,r=Us;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cL={readContext:xr,useCallback:LF,useContext:xr,useEffect:iB,useImperativeHandle:DF,useInsertionEffect:kF,useLayoutEffect:RF,useMemo:MF,useReducer:Ym,useRef:NF,useState:function(){return Ym(cu)},useDebugValue:AB,useDeferredValue:function(t){var e=Cr();return jF(e,Mt.memoizedState,t)},useTransition:function(){var t=Ym(cu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:bF,useSyncExternalStore:TF,useId:OF,unstable_isNewReconciler:!1},uL={readContext:xr,useCallback:LF,useContext:xr,useEffect:iB,useImperativeHandle:DF,useInsertionEffect:kF,useLayoutEffect:RF,useMemo:MF,useReducer:Jm,useRef:NF,useState:function(){return Jm(cu)},useDebugValue:AB,useDeferredValue:function(t){var e=Cr();return Mt===null?e.memoizedState=t:jF(e,Mt.memoizedState,t)},useTransition:function(){var t=Jm(cu)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:bF,useSyncExternalStore:TF,useId:OF,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ry(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lg={isMounted:function(t){return(t=t._reactInternals)?pa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=Di(t),i=Rs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ri(t,i,s),e!==null&&(kr(e,t,s,r),Xh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nn(),s=Di(t),i=Rs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ri(t,i,s),e!==null&&(kr(e,t,s,r),Xh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),r=Di(t),s=Rs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ri(t,s,r),e!==null&&(kr(e,t,r,n),Xh(e,t,r))}};function l_(t,e,n,r,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,A):e.prototype&&e.prototype.isPureReactComponent?!ru(n,r)||!ru(s,i):!0}function zF(t,e,n){var r=!1,s=$i,i=e.contextType;return typeof i=="object"&&i!==null?i=xr(i):(s=Gn(e)?YA:Cn.current,r=e.contextTypes,i=(r=r!=null)?Qo(t,s):$i),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function c_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lg.enqueueReplaceState(e,e.state,null)}function Py(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=xr(i):(i=Gn(e)?YA:Cn.current,s.context=Qo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ry(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&lg.enqueueReplaceState(s,s.state,null),Mf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,e){try{var n="",r=e;do n+=MP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dL=typeof WeakMap=="function"?WeakMap:Map;function GF(t,e,n){n=Rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kf||(Kf=!0,$y=r),Dy(t,e)},n}function $F(t,e,n){n=Rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Dy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Dy(t,e),typeof r!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),n}function u_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new dL;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=bL.bind(null,t,e,n),e.then(t,t))}function d_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function h_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rs(-1,1),e.tag=2,Ri(n,e,1))),n.lanes|=1),t)}var hL=ei.ReactCurrentOwner,Vn=!1;function Fn(t,e,n,r){e.child=t===null?xF(e,null,n,r):ko(e,t.child,n,r)}function f_(t,e,n,r,s){n=n.render;var i=e.ref;return vo(e,s),r=rB(t,e,n,r,i,s),n=sB(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(at&&n&&zw(e),e.flags|=1,Fn(t,e,r,s),e.child)}function p_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!fB(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,WF(t,e,i,r,s)):(t=nf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(n=n.compare,n=n!==null?n:ru,n(A,r)&&t.ref===e.ref)return Hs(t,e,s)}return e.flags|=1,t=Li(i,r),t.ref=e.ref,t.return=e,e.child=t}function WF(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ru(i,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Hs(t,e,s)}return Ly(t,e,n,r,s)}function qF(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ro,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(ro,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,tt(ro,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,tt(ro,Yn),Yn|=r;return Fn(t,e,s,n),e.child}function XF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ly(t,e,n,r,s){var i=Gn(n)?YA:Cn.current;return i=Qo(e,i),vo(e,s),n=rB(t,e,n,r,i,s),r=sB(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hs(t,e,s)):(at&&r&&zw(e),e.flags|=1,Fn(t,e,n,s),e.child)}function g_(t,e,n,r,s){if(Gn(n)){var i=!0;kf(e)}else i=!1;if(vo(e,s),e.stateNode===null)Zh(t,e),zF(e,n,r),Py(e,n,r,s),r=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,c=n.contextType;typeof c=="object"&&c!==null?c=xr(c):(c=Gn(n)?YA:Cn.current,c=Qo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";h||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==r||o!==c)&&c_(e,A,r,c),di=!1;var f=e.memoizedState;A.state=f,Mf(e,r,A,s),o=e.memoizedState,a!==r||f!==o||zn.current||di?(typeof u=="function"&&(Ry(e,n,u,r),o=e.memoizedState),(a=di||l_(e,n,a,r,f,o,c))?(h||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),A.props=r,A.state=o,A.context=c,r=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{A=e.stateNode,EF(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ir(e.type,a),A.props=c,h=e.pendingProps,f=A.context,o=n.contextType,typeof o=="object"&&o!==null?o=xr(o):(o=Gn(n)?YA:Cn.current,o=Qo(e,o));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==h||f!==o)&&c_(e,A,r,o),di=!1,f=e.memoizedState,A.state=f,Mf(e,r,A,s);var m=e.memoizedState;a!==h||f!==m||zn.current||di?(typeof g=="function"&&(Ry(e,n,g,r),m=e.memoizedState),(c=di||l_(e,n,c,r,f,m,o)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,m,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,m,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),A.props=r,A.state=m,A.context=o,r=c):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return My(t,e,n,r,i,s)}function My(t,e,n,r,s,i){XF(t,e);var A=(e.flags&128)!==0;if(!r&&!A)return s&&t_(e,n,!1),Hs(t,e,i);r=e.stateNode,hL.current=e;var a=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&A?(e.child=ko(e,t.child,null,i),e.child=ko(e,null,a,i)):Fn(t,e,a,i),e.memoizedState=r.state,s&&t_(e,n,!0),e.child}function YF(t){var e=t.stateNode;e.pendingContext?e_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e_(t,e.context,!1),Zw(t,e.containerInfo)}function m_(t,e,n,r,s){return No(),$w(s),e.flags|=256,Fn(t,e,n,r),e.child}var jy={dehydrated:null,treeContext:null,retryLane:0};function Oy(t){return{baseLanes:t,cachePool:null,transitions:null}}function JF(t,e,n){var r=e.pendingProps,s=ut.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),tt(ut,s&1),t===null)return Ny(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=r.children,t=r.fallback,i?(r=e.mode,i=e.child,A={mode:"hidden",children:A},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=dg(A,r,0,null),t=KA(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Oy(n),e.memoizedState=jy,t):aB(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return fL(t,e,A,r,a,s,n);if(i){i=r.fallback,A=e.mode,s=t.child,a=s.sibling;var o={mode:"hidden",children:r.children};return!(A&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Li(s,o),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Li(a,i):(i=KA(i,A,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,A=t.child.memoizedState,A=A===null?Oy(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~n,e.memoizedState=jy,r}return i=t.child,t=i.sibling,r=Li(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aB(t,e){return e=dg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,n,r){return r!==null&&$w(r),ko(e,t.child,null,n),t=aB(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fL(t,e,n,r,s,i,A){if(n)return e.flags&256?(e.flags&=-257,r=Zm(Error(X(422))),sh(t,e,A,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=dg({mode:"visible",children:r.children},s,0,null),i=KA(i,s,A,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ko(e,t.child,null,A),e.child.memoizedState=Oy(A),e.memoizedState=jy,i);if(!(e.mode&1))return sh(t,e,A,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=Zm(i,r,void 0),sh(t,e,A,r)}if(a=(A&t.childLanes)!==0,Vn||a){if(r=Wt,r!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(t,s),kr(r,t,s,-1))}return hB(),r=Zm(Error(X(421))),sh(t,e,A,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=TL.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jn=ki(s.nextSibling),tr=e,at=!0,Fr=null,t!==null&&(fr[pr++]=Us,fr[pr++]=Fs,fr[pr++]=JA,Us=t.id,Fs=t.overflow,JA=e),e=aB(e,r.children),e.flags|=4096,e)}function y_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ky(t.return,e,n)}function e0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZF(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Fn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y_(t,n,e);else if(t.tag===19)y_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&jf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),e0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&jf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}e0(e,!0,n,null,i);break;case"together":e0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pL(t,e,n){switch(e.tag){case 3:YF(e),No();break;case 5:_F(e);break;case 1:Gn(e.type)&&kf(e);break;case 4:Zw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;tt(Df,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?JF(t,e,n):(tt(ut,ut.current&1),t=Hs(t,e,n),t!==null?t.sibling:null);tt(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZF(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,qF(t,e,n)}return Hs(t,e,n)}var eS,Hy,tS,nS;eS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hy=function(){};tS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,LA(ts.current);var i=null;switch(n){case"input":s=cy(t,s),r=cy(t,r),i=[];break;case"select":s=ft({},s,{value:void 0}),r=ft({},r,{value:void 0}),i=[];break;case"textarea":s=hy(t,s),r=hy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qf)}py(n,r);var A;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(A in a)a.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var o=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&o!==a&&(o!=null||a!=null))if(c==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(n||(n={}),n[A]=o[A])}else n||(i||(i=[]),i.push(c,n)),n=o;else c==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(i=i||[]).push(c,o)):c==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(c,""+o):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xc.hasOwnProperty(c)?(o!=null&&c==="onScroll"&&rt("scroll",t),i||a===o||(i=[])):(i=i||[]).push(c,o))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};nS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ml(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gL(t,e,n){var r=e.pendingProps;switch(Gw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return Gn(e.type)&&Nf(),hn(e),null;case 3:return r=e.stateNode,Ro(),st(zn),st(Cn),tB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fr!==null&&(Xy(Fr),Fr=null))),Hy(t,e),hn(e),null;case 5:eB(e);var s=LA(ou.current);if(n=e.type,t!==null&&e.stateNode!=null)tS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return hn(e),null}if(t=LA(ts.current),nh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wr]=e,r[Au]=i,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(s=0;s<tc.length;s++)rt(tc[s],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":TE(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":UE(r,i),rt("invalid",r)}py(n,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&th(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&th(r.textContent,a,t),s=["children",""+a]):Xc.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&rt("scroll",r)}switch(n){case"input":$d(r),IE(r,i,!0);break;case"textarea":$d(r),FE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Qf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=A.createElement(n,{is:r.is}):(t=A.createElement(n),n==="select"&&(A=t,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):t=A.createElementNS(t,n),t[Wr]=e,t[Au]=r,eS(t,e,!1,!1),e.stateNode=t;e:{switch(A=gy(n,r),n){case"dialog":rt("cancel",t),rt("close",t),s=r;break;case"iframe":case"object":case"embed":rt("load",t),s=r;break;case"video":case"audio":for(s=0;s<tc.length;s++)rt(tc[s],t);s=r;break;case"source":rt("error",t),s=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),s=r;break;case"details":rt("toggle",t),s=r;break;case"input":TE(t,r),s=cy(t,r),rt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ft({},r,{value:void 0}),rt("invalid",t);break;case"textarea":UE(t,r),s=hy(t,r),rt("invalid",t);break;default:s=r}py(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="style"?NU(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&SU(t,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Yc(t,o):typeof o=="number"&&Yc(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xc.hasOwnProperty(i)?o!=null&&i==="onScroll"&&rt("scroll",t):o!=null&&Sw(t,i,o,A))}switch(n){case"input":$d(t),IE(t,r,!1);break;case"textarea":$d(t),FE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?po(t,!!r.multiple,i,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)nS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=LA(ou.current),LA(ts.current),nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(i=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:th(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&th(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return hn(e),null;case 13:if(st(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Jn!==null&&e.mode&1&&!(e.flags&128))wF(),No(),e.flags|=98560,i=!1;else if(i=nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[Wr]=e}else No(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),i=!1}else Fr!==null&&(Xy(Fr),Fr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Ot===0&&(Ot=3):hB())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Ro(),Hy(t,e),t===null&&su(e.stateNode.containerInfo),hn(e),null;case 10:return Xw(e.type._context),hn(e),null;case 17:return Gn(e.type)&&Nf(),hn(e),null;case 19:if(st(ut),i=e.memoizedState,i===null)return hn(e),null;if(r=(e.flags&128)!==0,A=i.rendering,A===null)if(r)Ml(i,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=jf(t),A!==null){for(e.flags|=128,Ml(i,!1),r=A.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&It()>Do&&(e.flags|=128,r=!0,Ml(i,!1),e.lanes=4194304)}else{if(!r)if(t=jf(A),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ml(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!at)return hn(e),null}else 2*It()-i.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,r=!0,Ml(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(n=i.last,n!==null?n.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=It(),e.sibling=null,n=ut.current,tt(ut,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return dB(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function mL(t,e){switch(Gw(e),e.tag){case 1:return Gn(e.type)&&Nf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),st(zn),st(Cn),tB(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return eB(e),null;case 13:if(st(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));No()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ut),null;case 4:return Ro(),null;case 10:return Xw(e.type._context),null;case 22:case 23:return dB(),null;case 24:return null;default:return null}}var ih=!1,wn=!1,yL=typeof WeakSet=="function"?WeakSet:Set,le=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Vy(t,e,n){try{n()}catch(r){vt(t,e,r)}}var v_=!1;function vL(t,e){if(by=Uf,t=aF(),Kw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var A=0,a=-1,o=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=A+s),h!==i||r!==0&&h.nodeType!==3||(o=A+r),h.nodeType===3&&(A+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=A),f===i&&++u===r&&(o=A),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ty={focusedElem:t,selectionRange:n},Uf=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,E=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ir(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(Q){vt(e,e.return,Q)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=v_,v_=!1,m}function Tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vy(e,n,i)}s=s.next}while(s!==r)}}function cg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ky(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rS(t){var e=t.alternate;e!==null&&(t.alternate=null,rS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[Au],delete e[Fy],delete e[tL],delete e[nL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sS(t){return t.tag===5||t.tag===3||t.tag===4}function w_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qf));else if(r!==4&&(t=t.child,t!==null))for(zy(t,e,n),t=t.sibling;t!==null;)zy(t,e,n),t=t.sibling}function Gy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gy(t,e,n),t=t.sibling;t!==null;)Gy(t,e,n),t=t.sibling}var Xt=null,Ur=!1;function ii(t,e,n){for(n=n.child;n!==null;)iS(t,e,n),n=n.sibling}function iS(t,e,n){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(ng,n)}catch{}switch(n.tag){case 5:wn||no(n,e);case 6:var r=Xt,s=Ur;Xt=null,ii(t,e,n),Xt=r,Ur=s,Xt!==null&&(Ur?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(Ur?(t=Xt,n=n.stateNode,t.nodeType===8?$m(t.parentNode,n):t.nodeType===1&&$m(t,n),tu(t)):$m(Xt,n.stateNode));break;case 4:r=Xt,s=Ur,Xt=n.stateNode.containerInfo,Ur=!0,ii(t,e,n),Xt=r,Ur=s;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Vy(n,e,A),s=s.next}while(s!==r)}ii(t,e,n);break;case 1:if(!wn&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,ii(t,e,n),wn=r):ii(t,e,n);break;default:ii(t,e,n)}}function B_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yL),e.forEach(function(r){var s=IL.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,Ur=!1;break e;case 3:Xt=a.stateNode.containerInfo,Ur=!0;break e;case 4:Xt=a.stateNode.containerInfo,Ur=!0;break e}a=a.return}if(Xt===null)throw Error(X(160));iS(i,A,s),Xt=null,Ur=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(c){vt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AS(e,t),e=e.sibling}function AS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_r(e,t),Kr(t),r&4){try{Tc(3,t,t.return),cg(3,t)}catch(v){vt(t,t.return,v)}try{Tc(5,t,t.return)}catch(v){vt(t,t.return,v)}}break;case 1:_r(e,t),Kr(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(_r(e,t),Kr(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var s=t.stateNode;try{Yc(s,"")}catch(v){vt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=n!==null?n.memoizedProps:i,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&IU(s,i),gy(a,A);var c=gy(a,i);for(A=0;A<o.length;A+=2){var u=o[A],h=o[A+1];u==="style"?NU(s,h):u==="dangerouslySetInnerHTML"?SU(s,h):u==="children"?Yc(s,h):Sw(s,u,h,c)}switch(a){case"input":uy(s,i);break;case"textarea":UU(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?po(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?po(s,!!i.multiple,i.defaultValue,!0):po(s,!!i.multiple,i.multiple?[]:"",!1))}s[Au]=i}catch(v){vt(t,t.return,v)}}break;case 6:if(_r(e,t),Kr(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){vt(t,t.return,v)}}break;case 3:if(_r(e,t),Kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tu(e.containerInfo)}catch(v){vt(t,t.return,v)}break;case 4:_r(e,t),Kr(t);break;case 13:_r(e,t),Kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cB=It())),r&4&&B_(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(c=wn)||u,_r(e,t),wn=c):_r(e,t),Kr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(le=t,u=t.child;u!==null;){for(h=le=u;le!==null;){switch(f=le,g=f.child,f.tag){case 0:case 11:case 14:case 15:Tc(4,f,f.return);break;case 1:no(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){vt(r,n,v)}}break;case 5:no(f,f.return);break;case 22:if(f.memoizedState!==null){C_(h);continue}}g!==null?(g.return=f,le=g):C_(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,o=h.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=QU("display",A))}catch(v){vt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){vt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_r(e,t),Kr(t),r&4&&B_(t);break;case 21:break;default:_r(e,t),Kr(t)}}function Kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yc(s,""),r.flags&=-33);var i=w_(t);Gy(t,i,s);break;case 3:case 4:var A=r.stateNode.containerInfo,a=w_(t);zy(t,a,A);break;default:throw Error(X(161))}}catch(o){vt(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wL(t,e,n){le=t,aS(t)}function aS(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var A=s.memoizedState!==null||ih;if(!A){var a=s.alternate,o=a!==null&&a.memoizedState!==null||wn;a=ih;var c=wn;if(ih=A,(wn=o)&&!c)for(le=s;le!==null;)A=le,o=A.child,A.tag===22&&A.memoizedState!==null?E_(s):o!==null?(o.return=A,le=o):E_(s);for(;i!==null;)le=i,aS(i),i=i.sibling;le=s,ih=a,wn=c}x_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):x_(t)}}function x_(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||cg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&A_(e,i,r);break;case 3:var A=e.updateQueue;if(A!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}A_(e,A,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&tu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}wn||e.flags&512&&Ky(e)}catch(f){vt(e,e.return,f)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function C_(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function E_(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cg(4,e)}catch(o){vt(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(o){vt(e,s,o)}}var i=e.return;try{Ky(e)}catch(o){vt(e,i,o)}break;case 5:var A=e.return;try{Ky(e)}catch(o){vt(e,A,o)}}}catch(o){vt(e,e.return,o)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var BL=Math.ceil,Vf=ei.ReactCurrentDispatcher,oB=ei.ReactCurrentOwner,wr=ei.ReactCurrentBatchConfig,De=0,Wt=null,Pt=null,rn=0,Yn=0,ro=cA(0),Ot=0,du=null,ea=0,ug=0,lB=0,Ic=null,Hn=null,cB=0,Do=1/0,bs=null,Kf=!1,$y=null,Pi=null,Ah=!1,Ei=null,zf=0,Uc=0,Wy=null,ef=-1,tf=0;function Nn(){return De&6?It():ef!==-1?ef:ef=It()}function Di(t){return t.mode&1?De&2&&rn!==0?rn&-rn:sL.transition!==null?(tf===0&&(tf=zU()),tf):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:JU(t.type)),t):1}function kr(t,e,n,r){if(50<Uc)throw Uc=0,Wy=null,Error(X(185));qu(t,n,r),(!(De&2)||t!==Wt)&&(t===Wt&&(!(De&2)&&(ug|=n),Ot===4&&pi(t,rn)),$n(t,r),n===1&&De===0&&!(e.mode&1)&&(Do=It()+500,ag&&uA()))}function $n(t,e){var n=t.callbackNode;sD(t,e);var r=If(t,t===Wt?rn:0);if(r===0)n!==null&&NE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&NE(n),e===1)t.tag===0?rL(__.bind(null,t)):mF(__.bind(null,t)),ZD(function(){!(De&6)&&uA()}),n=null;else{switch(GU(r)){case 1:n=Pw;break;case 4:n=VU;break;case 16:n=Tf;break;case 536870912:n=KU;break;default:n=Tf}n=pS(n,oS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oS(t,e){if(ef=-1,tf=0,De&6)throw Error(X(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=If(t,t===Wt?rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gf(t,r);else{e=r;var s=De;De|=2;var i=cS();(Wt!==t||rn!==e)&&(bs=null,Do=It()+500,VA(t,e));do try{EL();break}catch(a){lS(t,a)}while(!0);qw(),Vf.current=i,De=s,Pt!==null?e=0:(Wt=null,rn=0,e=Ot)}if(e!==0){if(e===2&&(s=By(t),s!==0&&(r=s,e=qy(t,s))),e===1)throw n=du,VA(t,0),pi(t,r),$n(t,It()),n;if(e===6)pi(t,r);else{if(s=t.current.alternate,!(r&30)&&!xL(s)&&(e=Gf(t,r),e===2&&(i=By(t),i!==0&&(r=i,e=qy(t,i))),e===1))throw n=du,VA(t,0),pi(t,r),$n(t,It()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:FA(t,Hn,bs);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=cB+500-It(),10<e)){if(If(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uy(FA.bind(null,t,Hn,bs),e);break}FA(t,Hn,bs);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var A=31-Nr(r);i=1<<A,A=e[A],A>s&&(s=A),r&=~i}if(r=s,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BL(r/1960))-r,10<r){t.timeoutHandle=Uy(FA.bind(null,t,Hn,bs),r);break}FA(t,Hn,bs);break;case 5:FA(t,Hn,bs);break;default:throw Error(X(329))}}}return $n(t,It()),t.callbackNode===n?oS.bind(null,t):null}function qy(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(VA(t,e).flags|=256),t=Gf(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&Xy(e)),t}function Xy(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function xL(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~lB,e&=~ug,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function __(t){if(De&6)throw Error(X(327));wo();var e=If(t,0);if(!(e&1))return $n(t,It()),null;var n=Gf(t,e);if(t.tag!==0&&n===2){var r=By(t);r!==0&&(e=r,n=qy(t,r))}if(n===1)throw n=du,VA(t,0),pi(t,e),$n(t,It()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,FA(t,Hn,bs),$n(t,It()),null}function uB(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Do=It()+500,ag&&uA())}}function ta(t){Ei!==null&&Ei.tag===0&&!(De&6)&&wo();var e=De;De|=1;var n=wr.transition,r=Ge;try{if(wr.transition=null,Ge=1,t)return t()}finally{Ge=r,wr.transition=n,De=e,!(De&6)&&uA()}}function dB(){Yn=ro.current,st(ro)}function VA(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JD(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(Gw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nf();break;case 3:Ro(),st(zn),st(Cn),tB();break;case 5:eB(r);break;case 4:Ro();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Xw(r.type._context);break;case 22:case 23:dB()}n=n.return}if(Wt=t,Pt=t=Li(t.current,null),rn=Yn=e,Ot=0,du=null,lB=ug=ea=0,Hn=Ic=null,DA!==null){for(e=0;e<DA.length;e++)if(n=DA[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var A=i.next;i.next=s,r.next=A}n.pending=r}DA=null}return t}function lS(t,e){do{var n=Pt;try{if(qw(),Yh.current=Hf,Of){for(var r=ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Of=!1}if(ZA=0,Gt=Mt=ht=null,bc=!1,lu=0,oB.current=null,n===null||n.return===null){Ot=1,du=e,Pt=null;break}e:{var i=t,A=n.return,a=n,o=e;if(e=rn,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=o,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=d_(A);if(g!==null){g.flags&=-257,h_(g,A,a,i,e),g.mode&1&&u_(i,c,e),e=g,o=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(o),e.updateQueue=v}else m.add(o);break e}else{if(!(e&1)){u_(i,c,e),hB();break e}o=Error(X(426))}}else if(at&&a.mode&1){var E=d_(A);if(E!==null){!(E.flags&65536)&&(E.flags|=256),h_(E,A,a,i,e),$w(Po(o,a));break e}}i=o=Po(o,a),Ot!==4&&(Ot=2),Ic===null?Ic=[i]:Ic.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=GF(i,o,e);i_(i,x);break e;case 1:a=o;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pi===null||!Pi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var Q=$F(i,a,e);i_(i,Q);break e}}i=i.return}while(i!==null)}dS(n)}catch(U){e=U,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function cS(){var t=Vf.current;return Vf.current=Hf,t===null?Hf:t}function hB(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Wt===null||!(ea&268435455)&&!(ug&268435455)||pi(Wt,rn)}function Gf(t,e){var n=De;De|=2;var r=cS();(Wt!==t||rn!==e)&&(bs=null,VA(t,e));do try{CL();break}catch(s){lS(t,s)}while(!0);if(qw(),De=n,Vf.current=r,Pt!==null)throw Error(X(261));return Wt=null,rn=0,Ot}function CL(){for(;Pt!==null;)uS(Pt)}function EL(){for(;Pt!==null&&!qP();)uS(Pt)}function uS(t){var e=fS(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?dS(t):Pt=e,oB.current=null}function dS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mL(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Pt=null;return}}else if(n=gL(n,e,Yn),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ot===0&&(Ot=5)}function FA(t,e,n){var r=Ge,s=wr.transition;try{wr.transition=null,Ge=1,_L(t,e,n,r)}finally{wr.transition=s,Ge=r}return null}function _L(t,e,n,r){do wo();while(Ei!==null);if(De&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iD(t,i),t===Wt&&(Pt=Wt=null,rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ah||(Ah=!0,pS(Tf,function(){return wo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wr.transition,wr.transition=null;var A=Ge;Ge=1;var a=De;De|=4,oB.current=null,vL(t,n),AS(n,t),zD(Ty),Uf=!!by,Ty=by=null,t.current=n,wL(n),XP(),De=a,Ge=A,wr.transition=i}else t.current=n;if(Ah&&(Ah=!1,Ei=t,zf=s),i=t.pendingLanes,i===0&&(Pi=null),ZP(n.stateNode),$n(t,It()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kf)throw Kf=!1,t=$y,$y=null,t;return zf&1&&t.tag!==0&&wo(),i=t.pendingLanes,i&1?t===Wy?Uc++:(Uc=0,Wy=t):Uc=0,uA(),null}function wo(){if(Ei!==null){var t=GU(zf),e=wr.transition,n=Ge;try{if(wr.transition=null,Ge=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,zf=0,De&6)throw Error(X(331));var s=De;for(De|=4,le=t.current;le!==null;){var i=le,A=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var o=0;o<a.length;o++){var c=a[o];for(le=c;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:Tc(8,u,i)}var h=u.child;if(h!==null)h.return=u,le=h;else for(;le!==null;){u=le;var f=u.sibling,g=u.return;if(rS(u),u===c){le=null;break}if(f!==null){f.return=g,le=f;break}le=g}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}le=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,le=A;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,le=x;break e}le=i.return}}var y=t.current;for(le=y;le!==null;){A=le;var w=A.child;if(A.subtreeFlags&2064&&w!==null)w.return=A,le=w;else e:for(A=y;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cg(9,a)}}catch(U){vt(a,a.return,U)}if(a===A){le=null;break e}var Q=a.sibling;if(Q!==null){Q.return=a.return,le=Q;break e}le=a.return}}if(De=s,uA(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(ng,t)}catch{}r=!0}return r}finally{Ge=n,wr.transition=e}}return!1}function b_(t,e,n){e=Po(n,e),e=GF(t,e,1),t=Ri(t,e,1),e=Nn(),t!==null&&(qu(t,1,e),$n(t,e))}function vt(t,e,n){if(t.tag===3)b_(t,t,n);else for(;e!==null;){if(e.tag===3){b_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pi===null||!Pi.has(r))){t=Po(n,t),t=$F(e,t,1),e=Ri(e,t,1),t=Nn(),e!==null&&(qu(e,1,t),$n(e,t));break}}e=e.return}}function bL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(rn&n)===n&&(Ot===4||Ot===3&&(rn&130023424)===rn&&500>It()-cB?VA(t,0):lB|=n),$n(t,e)}function hS(t,e){e===0&&(t.mode&1?(e=Xd,Xd<<=1,!(Xd&130023424)&&(Xd=4194304)):e=1);var n=Nn();t=Os(t,e),t!==null&&(qu(t,e,n),$n(t,n))}function TL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hS(t,n)}function IL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),hS(t,n)}var fS;fS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,pL(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,at&&e.flags&1048576&&yF(e,Pf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zh(t,e),t=e.pendingProps;var s=Qo(e,Cn.current);vo(e,n),s=rB(null,e,r,t,s,n);var i=sB();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gn(r)?(i=!0,kf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jw(e),s.updater=lg,e.stateNode=s,s._reactInternals=e,Py(e,r,t,n),e=My(null,e,r,!0,i,n)):(e.tag=0,at&&i&&zw(e),Fn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=FL(r),t=Ir(r,t),s){case 0:e=Ly(null,e,r,t,n);break e;case 1:e=g_(null,e,r,t,n);break e;case 11:e=f_(null,e,r,t,n);break e;case 14:e=p_(null,e,r,Ir(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),Ly(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),g_(t,e,r,s,n);case 3:e:{if(YF(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,EF(t,e),Mf(e,r,null,n);var A=e.memoizedState;if(r=A.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Po(Error(X(423)),e),e=m_(t,e,r,n,s);break e}else if(r!==s){s=Po(Error(X(424)),e),e=m_(t,e,r,n,s);break e}else for(Jn=ki(e.stateNode.containerInfo.firstChild),tr=e,at=!0,Fr=null,n=xF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(No(),r===s){e=Hs(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return _F(e),t===null&&Ny(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,Iy(r,s)?A=null:i!==null&&Iy(r,i)&&(e.flags|=32),XF(t,e),Fn(t,e,A,n),e.child;case 6:return t===null&&Ny(e),null;case 13:return JF(t,e,n);case 4:return Zw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ko(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),f_(t,e,r,s,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,tt(Df,r._currentValue),r._currentValue=A,i!==null)if(Pr(i.value,A)){if(i.children===s.children&&!zn.current){e=Hs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(i.tag===1){o=Rs(-1,n&-n),o.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?o.next=o:(o.next=u.next,u.next=o),c.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),ky(i.return,n,e),a.lanes|=n;break}o=o.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(X(341));A.lanes|=n,a=A.alternate,a!==null&&(a.lanes|=n),ky(A,n,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}Fn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vo(e,n),s=xr(s),r=r(s),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,s=Ir(r,e.pendingProps),s=Ir(r.type,s),p_(t,e,r,s,n);case 15:return WF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),Zh(t,e),e.tag=1,Gn(r)?(t=!0,kf(e)):t=!1,vo(e,n),zF(e,r,s),Py(e,r,s,n),My(null,e,r,!0,t,n);case 19:return ZF(t,e,n);case 22:return qF(t,e,n)}throw Error(X(156,e.tag))};function pS(t,e){return HU(t,e)}function UL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new UL(t,e,n,r)}function fB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FL(t){if(typeof t=="function")return fB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nw)return 11;if(t===kw)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nf(t,e,n,r,s,i){var A=2;if(r=t,typeof t=="function")fB(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case $a:return KA(n.children,s,i,e);case Qw:A=8,s|=8;break;case Ay:return t=mr(12,n,e,s|2),t.elementType=Ay,t.lanes=i,t;case ay:return t=mr(13,n,e,s),t.elementType=ay,t.lanes=i,t;case oy:return t=mr(19,n,e,s),t.elementType=oy,t.lanes=i,t;case _U:return dg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case CU:A=10;break e;case EU:A=9;break e;case Nw:A=11;break e;case kw:A=14;break e;case ui:A=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=mr(A,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function KA(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function dg(t,e,n,r){return t=mr(22,t,r,e),t.elementType=_U,t.lanes=n,t.stateNode={isHidden:!1},t}function t0(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function n0(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SL(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pB(t,e,n,r,s,i,A,a,o){return t=new SL(t,e,n,a,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jw(i),t}function QL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gS(t){if(!t)return $i;t=t._reactInternals;e:{if(pa(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Gn(n))return gF(t,n,e)}return e}function mS(t,e,n,r,s,i,A,a,o){return t=pB(n,r,!0,t,s,i,A,a,o),t.context=gS(null),n=t.current,r=Nn(),s=Di(n),i=Rs(r,s),i.callback=e??null,Ri(n,i,s),t.current.lanes=s,qu(t,s,r),$n(t,r),t}function hg(t,e,n,r){var s=e.current,i=Nn(),A=Di(s);return n=gS(n),e.context===null?e.context=n:e.pendingContext=n,e=Rs(i,A),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ri(s,e,A),t!==null&&(kr(t,s,A,i),Xh(t,s,A)),A}function $f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gB(t,e){T_(t,e),(t=t.alternate)&&T_(t,e)}function NL(){return null}var yS=typeof reportError=="function"?reportError:function(t){console.error(t)};function mB(t){this._internalRoot=t}fg.prototype.render=mB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));hg(t,e,null,null)};fg.prototype.unmount=mB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ta(function(){hg(null,t,null,null)}),e[js]=null}};function fg(t){this._internalRoot=t}fg.prototype.unstable_scheduleHydration=function(t){if(t){var e=qU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&YU(t)}};function yB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I_(){}function kL(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$f(A);i.call(c)}}var A=mS(e,r,t,0,null,!1,!1,"",I_);return t._reactRootContainer=A,t[js]=A.current,su(t.nodeType===8?t.parentNode:t),ta(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$f(o);a.call(c)}}var o=pB(t,0,!1,null,null,!1,!1,"",I_);return t._reactRootContainer=o,t[js]=o.current,su(t.nodeType===8?t.parentNode:t),ta(function(){hg(e,o,n,r)}),o}function gg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var o=$f(A);a.call(o)}}hg(e,A,t,s)}else A=kL(n,e,t,s,r);return $f(A)}$U=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(Dw(e,n|1),$n(e,It()),!(De&6)&&(Do=It()+500,uA()))}break;case 13:ta(function(){var r=Os(t,1);if(r!==null){var s=Nn();kr(r,t,1,s)}}),gB(t,1)}};Lw=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=Nn();kr(e,t,134217728,n)}gB(t,134217728)}};WU=function(t){if(t.tag===13){var e=Di(t),n=Os(t,e);if(n!==null){var r=Nn();kr(n,t,e,r)}gB(t,e)}};qU=function(){return Ge};XU=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};yy=function(t,e,n){switch(e){case"input":if(uy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ag(r);if(!s)throw Error(X(90));TU(r),uy(r,s)}}}break;case"textarea":UU(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};PU=uB;DU=ta;var RL={usingClientEntryPoint:!1,Events:[Yu,Ya,Ag,kU,RU,uB]},jl={findFiberByHostInstance:PA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PL={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jU(t),t===null?null:t.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||NL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{ng=ah.inject(PL),es=ah}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RL;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yB(e))throw Error(X(200));return QL(t,e,null,n)};or.createRoot=function(t,e){if(!yB(t))throw Error(X(299));var n=!1,r="",s=yS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pB(t,1,!1,null,null,n,!1,r,s),t[js]=e.current,su(t.nodeType===8?t.parentNode:t),new mB(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=jU(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return ta(t)};or.hydrate=function(t,e,n){if(!pg(e))throw Error(X(200));return gg(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!yB(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",A=yS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),e=mS(e,null,t,1,n??null,s,!1,i,A),t[js]=e.current,su(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new fg(e)};or.render=function(t,e,n){if(!pg(e))throw Error(X(200));return gg(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!pg(t))throw Error(X(40));return t._reactRootContainer?(ta(function(){gg(null,null,t,!1,function(){t._reactRootContainer=null,t[js]=null})}),!0):!1};or.unstable_batchedUpdates=uB;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pg(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return gg(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function vS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vS)}catch(t){console.error(t)}}vS(),vU.exports=or;var DL=vU.exports,vB,U_=DL;vB=U_.createRoot,U_.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}var _i;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_i||(_i={}));const F_="popstate";function LL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:A,hash:a}=r.location;return Yy("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wf(s)}return jL(e,n,null,t)}function Ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ML(){return Math.random().toString(36).substr(2,8)}function S_(t,e){return{usr:t.state,key:t.key,idx:e}}function Yy(t,e,n,r){return n===void 0&&(n=null),hu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sl(e):e,{state:n,key:e&&e.key||r||ML()})}function Wf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,A=s.history,a=_i.Pop,o=null,c=u();c==null&&(c=0,A.replaceState(hu({},A.state,{idx:c}),""));function u(){return(A.state||{idx:null}).idx}function h(){a=_i.Pop;let E=u(),x=E==null?null:E-c;c=E,o&&o({action:a,location:v.location,delta:x})}function f(E,x){a=_i.Push;let y=Yy(v.location,E,x);c=u()+1;let w=S_(y,c),Q=v.createHref(y);try{A.pushState(w,"",Q)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(Q)}i&&o&&o({action:a,location:v.location,delta:1})}function g(E,x){a=_i.Replace;let y=Yy(v.location,E,x);c=u();let w=S_(y,c),Q=v.createHref(y);A.replaceState(w,"",Q),i&&o&&o({action:a,location:v.location,delta:0})}function m(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:Wf(E);return y=y.replace(/ $/,"%20"),Ut(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return t(s,A)},listen(E){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(F_,h),o=E,()=>{s.removeEventListener(F_,h),o=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let x=m(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(E){return A.go(E)}};return v}var Q_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Q_||(Q_={}));function OL(t,e,n){return n===void 0&&(n="/"),HL(t,e,n,!1)}function HL(t,e,n,r){let s=typeof e=="string"?sl(e):e,i=wB(s.pathname||"/",n);if(i==null)return null;let A=BS(t);VL(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let c=eM(i);a=JL(A[o],c,r)}return a}function BS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,A,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};o.relativePath.startsWith("/")&&(Ut(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let c=Mi([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(Ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BS(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:XL(c,i.index),routesMeta:u})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let o of xS(i.path))s(i,A,o)}),e}function xS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let A=xS(r.join("/")),a=[];return a.push(...A.map(o=>o===""?i:[i,o].join("/"))),s&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function VL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const KL=/^:[\w-]+$/,zL=3,GL=2,$L=1,WL=10,qL=-2,N_=t=>t==="*";function XL(t,e){let n=t.split("/"),r=n.length;return n.some(N_)&&(r+=qL),e&&(r+=GL),n.filter(s=>!N_(s)).reduce((s,i)=>s+(KL.test(i)?zL:i===""?$L:WL),r)}function YL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JL(t,e,n){let{routesMeta:r}=t,s={},i="/",A=[];for(let a=0;a<r.length;++a){let o=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=k_({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u),f=o.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=k_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),A.push({params:s,pathname:Mi([i,h.pathname]),pathnameBase:sM(Mi([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Mi([i,h.pathnameBase]))}return A}function k_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let v=a[h]||"";A=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[h];return g&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:A,pattern:t}}function ZL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function eM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wB(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?sl(t):t;return{pathname:n?n.startsWith("/")?n:nM(n,e):e,search:iM(r),hash:AM(s)}}function nM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function r0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BB(t,e){let n=rM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xB(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=sl(t):(s=hu({},t),Ut(!s.pathname||!s.pathname.includes("?"),r0("?","pathname","search",s)),Ut(!s.pathname||!s.pathname.includes("#"),r0("#","pathname","hash",s)),Ut(!s.search||!s.search.includes("#"),r0("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=n;else{let h=e.length-1;if(!r&&A.startsWith("..")){let f=A.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let o=tM(s,a),c=A&&A!=="/"&&A.endsWith("/"),u=(i||A===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||u)&&(o.pathname+="/"),o}const Mi=t=>t.join("/").replace(/\/\/+/g,"/"),sM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CS=["post","put","patch","delete"];new Set(CS);const oM=["get",...CS];new Set(oM);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}const CB=I.createContext(null),lM=I.createContext(null),dA=I.createContext(null),mg=I.createContext(null),gs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),ES=I.createContext(null);function cM(t,e){let{relative:n}=e===void 0?{}:e;il()||Ut(!1);let{basename:r,navigator:s}=I.useContext(dA),{hash:i,pathname:A,search:a}=bS(t,{relative:n}),o=A;return r!=="/"&&(o=A==="/"?r:Mi([r,A])),s.createHref({pathname:o,search:a,hash:i})}function il(){return I.useContext(mg)!=null}function hA(){return il()||Ut(!1),I.useContext(mg).location}function _S(t){I.useContext(dA).static||I.useLayoutEffect(t)}function Al(){let{isDataRoute:t}=I.useContext(gs);return t?bM():uM()}function uM(){il()||Ut(!1);let t=I.useContext(CB),{basename:e,future:n,navigator:r}=I.useContext(dA),{matches:s}=I.useContext(gs),{pathname:i}=hA(),A=JSON.stringify(BB(s,n.v7_relativeSplatPath)),a=I.useRef(!1);return _S(()=>{a.current=!0}),I.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=xB(c,JSON.parse(A),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Mi([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,A,i,t])}const dM=I.createContext(null);function hM(t){let e=I.useContext(gs).outlet;return e&&I.createElement(dM.Provider,{value:t},e)}function fM(){let{matches:t}=I.useContext(gs),e=t[t.length-1];return e?e.params:{}}function bS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(dA),{matches:s}=I.useContext(gs),{pathname:i}=hA(),A=JSON.stringify(BB(s,r.v7_relativeSplatPath));return I.useMemo(()=>xB(t,JSON.parse(A),i,n==="path"),[t,A,i,n])}function pM(t,e){return gM(t,e)}function gM(t,e,n,r){il()||Ut(!1);let{navigator:s,static:i}=I.useContext(dA),{matches:A}=I.useContext(gs),a=A[A.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=hA(),h;if(e){var f;let x=typeof e=="string"?sl(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ut(!1),h=x}else h=u;let g=h.pathname||"/",m=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=!i&&n&&n.matches&&n.matches.length>0?n.matches:OL(t,{pathname:m}),E=BM(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Mi([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Mi([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),A,n,r);return e&&E?I.createElement(mg.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:_i.Pop}},E):E}function mM(){let t=_M(),e=aM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,null)}const yM=I.createElement(mM,null);class vM extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(gs.Provider,{value:this.props.routeContext},I.createElement(ES.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wM(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(CB);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(gs.Provider,{value:e},r)}function BM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let A=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=A.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Ut(!1),A=A.slice(0,Math.min(A.length,u+1))}let o=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<A.length;u++){let h=A[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){o=!0,c>=0?A=A.slice(0,c+1):A=[A[0]];break}}}return A.reduceRight((u,h,f)=>{let g,m=!1,v=null,E=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||yM,o&&(c<0&&f===0?(m=!0,E=null):c===f&&(m=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(A.slice(0,f+1)),y=()=>{let w;return g?w=v:m?w=E:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,I.createElement(wM,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(vM,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var TS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TS||{}),qf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qf||{});function xM(t){let e=I.useContext(CB);return e||Ut(!1),e}function CM(t){let e=I.useContext(lM);return e||Ut(!1),e}function EM(t){let e=I.useContext(gs);return e||Ut(!1),e}function IS(t){let e=EM(),n=e.matches[e.matches.length-1];return n.route.id||Ut(!1),n.route.id}function _M(){var t;let e=I.useContext(ES),n=CM(qf.UseRouteError),r=IS(qf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bM(){let{router:t}=xM(TS.UseNavigateStable),e=IS(qf.UseNavigateStable),n=I.useRef(!1);return _S(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fu({fromRouteId:e},i)))},[t,e])}function TM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bo(t){let{to:e,replace:n,state:r,relative:s}=t;il()||Ut(!1);let{future:i,static:A}=I.useContext(dA),{matches:a}=I.useContext(gs),{pathname:o}=hA(),c=Al(),u=xB(e,BB(a,i.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(u);return I.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function US(t){return hM(t.context)}function bt(t){Ut(!1)}function IM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=_i.Pop,navigator:i,static:A=!1,future:a}=t;il()&&Ut(!1);let o=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:o,navigator:i,static:A,future:fu({v7_relativeSplatPath:!1},a)}),[o,a,i,A]);typeof r=="string"&&(r=sl(r));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:m="default"}=r,v=I.useMemo(()=>{let E=wB(u,o);return E==null?null:{location:{pathname:E,search:h,hash:f,state:g,key:m},navigationType:s}},[o,u,h,f,g,m,s]);return v==null?null:I.createElement(dA.Provider,{value:c},I.createElement(mg.Provider,{children:n,value:v}))}function FS(t){let{children:e,location:n}=t;return pM(Jy(e),n)}new Promise(()=>{});function Jy(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,Jy(r.props.children,i));return}r.type!==bt&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let A={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(A.children=Jy(r.props.children,i)),n.push(A)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(this,arguments)}function UM(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function FM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SM(t,e){return t.button===0&&(!e||e==="_self")&&!FM(t)}const QM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NM="6";try{window.__reactRouterVersion=NM}catch{}const kM="startTransition",R_=bP[kM];function RM(t){let{basename:e,children:n,future:r,window:s}=t,i=I.useRef();i.current==null&&(i.current=LL({window:s,v5Compat:!0}));let A=i.current,[a,o]=I.useState({action:A.action,location:A.location}),{v7_startTransition:c}=r||{},u=I.useCallback(h=>{c&&R_?R_(()=>o(h)):o(h)},[o,c]);return I.useLayoutEffect(()=>A.listen(u),[A,u]),I.useEffect(()=>TM(r),[r]),I.createElement(IM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:A,future:r})}const PM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xo=I.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:A,state:a,target:o,to:c,preventScrollReset:u,viewTransition:h}=e,f=UM(e,QM),{basename:g}=I.useContext(dA),m,v=!1;if(typeof c=="string"&&DM.test(c)&&(m=c,PM))try{let w=new URL(window.location.href),Q=c.startsWith("//")?new URL(w.protocol+c):new URL(c),U=wB(Q.pathname,g);Q.origin===w.origin&&U!=null?c=U+Q.search+Q.hash:v=!0}catch{}let E=cM(c,{relative:s}),x=LM(c,{replace:A,state:a,target:o,preventScrollReset:u,relative:s,viewTransition:h});function y(w){r&&r(w),w.defaultPrevented||x(w)}return I.createElement("a",Zy({},f,{href:m||E,onClick:v||i?r:y,ref:n,target:o}))});var P_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P_||(P_={}));var D_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D_||(D_={}));function LM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,o=Al(),c=hA(),u=bS(t,{relative:A});return I.useCallback(h=>{if(SM(h,n)){h.preventDefault();let f=r!==void 0?r:Wf(c)===Wf(u);o(t,{replace:f,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[c,o,u,r,s,n,t,i,A,a])}var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],A=t[n++],a=t[n++],o=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(o&1023))}else{const i=t[n++],A=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,o=s+2<t.length,c=o?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;o||(g=64,A||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new jM;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OM=function(t){const e=SS(t);return QS.encodeByteArray(e,!0)},Xf=function(t){return OM(t).replace(/\./g,"")},NS=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=()=>HM().__FIREBASE_DEFAULTS__,KM=()=>{if(typeof process>"u"||typeof L_>"u")return;const t=L_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NS(t[1]);return e&&JSON.parse(e)},yg=()=>{try{return VM()||KM()||zM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kS=t=>{var e,n;return(n=(e=yg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EB=t=>{const e=kS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RS=()=>{var t;return(t=yg())===null||t===void 0?void 0:t.config},PS=t=>{var e;return(e=yg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xf(JSON.stringify(n)),Xf(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $M(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function WM(){var t;const e=(t=yg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JM(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZM(){return!WM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ej(){try{return typeof indexedDB=="object"}catch{return!1}}function tj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nj,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?rj(i,r):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new Or(s,a,r)}}function rj(t,e){return t.replace(sj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const sj=/\{\$([^}]+)}/g;function ij(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],A=e[s];if(M_(i)&&M_(A)){if(!Yf(i,A))return!1}else if(i!==A)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function M_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Aj(t,e){const n=new aj(t,e);return n.subscribe.bind(n)}class aj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=s0),s.error===void 0&&(s.error=s0),s.complete===void 0&&(s.complete=s0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function s0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uj(e))try{this.getOrInitializeService({instanceIdentifier:SA})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=SA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=SA){return this.instances.has(e)}getOptions(e=SA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&A.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=SA){return this.component?this.component.multipleInstances?e:SA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cj(t){return t===SA?void 0:t}function uj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const hj={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},fj=Ne.INFO,pj={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},gj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let _B=class{constructor(e){this.name=e,this._logLevel=fj,this._logHandler=gj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};const mj=(t,e)=>e.some(n=>t instanceof n);let j_,O_;function yj(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vj(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LS=new WeakMap,ev=new WeakMap,MS=new WeakMap,i0=new WeakMap,bB=new WeakMap;function wj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{n(ji(t.result)),s()},A=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&LS.set(n,t)}).catch(()=>{}),bB.set(e,t),e}function Bj(t){if(ev.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{n(),s()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});ev.set(t,e)}let tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ev.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xj(t){tv=t(tv)}function Cj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(A0(this),e,...n);return MS.set(r,e.sort?e.sort():[e]),ji(r)}:vj().includes(t)?function(...e){return t.apply(A0(this),e),ji(LS.get(this))}:function(...e){return ji(t.apply(A0(this),e))}}function Ej(t){return typeof t=="function"?Cj(t):(t instanceof IDBTransaction&&Bj(t),mj(t,yj())?new Proxy(t,tv):t)}function ji(t){if(t instanceof IDBRequest)return wj(t);if(i0.has(t))return i0.get(t);const e=Ej(t);return e!==t&&(i0.set(t,e),bB.set(e,t)),e}const A0=t=>bB.get(t);function _j(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=ji(A);return r&&A.addEventListener("upgradeneeded",o=>{r(ji(A.result),o.oldVersion,o.newVersion,ji(A.transaction),o)}),n&&A.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const bj=["get","getKey","getAll","getAllKeys","count"],Tj=["put","add","delete","clear"],a0=new Map;function H_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a0.get(e))return a0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Tj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bj.includes(n)))return;const i=async function(A,...a){const o=this.transaction(A,s?"readwrite":"readonly");let c=o.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&o.done]))[0]};return a0.set(e,i),i}xj(t=>({...t,get:(e,n,r)=>H_(e,n)||t.get(e,n,r),has:(e,n)=>!!H_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Uj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Uj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nv="@firebase/app",V_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new _B("@firebase/app"),Fj="@firebase/app-compat",Sj="@firebase/analytics-compat",Qj="@firebase/analytics",Nj="@firebase/app-check-compat",kj="@firebase/app-check",Rj="@firebase/auth",Pj="@firebase/auth-compat",Dj="@firebase/database",Lj="@firebase/data-connect",Mj="@firebase/database-compat",jj="@firebase/functions",Oj="@firebase/functions-compat",Hj="@firebase/installations",Vj="@firebase/installations-compat",Kj="@firebase/messaging",zj="@firebase/messaging-compat",Gj="@firebase/performance",$j="@firebase/performance-compat",Wj="@firebase/remote-config",qj="@firebase/remote-config-compat",Xj="@firebase/storage",Yj="@firebase/storage-compat",Jj="@firebase/firestore",Zj="@firebase/vertexai-preview",eO="@firebase/firestore-compat",tO="firebase",nO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="[DEFAULT]",rO={[nv]:"fire-core",[Fj]:"fire-core-compat",[Qj]:"fire-analytics",[Sj]:"fire-analytics-compat",[kj]:"fire-app-check",[Nj]:"fire-app-check-compat",[Rj]:"fire-auth",[Pj]:"fire-auth-compat",[Dj]:"fire-rtdb",[Lj]:"fire-data-connect",[Mj]:"fire-rtdb-compat",[jj]:"fire-fn",[Oj]:"fire-fn-compat",[Hj]:"fire-iid",[Vj]:"fire-iid-compat",[Kj]:"fire-fcm",[zj]:"fire-fcm-compat",[Gj]:"fire-perf",[$j]:"fire-perf-compat",[Wj]:"fire-rc",[qj]:"fire-rc-compat",[Xj]:"fire-gcs",[Yj]:"fire-gcs-compat",[Jj]:"fire-fst",[eO]:"fire-fst-compat",[Zj]:"fire-vertex","fire-js":"fire-js",[tO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,sO=new Map,sv=new Map;function K_(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wi(t){const e=t.name;if(sv.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;sv.set(e,t);for(const n of Jf.values())K_(n,t);for(const n of sO.values())K_(n,t);return!0}function td(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ss(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new Zu("app","Firebase",iO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=nO;function jS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Oi.create("bad-app-name",{appName:String(s)});if(n||(n=RS()),!n)throw Oi.create("no-options");const i=Jf.get(s);if(i){if(Yf(n,i.options)&&Yf(r,i.config))return i;throw Oi.create("duplicate-app",{appName:s})}const A=new dj(s);for(const o of sv.values())A.addComponent(o);const a=new AO(n,r,A);return Jf.set(s,a),a}function vg(t=rv){const e=Jf.get(t);if(!e&&t===rv&&RS())return jS();if(!e)throw Oi.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let s=(r=rO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(a.join(" "));return}Wi(new Vs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="firebase-heartbeat-database",oO=1,pu="firebase-heartbeat-store";let o0=null;function OS(){return o0||(o0=_j(aO,oO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oi.create("idb-open",{originalErrorMessage:t.message})})),o0}async function lO(t){try{const n=(await OS()).transaction(pu),r=await n.objectStore(pu).get(HS(t));return await n.done,r}catch(e){if(e instanceof Or)Ks.warn(e.message);else{const n=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(n.message)}}}async function z_(t,e){try{const r=(await OS()).transaction(pu,"readwrite");await r.objectStore(pu).put(e,HS(t)),await r.done}catch(n){if(n instanceof Or)Ks.warn(n.message);else{const r=Oi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(r.message)}}}function HS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=1024,uO=30*24*60*60*1e3;class dO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=G_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=uO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=G_(),{heartbeatsToSend:r,unsentEntries:s}=hO(this._heartbeatsCache.heartbeats),i=Xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ks.warn(n),""}}}function G_(){return new Date().toISOString().substring(0,10)}function hO(t,e=cO){const n=[];let r=t.slice();for(const s of t){const i=n.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),$_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ej()?tj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $_(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t){Wi(new Vs("platform-logger",e=>new Ij(e),"PRIVATE")),Wi(new Vs("heartbeat",e=>new dO(e),"PRIVATE")),Br(nv,V_,t),Br(nv,V_,"esm2017"),Br("fire-js","")}pO("");var gO="firebase",mO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(gO,mO,"app");function TB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yO=VS,KS=new Zu("auth","Firebase",VS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new _B("@firebase/auth");function vO(t,...e){Zf.logLevel<=Ne.WARN&&Zf.warn(`Auth (${ga}): ${t}`,...e)}function rf(t,...e){Zf.logLevel<=Ne.ERROR&&Zf.error(`Auth (${ga}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw IB(t,...e)}function ns(t,...e){return IB(t,...e)}function zS(t,e,n){const r=Object.assign(Object.assign({},yO()),{[e]:n});return new Zu("auth","Firebase",r).create(e,{appName:t.name})}function Hi(t){return zS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IB(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KS.create(t,...e)}function Be(t,e,...n){if(!t)throw IB(e,...n)}function Qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rf(e),new Error(e)}function zs(t,e){t||Qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wO(){return W_()==="http:"||W_()==="https:"}function W_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wO()||XM()||"connection"in navigator)?navigator.onLine:!0}function xO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=$M()||YM()}get(){return BO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new nd(3e4,6e4);function fA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hr(t,e,n,r,s={}){return $S(t,s,async()=>{let i={},A={};r&&(e==="GET"?A=r:i={body:JSON.stringify(r)});const a=ed(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:o},i);return qM()||(c.referrerPolicy="no-referrer"),GS.fetch()(WS(t,t.config.apiHost,n,a),c)})}async function $S(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},CO),e);try{const s=new bO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw oh(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[o,c]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw oh(t,"user-disabled",A);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zS(t,u,c);Dr(t,u)}}catch(s){if(s instanceof Or)throw s;Dr(t,"network-request-failed",{message:String(s)})}}async function wg(t,e,n,r,s={}){const i=await Hr(t,e,n,r,s);return"mfaPendingCredential"in i&&Dr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function WS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?UB(t.config,s):`${t.config.apiScheme}://${s}`}function _O(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),EO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ns(t,e,r);return s.customData._tokenResponse=n,s}function q_(t){return t!==void 0&&t.enterprise!==void 0}class TO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _O(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function IO(t,e){return Hr(t,"GET","/v2/recaptchaConfig",fA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return Hr(t,"POST","/v1/accounts:delete",e)}async function qS(t,e){return Hr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FO(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),s=FB(r);Be(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fc(l0(s.auth_time)),issuedAtTime:Fc(l0(s.iat)),expirationTime:Fc(l0(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function l0(t){return Number(t)*1e3}function FB(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{const s=NS(n);return s?JSON.parse(s):(rf("Failed to decode base64 JWT payload"),null)}catch(s){return rf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function X_(t){const e=FB(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&SO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function SO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ep(t){var e;const n=t.auth,r=await t.getIdToken(),s=await na(t,qS(n,{idToken:r}));Be(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?XS(i.providerUserInfo):[],a=kO(t.providerData,A),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Av(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function NO(t){const e=Ke(t);await ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XS(t){return t.map(e=>{var{providerId:n}=e,r=TB(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(t,e){const n=await $S(t,{},async()=>{const r=ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=WS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GS.fetch()(A,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PO(t,e){return Hr(t,"POST","/v2/accounts:revokeToken",fA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=X_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await RO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,A=new Co;return r&&(Be(typeof r=="string","internal-error",{appName:e}),A.refreshToken=r),s&&(Be(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(Be(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=TB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Av(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await na(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FO(this,e)}reload(){return NO(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ss(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await na(this,UO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,A,a,o,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(A=n.photoURL)!==null&&A!==void 0?A:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(o=n._redirectEventId)!==null&&o!==void 0?o:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:Q,isAnonymous:U,providerData:N,stsTokenManager:_}=n;Be(w&&_,e,"internal-error");const C=Co.fromJSON(this.name,_);Be(typeof w=="string",e,"internal-error"),Ai(h,e.name),Ai(f,e.name),Be(typeof Q=="boolean",e,"internal-error"),Be(typeof U=="boolean",e,"internal-error"),Ai(g,e.name),Ai(m,e.name),Ai(v,e.name),Ai(E,e.name),Ai(x,e.name),Ai(y,e.name);const b=new Ns({uid:w,auth:e,email:f,emailVerified:Q,displayName:h,isAnonymous:U,photoURL:m,phoneNumber:g,tenantId:v,stsTokenManager:C,createdAt:x,lastLoginAt:y});return N&&Array.isArray(N)&&(b.providerData=N.map(T=>Object.assign({},T))),E&&(b._redirectEventId=E),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Co;s.updateFromServerResponse(n);const i=new Ns({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ep(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Be(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XS(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Co;a.updateFromIdToken(r);const o=new Ns({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Av(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,c),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;function ks(t){zs(t instanceof Function,"Expected a class definition");let e=Y_.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YS.type="NONE";const J_=YS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e,n){return`firebase:${t}:${e}:${n}`}class Eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=sf(this.userKey,s.apiKey,i),this.fullPersistenceKey=sf("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ns._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Eo(ks(J_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ks(J_);const A=sf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(A);if(u){const h=Ns._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const o=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new Eo(i,e,r):(i=o[0],a&&await i._set(A,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(A)}catch{}})),new Eo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r2(e))return"Blackberry";if(s2(e))return"Webos";if(ZS(e))return"Safari";if((e.includes("chrome/")||e2(e))&&!e.includes("edge/"))return"Chrome";if(n2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JS(t=En()){return/firefox\//i.test(t)}function ZS(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e2(t=En()){return/crios\//i.test(t)}function t2(t=En()){return/iemobile/i.test(t)}function n2(t=En()){return/android/i.test(t)}function r2(t=En()){return/blackberry/i.test(t)}function s2(t=En()){return/webos/i.test(t)}function SB(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DO(t=En()){var e;return SB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LO(){return JM()&&document.documentMode===10}function i2(t=En()){return SB(t)||n2(t)||s2(t)||r2(t)||/windows phone/i.test(t)||t2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e=[]){let n;switch(t){case"Browser":n=Z_(En());break;case"Worker":n=`${Z_(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ga}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((A,a)=>{try{const o=e(i);A(o)}catch(o){a(o)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e={}){return Hr(t,"GET","/v2/passwordPolicy",fA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=6;class HO{constructor(e){var n,r,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=A.minPasswordLength)!==null&&n!==void 0?n:OO,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(n=o.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e1(this),this.idTokenSubscription=new e1(this),this.beforeStateQueue=new MO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ks(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qS(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ss(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ep(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ss(this.app))return Promise.reject(Hi(this));const n=e?Ke(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ss(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ss(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jO(this),n=new HO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ks(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[ks(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,r,s);return()=>{A=!0,o()}}else{const o=e.addObserver(n);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function al(t){return Ke(t)}class e1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Aj(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KO(t){Bg=t}function a2(t){return Bg.loadJS(t)}function zO(){return Bg.recaptchaEnterpriseScript}function GO(){return Bg.gapiScript}function $O(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const WO="recaptcha-enterprise",qO="NO_RECAPTCHA";class XO{constructor(e){this.type=WO,this.auth=al(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,a)=>{IO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new TO(o);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,A(c.siteKey)}}).catch(o=>{a(o)})})}function s(i,A,a){const o=window.grecaptcha;q_(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:e}).then(c=>{A(c)}).catch(()=>{A(qO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{r(this.auth).then(a=>{if(!n&&q_(window.grecaptcha))s(a,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=zO();o.length!==0&&(o+=a),a2(o).then(()=>{s(a,i,A)}).catch(c=>{A(c)})}}).catch(a=>{A(a)})})}}async function t1(t,e,n,r=!1){const s=new XO(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const A=Object.assign({},e);return r?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function n1(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await t1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await t1(t,e,n,n==="getOobCode");return r(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e){const n=td(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Yf(i,e??{}))return s;Dr(s,"already-initialized")}return n.initialize({options:e})}function JO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ks);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZO(t,e,n){const r=al(t);Be(r._canInitEmulator,r,"emulator-config-failed"),Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=o2(e),{host:A,port:a}=eH(e),o=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${A}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),tH()}function o2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eH(t){const e=o2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:r1(r.substr(i.length+1))}}else{const[i,A]=r.split(":");return{host:i,port:r1(A)}}}function r1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qs("not implemented")}_getIdTokenResponse(e){return Qs("not implemented")}_linkToIdToken(e,n){return Qs("not implemented")}_getReauthenticationResolver(e){return Qs("not implemented")}}async function nH(t,e){return Hr(t,"POST","/v1/accounts:update",e)}async function rH(t,e){return Hr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,e){return wg(t,"POST","/v1/accounts:signInWithPassword",fA(t,e))}async function iH(t,e){return Hr(t,"POST","/v1/accounts:sendOobCode",fA(t,e))}async function AH(t,e){return iH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aH(t,e){return wg(t,"POST","/v1/accounts:signInWithEmailLink",fA(t,e))}async function oH(t,e){return wg(t,"POST","/v1/accounts:signInWithEmailLink",fA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends QB{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,n,"signInWithPassword",sH);case"emailLink":return aH(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,r,"signUpPassword",rH);case"emailLink":return oH(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return wg(t,"POST","/v1/accounts:signInWithIdp",fA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH="http://localhost";class ra extends QB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=TB(n,["providerId","signInMethod"]);if(!r||!s)return null;const A=new ra(r,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:lH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ed(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uH(t){const e=nc(rc(t)).link,n=e?nc(rc(e)).deep_link_id:null,r=nc(rc(t)).deep_link_id;return(r?nc(rc(r)).link:null)||r||n||e||t}class NB{constructor(e){var n,r,s,i,A,a;const o=nc(rc(e)),c=(n=o.apiKey)!==null&&n!==void 0?n:null,u=(r=o.oobCode)!==null&&r!==void 0?r:null,h=cH((s=o.mode)!==null&&s!==void 0?s:null);Be(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=uH(e);try{return new NB(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=NB.parseLink(n);return Be(r,"argument-error"),gu._fromEmailAndCode(e,r.code,r.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends l2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends rd{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends rd{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends rd{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vi.credential(n,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ns._fromIdTokenResponse(e,r,s),A=s1(r);return new Lo({user:i,providerId:A,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=s1(r);return new Lo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function s1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Or{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new tp(e,n,r,s)}}function c2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(t,i,e,r):i})}async function dH(t,e,n=!1){const r=await na(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hH(t,e,n=!1){const{auth:r}=t;if(Ss(r.app))return Promise.reject(Hi(r));const s="reauthenticate";try{const i=await na(t,c2(r,s,e,t),n);Be(i.idToken,r,"internal-error");const A=FB(i.idToken);Be(A,r,"internal-error");const{sub:a}=A;return Be(t.uid===a,r,"user-mismatch"),Lo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e,n=!1){if(Ss(t.app))return Promise.reject(Hi(t));const r="signIn",s=await c2(t,r,e),i=await Lo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function fH(t,e){return u2(al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH(t){const e=al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function gH(t,e,n){return Ss(t.app)?Promise.reject(Hi(t)):fH(Ke(t),ol.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pH(t),r})}async function mH(t,e){const n=Ke(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await AH(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yH(t,e){return Hr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vH(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ke(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},A=await na(r,yH(r.auth,i));r.displayName=A.displayName||null,r.photoURL=A.photoUrl||null;const a=r.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(A)}function wH(t,e){return BH(Ke(t),null,e)}async function BH(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const A=await na(t,nH(r,i));await t._updateTokensIfNecessary(A,!0)}function xH(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function CH(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH=1e3,_H=10;class h2 extends d2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(r);!n&&this.localCache[r]===A||this.notifyListeners(r,A)},i=this.storage.getItem(r);LO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_H):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h2.type="LOCAL";const bH=h2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2 extends d2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f2.type="SESSION";const p2=f2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(A).map(async c=>c(n.origin,i)),o=await TH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,o)=>{const c=kB("",20);s.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},r);A={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return window}function UH(t){rs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof rs().WorkerGlobalScope<"u"&&typeof rs().importScripts=="function"}async function FH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QH(){return g2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebaseLocalStorageDb",NH=1,rp="firebaseLocalStorage",y2="fbase_key";class sd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cg(t,e){return t.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function kH(){const t=indexedDB.deleteDatabase(m2);return new sd(t).toPromise()}function av(){const t=indexedDB.open(m2,NH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rp,{keyPath:y2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rp)?e(r):(r.close(),await kH(),e(await av()))})})}async function i1(t,e,n){const r=Cg(t,!0).put({[y2]:e,value:n});return new sd(r).toPromise()}async function RH(t,e){const n=Cg(t,!1).get(e),r=await new sd(n).toPromise();return r===void 0?null:r.value}function A1(t,e){const n=Cg(t,!0).delete(e);return new sd(n).toPromise()}const PH=800,DH=3;class v2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await av(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(QH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FH(),!this.activeServiceWorker)return;this.sender=new IH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await av();return await i1(e,np,"1"),await A1(e,np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>i1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cg(s,!1).getAll();return new sd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v2.type="LOCAL";const LH=v2;new nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t,e){return e?ks(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB extends QB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jH(t){return u2(t.auth,new RB(t),t.bypassAuthState)}function OH(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),hH(n,new RB(t),t.bypassAuthState)}async function HH(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),dH(n,new RB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jH;case"linkViaPopup":case"linkViaRedirect":return HH;case"reauthViaPopup":case"reauthViaRedirect":return OH;default:Dr(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=new nd(2e3,1e4);class so extends w2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=kB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VH.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH="pendingRedirect",Af=new Map;class zH extends w2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await GH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GH(t,e){const n=qH(e),r=WH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $H(t,e){Af.set(t._key(),e)}function WH(t){return ks(t._redirectPersistence)}function qH(t){return sf(KH,t.config.apiKey,t.name)}async function XH(t,e,n=!1){if(Ss(t.app))return Promise.reject(Hi(t));const r=al(t),s=MH(r,e),A=await new zH(r,s,n).execute();return A&&!n&&(delete A.user._redirectEventId,await r._persistUserIfCurrent(A.user),await r._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=10*60*1e3;class JH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!B2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YH&&this.cachedEventUids.clear(),this.cachedEventUids.has(a1(e))}saveEventToCache(e){this.cachedEventUids.add(a1(e)),this.lastProcessedEventTime=Date.now()}}function a1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function B2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e={}){return Hr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nV=/^https?/;async function rV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eV(t);for(const n of e)try{if(sV(n))return}catch{}Dr(t,"unauthorized-domain")}function sV(t){const e=iv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&A.hostname===r}if(!nV.test(n))return!1;if(tV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new nd(3e4,6e4);function o1(){const t=rs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AV(t){return new Promise((e,n)=>{var r,s,i;function A(){o1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o1(),n(ns(t,"network-request-failed"))},timeout:iV.get()})}if(!((s=(r=rs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=rs().gapi)===null||i===void 0)&&i.load)A();else{const a=$O("iframefcb");return rs()[a]=()=>{gapi.load?A():n(ns(t,"network-request-failed"))},a2(`${GO()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw af=null,e})}let af=null;function aV(t){return af=af||AV(t),af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new nd(5e3,15e3),lV="__/auth/iframe",cV="emulator/auth/iframe",uV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hV(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UB(e,cV):`https://${t.config.authDomain}/${lV}`,r={apiKey:e.apiKey,appName:t.name,v:ga},s=dV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ed(r).slice(1)}`}async function fV(t){const e=await aV(t),n=rs().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:hV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const A=ns(t,"network-request-failed"),a=rs().setTimeout(()=>{i(A)},oV.get());function o(){rs().clearTimeout(a),s(r)}r.ping(o).then(o,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gV=500,mV=600,yV="_blank",vV="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wV(t,e,n,r=gV,s=mV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const o=Object.assign(Object.assign({},pV),{width:r.toString(),height:s.toString(),top:i,left:A}),c=En().toLowerCase();n&&(a=e2(c)?yV:n),JS(c)&&(e=e||vV,o.scrollbars="yes");const u=Object.entries(o).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(DO(c)&&a!=="_self")return BV(e||"",a),new l1(null);const h=window.open(e||"",a,u);Be(h,t,"popup-blocked");try{h.focus()}catch{}return new l1(h)}function BV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="__/auth/handler",CV="emulator/auth/handler",EV=encodeURIComponent("fac");async function c1(t,e,n,r,s,i){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ga,eventId:s};if(e instanceof l2){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",ij(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))A[u]=h}if(e instanceof rd){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const o=await t._getAppCheckToken(),c=o?`#${EV}=${encodeURIComponent(o)}`:"";return`${_V(t)}?${ed(a).slice(1)}${c}`}function _V({config:t}){return t.emulator?UB(t,CV):`https://${t.authDomain}/${xV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="webStorageSupport";class bV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p2,this._completeRedirectFn=XH,this._overrideRedirectResult=$H}async _openPopup(e,n,r,s){var i;zs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await c1(e,n,r,iv(),s);return wV(e,A,kB())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await c1(e,n,r,iv(),s);return UH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fV(e),r=new JH(e);return n.register("authEvent",s=>(Be(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(c0,{type:c0},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[c0];A!==void 0&&n(!!A),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i2()||ZS()||SB()}}const TV=bV;var u1="@firebase/auth",d1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FV(t){Wi(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=r.options;Be(A&&!A.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A2(t)},c=new VO(r,s,i,o);return JO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wi(new Vs("auth-internal",e=>{const n=al(e.getProvider("auth").getImmediate());return(r=>new IV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(u1,d1,UV(t)),Br(u1,d1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=5*60,QV=PS("authIdTokenMaxAge")||SV;let h1=null;const NV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QV)return;const s=n==null?void 0:n.token;h1!==s&&(h1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kV(t=vg()){const e=td(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YO(t,{popupRedirectResolver:TV,persistence:[LH,bH,p2]}),r=PS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const A=NV(i.toString());CH(n,A,()=>A(n.currentUser)),xH(n,a=>A(a))}}const s=kS("auth");return s&&ZO(n,`http://${s}`),n}function RV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ns("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",RV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FV("Browser");var f1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zA,x2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,C){function b(){}b.prototype=C.prototype,_.D=C.prototype,_.prototype=new b,_.prototype.constructor=_,_.C=function(T,R,k){for(var F=Array(arguments.length-2),J=2;J<arguments.length;J++)F[J-2]=arguments[J];return C.prototype[R].apply(T,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(_,C,b){b||(b=0);var T=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)T[R]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(R=0;16>R;++R)T[R]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=_.g[0],b=_.g[1],R=_.g[2];var k=_.g[3],F=C+(k^b&(R^k))+T[0]+3614090360&4294967295;C=b+(F<<7&4294967295|F>>>25),F=k+(R^C&(b^R))+T[1]+3905402710&4294967295,k=C+(F<<12&4294967295|F>>>20),F=R+(b^k&(C^b))+T[2]+606105819&4294967295,R=k+(F<<17&4294967295|F>>>15),F=b+(C^R&(k^C))+T[3]+3250441966&4294967295,b=R+(F<<22&4294967295|F>>>10),F=C+(k^b&(R^k))+T[4]+4118548399&4294967295,C=b+(F<<7&4294967295|F>>>25),F=k+(R^C&(b^R))+T[5]+1200080426&4294967295,k=C+(F<<12&4294967295|F>>>20),F=R+(b^k&(C^b))+T[6]+2821735955&4294967295,R=k+(F<<17&4294967295|F>>>15),F=b+(C^R&(k^C))+T[7]+4249261313&4294967295,b=R+(F<<22&4294967295|F>>>10),F=C+(k^b&(R^k))+T[8]+1770035416&4294967295,C=b+(F<<7&4294967295|F>>>25),F=k+(R^C&(b^R))+T[9]+2336552879&4294967295,k=C+(F<<12&4294967295|F>>>20),F=R+(b^k&(C^b))+T[10]+4294925233&4294967295,R=k+(F<<17&4294967295|F>>>15),F=b+(C^R&(k^C))+T[11]+2304563134&4294967295,b=R+(F<<22&4294967295|F>>>10),F=C+(k^b&(R^k))+T[12]+1804603682&4294967295,C=b+(F<<7&4294967295|F>>>25),F=k+(R^C&(b^R))+T[13]+4254626195&4294967295,k=C+(F<<12&4294967295|F>>>20),F=R+(b^k&(C^b))+T[14]+2792965006&4294967295,R=k+(F<<17&4294967295|F>>>15),F=b+(C^R&(k^C))+T[15]+1236535329&4294967295,b=R+(F<<22&4294967295|F>>>10),F=C+(R^k&(b^R))+T[1]+4129170786&4294967295,C=b+(F<<5&4294967295|F>>>27),F=k+(b^R&(C^b))+T[6]+3225465664&4294967295,k=C+(F<<9&4294967295|F>>>23),F=R+(C^b&(k^C))+T[11]+643717713&4294967295,R=k+(F<<14&4294967295|F>>>18),F=b+(k^C&(R^k))+T[0]+3921069994&4294967295,b=R+(F<<20&4294967295|F>>>12),F=C+(R^k&(b^R))+T[5]+3593408605&4294967295,C=b+(F<<5&4294967295|F>>>27),F=k+(b^R&(C^b))+T[10]+38016083&4294967295,k=C+(F<<9&4294967295|F>>>23),F=R+(C^b&(k^C))+T[15]+3634488961&4294967295,R=k+(F<<14&4294967295|F>>>18),F=b+(k^C&(R^k))+T[4]+3889429448&4294967295,b=R+(F<<20&4294967295|F>>>12),F=C+(R^k&(b^R))+T[9]+568446438&4294967295,C=b+(F<<5&4294967295|F>>>27),F=k+(b^R&(C^b))+T[14]+3275163606&4294967295,k=C+(F<<9&4294967295|F>>>23),F=R+(C^b&(k^C))+T[3]+4107603335&4294967295,R=k+(F<<14&4294967295|F>>>18),F=b+(k^C&(R^k))+T[8]+1163531501&4294967295,b=R+(F<<20&4294967295|F>>>12),F=C+(R^k&(b^R))+T[13]+2850285829&4294967295,C=b+(F<<5&4294967295|F>>>27),F=k+(b^R&(C^b))+T[2]+4243563512&4294967295,k=C+(F<<9&4294967295|F>>>23),F=R+(C^b&(k^C))+T[7]+1735328473&4294967295,R=k+(F<<14&4294967295|F>>>18),F=b+(k^C&(R^k))+T[12]+2368359562&4294967295,b=R+(F<<20&4294967295|F>>>12),F=C+(b^R^k)+T[5]+4294588738&4294967295,C=b+(F<<4&4294967295|F>>>28),F=k+(C^b^R)+T[8]+2272392833&4294967295,k=C+(F<<11&4294967295|F>>>21),F=R+(k^C^b)+T[11]+1839030562&4294967295,R=k+(F<<16&4294967295|F>>>16),F=b+(R^k^C)+T[14]+4259657740&4294967295,b=R+(F<<23&4294967295|F>>>9),F=C+(b^R^k)+T[1]+2763975236&4294967295,C=b+(F<<4&4294967295|F>>>28),F=k+(C^b^R)+T[4]+1272893353&4294967295,k=C+(F<<11&4294967295|F>>>21),F=R+(k^C^b)+T[7]+4139469664&4294967295,R=k+(F<<16&4294967295|F>>>16),F=b+(R^k^C)+T[10]+3200236656&4294967295,b=R+(F<<23&4294967295|F>>>9),F=C+(b^R^k)+T[13]+681279174&4294967295,C=b+(F<<4&4294967295|F>>>28),F=k+(C^b^R)+T[0]+3936430074&4294967295,k=C+(F<<11&4294967295|F>>>21),F=R+(k^C^b)+T[3]+3572445317&4294967295,R=k+(F<<16&4294967295|F>>>16),F=b+(R^k^C)+T[6]+76029189&4294967295,b=R+(F<<23&4294967295|F>>>9),F=C+(b^R^k)+T[9]+3654602809&4294967295,C=b+(F<<4&4294967295|F>>>28),F=k+(C^b^R)+T[12]+3873151461&4294967295,k=C+(F<<11&4294967295|F>>>21),F=R+(k^C^b)+T[15]+530742520&4294967295,R=k+(F<<16&4294967295|F>>>16),F=b+(R^k^C)+T[2]+3299628645&4294967295,b=R+(F<<23&4294967295|F>>>9),F=C+(R^(b|~k))+T[0]+4096336452&4294967295,C=b+(F<<6&4294967295|F>>>26),F=k+(b^(C|~R))+T[7]+1126891415&4294967295,k=C+(F<<10&4294967295|F>>>22),F=R+(C^(k|~b))+T[14]+2878612391&4294967295,R=k+(F<<15&4294967295|F>>>17),F=b+(k^(R|~C))+T[5]+4237533241&4294967295,b=R+(F<<21&4294967295|F>>>11),F=C+(R^(b|~k))+T[12]+1700485571&4294967295,C=b+(F<<6&4294967295|F>>>26),F=k+(b^(C|~R))+T[3]+2399980690&4294967295,k=C+(F<<10&4294967295|F>>>22),F=R+(C^(k|~b))+T[10]+4293915773&4294967295,R=k+(F<<15&4294967295|F>>>17),F=b+(k^(R|~C))+T[1]+2240044497&4294967295,b=R+(F<<21&4294967295|F>>>11),F=C+(R^(b|~k))+T[8]+1873313359&4294967295,C=b+(F<<6&4294967295|F>>>26),F=k+(b^(C|~R))+T[15]+4264355552&4294967295,k=C+(F<<10&4294967295|F>>>22),F=R+(C^(k|~b))+T[6]+2734768916&4294967295,R=k+(F<<15&4294967295|F>>>17),F=b+(k^(R|~C))+T[13]+1309151649&4294967295,b=R+(F<<21&4294967295|F>>>11),F=C+(R^(b|~k))+T[4]+4149444226&4294967295,C=b+(F<<6&4294967295|F>>>26),F=k+(b^(C|~R))+T[11]+3174756917&4294967295,k=C+(F<<10&4294967295|F>>>22),F=R+(C^(k|~b))+T[2]+718787259&4294967295,R=k+(F<<15&4294967295|F>>>17),F=b+(k^(R|~C))+T[9]+3951481745&4294967295,_.g[0]=_.g[0]+C&4294967295,_.g[1]=_.g[1]+(R+(F<<21&4294967295|F>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+k&4294967295}r.prototype.u=function(_,C){C===void 0&&(C=_.length);for(var b=C-this.blockSize,T=this.B,R=this.h,k=0;k<C;){if(R==0)for(;k<=b;)s(this,_,k),k+=this.blockSize;if(typeof _=="string"){for(;k<C;)if(T[R++]=_.charCodeAt(k++),R==this.blockSize){s(this,T),R=0;break}}else for(;k<C;)if(T[R++]=_[k++],R==this.blockSize){s(this,T),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var C=1;C<_.length-8;++C)_[C]=0;var b=8*this.o;for(C=_.length-8;C<_.length;++C)_[C]=b&255,b/=256;for(this.u(_),_=Array(16),C=b=0;4>C;++C)for(var T=0;32>T;T+=8)_[b++]=this.g[C]>>>T&255;return _};function i(_,C){var b=a;return Object.prototype.hasOwnProperty.call(b,_)?b[_]:b[_]=C(_)}function A(_,C){this.h=C;for(var b=[],T=!0,R=_.length-1;0<=R;R--){var k=_[R]|0;T&&k==C||(b[R]=k,T=!1)}this.g=b}var a={};function o(_){return-128<=_&&128>_?i(_,function(C){return new A([C|0],0>C?-1:0)}):new A([_|0],0>_?-1:0)}function c(_){if(isNaN(_)||!isFinite(_))return h;if(0>_)return E(c(-_));for(var C=[],b=1,T=0;_>=b;T++)C[T]=_/b|0,b*=4294967296;return new A(C,0)}function u(_,C){if(_.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_.charAt(0)=="-")return E(u(_.substring(1),C));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(C,8)),T=h,R=0;R<_.length;R+=8){var k=Math.min(8,_.length-R),F=parseInt(_.substring(R,R+k),C);8>k?(k=c(Math.pow(C,k)),T=T.j(k).add(c(F))):(T=T.j(b),T=T.add(c(F)))}return T}var h=o(0),f=o(1),g=o(16777216);t=A.prototype,t.m=function(){if(v(this))return-E(this).m();for(var _=0,C=1,b=0;b<this.g.length;b++){var T=this.i(b);_+=(0<=T?T:4294967296+T)*C,C*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(m(this))return"0";if(v(this))return"-"+E(this).toString(_);for(var C=c(Math.pow(_,6)),b=this,T="";;){var R=Q(b,C).g;b=x(b,R.j(C));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(_);if(b=R,m(b))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function m(_){if(_.h!=0)return!1;for(var C=0;C<_.g.length;C++)if(_.g[C]!=0)return!1;return!0}function v(_){return _.h==-1}t.l=function(_){return _=x(this,_),v(_)?-1:m(_)?0:1};function E(_){for(var C=_.g.length,b=[],T=0;T<C;T++)b[T]=~_.g[T];return new A(b,~_.h).add(f)}t.abs=function(){return v(this)?E(this):this},t.add=function(_){for(var C=Math.max(this.g.length,_.g.length),b=[],T=0,R=0;R<=C;R++){var k=T+(this.i(R)&65535)+(_.i(R)&65535),F=(k>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);T=F>>>16,k&=65535,F&=65535,b[R]=F<<16|k}return new A(b,b[b.length-1]&-2147483648?-1:0)};function x(_,C){return _.add(E(C))}t.j=function(_){if(m(this)||m(_))return h;if(v(this))return v(_)?E(this).j(E(_)):E(E(this).j(_));if(v(_))return E(this.j(E(_)));if(0>this.l(g)&&0>_.l(g))return c(this.m()*_.m());for(var C=this.g.length+_.g.length,b=[],T=0;T<2*C;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<_.g.length;R++){var k=this.i(T)>>>16,F=this.i(T)&65535,J=_.i(R)>>>16,ee=_.i(R)&65535;b[2*T+2*R]+=F*ee,y(b,2*T+2*R),b[2*T+2*R+1]+=k*ee,y(b,2*T+2*R+1),b[2*T+2*R+1]+=F*J,y(b,2*T+2*R+1),b[2*T+2*R+2]+=k*J,y(b,2*T+2*R+2)}for(T=0;T<C;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=C;T<2*C;T++)b[T]=0;return new A(b,0)};function y(_,C){for(;(_[C]&65535)!=_[C];)_[C+1]+=_[C]>>>16,_[C]&=65535,C++}function w(_,C){this.g=_,this.h=C}function Q(_,C){if(m(C))throw Error("division by zero");if(m(_))return new w(h,h);if(v(_))return C=Q(E(_),C),new w(E(C.g),E(C.h));if(v(C))return C=Q(_,E(C)),new w(E(C.g),C.h);if(30<_.g.length){if(v(_)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var b=f,T=C;0>=T.l(_);)b=U(b),T=U(T);var R=N(b,1),k=N(T,1);for(T=N(T,2),b=N(b,2);!m(T);){var F=k.add(T);0>=F.l(_)&&(R=R.add(b),k=F),T=N(T,1),b=N(b,1)}return C=x(_,R.j(C)),new w(R,C)}for(R=h;0<=_.l(C);){for(b=Math.max(1,Math.floor(_.m()/C.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=c(b),F=k.j(C);v(F)||0<F.l(_);)b-=T,k=c(b),F=k.j(C);m(k)&&(k=f),R=R.add(k),_=x(_,F)}return new w(R,_)}t.A=function(_){return Q(this,_).h},t.and=function(_){for(var C=Math.max(this.g.length,_.g.length),b=[],T=0;T<C;T++)b[T]=this.i(T)&_.i(T);return new A(b,this.h&_.h)},t.or=function(_){for(var C=Math.max(this.g.length,_.g.length),b=[],T=0;T<C;T++)b[T]=this.i(T)|_.i(T);return new A(b,this.h|_.h)},t.xor=function(_){for(var C=Math.max(this.g.length,_.g.length),b=[],T=0;T<C;T++)b[T]=this.i(T)^_.i(T);return new A(b,this.h^_.h)};function U(_){for(var C=_.g.length+1,b=[],T=0;T<C;T++)b[T]=_.i(T)<<1|_.i(T-1)>>>31;return new A(b,_.h)}function N(_,C){var b=C>>5;C%=32;for(var T=_.g.length-b,R=[],k=0;k<T;k++)R[k]=0<C?_.i(k+b)>>>C|_.i(k+b+1)<<32-C:_.i(k+b);return new A(R,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x2=r,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=c,A.fromString=u,zA=A}).apply(typeof f1<"u"?f1:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C2,sc,E2,of,ov,_2,b2,T2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,p,B){return d==Array.prototype||d==Object.prototype||(d[p]=B.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var p=0;p<d.length;++p){var B=d[p];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function s(d,p){if(p)e:{var B=r;d=d.split(".");for(var S=0;S<d.length-1;S++){var L=d[S];if(!(L in B))break e;B=B[L]}d=d[d.length-1],S=B[d],p=p(S),p!=S&&p!=null&&e(B,d,{configurable:!0,writable:!0,value:p})}}function i(d,p){d instanceof String&&(d+="");var B=0,S=!1,L={next:function(){if(!S&&B<d.length){var j=B++;return{value:p(j,d[j]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(p,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(d){var p=typeof d;return p=p!="object"?p:d?Array.isArray(d)?"array":p:"null",p=="array"||p=="object"&&typeof d.length=="number"}function c(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function u(d,p,B){return d.call.apply(d.bind,arguments)}function h(d,p,B){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),d.apply(p,L)}}return function(){return d.apply(p,arguments)}}function f(d,p,B){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,p){var B=Array.prototype.slice.call(arguments,1);return function(){var S=B.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function m(d,p){function B(){}B.prototype=p.prototype,d.aa=p.prototype,d.prototype=new B,d.prototype.constructor=d,d.Qb=function(S,L,j){for(var Z=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Z[qe-2]=arguments[qe];return p.prototype[L].apply(S,Z)}}function v(d){const p=d.length;if(0<p){const B=Array(p);for(let S=0;S<p;S++)B[S]=d[S];return B}return[]}function E(d,p){for(let B=1;B<arguments.length;B++){const S=arguments[B];if(o(S)){const L=d.length||0,j=S.length||0;d.length=L+j;for(let Z=0;Z<j;Z++)d[L+Z]=S[Z]}else d.push(S)}}class x{constructor(p,B){this.i=p,this.j=B,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function Q(d){return Q[" "](d),d}Q[" "]=function(){};var U=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function N(d,p,B){for(const S in d)p.call(B,d[S],S,d)}function _(d,p){for(const B in d)p.call(void 0,d[B],B,d)}function C(d){const p={};for(const B in d)p[B]=d[B];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(d,p){let B,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(B in S)d[B]=S[B];for(let j=0;j<b.length;j++)B=b[j],Object.prototype.hasOwnProperty.call(S,B)&&(d[B]=S[B])}}function R(d){var p=1;d=d.split(":");const B=[];for(;0<p&&d.length;)B.push(d.shift()),p--;return d.length&&B.push(d.join(":")),B}function k(d){a.setTimeout(()=>{throw d},0)}function F(){var d=K;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class J{constructor(){this.h=this.g=null}add(p,B){const S=ee.get();S.set(p,B),this.h?this.h.next=S:this.g=S,this.h=S}}var ee=new x(()=>new O,d=>d.reset());class O{constructor(){this.next=this.g=this.h=null}set(p,B){this.h=p,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let q,D=!1,K=new J,G=()=>{const d=a.Promise.resolve(void 0);q=()=>{d.then(ve)}};var ve=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(B){k(B)}var p=ee;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}D=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const B=()=>{};a.addEventListener("test",B,p),a.removeEventListener("test",B,p)}catch{}return d}();function lt(d,p){if(Ie.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var B=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(U){e:{try{Q(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else B=="mouseover"?p=d.fromElement:B=="mouseout"&&(p=d.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:gt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&lt.aa.h.call(this)}}m(lt,Ie);var gt={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),wA=0;function bd(d,p,B,S,L){this.listener=d,this.proxy=null,this.src=p,this.type=B,this.capture=!!S,this.ha=L,this.key=++wA,this.da=this.fa=!1}function xa(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function BA(d){this.src=d,this.g={},this.h=0}BA.prototype.add=function(d,p,B,S,L){var j=d.toString();d=this.g[j],d||(d=this.g[j]=[],this.h++);var Z=Ca(d,p,S,L);return-1<Z?(p=d[Z],B||(p.fa=!1)):(p=new bd(p,this.src,j,!!S,L),p.fa=B,d.push(p)),p};function yl(d,p){var B=p.type;if(B in d.g){var S=d.g[B],L=Array.prototype.indexOf.call(S,p,void 0),j;(j=0<=L)&&Array.prototype.splice.call(S,L,1),j&&(xa(p),d.g[B].length==0&&(delete d.g[B],d.h--))}}function Ca(d,p,B,S){for(var L=0;L<d.length;++L){var j=d[L];if(!j.da&&j.listener==p&&j.capture==!!B&&j.ha==S)return L}return-1}var Ea="closure_lm_"+(1e6*Math.random()|0),Td={};function pm(d,p,B,S,L){if(Array.isArray(p)){for(var j=0;j<p.length;j++)pm(d,p[j],B,S,L);return null}return B=be(B),d&&d[Qt]?d.K(p,B,c(S)?!!S.capture:!!S,L):UC(d,p,B,!1,S,L)}function UC(d,p,B,S,L,j){if(!p)throw Error("Invalid event type");var Z=c(L)?!!L.capture:!!L,qe=Y(d);if(qe||(d[Ea]=qe=new BA(d)),B=qe.add(p,B,S,Z,j),B.proxy)return B;if(S=P(),B.proxy=S,S.src=d,S.listener=B,d.addEventListener)ot||(L=Z),L===void 0&&(L=!1),d.addEventListener(p.toString(),S,L);else if(d.attachEvent)d.attachEvent(re(p.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return B}function P(){function d(B){return p.call(d.src,d.listener,B)}const p=te;return d}function M(d,p,B,S,L){if(Array.isArray(p))for(var j=0;j<p.length;j++)M(d,p[j],B,S,L);else S=c(S)?!!S.capture:!!S,B=be(B),d&&d[Qt]?(d=d.i,p=String(p).toString(),p in d.g&&(j=d.g[p],B=Ca(j,B,S,L),-1<B&&(xa(j[B]),Array.prototype.splice.call(j,B,1),j.length==0&&(delete d.g[p],d.h--)))):d&&(d=Y(d))&&(p=d.g[p.toString()],d=-1,p&&(d=Ca(p,B,S,L)),(B=-1<d?p[d]:null)&&H(B))}function H(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[Qt])yl(p.i,d);else{var B=d.type,S=d.proxy;p.removeEventListener?p.removeEventListener(B,S,d.capture):p.detachEvent?p.detachEvent(re(B),S):p.addListener&&p.removeListener&&p.removeListener(S),(B=Y(p))?(yl(B,d),B.h==0&&(B.src=null,p[Ea]=null)):xa(d)}}}function re(d){return d in Td?Td[d]:Td[d]="on"+d}function te(d,p){if(d.da)d=!0;else{p=new lt(p,this);var B=d.listener,S=d.ha||d.src;d.fa&&H(d),d=B.call(S,p)}return d}function Y(d){return d=d[Ea],d instanceof BA?d:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(d){return typeof d=="function"?d:(d[he]||(d[he]=function(p){return d.handleEvent(p)}),d[he])}function Qe(){Ce.call(this),this.i=new BA(this),this.M=this,this.F=null}m(Qe,Ce),Qe.prototype[Qt]=!0,Qe.prototype.removeEventListener=function(d,p,B,S){M(this,d,p,B,S)};function ke(d,p){var B,S=d.F;if(S)for(B=[];S;S=S.F)B.push(S);if(d=d.M,S=p.type||p,typeof p=="string")p=new Ie(p,d);else if(p instanceof Ie)p.target=p.target||d;else{var L=p;p=new Ie(S,d),T(p,L)}if(L=!0,B)for(var j=B.length-1;0<=j;j--){var Z=p.g=B[j];L=Wn(Z,S,!0,p)&&L}if(Z=p.g=d,L=Wn(Z,S,!0,p)&&L,L=Wn(Z,S,!1,p)&&L,B)for(j=0;j<B.length;j++)Z=p.g=B[j],L=Wn(Z,S,!1,p)&&L}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var d=this.i,p;for(p in d.g){for(var B=d.g[p],S=0;S<B.length;S++)xa(B[S]);delete d.g[p],d.h--}}this.F=null},Qe.prototype.K=function(d,p,B,S){return this.i.add(String(d),p,!1,B,S)},Qe.prototype.L=function(d,p,B,S){return this.i.add(String(d),p,!0,B,S)};function Wn(d,p,B,S){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,j=0;j<p.length;++j){var Z=p[j];if(Z&&!Z.da&&Z.capture==B){var qe=Z.listener,qt=Z.ha||Z.src;Z.fa&&yl(d.i,Z),L=qe.call(qt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Id(d,p,B){if(typeof d=="function")B&&(d=f(d,B));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function _a(d){d.g=Id(()=>{d.g=null,d.i&&(d.i=!1,_a(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class vl extends Ce{constructor(p,B){super(),this.m=p,this.l=B,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xA(d){Ce.call(this),this.h=d,this.g={}}m(xA,Ce);var wl=[];function Ud(d){N(d.g,function(p,B){this.g.hasOwnProperty(B)&&H(p)},d),d.g={}}xA.prototype.N=function(){xA.aa.N.call(this),Ud(this)},xA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ba=a.JSON.stringify,L4=a.JSON.parse,M4=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function gm(){}gm.prototype.h=null;function FC(d){return d.h||(d.h=d.i())}function SC(){}var Bl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mm(){Ie.call(this,"d")}m(mm,Ie);function ym(){Ie.call(this,"c")}m(ym,Ie);var CA={},QC=null;function Fd(){return QC=QC||new Qe}CA.La="serverreachability";function NC(d){Ie.call(this,CA.La,d)}m(NC,Ie);function xl(d){const p=Fd();ke(p,new NC(p))}CA.STAT_EVENT="statevent";function kC(d,p){Ie.call(this,CA.STAT_EVENT,d),this.stat=p}m(kC,Ie);function Tn(d){const p=Fd();ke(p,new kC(p,d))}CA.Ma="timingevent";function RC(d,p){Ie.call(this,CA.Ma,d),this.size=p}m(RC,Ie);function Cl(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function El(){this.g=!0}El.prototype.xa=function(){this.g=!1};function j4(d,p,B,S,L,j){d.info(function(){if(d.g)if(j)for(var Z="",qe=j.split("&"),qt=0;qt<qe.length;qt++){var Me=qe[qt].split("=");if(1<Me.length){var cn=Me[0];Me=Me[1];var un=cn.split("_");Z=2<=un.length&&un[1]=="type"?Z+(cn+"="+Me+"&"):Z+(cn+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+p+`
`+B+`
`+Z})}function O4(d,p,B,S,L,j,Z){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+p+`
`+B+`
`+j+" "+Z})}function Ta(d,p,B,S){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+V4(d,B)+(S?" "+S:"")})}function H4(d,p){d.info(function(){return"TIMEOUT: "+p})}El.prototype.info=function(){};function V4(d,p){if(!d.g)return p;if(!p)return null;try{var B=JSON.parse(p);if(B){for(d=0;d<B.length;d++)if(Array.isArray(B[d])){var S=B[d];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return ba(B)}catch{return p}}var Sd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vm;function Qd(){}m(Qd,gm),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},vm=new Qd;function ni(d,p,B,S){this.j=d,this.i=p,this.l=B,this.R=S||1,this.U=new xA(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new DC}function DC(){this.i=null,this.g="",this.h=!1}var LC={},wm={};function Bm(d,p,B){d.L=1,d.v=Pd(vs(p)),d.m=B,d.P=!0,MC(d,null)}function MC(d,p){d.F=Date.now(),Nd(d),d.A=vs(d.v);var B=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),ZC(B.i,"t",S),d.C=0,B=d.j.J,d.h=new DC,d.g=mE(d.j,B?p:null,!d.m),0<d.O&&(d.M=new vl(f(d.Y,d,d.g),d.O)),p=d.U,B=d.g,S=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(wl[0]=L.toString()),L=wl);for(var j=0;j<L.length;j++){var Z=pm(B,L[j],S||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),xl(),j4(d.i,d.u,d.A,d.l,d.R,d.m)}ni.prototype.ca=function(d){d=d.target;const p=this.M;p&&ws(d)==3?p.j():this.Y(d)},ni.prototype.Y=function(d){try{if(d==this.g)e:{const un=ws(this.g);var p=this.g.Ba();const Fa=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||AE(this.g)))){this.J||un!=4||p==7||(p==8||0>=Fa?xl(3):xl(2)),xm(this);var B=this.g.Z();this.X=B;t:if(jC(this)){var S=AE(this.g);d="";var L=S.length,j=ws(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){EA(this),_l(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,d+=this.h.i.decode(S[p],{stream:!(j&&p==L-1)});S.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=B==200,O4(this.i,this.u,this.A,this.l,this.R,un,B),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,qt=this.g;if((qe=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(qe)){var Me=qe;break t}}Me=null}if(B=Me)Ta(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cm(this,B);else{this.o=!1,this.s=3,Tn(12),EA(this),_l(this);break e}}if(this.P){B=!0;let Er;for(;!this.J&&this.C<Z.length;)if(Er=K4(this,Z),Er==wm){un==4&&(this.s=4,Tn(14),B=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==LC){this.s=4,Tn(15),Ta(this.i,this.l,Z,"[Invalid Chunk]"),B=!1;break}else Ta(this.i,this.l,Er,null),Cm(this,Er);if(jC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||Z.length!=0||this.h.h||(this.s=1,Tn(16),B=!1),this.o=this.o&&B,!B)Ta(this.i,this.l,Z,"[Invalid Chunked Response]"),EA(this),_l(this);else if(0<Z.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Um(cn),cn.M=!0,Tn(11))}}else Ta(this.i,this.l,Z,null),Cm(this,Z);un==4&&EA(this),this.o&&!this.J&&(un==4?hE(this.j,this):(this.o=!1,Nd(this)))}else aP(this.g),B==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),EA(this),_l(this)}}}catch{}finally{}};function jC(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function K4(d,p){var B=d.C,S=p.indexOf(`
`,B);return S==-1?wm:(B=Number(p.substring(B,S)),isNaN(B)?LC:(S+=1,S+B>p.length?wm:(p=p.slice(S,S+B),d.C=S+B,p)))}ni.prototype.cancel=function(){this.J=!0,EA(this)};function Nd(d){d.S=Date.now()+d.I,OC(d,d.I)}function OC(d,p){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Cl(f(d.ba,d),p)}function xm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ni.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(H4(this.i,this.A),this.L!=2&&(xl(),Tn(17)),EA(this),this.s=2,_l(this)):OC(this,this.S-d)};function _l(d){d.j.G==0||d.J||hE(d.j,d)}function EA(d){xm(d);var p=d.M;p&&typeof p.ma=="function"&&p.ma(),d.M=null,Ud(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function Cm(d,p){try{var B=d.j;if(B.G!=0&&(B.g==d||Em(B.h,d))){if(!d.K&&Em(B.h,d)&&B.G==3){try{var S=B.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<d.F)Hd(B),jd(B);else break e;Im(B),Tn(18)}}else B.za=L[1],0<B.za-B.T&&37500>L[2]&&B.F&&B.v==0&&!B.C&&(B.C=Cl(f(B.Za,B),6e3));if(1>=KC(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else bA(B,11)}else if((d.K||B.g==d)&&Hd(B),!y(p))for(L=B.Da.g.parse(p),p=0;p<L.length;p++){let Me=L[p];if(B.T=Me[0],Me=Me[1],B.G==2)if(Me[0]=="c"){B.K=Me[1],B.ia=Me[2];const cn=Me[3];cn!=null&&(B.la=cn,B.j.info("VER="+B.la));const un=Me[4];un!=null&&(B.Aa=un,B.j.info("SVER="+B.Aa));const Fa=Me[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(S=1.5*Fa,B.L=S,B.j.info("backChannelRequestTimeoutMs_="+S)),S=B;const Er=d.g;if(Er){const Kd=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kd){var j=S.h;j.g||Kd.indexOf("spdy")==-1&&Kd.indexOf("quic")==-1&&Kd.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(_m(j,j.h),j.h=null))}if(S.D){const Fm=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Fm&&(S.ya=Fm,nt(S.I,S.D,Fm))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-d.F,B.j.info("Handshake RTT: "+B.R+"ms")),S=B;var Z=d;if(S.qa=gE(S,S.J?S.ia:null,S.W),Z.K){zC(S.h,Z);var qe=Z,qt=S.L;qt&&(qe.I=qt),qe.B&&(xm(qe),Nd(qe)),S.g=Z}else uE(S);0<B.i.length&&Od(B)}else Me[0]!="stop"&&Me[0]!="close"||bA(B,7);else B.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?bA(B,7):Tm(B):Me[0]!="noop"&&B.l&&B.l.ta(Me),B.v=0)}}xl(4)}catch{}}var z4=class{constructor(d,p){this.g=d,this.map=p}};function HC(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function VC(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function KC(d){return d.h?1:d.g?d.g.size:0}function Em(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function _m(d,p){d.g?d.g.add(p):d.h=p}function zC(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}HC.prototype.cancel=function(){if(this.i=GC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function GC(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const B of d.g.values())p=p.concat(B.D);return p}return v(d.i)}function G4(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(o(d)){for(var p=[],B=d.length,S=0;S<B;S++)p.push(d[S]);return p}p=[],B=0;for(S in d)p[B++]=d[S];return p}function $4(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(o(d)||typeof d=="string"){var p=[];d=d.length;for(var B=0;B<d;B++)p.push(B);return p}p=[],B=0;for(const S in d)p[B++]=S;return p}}}function $C(d,p){if(d.forEach&&typeof d.forEach=="function")d.forEach(p,void 0);else if(o(d)||typeof d=="string")Array.prototype.forEach.call(d,p,void 0);else for(var B=$4(d),S=G4(d),L=S.length,j=0;j<L;j++)p.call(void 0,S[j],B&&B[j],d)}var WC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W4(d,p){if(d){d=d.split("&");for(var B=0;B<d.length;B++){var S=d[B].indexOf("="),L=null;if(0<=S){var j=d[B].substring(0,S);L=d[B].substring(S+1)}else j=d[B];p(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _A(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof _A){this.h=d.h,kd(this,d.j),this.o=d.o,this.g=d.g,Rd(this,d.s),this.l=d.l;var p=d.i,B=new Il;B.i=p.i,p.g&&(B.g=new Map(p.g),B.h=p.h),qC(this,B),this.m=d.m}else d&&(p=String(d).match(WC))?(this.h=!1,kd(this,p[1]||"",!0),this.o=bl(p[2]||""),this.g=bl(p[3]||"",!0),Rd(this,p[4]),this.l=bl(p[5]||"",!0),qC(this,p[6]||"",!0),this.m=bl(p[7]||"")):(this.h=!1,this.i=new Il(null,this.h))}_A.prototype.toString=function(){var d=[],p=this.j;p&&d.push(Tl(p,XC,!0),":");var B=this.g;return(B||p=="file")&&(d.push("//"),(p=this.o)&&d.push(Tl(p,XC,!0),"@"),d.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&d.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&d.push("/"),d.push(Tl(B,B.charAt(0)=="/"?Y4:X4,!0))),(B=this.i.toString())&&d.push("?",B),(B=this.m)&&d.push("#",Tl(B,Z4)),d.join("")};function vs(d){return new _A(d)}function kd(d,p,B){d.j=B?bl(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function Rd(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function qC(d,p,B){p instanceof Il?(d.i=p,eP(d.i,d.h)):(B||(p=Tl(p,J4)),d.i=new Il(p,d.h))}function nt(d,p,B){d.i.set(p,B)}function Pd(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function bl(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Tl(d,p,B){return typeof d=="string"?(d=encodeURI(d).replace(p,q4),B&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function q4(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var XC=/[#\/\?@]/g,X4=/[#\?:]/g,Y4=/[#\?]/g,J4=/[#\?@]/g,Z4=/#/g;function Il(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function ri(d){d.g||(d.g=new Map,d.h=0,d.i&&W4(d.i,function(p,B){d.add(decodeURIComponent(p.replace(/\+/g," ")),B)}))}t=Il.prototype,t.add=function(d,p){ri(this),this.i=null,d=Ia(this,d);var B=this.g.get(d);return B||this.g.set(d,B=[]),B.push(p),this.h+=1,this};function YC(d,p){ri(d),p=Ia(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function JC(d,p){return ri(d),p=Ia(d,p),d.g.has(p)}t.forEach=function(d,p){ri(this),this.g.forEach(function(B,S){B.forEach(function(L){d.call(p,L,S,this)},this)},this)},t.na=function(){ri(this);const d=Array.from(this.g.values()),p=Array.from(this.g.keys()),B=[];for(let S=0;S<p.length;S++){const L=d[S];for(let j=0;j<L.length;j++)B.push(p[S])}return B},t.V=function(d){ri(this);let p=[];if(typeof d=="string")JC(this,d)&&(p=p.concat(this.g.get(Ia(this,d))));else{d=Array.from(this.g.values());for(let B=0;B<d.length;B++)p=p.concat(d[B])}return p},t.set=function(d,p){return ri(this),this.i=null,d=Ia(this,d),JC(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=this.V(d),0<d.length?String(d[0]):p):p};function ZC(d,p,B){YC(d,p),0<B.length&&(d.i=null,d.g.set(Ia(d,p),v(B)),d.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(var B=0;B<p.length;B++){var S=p[B];const j=encodeURIComponent(String(S)),Z=this.V(S);for(S=0;S<Z.length;S++){var L=j;Z[S]!==""&&(L+="="+encodeURIComponent(String(Z[S]))),d.push(L)}}return this.i=d.join("&")};function Ia(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function eP(d,p){p&&!d.j&&(ri(d),d.i=null,d.g.forEach(function(B,S){var L=S.toLowerCase();S!=L&&(YC(this,S),ZC(this,L,B))},d)),d.j=p}function tP(d,p){const B=new El;if(a.Image){const S=new Image;S.onload=g(si,B,"TestLoadImage: loaded",!0,p,S),S.onerror=g(si,B,"TestLoadImage: error",!1,p,S),S.onabort=g(si,B,"TestLoadImage: abort",!1,p,S),S.ontimeout=g(si,B,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else p(!1)}function nP(d,p){const B=new El,S=new AbortController,L=setTimeout(()=>{S.abort(),si(B,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:S.signal}).then(j=>{clearTimeout(L),j.ok?si(B,"TestPingServer: ok",!0,p):si(B,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),si(B,"TestPingServer: error",!1,p)})}function si(d,p,B,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(B)}catch{}}function rP(){this.g=new M4}function sP(d,p,B){const S=B||"";try{$C(d,function(L,j){let Z=L;c(L)&&(Z=ba(L)),p.push(S+j+"="+encodeURIComponent(Z))})}catch(L){throw p.push(S+"type="+encodeURIComponent("_badmap")),L}}function Dd(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Dd,gm),Dd.prototype.g=function(){return new Ld(this.l,this.j)},Dd.prototype.i=function(d){return function(){return d}}({});function Ld(d,p){Qe.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ld,Qe),t=Ld.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,Fl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Fl(this)),this.g&&(this.readyState=3,Fl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function eE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?Ul(this):Fl(this),this.readyState==3&&eE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Ul(this))},t.Qa=function(d){this.g&&(this.response=d,Ul(this))},t.ga=function(){this.g&&Ul(this)};function Ul(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Fl(d)}t.setRequestHeader=function(d,p){this.u.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var B=p.next();!B.done;)B=B.value,d.push(B[0]+": "+B[1]),B=p.next();return d.join(`\r
`)};function Fl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ld.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function tE(d){let p="";return N(d,function(B,S){p+=S,p+=":",p+=B,p+=`\r
`}),p}function bm(d,p,B){e:{for(S in B){var S=!1;break e}S=!0}S||(B=tE(B),typeof d=="string"?B!=null&&encodeURIComponent(String(B)):nt(d,p,B))}function mt(d){Qe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(mt,Qe);var iP=/^https?$/i,AP=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,p,B,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vm.g(),this.v=this.o?FC(this.o):FC(vm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(j){nE(this,j);return}if(d=B||"",B=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)B.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())B.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(B.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(AP,p,void 0))||S||L||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of B)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iE(this),this.u=!0,this.g.send(d),this.u=!1}catch(j){nE(this,j)}};function nE(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,rE(d),Md(d)}function rE(d){d.A||(d.A=!0,ke(d,"complete"),ke(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,ke(this,"complete"),ke(this,"abort"),Md(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Md(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sE(this):this.bb())},t.bb=function(){sE(this)};function sE(d){if(d.h&&typeof A<"u"&&(!d.v[1]||ws(d)!=4||d.Z()!=2)){if(d.u&&ws(d)==4)Id(d.Ea,0,d);else if(ke(d,"readystatechange"),ws(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var B;if(!(B=p)){var S;if(S=Z===0){var L=String(d.D).match(WC)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),S=!iP.test(L?L.toLowerCase():"")}B=S}if(B)ke(d,"complete"),ke(d,"success");else{d.m=6;try{var j=2<ws(d)?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.Z()+"]",rE(d)}}finally{Md(d)}}}}function Md(d,p){if(d.g){iE(d);const B=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||ke(d,"ready");try{B.onreadystatechange=S}catch{}}}function iE(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ws(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),L4(p)}};function AE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function aP(d){const p={};d=(d.g&&2<=ws(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(y(d[S]))continue;var B=R(d[S]);const L=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const j=p[L]||[];p[L]=j,j.push(B)}_(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sl(d,p,B){return B&&B.internalChannelParams&&B.internalChannelParams[d]||p}function aE(d){this.Aa=0,this.i=[],this.j=new El,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sl("baseRetryDelayMs",5e3,d),this.cb=Sl("retryDelaySeedMs",1e4,d),this.Wa=Sl("forwardChannelMaxRetries",2,d),this.wa=Sl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new HC(d&&d.concurrentRequestLimit),this.Da=new rP,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aE.prototype,t.la=8,t.G=1,t.connect=function(d,p,B,S){Tn(0),this.W=d,this.H=p||{},B&&S!==void 0&&(this.H.OSID=B,this.H.OAID=S),this.F=this.X,this.I=gE(this,null,this.W),Od(this)};function Tm(d){if(oE(d),d.G==3){var p=d.U++,B=vs(d.I);if(nt(B,"SID",d.K),nt(B,"RID",p),nt(B,"TYPE","terminate"),Ql(d,B),p=new ni(d,d.j,p),p.L=2,p.v=Pd(vs(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=p.v,B=!0),B||(p.g=mE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Nd(p)}pE(d)}function jd(d){d.g&&(Um(d),d.g.cancel(),d.g=null)}function oE(d){jd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Hd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Od(d){if(!VC(d.h)&&!d.s){d.s=!0;var p=d.Ga;q||G(),D||(q(),D=!0),K.add(p,d),d.B=0}}function oP(d,p){return KC(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=p.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Cl(f(d.Ga,d,p),fE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new ni(this,this.j,d);let j=this.o;if(this.S&&(j?(j=C(j),T(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var p=0,B=0;B<this.i.length;B++){t:{var S=this.i[B];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=B;break e}if(p===4096||B===this.i.length-1){p=B+1;break e}}p=1e3}else p=1e3;p=cE(this,L,p),B=vs(this.I),nt(B,"RID",d),nt(B,"CVER",22),this.D&&nt(B,"X-HTTP-Session-Id",this.D),Ql(this,B),j&&(this.O?p="headers="+encodeURIComponent(String(tE(j)))+"&"+p:this.m&&bm(B,this.m,j)),_m(this.h,L),this.Ua&&nt(B,"TYPE","init"),this.P?(nt(B,"$req",p),nt(B,"SID","null"),L.T=!0,Bm(L,B,null)):Bm(L,B,p),this.G=2}}else this.G==3&&(d?lE(this,d):this.i.length==0||VC(this.h)||lE(this))};function lE(d,p){var B;p?B=p.l:B=d.U++;const S=vs(d.I);nt(S,"SID",d.K),nt(S,"RID",B),nt(S,"AID",d.T),Ql(d,S),d.m&&d.o&&bm(S,d.m,d.o),B=new ni(d,d.j,B,d.B+1),d.m===null&&(B.H=d.o),p&&(d.i=p.D.concat(d.i)),p=cE(d,B,1e3),B.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),_m(d.h,B),Bm(B,S,p)}function Ql(d,p){d.H&&N(d.H,function(B,S){nt(p,S,B)}),d.l&&$C({},function(B,S){nt(p,S,B)})}function cE(d,p,B){B=Math.min(d.i.length,B);var S=d.l?f(d.l.Na,d.l,d):null;e:{var L=d.i;let j=-1;for(;;){const Z=["count="+B];j==-1?0<B?(j=L[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let qe=!0;for(let qt=0;qt<B;qt++){let Me=L[qt].g;const cn=L[qt].map;if(Me-=j,0>Me)j=Math.max(0,L[qt].g-100),qe=!1;else try{sP(cn,Z,"req"+Me+"_")}catch{S&&S(cn)}}if(qe){S=Z.join("&");break e}}}return d=d.i.splice(0,B),p.D=d,S}function uE(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;q||G(),D||(q(),D=!0),K.add(p,d),d.v=0}}function Im(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Cl(f(d.Fa,d),fE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,dE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Cl(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),jd(this),dE(this))};function Um(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function dE(d){d.g=new ni(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var p=vs(d.qa);nt(p,"RID","rpc"),nt(p,"SID",d.K),nt(p,"AID",d.T),nt(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(p,"TO",d.ja),nt(p,"TYPE","xmlhttp"),Ql(d,p),d.m&&d.o&&bm(p,d.m,d.o),d.L&&(d.g.I=d.L);var B=d.g;d=d.ia,B.L=1,B.v=Pd(vs(p)),B.m=null,B.P=!0,MC(B,d)}t.Za=function(){this.C!=null&&(this.C=null,jd(this),Im(this),Tn(19))};function Hd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function hE(d,p){var B=null;if(d.g==p){Hd(d),Um(d),d.g=null;var S=2}else if(Em(d.h,p))B=p.D,zC(d.h,p),S=1;else return;if(d.G!=0){if(p.o)if(S==1){B=p.m?p.m.length:0,p=Date.now()-p.F;var L=d.B;S=Fd(),ke(S,new RC(S,B)),Od(d)}else uE(d);else if(L=p.s,L==3||L==0&&0<p.X||!(S==1&&oP(d,p)||S==2&&Im(d)))switch(B&&0<B.length&&(p=d.h,p.i=p.i.concat(B)),L){case 1:bA(d,5);break;case 4:bA(d,10);break;case 3:bA(d,6);break;default:bA(d,2)}}}function fE(d,p){let B=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(B*=2),B*p}function bA(d,p){if(d.j.info("Error code "+p),p==2){var B=f(d.fb,d),S=d.Xa;const L=!S;S=new _A(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||kd(S,"https"),Pd(S),L?tP(S.toString(),B):nP(S.toString(),B)}else Tn(2);d.G=0,d.l&&d.l.sa(p),pE(d),oE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function pE(d){if(d.G=0,d.ka=[],d.l){const p=GC(d.h);(p.length!=0||d.i.length!=0)&&(E(d.ka,p),E(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function gE(d,p,B){var S=B instanceof _A?vs(B):new _A(B);if(S.g!="")p&&(S.g=p+"."+S.g),Rd(S,S.s);else{var L=a.location;S=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var j=new _A(null);S&&kd(j,S),p&&(j.g=p),L&&Rd(j,L),B&&(j.l=B),S=j}return B=d.D,p=d.ya,B&&p&&nt(S,B,p),nt(S,"VER",d.la),Ql(d,S),S}function mE(d,p,B){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Ca&&!d.pa?new mt(new Dd({eb:B})):new mt(d.pa),p.Ha(d.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yE(){}t=yE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vd(){}Vd.prototype.g=function(d,p){return new qn(d,p)};function qn(d,p){Qe.call(this),this.g=new aE(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!y(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new Ua(this)}m(qn,Qe),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){Tm(this.g)},qn.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var B={};B.__data__=d,d=B}else this.u&&(B={},B.__data__=ba(d),d=B);p.i.push(new z4(p.Ya++,d)),p.G==3&&Od(p)},qn.prototype.N=function(){this.g.l=null,delete this.j,Tm(this.g),delete this.g,qn.aa.N.call(this)};function vE(d){mm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const B in p){d=B;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}m(vE,mm);function wE(){ym.call(this),this.status=1}m(wE,ym);function Ua(d){this.g=d}m(Ua,yE),Ua.prototype.ua=function(){ke(this.g,"a")},Ua.prototype.ta=function(d){ke(this.g,new vE(d))},Ua.prototype.sa=function(d){ke(this.g,new wE)},Ua.prototype.ra=function(){ke(this.g,"b")},Vd.prototype.createWebChannel=Vd.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,T2=function(){return new Vd},b2=function(){return Fd()},_2=CA,ov={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sd.NO_ERROR=0,Sd.TIMEOUT=8,Sd.HTTP_ERROR=6,of=Sd,PC.COMPLETE="complete",E2=PC,SC.EventType=Bl,Bl.OPEN="a",Bl.CLOSE="b",Bl.ERROR="c",Bl.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,sc=SC,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,C2=mt}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const p1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new _B("@firebase/firestore");function Ol(){return sa.logLevel}function ue(t,...e){if(sa.logLevel<=Ne.DEBUG){const n=e.map(PB);sa.debug(`Firestore (${ll}): ${t}`,...n)}}function Gs(t,...e){if(sa.logLevel<=Ne.ERROR){const n=e.map(PB);sa.error(`Firestore (${ll}): ${t}`,...n)}}function Mo(t,...e){if(sa.logLevel<=Ne.WARN){const n=e.map(PB);sa.warn(`Firestore (${ll}): ${t}`,...n)}}function PB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: `+t;throw Gs(e),new Error(e)}function Le(t,e){t||ge()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mn.UNAUTHENTICATED))}shutdown(){}}class DV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LV{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let r=this.i;const s=o=>this.i!==r?(r=this.i,n(o)):Promise.resolve();let i=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ss,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const o=i;e.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},a=o=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ss)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new I2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new mn(e)}}class MV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Le(this.o===void 0);const r=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new OV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=VV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Ht(0,0))}static max(){return new we(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),A=n.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends mu{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const KV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends mu{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return KV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new se(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new se(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new se(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(r+=a,s++):(i(),s++)}if(i(),A)throw new se(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ye.fromString(e))}static fromName(e){return new fe(Ye.fromString(e).popFirst(5))}static empty(){return new fe(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ye(e.slice()))}}function zV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new Ht(n+1,0):new Ht(n,r));return new qi(s,fe.empty(),e)}function GV(t){return new qi(t.readTime,t.key,-1)}class qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qi(we.min(),fe.empty(),-1)}static max(){return new qi(we.max(),fe.empty(),-1)}}function $V(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==WV)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&n()},o=>r(o))}),A=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,A=new Array(i);let a=0;for(let o=0;o<i;o++){const c=o;n(e[c]).next(u=>{A[c]=u,++a,a===i&&r(A)},u=>s(u))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function XV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ad(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}DB.oe=-1;function ad(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function YV(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=i??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Zt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new m1(this.data.getIterator())}getIteratorFrom(e){return new m1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class m1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new sn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new S2("Invalid base64 string: "+i):i}}(e);return new on(n)}static fromUint8Array(e){const n=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const JV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(Le(!!t),typeof t=="string"){let e=0;const n=JV.exec(t);if(Le(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function MB(t){const e=t.mapValue.fields.__previous_value__;return LB(e)?MB(e):e}function yu(t){const e=Xi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,s,i,A,a,o,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=c}}class vu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LB(t)?4:t3(t)?9007199254740991:e3(t)?10:11:ge()}function cs(t,e){if(t===e)return!0;const n=Aa(t);if(n!==Aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yu(t).isEqual(yu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Xi(s.timestampValue),a=Xi(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ia(s.bytesValue).isEqual(ia(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Tt(s.geoPointValue.latitude)===Tt(i.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Tt(s.integerValue)===Tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=Tt(s.doubleValue),a=Tt(i.doubleValue);return A===a?sp(A)===sp(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if(g1(A)!==g1(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!cs(A[o],a[o])))return!1;return!0}(t,e);default:return ge()}}function wu(t,e){return(t.values||[]).find(n=>cs(n,e))!==void 0}function Oo(t,e){if(t===e)return 0;const n=Aa(t),r=Aa(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=Tt(i.integerValue||i.doubleValue),o=Tt(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return y1(t.timestampValue,e.timestampValue);case 4:return y1(yu(t),yu(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,A){const a=ia(i),o=ia(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),o=A.split("/");for(let c=0;c<a.length&&c<o.length;c++){const u=je(a[c],o[c]);if(u!==0)return u}return je(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=je(Tt(i.latitude),Tt(A.latitude));return a!==0?a:je(Tt(i.longitude),Tt(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return v1(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,o,c,u;const h=i.fields||{},f=A.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,v=je(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:v1(g,m)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===uh.mapValue&&A===uh.mapValue)return 0;if(i===uh.mapValue)return 1;if(A===uh.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),c=A.fields||{},u=Object.keys(c);o.sort(),u.sort();for(let h=0;h<o.length&&h<u.length;++h){const f=je(o[h],u[h]);if(f!==0)return f;const g=Oo(a[o[h]],c[u[h]]);if(g!==0)return g}return je(o.length,u.length)}(t.mapValue,e.mapValue);default:throw ge()}}function y1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Xi(t),r=Xi(e),s=je(n.seconds,r.seconds);return s!==0?s:je(n.nanos,r.nanos)}function v1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Oo(n[s],r[s]);if(i)return i}return je(n.length,r.length)}function Ho(t){return lv(t)}function lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ia(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=lv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const A of r)i?i=!1:s+=",",s+=`${A}:${lv(n.fields[A])}`;return s+"}"}(t.mapValue):ge()}function w1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cv(t){return!!t&&"integerValue"in t}function jB(t){return!!t&&"arrayValue"in t}function B1(t){return!!t&&"nullValue"in t}function x1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lf(t){return!!t&&"mapValue"in t}function e3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function t3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=en.emptyPath(),r={},s=[];e.forEach((A,a)=>{if(!n.isImmediateParentOf(a)){const o=this.getFieldsMap(n);this.applyChanges(o,r,s),r={},s=[],n=a.popLast()}A?r[a.lastSegment()]=Sc(A):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ma(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Qn(Sc(this.value))}}function Q2(t){const e=[];return ma(t.fields,(n,r)=>{const s=new en([n]);if(lf(r)){const i=Q2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,s,i,A,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,we.min(),we.min(),we.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,s){return new $t(e,1,n,we.min(),r,s,0)}static newNoDocument(e,n){return new $t(e,2,n,we.min(),we.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,we.min(),we.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.position=e,this.inclusive=n}}function C1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(A.referenceValue),n.key):r=Oo(A,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function E1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function n3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2=class{};class Dt extends N2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s3(e,n,r):n==="array-contains"?new a3(e,r):n==="in"?new o3(e,r):n==="not-in"?new l3(e,r):n==="array-contains-any"?new c3(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i3(e,r):new A3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oo(n,this.value)):n!==null&&Aa(this.value)===Aa(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends N2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Lr(e,n)}matches(e){return k2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k2(t){return t.op==="and"}function R2(t){return r3(t)&&k2(t)}function r3(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function uv(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(R2(t))return t.filters.map(e=>uv(e)).join(",");{const e=t.filters.map(n=>uv(n)).join(",");return`${t.op}(${e})`}}function P2(t,e){return t instanceof Dt?function(r,s){return s instanceof Dt&&r.op===s.op&&r.field.isEqual(s.field)&&cs(r.value,s.value)}(t,e):t instanceof Lr?function(r,s){return s instanceof Lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,A,a)=>i&&P2(A,s.filters[a]),!0):!1}(t,e):void ge()}function D2(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(D2).join(" ,")+"}"}(t):"Filter"}class s3 extends Dt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class i3 extends Dt{constructor(e,n){super(e,"in",n),this.keys=L2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class A3 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=L2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class a3 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jB(n)&&wu(n.arrayValue,this.value)}}class o3 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class l3 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wu(this.value.arrayValue,n)}}class c3 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jB(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n=null,r=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function _1(t,e=null,n=[],r=[],s=null,i=null,A=null){return new u3(t,e,n,r,s,i,A)}function OB(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ue=n}return e.ue}function HB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E1(t.startAt,e.startAt)&&E1(t.endAt,e.endAt)}function dv(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n=null,r=[],s=[],i=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function d3(t,e,n,r,s,i,A,a){return new cl(t,e,n,r,s,i,A,a)}function Eg(t){return new cl(t)}function b1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function M2(t){return t.collectionGroup!==null}function Qc(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new sn(en.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Bu(i,r))}),n.has(en.keyField().canonicalString())||e.ce.push(new Bu(en.keyField(),r))}return e.ce}function is(t){const e=Ee(t);return e.le||(e.le=h3(e,Qc(t))),e.le}function h3(t,e){if(t.limitType==="F")return _1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bu(s.field,i)});const n=t.endAt?new ip(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ip(t.startAt.position,t.startAt.inclusive):null;return _1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hv(t,e){const n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fv(t,e,n){return new cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _g(t,e){return HB(is(t),is(e))&&t.limitType===e.limitType}function j2(t){return`${OB(is(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>D2(s)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ho(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ho(s)).join(",")),`Target(${r})`}(is(t))}; limitType=${t.limitType})`}function bg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Qc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(A,a,o){const c=C1(A,a,o);return A.inclusive?c<=0:c<0}(r.startAt,Qc(r),s)||r.endAt&&!function(A,a,o){const c=C1(A,a,o);return A.inclusive?c>=0:c>0}(r.endAt,Qc(r),s))}(t,e)}function f3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O2(t){return(e,n)=>{let r=!1;for(const s of Qc(t)){const i=p3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function p3(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,A,a){const o=A.data.field(i),c=a.data.field(i);return o!==null&&c!==null?Oo(o,c):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return F2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new pt(fe.comparator);function $s(){return g3}const H2=new pt(fe.comparator);function ic(...t){let e=H2;for(const n of t)e=e.insert(n.key,n);return e}function V2(t){let e=H2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function MA(){return Nc()}function K2(){return Nc()}function Nc(){return new ul(t=>t.toString(),(t,e)=>t.isEqual(e))}const m3=new pt(fe.comparator),y3=new sn(fe.comparator);function Se(...t){let e=y3;for(const n of t)e=e.add(n);return e}const v3=new sn(je);function w3(){return v3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function z2(t){return{integerValue:""+t}}function B3(t,e){return YV(e)?z2(e):VB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this._=void 0}}function x3(t,e,n){return t instanceof xu?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&LB(i)&&(i=MB(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(n,e):t instanceof Cu?$2(t,e):t instanceof Eu?W2(t,e):function(s,i){const A=G2(s,i),a=T1(A)+T1(s.Pe);return cv(A)&&cv(s.Pe)?z2(a):VB(s.serializer,a)}(t,e)}function C3(t,e,n){return t instanceof Cu?$2(t,e):t instanceof Eu?W2(t,e):n}function G2(t,e){return t instanceof Ap?function(r){return cv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class xu extends Tg{}class Cu extends Tg{constructor(e){super(),this.elements=e}}function $2(t,e){const n=q2(e);for(const r of t.elements)n.some(s=>cs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Eu extends Tg{constructor(e){super(),this.elements=e}}function W2(t,e){let n=q2(e);for(const r of t.elements)n=n.filter(s=>!cs(s,r));return{arrayValue:{values:n}}}class Ap extends Tg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function T1(t){return Tt(t.integerValue||t.doubleValue)}function q2(t){return jB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.field=e,this.transform=n}}function _3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Cu&&s instanceof Cu||r instanceof Eu&&s instanceof Eu?jo(r.elements,s.elements,cs):r instanceof Ap&&s instanceof Ap?cs(r.Pe,s.Pe):r instanceof xu&&s instanceof xu}(t.transform,e.transform)}class b3{constructor(e,n){this.version=e,this.transformResults=n}}class tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ig{}function X2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ug(t.key,tn.none()):new od(t.key,t.data,tn.none());{const n=t.data,r=Qn.empty();let s=new sn(en.comparator);for(let i of e.fields)if(!s.has(i)){let A=n.field(i);A===null&&i.length>1&&(i=i.popLast(),A=n.field(i)),A===null?r.delete(i):r.set(i,A),s=s.add(i)}return new pA(t.key,r,new Zn(s.toArray()),tn.none())}}function T3(t,e,n){t instanceof od?function(s,i,A){const a=s.value.clone(),o=U1(s.fieldTransforms,i,A.transformResults);a.setAll(o),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pA?function(s,i,A){if(!cf(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=U1(s.fieldTransforms,i,A.transformResults),o=i.data;o.setAll(Y2(s)),o.setAll(a),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,n):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,n)}function kc(t,e,n,r){return t instanceof od?function(i,A,a,o){if(!cf(i.precondition,A))return a;const c=i.value.clone(),u=F1(i.fieldTransforms,o,A);return c.setAll(u),A.convertToFoundDocument(A.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof pA?function(i,A,a,o){if(!cf(i.precondition,A))return a;const c=F1(i.fieldTransforms,o,A),u=A.data;return u.setAll(Y2(i)),u.setAll(c),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,A,a){return cf(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,n)}function I3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=G2(r.transform,s||null);i!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,i))}return n||null}function I1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&jo(r,s,(i,A)=>_3(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends Ig{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pA extends Ig{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Y2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function U1(t,e,n){const r=new Map;Le(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);r.set(i.field,C3(A,a,n[s]))}return r}function F1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,A=n.data.field(s.field);r.set(s.field,x3(i,A,e))}return r}class Ug extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends Ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&T3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=K2();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=n.has(s.key)?null:a;const o=X2(A,a);o!==null&&r.set(s.key,o),A.isValidDocument()||A.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>I1(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>I1(n,r))}}class KB{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length);let s=function(){return m3}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,r[A].version);return new KB(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Re;function Z2(t){switch(t){default:return ge();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function eQ(t){if(t===void 0)return Gs("GRPC error has no .code"),V.UNKNOWN;switch(t){case Nt.OK:return V.OK;case Nt.CANCELLED:return V.CANCELLED;case Nt.UNKNOWN:return V.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return V.INTERNAL;case Nt.UNAVAILABLE:return V.UNAVAILABLE;case Nt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Nt.NOT_FOUND:return V.NOT_FOUND;case Nt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Nt.ABORTED:return V.ABORTED;case Nt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Nt.DATA_LOSS:return V.DATA_LOSS;default:return ge()}}(Re=Nt||(Nt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new zA([4294967295,4294967295],0);function S1(t){const e=Q3().encode(t),n=new x2;return n.update(e),new Uint8Array(n.digest())}function Q1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new zA([n,r],0),new zA([s,i],0)]}class zB{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ac(`Invalid padding: ${n}`);if(r<0)throw new Ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zA.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(zA.fromNumber(r)));return s.compare(N3)===1&&(s=new zA([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=S1(e),[r,s]=Q1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);if(!this.de(A))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new zB(i,s,n);return r.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const n=S1(e),[r,s]=Q1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);this.Ae(A)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fg(we.min(),s,new pt(je),$s(),Se())}}class ld{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ld(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class tQ{constructor(e,n){this.targetId=e,this.me=n}}class nQ{constructor(e,n,r=on.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class N1{constructor(){this.fe=0,this.ge=R1(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ge()}}),new ld(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=R1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class k3{constructor(e){this.Le=e,this.Be=new Map,this.ke=$s(),this.qe=k1(),this.Qe=new pt(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(dv(i))if(r===0){const A=new fe(i.path);this.Ue(n,A,$t.newNoDocument(A,we.min()))}else Le(r===1);else{const A=this.Ye(n);if(A!==r){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(n);const c=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let A,a;try{A=ia(r).toUint8Array()}catch(o){if(o instanceof S2)return Mo("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new zB(A,s,i)}catch(o){return Mo(o instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&dv(a.target)){const o=new fe(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,$t.newNoDocument(o,e))}i.be&&(n.set(A,i.ve()),i.Ce())}});let r=Se();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(o=>{const c=this.Je(o);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new Fg(e,n,this.Qe,this.ke,r);return this.ke=$s(),this.qe=k1(),this.Qe=new pt(je),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new N1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new sn(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new N1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function k1(){return new pt(fe.comparator)}function R1(){return new pt(fe.comparator)}const R3={asc:"ASCENDING",desc:"DESCENDING"},P3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D3={and:"AND",or:"OR"};class L3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pv(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M3(t,e){return ap(t,e.toTimestamp())}function nr(t){return Le(!!t),we.fromTimestamp(function(n){const r=Xi(n);return new Ht(r.seconds,r.nanos)}(t))}function GB(t,e){return gv(t,e).canonicalString()}function gv(t,e){const n=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sQ(t){const e=Ye.fromString(t);return Le(cQ(e)),e}function op(t,e){return GB(t.databaseId,e.path)}function Rc(t,e){const n=sQ(e);if(n.get(1)!==t.databaseId.projectId)throw new se(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(AQ(n))}function iQ(t,e){return GB(t.databaseId,e)}function j3(t){const e=sQ(t);return e.length===4?Ye.emptyPath():AQ(e)}function mv(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AQ(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P1(t,e,n){return{name:op(t,e),fields:n.value.mapValue.fields}}function O3(t,e){return"found"in e?function(r,s){Le(!!s.found),s.found.name,s.found.updateTime;const i=Rc(r,s.found.name),A=nr(s.found.updateTime),a=s.found.createTime?nr(s.found.createTime):we.min(),o=new Qn({mapValue:{fields:s.found.fields}});return $t.newFoundDocument(i,A,a,o)}(t,e):"missing"in e?function(r,s){Le(!!s.missing),Le(!!s.readTime);const i=Rc(r,s.missing),A=nr(s.readTime);return $t.newNoDocument(i,A)}(t,e):ge()}function H3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Le(u===void 0||typeof u=="string"),on.fromBase64String(u||"")):(Le(u===void 0||u instanceof Buffer||u instanceof Uint8Array),on.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(c){const u=c.code===void 0?V.UNKNOWN:eQ(c.code);return new se(u,c.message||"")}(A);n=new nQ(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Rc(t,r.document.name),i=nr(r.document.updateTime),A=r.document.createTime?nr(r.document.createTime):we.min(),a=new Qn({mapValue:{fields:r.document.fields}}),o=$t.newFoundDocument(s,i,A,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new uf(c,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Rc(t,r.document),i=r.readTime?nr(r.readTime):we.min(),A=$t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new uf([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Rc(t,r.document),i=r.removedTargetIds||[];n=new uf([],i,s,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,A=new S3(s,i),a=r.targetId;n=new tQ(a,A)}}return n}function aQ(t,e){let n;if(e instanceof od)n={update:P1(t,e.key,e.value)};else if(e instanceof Ug)n={delete:op(t,e.key)};else if(e instanceof pA)n={update:P1(t,e.key,e.data),updateMask:Y3(e.fieldMask)};else{if(!(e instanceof J2))return ge();n={verify:op(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,A){const a=A.transform;if(a instanceof xu)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cu)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eu)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ap)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:M3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(t,e.precondition)),n}function V3(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(s,i){let A=s.updateTime?nr(s.updateTime):nr(i);return A.isEqual(we.min())&&(A=nr(i)),new b3(A,s.transformResults||[])}(n,e))):[]}function K3(t,e){return{documents:[iQ(t,e.path)]}}function z3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iQ(t,s);const i=function(c){if(c.length!==0)return lQ(Lr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const A=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Oa(f.field),direction:W3(f.dir)}}(u))}(e.orderBy);A&&(n.structuredQuery.orderBy=A);const a=pv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function G3(t){let e=j3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=oQ(h);return f instanceof Lr&&R2(f)?f.getFilters():[f]}(n.where));let A=[];n.orderBy&&(A=function(h){return h.map(f=>function(m){return new Bu(Ha(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ad(f)?null:f}(n.limit));let o=null;n.startAt&&(o=function(h){const f=!!h.before,g=h.values||[];return new ip(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,g=h.values||[];return new ip(g,f)}(n.endAt)),d3(e,s,A,i,a,"F",o,c)}function $3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oQ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ha(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ha(n.unaryFilter.field);return Dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ha(n.unaryFilter.field);return Dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Ha(n.unaryFilter.field);return Dt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Ha(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>oQ(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function W3(t){return R3[t]}function q3(t){return P3[t]}function X3(t){return D3[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function Ha(t){return en.fromServerFormat(t.fieldPath)}function lQ(t){return t instanceof Dt?function(n){if(n.op==="=="){if(x1(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(B1(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(x1(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(B1(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:q3(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(s=>lQ(s));return r.length===1?r[0]:{compositeFilter:{op:X3(n.op),filters:r}}}(t):ge()}function Y3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cQ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,s,i=we.min(),A=we.min(),a=on.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.ct=e}}function Z3(t){const e=G3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.un=new tK}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(qi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class tK{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new sn(Ye.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sn(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vo(0)}static kn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.changes=new ul(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&kc(r.mutation,s,Zn.empty(),Ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const s=MA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let A=ic();return i.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,n){const r=MA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{n.set(A,a)})})}computeViews(e,n,r,s){let i=$s();const A=Nc(),a=function(){return Nc()}();return n.forEach((o,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof pA)?i=i.insert(c.key,c):u!==void 0?(A.set(c.key,u.mutation.getFieldMask()),kc(u.mutation,c,u.mutation.getFieldMask(),Ht.now())):A.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(o=>(o.forEach((c,u)=>A.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new rK(u,(h=A.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Nc();let s=new pt((A,a)=>A-a),i=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(A=>{for(const a of A)a.keys().forEach(o=>{const c=n.get(o);if(c===null)return;let u=r.get(o)||Zn.empty();u=a.applyToLocalView(c,u),r.set(o,u);const h=(s.get(a.batchId)||Se()).add(o);s=s.insert(a.batchId,h)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),c=o.key,u=o.value,h=K2();u.forEach(f=>{if(!i.has(f)){const g=X2(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),A.push(this.documentOverlayCache.saveOverlays(e,c,h))}return z.waitFor(A)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(A){return fe.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):M2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(MA());let a=-1,o=i;return A.next(c=>z.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{o=o.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,o,c,Se())).next(u=>({batchId:a,changes:V2(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=ic();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let A=ic();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,o=>{const c=function(h,f){return new cl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,f)=>{A=A.insert(h,f)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(A=>{i.forEach((o,c)=>{const u=c.getKey();A.get(u)===null&&(A=A.insert(u,$t.newInvalidDocument(u)))});let a=ic();return A.forEach((o,c)=>{const u=i.get(o);u!==void 0&&kc(u.mutation,c,Zn.empty(),Ht.now()),bg(n,c)&&(a=a.insert(o,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Z3(s.bundledQuery),readTime:nr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{constructor(){this.overlays=new pt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=MA();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=MA(),i=n.length+1,A=new fe(n.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,c=o.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&o.largestBatchId>r&&s.set(o.getKey(),o)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((c,u)=>c-u);const A=this.overlays.getIterator();for(;A.hasNext();){const c=A.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=MA(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=MA(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new F3(n,r));let i=this.Ir.get(n);i===void 0&&(i=Se(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.Tr=new sn(zt.Er),this.dr=new sn(zt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new zt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new Ye([])),r=new zt(n,e),s=new zt(n,e+1),i=[];return this.dr.forEachInRange([r,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new Ye([])),r=new zt(n,e),s=new zt(n,e+1);let i=Se();return this.dr.forEachInRange([r,s],A=>{i=i.add(A.key)}),i}containsKey(e){const n=new zt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new sn(zt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new U3(i,n,r,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new zt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(A)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),s=new zt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],A=>{const a=this.Dr(A.wr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(je);return n.forEach(s=>{const i=new zt(s,0),A=new zt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const A=new zt(new fe(i),0);let a=new sn(je);return this.br.forEachWhile(o=>{const c=o.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(o.wr)),!0)},A),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new zt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new zt(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e){this.Mr=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,A=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=$s();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$t.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$s();const A=n.path,a=new fe(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:c,value:{document:u}}=o.getNext();if(!A.isPrefixOf(c.path))break;c.path.length>A.length+1||$V(GV(u),r)<=0||(s.has(u.key)||bg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ge()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cK(this)}getSize(e){return z.resolve(this.size)}}class cK extends nK{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.persistence=e,this.Nr=new ul(n=>OB(n),HB),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $B,this.targetCount=0,this.kr=Vo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e,n){this.qr={},this.overlays={},this.Qr=new DB(0),this.Kr=!1,this.Kr=!0,this.$r=new aK,this.referenceDelegate=e(this),this.Ur=new uK(this),this.indexManager=new eK,this.remoteDocumentCache=function(s){return new lK(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new J3(n),this.Gr=new iK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new oK(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new hK(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class hK extends qV{constructor(e){super(),this.currentSequenceNumber=e}}class WB{constructor(e){this.persistence=e,this.Jr=new $B,this.Yr=null}static Zr(e){return new WB(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=fe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,we.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Se(),s=Se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new qB(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ZM()?8:XV(En())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new fK;return this.Xi(e,n,A).next(a=>{if(i.result=a,this.zi)return this.es(e,n,A,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ol()<=Ne.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Ol()<=Ne.DEBUG&&ue("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ol()<=Ne.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(n))):z.resolve())}Yi(e,n){if(b1(n))return z.resolve(null);let r=is(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=fv(n,null,"F"),r=is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const A=Se(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,r).next(o=>{const c=this.ts(n,a);return this.ns(n,c,A,o.readTime)?this.Yi(e,fv(n,null,"F")):this.rs(e,c,n,o)}))})))}Zi(e,n,r,s){return b1(n)||s.isEqual(we.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const A=this.ts(n,i);return this.ns(n,A,r,s)?z.resolve(null):(Ol()<=Ne.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ja(n)),this.rs(e,A,n,zV(s,-1)).next(a=>a))})}ts(e,n){let r=new sn(O2(e));return n.forEach((s,i)=>{bg(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Ol()<=Ne.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ja(n)),this.Ji.getDocumentsMatchingQuery(e,n,qi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new pt(je),this._s=new ul(i=>OB(i),HB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function mK(t,e,n,r){return new gK(t,e,n,r)}async function uQ(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const A=[],a=[];let o=Se();for(const c of s){A.push(c.batchId);for(const u of c.mutations)o=o.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(c=>({hs:c,removedBatchIds:A,addedBatchIds:a}))})})}function yK(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,c,u){const h=c.batch,f=h.keys();let g=z.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(o,m)).next(v=>{const E=c.docVersions.get(m);Le(E!==null),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=Se();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(o=o.add(a.batch.mutations[c].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dQ(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function vK(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(on.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let o=$s(),c=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(wK(i,A,e.documentUpdates).next(u=>{o=u.Ps,c=u.Is})),!r.isEqual(we.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>A.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,o,c)).next(()=>o)}).then(i=>(n.os=s,i))}function wK(t,e,n){let r=Se(),s=Se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let A=$s();return n.forEach((a,o)=>{const c=i.get(a);o.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),o.isNoDocument()&&o.version.isEqual(we.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!c.isValidDocument()||o.version.compareTo(c.version)>0||o.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",o.version)}),{Ps:A,Is:s}})}function BK(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xK(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(A=>(s=new bi(e,A,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yv(t,e,n){const r=Ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,A=>r.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!Ad(A))throw A;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function D1(t,e,n){const r=Ee(t);let s=we.min(),i=Se();return r.persistence.runTransaction("Execute query","readwrite",A=>function(o,c,u){const h=Ee(o),f=h._s.get(u);return f!==void 0?z.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,A,is(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{i=o})}).next(()=>r.ss.getDocumentsMatchingQuery(A,e,n?s:we.min(),n?i:Se())).next(a=>(CK(r,f3(e),a),{documents:a,Ts:i})))}function CK(t,e,n){let r=t.us.get(e)||we.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class L1{constructor(){this.activeTargetIds=w3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EK{constructor(){this.so=new L1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new L1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function u0(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class IK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,A){const a=u0(),o=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,o,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,A),this.No(n,o,c,s).then(u=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Mo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",o,"request:",s),u})}Lo(n,r,s,i,A,a){return this.Mo(n,r,s,i,A)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,A)=>n[A]=i),s&&s.headers.forEach((i,A)=>n[A]=i)}xo(n,r){const s=bK[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=u0();return new Promise((A,a)=>{const o=new C2;o.setWithCredentials(!0),o.listenOnce(E2.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case of.NO_ERROR:const u=o.getResponseJson();ue(fn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),A(u);break;case of.TIMEOUT:ue(fn,`RPC '${e}' ${i} timed out`),a(new se(V.DEADLINE_EXCEEDED,"Request time out"));break;case of.HTTP_ERROR:const h=o.getStatus();if(ue(fn,`RPC '${e}' ${i} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(x)>=0?x:V.UNKNOWN}(g.status);a(new se(m,g.message))}else a(new se(V.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new se(V.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ue(fn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ue(fn,`RPC '${e}' ${i} sending request:`,s),o.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=u0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=T2(),a=b2(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=i.join("");ue(fn,`Creating RPC '${e}' stream ${s}: ${u}`,o);const h=A.createWebChannel(u,o);let f=!1,g=!1;const m=new TK({Io:E=>{g?ue(fn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(ue(fn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),ue(fn,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},To:()=>h.close()}),v=(E,x,y)=>{E.listen(x,w=>{try{y(w)}catch(Q){setTimeout(()=>{throw Q},0)}})};return v(h,sc.EventType.OPEN,()=>{g||(ue(fn,`RPC '${e}' stream ${s} transport opened.`),m.yo())}),v(h,sc.EventType.CLOSE,()=>{g||(g=!0,ue(fn,`RPC '${e}' stream ${s} transport closed`),m.So())}),v(h,sc.EventType.ERROR,E=>{g||(g=!0,Mo(fn,`RPC '${e}' stream ${s} transport errored:`,E),m.So(new se(V.UNAVAILABLE,"The operation could not be completed")))}),v(h,sc.EventType.MESSAGE,E=>{var x;if(!g){const y=E.data[0];Le(!!y);const w=y,Q=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(Q){ue(fn,`RPC '${e}' stream ${s} received error:`,Q);const U=Q.status;let N=function(b){const T=Nt[b];if(T!==void 0)return eQ(T)}(U),_=Q.message;N===void 0&&(N=V.INTERNAL,_="Unknown error status: "+U+" with message "+Q.message),g=!0,m.So(new se(N,_)),h.close()}else ue(fn,`RPC '${e}' stream ${s} received:`,y),m.bo(y)}}),v(a,_2.STAT_EVENT,E=>{E.stat===ov.PROXY?ue(fn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===ov.NOPROXY&&ue(fn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function d0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){return new L3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e,n,r,s,i,A,a,o){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new XB(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Gs(n.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new se(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UK extends hQ{constructor(e,n,r,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=H3(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?we.min():A.readTime?nr(A.readTime):we.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=mv(this.serializer),n.addTarget=function(i,A){let a;const o=A.target;if(a=dv(o)?{documents:K3(i,o)}:{query:z3(i,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=rQ(i,A.resumeToken);const c=pv(i,A.expectedCount);c!==null&&(a.expectedCount=c)}else if(A.snapshotVersion.compareTo(we.min())>0){a.readTime=ap(i,A.snapshotVersion.toTimestamp());const c=pv(i,A.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=$3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=mv(this.serializer),n.removeTarget=e,this.a_(n)}}class FK extends hQ{constructor(e,n,r,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=V3(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=mv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aQ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new se(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,gv(n,r),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(V.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,gv(n,r),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new se(V.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class QK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Gs(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{r.enqueueAndForget(async()=>{ya(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(o){const c=Ee(o);c.L_.add(4),await cd(c),c.q_.set("Unknown"),c.L_.delete(4),await Qg(c)}(this))})}),this.q_=new QK(r,s)}}async function Qg(t){if(ya(t))for(const e of t.B_)await e(!0)}async function cd(t){for(const e of t.B_)await e(!1)}function fQ(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ex(n)?ZB(n):dl(n).r_()&&JB(n,e))}function YB(t,e){const n=Ee(t),r=dl(n);n.N_.delete(e),r.r_()&&pQ(n,e),n.N_.size===0&&(r.r_()?r.o_():ya(n)&&n.q_.set("Unknown"))}function JB(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).A_(e)}function pQ(t,e){t.Q_.xe(e),dl(t).R_(e)}function ZB(t){t.Q_=new k3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.q_.v_()}function ex(t){return ya(t)&&!dl(t).n_()&&t.N_.size>0}function ya(t){return Ee(t).L_.size===0}function gQ(t){t.Q_=void 0}async function kK(t){t.q_.set("Online")}async function RK(t){t.N_.forEach((e,n)=>{JB(t,e)})}async function PK(t,e){gQ(t),ex(t)?(t.q_.M_(e),ZB(t)):t.q_.set("Unknown")}async function DK(t,e,n){if(t.q_.set("Online"),e instanceof nQ&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(t,r)}else if(e instanceof uf?t.Q_.Ke(e):e instanceof tQ?t.Q_.He(e):t.Q_.We(e),!n.isEqual(we.min()))try{const r=await dQ(t.localStore);n.compareTo(r)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((o,c)=>{if(o.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,c)=>{const u=i.N_.get(o);if(!u)return;i.N_.set(o,u.withResumeToken(on.EMPTY_BYTE_STRING,u.snapshotVersion)),pQ(i,o);const h=new bi(u.target,o,c,u.sequenceNumber);JB(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await lp(t,r)}}async function lp(t,e,n){if(!Ad(e))throw e;t.L_.add(1),await cd(t),t.q_.set("Offline"),n||(n=()=>dQ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Qg(t)})}function mQ(t,e){return e().catch(n=>lp(t,n,e))}async function Ng(t){const e=Ee(t),n=Yi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LK(e);)try{const s=await BK(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,MK(e,s)}catch(s){await lp(e,s)}yQ(e)&&vQ(e)}function LK(t){return ya(t)&&t.O_.length<10}function MK(t,e){t.O_.push(e);const n=Yi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yQ(t){return ya(t)&&!Yi(t).n_()&&t.O_.length>0}function vQ(t){Yi(t).start()}async function jK(t){Yi(t).p_()}async function OK(t){const e=Yi(t);for(const n of t.O_)e.m_(n.mutations)}async function HK(t,e,n){const r=t.O_.shift(),s=KB.from(r,e,n);await mQ(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ng(t)}async function VK(t,e){e&&Yi(t).V_&&await async function(r,s){if(function(A){return Z2(A)&&A!==V.ABORTED}(s.code)){const i=r.O_.shift();Yi(r).s_(),await mQ(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ng(r)}}(t,e),yQ(t)&&vQ(t)}async function j1(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=ya(n);n.L_.add(3),await cd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Qg(n)}async function KK(t,e){const n=Ee(t);e?(n.L_.delete(2),await Qg(n)):e||(n.L_.add(2),await cd(n),n.q_.set("Unknown"))}function dl(t){return t.K_||(t.K_=function(n,r,s){const i=Ee(n);return i.w_(),new UK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:kK.bind(null,t),Ro:RK.bind(null,t),mo:PK.bind(null,t),d_:DK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ex(t)?ZB(t):t.q_.set("Unknown")):(await t.K_.stop(),gQ(t))})),t.K_}function Yi(t){return t.U_||(t.U_=function(n,r,s){const i=Ee(n);return i.w_(),new FK(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:jK.bind(null,t),mo:VK.bind(null,t),f_:OK.bind(null,t),g_:HK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ng(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const A=Date.now()+r,a=new tx(e,n,A,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nx(t,e){if(Gs("AsyncQueue",`${e}: ${t}`),Ad(t))return new se(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new bo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.W_=new pt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,s,i,A,a,o,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const A=[];return n.forEach(a=>{A.push({type:0,doc:a})}),new Ko(e,n,bo.emptySet(n),A,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class GK{constructor(){this.queries=H1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=H1(),i.forEach((A,a)=>{for(const o of a.j_)o.onError(r)})})(this,new se(V.ABORTED,"Firestore shutting down"))}}function H1(){return new ul(t=>j2(t),_g)}async function rx(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new zK,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(A){const a=nx(A,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&ix(n)}async function sx(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $K(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,A=n.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(r=!0);A.z_=s}}r&&ix(n)}function WK(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function ix(t){t.Y_.forEach(e=>{e.next()})}var vv,V1;(V1=vv||(vv={})).ea="default",V1.Cache="cache";class Ax{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.key=e}}class BQ{constructor(e){this.key=e}}class qK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=O2(e),this.Ra=new bo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new O1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,A=s,a=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),g=bg(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?m!==v&&(r.track({type:3,doc:g}),E=!0):this.ga(f,g)||(r.track({type:2,doc:g}),E=!0,(o&&this.Aa(g,o)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),E=!0):f&&!g&&(r.track({type:1,doc:f}),E=!0,(o||c)&&(a=!0)),E&&(g?(A=A.add(g),i=v?i.add(u):i.delete(u)):(A=A.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:A,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,h)=>function(g,m){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return v(g)-v(m)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,c=o!==this.Ea;return this.Ea=o,A.length!==0||c?{snapshot:new Ko(this.query,e.Ra,i,A,e.mutatedKeys,o===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new O1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new BQ(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wQ(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class XK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YK{constructor(e){this.key=e,this.va=!1}}class JK{constructor(e,n,r,s,i,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new ul(a=>j2(a),_g),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(fe.comparator),this.Na=new Map,this.La=new $B,this.Ba={},this.ka=new Map,this.qa=Vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ZK(t,e,n=!0){const r=TQ(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await xQ(r,e,n,!0),s}async function e5(t,e){const n=TQ(t);await xQ(n,e,!0,!1)}async function xQ(t,e,n,r){const s=await xK(t.localStore,is(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await t5(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&n&&fQ(t.remoteStore,s),a}async function t5(t,e,n,r,s){t.Ka=(h,f,g)=>async function(v,E,x,y){let w=E.view.ma(x);w.ns&&(w=await D1(v.localStore,E.query,!1).then(({documents:_})=>E.view.ma(_,w)));const Q=y&&y.targetChanges.get(E.targetId),U=y&&y.targetMismatches.get(E.targetId)!=null,N=E.view.applyChanges(w,v.isPrimaryClient,Q,U);return z1(v,E.targetId,N.wa),N.snapshot}(t,h,f,g);const i=await D1(t.localStore,e,!0),A=new qK(e,i.Ts),a=A.ma(i.documents),o=ld.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=A.applyChanges(a,t.isPrimaryClient,o);z1(t,n,c.wa);const u=new XK(e,n,A);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function n5(t,e,n){const r=Ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(A=>!_g(A,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&YB(r.remoteStore,s.targetId),wv(r,s.targetId)}).catch(id)):(wv(r,s.targetId),await yv(r.localStore,s.targetId,!0))}async function r5(t,e){const n=Ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),YB(n.remoteStore,r.targetId))}async function s5(t,e,n){const r=u5(t);try{const s=await function(A,a){const o=Ee(A),c=Ht.now(),u=a.reduce((g,m)=>g.add(m.key),Se());let h,f;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=$s(),v=Se();return o.cs.getEntries(g,u).next(E=>{m=E,m.forEach((x,y)=>{y.isValidDocument()||(v=v.add(x))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,m)).next(E=>{h=E;const x=[];for(const y of a){const w=I3(y,h.get(y.key).overlayedDocument);w!=null&&x.push(new pA(y.key,w,Q2(w.value.mapValue),tn.exists(!0)))}return o.mutationQueue.addMutationBatch(g,c,x,a)}).next(E=>{f=E;const x=E.applyToLocalDocumentSet(h,v);return o.documentOverlayCache.saveOverlays(g,E.batchId,x)})}).then(()=>({batchId:f.batchId,changes:V2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(A,a,o){let c=A.Ba[A.currentUser.toKey()];c||(c=new pt(je)),c=c.insert(a,o),A.Ba[A.currentUser.toKey()]=c}(r,s.batchId,n),await ud(r,s.changes),await Ng(r.remoteStore)}catch(s){const i=nx(s,"Failed to persist write");n.reject(i)}}async function CQ(t,e){const n=Ee(t);try{const r=await vK(n.localStore,e);e.targetChanges.forEach((s,i)=>{const A=n.Na.get(i);A&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?Le(A.va):s.removedDocuments.size>0&&(Le(A.va),A.va=!1))}),await ud(n,r,e)}catch(r){await id(r)}}function K1(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const o=Ee(A);o.onlineState=a;let c=!1;o.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&ix(o)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i5(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let A=new pt(fe.comparator);A=A.insert(i,$t.newNoDocument(i,we.min()));const a=Se().add(i),o=new Fg(we.min(),new Map,new pt(je),A,a);await CQ(r,o),r.Oa=r.Oa.remove(i),r.Na.delete(e),ax(r)}else await yv(r.localStore,e,!1).then(()=>wv(r,e,n)).catch(id)}async function A5(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await yK(n.localStore,e);_Q(n,r,null),EQ(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ud(n,s)}catch(s){await id(s)}}async function a5(t,e,n){const r=Ee(t);try{const s=await function(A,a){const o=Ee(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return o.mutationQueue.lookupMutationBatch(c,a).next(h=>(Le(h!==null),u=h.keys(),o.mutationQueue.removeMutationBatch(c,h))).next(()=>o.mutationQueue.performConsistencyCheck(c)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>o.localDocuments.getDocuments(c,u))})}(r.localStore,e);_Q(r,e,n),EQ(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ud(r,s)}catch(s){await id(s)}}function EQ(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _Q(t,e,n){const r=Ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function wv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||bQ(t,r)})}function bQ(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(YB(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ax(t))}function z1(t,e,n){for(const r of n)r instanceof wQ?(t.La.addReference(r.key,e),o5(t,r)):r instanceof BQ?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||bQ(t,r.key)):ge()}function o5(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),ax(t))}function ax(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(Ye.fromString(e)),r=t.qa.next();t.Na.set(r,new YK(n)),t.Oa=t.Oa.insert(n,r),fQ(t.remoteStore,new bi(is(Eg(n.path)),r,"TargetPurposeLimboResolution",DB.oe))}}async function ud(t,e,n){const r=Ee(t),s=[],i=[],A=[];r.Fa.isEmpty()||(r.Fa.forEach((a,o)=>{A.push(r.Ka(o,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(o.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(o.targetId,h?"current":"not-current")}if(c){s.push(c);const h=qB.Wi(o.targetId,c);i.push(h)}}))}),await Promise.all(A),r.Ca.d_(s),await async function(o,c){const u=Ee(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(c,f=>z.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>z.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!Ad(h))throw h;ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const g=u.os.get(f),m=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,v)}}}(r.localStore,i))}async function l5(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await uQ(n.localStore,e);n.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(o=>{o.reject(new se(V.CANCELLED,A))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ud(n,r.hs)}}function c5(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let s=Se();const i=n.Ma.get(e);if(!i)return s;for(const A of i){const a=n.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function TQ(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i5.bind(null,e),e.Ca.d_=$K.bind(null,e.eventManager),e.Ca.$a=WK.bind(null,e.eventManager),e}function u5(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a5.bind(null,e),e}class cp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return mK(this.persistence,new pK,e.initialUser,this.serializer)}Ga(e){return new dK(WB.Zr,this.serializer)}Wa(e){return new EK}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cp.provider={build:()=>new cp};class Bv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l5.bind(null,this.syncEngine),await KK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GK}()}createDatastore(e){const n=Sg(e.databaseInfo.databaseId),r=function(i){return new IK(i)}(e.databaseInfo);return function(i,A,a,o){return new SK(i,A,a,o)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,A,a){return new NK(r,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,n=>K1(this.syncEngine,n,0),function(){return M1.D()?new M1:new _K}())}createSyncEngine(e,n){return function(s,i,A,a,o,c,u){const h=new JK(s,i,A,a,o,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);ue("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await cd(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bv.provider={build:()=>new Bv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new se(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const A=Ee(s),a={documents:i.map(h=>op(A.serializer,h))},o=await A.Lo("BatchGetDocuments",A.serializer.databaseId,Ye.emptyPath(),a,i.length),c=new Map;o.forEach(h=>{const f=O3(A.serializer,h);c.set(f.key.toString(),f)});const u=[];return i.forEach(h=>{const f=c.get(h.toString());Le(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ug(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=fe.fromPath(r);this.mutations.push(new J2(s,this.precondition(s)))}),await async function(r,s){const i=Ee(r),A={writes:s.map(a=>aQ(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Ye.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ge();n=we.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new se(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(we.min())?tn.exists(!1):tn.updateTime(n):tn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(we.min()))throw new se(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tn.updateTime(n)}return tn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new XB(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new d5(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!ad(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Z2(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mn.UNAUTHENTICATED,this.clientId=U2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async A=>{ue("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(r,A=>(ue("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function h0(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await uQ(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await p5(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>j1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>j1(e.remoteStore,s)),t._onlineComponents=e}async function p5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await h0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===V.FAILED_PRECONDITION||s.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await h0(t,new cp)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await h0(t,new cp);return t._offlineComponents}async function lx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await G1(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await G1(t,new Bv))),t._onlineComponents}function g5(t){return lx(t).then(e=>e.syncEngine)}function m5(t){return lx(t).then(e=>e.datastore)}async function up(t){const e=await lx(t),n=e.eventManager;return n.onListen=ZK.bind(null,e.syncEngine),n.onUnlisten=n5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r5.bind(null,e.syncEngine),n}function y5(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,c){const u=new ox({next:f=>{u.Za(),A.enqueueAndForget(()=>sx(i,h));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new se(V.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&o&&o.source==="server"?c.reject(new se(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Ax(Eg(a.path),u,{includeMetadataChanges:!0,_a:!0});return rx(i,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}function v5(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,c){const u=new ox({next:f=>{u.Za(),A.enqueueAndForget(()=>sx(i,h)),f.fromCache&&o.source==="server"?c.reject(new se(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new Ax(a,u,{includeMetadataChanges:!0,_a:!0});return rx(i,h)}(await up(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t,e,n){if(!n)throw new se(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w5(t,e,n,r){if(e===!0&&r===!0)throw new se(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W1(t){if(!fe.isDocumentKey(t))throw new se(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q1(t){if(fe.isDocumentKey(t))throw new se(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kg(t);throw new se(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IQ((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PV;switch(r.type){case"firstParty":return new jV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$1.get(n);r&&(ue("ComponentProvider","Removing Datastore"),$1.delete(n),r.terminate())}(this),Promise.resolve()}}function B5(t,e,n,r={}){var s;const i=(t=kn(t,Rg))._getSettings(),A=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),r.mockUserToken){let a,o;if(typeof r.mockUserToken=="string")a=r.mockUserToken,o=mn.MOCK_USER;else{a=DS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new mn(c)}t._authCredentials=new DV(new I2(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gA(this.firestore,e,this._query)}}class An{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Vi extends gA{constructor(e,n,r){super(e,n,Eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new fe(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Ft(t,e,...n){if(t=Ke(t),UQ("collection","path",e),t instanceof Rg){const r=Ye.fromString(e,...n);return q1(r),new Vi(t,null,r)}{if(!(t instanceof An||t instanceof Vi))throw new se(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return q1(r),new Vi(t.firestore,null,r)}}function Je(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=U2.newId()),UQ("doc","path",e),t instanceof Rg){const r=Ye.fromString(e,...n);return W1(r),new An(t,null,new fe(r))}{if(!(t instanceof An||t instanceof Vi))throw new se(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return W1(r),new An(t.firestore,t instanceof Vi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new XB(this,"async_queue_retry"),this.Vu=()=>{const r=d0();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=d0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=d0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ss;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ad(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(r);throw Gs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=tx.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function J1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class us extends Rg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Y1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y1(e),this._firestoreClient=void 0,await e}}}function x5(t,e){const n=typeof t=="object"?t:vg(),r=typeof t=="string"?t:"(default)",s=td(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=EB("firestore");i&&B5(s,...i)}return s}function dd(t){if(t._terminated)throw new se(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C5(t),t._firestoreClient}function C5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,o,c,u){return new ZV(a,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IQ(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new f5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(on.fromBase64String(e))}catch(n){throw new se(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new aa(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=/^__.*__$/;class _5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pA(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}class FQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pA(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SQ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class dx{constructor(e,n,r,s,i,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SQ(this.Cu)&&E5.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class b5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sg(e)}Qu(e,n,r,s=!1){return new dx({Cu:e,methodName:n,qu:r,path:en.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(t){const e=t._freezeSettings(),n=Sg(t._databaseId);return new b5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hx(t,e,n,r,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);px("Data must be an object, but it was:",A,r);const a=kQ(r,A);let o,c;if(i.merge)o=new Zn(A.fieldMask),c=A.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=xv(e,h,n);if(!A.contains(f))throw new se(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);PQ(u,f)||u.push(f)}o=new Zn(u),c=A.fieldTransforms.filter(h=>o.covers(h.field))}else o=null,c=A.fieldTransforms;return new _5(new Qn(a),o,c)}class Dg extends Pg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dg}}class fx extends Pg{_toFieldTransform(e){return new E3(e.path,new xu)}isEqual(e){return e instanceof fx}}function QQ(t,e,n,r){const s=t.Qu(1,e,n);px("Data must be an object, but it was:",s,r);const i=[],A=Qn.empty();ma(r,(o,c)=>{const u=gx(e,o,n);c=Ke(c);const h=s.Nu(u);if(c instanceof Dg)i.push(u);else{const f=pd(c,h);f!=null&&(i.push(u),A.set(u,f))}});const a=new Zn(i);return new FQ(A,a,s.fieldTransforms)}function NQ(t,e,n,r,s,i){const A=t.Qu(1,e,n),a=[xv(e,r,n)],o=[s];if(i.length%2!=0)throw new se(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(xv(e,i[f])),o.push(i[f+1]);const c=[],u=Qn.empty();for(let f=a.length-1;f>=0;--f)if(!PQ(c,a[f])){const g=a[f];let m=o[f];m=Ke(m);const v=A.Nu(g);if(m instanceof Dg)c.push(g);else{const E=pd(m,v);E!=null&&(c.push(g),u.set(g,E))}}const h=new Zn(c);return new FQ(u,h,A.fieldTransforms)}function T5(t,e,n,r=!1){return pd(n,t.Qu(r?4:3,e))}function pd(t,e){if(RQ(t=Ke(t)))return px("Unsupported field value:",e,t),kQ(t,e);if(t instanceof Pg)return function(r,s){if(!SQ(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let A=0;for(const a of r){let o=pd(a,s.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),A++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ht.fromDate(r);return{timestampValue:ap(s.serializer,i)}}if(r instanceof Ht){const i=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(s.serializer,i)}}if(r instanceof cx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof aa)return{bytesValue:rQ(s.serializer,r._byteString)};if(r instanceof An){const i=s.databaseId,A=r.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:GB(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ux)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return VB(a.serializer,o)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${kg(r)}`)}(t,e)}function kQ(t,e){const n={};return F2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,(r,s)=>{const i=pd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function RQ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof cx||t instanceof aa||t instanceof An||t instanceof Pg||t instanceof ux)}function px(t,e,n){if(!RQ(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=kg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function xv(t,e,n){if((e=Ke(e))instanceof hd)return e._internalPath;if(typeof e=="string")return gx(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const I5=new RegExp("[~\\*/\\[\\]]");function gx(t,e,n){if(e.search(I5)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hd(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,s){const i=r&&!r.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||A)&&(o+=" (found",i&&(o+=` in field ${r}`),A&&(o+=` in document ${s}`),o+=")"),new se(V.INVALID_ARGUMENT,a+t+o)}function PQ(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U5 extends hp{data(){return super.data()}}function Lg(t,e){return typeof e=="string"?gx(t,e):e instanceof hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mx{}class LQ extends mx{}function ds(t,e,...n){let r=[];e instanceof mx&&r.push(e),r=r.concat(n),function(i){const A=i.filter(o=>o instanceof yx).length,a=i.filter(o=>o instanceof Mg).length;if(A>1||A>0&&a>0)throw new se(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Mg extends LQ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mg(e,n,r)}_apply(e){const n=this._parse(e);return MQ(e._query,n),new gA(e.firestore,e.converter,hv(e._query,n))}_parse(e){const n=fd(e.firestore);return function(i,A,a,o,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new se(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eb(h,u);const g=[];for(const m of h)g.push(Z1(o,i,m));f={arrayValue:{values:g}}}else f=Z1(o,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eb(h,u),f=T5(a,A,h,u==="in"||u==="not-in");return Dt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ji(t,e,n){const r=e,s=Lg("where",t);return Mg._create(s,r,n)}class yx extends mx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const o of a)MQ(A,o),A=hv(A,o)}(e._query,n),new gA(e.firestore,e.converter,hv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vx extends LQ{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vx(e,n)}_apply(e){const n=function(s,i,A){if(s.startAt!==null)throw new se(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(i,A)}(e._query,this._field,this._direction);return new gA(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new cl(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function oa(t,e="asc"){const n=e,r=Lg("orderBy",t);return vx._create(r,n)}function Z1(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new se(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M2(e)&&n.indexOf("/")!==-1)throw new se(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!fe.isDocumentKey(r))throw new se(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return w1(t,new fe(r))}if(n instanceof An)return w1(t,n._key);throw new se(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kg(n)}.`)}function eb(t,e){if(!Array.isArray(t)||t.length===0)throw new se(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MQ(t,e){const n=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jQ{convertValue(e,n="none"){switch(Aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ma(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(A=>Tt(A.doubleValue));return new ux(i)}convertGeoPoint(e){return new cx(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=MB(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=Xi(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Le(cQ(r));const s=new vu(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||Gs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class F5 extends jQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bx extends hp{constructor(e,n,r,s,i,A){super(e,n,r,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class df extends Bx{data(e={}){return super.data(e)}}class OQ{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new io(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new df(this._firestore,this._userDataWriter,r.key,r,new io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const o=new df(s._firestore,s._userDataWriter,a.doc.key,a.doc,new io(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new df(s._firestore,s._userDataWriter,a.doc.key,a.doc,new io(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),u=A.indexOf(a.doc.key)),{type:S5(a.type),doc:o,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function S5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){t=kn(t,An);const e=kn(t.firestore,us);return y5(dd(e),t._key).then(n=>HQ(e,t,n))}class jg extends jQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function zo(t){t=kn(t,gA);const e=kn(t.firestore,us),n=dd(e),r=new jg(e);return DQ(t._query),v5(n,t._query).then(s=>new OQ(e,r,t,s))}function Og(t,e,n){t=kn(t,An);const r=kn(t.firestore,us),s=wx(t.converter,e,n);return Hg(r,[hx(fd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tn.none())])}function Ws(t,e,n,...r){t=kn(t,An);const s=kn(t.firestore,us),i=fd(s);let A;return A=typeof(e=Ke(e))=="string"||e instanceof hd?NQ(i,"updateDoc",t._key,e,n,r):QQ(i,"updateDoc",t._key,e),Hg(s,[A.toMutation(t._key,tn.exists(!0))])}function xx(t){return Hg(kn(t.firestore,us),[new Ug(t._key,tn.none())])}function Mr(t,e){const n=kn(t.firestore,us),r=Je(t),s=wx(t.converter,e);return Hg(n,[hx(fd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,tn.exists(!1))]).then(()=>r)}function hl(t,...e){var n,r,s;t=Ke(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||J1(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(J1(e[A])){const h=e[A];e[A]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[A+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[A+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let o,c,u;if(t instanceof An)c=kn(t.firestore,us),u=Eg(t._key.path),o={next:h=>{e[A]&&e[A](HQ(c,t,h))},error:e[A+1],complete:e[A+2]};else{const h=kn(t,gA);c=kn(h.firestore,us),u=h._query;const f=new jg(c);o={next:g=>{e[A]&&e[A](new OQ(c,f,h,g))},error:e[A+1],complete:e[A+2]},DQ(t._query)}return function(f,g,m,v){const E=new ox(v),x=new Ax(g,E,m);return f.asyncQueue.enqueueAndForget(async()=>rx(await up(f),x)),()=>{E.Za(),f.asyncQueue.enqueueAndForget(async()=>sx(await up(f),x))}}(dd(c),u,a,o)}function Hg(t,e){return function(r,s){const i=new ss;return r.asyncQueue.enqueueAndForget(async()=>s5(await g5(r),s,i)),i.promise}(dd(t),e)}function HQ(t,e,n){const r=n.docs.get(e._key),s=new jg(t);return new Bx(t,s,e._key,r,new io(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5={maxAttempts:5};function Hl(t,e){if((t=Ke(t)).firestore!==e)throw new se(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=fd(n)}get(n){const r=Hl(n,this._firestore),s=new F5(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ge();const A=i[0];if(A.isFoundDocument())return new hp(this._firestore,s,A.key,A,r.converter);if(A.isNoDocument())return new hp(this._firestore,s,r._key,null,r.converter);throw ge()})}set(n,r,s){const i=Hl(n,this._firestore),A=wx(i.converter,r,s),a=hx(this._dataReader,"Transaction.set",i._key,A,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const A=Hl(n,this._firestore);let a;return a=typeof(r=Ke(r))=="string"||r instanceof hd?NQ(this._dataReader,"Transaction.update",A._key,r,s,i):QQ(this._dataReader,"Transaction.update",A._key,r),this._transaction.update(A._key,a),this}delete(n){const r=Hl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Hl(e,this._firestore),r=new jg(this._firestore);return super.get(e).then(s=>new Bx(this._firestore,r,n._key,s._document,new io(!1,!1),n.converter))}}function tb(t,e,n){t=kn(t,us);const r=Object.assign(Object.assign({},Q5),n);return function(i){if(i.maxAttempts<1)throw new se(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,A,a){const o=new ss;return i.asyncQueue.enqueueAndForget(async()=>{const c=await m5(i);new h5(i.asyncQueue,c,a,A,o).au()}),o.promise}(dd(t),s=>e(new N5(t,s)),r)}function Kn(){return new fx("serverTimestamp")}(function(e,n=!0){(function(s){ll=s})(ga),Wi(new Vs("firestore",(r,{instanceIdentifier:s,options:i})=>{const A=r.getProvider("app").getImmediate(),a=new us(new LV(r.getProvider("auth-internal")),new HV(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(c.options.projectId,u)}(A,s),A);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Br(p1,"4.7.3",e),Br(p1,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="type.googleapis.com/google.protobuf.Int64Value",R5="type.googleapis.com/google.protobuf.UInt64Value";function VQ(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Cv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Cv(e));if(typeof t=="function"||typeof t=="object")return VQ(t,e=>Cv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function fp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case k5:case R5:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>fp(e)):typeof t=="function"||typeof t=="object"?VQ(t,e=>fp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class To extends Or{constructor(e,n,r){super(`${Cx}/${e}`,n||""),this.details=r}}function P5(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function D5(t,e){let n=P5(t),r=n,s;try{const i=e&&e.error;if(i){const A=i.status;if(typeof A=="string"){if(!nb[A])return new To("internal","internal");n=nb[A],r=A}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=fp(s))}}catch{}return n==="ok"?null:new To(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="us-central1";function M5(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new To("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class j5{constructor(e,n,r,s,i=Ev,A){this.app=e,this.fetchImpl=A,this.emulatorOrigin=null,this.contextProvider=new L5(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Ev}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function O5(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function H5(t,e,n){return r=>K5(t,e,r,{})}async function V5(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function K5(t,e,n,r){const s=t._url(e);return z5(t,s,n,r)}async function z5(t,e,n,r){n=Cv(n);const s={data:n},i={},A=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);A.authToken&&(i.Authorization="Bearer "+A.authToken),A.messagingToken&&(i["Firebase-Instance-ID-Token"]=A.messagingToken),A.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=A.appCheckToken);const a=r.timeout||7e4,o=M5(a),c=await Promise.race([V5(e,s,i,t.fetchImpl),o.promise,t.cancelAllRequests]);if(o.cancel(),!c)throw new To("cancelled","Firebase Functions instance was deleted.");const u=D5(c.status,c.json);if(u)throw u;if(!c.json)throw new To("internal","Response is not valid JSON object.");let h=c.json.data;if(typeof h>"u"&&(h=c.json.result),typeof h>"u")throw new To("internal","Response is missing data field.");return{data:fp(h)}}const rb="@firebase/functions",sb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="auth-internal",$5="app-check-internal",W5="messaging-internal";function q5(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),A=r.getProvider(G5),a=r.getProvider(W5),o=r.getProvider($5);return new j5(i,A,a,o,s,t)};Wi(new Vs(Cx,n,"PUBLIC").setMultipleInstances(!0)),Br(rb,sb,e),Br(rb,sb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t=vg(),e=Ev){const r=td(Ke(t),Cx).getImmediate({identifier:e}),s=EB("functions");return s&&Y5(r,...s),r}function Y5(t,e,n){O5(Ke(t),e,n)}function J5(t,e,n){return H5(Ke(t),e)}q5(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ="firebasestorage.googleapis.com",zQ="storageBucket",Z5=2*60*1e3,e6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends Or{constructor(e,n,r=0){super(f0(e),`Firebase Storage: ${n} (${f0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return f0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function f0(t){return"storage/"+t}function Ex(){const t="An unknown error occurred, please check the error payload for server response.";return new xt(wt.UNKNOWN,t)}function t6(t){return new xt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function n6(t){return new xt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function r6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(wt.UNAUTHENTICATED,t)}function s6(){return new xt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function i6(t){return new xt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function A6(){return new xt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a6(){return new xt(wt.CANCELED,"User canceled the upload/download.")}function o6(t){return new xt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function l6(t){return new xt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function c6(){return new xt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zQ+"' property when initializing the app?")}function u6(){return new xt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d6(){return new xt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function h6(t){return new xt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _v(t){return new xt(wt.INVALID_ARGUMENT,t)}function GQ(){return new xt(wt.APP_DELETED,"The Firebase app was deleted.")}function f6(t){return new xt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pc(t,e){return new xt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vl(t){throw new xt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw l6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const A="(/(.*))?$",a=new RegExp("^gs://"+s+A,"i"),o={bucket:1,path:3};function c(Q){Q.path_=decodeURIComponent(Q.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},v=n===KQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",x=new RegExp(`^https?://${v}/${s}/${E}`,"i"),w=[{regex:a,indices:o,postModify:i},{regex:g,indices:m,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let Q=0;Q<w.length;Q++){const U=w[Q],N=U.regex.exec(e);if(N){const _=N[U.indices.bucket];let C=N[U.indices.path];C||(C=""),r=new er(_,C),U.postModify(r);break}}if(r==null)throw o6(e);return r}}class p6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t,e,n){let r=1,s=null,i=null,A=!1,a=0;function o(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(g,o())},E)}function f(){i&&clearTimeout(i)}function g(E,...x){if(c){f();return}if(E){f(),u.call(null,E,...x);return}if(o()||A){f(),u.call(null,E,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let m=!1;function v(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{A=!0,v(!0)},n),v}function m6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){return t!==void 0}function v6(t){return typeof t=="object"&&!Array.isArray(t)}function _x(t){return typeof t=="string"||t instanceof String}function ib(t){return bx()&&t instanceof Blob}function bx(){return typeof Blob<"u"}function Ab(t,e,n,r){if(r<e)throw _v(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _v(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $Q(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var GA;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(GA||(GA={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,r,s,i,A,a,o,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=A,this.callback_=a,this.errorCallback_=o,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,m)=>{this.resolve_=g,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new hh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const A=a=>{const o=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,c)};this.progressCallback_!==null&&i.addUploadProgressListener(A),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(A),this.pendingConnection_=null;const a=i.getErrorCode()===GA.NO_ERROR,o=i.getStatus();if(!a||w6(o,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===GA.ABORT;r(!1,new hh(!1,null,u));return}const c=this.successCodes_.indexOf(o)!==-1;r(!0,new hh(c,i))})},n=(r,s)=>{const i=this.resolve_,A=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const o=this.callback_(a,a.getResponse());y6(o)?i(o):i()}catch(o){A(o)}else if(a!==null){const o=Ex();o.serverResponse=a.getErrorText(),this.errorCallback_?A(this.errorCallback_(a,o)):A(o)}else if(s.canceled){const o=this.appDelete_?GQ():a6();A(o)}else{const o=A6();A(o)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=g6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function x6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function C6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b6(t,e,n,r,s,i,A=!0){const a=$Q(t.urlParams),o=t.url+a,c=Object.assign({},t.headers);return E6(c,e),x6(c,n),C6(c,i),_6(c,r),new B6(o,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function I6(...t){const e=T6();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bx())return new Blob(t);throw new xt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function U6(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(typeof atob>"u")throw h6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class p0{constructor(e,n){this.data=e,this.contentType=n||null}}function S6(t,e){switch(t){case Jr.RAW:return new p0(WQ(e));case Jr.BASE64:case Jr.BASE64URL:return new p0(qQ(t,e));case Jr.DATA_URL:return new p0(N6(e),k6(e))}throw Ex()}function WQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,A=t.charCodeAt(++n);r=65536|(i&1023)<<10|A&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Q6(t){let e;try{e=decodeURIComponent(t)}catch{throw Pc(Jr.DATA_URL,"Malformed data URL.")}return WQ(e)}function qQ(t,e){switch(t){case Jr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Pc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Jr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Pc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=F6(e)}catch(s){throw s.message.includes("polyfill")?s:Pc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class XQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pc(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=R6(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function N6(t){const e=new XQ(t);return e.base64?qQ(Jr.BASE64,e.rest):Q6(e.rest)}function k6(t){return new XQ(t).contentType}function R6(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){let r=0,s="";ib(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(ib(this.data_)){const r=this.data_,s=U6(r,e,n);return s===null?null:new wi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new wi(r,!0)}}static getBlob(...e){if(bx()){const n=e.map(r=>r instanceof wi?r.data_:r);return new wi(I6.apply(null,n))}else{const n=e.map(A=>_x(A)?S6(Jr.RAW,A).data:A.data_);let r=0;n.forEach(A=>{r+=A.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(A=>{for(let a=0;a<A.length;a++)s[i++]=A[a]}),new wi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YQ(t){let e;try{e=JSON.parse(t)}catch{return null}return v6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D6(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function JQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e){return e}class In{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||L6}}let fh=null;function M6(t){return!_x(t)||t.length<2?t:JQ(t)}function ZQ(){if(fh)return fh;const t=[];t.push(new In("bucket")),t.push(new In("generation")),t.push(new In("metageneration")),t.push(new In("name","fullPath",!0));function e(i,A){return M6(A)}const n=new In("name");n.xform=e,t.push(n);function r(i,A){return A!==void 0?Number(A):A}const s=new In("size");return s.xform=r,t.push(s),t.push(new In("timeCreated")),t.push(new In("updated")),t.push(new In("md5Hash",null,!0)),t.push(new In("cacheControl",null,!0)),t.push(new In("contentDisposition",null,!0)),t.push(new In("contentEncoding",null,!0)),t.push(new In("contentLanguage",null,!0)),t.push(new In("contentType",null,!0)),t.push(new In("metadata","customMetadata",!0)),fh=t,fh}function j6(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new er(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function O6(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const A=n[i];r[A.local]=A.xform(r,e[A.server])}return j6(r,t),r}function eN(t,e,n){const r=YQ(e);return r===null?null:O6(t,r,n)}function H6(t,e,n,r){const s=YQ(e);if(s===null||!_x(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const A=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+A(u)+"/o/"+A(h),g=Vg(f,n,r),m=$Q({alt:"media",token:c});return g+m})[0]}function V6(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Tx{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){if(!t)throw Ex()}function K6(t,e){function n(r,s){const i=eN(t,s,e);return tN(i!==null),i}return n}function z6(t,e){function n(r,s){const i=eN(t,s,e);return tN(i!==null),H6(i,s,t.host,t._protocol)}return n}function nN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=s6():s=r6():n.getStatus()===402?s=n6(t.bucket):n.getStatus()===403?s=i6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function rN(t){const e=nN(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=t6(t.path)),i.serverResponse=s.serverResponse,i}return n}function G6(t,e,n){const r=e.fullServerUrl(),s=Vg(r,t.host,t._protocol),i="GET",A=t.maxOperationRetryTime,a=new Tx(s,i,z6(t,n),A);return a.errorHandler=rN(e),a}function $6(t,e){const n=e.fullServerUrl(),r=Vg(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function A(o,c){}const a=new Tx(r,s,A,i);return a.successCodes=[200,204],a.errorHandler=rN(e),a}function W6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function q6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=W6(null,e)),r}function X6(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),A={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let Q=0;Q<2;Q++)w=w+Math.random().toString().slice(2);return w}const o=a();A["Content-Type"]="multipart/related; boundary="+o;const c=q6(e,r,s),u=V6(c,n),h="--"+o+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+o+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+o+"--",g=wi.getBlob(h,r,f);if(g===null)throw u6();const m={name:c.fullPath},v=Vg(i,t.host,t._protocol),E="POST",x=t.maxUploadRetryTime,y=new Tx(v,E,K6(t,n),x);return y.urlParams=m,y.headers=A,y.body=g.uploadData(),y.errorHandler=nN(e),y}class Y6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=GA.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=GA.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=GA.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class J6 extends Y6{initXhr(){this.xhr_.responseType="text"}}function Ix(){return new J6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new la(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JQ(this._location.path)}get storage(){return this._service}get parent(){const e=P6(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new la(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f6(e)}}function Z6(t,e,n){t._throwIfRoot("uploadBytes");const r=X6(t.storage,t._location,ZQ(),new wi(e,!0),n);return t.storage.makeRequestWithTokens(r,Ix).then(s=>({metadata:s,ref:t}))}function ez(t){t._throwIfRoot("getDownloadURL");const e=G6(t.storage,t._location,ZQ());return t.storage.makeRequestWithTokens(e,Ix).then(n=>{if(n===null)throw d6();return n})}function tz(t){t._throwIfRoot("deleteObject");const e=$6(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ix)}function nz(t,e){const n=D6(t._location.path,e),r=new er(t._location.bucket,n);return new la(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){return/^[A-Za-z]+:\/\//.test(t)}function sz(t,e){return new la(t,e)}function sN(t,e){if(t instanceof Ux){const n=t;if(n._bucket==null)throw c6();const r=new la(n,n._bucket);return e!=null?sN(r,e):r}else return e!==void 0?nz(t,e):t}function iz(t,e){if(e&&rz(e)){if(t instanceof Ux)return sz(t,e);throw _v("To use ref(service, url), the first argument must be a Storage instance.")}else return sN(t,e)}function ab(t,e){const n=e==null?void 0:e[zQ];return n==null?null:er.makeFromBucketSpec(n,t)}function Az(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:DS(s,t.app.options.projectId))}class Ux{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=KQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z5,this._maxUploadRetryTime=e6,this._requests=new Set,s!=null?this._bucket=er.makeFromBucketSpec(s,this._host):this._bucket=ab(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=ab(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new la(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new p6(GQ());{const A=b6(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const ob="@firebase/storage",lb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="storage";function az(t,e,n){return t=Ke(t),Z6(t,e,n)}function oz(t){return t=Ke(t),ez(t)}function lz(t){return t=Ke(t),tz(t)}function cb(t,e){return t=Ke(t),iz(t,e)}function cz(t=vg(),e){t=Ke(t);const r=td(t,iN).getImmediate({identifier:e}),s=EB("storage");return s&&uz(r,...s),r}function uz(t,e,n,r={}){Az(t,e,n,r)}function dz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ux(n,r,s,e,ga)}function hz(){Wi(new Vs(iN,dz,"PUBLIC").setMultipleInstances(!0)),Br(ob,lb,""),Br(ob,lb,"esm2017")}hz();const fz={apiKey:"AIzaSyCjm6MOIuRFXQkTKwREvVWo8zogfNA6HPg",authDomain:"cinema-70fbc.firebaseapp.com",projectId:"cinema-70fbc",storageBucket:"cinema-70fbc.appspot.com",messagingSenderId:"508764987276",appId:"1:508764987276:web:878a0e32d806071bf380a9",measurementId:"G-E9KFW2B3BW"},Kg=jS(fz),yn=kV(Kg),me=x5(Kg),pz=X5(Kg,"europe-west1"),ub=cz(Kg);let db=new Map;const gz=t=>{db.clear(),t.forEach(e=>db.set(e.id,e))},mz=t=>{const e=Je(me,"settings","event-settings");return hl(e,n=>{if(n.exists()){const r=n.data(),s=(r==null?void 0:r.bookingStatuses)||[];gz(s),t(s)}else t([])})},AN=I.createContext(void 0),yz=({children:t})=>{const[e,n]=I.useState([]),[r,s]=I.useState(!0),[i,A]=I.useState(null),[a,o]=I.useState(0);I.useEffect(()=>{const g=mz(m=>{n(m),s(!1),A(null)});return()=>g()},[a]);const c=g=>e.find(m=>m.id===g),u=g=>{var m;return((m=c(g))==null?void 0:m.color)||"#718096"},h=g=>{var m;return((m=c(g))==null?void 0:m.name)||g},f=()=>o(g=>g+1);return l.jsx(AN.Provider,{value:{statuses:e,loading:r,error:i,getStatusById:c,getStatusColor:u,getStatusName:h,refreshStatuses:f},children:t})},gd=()=>{const t=I.useContext(AN);if(!t)throw new Error("useBookingStatus must be used within a BookingStatusProvider");return t},pp="gennaro.mazzacane@gmail.com",vz="_1500Napoli500_",wz=t=>t===pp,Bz=async(t,e)=>{try{if(t!==pp)throw new Error("Accesso non autorizzato");return{success:!0,user:(await gH(yn,pp,vz)).user}}catch(n){throw console.error("Error logging in:",n),n}},xz=t=>t.code&&{"auth/invalid-credential":"Email o password non corretti","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password non corretta","auth/email-already-in-use":"Email gi in uso","auth/weak-password":"Password troppo debole","auth/invalid-email":"Email non valida","auth/too-many-requests":"Troppi tentativi. Riprova pi tardi.","auth/network-request-failed":"Errore di connessione. Verifica la tua connessione internet.","auth/requires-recent-login":"Per favore, effettua nuovamente il login per completare questa operazione"}[t.code]||"Errore durante l'autenticazione",aN=I.createContext(void 0),Cz=({children:t})=>{const[e,n]=I.useState(null),[r,s]=I.useState(!0),[i,A]=I.useState(!1);return I.useEffect(()=>{const a=yn.onAuthStateChanged(o=>{n(o),A(o?wz(o.email||""):!1),s(!1)});return()=>a()},[]),l.jsx(aN.Provider,{value:{user:e,loading:r,isAdmin:i},children:t})},ti=()=>{const t=I.useContext(aN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};let Ez={data:""},_z=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ez,bz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Tz=/\/\*[^]*?\*\/|  +/g,hb=/\n+/g,Bi=(t,e)=>{let n="",r="",s="";for(let i in t){let A=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+A+";":r+=i[1]=="f"?Bi(A,i):i+"{"+Bi(A,i[1]=="k"?"":e)+"}":typeof A=="object"?r+=Bi(A,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,a):a?a+" "+o:o)):i):A!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Bi.p?Bi.p(i,A):i+":"+A+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Bs={},oN=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+oN(t[n]);return e}return t},Iz=(t,e,n,r,s)=>{let i=oN(t),A=Bs[i]||(Bs[i]=(o=>{let c=0,u=11;for(;c<o.length;)u=101*u+o.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Bs[A]){let o=i!==t?t:(c=>{let u,h,f=[{}];for(;u=bz.exec(c.replace(Tz,""));)u[4]?f.shift():u[3]?(h=u[3].replace(hb," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(hb," ").trim();return f[0]})(t);Bs[A]=Bi(s?{["@keyframes "+A]:o}:o,n?"":"."+A)}let a=n&&Bs.g?Bs.g:null;return n&&(Bs.g=Bs[A]),((o,c,u,h)=>{h?c.data=c.data.replace(h,o):c.data.indexOf(o)===-1&&(c.data=u?o+c.data:c.data+o)})(Bs[A],e,r,a),A},Uz=(t,e,n)=>t.reduce((r,s,i)=>{let A=e[i];if(A&&A.call){let a=A(n),o=a&&a.props&&a.props.className||/^go/.test(a)&&a;A=o?"."+o:a&&typeof a=="object"?a.props?"":Bi(a,""):a===!1?"":a}return r+s+(A??"")},"");function zg(t){let e=this||{},n=t.call?t(e.p):t;return Iz(n.unshift?n.raw?Uz(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,_z(e.target),e.g,e.o,e.k)}let lN,bv,Tv;zg.bind({g:1});let qs=zg.bind({k:1});function Fz(t,e,n,r){Bi.p=e,lN=t,bv=n,Tv=r}function mA(t,e){let n=this||{};return function(){let r=arguments;function s(i,A){let a=Object.assign({},i),o=a.className||s.className;n.p=Object.assign({theme:bv&&bv()},a),n.o=/ *go\d+/.test(o),a.className=zg.apply(n,r)+(o?" "+o:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Tv&&c[0]&&Tv(a),lN(c,a)}return s}}var Sz=t=>typeof t=="function",gp=(t,e)=>Sz(t)?t(e):t,Qz=(()=>{let t=0;return()=>(++t).toString()})(),cN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Nz=20,uN=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Nz)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return uN(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},hf=[],ff={toasts:[],pausedAt:void 0},va=t=>{ff=uN(ff,t),hf.forEach(e=>{e(ff)})},kz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Rz=(t={})=>{let[e,n]=I.useState(ff);I.useEffect(()=>(hf.push(n),()=>{let s=hf.indexOf(n);s>-1&&hf.splice(s,1)}),[e]);let r=e.toasts.map(s=>{var i,A,a;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((A=t[s.type])==null?void 0:A.duration)||(t==null?void 0:t.duration)||kz[s.type],style:{...t.style,...(a=t[s.type])==null?void 0:a.style,...s.style}}});return{...e,toasts:r}},Pz=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Qz()}),md=t=>(e,n)=>{let r=Pz(e,t,n);return va({type:2,toast:r}),r.id},Oe=(t,e)=>md("blank")(t,e);Oe.error=md("error");Oe.success=md("success");Oe.loading=md("loading");Oe.custom=md("custom");Oe.dismiss=t=>{va({type:3,toastId:t})};Oe.remove=t=>va({type:4,toastId:t});Oe.promise=(t,e,n)=>{let r=Oe.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?gp(e.success,s):void 0;return i?Oe.success(i,{id:r,...n,...n==null?void 0:n.success}):Oe.dismiss(r),s}).catch(s=>{let i=e.error?gp(e.error,s):void 0;i?Oe.error(i,{id:r,...n,...n==null?void 0:n.error}):Oe.dismiss(r)}),t};var Dz=(t,e)=>{va({type:1,toast:{id:t,height:e}})},Lz=()=>{va({type:5,time:Date.now()})},Dc=new Map,Mz=1e3,jz=(t,e=Mz)=>{if(Dc.has(t))return;let n=setTimeout(()=>{Dc.delete(t),va({type:4,toastId:t})},e);Dc.set(t,n)},Oz=t=>{let{toasts:e,pausedAt:n}=Rz(t);I.useEffect(()=>{if(n)return;let i=Date.now(),A=e.map(a=>{if(a.duration===1/0)return;let o=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(o<0){a.visible&&Oe.dismiss(a.id);return}return setTimeout(()=>Oe.dismiss(a.id),o)});return()=>{A.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=I.useCallback(()=>{n&&va({type:6,time:Date.now()})},[n]),s=I.useCallback((i,A)=>{let{reverseOrder:a=!1,gutter:o=8,defaultPosition:c}=A||{},u=e.filter(g=>(g.position||c)===(i.position||c)&&g.height),h=u.findIndex(g=>g.id===i.id),f=u.filter((g,m)=>m<h&&g.visible).length;return u.filter(g=>g.visible).slice(...a?[f+1]:[0,f]).reduce((g,m)=>g+(m.height||0)+o,0)},[e]);return I.useEffect(()=>{e.forEach(i=>{if(i.dismissed)jz(i.id,i.removeDelay);else{let A=Dc.get(i.id);A&&(clearTimeout(A),Dc.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:Dz,startPause:Lz,endPause:r,calculateOffset:s}}},Hz=qs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vz=qs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Kz=qs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zz=mA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Kz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Gz=qs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$z=mA("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Gz} 1s linear infinite;
`,Wz=qs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qz=qs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Xz=mA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Yz=mA("div")`
  position: absolute;
`,Jz=mA("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Zz=qs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,e9=mA("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Zz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,t9=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?I.createElement(e9,null,e):e:n==="blank"?null:I.createElement(Jz,null,I.createElement($z,{...r}),n!=="loading"&&I.createElement(Yz,null,n==="error"?I.createElement(zz,{...r}):I.createElement(Xz,{...r})))},n9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,r9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,s9="0%{opacity:0;} 100%{opacity:1;}",i9="0%{opacity:1;} 100%{opacity:0;}",A9=mA("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,a9=mA("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o9=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=cN()?[s9,i9]:[n9(n),r9(n)];return{animation:e?`${qs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l9=I.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?o9(t.position||e||"top-center",t.visible):{opacity:0},i=I.createElement(t9,{toast:t}),A=I.createElement(a9,{...t.ariaProps},gp(t.message,t));return I.createElement(A9,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:A}):I.createElement(I.Fragment,null,i,A))});Fz(I.createElement);var c9=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=I.useCallback(A=>{if(A){let a=()=>{let o=A.getBoundingClientRect().height;r(t,o)};a(),new MutationObserver(a).observe(A,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return I.createElement("div",{ref:i,className:e,style:n},s)},u9=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},d9=zg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ph=16,h9=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:A})=>{let{toasts:a,handlers:o}=Oz(n);return I.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ph,left:ph,right:ph,bottom:ph,pointerEvents:"none",...i},className:A,onMouseEnter:o.startPause,onMouseLeave:o.endPause},a.map(c=>{let u=c.position||e,h=o.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=u9(u,h);return I.createElement(c9,{id:c.id,key:c.id,onHeightUpdate:o.updateHeight,className:c.visible?d9:"",style:f},c.type==="custom"?gp(c.message,c):s?s(c):I.createElement(l9,{toast:c,position:u}))}))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:o,...c},u)=>I.createElement("svg",{ref:u,...f9,width:s,height:s,stroke:r,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${p9(t)}`,a].join(" "),...c},[...e.map(([h,f])=>I.createElement(h,f)),...Array.isArray(o)?o:[o]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=ce("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=ce("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ce("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ce("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ce("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=ce("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=ce("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=ce("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ce("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=ce("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ce("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ce("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);class L9 extends I.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 max-w-md w-full",children:[l.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[l.jsx(dN,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Qualcosa  andato storto"})]}),l.jsx("p",{className:"text-gray-300 mb-4",children:"Si  verificato un errore imprevisto. Ricarica la pagina o prova pi tardi."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Ricarica la pagina"}),this.state.error&&l.jsx("pre",{className:"mt-4 p-4 bg-gray-800 rounded text-sm text-gray-400 overflow-auto",children:this.state.error.message})]})}):this.props.children}}const Bb=({children:t,requireAdmin:e=!1})=>{const{user:n,loading:r,isAdmin:s}=ti();return r?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):!n||e&&!s?l.jsx(Bo,{to:"/",replace:!0}):l.jsx(l.Fragment,{children:t})},Qx=I.createContext({});function Nx(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xg=I.createContext(null),kx=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class M9 extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j9({children:t,isPresent:e}){const n=I.useId(),r=I.useRef(null),s=I.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=I.useContext(kx);return I.useInsertionEffect(()=>{const{width:A,height:a,top:o,left:c}=s.current;if(e||!r.current||!A||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),l.jsx(M9,{isPresent:e,childRef:r,sizeRef:s,children:I.cloneElement(t,{ref:r})})}const O9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:A})=>{const a=Nx(H9),o=I.useId(),c=I.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=I.useMemo(()=>({id:o,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return I.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),I.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),A==="popLayout"&&(t=l.jsx(j9,{isPresent:n,children:t})),l.jsx(Xg.Provider,{value:u,children:t})};function H9(){return new Map}function wN(t=!0){const e=I.useContext(Xg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=I.useId();I.useEffect(()=>{t&&s(i)},[t]);const A=I.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,A]:[!0]}const gh=t=>t.key||"";function xb(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Rx=typeof window<"u",BN=Rx?I.useLayoutEffect:I.useEffect,ln=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:A=!1})=>{const[a,o]=wN(A),c=I.useMemo(()=>xb(t),[t]),u=A&&!a?[]:c.map(gh),h=I.useRef(!0),f=I.useRef(c),g=Nx(()=>new Map),[m,v]=I.useState(c),[E,x]=I.useState(c);BN(()=>{h.current=!1,f.current=c;for(let Q=0;Q<E.length;Q++){const U=gh(E[Q]);u.includes(U)?g.delete(U):g.get(U)!==!0&&g.set(U,!1)}},[E,u.length,u.join("-")]);const y=[];if(c!==m){let Q=[...c];for(let U=0;U<E.length;U++){const N=E[U],_=gh(N);u.includes(_)||(Q.splice(U,0,N),y.push(N))}i==="wait"&&y.length&&(Q=y),x(xb(Q)),v(c);return}const{forceRender:w}=I.useContext(Qx);return l.jsx(l.Fragment,{children:E.map(Q=>{const U=gh(Q),N=A&&!a?!1:c===E||u.includes(U),_=()=>{if(g.has(U))g.set(U,!0);else return;let C=!0;g.forEach(b=>{b||(C=!1)}),C&&(w==null||w(),x(f.current),A&&(o==null||o()),r&&r())};return l.jsx(O9,{isPresent:N,initial:!h.current||n?void 0:!1,custom:N?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:N?void 0:_,children:Q},U)})})},rr=t=>t;let Fv=rr;function Px(t){let e;return()=>(e===void 0&&(e=t()),e)}const $o=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ps=t=>t*1e3,Ds=t=>t/1e3,V9={skipAnimations:!1,useManualTiming:!1};function K9(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(o.schedule(c),t()),c(A)}const o={schedule:(c,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(A=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,o.process(c))}};return o}const mh=["read","resolveKeyframes","update","preRender","render","postRender"],z9=40;function xN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,A=mh.reduce((x,y)=>(x[y]=K9(i),x),{}),{read:a,resolveKeyframes:o,update:c,preRender:u,render:h,postRender:f}=A,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,z9),1),s.timestamp=x,s.isProcessing=!0,a.process(s),o.process(s),c.process(s),u.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},m=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:mh.reduce((x,y)=>{const w=A[y];return x[y]=(Q,U=!1,N=!1)=>(n||m(),w.schedule(Q,U,N)),x},{}),cancel:x=>{for(let y=0;y<mh.length;y++)A[mh[y]].cancel(x)},state:s,steps:A}}const{schedule:it,cancel:tA,state:Yt,steps:g0}=xN(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0),CN=I.createContext({strict:!1}),Cb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wo={};for(const t in Cb)Wo[t]={isEnabled:e=>Cb[t].some(n=>!!e[n])};function G9(t){for(const e in t)Wo[e]={...Wo[e],...t[e]}}const $9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$9.has(t)}let EN=t=>!yp(t);function W9(t){t&&(EN=e=>e.startsWith("on")?!yp(e):t(e))}try{W9(require("@emotion/is-prop-valid").default)}catch{}function q9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(EN(s)||n===!0&&yp(s)||!e&&!yp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function X9(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Yg=I.createContext({});function Tu(t){return typeof t=="string"||Array.isArray(t)}function Jg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Dx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lx=["initial",...Dx];function Zg(t){return Jg(t.animate)||Lx.some(e=>Tu(t[e]))}function _N(t){return!!(Zg(t)||t.variants)}function Y9(t,e){if(Zg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tu(n)?n:void 0,animate:Tu(r)?r:void 0}}return t.inherit!==!1?e:{}}function J9(t){const{initial:e,animate:n}=Y9(t,I.useContext(Yg));return I.useMemo(()=>({initial:e,animate:n}),[Eb(e),Eb(n)])}function Eb(t){return Array.isArray(t)?t.join(" "):t}const Z9=Symbol.for("motionComponentSymbol");function ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function e8(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ao(n)&&(n.current=r))},[e])}const Mx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t8="framerAppearId",bN="data-"+Mx(t8),{schedule:jx,cancel:Zse}=xN(queueMicrotask,!1),TN=I.createContext({});function n8(t,e,n,r,s){var i,A;const{visualElement:a}=I.useContext(Yg),o=I.useContext(CN),c=I.useContext(Xg),u=I.useContext(kx).reducedMotion,h=I.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=I.useContext(TN);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&r8(h.current,n,s,g);const m=I.useRef(!1);I.useInsertionEffect(()=>{f&&m.current&&f.update(n,c)});const v=n[bN],E=I.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((A=window.MotionHasOptimisedAnimation)===null||A===void 0?void 0:A.call(window,v)));return BN(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),jx.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),I.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,v)}),E.current=!1))}),f}function r8(t,e,n,r){const{layoutId:s,layout:i,drag:A,dragConstraints:a,layoutScroll:o,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:IN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!A||a&&ao(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:c})}function IN(t){if(t)return t.options.allowProjection!==!1?t.projection:IN(t.parent)}function s8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,A;t&&G9(t);function a(c,u){let h;const f={...I.useContext(kx),...c,layoutId:i8(c)},{isStatic:g}=f,m=J9(c),v=r(c,g);if(!g&&Rx){A8();const E=a8(f);h=E.MeasureLayout,m.visualElement=n8(s,v,f,e,E.ProjectionNode)}return l.jsxs(Yg.Provider,{value:m,children:[h&&m.visualElement?l.jsx(h,{visualElement:m.visualElement,...f}):null,n(s,c,e8(v,m.visualElement,u),v,g,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(A=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&A!==void 0?A:""})`}`;const o=I.forwardRef(a);return o[Z9]=s,o}function i8({layoutId:t}){const e=I.useContext(Qx).id;return e&&t!==void 0?e+"-"+t:t}function A8(t,e){I.useContext(CN).strict}function a8(t){const{drag:e,layout:n}=Wo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const o8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ox(t){return typeof t!="string"||t.includes("-")?!1:!!(o8.indexOf(t)>-1||/[A-Z]/u.test(t))}function _b(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Hx(t,e,n,r){if(typeof e=="function"){const[s,i]=_b(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=_b(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const Sv=t=>Array.isArray(t),l8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),c8=t=>Sv(t)?t[t.length-1]||0:t,Bn=t=>!!(t&&t.getVelocity);function pf(t){const e=Bn(t)?t.get():t;return l8(e)?e.toValue():e}function u8({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const A={latestValues:d8(r,s,i,t),renderState:e()};return n&&(A.onMount=a=>n({props:r,current:a,...A}),A.onUpdate=a=>n(a)),A}const UN=t=>(e,n)=>{const r=I.useContext(Yg),s=I.useContext(Xg),i=()=>u8(t,e,r,s);return n?i():Nx(i)};function d8(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=pf(i[f]);let{initial:A,animate:a}=t;const o=Zg(t),c=_N(t);e&&c&&!o&&t.inherit!==!1&&(A===void 0&&(A=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||A===!1;const h=u?a:A;if(h&&typeof h!="boolean"&&!Jg(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const m=Hx(t,f[g]);if(m){const{transitionEnd:v,transition:E,...x}=m;for(const y in x){let w=x[y];if(Array.isArray(w)){const Q=u?w.length-1:0;w=w[Q]}w!==null&&(s[y]=w)}for(const y in v)s[y]=v[y]}}}return s}const pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ba=new Set(pl),FN=t=>e=>typeof e=="string"&&e.startsWith(t),SN=FN("--"),h8=FN("var(--"),Vx=t=>h8(t)?f8.test(t.split("/*")[0].trim()):!1,f8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,QN=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ys=(t,e,n)=>n>e?e:n<t?t:n,gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Iu={...gl,transform:t=>Ys(0,1,t)},yh={...gl,default:1},yd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oi=yd("deg"),as=yd("%"),pe=yd("px"),p8=yd("vh"),g8=yd("vw"),bb={...as,parse:t=>as.parse(t)/100,transform:t=>as.transform(t*100)},m8={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},y8={rotate:oi,rotateX:oi,rotateY:oi,rotateZ:oi,scale:yh,scaleX:yh,scaleY:yh,scaleZ:yh,skew:oi,skewX:oi,skewY:oi,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Iu,originX:bb,originY:bb,originZ:pe},Tb={...gl,transform:Math.round},Kx={...m8,...y8,zIndex:Tb,size:pe,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:Tb},v8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w8=pl.length;function B8(t,e,n){let r="",s=!0;for(let i=0;i<w8;i++){const A=pl[i],a=t[A];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(A.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||n){const c=QN(a,Kx[A]);if(!o){s=!1;const u=v8[A]||A;r+=`${u}(${c}) `}n&&(e[A]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function zx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let A=!1,a=!1;for(const o in e){const c=e[o];if(Ba.has(o)){A=!0;continue}else if(SN(o)){s[o]=c;continue}else{const u=QN(c,Kx[o]);o.startsWith("origin")?(a=!0,i[o]=u):r[o]=u}}if(e.transform||(A||n?r.transform=B8(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:o="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${o} ${c} ${u}`}}const x8={offset:"stroke-dashoffset",array:"stroke-dasharray"},C8={offset:"strokeDashoffset",array:"strokeDasharray"};function E8(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?x8:C8;t[i.offset]=pe.transform(-r);const A=pe.transform(e),a=pe.transform(n);t[i.array]=`${A} ${a}`}function Ib(t,e,n){return typeof t=="string"?t:pe.transform(e+n*t)}function _8(t,e,n){const r=Ib(e,t.x,t.width),s=Ib(n,t.y,t.height);return`${r} ${s}`}function Gx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:A,pathSpacing:a=1,pathOffset:o=0,...c},u,h){if(zx(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:m}=t;f.transform&&(m&&(g.transform=f.transform),delete f.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=_8(m,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),A!==void 0&&E8(f,A,a,o,!1)}const $x=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),NN=()=>({...$x(),attrs:{}}),Wx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kN(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const RN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PN(t,e,n,r){kN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(RN.has(s)?s:Mx(s),e.attrs[s])}const vp={};function b8(t){Object.assign(vp,t)}function DN(t,{layout:e,layoutId:n}){return Ba.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vp[t]||t==="opacity")}function qx(t,e,n){var r;const{style:s}=t,i={};for(const A in s)(Bn(s[A])||e.style&&Bn(e.style[A])||DN(A,t)||((r=n==null?void 0:n.getValue(A))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[A]=s[A]);return i}function LN(t,e,n){const r=qx(t,e,n);for(const s in t)if(Bn(t[s])||Bn(e[s])){const i=pl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function T8(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Ub=["x","y","width","height","cx","cy","r"],I8={useVisualState:UN({scrapeMotionValuesFromProps:LN,createRenderState:NN,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Ba.has(a)){i=!0;break}}if(!i)return;let A=!e;if(e)for(let a=0;a<Ub.length;a++){const o=Ub[a];t[o]!==e[o]&&(A=!0)}A&&it.read(()=>{T8(n,r),it.render(()=>{Gx(r,s,Wx(n.tagName),t.transformTemplate),PN(n,r)})})}})},U8={useVisualState:UN({scrapeMotionValuesFromProps:qx,createRenderState:$x})};function MN(t,e,n){for(const r in e)!Bn(e[r])&&!DN(r,n)&&(t[r]=e[r])}function F8({transformTemplate:t},e){return I.useMemo(()=>{const n=$x();return zx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S8(t,e){const n=t.style||{},r={};return MN(r,n,t),Object.assign(r,F8(t,e)),r}function Q8(t,e){const n={},r=S8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function N8(t,e,n,r){const s=I.useMemo(()=>{const i=NN();return Gx(i,e,Wx(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};MN(i,t.style,t),s.style={...i,...s.style}}return s}function k8(t=!1){return(n,r,s,{latestValues:i},A)=>{const o=(Ox(n)?N8:Q8)(r,i,A,n),c=q9(r,typeof n=="string",t),u=n!==I.Fragment?{...c,...o,ref:s}:{},{children:h}=r,f=I.useMemo(()=>Bn(h)?h.get():h,[h]);return I.createElement(n,{...u,children:f})}}function R8(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const A={...Ox(r)?I8:U8,preloadedFeatures:t,useRender:k8(s),createVisualElement:e,Component:r};return s8(A)}}function jN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function em(t,e,n){const r=t.getProps();return Hx(r,e,n!==void 0?n:r.custom,t)}const P8=Px(()=>window.ScrollTimeline!==void 0);class D8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(P8()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class L8 extends D8{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Xx(t,e){return t?t[e]||t.default||t:void 0}const Qv=2e4;function ON(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qv;)e+=n,r=t.next(e);return e>=Qv?1/0:e}function Yx(t){return typeof t=="function"}function Fb(t,e){t.timeline=e,t.onfinish=null}const Jx=t=>Array.isArray(t)&&typeof t[0]=="number",M8={linearEasing:void 0};function j8(t,e){const n=Px(t);return()=>{var r;return(r=M8[e])!==null&&r!==void 0?r:n()}}const wp=j8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t($o(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function VN(t){return!!(typeof t=="function"&&wp()||!t||typeof t=="string"&&(t in Nv||wp())||Jx(t)||Array.isArray(t)&&t.every(VN))}const oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Nv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function KN(t,e){if(t)return typeof t=="function"&&wp()?HN(t,e):Jx(t)?oc(t):Array.isArray(t)?t.map(n=>KN(n,e)||Nv.easeOut):Nv[t]}const Tr={x:!1,y:!1};function zN(){return Tr.x||Tr.y}function O8(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function GN(t,e){const n=O8(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Sb(t){return e=>{e.pointerType==="touch"||zN()||t(e)}}function H8(t,e,n={}){const[r,s,i]=GN(t,n),A=Sb(a=>{const{target:o}=a,c=e(a);if(typeof c!="function"||!o)return;const u=Sb(h=>{c(h),o.removeEventListener("pointerleave",u)});o.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",A,s)}),i}const $N=(t,e)=>e?t===e?!0:$N(t,e.parentElement):!1,Zx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,V8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function K8(t){return V8.has(t.tagName)||t.tabIndex!==-1}const lc=new WeakSet;function Qb(t){return e=>{e.key==="Enter"&&t(e)}}function m0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const z8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Qb(()=>{if(lc.has(n))return;m0(n,"down");const s=Qb(()=>{m0(n,"up")}),i=()=>m0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Nb(t){return Zx(t)&&!zN()}function G8(t,e,n={}){const[r,s,i]=GN(t,n),A=a=>{const o=a.currentTarget;if(!Nb(a)||lc.has(o))return;lc.add(o);const c=e(a),u=(g,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Nb(g)||!lc.has(o))&&(lc.delete(o),typeof c=="function"&&c(g,{success:m}))},h=g=>{u(g,n.useGlobalTarget||$N(o,g.target))},f=g=>{u(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!K8(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",A,s),a.addEventListener("focus",c=>z8(c,s),s)}),i}function $8(t){return t==="x"||t==="y"?Tr[t]?null:(Tr[t]=!0,()=>{Tr[t]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}const WN=new Set(["width","height","top","left","right","bottom",...pl]);let gf;function W8(){gf=void 0}const os={now:()=>(gf===void 0&&os.set(Yt.isProcessing||V9.useManualTiming?Yt.timestamp:performance.now()),gf),set:t=>{gf=t,queueMicrotask(W8)}};function eC(t,e){t.indexOf(e)===-1&&t.push(e)}function tC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nC{constructor(){this.subscriptions=[]}add(e){return eC(this.subscriptions,e),()=>tC(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const A=this.subscriptions[i];A&&A(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qN(t,e){return e?t*(1e3/e):0}const kb=30,q8=t=>!isNaN(parseFloat(t));class X8{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=os.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=os.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=q8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new nC);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=os.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kb);return qN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uu(t,e){return new X8(t,e)}function Y8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Uu(n))}function J8(t,e){const n=em(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const A in i){const a=c8(i[A]);Y8(t,A,a)}}function Z8(t){return!!(Bn(t)&&t.add)}function kv(t,e){const n=t.getValue("willChange");if(Z8(n))return n.add(e)}function XN(t){return t.props[bN]}const YN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eG=1e-7,tG=12;function nG(t,e,n,r,s){let i,A,a=0;do A=e+(n-e)/2,i=YN(A,r,s)-t,i>0?n=A:e=A;while(Math.abs(i)>eG&&++a<tG);return A}function vd(t,e,n,r){if(t===e&&n===r)return rr;const s=i=>nG(i,0,1,t,n);return i=>i===0||i===1?i:YN(s(i),e,r)}const JN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZN=t=>e=>1-t(1-e),ek=vd(.33,1.53,.69,.99),rC=ZN(ek),tk=JN(rC),nk=t=>(t*=2)<1?.5*rC(t):.5*(2-Math.pow(2,-10*(t-1))),sC=t=>1-Math.sin(Math.acos(t)),rk=ZN(sC),sk=JN(sC),ik=t=>/^0[^.\s]+$/u.test(t);function rG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ik(t):!0}const jc=t=>Math.round(t*1e5)/1e5,iC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sG(t){return t==null}const iG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AC=(t,e)=>n=>!!(typeof n=="string"&&iG.test(n)&&n.startsWith(t)||e&&!sG(n)&&Object.prototype.hasOwnProperty.call(n,e)),Ak=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,A,a]=r.match(iC);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(A),alpha:a!==void 0?parseFloat(a):1}},AG=t=>Ys(0,255,t),y0={...gl,transform:t=>Math.round(AG(t))},jA={test:AC("rgb","red"),parse:Ak("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+y0.transform(t)+", "+y0.transform(e)+", "+y0.transform(n)+", "+jc(Iu.transform(r))+")"};function aG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Rv={test:AC("#"),parse:aG,transform:jA.transform},oo={test:AC("hsl","hue"),parse:Ak("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+as.transform(jc(e))+", "+as.transform(jc(n))+", "+jc(Iu.transform(r))+")"},gn={test:t=>jA.test(t)||Rv.test(t)||oo.test(t),parse:t=>jA.test(t)?jA.parse(t):oo.test(t)?oo.parse(t):Rv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?jA.transform(t):oo.transform(t)},oG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lG(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(iC))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oG))===null||n===void 0?void 0:n.length)||0)>0}const ak="number",ok="color",cG="var",uG="var(",Rb="${}",dG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(dG,o=>(gn.test(o)?(r.color.push(i),s.push(ok),n.push(gn.parse(o))):o.startsWith(uG)?(r.var.push(i),s.push(cG),n.push(o)):(r.number.push(i),s.push(ak),n.push(parseFloat(o))),++i,Rb)).split(Rb);return{values:n,split:a,indexes:r,types:s}}function lk(t){return Fu(t).values}function ck(t){const{split:e,types:n}=Fu(t),r=e.length;return s=>{let i="";for(let A=0;A<r;A++)if(i+=e[A],s[A]!==void 0){const a=n[A];a===ak?i+=jc(s[A]):a===ok?i+=gn.transform(s[A]):i+=s[A]}return i}}const hG=t=>typeof t=="number"?0:t;function fG(t){const e=lk(t);return ck(t)(e.map(hG))}const nA={test:lG,parse:lk,createTransformer:ck,getAnimatableNone:fG},pG=new Set(["brightness","contrast","saturate","opacity"]);function gG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(iC)||[];if(!r)return t;const s=n.replace(r,"");let i=pG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const mG=/\b([a-z-]*)\(.*?\)/gu,Pv={...nA,getAnimatableNone:t=>{const e=t.match(mG);return e?e.map(gG).join(" "):t}},yG={...Kx,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Pv,WebkitFilter:Pv},aC=t=>yG[t];function uk(t,e){let n=aC(t);return n!==Pv&&(n=nA),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const vG=new Set(["auto","none","0"]);function wG(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!vG.has(i)&&Fu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=uk(n,s)}const Pb=t=>t===gl||t===pe,Db=(t,e)=>parseFloat(t.split(", ")[e]),Lb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Db(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Db(i[1],t):0}},BG=new Set(["x","y","z"]),xG=pl.filter(t=>!BG.has(t));function CG(t){const e=[];return xG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const qo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Lb(4,13),y:Lb(5,14)};qo.translateX=qo.x;qo.translateY=qo.y;const $A=new Set;let Dv=!1,Lv=!1;function dk(){if(Lv){const t=Array.from($A).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=CG(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,A])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(A)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lv=!1,Dv=!1,$A.forEach(t=>t.complete()),$A.clear()}function hk(){$A.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Lv=!0)})}function EG(){hk(),dk()}class oC{constructor(e,n,r,s,i,A=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=A}scheduleResolve(){this.isScheduled=!0,this.isAsync?($A.add(this),Dv||(Dv=!0,it.read(hk),it.resolveKeyframes(dk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const A=s==null?void 0:s.get(),a=e[e.length-1];if(A!==void 0)e[0]=A;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&A===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$A.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$A.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_G=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bG(t){const e=_G.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function pk(t,e,n=1){const[r,s]=bG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const A=i.trim();return fk(A)?parseFloat(A):A}return Vx(s)?pk(s,e,n+1):s}const gk=t=>e=>e.test(t),TG={test:t=>t==="auto",parse:t=>t},mk=[gl,pe,as,oi,g8,p8,TG],Mb=t=>mk.find(gk(t));class yk extends oC{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="string"&&(c=c.trim(),Vx(c))){const u=pk(c,n.current);u!==void 0&&(e[o]=u),o===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!WN.has(r)||e.length!==2)return;const[s,i]=e,A=Mb(s),a=Mb(i);if(A!==a)if(Pb(A)&&Pb(a))for(let o=0;o<e.length;o++){const c=e[o];typeof c=="string"&&(e[o]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)rG(e[s])&&r.push(s);r.length&&wG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const A=s.length-1,a=s[A];s[A]=qo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([o,c])=>{n.getValue(o).set(c)}),this.resolveNoneKeyframes()}}const jb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nA.test(t)||t==="0")&&!t.startsWith("url("));function IG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function UG(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],A=jb(s,e),a=jb(i,e);return!A||!a?!1:IG(t)||(n==="spring"||Yx(n))&&r}const FG=t=>t!==null;function tm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(FG),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const SG=40;class vk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:A="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=os.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:A,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EG(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=os.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:A,onComplete:a,onUpdate:o,isGenerator:c}=this.options;if(!c&&!UG(e,r,s,i))if(A)this.options.duration=0;else{o&&o(tm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function v0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function QG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,A=0;if(!e)s=i=A=n;else{const a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;s=v0(o,a,t+1/3),i=v0(o,a,t),A=v0(o,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(A*255),alpha:r}}function Bp(t,e){return n=>n>0?e:t}const w0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},NG=[Rv,jA,oo],kG=t=>NG.find(e=>e.test(t));function Ob(t){const e=kG(t);if(!e)return!1;let n=e.parse(t);return e===oo&&(n=QG(n)),n}const Hb=(t,e)=>{const n=Ob(t),r=Ob(e);if(!n||!r)return Bp(t,e);const s={...n};return i=>(s.red=w0(n.red,r.red,i),s.green=w0(n.green,r.green,i),s.blue=w0(n.blue,r.blue,i),s.alpha=dt(n.alpha,r.alpha,i),jA.transform(s))},RG=(t,e)=>n=>e(t(n)),wd=(...t)=>t.reduce(RG),Mv=new Set(["none","hidden"]);function PG(t,e){return Mv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DG(t,e){return n=>dt(t,e,n)}function lC(t){return typeof t=="number"?DG:typeof t=="string"?Vx(t)?Bp:gn.test(t)?Hb:jG:Array.isArray(t)?wk:typeof t=="object"?gn.test(t)?Hb:LG:Bp}function wk(t,e){const n=[...t],r=n.length,s=t.map((i,A)=>lC(i)(i,e[A]));return i=>{for(let A=0;A<r;A++)n[A]=s[A](i);return n}}function LG(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=lC(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function MG(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const A=e.types[i],a=t.indexes[A][s[A]],o=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=o,s[A]++}return r}const jG=(t,e)=>{const n=nA.createTransformer(e),r=Fu(t),s=Fu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Mv.has(t)&&!s.values.length||Mv.has(e)&&!r.values.length?PG(t,e):wd(wk(MG(r,s),s.values),n):Bp(t,e)};function Bk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):lC(t)(t,e)}const OG=5;function xk(t,e,n){const r=Math.max(e-OG,0);return qN(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},B0=.001;function HG({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let s,i,A=1-e;A=Ys(yt.minDamping,yt.maxDamping,A),t=Ys(yt.minDuration,yt.maxDuration,Ds(t)),A<1?(s=c=>{const u=c*A,h=u*t,f=u-n,g=jv(c,A),m=Math.exp(-h);return B0-f/g*m},i=c=>{const h=c*A*t,f=h*n+n,g=Math.pow(A,2)*Math.pow(c,2)*t,m=Math.exp(-h),v=jv(Math.pow(c,2),A);return(-s(c)+B0>0?-1:1)*((f-g)*m)/v}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-B0+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,o=KG(s,i,a);if(t=Ps(t),isNaN(o))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const c=Math.pow(o,2)*r;return{stiffness:c,damping:A*2*Math.sqrt(r*c),duration:t}}}const VG=12;function KG(t,e,n){let r=n;for(let s=1;s<VG;s++)r=r-t(r)/e(r);return r}function jv(t,e){return t*Math.sqrt(1-e*e)}const zG=["duration","bounce"],GG=["stiffness","damping","mass"];function Vb(t,e){return e.some(n=>t[n]!==void 0)}function $G(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!Vb(t,GG)&&Vb(t,zG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ys(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:yt.mass,stiffness:s,damping:i}}else{const n=HG(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function Ck(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],A=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:o,damping:c,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=$G({...n,velocity:-Ds(n.velocity||0)}),m=f||0,v=c/(2*Math.sqrt(o*u)),E=A-i,x=Ds(Math.sqrt(o/u)),y=Math.abs(E)<5;r||(r=y?yt.restSpeed.granular:yt.restSpeed.default),s||(s=y?yt.restDelta.granular:yt.restDelta.default);let w;if(v<1){const U=jv(x,v);w=N=>{const _=Math.exp(-v*x*N);return A-_*((m+v*x*E)/U*Math.sin(U*N)+E*Math.cos(U*N))}}else if(v===1)w=U=>A-Math.exp(-x*U)*(E+(m+x*E)*U);else{const U=x*Math.sqrt(v*v-1);w=N=>{const _=Math.exp(-v*x*N),C=Math.min(U*N,300);return A-_*((m+v*x*E)*Math.sinh(C)+U*E*Math.cosh(C))/U}}const Q={calculatedDuration:g&&h||null,next:U=>{const N=w(U);if(g)a.done=U>=h;else{let _=0;v<1&&(_=U===0?Ps(m):xk(w,U,N));const C=Math.abs(_)<=r,b=Math.abs(A-N)<=s;a.done=C&&b}return a.value=a.done?A:N,a},toString:()=>{const U=Math.min(ON(Q),Qv),N=HN(_=>Q.next(U*_).value,U,30);return U+"ms "+N}};return Q}function Kb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:A,min:a,max:o,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=C=>a!==void 0&&C<a||o!==void 0&&C>o,m=C=>a===void 0?o:o===void 0||Math.abs(a-C)<Math.abs(o-C)?a:o;let v=n*e;const E=h+v,x=A===void 0?E:A(E);x!==E&&(v=x-h);const y=C=>-v*Math.exp(-C/r),w=C=>x+y(C),Q=C=>{const b=y(C),T=w(C);f.done=Math.abs(b)<=c,f.value=f.done?x:T};let U,N;const _=C=>{g(f.value)&&(U=C,N=Ck({keyframes:[f.value,m(f.value)],velocity:xk(w,C,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:C=>{let b=!1;return!N&&U===void 0&&(b=!0,Q(C),_(C)),U!==void 0&&C>=U?N.next(C-U):(!b&&Q(C),f)}}}const WG=vd(.42,0,1,1),qG=vd(0,0,.58,1),Ek=vd(.42,0,.58,1),XG=t=>Array.isArray(t)&&typeof t[0]!="number",zb={linear:rr,easeIn:WG,easeInOut:Ek,easeOut:qG,circIn:sC,circInOut:sk,circOut:rk,backIn:rC,backInOut:tk,backOut:ek,anticipate:nk},Gb=t=>{if(Jx(t)){Fv(t.length===4);const[e,n,r,s]=t;return vd(e,n,r,s)}else if(typeof t=="string")return Fv(zb[t]!==void 0),zb[t];return t};function YG(t,e,n){const r=[],s=n||Bk,i=t.length-1;for(let A=0;A<i;A++){let a=s(t[A],t[A+1]);if(e){const o=Array.isArray(e)?e[A]||rr:e;a=wd(o,a)}r.push(a)}return r}function JG(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Fv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const A=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=YG(e,r,s),o=a.length,c=u=>{if(A&&u<t[0])return e[0];let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=$o(t[h],t[h+1],u);return a[h](f)};return n?u=>c(Ys(t[0],t[i-1],u)):c}function ZG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=$o(0,e,r);t.push(dt(n,1,s))}}function e$(t){const e=[0];return ZG(e,t.length-1),e}function t$(t,e){return t.map(n=>n*e)}function n$(t,e){return t.map(()=>e||Ek).splice(0,t.length-1)}function xp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=XG(r)?r.map(Gb):Gb(r),i={done:!1,value:e[0]},A=t$(n&&n.length===e.length?n:e$(e),t),a=JG(A,e,{ease:Array.isArray(s)?s:n$(e,s)});return{calculatedDuration:t,next:o=>(i.value=a(o),i.done=o>=t,i)}}const r$=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>tA(e),now:()=>Yt.isProcessing?Yt.timestamp:os.now()}},s$={decay:Kb,inertia:Kb,tween:xp,keyframes:xp,spring:Ck},i$=t=>t/100;class cC extends vk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,A=(s==null?void 0:s.KeyframeResolver)||oC,a=(o,c)=>this.onKeyframesResolved(o,c);this.resolver=new A(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:A=0}=this.options,a=Yx(n)?n:s$[n]||xp;let o,c;a!==xp&&typeof e[0]!="number"&&(o=wd(i$,Bk(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-A})),u.calculatedDuration===null&&(u.calculatedDuration=ON(u));const{calculatedDuration:h}=u,f=h+s,g=f*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:o,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:A,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:m,repeatDelay:v,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,Q=i;if(g){const C=Math.min(this.currentTime,u)/h;let b=Math.floor(C),T=C%1;!T&&C>=1&&(T=1),T===1&&b--,b=Math.min(b,g+1),!!(b%2)&&(m==="reverse"?(T=1-T,v&&(T-=v/h)):m==="mirror"&&(Q=A)),w=Ys(0,1,T)*h}const U=y?{done:!1,value:o[0]}:Q.next(w);a&&(U.value=a(U.value));let{done:N}=U;!y&&c!==null&&(N=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return _&&s!==void 0&&(U.value=tm(o,this.options,s)),E&&E(U.value),_&&this.finish(),U}get duration(){const{resolved:e}=this;return e?Ds(e.calculatedDuration):0}get time(){return Ds(this.currentTime)}set time(e){e=Ps(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=r$,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const A$=new Set(["opacity","clipPath","filter","transform"]);function a$(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:A="loop",ease:a="easeInOut",times:o}={}){const c={[e]:n};o&&(c.offset=o);const u=KN(a,s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:A==="reverse"?"alternate":"normal"})}const o$=Px(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cp=10,l$=2e4;function c$(t){return Yx(t.type)||t.type==="spring"||!VN(t.ease)}function u$(t,e){const n=new cC({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<l$;)r=n.sample(i),s.push(r.value),i+=Cp;return{times:void 0,keyframes:s,duration:i-Cp,ease:"linear"}}const _k={anticipate:nk,backInOut:tk,circInOut:sk};function d$(t){return t in _k}class $b extends vk{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new yk(i,(A,a)=>this.onKeyframesResolved(A,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:A,motionValue:a,name:o,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&wp()&&d$(i)&&(i=_k[i]),c$(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:m,...v}=this.options,E=u$(e,v);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,s=E.times,i=E.ease,A="keyframes"}const u=a$(a.owner.current,o,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Fb(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(tm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:A,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ds(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ds(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ps(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return rr;const{animation:r}=n;Fb(r,e)}return rr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:A,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:f,...g}=this.options,m=new cC({...g,keyframes:r,duration:s,type:i,ease:A,times:a,isGenerator:!0}),v=Ps(this.time);c.setWithVelocity(m.sample(v-Cp).value,m.sample(v).value,Cp)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:A,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=n.owner.getProps();return o$()&&r&&A$.has(r)&&!o&&!c&&!s&&i!=="mirror"&&A!==0&&a!=="inertia"}}const h$={type:"spring",stiffness:500,damping:25,restSpeed:10},f$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p$={type:"keyframes",duration:.8},g$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m$=(t,{keyframes:e})=>e.length>2?p$:Ba.has(t)?t.startsWith("scale")?f$(e[1]):h$:g$;function y$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:A,repeatDelay:a,from:o,elapsed:c,...u}){return!!Object.keys(u).length}const uC=(t,e,n,r={},s,i)=>A=>{const a=Xx(r,t)||{},o=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ps(o);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{A(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};y$(a)||(u={...u,...m$(t,u)}),u.duration&&(u.duration=Ps(u.duration)),u.repeatDelay&&(u.repeatDelay=Ps(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=tm(u.keyframes,a);if(f!==void 0)return it.update(()=>{u.onUpdate(f),u.onComplete()}),new L8([])}return!i&&$b.supports(u)?new $b(u):new cC(u)};function v$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:A=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(A=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=o[h];if(g===void 0||u&&v$(u,h))continue;const m={delay:n,...Xx(A||{},h)};let v=!1;if(window.MotionHandoffAnimation){const x=XN(t);if(x){const y=window.MotionHandoffAnimation(x,h,it);y!==null&&(m.startTime=y,v=!0)}}kv(t,h),f.start(uC(h,f,g,t.shouldReduceMotion&&WN.has(h)?{type:!1}:m,t,v));const E=f.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{it.update(()=>{a&&J8(t,a)})}),c}function Ov(t,e,n={}){var r;const s=em(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const A=s?()=>Promise.all(bk(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return w$(t,e,u+c,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[A,a]:[a,A];return c().then(()=>u())}else return Promise.all([A(),a(n.delay)])}function w$(t,e,n=0,r=0,s=1,i){const A=[],a=(t.variantChildren.size-1)*r,o=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(B$).forEach((c,u)=>{c.notify("AnimationStart",e),A.push(Ov(c,e,{...i,delay:n+o(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(A)}function B$(t,e){return t.sortNodePosition(e)}function x$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Ov(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Ov(t,e,n);else{const s=typeof e=="function"?em(t,e,n.custom):e;r=Promise.all(bk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const C$=Lx.length;function Tk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Tk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<C$;n++){const r=Lx[n],s=t.props[r];(Tu(s)||s===!1)&&(e[r]=s)}return e}const E$=[...Dx].reverse(),_$=Dx.length;function b$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>x$(t,n,r)))}function T$(t){let e=b$(t),n=Wb(),r=!0;const s=o=>(c,u)=>{var h;const f=em(t,u,o==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:m,...v}=f;c={...c,...v,...m}}return c};function i(o){e=o(t)}function A(o){const{props:c}=t,u=Tk(t.parent)||{},h=[],f=new Set;let g={},m=1/0;for(let E=0;E<_$;E++){const x=E$[E],y=n[x],w=c[x]!==void 0?c[x]:u[x],Q=Tu(w),U=x===o?y.isActive:null;U===!1&&(m=E);let N=w===u[x]&&w!==c[x]&&Q;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),y.protectedKeys={...g},!y.isActive&&U===null||!w&&!y.prevProp||Jg(w)||typeof w=="boolean")continue;const _=I$(y.prevProp,w);let C=_||x===o&&y.isActive&&!N&&Q||E>m&&Q,b=!1;const T=Array.isArray(w)?w:[w];let R=T.reduce(s(x),{});U===!1&&(R={});const{prevResolvedValues:k={}}=y,F={...k,...R},J=q=>{C=!0,f.has(q)&&(b=!0,f.delete(q)),y.needsAnimating[q]=!0;const D=t.getValue(q);D&&(D.liveStyle=!1)};for(const q in F){const D=R[q],K=k[q];if(g.hasOwnProperty(q))continue;let G=!1;Sv(D)&&Sv(K)?G=!jN(D,K):G=D!==K,G?D!=null?J(q):f.add(q):D!==void 0&&f.has(q)?J(q):y.protectedKeys[q]=!0}y.prevProp=w,y.prevResolvedValues=R,y.isActive&&(g={...g,...R}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(N&&_)||b)&&h.push(...T.map(q=>({animation:q,options:{type:x}})))}if(f.size){const E={};f.forEach(x=>{const y=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),E[x]=y??null}),h.push({animation:E})}let v=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(o,c){var u;if(n[o].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(o,c)}),n[o].isActive=c;const h=A(o);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:A,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Wb(),r=!0}}}function I$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jN(e,t):!1}function TA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wb(){return{animate:TA(!0),whileInView:TA(),whileHover:TA(),whileTap:TA(),whileDrag:TA(),whileFocus:TA(),exit:TA()}}class yA{constructor(e){this.isMounted=!1,this.node=e}update(){}}class U$ extends yA{constructor(e){super(e),e.animationState||(e.animationState=T$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let F$=0;class S$ extends yA{constructor(){super(...arguments),this.id=F$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Q$={animation:{Feature:U$},exit:{Feature:S$}};function Su(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Bd(t){return{point:{x:t.pageX,y:t.pageY}}}const N$=t=>e=>Zx(e)&&t(e,Bd(e));function Oc(t,e,n,r){return Su(t,e,N$(n),r)}const qb=(t,e)=>Math.abs(t-e);function k$(t,e){const n=qb(t.x,e.x),r=qb(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ik{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=C0(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=k$(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:m}=h,{timestamp:v}=Yt;this.history.push({...m,timestamp:v});const{onStart:E,onMove:x}=this.handlers;f||(E&&E(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=x0(f,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=C0(h.type==="pointercancel"?this.lastMoveEventInfo:x0(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,E),m&&m(h,E)},!Zx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const A=Bd(e),a=x0(A,this.transformPagePoint),{point:o}=a,{timestamp:c}=Yt;this.history=[{...o,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,C0(a,this.history)),this.removeListeners=wd(Oc(this.contextWindow,"pointermove",this.handlePointerMove),Oc(this.contextWindow,"pointerup",this.handlePointerUp),Oc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tA(this.updatePoint)}}function x0(t,e){return e?{point:e(t.point)}:t}function Xb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C0({point:t},e){return{point:t,delta:Xb(t,Uk(e)),offset:Xb(t,R$(e)),velocity:P$(e,.1)}}function R$(t){return t[0]}function Uk(t){return t[t.length-1]}function P$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Uk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const i=Ds(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const A={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}const Fk=1e-4,D$=1-Fk,L$=1+Fk,Sk=.01,M$=0-Sk,j$=0+Sk;function Ar(t){return t.max-t.min}function O$(t,e,n){return Math.abs(t-e)<=n}function Yb(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Ar(n)/Ar(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=D$&&t.scale<=L$||isNaN(t.scale))&&(t.scale=1),(t.translate>=M$&&t.translate<=j$||isNaN(t.translate))&&(t.translate=0)}function Hc(t,e,n,r){Yb(t.x,e.x,n.x,r?r.originX:void 0),Yb(t.y,e.y,n.y,r?r.originY:void 0)}function Jb(t,e,n){t.min=n.min+e.min,t.max=t.min+Ar(e)}function H$(t,e,n){Jb(t.x,e.x,n.x),Jb(t.y,e.y,n.y)}function Zb(t,e,n){t.min=e.min-n.min,t.max=t.min+Ar(e)}function Vc(t,e,n){Zb(t.x,e.x,n.x),Zb(t.y,e.y,n.y)}function V$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function eT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function K$(t,{top:e,left:n,bottom:r,right:s}){return{x:eT(t.x,n,s),y:eT(t.y,e,r)}}function tT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function z$(t,e){return{x:tT(t.x,e.x),y:tT(t.y,e.y)}}function G$(t,e){let n=.5;const r=Ar(t),s=Ar(e);return s>r?n=$o(e.min,e.max-r,t.min):r>s&&(n=$o(t.min,t.max-s,e.min)),Ys(0,1,n)}function $$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hv=.35;function W$(t=Hv){return t===!1?t=0:t===!0&&(t=Hv),{x:nT(t,"left","right"),y:nT(t,"top","bottom")}}function nT(t,e,n){return{min:rT(t,e),max:rT(t,n)}}function rT(t,e){return typeof t=="number"?t:t[e]||0}const sT=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:sT(),y:sT()}),iT=()=>({min:0,max:0}),Et=()=>({x:iT(),y:iT()});function dr(t){return[t("x"),t("y")]}function Qk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function q$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function X$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function E0(t){return t===void 0||t===1}function Vv({scale:t,scaleX:e,scaleY:n}){return!E0(t)||!E0(e)||!E0(n)}function QA(t){return Vv(t)||Nk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Nk(t){return AT(t.x)||AT(t.y)}function AT(t){return t&&t!=="0%"}function Ep(t,e,n){const r=t-n,s=e*r;return n+s}function aT(t,e,n,r,s){return s!==void 0&&(t=Ep(t,s,r)),Ep(t,n,r)+e}function Kv(t,e=0,n=1,r,s){t.min=aT(t.min,e,n,r,s),t.max=aT(t.max,e,n,r,s)}function kk(t,{x:e,y:n}){Kv(t.x,e.translate,e.scale,e.originPoint),Kv(t.y,n.translate,n.scale,n.originPoint)}const oT=.999999999999,lT=1.0000000000001;function Y$(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,A;for(let a=0;a<s;a++){i=n[a],A=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&uo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,kk(t,A)),r&&QA(i.latestValues)&&uo(t,i.latestValues))}e.x<lT&&e.x>oT&&(e.x=1),e.y<lT&&e.y>oT&&(e.y=1)}function co(t,e){t.min=t.min+e,t.max=t.max+e}function cT(t,e,n,r,s=.5){const i=dt(t.min,t.max,s);Kv(t,e,n,i,r)}function uo(t,e){cT(t.x,e.x,e.scaleX,e.scale,e.originX),cT(t.y,e.y,e.scaleY,e.scale,e.originY)}function Rk(t,e){return Qk(X$(t.getBoundingClientRect(),e))}function J$(t,e,n){const r=Rk(t,n),{scroll:s}=e;return s&&(co(r.x,s.offset.x),co(r.y,s.offset.y)),r}const Pk=({current:t})=>t?t.ownerDocument.defaultView:null,Z$=new WeakMap;class e7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bd(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$8(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dr(E=>{let x=this.getAxisMotionValue(E).get()||0;if(as.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[E];w&&(x=Ar(w)*(parseFloat(x)/100))}}this.originPoint[E]=x}),m&&it.postRender(()=>m(u,h)),kv(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},A=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:E}=h;if(g&&this.currentDirection===null){this.currentDirection=t7(E),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,E),this.updateAxis("y",h.point,E),this.visualElement.render(),v&&v(u,h)},a=(u,h)=>this.stop(u,h),o=()=>dr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Ik(e,{onSessionStart:s,onStart:i,onMove:A,onSessionEnd:a,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Pk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&it.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!vh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let A=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(A=V$(A,this.constraints[e],this.elastic[e])),i.set(A)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=K$(s.layoutBox,n):this.constraints=!1,this.elastic=W$(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&dr(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=$$(s.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ao(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=J$(r,s.root,this.visualElement.getTransformPagePoint());let A=z$(s.layout.layoutBox,i);if(n){const a=n(q$(A));this.hasMutatedConstraints=!!a,a&&(A=Qk(a))}return A}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:A,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},c=dr(u=>{if(!vh(u,n,this.currentDirection))return;let h=o&&o[u]||{};A&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return kv(this.visualElement,e),r.start(uC(e,r,0,n,this.visualElement,!1))}stopAnimation(){dr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dr(n=>{const{drag:r}=this.getProps();if(!vh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:A,max:a}=s.layout.layoutBox[n];i.set(e[n]-dt(A,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ao(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};dr(A=>{const a=this.getAxisMotionValue(A);if(a&&this.constraints!==!1){const o=a.get();s[A]=G$({min:o,max:o},this.constraints[A])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dr(A=>{if(!vh(A,e,null))return;const a=this.getAxisMotionValue(A),{min:o,max:c}=this.constraints[A];a.set(dt(o,c,s[A]))})}addListeners(){if(!this.visualElement.current)return;Z$.set(this.visualElement,this);const e=this.visualElement.current,n=Oc(e,"pointerdown",o=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();ao(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),it.read(r);const A=Su(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:o,hasLayoutChanged:c})=>{this.isDragging&&c&&(dr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=o[u].translate,h.set(h.get()+o[u].translate))}),this.visualElement.render())});return()=>{A(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:A=Hv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:A,dragMomentum:a}}}function vh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function t7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class n7 extends yA{constructor(e){super(e),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new e7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const uT=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class r7 extends yA{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(e){this.session=new Ik(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:uT(e),onStart:uT(n),onMove:r,onEnd:(i,A)=>{delete this.session,s&&it.postRender(()=>s(i,A))}}}mount(){this.removePointerDownListener=Oc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=dT(t,e.target.x),r=dT(t,e.target.y);return`${n}% ${r}%`}},s7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=nA.parse(t);if(s.length>5)return r;const i=nA.createTransformer(t),A=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,o=n.y.scale*e.y;s[0+A]/=a,s[1+A]/=o;const c=dt(a,o,.5);return typeof s[2+A]=="number"&&(s[2+A]/=c),typeof s[3+A]=="number"&&(s[3+A]/=c),i(s)}};class i7 extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;b8(A7),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,A=r.projection;return A&&(A.isPresent=i,s||e.layoutDependency!==n||n===void 0?A.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?A.promote():A.relegate()||it.postRender(()=>{const a=A.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Dk(t){const[e,n]=wN(),r=I.useContext(Qx);return l.jsx(i7,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(TN),isPresent:e,safeToRemove:n})}const A7={borderRadius:{...Kl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kl,borderTopRightRadius:Kl,borderBottomLeftRadius:Kl,borderBottomRightRadius:Kl,boxShadow:s7};function a7(t,e,n){const r=Bn(t)?t:Uu(t);return r.start(uC("",r,e,n)),r.animation}function o7(t){return t instanceof SVGElement&&t.tagName!=="svg"}const l7=(t,e)=>t.depth-e.depth;class c7{constructor(){this.children=[],this.isDirty=!1}add(e){eC(this.children,e),this.isDirty=!0}remove(e){tC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(l7),this.isDirty=!1,this.children.forEach(e)}}function u7(t,e){const n=os.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(tA(r),t(i-e))};return it.read(r,!0),()=>tA(r)}const Lk=["TopLeft","TopRight","BottomLeft","BottomRight"],d7=Lk.length,hT=t=>typeof t=="string"?parseFloat(t):t,fT=t=>typeof t=="number"||pe.test(t);function h7(t,e,n,r,s,i){s?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,f7(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,p7(r))):i&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let A=0;A<d7;A++){const a=`border${Lk[A]}Radius`;let o=pT(e,a),c=pT(n,a);if(o===void 0&&c===void 0)continue;o||(o=0),c||(c=0),o===0||c===0||fT(o)===fT(c)?(t[a]=Math.max(dt(hT(o),hT(c),r),0),(as.test(c)||as.test(o))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function pT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const f7=Mk(0,.5,rk),p7=Mk(.5,.95,rr);function Mk(t,e,n){return r=>r<t?0:r>e?1:n($o(t,e,r))}function gT(t,e){t.min=e.min,t.max=e.max}function cr(t,e){gT(t.x,e.x),gT(t.y,e.y)}function mT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yT(t,e,n,r,s){return t-=e,t=Ep(t,1/n,r),s!==void 0&&(t=Ep(t,1/s,r)),t}function g7(t,e=0,n=1,r=.5,s,i=t,A=t){if(as.test(e)&&(e=parseFloat(e),e=dt(A.min,A.max,e/100)-A.min),typeof e!="number")return;let a=dt(i.min,i.max,r);t===i&&(a-=e),t.min=yT(t.min,e,n,a,s),t.max=yT(t.max,e,n,a,s)}function vT(t,e,[n,r,s],i,A){g7(t,e[n],e[r],e[s],e.scale,i,A)}const m7=["x","scaleX","originX"],y7=["y","scaleY","originY"];function wT(t,e,n,r){vT(t.x,e,m7,n?n.x:void 0,r?r.x:void 0),vT(t.y,e,y7,n?n.y:void 0,r?r.y:void 0)}function BT(t){return t.translate===0&&t.scale===1}function jk(t){return BT(t.x)&&BT(t.y)}function xT(t,e){return t.min===e.min&&t.max===e.max}function v7(t,e){return xT(t.x,e.x)&&xT(t.y,e.y)}function CT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ok(t,e){return CT(t.x,e.x)&&CT(t.y,e.y)}function ET(t){return Ar(t.x)/Ar(t.y)}function _T(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class w7{constructor(){this.members=[]}add(e){eC(this.members,e),e.scheduleRender()}remove(e){if(tC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B7(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,A=(n==null?void 0:n.z)||0;if((s||i||A)&&(r=`translate3d(${s}px, ${i}px, ${A}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const NA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cc=typeof window<"u"&&window.MotionDebug!==void 0,_0=["","X","Y","Z"],x7={visibility:"hidden"},bT=1e3;let C7=0;function b0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Hk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=XN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Hk(r)}function Vk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(A={},a=e==null?void 0:e()){this.id=C7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cc&&(NA.totalNodes=NA.resolvedTargetDeltas=NA.recalculatedProjection=0),this.nodes.forEach(b7),this.nodes.forEach(S7),this.nodes.forEach(Q7),this.nodes.forEach(T7),cc&&window.MotionDebug.record(NA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new c7)}addEventListener(A,a){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new nC),this.eventHandlers.get(A).add(a)}notifyListeners(A,...a){const o=this.eventHandlers.get(A);o&&o.notify(...a)}hasListeners(A){return this.eventHandlers.has(A)}mount(A,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=o7(A),this.instance=A;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||o)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(A,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=u7(f,250),mf.hasAnimatedSinceResize&&(mf.hasAnimatedSinceResize=!1,this.nodes.forEach(IT))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||D7,{onLayoutAnimationStart:E,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!Ok(this.targetLayout,m)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const Q={...Xx(v,"layout"),onPlay:E,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else f||IT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N7),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TT);return}this.isUpdating||this.nodes.forEach(U7),this.isUpdating=!1,this.nodes.forEach(F7),this.nodes.forEach(E7),this.nodes.forEach(_7),this.clearAllSnapshots();const a=os.now();Yt.delta=Ys(0,1e3/60,a-Yt.timestamp),Yt.timestamp=a,Yt.isProcessing=!0,g0.update.process(Yt),g0.preRender.process(Yt),g0.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I7),this.sharedNodes.forEach(k7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(a=!1),a){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!s)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!jk(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;A&&(a||QA(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return A&&(o=this.removeTransform(o)),L7(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var A;const{visualElement:a}=this.options;if(!a)return Et();const o=a.measureViewportBox();if(!(((A=this.scroll)===null||A===void 0?void 0:A.wasRoot)||this.path.some(M7))){const{scroll:u}=this.root;u&&(co(o.x,u.offset.x),co(o.y,u.offset.y))}return o}removeElementScroll(A){var a;const o=Et();if(cr(o,A),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&cr(o,A),co(o.x,h.offset.x),co(o.y,h.offset.y))}return o}applyTransform(A,a=!1){const o=Et();cr(o,A);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&uo(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),QA(u.latestValues)&&uo(o,u.latestValues)}return QA(this.latestValues)&&uo(o,this.latestValues),o}removeTransform(A){const a=Et();cr(a,A);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!QA(c.latestValues))continue;Vv(c.latestValues)&&c.updateSnapshot();const u=Et(),h=c.measurePageBox();cr(u,h),wT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return QA(this.latestValues)&&wT(a,this.latestValues),a}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var a;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(A||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Vc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cr(this.target,this.layout.layoutBox),kk(this.target,this.targetDelta)):cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Vc(this.relativeTargetOrigin,this.target,g.target),cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cc&&NA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vv(this.parent.latestValues)||Nk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((A=this.parent)===null||A===void 0)&&A.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;cr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Y$(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Et());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mT(this.prevProjectionDelta.x,this.projectionDelta.x),mT(this.prevProjectionDelta.y,this.projectionDelta.y)),Hc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!_T(this.projectionDelta.x,this.prevProjectionDelta.x)||!_T(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),cc&&NA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),A){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lo(),this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo()}setAnimationOrigin(A,a=!1){const o=this.snapshot,c=o?o.latestValues:{},u={...this.latestValues},h=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Et(),g=o?o.source:void 0,m=this.layout?this.layout.source:void 0,v=g!==m,E=this.getStack(),x=!E||E.members.length<=1,y=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(P7));this.animationProgress=0;let w;this.mixTargetDelta=Q=>{const U=Q/1e3;UT(h.x,A.x,U),UT(h.y,A.y,U),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),R7(this.relativeTarget,this.relativeTargetOrigin,f,U),w&&v7(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Et()),cr(w,this.relativeTarget)),v&&(this.animationValues=u,h7(u,c,this.latestValues,U,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{mf.hasAnimatedSinceResize=!0,this.currentAnimation=a7(0,bT,{...A,onUpdate:a=>{this.mixTargetDelta(a),A.onUpdate&&A.onUpdate(a)},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:a,target:o,layout:c,latestValues:u}=A;if(!(!a||!o||!c)){if(this!==A&&this.layout&&c&&Kk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||Et();const h=Ar(this.layout.layoutBox.x);o.x.min=A.target.x.min,o.x.max=o.x.min+h;const f=Ar(this.layout.layoutBox.y);o.y.min=A.target.y.min,o.y.max=o.y.min+f}cr(a,o),uo(a,u),Hc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(A,a){this.sharedNodes.has(A)||this.sharedNodes.set(A,new w7),this.sharedNodes.get(A).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var A;const{layoutId:a}=this.options;return a?((A=this.getStack())===null||A===void 0?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:a}=this.options;return a?(A=this.getStack())===null||A===void 0?void 0:A.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:a,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),A&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let a=!1;const{latestValues:o}=A;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const c={};o.z&&b0("z",A,c,this.animationValues);for(let u=0;u<_0.length;u++)b0(`rotate${_0[u]}`,A,c,this.animationValues),b0(`skew${_0[u]}`,A,c,this.animationValues);A.render();for(const u in c)A.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);A.scheduleRender()}getProjectionStyles(A){var a,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x7;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pf(A==null?void 0:A.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=pf(A==null?void 0:A.pointerEvents)||""),this.hasProjected&&!QA(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=B7(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:g,y:m}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(o=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in vp){if(f[v]===void 0)continue;const{correct:E,applyTo:x}=vp[v],y=c.transform==="none"?f[v]:E(f[v],h);if(x){const w=x.length;for(let Q=0;Q<w;Q++)c[x[Q]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=h===this?pf(A==null?void 0:A.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var a;return(a=A.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(TT),this.root.sharedNodes.clear()}}}function E7(t){t.updateLayout()}function _7(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,A=n.source!==t.layout.source;i==="size"?dr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=Ar(f);f.min=r[h].min,f.max=f.min+g}):Kk(i,n.layoutBox,r)&&dr(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=Ar(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=lo();Hc(a,r,n.layoutBox);const o=lo();A?Hc(o,t.applyTransform(s,!0),n.measuredBox):Hc(o,r,n.layoutBox);const c=!jk(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const m=Et();Vc(m,n.layoutBox,f.layoutBox);const v=Et();Vc(v,r,g.layoutBox),Ok(m,v)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function b7(t){cc&&NA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function T7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function I7(t){t.clearSnapshot()}function TT(t){t.clearMeasurements()}function U7(t){t.isLayoutDirty=!1}function F7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function S7(t){t.resolveTargetDelta()}function Q7(t){t.calcProjection()}function N7(t){t.resetSkewAndRotation()}function k7(t){t.removeLeadSnapshot()}function UT(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FT(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function R7(t,e,n,r){FT(t.x,e.x,n.x,r),FT(t.y,e.y,n.y,r)}function P7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const D7={duration:.45,ease:[.4,0,.1,1]},ST=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QT=ST("applewebkit/")&&!ST("chrome/")?Math.round:rr;function NT(t){t.min=QT(t.min),t.max=QT(t.max)}function L7(t){NT(t.x),NT(t.y)}function Kk(t,e,n){return t==="position"||t==="preserve-aspect"&&!O$(ET(e),ET(n),.2)}function M7(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const j7=Vk({attachResizeListener:(t,e)=>Su(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T0={current:void 0},zk=Vk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!T0.current){const t=new j7({});t.mount(window),t.setOptions({layoutScroll:!0}),T0.current=t}return T0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),O7={pan:{Feature:r7},drag:{Feature:n7,ProjectionNode:zk,MeasureLayout:Dk}};function kT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&it.postRender(()=>i(e,Bd(e)))}class H7 extends yA{mount(){const{current:e}=this.node;e&&(this.unmount=H8(e,n=>(kT(this.node,n,"Start"),r=>kT(this.node,r,"End"))))}unmount(){}}class V7 extends yA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wd(Su(this.node.current,"focus",()=>this.onFocus()),Su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&it.postRender(()=>i(e,Bd(e)))}class K7 extends yA{mount(){const{current:e}=this.node;e&&(this.unmount=G8(e,n=>(RT(this.node,n,"Start"),(r,{success:s})=>RT(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zv=new WeakMap,I0=new WeakMap,z7=t=>{const e=zv.get(t.target);e&&e(t)},G7=t=>{t.forEach(z7)};function $7({root:t,...e}){const n=t||document;I0.has(n)||I0.set(n,{});const r=I0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(G7,{root:t,...e})),r[s]}function W7(t,e,n){const r=$7(e);return zv.set(t,n),r.observe(t),()=>{zv.delete(t),r.unobserve(t)}}const q7={some:0,all:1};class X7 extends yA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,A={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:q7[s]},a=o=>{const{isIntersecting:c}=o;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(o)};return W7(this.node.current,A,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Y7(e,n))&&this.startObserver()}unmount(){}}function Y7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const J7={inView:{Feature:X7},tap:{Feature:K7},focus:{Feature:V7},hover:{Feature:H7}},Z7={layout:{ProjectionNode:zk,MeasureLayout:Dk}},Gv={current:null},Gk={current:!1};function eW(){if(Gk.current=!0,!!Rx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gv.current=t.matches;t.addListener(e),e()}else Gv.current=!1}const tW=[...mk,gn,nA],nW=t=>tW.find(gk(t)),PT=new WeakMap;function rW(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Bn(s))t.addValue(r,s);else if(Bn(i))t.addValue(r,Uu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const A=t.getValue(r);A.liveStyle===!0?A.jump(s):A.hasAnimated||A.set(s)}else{const A=t.getStaticValue(r);t.addValue(r,Uu(A!==void 0?A:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const DT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:A},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=os.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,it.render(this.render,!1,!0))};const{latestValues:o,renderState:c,onUpdate:u}=A;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Zg(n),this.isVariantNode=_N(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];o[g]!==void 0&&Bn(m)&&m.set(o[g],!1)}}mount(e){this.current=e,PT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Gk.current||eW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){PT.delete(this.current),this.projection&&this.projection.unmount(),tA(this.notifyUpdate),tA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ba.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let A;window.MotionCheckAppearSync&&(A=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),A&&A(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wo){const n=Wo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<DT.length;r++){const s=DT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,A=e[i];A&&(this.propEventSubscriptions[s]=this.on(s,A))}this.prevMotionValues=rW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Uu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(fk(s)||ik(s))?s=parseFloat(s):!nW(s)&&nA.test(n)&&(s=uk(e,n)),this.setBaseTarget(e,Bn(s)?s.get():s)),Bn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const A=Hx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);A&&(s=A[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Bn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new nC),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $k extends sW{constructor(){super(...arguments),this.KeyframeResolver=yk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iW(t){return window.getComputedStyle(t)}class AW extends $k{constructor(){super(...arguments),this.type="html",this.renderInstance=kN}readValueFromInstance(e,n){if(Ba.has(n)){const r=aC(n);return r&&r.default||0}else{const r=iW(e),s=(SN(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Rk(e,n)}build(e,n,r){zx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qx(e,n,r)}}class aW extends $k{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ba.has(n)){const r=aC(n);return r&&r.default||0}return n=RN.has(n)?n:Mx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LN(e,n,r)}build(e,n,r){Gx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){PN(e,n,r,s)}mount(e){this.isSVGTag=Wx(e.tagName),super.mount(e)}}const oW=(t,e)=>Ox(t)?new aW(e):new AW(e,{allowProjection:t!==I.Fragment}),lW=R8({...Q$,...J7,...O7,...Z7},oW),$=X9(lW),cW=({isOpen:t,onClose:e,onSuccess:n})=>{const r=Al(),[s,i]=I.useState(pp),[A,a]=I.useState(""),[o,c]=I.useState(!1),[u,h]=I.useState(null),f=async g=>{g.preventDefault(),c(!0),h(null);try{await Bz(s,A),n&&n(),e(),r("/dashboard")}catch(m){console.error("Auth error:",m),h(xz(m))}finally{c(!1)}};return l.jsx(ln,{children:t&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(yb,{className:"text-[--theater-gold]"}),"Admin Login"]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded flex items-center gap-2",children:[l.jsx(Vt,{size:20}),u]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{id:"email",type:"email",value:s,readOnly:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white opacity-50"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{id:"password",type:"password",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Accesso in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yb,{size:20}),"Accedi"]})})]})]})})})},uW=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!1),s=hA(),{user:i,isAdmin:A}=ti(),a=[{path:"/",label:"Home",icon:gN,public:!0},{path:"/prenota",label:"Prenotazioni",icon:_n,public:!0},{path:"/dashboard",label:"Dashboard",icon:Ti,adminOnly:!0}].filter(o=>o.public||o.adminOnly&&A);return l.jsxs(l.Fragment,{children:[l.jsxs("nav",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:[l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx(xo,{to:"/",className:"text-2xl font-marquee text-[--theater-gold]",children:"Carnevale"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.map(({path:o,label:c,icon:u})=>l.jsxs(xo,{to:o,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s.pathname===o?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[l.jsx(u,{size:18}),l.jsx("span",{children:c})]},o)),!i&&l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(Ti,{size:18}),l.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})]}),l.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-400 hover:text-white",children:t?l.jsx(Rn,{size:24}):l.jsx(mN,{size:24})})]})]})}),l.jsx(ln,{children:t&&l.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-gray-800 border-t border-gray-700",children:l.jsx("div",{className:"container mx-auto px-4 py-2",children:a.map(({path:o,label:c,icon:u})=>l.jsxs(xo,{to:o,onClick:()=>e(!1),className:"flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg",children:[l.jsx(u,{size:20}),l.jsx("span",{children:c})]},o))})})})]}),l.jsx(cW,{isOpen:n,onClose:()=>r(!1)})]})},dW=()=>l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(uW,{}),l.jsx($.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-8",children:l.jsx(US,{})})]});var xd=t=>t.type==="checkbox",OA=t=>t instanceof Date,Sn=t=>t==null;const Wk=t=>typeof t=="object";var St=t=>!Sn(t)&&!Array.isArray(t)&&Wk(t)&&!OA(t),hW=t=>St(t)&&t.target?xd(t.target)?t.target.checked:t.target.value:t,fW=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pW=(t,e)=>t.has(fW(e)),gW=t=>{const e=t.constructor&&t.constructor.prototype;return St(e)&&e.hasOwnProperty("isPrototypeOf")},dC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ur(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(dC&&(t instanceof Blob||r))&&(n||St(t)))if(e=n?[]:{},!n&&!gW(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ur(t[s]));else return t;return e}var nm=t=>Array.isArray(t)?t.filter(Boolean):[],kt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!St(t))return n;const r=nm(e.split(/[,[\].]+?/)).reduce((s,i)=>Sn(s)?s:s[i],t);return kt(r)||r===t?kt(t[e])?n:t[e]:r},$r=t=>typeof t=="boolean",hC=t=>/^\w*$/.test(t),qk=t=>nm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(t,e,n)=>{let r=-1;const s=hC(e)?[e]:qk(e),i=s.length,A=i-1;for(;++r<i;){const a=s[r];let o=n;if(r!==A){const c=t[a];o=St(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=o,t=t[a]}return t};const LT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ze.createContext(null);var mW=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const A=i;return e._proxyFormState[A]!==Sr.all&&(e._proxyFormState[A]=!r||Sr.all),t[A]}});return s},Mn=t=>St(t)&&!Object.keys(t).length,yW=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Mn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(A=>e[A]===Sr.all)},yf=t=>Array.isArray(t)?t:[t];function vW(t){const e=Ze.useRef(t);e.current=t,Ze.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Zr=t=>typeof t=="string",wW=(t,e,n,r,s)=>Zr(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n),Xk=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},MT=t=>({isOnSubmit:!t||t===Sr.onSubmit,isOnBlur:t===Sr.onBlur,isOnChange:t===Sr.onChange,isOnAll:t===Sr.all,isOnTouch:t===Sr.onTouched}),jT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Kc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:A,...a}=i;if(A){if(A.refs&&A.refs[0]&&e(A.refs[0],s)&&!r)return!0;if(A.ref&&e(A.ref,A.name)&&!r)return!0;if(Kc(a,e))break}else if(St(a)&&Kc(a,e))break}}};var BW=(t,e,n)=>{const r=yf(oe(t,n));return $e(r,"root",e[n]),$e(t,n,r),t},fC=t=>t.type==="file",qr=t=>typeof t=="function",_p=t=>{if(!dC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},vf=t=>Zr(t),pC=t=>t.type==="radio",bp=t=>t instanceof RegExp;const OT={value:!1,isValid:!1},HT={value:!0,isValid:!0};var Yk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!kt(t[0].attributes.value)?kt(t[0].value)||t[0].value===""?HT:{value:t[0].value,isValid:!0}:HT:OT}return OT};const VT={isValid:!1,value:null};var Jk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,VT):VT;function KT(t,e,n="validate"){if(vf(t)||Array.isArray(t)&&t.every(vf)||$r(t)&&!t)return{type:n,message:vf(t)?t:"",ref:e}}var Qa=t=>St(t)&&!bp(t)?t:{value:t,message:""},zT=async(t,e,n,r,s,i)=>{const{ref:A,refs:a,required:o,maxLength:c,minLength:u,min:h,max:f,pattern:g,validate:m,name:v,valueAsNumber:E,mount:x}=t._f,y=oe(n,v);if(!x||e.has(v))return{};const w=a?a[0]:A,Q=k=>{s&&w.reportValidity&&(w.setCustomValidity($r(k)?"":k||""),w.reportValidity())},U={},N=pC(A),_=xd(A),C=N||_,b=(E||fC(A))&&kt(A.value)&&kt(y)||_p(A)&&A.value===""||y===""||Array.isArray(y)&&!y.length,T=Xk.bind(null,v,r,U),R=(k,F,J,ee=xs.maxLength,O=xs.minLength)=>{const q=k?F:J;U[v]={type:k?ee:O,message:q,ref:A,...T(k?ee:O,q)}};if(i?!Array.isArray(y)||!y.length:o&&(!C&&(b||Sn(y))||$r(y)&&!y||_&&!Yk(a).isValid||N&&!Jk(a).isValid)){const{value:k,message:F}=vf(o)?{value:!!o,message:o}:Qa(o);if(k&&(U[v]={type:xs.required,message:F,ref:w,...T(xs.required,F)},!r))return Q(F),U}if(!b&&(!Sn(h)||!Sn(f))){let k,F;const J=Qa(f),ee=Qa(h);if(!Sn(y)&&!isNaN(y)){const O=A.valueAsNumber||y&&+y;Sn(J.value)||(k=O>J.value),Sn(ee.value)||(F=O<ee.value)}else{const O=A.valueAsDate||new Date(y),q=G=>new Date(new Date().toDateString()+" "+G),D=A.type=="time",K=A.type=="week";Zr(J.value)&&y&&(k=D?q(y)>q(J.value):K?y>J.value:O>new Date(J.value)),Zr(ee.value)&&y&&(F=D?q(y)<q(ee.value):K?y<ee.value:O<new Date(ee.value))}if((k||F)&&(R(!!k,J.message,ee.message,xs.max,xs.min),!r))return Q(U[v].message),U}if((c||u)&&!b&&(Zr(y)||i&&Array.isArray(y))){const k=Qa(c),F=Qa(u),J=!Sn(k.value)&&y.length>+k.value,ee=!Sn(F.value)&&y.length<+F.value;if((J||ee)&&(R(J,k.message,F.message),!r))return Q(U[v].message),U}if(g&&!b&&Zr(y)){const{value:k,message:F}=Qa(g);if(bp(k)&&!y.match(k)&&(U[v]={type:xs.pattern,message:F,ref:A,...T(xs.pattern,F)},!r))return Q(F),U}if(m){if(qr(m)){const k=await m(y,n),F=KT(k,w);if(F&&(U[v]={...F,...T(xs.validate,F.message)},!r))return Q(F.message),U}else if(St(m)){let k={};for(const F in m){if(!Mn(k)&&!r)break;const J=KT(await m[F](y,n),w,F);J&&(k={...J,...T(F,J.message)},Q(J.message),r&&(U[v]=k))}if(!Mn(k)&&(U[v]={ref:w,...k},!r))return U}}return Q(!0),U};function xW(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=kt(t)?r++:t[e[r++]];return t}function CW(t){for(const e in t)if(t.hasOwnProperty(e)&&!kt(t[e]))return!1;return!0}function Lt(t,e){const n=Array.isArray(e)?e:hC(e)?[e]:qk(e),r=n.length===1?t:xW(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(St(r)&&Mn(r)||Array.isArray(r)&&CW(r))&&Lt(t,n.slice(0,-1)),t}var U0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},$v=t=>Sn(t)||!Wk(t);function xi(t,e){if($v(t)||$v(e))return t===e;if(OA(t)&&OA(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const A=e[s];if(OA(i)&&OA(A)||St(i)&&St(A)||Array.isArray(i)&&Array.isArray(A)?!xi(i,A):i!==A)return!1}}return!0}var Zk=t=>t.type==="select-multiple",EW=t=>pC(t)||xd(t),F0=t=>_p(t)&&t.isConnected,eR=t=>{for(const e in t)if(qr(t[e]))return!0;return!1};function Tp(t,e={}){const n=Array.isArray(t);if(St(t)||n)for(const r in t)Array.isArray(t[r])||St(t[r])&&!eR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Tp(t[r],e[r])):Sn(t[r])||(e[r]=!0);return e}function tR(t,e,n){const r=Array.isArray(t);if(St(t)||r)for(const s in t)Array.isArray(t[s])||St(t[s])&&!eR(t[s])?kt(e)||$v(n[s])?n[s]=Array.isArray(t[s])?Tp(t[s],[]):{...Tp(t[s])}:tR(t[s],Sn(e)?{}:e[s],n[s]):n[s]=!xi(t[s],e[s]);return n}var zl=(t,e)=>tR(t,e,Tp(e)),nR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>kt(t)?t:e?t===""?NaN:t&&+t:n&&Zr(t)?new Date(t):r?r(t):t;function S0(t){const e=t.ref;return fC(e)?e.files:pC(e)?Jk(t.refs).value:Zk(e)?[...e.selectedOptions].map(({value:n})=>n):xd(e)?Yk(t.refs).value:nR(kt(e.value)?t.ref.value:e.value,t)}var _W=(t,e,n,r)=>{const s={};for(const i of t){const A=oe(e,i);A&&$e(s,i,A._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Gl=t=>kt(t)?t:bp(t)?t.source:St(t)?bp(t.value)?t.value.source:t.value:t;const GT="AsyncFunction";var bW=t=>!!t&&!!t.validate&&!!(qr(t.validate)&&t.validate.constructor.name===GT||St(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===GT)),TW=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function $T(t,e,n){const r=oe(t,n);if(r||hC(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),A=oe(e,i),a=oe(t,i);if(A&&!Array.isArray(A)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var IW=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,UW=(t,e)=>!nm(oe(t,e)).length&&Lt(t,e);const FW={mode:Sr.onSubmit,reValidateMode:Sr.onChange,shouldFocusError:!0};function SW(t={}){let e={...FW,...t},n={submitCount:0,isDirty:!1,isLoading:qr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=St(e.defaultValues)||St(e.values)?ur(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:ur(s),A={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:U0(),array:U0(),state:U0()},f=MT(e.mode),g=MT(e.reValidateMode),m=e.criteriaMode===Sr.all,v=P=>M=>{clearTimeout(c),c=setTimeout(P,M)},E=async P=>{if(!e.disabled&&(u.isValid||P)){const M=e.resolver?Mn((await C()).errors):await T(r,!0);M!==n.isValid&&h.state.next({isValid:M})}},x=(P,M)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((P||Array.from(a.mount)).forEach(H=>{H&&(M?$e(n.validatingFields,H,M):Lt(n.validatingFields,H))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Mn(n.validatingFields)}))},y=(P,M=[],H,re,te=!0,Y=!0)=>{if(re&&H&&!e.disabled){if(A.action=!0,Y&&Array.isArray(oe(r,P))){const he=H(oe(r,P),re.argA,re.argB);te&&$e(r,P,he)}if(Y&&Array.isArray(oe(n.errors,P))){const he=H(oe(n.errors,P),re.argA,re.argB);te&&$e(n.errors,P,he),UW(n.errors,P)}if(u.touchedFields&&Y&&Array.isArray(oe(n.touchedFields,P))){const he=H(oe(n.touchedFields,P),re.argA,re.argB);te&&$e(n.touchedFields,P,he)}u.dirtyFields&&(n.dirtyFields=zl(s,i)),h.state.next({name:P,isDirty:k(P,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else $e(i,P,M)},w=(P,M)=>{$e(n.errors,P,M),h.state.next({errors:n.errors})},Q=P=>{n.errors=P,h.state.next({errors:n.errors,isValid:!1})},U=(P,M,H,re)=>{const te=oe(r,P);if(te){const Y=oe(i,P,kt(H)?oe(s,P):H);kt(Y)||re&&re.defaultChecked||M?$e(i,P,M?Y:S0(te._f)):ee(P,Y),A.mount&&E()}},N=(P,M,H,re,te)=>{let Y=!1,he=!1;const be={name:P};if(!e.disabled){const Qe=!!(oe(r,P)&&oe(r,P)._f&&oe(r,P)._f.disabled);if(!H||re){u.isDirty&&(he=n.isDirty,n.isDirty=be.isDirty=k(),Y=he!==be.isDirty);const ke=Qe||xi(oe(s,P),M);he=!!(!Qe&&oe(n.dirtyFields,P)),ke||Qe?Lt(n.dirtyFields,P):$e(n.dirtyFields,P,!0),be.dirtyFields=n.dirtyFields,Y=Y||u.dirtyFields&&he!==!ke}if(H){const ke=oe(n.touchedFields,P);ke||($e(n.touchedFields,P,H),be.touchedFields=n.touchedFields,Y=Y||u.touchedFields&&ke!==H)}Y&&te&&h.state.next(be)}return Y?be:{}},_=(P,M,H,re)=>{const te=oe(n.errors,P),Y=u.isValid&&$r(M)&&n.isValid!==M;if(e.delayError&&H?(o=v(()=>w(P,H)),o(e.delayError)):(clearTimeout(c),o=null,H?$e(n.errors,P,H):Lt(n.errors,P)),(H?!xi(te,H):te)||!Mn(re)||Y){const he={...re,...Y&&$r(M)?{isValid:M}:{},errors:n.errors,name:P};n={...n,...he},h.state.next(he)}},C=async P=>{x(P,!0);const M=await e.resolver(i,e.context,_W(P||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(P),M},b=async P=>{const{errors:M}=await C(P);if(P)for(const H of P){const re=oe(M,H);re?$e(n.errors,H,re):Lt(n.errors,H)}else n.errors=M;return M},T=async(P,M,H={valid:!0})=>{for(const re in P){const te=P[re];if(te){const{_f:Y,...he}=te;if(Y){const be=a.array.has(Y.name),Qe=te._f&&bW(te._f);Qe&&u.validatingFields&&x([re],!0);const ke=await zT(te,a.disabled,i,m,e.shouldUseNativeValidation&&!M,be);if(Qe&&u.validatingFields&&x([re]),ke[Y.name]&&(H.valid=!1,M))break;!M&&(oe(ke,Y.name)?be?BW(n.errors,ke,Y.name):$e(n.errors,Y.name,ke[Y.name]):Lt(n.errors,Y.name))}!Mn(he)&&await T(he,M,H)}}return H.valid},R=()=>{for(const P of a.unMount){const M=oe(r,P);M&&(M._f.refs?M._f.refs.every(H=>!F0(H)):!F0(M._f.ref))&&gt(P)}a.unMount=new Set},k=(P,M)=>!e.disabled&&(P&&M&&$e(i,P,M),!xi(ve(),s)),F=(P,M,H)=>wW(P,a,{...A.mount?i:kt(M)?s:Zr(P)?{[P]:M}:M},H,M),J=P=>nm(oe(A.mount?i:s,P,e.shouldUnregister?oe(s,P,[]):[])),ee=(P,M,H={})=>{const re=oe(r,P);let te=M;if(re){const Y=re._f;Y&&(!Y.disabled&&$e(i,P,nR(M,Y)),te=_p(Y.ref)&&Sn(M)?"":M,Zk(Y.ref)?[...Y.ref.options].forEach(he=>he.selected=te.includes(he.value)):Y.refs?xd(Y.ref)?Y.refs.length>1?Y.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(te)?!!te.find(be=>be===he.value):te===he.value)):Y.refs[0]&&(Y.refs[0].checked=!!te):Y.refs.forEach(he=>he.checked=he.value===te):fC(Y.ref)?Y.ref.value="":(Y.ref.value=te,Y.ref.type||h.values.next({name:P,values:{...i}})))}(H.shouldDirty||H.shouldTouch)&&N(P,te,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&G(P)},O=(P,M,H)=>{for(const re in M){const te=M[re],Y=`${P}.${re}`,he=oe(r,Y);(a.array.has(P)||St(te)||he&&!he._f)&&!OA(te)?O(Y,te,H):ee(Y,te,H)}},q=(P,M,H={})=>{const re=oe(r,P),te=a.array.has(P),Y=ur(M);$e(i,P,Y),te?(h.array.next({name:P,values:{...i}}),(u.isDirty||u.dirtyFields)&&H.shouldDirty&&h.state.next({name:P,dirtyFields:zl(s,i),isDirty:k(P,Y)})):re&&!re._f&&!Sn(Y)?O(P,Y,H):ee(P,Y,H),jT(P,a)&&h.state.next({...n}),h.values.next({name:A.mount?P:void 0,values:{...i}})},D=async P=>{A.mount=!0;const M=P.target;let H=M.name,re=!0;const te=oe(r,H),Y=()=>M.type?S0(te._f):hW(P),he=be=>{re=Number.isNaN(be)||OA(be)&&isNaN(be.getTime())||xi(be,oe(i,H,be))};if(te){let be,Qe;const ke=Y(),Wn=P.type===LT.BLUR||P.type===LT.FOCUS_OUT,Id=!TW(te._f)&&!e.resolver&&!oe(n.errors,H)&&!te._f.deps||IW(Wn,oe(n.touchedFields,H),n.isSubmitted,g,f),_a=jT(H,a,Wn);$e(i,H,ke),Wn?(te._f.onBlur&&te._f.onBlur(P),o&&o(0)):te._f.onChange&&te._f.onChange(P);const vl=N(H,ke,Wn,!1),xA=!Mn(vl)||_a;if(!Wn&&h.values.next({name:H,type:P.type,values:{...i}}),Id)return u.isValid&&(e.mode==="onBlur"&&Wn?E():Wn||E()),xA&&h.state.next({name:H,..._a?{}:vl});if(!Wn&&_a&&h.state.next({...n}),e.resolver){const{errors:wl}=await C([H]);if(he(ke),re){const Ud=$T(n.errors,r,H),ba=$T(wl,r,Ud.name||H);be=ba.error,H=ba.name,Qe=Mn(wl)}}else x([H],!0),be=(await zT(te,a.disabled,i,m,e.shouldUseNativeValidation))[H],x([H]),he(ke),re&&(be?Qe=!1:u.isValid&&(Qe=await T(r,!0)));re&&(te._f.deps&&G(te._f.deps),_(H,Qe,be,vl))}},K=(P,M)=>{if(oe(n.errors,M)&&P.focus)return P.focus(),1},G=async(P,M={})=>{let H,re;const te=yf(P);if(e.resolver){const Y=await b(kt(P)?P:te);H=Mn(Y),re=P?!te.some(he=>oe(Y,he)):H}else P?(re=(await Promise.all(te.map(async Y=>{const he=oe(r,Y);return await T(he&&he._f?{[Y]:he}:he)}))).every(Boolean),!(!re&&!n.isValid)&&E()):re=H=await T(r);return h.state.next({...!Zr(P)||u.isValid&&H!==n.isValid?{}:{name:P},...e.resolver||!P?{isValid:H}:{},errors:n.errors}),M.shouldFocus&&!re&&Kc(r,K,P?te:a.mount),re},ve=P=>{const M={...A.mount?i:s};return kt(P)?M:Zr(P)?oe(M,P):P.map(H=>oe(M,H))},Ce=(P,M)=>({invalid:!!oe((M||n).errors,P),isDirty:!!oe((M||n).dirtyFields,P),error:oe((M||n).errors,P),isValidating:!!oe(n.validatingFields,P),isTouched:!!oe((M||n).touchedFields,P)}),Ie=P=>{P&&yf(P).forEach(M=>Lt(n.errors,M)),h.state.next({errors:P?n.errors:{}})},ot=(P,M,H)=>{const re=(oe(r,P,{_f:{}})._f||{}).ref,te=oe(n.errors,P)||{},{ref:Y,message:he,type:be,...Qe}=te;$e(n.errors,P,{...Qe,...M,ref:re}),h.state.next({name:P,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&re&&re.focus&&re.focus()},lt=(P,M)=>qr(P)?h.values.subscribe({next:H=>P(F(void 0,M),H)}):F(P,M,!0),gt=(P,M={})=>{for(const H of P?yf(P):a.mount)a.mount.delete(H),a.array.delete(H),M.keepValue||(Lt(r,H),Lt(i,H)),!M.keepError&&Lt(n.errors,H),!M.keepDirty&&Lt(n.dirtyFields,H),!M.keepTouched&&Lt(n.touchedFields,H),!M.keepIsValidating&&Lt(n.validatingFields,H),!e.shouldUnregister&&!M.keepDefaultValue&&Lt(s,H);h.values.next({values:{...i}}),h.state.next({...n,...M.keepDirty?{isDirty:k()}:{}}),!M.keepIsValid&&E()},Qt=({disabled:P,name:M,field:H,fields:re})=>{($r(P)&&A.mount||P||a.disabled.has(M))&&(P?a.disabled.add(M):a.disabled.delete(M),N(M,S0(H?H._f:oe(re,M)._f),!1,!1,!0))},wA=(P,M={})=>{let H=oe(r,P);const re=$r(M.disabled)||$r(e.disabled);return $e(r,P,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:P}},name:P,mount:!0,...M}}),a.mount.add(P),H?Qt({field:H,disabled:$r(M.disabled)?M.disabled:e.disabled,name:P}):U(P,!0,M.value),{...re?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Gl(M.min),max:Gl(M.max),minLength:Gl(M.minLength),maxLength:Gl(M.maxLength),pattern:Gl(M.pattern)}:{},name:P,onChange:D,onBlur:D,ref:te=>{if(te){wA(P,M),H=oe(r,P);const Y=kt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,he=EW(Y),be=H._f.refs||[];if(he?be.find(Qe=>Qe===Y):Y===H._f.ref)return;$e(r,P,{_f:{...H._f,...he?{refs:[...be.filter(F0),Y,...Array.isArray(oe(s,P))?[{}]:[]],ref:{type:Y.type,name:P}}:{ref:Y}}}),U(P,!1,void 0,Y)}else H=oe(r,P,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(pW(a.array,P)&&A.action)&&a.unMount.add(P)}}},bd=()=>e.shouldFocusError&&Kc(r,K,a.mount),xa=P=>{$r(P)&&(h.state.next({disabled:P}),Kc(r,(M,H)=>{const re=oe(r,H);re&&(M.disabled=re._f.disabled||P,Array.isArray(re._f.refs)&&re._f.refs.forEach(te=>{te.disabled=re._f.disabled||P}))},0,!1))},BA=(P,M)=>async H=>{let re;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let te=ur(i);if(a.disabled.size)for(const Y of a.disabled)$e(te,Y,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:he}=await C();n.errors=Y,te=he}else await T(r);if(Lt(n.errors,"root"),Mn(n.errors)){h.state.next({errors:{}});try{await P(te,H)}catch(Y){re=Y}}else M&&await M({...n.errors},H),bd(),setTimeout(bd);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},yl=(P,M={})=>{oe(r,P)&&(kt(M.defaultValue)?q(P,ur(oe(s,P))):(q(P,M.defaultValue),$e(s,P,ur(M.defaultValue))),M.keepTouched||Lt(n.touchedFields,P),M.keepDirty||(Lt(n.dirtyFields,P),n.isDirty=M.defaultValue?k(P,ur(oe(s,P))):k()),M.keepError||(Lt(n.errors,P),u.isValid&&E()),h.state.next({...n}))},Ca=(P,M={})=>{const H=P?ur(P):s,re=ur(H),te=Mn(P),Y=te?s:re;if(M.keepDefaultValues||(s=H),!M.keepValues){if(M.keepDirtyValues){const he=new Set([...a.mount,...Object.keys(zl(s,i))]);for(const be of Array.from(he))oe(n.dirtyFields,be)?$e(Y,be,oe(i,be)):q(be,oe(Y,be))}else{if(dC&&kt(P))for(const he of a.mount){const be=oe(r,he);if(be&&be._f){const Qe=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(_p(Qe)){const ke=Qe.closest("form");if(ke){ke.reset();break}}}}r={}}i=e.shouldUnregister?M.keepDefaultValues?ur(s):{}:ur(Y),h.array.next({values:{...Y}}),h.values.next({values:{...Y}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},A.mount=!u.isValid||!!M.keepIsValid||!!M.keepDirtyValues,A.watch=!!e.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:te?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!xi(P,s)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:M.keepDirtyValues?M.keepDefaultValues&&i?zl(s,i):n.dirtyFields:M.keepDefaultValues&&P?zl(s,P):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ea=(P,M)=>Ca(qr(P)?P(i):P,M);return{control:{register:wA,unregister:gt,getFieldState:Ce,handleSubmit:BA,setError:ot,_executeSchema:C,_getWatch:F,_getDirty:k,_updateValid:E,_removeUnmounted:R,_updateFieldArray:y,_updateDisabledField:Qt,_getFieldArray:J,_reset:Ca,_resetDefaultValues:()=>qr(e.defaultValues)&&e.defaultValues().then(P=>{Ea(P,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:P=>{n={...n,...P}},_disableForm:xa,_subjects:h,_proxyFormState:u,_setErrors:Q,get _fields(){return r},get _formValues(){return i},get _state(){return A},set _state(P){A=P},get _defaultValues(){return s},get _names(){return a},set _names(P){a=P},get _formState(){return n},set _formState(P){n=P},get _options(){return e},set _options(P){e={...e,...P}}},trigger:G,register:wA,handleSubmit:BA,watch:lt,setValue:q,getValues:ve,reset:Ea,resetField:yl,clearErrors:Ie,unregister:gt,setError:ot,setFocus:(P,M={})=>{const H=oe(r,P),re=H&&H._f;if(re){const te=re.refs?re.refs[0]:re.ref;te.focus&&(te.focus(),M.shouldSelect&&qr(te.select)&&te.select())}},getFieldState:Ce}}function rR(t={}){const e=Ze.useRef(void 0),n=Ze.useRef(void 0),[r,s]=Ze.useState({isDirty:!1,isValidating:!1,isLoading:qr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:qr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...SW(t),formState:r});const i=e.current.control;return i._options=t,vW({subject:i._subjects.state,next:A=>{yW(A,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),Ze.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Ze.useEffect(()=>{if(i._proxyFormState.isDirty){const A=i._getDirty();A!==r.isDirty&&i._subjects.state.next({isDirty:A})}},[i,r.isDirty]),Ze.useEffect(()=>{t.values&&!xi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(A=>({...A}))):i._resetDefaultValues()},[t.values,i]),Ze.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Ze.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Ze.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=mW(r,i),e.current}const WT=(t,e,n)=>{if(t&&"reportValidity"in t){const r=oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},sR=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?WT(r.ref,n,t):r.refs&&r.refs.forEach(s=>WT(s,n,t))}},QW=(t,e)=>{e.shouldUseNativeValidation&&sR(t,e);const n={};for(const r in t){const s=oe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(NW(e.names||Object.keys(t),r)){const A=Object.assign({},oe(n,r));$e(A,"root",i),$e(n,r,A)}else $e(n,r,i)}return n},NW=(t,e)=>t.some(n=>n.startsWith(e+"."));var kW=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,A=r.path.join(".");if(!n[A])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[A]={message:a.message,type:a.code}}else n[A]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var o=n[A].types,c=o&&o[r.code];n[A]=Xk(A,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},iR=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(A,a){try{var o=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&sR({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return o&&o.then?o.then(void 0,a):o}(0,function(A){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(A))return{values:{},errors:QW(kW(A.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw A}))}catch(A){return Promise.reject(A)}}},Pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const A of s)i[A]=A;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),A={};for(const a of i)A[a]=s[a];return t.objectValues(A)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const A in s)Object.prototype.hasOwnProperty.call(s,A)&&i.push(A);return i},t.find=(s,i)=>{for(const A of s)if(i(A))return A},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(A=>typeof A=="string"?`'${A}'`:A).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pe||(Pe={}));var Wv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Wv||(Wv={}));const ae=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Is=t=>{switch(typeof t){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return isNaN(t)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(t)?ae.array:t===null?ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ae.promise:typeof Map<"u"&&t instanceof Map?ae.map:typeof Set<"u"&&t instanceof Set?ae.set:typeof Date<"u"&&t instanceof Date?ae.date:ae.object;default:return ae.unknown}},W=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),RW=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class sr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const A of i.issues)if(A.code==="invalid_union")A.unionErrors.map(s);else if(A.code==="invalid_return_type")s(A.returnTypeError);else if(A.code==="invalid_arguments")s(A.argumentsError);else if(A.path.length===0)r._errors.push(n(A));else{let a=r,o=0;for(;o<A.path.length;){const c=A.path[o];o===A.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(A))):a[c]=a[c]||{_errors:[]},a=a[c],o++}}};return s(this),r}static assert(e){if(!(e instanceof sr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}sr.create=t=>new sr(t);const Xo=(t,e)=>{let n;switch(t.code){case W.invalid_type:t.received===ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case W.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pe.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pe.joinValues(t.keys,", ")}`;break;case W.invalid_union:n="Invalid input";break;case W.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pe.joinValues(t.options)}`;break;case W.invalid_enum_value:n=`Invalid enum value. Expected ${Pe.joinValues(t.options)}, received '${t.received}'`;break;case W.invalid_arguments:n="Invalid function arguments";break;case W.invalid_return_type:n="Invalid function return type";break;case W.invalid_date:n="Invalid date";break;case W.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case W.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case W.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case W.custom:n="Invalid input";break;case W.invalid_intersection_types:n="Intersection results could not be merged";break;case W.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case W.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pe.assertNever(t)}return{message:n}};let AR=Xo;function PW(t){AR=t}function Ip(){return AR}const Up=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],A={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const o=r.filter(c=>!!c).slice().reverse();for(const c of o)a=c(A,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},DW=[];function ne(t,e){const n=Ip(),r=Up({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Xo?void 0:Xo].filter(s=>!!s)});t.common.issues.push(r)}class bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return xe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,A=await s.value;r.push({key:i,value:A})}return bn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:A}=s;if(i.status==="aborted"||A.status==="aborted")return xe;i.status==="dirty"&&e.dirty(),A.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof A.value<"u"||s.alwaysSet)&&(r[i.value]=A.value)}return{status:e.value,value:r}}}const xe=Object.freeze({status:"aborted"}),ho=t=>({status:"dirty",value:t}),Pn=t=>({status:"valid",value:t}),qv=t=>t.status==="aborted",Xv=t=>t.status==="dirty",ca=t=>t.status==="valid",Qu=t=>typeof Promise<"u"&&t instanceof Promise;function Fp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function aR(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var de;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(de||(de={}));var uc,dc;class fs{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const qT=(t,e)=>{if(ca(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new sr(t.common.issues);return this._error=n,this._error}}};function _e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(A,a)=>{var o,c;const{message:u}=t;return A.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(o=u??r)!==null&&o!==void 0?o:a.defaultError}:A.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Te{get description(){return this._def.description}_getType(e){return Is(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new bn,ctx:{common:e.parent.common,data:e.data,parsedType:Is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Is(e)},i=this._parseSync({data:e,path:s.path,parent:s});return qT(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Is(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return ca(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>ca(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Is(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Qu(s)?s:Promise.resolve(s));return qT(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const A=e(s),a=()=>i.addIssue({code:W.custom,...r(s)});return typeof Promise<"u"&&A instanceof Promise?A.then(o=>o?!0:(a(),!1)):A?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new jr({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ls.create(this,this._def)}nullable(){return AA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rr.create(this)}promise(){return Jo.create(this,this._def)}or(e){return Pu.create([this,e],this._def)}and(e){return Du.create(this,e,this._def)}transform(e){return new jr({..._e(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Hu({..._e(this._def),innerType:this,defaultValue:n,typeName:ye.ZodDefault})}brand(){return new gC({typeName:ye.ZodBranded,type:this,..._e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Vu({..._e(this._def),innerType:this,catchValue:n,typeName:ye.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Cd.create(this,e)}readonly(){return Ku.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LW=/^c[^\s-]{8,}$/i,MW=/^[0-9a-z]+$/,jW=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OW=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HW=/^[a-z0-9_-]{21}$/i,VW=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,KW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Q0;const $W=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,WW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,qW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,XW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ZW=new RegExp(`^${oR}$`);function lR(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function eq(t){return new RegExp(`^${lR(t)}$`)}function cR(t){let e=`${oR}T${lR(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function tq(t,e){return!!((e==="v4"||!e)&&$W.test(t)||(e==="v6"||!e)&&qW.test(t))}function nq(t,e){if(!VW.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function rq(t,e){return!!((e==="v4"||!e)&&WW.test(t)||(e==="v6"||!e)&&XW.test(t))}class Qr extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ae.string){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:ae.string,received:i.parsedType}),xe}const r=new bn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const A=e.data.length>i.value,a=e.data.length<i.value;(A||a)&&(s=this._getOrReturnCtx(e,s),A?ne(s,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ne(s,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")zW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"email",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Q0||(Q0=new RegExp(GW,"u")),Q0.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"emoji",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")OW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"uuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")HW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"nanoid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")LW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")MW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cuid2",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")jW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ulid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ne(s,{validation:"url",code:W.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"regex",code:W.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?cR(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?ZW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?eq(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{code:W.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?KW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"duration",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?tq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"ip",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?nq(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"jwt",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?rq(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"cidr",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?YW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?JW.test(e.data)||(s=this._getOrReturnCtx(e,s),ne(s,{validation:"base64url",code:W.invalid_string,message:i.message}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:W.invalid_string,...de.errToObj(r)})}_addCheck(e){return new Qr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...de.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...de.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...de.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...de.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...de.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...de.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...de.errToObj(n)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Qr.create=t=>{var e;return new Qr({checks:[],typeName:ye.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};function sq(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),A=parseInt(e.toFixed(s).replace(".",""));return i%A/Math.pow(10,s)}class rA extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ae.number){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:ae.number,received:i.parsedType}),xe}let r;const s=new bn;for(const i of this._def.checks)i.kind==="int"?Pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:W.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?sq(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ne(r,{code:W.not_finite,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new rA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new rA({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}rA.create=t=>new rA({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class sA extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ae.bigint)return this._getInvalidInput(e);let r;const s=new bn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ne(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ne(n,{code:W.invalid_type,expected:ae.bigint,received:n.parsedType}),xe}gte(e,n){return this.setLimit("min",e,!0,de.toString(n))}gt(e,n){return this.setLimit("min",e,!1,de.toString(n))}lte(e,n){return this.setLimit("max",e,!0,de.toString(n))}lt(e,n){return this.setLimit("max",e,!1,de.toString(n))}setLimit(e,n,r,s){return new sA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:de.toString(s)}]})}_addCheck(e){return new sA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}sA.create=t=>{var e;return new sA({checks:[],typeName:ye.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._e(t)})};class Nu extends Te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ae.boolean){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:ae.boolean,received:r.parsedType}),xe}return Pn(e.data)}}Nu.create=t=>new Nu({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._e(t)});class ua extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ae.date){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_type,expected:ae.date,received:i.parsedType}),xe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ne(i,{code:W.invalid_date}),xe}const r=new bn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ne(s,{code:W.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ua({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ua.create=t=>new ua({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate,..._e(t)});class Sp extends Te{_parse(e){if(this._getType(e)!==ae.symbol){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:ae.symbol,received:r.parsedType}),xe}return Pn(e.data)}}Sp.create=t=>new Sp({typeName:ye.ZodSymbol,..._e(t)});class ku extends Te{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:ae.undefined,received:r.parsedType}),xe}return Pn(e.data)}}ku.create=t=>new ku({typeName:ye.ZodUndefined,..._e(t)});class Ru extends Te{_parse(e){if(this._getType(e)!==ae.null){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:ae.null,received:r.parsedType}),xe}return Pn(e.data)}}Ru.create=t=>new Ru({typeName:ye.ZodNull,..._e(t)});class Yo extends Te{constructor(){super(...arguments),this._any=!0}_parse(e){return Pn(e.data)}}Yo.create=t=>new Yo({typeName:ye.ZodAny,..._e(t)});class WA extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Pn(e.data)}}WA.create=t=>new WA({typeName:ye.ZodUnknown,..._e(t)});class Js extends Te{_parse(e){const n=this._getOrReturnCtx(e);return ne(n,{code:W.invalid_type,expected:ae.never,received:n.parsedType}),xe}}Js.create=t=>new Js({typeName:ye.ZodNever,..._e(t)});class Qp extends Te{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:ae.void,received:r.parsedType}),xe}return Pn(e.data)}}Qp.create=t=>new Qp({typeName:ye.ZodVoid,..._e(t)});class Rr extends Te{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ae.array)return ne(n,{code:W.invalid_type,expected:ae.array,received:n.parsedType}),xe;if(s.exactLength!==null){const A=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(A||a)&&(ne(n,{code:A?W.too_big:W.too_small,minimum:a?s.exactLength.value:void 0,maximum:A?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ne(n,{code:W.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ne(n,{code:W.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((A,a)=>s.type._parseAsync(new fs(n,A,n.path,a)))).then(A=>bn.mergeArray(r,A));const i=[...n.data].map((A,a)=>s.type._parseSync(new fs(n,A,n.path,a)));return bn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Rr({...this._def,minLength:{value:e,message:de.toString(n)}})}max(e,n){return new Rr({...this._def,maxLength:{value:e,message:de.toString(n)}})}length(e,n){return new Rr({...this._def,exactLength:{value:e,message:de.toString(n)}})}nonempty(e){return this.min(1,e)}}Rr.create=(t,e)=>new Rr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,..._e(e)});function Va(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ls.create(Va(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof Rr?new Rr({...t._def,type:Va(t.element)}):t instanceof ls?ls.create(Va(t.unwrap())):t instanceof AA?AA.create(Va(t.unwrap())):t instanceof ps?ps.create(t.items.map(e=>Va(e))):t}class ct extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ae.object){const c=this._getOrReturnCtx(e);return ne(c,{code:W.invalid_type,expected:ae.object,received:c.parsedType}),xe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:A}=this._getCached(),a=[];if(!(this._def.catchall instanceof Js&&this._def.unknownKeys==="strip"))for(const c in s.data)A.includes(c)||a.push(c);const o=[];for(const c of A){const u=i[c],h=s.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new fs(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Js){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)o.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(ne(s,{code:W.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=s.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new fs(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>bn.mergeObjectSync(r,c)):bn.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,A,a;const o=(A=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&A!==void 0?A:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=de.errToObj(e).message)!==null&&a!==void 0?a:o}:{message:o}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};return Pe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}omit(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}deepPartial(){return Va(this)}partial(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ct({...this._def,shape:()=>n})}required(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ls;)i=i._def.innerType;n[r]=i}}),new ct({...this._def,shape:()=>n})}keyof(){return uR(Pe.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:Js.create(),typeName:ye.ZodObject,..._e(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:Js.create(),typeName:ye.ZodObject,..._e(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:Js.create(),typeName:ye.ZodObject,..._e(e)});class Pu extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const A=i.map(a=>new sr(a.ctx.common.issues));return ne(n,{code:W.invalid_union,unionErrors:A}),xe}if(n.common.async)return Promise.all(r.map(async i=>{const A={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:A}),ctx:A}})).then(s);{let i;const A=[];for(const o of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=o._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&A.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=A.map(o=>new sr(o));return ne(n,{code:W.invalid_union,unionErrors:a}),xe}}get options(){return this._def.options}}Pu.create=(t,e)=>new Pu({options:t,typeName:ye.ZodUnion,..._e(e)});const _s=t=>t instanceof Mu?_s(t.schema):t instanceof jr?_s(t.innerType()):t instanceof ju?[t.value]:t instanceof iA?t.options:t instanceof Ou?Pe.objectValues(t.enum):t instanceof Hu?_s(t._def.innerType):t instanceof ku?[void 0]:t instanceof Ru?[null]:t instanceof ls?[void 0,..._s(t.unwrap())]:t instanceof AA?[null,..._s(t.unwrap())]:t instanceof gC||t instanceof Ku?_s(t.unwrap()):t instanceof Vu?_s(t._def.innerType):[];class rm extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.object)return ne(n,{code:W.invalid_type,expected:ae.object,received:n.parsedType}),xe;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ne(n,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),xe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const A=_s(i.shape[e]);if(!A.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of A){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new rm({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,..._e(r)})}}function Yv(t,e){const n=Is(t),r=Is(e);if(t===e)return{valid:!0,data:t};if(n===ae.object&&r===ae.object){const s=Pe.objectKeys(e),i=Pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),A={...t,...e};for(const a of i){const o=Yv(t[a],e[a]);if(!o.valid)return{valid:!1};A[a]=o.data}return{valid:!0,data:A}}else if(n===ae.array&&r===ae.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const A=t[i],a=e[i],o=Yv(A,a);if(!o.valid)return{valid:!1};s.push(o.data)}return{valid:!0,data:s}}else return n===ae.date&&r===ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Du extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,A)=>{if(qv(i)||qv(A))return xe;const a=Yv(i.value,A.value);return a.valid?((Xv(i)||Xv(A))&&n.dirty(),{status:n.value,value:a.data}):(ne(r,{code:W.invalid_intersection_types}),xe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,A])=>s(i,A)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Du.create=(t,e,n)=>new Du({left:t,right:e,typeName:ye.ZodIntersection,..._e(n)});class ps extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.array)return ne(r,{code:W.invalid_type,expected:ae.array,received:r.parsedType}),xe;if(r.data.length<this._def.items.length)return ne(r,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xe;!this._def.rest&&r.data.length>this._def.items.length&&(ne(r,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((A,a)=>{const o=this._def.items[a]||this._def.rest;return o?o._parse(new fs(r,A,r.path,a)):null}).filter(A=>!!A);return r.common.async?Promise.all(i).then(A=>bn.mergeArray(n,A)):bn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ps({...this._def,rest:e})}}ps.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ps({items:t,typeName:ye.ZodTuple,rest:null,..._e(e)})};class Lu extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.object)return ne(r,{code:W.invalid_type,expected:ae.object,received:r.parsedType}),xe;const s=[],i=this._def.keyType,A=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new fs(r,a,r.path,a)),value:A._parse(new fs(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?bn.mergeObjectAsync(n,s):bn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Te?new Lu({keyType:e,valueType:n,typeName:ye.ZodRecord,..._e(r)}):new Lu({keyType:Qr.create(),valueType:e,typeName:ye.ZodRecord,..._e(n)})}}class Np extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.map)return ne(r,{code:W.invalid_type,expected:ae.map,received:r.parsedType}),xe;const s=this._def.keyType,i=this._def.valueType,A=[...r.data.entries()].map(([a,o],c)=>({key:s._parse(new fs(r,a,r.path,[c,"key"])),value:i._parse(new fs(r,o,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const o of A){const c=await o.key,u=await o.value;if(c.status==="aborted"||u.status==="aborted")return xe;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const o of A){const c=o.key,u=o.value;if(c.status==="aborted"||u.status==="aborted")return xe;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Np.create=(t,e,n)=>new Np({valueType:e,keyType:t,typeName:ye.ZodMap,..._e(n)});class da extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.set)return ne(r,{code:W.invalid_type,expected:ae.set,received:r.parsedType}),xe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ne(r,{code:W.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ne(r,{code:W.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function A(o){const c=new Set;for(const u of o){if(u.status==="aborted")return xe;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((o,c)=>i._parse(new fs(r,o,r.path,c)));return r.common.async?Promise.all(a).then(o=>A(o)):A(a)}min(e,n){return new da({...this._def,minSize:{value:e,message:de.toString(n)}})}max(e,n){return new da({...this._def,maxSize:{value:e,message:de.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}da.create=(t,e)=>new da({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet,..._e(e)});class Io extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.function)return ne(n,{code:W.invalid_type,expected:ae.function,received:n.parsedType}),xe;function r(a,o){return Up({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ip(),Xo].filter(c=>!!c),issueData:{code:W.invalid_arguments,argumentsError:o}})}function s(a,o){return Up({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ip(),Xo].filter(c=>!!c),issueData:{code:W.invalid_return_type,returnTypeError:o}})}const i={errorMap:n.common.contextualErrorMap},A=n.data;if(this._def.returns instanceof Jo){const a=this;return Pn(async function(...o){const c=new sr([]),u=await a._def.args.parseAsync(o,i).catch(g=>{throw c.addIssue(r(o,g)),c}),h=await Reflect.apply(A,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(g=>{throw c.addIssue(s(h,g)),c})})}else{const a=this;return Pn(function(...o){const c=a._def.args.safeParse(o,i);if(!c.success)throw new sr([r(o,c.error)]);const u=Reflect.apply(A,this,c.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new sr([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Io({...this._def,args:ps.create(e).rest(WA.create())})}returns(e){return new Io({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Io({args:e||ps.create([]).rest(WA.create()),returns:n||WA.create(),typeName:ye.ZodFunction,..._e(r)})}}class Mu extends Te{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mu.create=(t,e)=>new Mu({getter:t,typeName:ye.ZodLazy,..._e(e)});class ju extends Te{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ne(n,{received:n.data,code:W.invalid_literal,expected:this._def.value}),xe}return{status:"valid",value:e.data}}get value(){return this._def.value}}ju.create=(t,e)=>new ju({value:t,typeName:ye.ZodLiteral,..._e(e)});function uR(t,e){return new iA({values:t,typeName:ye.ZodEnum,..._e(e)})}class iA extends Te{constructor(){super(...arguments),uc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{expected:Pe.joinValues(r),received:n.parsedType,code:W.invalid_type}),xe}if(Fp(this,uc)||aR(this,uc,new Set(this._def.values)),!Fp(this,uc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ne(n,{received:n.data,code:W.invalid_enum_value,options:r}),xe}return Pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return iA.create(e,{...this._def,...n})}exclude(e,n=this._def){return iA.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}uc=new WeakMap;iA.create=uR;class Ou extends Te{constructor(){super(...arguments),dc.set(this,void 0)}_parse(e){const n=Pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ae.string&&r.parsedType!==ae.number){const s=Pe.objectValues(n);return ne(r,{expected:Pe.joinValues(s),received:r.parsedType,code:W.invalid_type}),xe}if(Fp(this,dc)||aR(this,dc,new Set(Pe.getValidEnumValues(this._def.values))),!Fp(this,dc).has(e.data)){const s=Pe.objectValues(n);return ne(r,{received:r.data,code:W.invalid_enum_value,options:s}),xe}return Pn(e.data)}get enum(){return this._def.values}}dc=new WeakMap;Ou.create=(t,e)=>new Ou({values:t,typeName:ye.ZodNativeEnum,..._e(e)});class Jo extends Te{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.promise&&n.common.async===!1)return ne(n,{code:W.invalid_type,expected:ae.promise,received:n.parsedType}),xe;const r=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return Pn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jo.create=(t,e)=>new Jo({type:t,typeName:ye.ZodPromise,..._e(e)});class jr extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:A=>{ne(r,A),A.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const A=s.transform(r.data,i);if(r.common.async)return Promise.resolve(A).then(async a=>{if(n.value==="aborted")return xe;const o=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return o.status==="aborted"?xe:o.status==="dirty"||n.value==="dirty"?ho(o.value):o});{if(n.value==="aborted")return xe;const a=this._def.schema._parseSync({data:A,path:r.path,parent:r});return a.status==="aborted"?xe:a.status==="dirty"||n.value==="dirty"?ho(a.value):a}}if(s.type==="refinement"){const A=a=>{const o=s.refinement(a,i);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?xe:(a.status==="dirty"&&n.dirty(),A(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?xe:(a.status==="dirty"&&n.dirty(),A(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const A=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ca(A))return A;const a=s.transform(A.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(A=>ca(A)?Promise.resolve(s.transform(A.value,i)).then(a=>({status:n.value,value:a})):A);Pe.assertNever(s)}}jr.create=(t,e,n)=>new jr({schema:t,typeName:ye.ZodEffects,effect:e,..._e(n)});jr.createWithPreprocess=(t,e,n)=>new jr({schema:e,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects,..._e(n)});class ls extends Te{_parse(e){return this._getType(e)===ae.undefined?Pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ls.create=(t,e)=>new ls({innerType:t,typeName:ye.ZodOptional,..._e(e)});class AA extends Te{_parse(e){return this._getType(e)===ae.null?Pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}AA.create=(t,e)=>new AA({innerType:t,typeName:ye.ZodNullable,..._e(e)});class Hu extends Te{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hu.create=(t,e)=>new Hu({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._e(e)});class Vu extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new sr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vu.create=(t,e)=>new Vu({innerType:t,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._e(e)});class kp extends Te{_parse(e){if(this._getType(e)!==ae.nan){const r=this._getOrReturnCtx(e);return ne(r,{code:W.invalid_type,expected:ae.nan,received:r.parsedType}),xe}return{status:"valid",value:e.data}}}kp.create=t=>new kp({typeName:ye.ZodNaN,..._e(t)});const iq=Symbol("zod_brand");class gC extends Te{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Cd extends Te{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?xe:i.status==="dirty"?(n.dirty(),ho(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?xe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Cd({in:e,out:n,typeName:ye.ZodPipeline})}}class Ku extends Te{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ca(s)&&(s.value=Object.freeze(s.value)),s);return Qu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ku.create=(t,e)=>new Ku({innerType:t,typeName:ye.ZodReadonly,..._e(e)});function dR(t,e={},n){return t?Yo.create().superRefine((r,s)=>{var i,A;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,o=(A=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&A!==void 0?A:!0,c=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...c,fatal:o})}}):Yo.create()}const Aq={object:ct.lazycreate};var ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));const aq=(t,e={message:`Input not instance of ${t.name}`})=>dR(n=>n instanceof t,e),hR=Qr.create,fR=rA.create,oq=kp.create,lq=sA.create,pR=Nu.create,cq=ua.create,uq=Sp.create,dq=ku.create,hq=Ru.create,fq=Yo.create,pq=WA.create,gq=Js.create,mq=Qp.create,yq=Rr.create,vq=ct.create,wq=ct.strictCreate,Bq=Pu.create,xq=rm.create,Cq=Du.create,Eq=ps.create,_q=Lu.create,bq=Np.create,Tq=da.create,Iq=Io.create,Uq=Mu.create,Fq=ju.create,Sq=iA.create,Qq=Ou.create,Nq=Jo.create,XT=jr.create,kq=ls.create,Rq=AA.create,Pq=jr.createWithPreprocess,Dq=Cd.create,Lq=()=>hR().optional(),Mq=()=>fR().optional(),jq=()=>pR().optional(),Oq={string:t=>Qr.create({...t,coerce:!0}),number:t=>rA.create({...t,coerce:!0}),boolean:t=>Nu.create({...t,coerce:!0}),bigint:t=>sA.create({...t,coerce:!0}),date:t=>ua.create({...t,coerce:!0})},Hq=xe;var jn=Object.freeze({__proto__:null,defaultErrorMap:Xo,setErrorMap:PW,getErrorMap:Ip,makeIssue:Up,EMPTY_PATH:DW,addIssueToContext:ne,ParseStatus:bn,INVALID:xe,DIRTY:ho,OK:Pn,isAborted:qv,isDirty:Xv,isValid:ca,isAsync:Qu,get util(){return Pe},get objectUtil(){return Wv},ZodParsedType:ae,getParsedType:Is,ZodType:Te,datetimeRegex:cR,ZodString:Qr,ZodNumber:rA,ZodBigInt:sA,ZodBoolean:Nu,ZodDate:ua,ZodSymbol:Sp,ZodUndefined:ku,ZodNull:Ru,ZodAny:Yo,ZodUnknown:WA,ZodNever:Js,ZodVoid:Qp,ZodArray:Rr,ZodObject:ct,ZodUnion:Pu,ZodDiscriminatedUnion:rm,ZodIntersection:Du,ZodTuple:ps,ZodRecord:Lu,ZodMap:Np,ZodSet:da,ZodFunction:Io,ZodLazy:Mu,ZodLiteral:ju,ZodEnum:iA,ZodNativeEnum:Ou,ZodPromise:Jo,ZodEffects:jr,ZodTransformer:jr,ZodOptional:ls,ZodNullable:AA,ZodDefault:Hu,ZodCatch:Vu,ZodNaN:kp,BRAND:iq,ZodBranded:gC,ZodPipeline:Cd,ZodReadonly:Ku,custom:dR,Schema:Te,ZodSchema:Te,late:Aq,get ZodFirstPartyTypeKind(){return ye},coerce:Oq,any:fq,array:yq,bigint:lq,boolean:pR,date:cq,discriminatedUnion:xq,effect:XT,enum:Sq,function:Iq,instanceof:aq,intersection:Cq,lazy:Uq,literal:Fq,map:bq,nan:oq,nativeEnum:Qq,never:gq,null:hq,nullable:Rq,number:fR,object:vq,oboolean:jq,onumber:Mq,optional:kq,ostring:Lq,pipeline:Dq,preprocess:Pq,promise:Nq,record:_q,set:Tq,strictObject:wq,string:hR,symbol:uq,transformer:XT,tuple:Eq,undefined:dq,union:Bq,unknown:pq,void:mq,NEVER:Hq,ZodIssueCode:W,quotelessJson:RW,ZodError:sr});const N0={clientId:"164337596330-todg1eiufp3sb6h4aotrnq6srh06a478.apps.googleusercontent.com",clientSecret:"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",redirectUri:`${window.location.origin}/calendar/callback`,scopes:["https://www.googleapis.com/auth/calendar.events"]},Jv={defaultDuration:60,defaultReminder:60,timeZone:"Europe/Rome"};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function ar(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function He(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Bt(t){He(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Rp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Pp(t,e){He(2,arguments);var n=Bt(t),r=ar(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var A=i.getDate();return s>=A?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function gR(t,e){He(2,arguments);var n=Bt(t).getTime(),r=ar(e);return new Date(n+r)}var Vq={};function sm(){return Vq}function Zv(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function ew(t){He(1,arguments);var e=Bt(t);return e.setHours(0,0,0,0),e}var Kq=864e5;function zq(t,e){He(2,arguments);var n=ew(t),r=ew(e),s=n.getTime()-Zv(n),i=r.getTime()-Zv(r);return Math.round((s-i)/Kq)}var Gq=6e4;function mR(t,e){He(2,arguments);var n=ar(e);return gR(t,n*Gq)}var mC=6e4,yC=36e5;function $q(t){return He(1,arguments),t instanceof Date||Rp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Dp(t){if(He(1,arguments),!$q(t)&&typeof t!="number")return!1;var e=Bt(t);return!isNaN(Number(e))}function YT(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function yR(t,e){He(2,arguments);var n=Bt(t),r=Bt(e),s=YT(n,r),i=Math.abs(zq(n,r));n.setDate(n.getDate()-s*i);var A=+(YT(n,r)===-s),a=s*(i-A);return a===0?0:a}function vC(t,e){return He(2,arguments),Bt(t).getTime()-Bt(e).getTime()}var JT={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Wq="trunc";function wC(t){return t?JT[t]:JT[Wq]}function qq(t,e,n){He(2,arguments);var r=vC(t,e)/yC;return wC(void 0)(r)}function Xq(t,e,n){He(2,arguments);var r=vC(t,e)/mC;return wC(void 0)(r)}function Yq(t,e,n){He(2,arguments);var r=vC(t,e)/1e3;return wC(void 0)(r)}function Jq(t,e){He(2,arguments);var n=ar(e);return gR(t,-n)}var Zq=864e5;function eX(t){He(1,arguments);var e=Bt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/Zq)+1}function Lp(t){He(1,arguments);var e=1,n=Bt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function vR(t){He(1,arguments);var e=Bt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Lp(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var A=Lp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=A.getTime()?n:n-1}function tX(t){He(1,arguments);var e=vR(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Lp(n);return r}var nX=6048e5;function rX(t){He(1,arguments);var e=Bt(t),n=Lp(e).getTime()-tX(e).getTime();return Math.round(n/nX)+1}function Zo(t,e){var n,r,s,i,A,a,o,c;He(1,arguments);var u=sm(),h=ar((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Bt(t),g=f.getUTCDay(),m=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function wR(t,e){var n,r,s,i,A,a,o,c;He(1,arguments);var u=Bt(t),h=u.getUTCFullYear(),f=sm(),g=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(o=f.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,g),m.setUTCHours(0,0,0,0);var v=Zo(m,e),E=new Date(0);E.setUTCFullYear(h,0,g),E.setUTCHours(0,0,0,0);var x=Zo(E,e);return u.getTime()>=v.getTime()?h+1:u.getTime()>=x.getTime()?h:h-1}function sX(t,e){var n,r,s,i,A,a,o,c;He(1,arguments);var u=sm(),h=ar((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=wR(t,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var m=Zo(g,e);return m}var iX=6048e5;function AX(t,e){He(1,arguments);var n=Bt(t),r=Zo(n,e).getTime()-sX(n,e).getTime();return Math.round(r/iX)+1}function ze(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var ai={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return ze(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):ze(r+1,2)},d:function(e,n){return ze(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return ze(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ze(e.getUTCHours(),n.length)},m:function(e,n){return ze(e.getUTCMinutes(),n.length)},s:function(e,n){return ze(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return ze(i,n.length)}},Na={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aX={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return ai.y(e,n)},Y:function(e,n,r,s){var i=wR(e,s),A=i>0?i:1-i;if(n==="YY"){var a=A%100;return ze(a,2)}return n==="Yo"?r.ordinalNumber(A,{unit:"year"}):ze(A,n.length)},R:function(e,n){var r=vR(e);return ze(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return ze(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ze(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ze(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return ai.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return ze(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=AX(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,n.length)},I:function(e,n,r){var s=rX(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):ze(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):ai.d(e,n)},D:function(e,n,r){var s=eX(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ze(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(A);case"ee":return ze(A,2);case"eo":return r.ordinalNumber(A,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(A);case"cc":return ze(A,n.length);case"co":return r.ordinalNumber(A,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return ze(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Na.noon:s===0?i=Na.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Na.evening:s>=12?i=Na.afternoon:s>=4?i=Na.morning:i=Na.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return ai.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):ai.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):ai.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):ai.s(e,n)},S:function(e,n){return ai.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();if(A===0)return"Z";switch(n){case"X":return eI(A);case"XXXX":case"XX":return kA(A);case"XXXXX":case"XXX":default:return kA(A,":")}},x:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"x":return eI(A);case"xxxx":case"xx":return kA(A);case"xxxxx":case"xxx":default:return kA(A,":")}},O:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ZT(A,":");case"OOOO":default:return"GMT"+kA(A,":")}},z:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ZT(A,":");case"zzzz":default:return"GMT"+kA(A,":")}},t:function(e,n,r,s){var i=s._originalDate||e,A=Math.floor(i.getTime()/1e3);return ze(A,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,A=i.getTime();return ze(A,n.length)}};function ZT(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var A=e;return n+String(s)+A+ze(i,2)}function eI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ze(Math.abs(t)/60,2)}return kA(t,e)}function kA(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=ze(Math.floor(s/60),2),A=ze(s%60,2);return r+i+n+A}var tI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},BR=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},oX=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return tI(e,n);var A;switch(s){case"P":A=n.dateTime({width:"short"});break;case"PP":A=n.dateTime({width:"medium"});break;case"PPP":A=n.dateTime({width:"long"});break;case"PPPP":default:A=n.dateTime({width:"full"});break}return A.replace("{{date}}",tI(s,n)).replace("{{time}}",BR(i,n))},lX={p:BR,P:oX},cX=["D","DD"],uX=["YY","YYYY"];function dX(t){return cX.indexOf(t)!==-1}function hX(t){return uX.indexOf(t)!==-1}function nI(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var fX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pX=function(e,n,r){var s,i=fX[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Uo(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var gX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mX={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vX={date:Uo({formats:gX,defaultWidth:"full"}),time:Uo({formats:mX,defaultWidth:"full"}),dateTime:Uo({formats:yX,defaultWidth:"full"})},wX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BX=function(e,n,r,s){return wX[e]};function Xr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,A=n!=null&&n.width?String(n.width):i;s=t.formattingValues[A]||t.formattingValues[i]}else{var a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return s[c]}}var xX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_X={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IX=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},UX={ordinalNumber:IX,era:Xr({values:xX,defaultWidth:"wide"}),quarter:Xr({values:CX,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xr({values:EX,defaultWidth:"wide"}),day:Xr({values:_X,defaultWidth:"wide"}),dayPeriod:Xr({values:bX,defaultWidth:"wide",formattingValues:TX,defaultFormattingWidth:"wide"})};function Yr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var A=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?SX(a,function(h){return h.test(A)}):FX(a,function(h){return h.test(A)}),c;c=t.valueCallback?t.valueCallback(o):o,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(A.length);return{value:c,rest:u}}}function FX(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function SX(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function xR(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var A=t.valueCallback?t.valueCallback(i[0]):i[0];A=n.valueCallback?n.valueCallback(A):A;var a=e.slice(s.length);return{value:A,rest:a}}}var QX=/^(\d+)(th|st|nd|rd)?/i,NX=/\d+/i,kX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RX={any:[/^b/i,/^(a|c)/i]},PX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DX={any:[/1/i,/2/i,/3/i,/4/i]},LX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OX={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KX={ordinalNumber:xR({matchPattern:QX,parsePattern:NX,valueCallback:function(e){return parseInt(e,10)}}),era:Yr({matchPatterns:kX,defaultMatchWidth:"wide",parsePatterns:RX,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:PX,defaultMatchWidth:"wide",parsePatterns:DX,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Yr({matchPatterns:LX,defaultMatchWidth:"wide",parsePatterns:MX,defaultParseWidth:"any"}),day:Yr({matchPatterns:jX,defaultMatchWidth:"wide",parsePatterns:OX,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:HX,defaultMatchWidth:"any",parsePatterns:VX,defaultParseWidth:"any"})},zX={code:"en-US",formatDistance:pX,formatLong:vX,formatRelative:BX,localize:UX,match:KX,options:{weekStartsOn:0,firstWeekContainsDate:1}},GX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$X=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WX=/^'([^]*?)'?$/,qX=/''/g,XX=/[a-zA-Z]/;function Xe(t,e,n){var r,s,i,A,a,o,c,u,h,f,g,m,v,E,x,y,w,Q;He(2,arguments);var U=String(e),N=sm(),_=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:N.locale)!==null&&r!==void 0?r:zX,C=ar((i=(A=(a=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:N.firstWeekContainsDate)!==null&&A!==void 0?A:(h=N.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=ar((g=(m=(v=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:N.weekStartsOn)!==null&&m!==void 0?m:(w=N.locale)===null||w===void 0||(Q=w.options)===null||Q===void 0?void 0:Q.weekStartsOn)!==null&&g!==void 0?g:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var T=Bt(t);if(!Dp(T))throw new RangeError("Invalid time value");var R=Zv(T),k=Jq(T,R),F={firstWeekContainsDate:C,weekStartsOn:b,locale:_,_originalDate:T},J=U.match($X).map(function(ee){var O=ee[0];if(O==="p"||O==="P"){var q=lX[O];return q(ee,_.formatLong)}return ee}).join("").match(GX).map(function(ee){if(ee==="''")return"'";var O=ee[0];if(O==="'")return YX(ee);var q=aX[O];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&hX(ee)&&nI(ee,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&dX(ee)&&nI(ee,e,String(t)),q(k,ee,_.localize,F);if(O.match(XX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return ee}).join("");return J}function YX(t){var e=t.match(WX);return e?e[1].replace(qX,"'"):t}function k0(t,e){He(2,arguments);var n=Bt(t),r=Bt(e);return n.getTime()<r.getTime()}function JX(t,e){He(2,arguments);var n=Bt(t),r=Bt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function R0(t,e){var n;He(1,arguments);var r=ar((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=nY(t),i;if(s.date){var A=rY(s.date,r);i=sY(A.restDateString,A.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),o=0,c;if(s.time&&(o=iY(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(c=AY(s.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+o+c)}var wh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZX=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nY(t){var e={},n=t.split(wh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],wh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(wh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=wh.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function rY(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function sY(t,e){if(e===null)return new Date(NaN);var n=t.match(ZX);if(!n)return new Date(NaN);var r=!!n[4],s=$l(n[1]),i=$l(n[2])-1,A=$l(n[3]),a=$l(n[4]),o=$l(n[5])-1;if(r)return uY(e,a,o)?aY(e,a,o):new Date(NaN);var c=new Date(0);return!lY(e,i,A)||!cY(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,A)),c)}function $l(t){return t?parseInt(t):1}function iY(t){var e=t.match(eY);if(!e)return NaN;var n=P0(e[1]),r=P0(e[2]),s=P0(e[3]);return dY(n,r,s)?n*yC+r*mC+s*1e3:NaN}function P0(t){return t&&parseFloat(t.replace(",","."))||0}function AY(t){if(t==="Z")return 0;var e=t.match(tY);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return hY(r,s)?n*(r*yC+s*mC):NaN}function aY(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var oY=[31,null,31,30,31,30,31,31,30,31,30,31];function CR(t){return t%400===0||t%4===0&&t%100!==0}function lY(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(oY[e]||(CR(t)?29:28))}function cY(t,e){return e>=1&&e<=(CR(t)?366:365)}function uY(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function dY(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function hY(t,e){return e>=0&&e<=59}function Mp(t,e){He(2,arguments);var n=Bt(t),r=ar(e);return n.setHours(r),n}function jp(t,e){He(2,arguments);var n=Bt(t),r=ar(e);return n.setMinutes(r),n}function rI(){return ew(Date.now())}function fY(t,e){He(2,arguments);var n=ar(e);return Pp(t,-n)}const pY=async(t,e)=>{try{const r=(await hs(Je(me,"users",t))).data();if(!(r!=null&&r.googleCalendarToken))throw new Error("Token Google Calendar non trovato");const s={summary:e.summary,description:e.description,start:{dateTime:e.startTime.toISOString(),timeZone:Jv.timeZone},end:{dateTime:e.endTime.toISOString(),timeZone:Jv.timeZone},location:e.location,reminders:{useDefault:!0}},i=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${r.googleCalendarToken}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error("Errore durante l'aggiunta dell'evento al calendario");return await i.json()}catch(n){throw console.error("Error adding event to Google Calendar:",n),n}},gY=async(t,e)=>{try{const n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:t,client_id:N0.clientId,client_secret:N0.clientSecret,redirect_uri:N0.redirectUri,grant_type:"authorization_code"})});if(!n.ok)throw new Error("Errore durante lo scambio del codice di autorizzazione");const r=await n.json();return await Og(Je(me,"users",e),{googleCalendarToken:r.access_token,googleCalendarRefreshToken:r.refresh_token,calendarConnected:!0,updatedAt:Kn()},{merge:!0}),!0}catch(n){throw console.error("Error handling Google Calendar callback:",n),n}},mY=(t,e,n,r,s)=>{const i=f=>Xe(f,"yyyyMMdd'T'HHmmss"),A=new URLSearchParams({action:"TEMPLATE",text:t,details:e,location:"",dates:`${i(n)}/${i(r)}`,ctz:Jv.timeZone}),a=Xe(n,"yyyyMMdd'T'HHmmss'Z'"),o=Xe(r,"yyyyMMdd'T'HHmmss'Z'"),c=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",`DTSTART:${a}`,`DTEND:${o}`,`SUMMARY:${t}`,`DESCRIPTION:${e}`,"","END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`
`),u=new Blob([c],{type:"text/calendar;charset=utf-8"}),h=URL.createObjectURL(u);return{google:`https://calendar.google.com/calendar/render?${A.toString()}`,ical:h}},yY=t=>t.replace(/\D/g,""),vY=t=>`https://wa.me/39${t.replace(/\D/g,"")}`,wY=t=>{const e=t.replace(/\D/g,"");return!(e.length<9||e.length>10)};function sI(t,e,n){He(2,arguments);var r=Zo(t,n),s=Zo(e,n);return r.getTime()===s.getTime()}var BY={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},xY=function(e,n,r){var s,i=BY[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+s:s+" fa":s},CY={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},EY={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_Y={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},bY={date:Uo({formats:CY,defaultWidth:"full"}),time:Uo({formats:EY,defaultWidth:"full"}),dateTime:Uo({formats:_Y,defaultWidth:"full"})},BC=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function TY(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+BC[t]+" scorso alle' p"}}function iI(t){return"'"+BC[t]+" alle' p"}function IY(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+BC[t]+" prossimo alle' p"}}var UY={lastWeek:function(e,n,r){var s=e.getUTCDay();return sI(e,n,r)?iI(s):TY(s)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,n,r){var s=e.getUTCDay();return sI(e,n,r)?iI(s):IY(s)},other:"P"},FY=function(e,n,r,s){var i=UY[e];return typeof i=="function"?i(n,r,s):i},SY={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},QY={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},NY={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},kY={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},RY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},PY={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},DY=function(e,n){var r=Number(e);return String(r)},LY={ordinalNumber:DY,era:Xr({values:SY,defaultWidth:"wide"}),quarter:Xr({values:QY,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Xr({values:NY,defaultWidth:"wide"}),day:Xr({values:kY,defaultWidth:"wide"}),dayPeriod:Xr({values:RY,defaultWidth:"wide",formattingValues:PY,defaultFormattingWidth:"wide"})},MY=/^(\d+)()?/i,jY=/\d+/i,OY={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},HY={any:[/^a/i,/^(d|e)/i]},VY={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},KY={any:[/1/i,/2/i,/3/i,/4/i]},zY={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},GY={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},$Y={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},WY={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},qY={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},XY={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},YY={ordinalNumber:xR({matchPattern:MY,parsePattern:jY,valueCallback:function(e){return parseInt(e,10)}}),era:Yr({matchPatterns:OY,defaultMatchWidth:"wide",parsePatterns:HY,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:VY,defaultMatchWidth:"wide",parsePatterns:KY,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Yr({matchPatterns:zY,defaultMatchWidth:"wide",parsePatterns:GY,defaultParseWidth:"any"}),day:Yr({matchPatterns:$Y,defaultMatchWidth:"wide",parsePatterns:WY,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:qY,defaultMatchWidth:"any",parsePatterns:XY,defaultParseWidth:"any"})},aA={code:"it",formatDistance:xY,formatLong:bY,formatRelative:FY,localize:LY,match:YY,options:{weekStartsOn:1,firstWeekContainsDate:4}};const ER="settings",Op="event-settings",Bh={id:Op,eventName:"Carnevale Cinematografico",countdownDate:"2024-03-04T09:00:00",showCountdown:!0,bookingIntervals:30,maxBookingsPerDay:20,startTime:"09:00",endTime:"18:00",serviceTypes:[{id:"carnival",name:"Carnevale",enabled:!0,duration:30,bookingStartDate:"2024-03-04",bookingEndDate:"2024-03-31",excludedDays:[0],excludedDates:[]}],breakTimes:[{start:"13:00",end:"14:00",enabled:!0}],bookingStatuses:[{id:"pending",name:"In attesa",color:"#FFA500",enabled:!0},{id:"confirmed",name:"Confermato",color:"#10B981",enabled:!0},{id:"cancelled",name:"Cancellato",color:"#EF4444",enabled:!0}],products:[],company:{name:"Image Studio",logo:"",address:"Via Quinto Orazio Flacco 5, Aversa",phone:"",email:"",website:"",socialLinks:{}},animation:{enabled:!0,title:"Carnevale 2025",subtitle:"3... 2... 1...",type:"curtain",ticketStampType:"classic"},social:{image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819",title:"Carnevale Cinematografico 2025",description:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025",url:"https://gennaromazzacane.it/carnival2025"},ticketTemplate:{type:"classic",enabled:!0},whatsappTemplate:{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`* ACCONTI VERSATI*
{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`}},Hp=async t=>{try{const e=Je(me,ER,Op);await Og(e,{...t,id:Op},{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},JY=t=>{const e=Je(me,ER,Op);return hl(e,r=>{if(r.exists()){const s=r.data();t({...Bh,...s,company:{...Bh.company,...s.company||{}},whatsappTemplate:{...Bh.whatsappTemplate,...s.whatsappTemplate||{}}})}else t(Bh)},r=>{console.error("Error observing settings:",r)})},vA=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(!1);I.useEffect(()=>{r(!0);const u=JY(h=>{e(h),r(!1),i(null)});return()=>u()},[]);const o=I.useCallback(async u=>{if(t){a(!0),i(null);try{await Hp(u)}catch(h){throw console.error("Error updating settings:",h),i("Errore durante l'aggiornamento delle impostazioni"),h}finally{a(!1)}}},[t]),c=I.useCallback(()=>{i(null)},[]);return{settings:t,loading:n,error:s,saving:A,updateSettings:o,resetError:c}},ZY=({selectedDate:t,selectedTime:e,selectedService:n,onSlotSelect:r})=>{var b;const{settings:s,loading:i}=vA(),[A,a]=I.useState(new Date),[o,c]=I.useState({}),[u,h]=I.useState(!0),[f,g]=I.useState(null),[m,v]=I.useState(null),[E,x]=I.useState({});I.useEffect(()=>{if(s&&!i){const T=s.serviceTypes.find(R=>R.enabled);if(T!=null&&T.bookingStartDate){const R=R0(T.bookingStartDate),k=rI();a(k0(R,k)?k:R)}h(!1)}},[s,i]),I.useEffect(()=>{(async()=>{if(!s)return;const R=new Date(A.getFullYear(),A.getMonth(),1),k=new Date(A.getFullYear(),A.getMonth()+1,0);try{const F=Ft(me,"bookings"),J=ds(F,Ji("booking_date",">=",Xe(R,"yyyy-MM-dd")),Ji("booking_date","<=",Xe(k,"yyyy-MM-dd"))),ee=await zo(J),O={};ee.docs.forEach(q=>{const D=q.data(),K=D.booking_date;O[K]||(O[K]=[]),O[K].push(D.booking_time)}),x(O)}catch(F){console.error("Error loading existing bookings:",F),g("Errore nel caricamento delle prenotazioni esistenti")}})()},[A,s]),I.useEffect(()=>{if(t&&s){const T=U(t),R=Xe(t,"yyyy-MM-dd");c(k=>({...k,[R]:T}))}},[t,s,n,E]);const y=T=>{var J,ee;if(!s)return!0;const R=s.serviceTypes.find(O=>O.id===n||O.enabled);if(!R)return!0;if(R.bookingStartDate&&R.bookingEndDate){const O=R0(R.bookingStartDate),q=R0(R.bookingEndDate);if(k0(T,O)||T>q)return!0}const k=Xe(T,"yyyy-MM-dd");if((J=R.excludedDates)!=null&&J.includes(k))return!0;const F=T.getDay();return((ee=R.excludedDays)==null?void 0:ee.includes(F))||!1},w=(T,R)=>{var F;const k=Xe(T,"yyyy-MM-dd");return((F=E[k])==null?void 0:F.includes(R))||!1},Q=T=>{if(!(s!=null&&s.breakTimes))return!1;const[R,k]=T.split(":").map(Number),F=new Date;return F.setHours(R,k,0,0),s.breakTimes.some(J=>{if(!J.enabled)return!1;const[ee,O]=J.start.split(":").map(Number),[q,D]=J.end.split(":").map(Number),K=new Date;K.setHours(ee,O,0,0);const G=new Date;return G.setHours(q,D,0,0),F>=K&&F<G})},U=T=>{if(!s||y(T))return[];const R=[],[k,F=0]=s.startTime.split(":").map(Number),[J,ee=0]=s.endTime.split(":").map(Number),O=s.serviceTypes.find(G=>G.id===n||G.enabled),q=(O==null?void 0:O.duration)||s.bookingIntervals||30;let D=Mp(jp(new Date(T),F),k);const K=Mp(jp(new Date(T),ee),J);for(;D<K;){const G=Xe(D,"HH:mm"),ve=Q(G),Ce=w(T,G);!ve&&!Ce&&R.push(G),D=mR(D,q)}return R},N=T=>{if(y(T))return;const R=new Date(Date.UTC(T.getFullYear(),T.getMonth(),T.getDate())),k=U(R);if(k.length===0){g("Nessun orario disponibile per questa data");return}g(null),r(R,k[0])},_=T=>{t&&r(t,T)},C=Array.from({length:42},(T,R)=>{const k=new Date(A.getFullYear(),A.getMonth(),1),J=(k.getDay()+6)%7;return k.setDate(1-J+R),k});return u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:""}),"Caricamento calendario..."]})}):l.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:l.jsxs("div",{className:"space-y-6",children:[f&&l.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Vt,{size:20}),f]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>a(T=>fY(T,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(hN,{size:20})}),l.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(_n,{className:"w-5 h-5 text-[--theater-gold]"}),Xe(A,"MMMM yyyy",{locale:aA})]}),l.jsx("button",{onClick:()=>a(T=>Pp(T,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:l.jsx(fN,{size:20})})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(T=>l.jsx("div",{className:"text-center text-gray-400 text-sm py-2 font-medium",children:T},T))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:C.map((T,R)=>{const k=Xe(T,"yyyy-MM-dd"),F=y(T),J=U(T),ee=J.length>0,O=t&&Xe(t,"yyyy-MM-dd")===k,q=k0(T,rI()),D=F||q||!ee,K=m&&Xe(m,"yyyy-MM-dd")===k;return l.jsxs($.button,{onClick:()=>!D&&N(T),onMouseEnter:()=>v(T),onMouseLeave:()=>v(null),disabled:D,whileHover:D?void 0:{scale:1.05},whileTap:D?void 0:{scale:.95},className:`
                  relative p-3 rounded-lg text-center transition-all duration-200
                  ${JX(T,A)?"":"opacity-40"}
                  ${O?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":K&&!D?"bg-gray-700 text-white shadow-md":D?"bg-gray-800 text-gray-500 cursor-not-allowed":ee?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-500"}
                `,children:[l.jsx("span",{className:"relative z-10 font-medium",children:Xe(T,"d")}),F&&l.jsx(ac,{size:12,className:"absolute top-1 right-1 text-red-400"}),ee&&!q&&!F&&l.jsx($.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[...Array(Math.min(3,J.length))].map((G,ve)=>l.jsx("div",{className:`w-1 h-1 rounded-full ${O?"bg-black":K?"bg-white":"bg-[--theater-gold]"}`},ve))})]},k)})}),l.jsx(ln,{children:t&&o[Xe(t,"yyyy-MM-dd")]&&l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 space-y-4",children:[l.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[l.jsx(Xs,{className:"w-4 h-4 text-[--theater-gold]"}),"Orari disponibili per il ",Xe(t,"d MMMM yyyy",{locale:aA})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:(b=o[Xe(t,"yyyy-MM-dd")])==null?void 0:b.map(T=>l.jsxs($.button,{onClick:()=>_(T),whileHover:{scale:1.05,backgroundColor:"var(--theater-gold)",color:"black",transition:{duration:.2}},whileTap:{scale:.95},className:`
                      relative p-3 rounded-lg text-center transition-all duration-200
                      ${e===T?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":"bg-gray-700 text-white hover:shadow-md"}
                    `,children:[T,e===T&&l.jsx($.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:l.jsx(xn,{className:"w-3 h-3 text-white"})})]},T))})]})})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tw=function(t,e){return tw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},tw(t,e)};function Vr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");tw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var nw=function(){return nw=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},nw.apply(this,arguments)};function Un(t,e,n,r){function s(i){return i instanceof n?i:new n(function(A){A(i)})}return new(n||(n=Promise))(function(i,A){function a(u){try{c(r.next(u))}catch(h){A(h)}}function o(u){try{c(r.throw(u))}catch(h){A(h)}}function c(u){u.done?i(u.value):s(u.value).then(a,o)}c((r=r.apply(t,[])).next())})}function pn(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(c){return function(u){return o([c,u])}}function o(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function xh(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var Zs=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),im=function(t,e){return Zs.fromClientRect(t,e.getBoundingClientRect())},eJ=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Zs(0,0,r,s)},Am=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},_t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},AI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ch=0;Ch<AI.length;Ch++)tJ[AI.charCodeAt(Ch)]=Ch;var aI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<aI.length;Eh++)hc[aI.charCodeAt(Eh)]=Eh;var nJ=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=hc[t.charCodeAt(r)],A=hc[t.charCodeAt(r+1)],a=hc[t.charCodeAt(r+2)],o=hc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return c},rJ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},sJ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},qA=5,xC=11,D0=2,iJ=xC-qA,_R=65536>>qA,AJ=1<<qA,L0=AJ-1,aJ=1024>>qA,oJ=_R+aJ,lJ=oJ,cJ=32,uJ=lJ+cJ,dJ=65536>>xC,hJ=1<<iJ,fJ=hJ-1,oI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},pJ=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},gJ=function(t,e){var n=nJ(t),r=Array.isArray(n)?sJ(n):new Uint32Array(n),s=Array.isArray(n)?rJ(n):new Uint16Array(n),i=24,A=oI(s,i/2,r[4]/2),a=r[5]===2?oI(s,(i+r[4])/2):pJ(r,Math.ceil((i+r[4])/4));return new mJ(r[0],r[1],r[2],r[3],A,a)},mJ=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>qA],n=(n<<D0)+(e&L0),this.data[n];if(e<=65535)return n=this.index[_R+(e-55296>>qA)],n=(n<<D0)+(e&L0),this.data[n];if(e<this.highStart)return n=uJ-dJ+(e>>xC),n=this.index[n],n+=e>>qA&fJ,n=this.index[n],n=(n<<D0)+(e&L0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),lI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yJ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _h=0;_h<lI.length;_h++)yJ[lI.charCodeAt(_h)]=_h;var vJ="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",cI=50,wJ=1,bR=2,TR=3,BJ=4,xJ=5,uI=7,IR=8,dI=9,Ii=10,rw=11,hI=12,sw=13,CJ=14,fc=15,iw=16,bh=17,Wl=18,EJ=19,fI=20,Aw=21,ql=22,M0=23,ka=24,Xn=25,pc=26,gc=27,Ra=28,_J=29,RA=30,bJ=31,Th=32,Ih=33,aw=34,ow=35,lw=36,zu=37,cw=38,wf=39,Bf=40,j0=41,UR=42,TJ=43,IJ=[9001,65288],FR="!",Fe="",Uh="",uw=gJ(vJ),Cs=[RA,lw],dw=[wJ,bR,TR,xJ],SR=[Ii,IR],pI=[gc,pc],UJ=dw.concat(SR),gI=[cw,wf,Bf,aw,ow],FJ=[fc,sw],SJ=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,A){var a=uw.get(i);if(a>cI?(s.push(!0),a-=cI):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(A),n.push(iw);if(a===BJ||a===rw){if(A===0)return r.push(A),n.push(RA);var o=n[A-1];return UJ.indexOf(o)===-1?(r.push(r[A-1]),n.push(o)):(r.push(A),n.push(RA))}if(r.push(A),a===bJ)return n.push(e==="strict"?Aw:zu);if(a===UR||a===_J)return n.push(RA);if(a===TJ)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(zu):n.push(RA);n.push(a)}),[r,n,s]},O0=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var A=r[i];if(A===e)return!0;if(A!==Ii)break}if(s===Ii)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===e)return!0;if(A!==Ii)break}if(a!==Ii)break}return!1},mI=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Ii)n--;else return r}return 0},QJ=function(t,e,n,r,s){if(n[r]===0)return Fe;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Fe;var A=i-1,a=i+1,o=e[i],c=A>=0?e[A]:0,u=e[a];if(o===bR&&u===TR)return Fe;if(dw.indexOf(o)!==-1)return FR;if(dw.indexOf(u)!==-1||SR.indexOf(u)!==-1)return Fe;if(mI(i,e)===IR)return Uh;if(uw.get(t[i])===rw||(o===Th||o===Ih)&&uw.get(t[a])===rw||o===uI||u===uI||o===dI||[Ii,sw,fc].indexOf(o)===-1&&u===dI||[bh,Wl,EJ,ka,Ra].indexOf(u)!==-1||mI(i,e)===ql||O0(M0,ql,i,e)||O0([bh,Wl],Aw,i,e)||O0(hI,hI,i,e))return Fe;if(o===Ii)return Uh;if(o===M0||u===M0)return Fe;if(u===iw||o===iw)return Uh;if([sw,fc,Aw].indexOf(u)!==-1||o===CJ||c===lw&&FJ.indexOf(o)!==-1||o===Ra&&u===lw||u===fI||Cs.indexOf(u)!==-1&&o===Xn||Cs.indexOf(o)!==-1&&u===Xn||o===gc&&[zu,Th,Ih].indexOf(u)!==-1||[zu,Th,Ih].indexOf(o)!==-1&&u===pc||Cs.indexOf(o)!==-1&&pI.indexOf(u)!==-1||pI.indexOf(o)!==-1&&Cs.indexOf(u)!==-1||[gc,pc].indexOf(o)!==-1&&(u===Xn||[ql,fc].indexOf(u)!==-1&&e[a+1]===Xn)||[ql,fc].indexOf(o)!==-1&&u===Xn||o===Xn&&[Xn,Ra,ka].indexOf(u)!==-1)return Fe;if([Xn,Ra,ka,bh,Wl].indexOf(u)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Xn)return Fe;if([Ra,ka].indexOf(f)!==-1)h--;else break}if([gc,pc].indexOf(u)!==-1)for(var h=[bh,Wl].indexOf(o)!==-1?A:i;h>=0;){var f=e[h];if(f===Xn)return Fe;if([Ra,ka].indexOf(f)!==-1)h--;else break}if(cw===o&&[cw,wf,aw,ow].indexOf(u)!==-1||[wf,aw].indexOf(o)!==-1&&[wf,Bf].indexOf(u)!==-1||[Bf,ow].indexOf(o)!==-1&&u===Bf||gI.indexOf(o)!==-1&&[fI,pc].indexOf(u)!==-1||gI.indexOf(u)!==-1&&o===gc||Cs.indexOf(o)!==-1&&Cs.indexOf(u)!==-1||o===ka&&Cs.indexOf(u)!==-1||Cs.concat(Xn).indexOf(o)!==-1&&u===ql&&IJ.indexOf(t[a])===-1||Cs.concat(Xn).indexOf(u)!==-1&&o===Wl)return Fe;if(o===j0&&u===j0){for(var g=n[i],m=1;g>0&&(g--,e[g]===j0);)m++;if(m%2!==0)return Fe}return o===Th&&u===Ih?Fe:Uh},NJ=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=SJ(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Xn,RA,UR].indexOf(a)!==-1?zu:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[r,s,A]},kJ=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===FR,this.start=r,this.end=s}return t.prototype.slice=function(){return _t.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),RJ=function(t,e){var n=Am(t),r=NJ(n,e),s=r[0],i=r[1],A=r[2],a=n.length,o=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var u=Fe;c<a&&(u=QJ(n,i,s,++c,A))===Fe;);if(u!==Fe||c===a){var h=new kJ(n,u,o,c);return o=c,{value:h,done:!1}}return{done:!0,value:null}}}},PJ=1,DJ=2,Ed=4,yI=8,Vp=10,vI=47,zc=92,LJ=9,MJ=32,Fh=34,Xl=61,jJ=35,OJ=36,HJ=37,Sh=39,Qh=40,Yl=41,VJ=95,On=45,KJ=33,zJ=60,GJ=62,$J=64,WJ=91,qJ=93,XJ=61,YJ=123,Nh=63,JJ=125,wI=124,ZJ=126,eZ=128,BI=65533,H0=42,HA=43,tZ=44,nZ=58,rZ=59,Gu=46,sZ=0,iZ=8,AZ=11,aZ=14,oZ=31,lZ=127,zr=-1,QR=48,NR=97,kR=101,cZ=102,uZ=117,dZ=122,RR=65,PR=69,DR=70,hZ=85,fZ=90,vn=function(t){return t>=QR&&t<=57},pZ=function(t){return t>=55296&&t<=57343},Pa=function(t){return vn(t)||t>=RR&&t<=DR||t>=NR&&t<=cZ},gZ=function(t){return t>=NR&&t<=dZ},mZ=function(t){return t>=RR&&t<=fZ},yZ=function(t){return gZ(t)||mZ(t)},vZ=function(t){return t>=eZ},kh=function(t){return t===Vp||t===LJ||t===MJ},Kp=function(t){return yZ(t)||vZ(t)||t===VJ},xI=function(t){return Kp(t)||vn(t)||t===On},wZ=function(t){return t>=sZ&&t<=iZ||t===AZ||t>=aZ&&t<=oZ||t===lZ},hi=function(t,e){return t!==zc?!1:e!==Vp},Rh=function(t,e,n){return t===On?Kp(e)||hi(e,n):Kp(t)?!0:!!(t===zc&&hi(t,e))},V0=function(t,e,n){return t===HA||t===On?vn(e)?!0:e===Gu&&vn(n):vn(t===Gu?e:t)},BZ=function(t){var e=0,n=1;(t[e]===HA||t[e]===On)&&(t[e]===On&&(n=-1),e++);for(var r=[];vn(t[e]);)r.push(t[e++]);var s=r.length?parseInt(_t.apply(void 0,r),10):0;t[e]===Gu&&e++;for(var i=[];vn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(_t.apply(void 0,i),10):0;(t[e]===PR||t[e]===kR)&&e++;var o=1;(t[e]===HA||t[e]===On)&&(t[e]===On&&(o=-1),e++);for(var c=[];vn(t[e]);)c.push(t[e++]);var u=c.length?parseInt(_t.apply(void 0,c),10):0;return n*(s+a*Math.pow(10,-A))*Math.pow(10,o*u)},xZ={type:2},CZ={type:3},EZ={type:4},_Z={type:13},bZ={type:8},TZ={type:21},IZ={type:9},UZ={type:10},FZ={type:11},SZ={type:12},QZ={type:14},Ph={type:23},NZ={type:1},kZ={type:25},RZ={type:24},PZ={type:26},DZ={type:27},LZ={type:28},MZ={type:29},jZ={type:31},hw={type:32},LR=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Am(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==hw;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Fh:return this.consumeStringToken(Fh);case jJ:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(xI(n)||hi(r,s)){var i=Rh(n,r,s)?DJ:PJ,A=this.consumeName();return{type:5,value:A,flags:i}}break;case OJ:if(this.peekCodePoint(0)===Xl)return this.consumeCodePoint(),_Z;break;case Sh:return this.consumeStringToken(Sh);case Qh:return xZ;case Yl:return CZ;case H0:if(this.peekCodePoint(0)===Xl)return this.consumeCodePoint(),QZ;break;case HA:if(V0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case tZ:return EZ;case On:var a=e,o=this.peekCodePoint(0),c=this.peekCodePoint(1);if(V0(a,o,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Rh(a,o,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===On&&c===GJ)return this.consumeCodePoint(),this.consumeCodePoint(),RZ;break;case Gu:if(V0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case vI:if(this.peekCodePoint(0)===H0)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===H0&&(u=this.consumeCodePoint(),u===vI))return this.consumeToken();if(u===zr)return this.consumeToken()}break;case nZ:return PZ;case rZ:return DZ;case zJ:if(this.peekCodePoint(0)===KJ&&this.peekCodePoint(1)===On&&this.peekCodePoint(2)===On)return this.consumeCodePoint(),this.consumeCodePoint(),kZ;break;case $J:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Rh(h,f,g)){var A=this.consumeName();return{type:7,value:A}}break;case WJ:return LZ;case zc:if(hi(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case qJ:return MZ;case XJ:if(this.peekCodePoint(0)===Xl)return this.consumeCodePoint(),bZ;break;case YJ:return FZ;case JJ:return SZ;case uZ:case hZ:var m=this.peekCodePoint(0),v=this.peekCodePoint(1);return m===HA&&(Pa(v)||v===Nh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case wI:if(this.peekCodePoint(0)===Xl)return this.consumeCodePoint(),IZ;if(this.peekCodePoint(0)===wI)return this.consumeCodePoint(),TZ;break;case ZJ:if(this.peekCodePoint(0)===Xl)return this.consumeCodePoint(),UZ;break;case zr:return hw}return kh(e)?(this.consumeWhiteSpace(),jZ):vn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Kp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:_t(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Pa(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===Nh&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(_t.apply(void 0,e.map(function(o){return o===Nh?QR:o})),16),i=parseInt(_t.apply(void 0,e.map(function(o){return o===Nh?DR:o})),16);return{type:30,start:s,end:i}}var A=parseInt(_t.apply(void 0,e),16);if(this.peekCodePoint(0)===On&&Pa(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Pa(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(_t.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Qh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Qh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===zr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Sh||n===Fh){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===zr||this.peekCodePoint(0)===Yl)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Ph)}for(;;){var s=this.consumeCodePoint();if(s===zr||s===Yl)return{type:22,value:_t.apply(void 0,e)};if(kh(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===zr||this.peekCodePoint(0)===Yl?(this.consumeCodePoint(),{type:22,value:_t.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ph);if(s===Fh||s===Sh||s===Qh||wZ(s))return this.consumeBadUrlRemnants(),Ph;if(s===zc)if(hi(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ph;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;kh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Yl||e===zr)return;hi(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=_t.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===zr||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===Vp)return this._value.splice(0,r),NZ;if(s===zc){var i=this._value[r+1];i!==zr&&i!==void 0&&(i===Vp?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):hi(s,i)&&(n+=this.consumeStringSlice(r),n+=_t(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Ed,r=this.peekCodePoint(0);for((r===HA||r===On)&&e.push(this.consumeCodePoint());vn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Gu&&vn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=yI;vn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===PR||r===kR)&&((s===HA||s===On)&&vn(i)||vn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=yI;vn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[BZ(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(Rh(s,i,A)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===HJ?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Pa(e)){for(var n=_t(e);Pa(this.peekCodePoint(0))&&n.length<6;)n+=_t(this.consumeCodePoint());kh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||pZ(r)||r>1114111?BI:r}return e===zr?BI:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(xI(n))e+=_t(n);else if(hi(n,this.peekCodePoint(0)))e+=_t(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),MR=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new LR;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||HZ(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?hw:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),_d=function(t){return t.type===15},ml=function(t){return t.type===17},We=function(t){return t.type===20},OZ=function(t){return t.type===0},fw=function(t,e){return We(t)&&t.value===e},jR=function(t){return t.type!==31},el=function(t){return t.type!==31&&t.type!==4},ms=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},HZ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},oA=function(t){return t.type===17||t.type===15},Rt=function(t){return t.type===16||oA(t)},OR=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},nn={type:17,number:0,flags:Ed},CC={type:16,number:50,flags:Ed},Ui={type:16,number:100,flags:Ed},mc=function(t,e,n){var r=t[0],s=t[1];return[et(r,e),et(typeof s<"u"?s:r,n)]},et=function(t,e){if(t.type===16)return t.number/100*e;if(_d(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},HR="deg",VR="grad",KR="rad",zR="turn",am={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case HR:return Math.PI*e.number/180;case VR:return Math.PI/200*e.number;case KR:return e.number;case zR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},GR=function(t){return t.type===15&&(t.unit===HR||t.unit===VR||t.unit===KR||t.unit===zR)},$R=function(t){var e=t.filter(We).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nn,nn];case"to top":case"bottom":return yr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nn,Ui];case"to right":case"left":return yr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ui,Ui];case"to bottom":case"top":return yr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ui,nn];case"to left":case"right":return yr(270)}return 0},yr=function(t){return Math.PI*t/180},Ki={name:"color",parse:function(t,e){if(e.type===18){var n=VZ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Fi(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return Fi(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Fi(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return Fi(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=Ls[e.value.toUpperCase()];if(typeof a<"u")return a}return Ls.TRANSPARENT}},zi=function(t){return(255&t)===0},Kt=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Fi=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},CI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},EI=function(t,e){var n=e.filter(el);if(n.length===3){var r=n.map(CI),s=r[0],i=r[1],A=r[2];return Fi(s,i,A,1)}if(n.length===4){var a=n.map(CI),s=a[0],i=a[1],A=a[2],o=a[3];return Fi(s,i,A,o)}return 0};function K0(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var _I=function(t,e){var n=e.filter(el),r=n[0],s=n[1],i=n[2],A=n[3],a=(r.type===17?yr(r.number):am.parse(t,r))/(Math.PI*2),o=Rt(s)?s.number/100:0,c=Rt(i)?i.number/100:0,u=typeof A<"u"&&Rt(A)?et(A,1):1;if(o===0)return Fi(c*255,c*255,c*255,1);var h=c<=.5?c*(o+1):c+o-c*o,f=c*2-h,g=K0(f,h,a+1/3),m=K0(f,h,a),v=K0(f,h,a-1/3);return Fi(g*255,m*255,v*255,u)},VZ={hsl:_I,hsla:_I,rgb:EI,rgba:EI},Gc=function(t,e){return Ki.parse(t,MR.create(e).parseComponentValue())},Ls={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},KZ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(We(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zZ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},om=function(t,e){var n=Ki.parse(t,e[0]),r=e[1];return r&&Rt(r)?{color:n,stop:r}:{color:n,stop:null}},bI=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=nn),r.stop===null&&(r.stop=Ui);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=et(a,e);o>i?s.push(o):s.push(i),i=o}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var u=s[A];if(u===null)c===null&&(c=A);else if(c!==null){for(var h=A-c,f=s[c-1],g=(u-f)/(h+1),m=1;m<=h;m++)s[c+m-1]=g*m;c=null}}return t.map(function(v,E){var x=v.color;return{color:x,stop:Math.max(Math.min(1,s[E]/e),0)}})},GZ=function(t,e,n){var r=e/2,s=n/2,i=et(t[0],e)-r,A=s-et(t[1],n);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},$Z=function(t,e,n){var r=typeof t=="number"?t:GZ(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,A=n/2,a=s/2,o=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[s,i-c,i+c,A-o,A+o]},br=function(t,e){return Math.sqrt(t*t+e*e)},TI=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var o=a[0],c=a[1],u=br(n-o,r-c);return(s?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:a,optimumDistance:u}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},WZ=function(t,e,n,r,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=A=Math.min(br(e,n),br(e,n-s),br(e-r,n),br(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),o=TI(r,s,e,n,!0),c=o[0],u=o[1];i=br(c-e,(u-n)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=A=Math.max(br(e,n),br(e,n-s),br(e-r,n),br(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=TI(r,s,e,n,!1),c=h[0],u=h[1];i=br(c-e,(u-n)/a),A=a*i}break}return Array.isArray(t.size)&&(i=et(t.size[0],r),A=t.size.length===2?et(t.size[1],s):i),[i,A]},qZ=function(t,e){var n=yr(180),r=[];return ms(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){n=$R(s);return}else if(GR(A)){n=am.parse(t,A);return}}var a=om(t,s);r.push(a)}),{angle:n,stops:r,type:1}},Dh=function(t,e){var n=yr(180),r=[];return ms(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=$R(s);return}else if(GR(A)){n=(am.parse(t,A)+yr(270))%yr(360);return}}var a=om(t,s);r.push(a)}),{angle:n,stops:r,type:1}},XZ=function(t,e){var n=yr(180),r=[],s=1,i=0,A=3,a=[];return ms(e).forEach(function(o,c){var u=o[0];if(c===0){if(We(u)&&u.value==="linear"){s=1;return}else if(We(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=Ki.parse(t,u.values[0]);r.push({stop:nn,color:h})}else if(u.name==="to"){var h=Ki.parse(t,u.values[0]);r.push({stop:Ui,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(el);if(f.length===2){var h=Ki.parse(t,f[1]),g=f[0];ml(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),s===1?{angle:(n+yr(180))%yr(360),stops:r,type:s}:{size:A,shape:i,stops:r,position:a,type:s}},WR="closest-side",qR="farthest-side",XR="closest-corner",YR="farthest-corner",JR="circle",ZR="ellipse",e4="cover",t4="contain",YZ=function(t,e){var n=0,r=3,s=[],i=[];return ms(e).forEach(function(A,a){var o=!0;if(a===0){var c=!1;o=A.reduce(function(h,f){if(c)if(We(f))switch(f.value){case"center":return i.push(CC),h;case"top":case"left":return i.push(nn),h;case"right":case"bottom":return i.push(Ui),h}else(Rt(f)||oA(f))&&i.push(f);else if(We(f))switch(f.value){case JR:return n=0,!1;case ZR:return n=1,!1;case"at":return c=!0,!1;case WR:return r=0,!1;case e4:case qR:return r=1,!1;case t4:case XR:return r=2,!1;case YR:return r=3,!1}else if(oA(f)||Rt(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return h},o)}if(o){var u=om(t,A);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},Lh=function(t,e){var n=0,r=3,s=[],i=[];return ms(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(u,h){if(We(h))switch(h.value){case"center":return i.push(CC),!1;case"top":case"left":return i.push(nn),!1;case"right":case"bottom":return i.push(Ui),!1}else if(Rt(h)||oA(h))return i.push(h),!1;return u},o):a===1&&(o=A.reduce(function(u,h){if(We(h))switch(h.value){case JR:return n=0,!1;case ZR:return n=1,!1;case t4:case WR:return r=0,!1;case qR:return r=1,!1;case XR:return r=2,!1;case e4:case YR:return r=3,!1}else if(oA(h)||Rt(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},o)),o){var c=om(t,A);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},JZ=function(t){return t.type===1},ZZ=function(t){return t.type===2},EC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=n4[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function eee(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!n4[t.name])}var n4={"linear-gradient":qZ,"-moz-linear-gradient":Dh,"-ms-linear-gradient":Dh,"-o-linear-gradient":Dh,"-webkit-linear-gradient":Dh,"radial-gradient":YZ,"-moz-radial-gradient":Lh,"-ms-radial-gradient":Lh,"-o-radial-gradient":Lh,"-webkit-radial-gradient":Lh,"-webkit-gradient":XZ},tee={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return el(r)&&eee(r)}).map(function(r){return EC.parse(t,r)})}},nee={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(We(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ree={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return ms(e).map(function(n){return n.filter(Rt)}).map(OR)}},see={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return ms(e).map(function(n){return n.filter(We).map(function(r){return r.value}).join(" ")}).map(iee)}},iee=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Fo;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Fo||(Fo={}));var Aee={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return ms(e).map(function(n){return n.filter(aee)})}},aee=function(t){return We(t)||Rt(t)},lm=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},oee=lm("top"),lee=lm("right"),cee=lm("bottom"),uee=lm("left"),cm=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return OR(n.filter(Rt))}}},dee=cm("top-left"),hee=cm("top-right"),fee=cm("bottom-right"),pee=cm("bottom-left"),um=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},gee=um("top"),mee=um("right"),yee=um("bottom"),vee=um("left"),dm=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return _d(n)?n.number:0}}},wee=dm("top"),Bee=dm("right"),xee=dm("bottom"),Cee=dm("left"),Eee={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_ee={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},bee={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(We).reduce(function(n,r){return n|Tee(r.value)},0)}},Tee=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Iee={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Uee={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},zp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(zp||(zp={}));var Fee={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return zp.STRICT;case"normal":default:return zp.NORMAL}}},See={name:"line-height",initialValue:"normal",prefix:!1,type:4},II=function(t,e){return We(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Rt(t)?et(t,e):e},Qee={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:EC.parse(t,e)}},Nee={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},pw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},hm=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},kee=hm("top"),Ree=hm("right"),Pee=hm("bottom"),Dee=hm("left"),Lee={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(We).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Mee={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},fm=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jee=fm("top"),Oee=fm("right"),Hee=fm("bottom"),Vee=fm("left"),Kee={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},zee={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Gee={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&fw(e[0],"none")?[]:ms(e).map(function(n){for(var r={color:Ls.TRANSPARENT,offsetX:nn,offsetY:nn,blur:nn},s=0,i=0;i<n.length;i++){var A=n[i];oA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=Ki.parse(t,A)}return r})}},$ee={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Wee={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=Yee[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},qee=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},Xee=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,A,a]:null},Yee={matrix:qee,matrix3d:Xee},UI={type:16,number:50,flags:Ed},Jee=[UI,UI],Zee={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Rt);return n.length!==2?Jee:[n[0],n[1]]}},ete={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},$c;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})($c||($c={}));var tte={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return $c.BREAK_ALL;case"keep-all":return $c.KEEP_ALL;case"normal":default:return $c.NORMAL}}},nte={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ml(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},r4={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},rte={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ml(e)?e.number:1}},ste={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ite={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(We).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Ate={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},ate={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ote={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ml(e))return e.number;if(We(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},lte={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(We).map(function(n){return n.value})}},cte={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},jt=function(t,e){return(t&e)!==0},ute={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},dte={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(jR),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var o=a&&ml(a)?a.number:1;r.push({counter:A.value,increment:o})}}return r}},hte={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(jR),s=0;s<r.length;s++){var i=r[s],A=r[s+1];if(We(i)&&i.value!=="none"){var a=A&&ml(A)?A.number:0;n.push({counter:i.value,reset:a})}}return n}},fte={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(_d).map(function(n){return r4.parse(t,n)})}},pte={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(OZ);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;r.push({open:A,close:a})}return r}},FI=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},gte={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&fw(e[0],"none")?[]:ms(e).map(function(n){for(var r={color:255,offsetX:nn,offsetY:nn,blur:nn,spread:nn,inset:!1},s=0,i=0;i<n.length;i++){var A=n[i];fw(A,"inset")?r.inset=!0:oA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=Ki.parse(t,A)}return r})}},mte={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(We).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},yte={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},vte={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return _d(e)?e.number:0}},wte=function(){function t(e,n){var r,s;this.animationDuration=Ae(e,fte,n.animationDuration),this.backgroundClip=Ae(e,KZ,n.backgroundClip),this.backgroundColor=Ae(e,zZ,n.backgroundColor),this.backgroundImage=Ae(e,tee,n.backgroundImage),this.backgroundOrigin=Ae(e,nee,n.backgroundOrigin),this.backgroundPosition=Ae(e,ree,n.backgroundPosition),this.backgroundRepeat=Ae(e,see,n.backgroundRepeat),this.backgroundSize=Ae(e,Aee,n.backgroundSize),this.borderTopColor=Ae(e,oee,n.borderTopColor),this.borderRightColor=Ae(e,lee,n.borderRightColor),this.borderBottomColor=Ae(e,cee,n.borderBottomColor),this.borderLeftColor=Ae(e,uee,n.borderLeftColor),this.borderTopLeftRadius=Ae(e,dee,n.borderTopLeftRadius),this.borderTopRightRadius=Ae(e,hee,n.borderTopRightRadius),this.borderBottomRightRadius=Ae(e,fee,n.borderBottomRightRadius),this.borderBottomLeftRadius=Ae(e,pee,n.borderBottomLeftRadius),this.borderTopStyle=Ae(e,gee,n.borderTopStyle),this.borderRightStyle=Ae(e,mee,n.borderRightStyle),this.borderBottomStyle=Ae(e,yee,n.borderBottomStyle),this.borderLeftStyle=Ae(e,vee,n.borderLeftStyle),this.borderTopWidth=Ae(e,wee,n.borderTopWidth),this.borderRightWidth=Ae(e,Bee,n.borderRightWidth),this.borderBottomWidth=Ae(e,xee,n.borderBottomWidth),this.borderLeftWidth=Ae(e,Cee,n.borderLeftWidth),this.boxShadow=Ae(e,gte,n.boxShadow),this.color=Ae(e,Eee,n.color),this.direction=Ae(e,_ee,n.direction),this.display=Ae(e,bee,n.display),this.float=Ae(e,Iee,n.cssFloat),this.fontFamily=Ae(e,Ate,n.fontFamily),this.fontSize=Ae(e,ate,n.fontSize),this.fontStyle=Ae(e,cte,n.fontStyle),this.fontVariant=Ae(e,lte,n.fontVariant),this.fontWeight=Ae(e,ote,n.fontWeight),this.letterSpacing=Ae(e,Uee,n.letterSpacing),this.lineBreak=Ae(e,Fee,n.lineBreak),this.lineHeight=Ae(e,See,n.lineHeight),this.listStyleImage=Ae(e,Qee,n.listStyleImage),this.listStylePosition=Ae(e,Nee,n.listStylePosition),this.listStyleType=Ae(e,pw,n.listStyleType),this.marginTop=Ae(e,kee,n.marginTop),this.marginRight=Ae(e,Ree,n.marginRight),this.marginBottom=Ae(e,Pee,n.marginBottom),this.marginLeft=Ae(e,Dee,n.marginLeft),this.opacity=Ae(e,rte,n.opacity);var i=Ae(e,Lee,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ae(e,Mee,n.overflowWrap),this.paddingTop=Ae(e,jee,n.paddingTop),this.paddingRight=Ae(e,Oee,n.paddingRight),this.paddingBottom=Ae(e,Hee,n.paddingBottom),this.paddingLeft=Ae(e,Vee,n.paddingLeft),this.paintOrder=Ae(e,mte,n.paintOrder),this.position=Ae(e,zee,n.position),this.textAlign=Ae(e,Kee,n.textAlign),this.textDecorationColor=Ae(e,ste,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Ae(e,ite,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=Ae(e,Gee,n.textShadow),this.textTransform=Ae(e,$ee,n.textTransform),this.transform=Ae(e,Wee,n.transform),this.transformOrigin=Ae(e,Zee,n.transformOrigin),this.visibility=Ae(e,ete,n.visibility),this.webkitTextStrokeColor=Ae(e,yte,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ae(e,vte,n.webkitTextStrokeWidth),this.wordBreak=Ae(e,tte,n.wordBreak),this.zIndex=Ae(e,nte,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return zi(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return jt(this.display,4)||jt(this.display,33554432)||jt(this.display,268435456)||jt(this.display,536870912)||jt(this.display,67108864)||jt(this.display,134217728)},t}(),Bte=function(){function t(e,n){this.content=Ae(e,ute,n.content),this.quotes=Ae(e,pte,n.quotes)}return t}(),SI=function(){function t(e,n){this.counterIncrement=Ae(e,dte,n.counterIncrement),this.counterReset=Ae(e,hte,n.counterReset)}return t}(),Ae=function(t,e,n){var r=new LR,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new MR(r.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,We(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return am.parse(t,i.parseComponentValue());case"color":return Ki.parse(t,i.parseComponentValue());case"image":return EC.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return oA(a)?a:nn;case"length-percentage":var o=i.parseComponentValue();return Rt(o)?o:nn;case"time":return r4.parse(t,i.parseComponentValue())}break}},xte="data-html2canvas-debug",Cte=function(t){var e=t.getAttribute(xte);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},gw=function(t,e){var n=Cte(t);return n===1||e===n},ys=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,gw(n,3))debugger;this.styles=new wte(e,window.getComputedStyle(n,null)),vw(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=im(this.context,n),gw(n,4)&&(this.flags|=16)}return t}(),Ete="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",QI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mh=0;Mh<QI.length;Mh++)yc[QI.charCodeAt(Mh)]=Mh;var _te=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)i=yc[t.charCodeAt(r)],A=yc[t.charCodeAt(r+1)],a=yc[t.charCodeAt(r+2)],o=yc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return c},bte=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Tte=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},XA=5,_C=11,z0=2,Ite=_C-XA,s4=65536>>XA,Ute=1<<XA,G0=Ute-1,Fte=1024>>XA,Ste=s4+Fte,Qte=Ste,Nte=32,kte=Qte+Nte,Rte=65536>>_C,Pte=1<<Ite,Dte=Pte-1,NI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Lte=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Mte=function(t,e){var n=_te(t),r=Array.isArray(n)?Tte(n):new Uint32Array(n),s=Array.isArray(n)?bte(n):new Uint16Array(n),i=24,A=NI(s,i/2,r[4]/2),a=r[5]===2?NI(s,(i+r[4])/2):Lte(r,Math.ceil((i+r[4])/4));return new jte(r[0],r[1],r[2],r[3],A,a)},jte=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>XA],n=(n<<z0)+(e&G0),this.data[n];if(e<=65535)return n=this.index[s4+(e-55296>>XA)],n=(n<<z0)+(e&G0),this.data[n];if(e<this.highStart)return n=kte-Rte+(e>>_C),n=this.index[n],n+=e>>XA&Dte,n=this.index[n],n=(n<<z0)+(e&G0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),kI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ote=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jh=0;jh<kI.length;jh++)Ote[kI.charCodeAt(jh)]=jh;var Hte=1,$0=2,W0=3,RI=4,PI=5,Vte=7,DI=8,q0=9,X0=10,LI=11,MI=12,jI=13,OI=14,Y0=15,Kte=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},zte=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Gte=Mte(Ete),hr="",J0="",$te=function(t){return Gte.get(t)},Wte=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],A=e[n];if(i===$0&&A===W0)return hr;if(i===$0||i===W0||i===RI||A===$0||A===W0||A===RI)return J0;if(i===DI&&[DI,q0,LI,MI].indexOf(A)!==-1||(i===LI||i===q0)&&(A===q0||A===X0)||(i===MI||i===X0)&&A===X0||A===jI||A===PI||A===Vte||i===Hte)return hr;if(i===jI&&A===OI){for(;s===PI;)s=e[--r];if(s===OI)return hr}if(i===Y0&&A===Y0){for(var a=0;s===Y0;)a++,s=e[--r];if(a%2===0)return hr}return J0},qte=function(t){var e=Kte(t),n=e.length,r=0,s=0,i=e.map($te);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=hr;r<n&&(A=Wte(e,i,++r))===hr;);if(A!==hr||r===n){var a=zte.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},Xte=function(t){for(var e=qte(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},Yte=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},Jte=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=Am(r.data).map(function(o){return _t(o)}),i=0,A={},a=s.every(function(o,c){n.setStart(r,i),n.setEnd(r,i+o.length);var u=n.getBoundingClientRect();i+=o.length;var h=u.x>A.x||u.y>A.y;return A=u,c===0?!0:h});return t.body.removeChild(e),a},Zte=function(){return typeof new Image().crossOrigin<"u"},ene=function(){return typeof new XMLHttpRequest().responseType=="string"},tne=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},HI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},nne=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var A=mw(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),VI(A).then(function(a){r.drawImage(a,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=n+"px",HI(o)?VI(mw(n,n,0,0,c)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),HI(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},mw=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},VI=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Jt={get SUPPORT_RANGE_BOUNDS(){var t=Yte(document);return Object.defineProperty(Jt,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Jt.SUPPORT_RANGE_BOUNDS&&Jte(document);return Object.defineProperty(Jt,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=tne(document);return Object.defineProperty(Jt,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?nne(document):Promise.resolve(!1);return Object.defineProperty(Jt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Zte();return Object.defineProperty(Jt,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=ene();return Object.defineProperty(Jt,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Jt,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Jt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Wc=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),rne=function(t,e,n,r){var s=Ane(e,n),i=[],A=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Jt.SUPPORT_RANGE_BOUNDS){var o=KI(r,A,a.length).getClientRects();if(o.length>1){var c=bC(a),u=0;c.forEach(function(f){i.push(new Wc(f,Zs.fromDOMRectList(t,KI(r,u+A,f.length).getClientRects()))),u+=f.length})}else i.push(new Wc(a,Zs.fromDOMRectList(t,o)))}else{var h=r.splitText(a.length);i.push(new Wc(a,sne(t,r))),r=h}else Jt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));A+=a.length}),i},sne=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=im(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return Zs.EMPTY},KI=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},bC=function(t){if(Jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return Xte(t)},ine=function(t,e){if(Jt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return one(t,e)},Ane=function(t,e){return e.letterSpacing!==0?bC(t):ine(t,e)},ane=[32,160,4961,65792,65793,4153,4241],one=function(t,e){for(var n=RJ(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var A=s.value.slice(),a=Am(A),o="";a.forEach(function(c){ane.indexOf(c)===-1?o+=_t(c):(o.length&&r.push(o),r.push(_t(c)),o="")}),o.length&&r.push(o)}};!(s=n.next()).done;)i();return r},lne=function(){function t(e,n,r){this.text=cne(n.data,r.textTransform),this.textBounds=rne(e,this.text,r,n)}return t}(),cne=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(une,dne);case 2:return t.toUpperCase();default:return t}},une=/(^|\s|:|-|\(|\))([a-z])/g,dne=function(t,e,n){return t.length>0?e+n.toUpperCase():t},i4=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(ys),A4=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(ys),a4=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,A=im(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(ys),o4=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ys),yw=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(ys),hne=[{type:15,flags:0,unit:"px",number:3}],fne=[{type:16,flags:0,number:50}],pne=function(t){return t.width>t.height?new Zs(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Zs(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},gne=function(t){var e=t.type===mne?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Gp="checkbox",$p="radio",mne="password",zI=707406591,TC=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=gne(r),(s.type===Gp||s.type===$p)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=pne(s.bounds)),s.type){case Gp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=hne;break;case $p:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=fne;break}return s}return e}(ys),l4=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(ys),c4=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ys),u4=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=h4(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?Gc(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Ls.TRANSPARENT,A=r.contentWindow.document.body?Gc(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Ls.TRANSPARENT;s.backgroundColor=zi(i)?zi(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(ys),yne=["OL","UL","MENU"],xf=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,f4(s)&&s.data.trim().length>0)n.textNodes.push(new lne(t,s,n.styles));else if(fo(s))if(y4(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return xf(t,a,n,r)});else{var A=d4(t,s);A.styles.isVisible()&&(vne(s,A,r)?A.flags|=4:wne(A.styles)&&(A.flags|=2),yne.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?xf(t,s.shadowRoot,A,r):!Wp(s)&&!p4(s)&&!qp(s)&&xf(t,s,A,r))}},d4=function(t,e){return ww(e)?new i4(t,e):g4(e)?new A4(t,e):p4(e)?new a4(t,e):Bne(e)?new o4(t,e):xne(e)?new yw(t,e):Cne(e)?new TC(t,e):qp(e)?new l4(t,e):Wp(e)?new c4(t,e):m4(e)?new u4(t,e):new ys(t,e)},h4=function(t,e){var n=d4(t,e);return n.flags|=4,xf(t,e,n,n),n},vne=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||IC(t)&&n.styles.isTransparent()},wne=function(t){return t.isPositioned()||t.isFloating()},f4=function(t){return t.nodeType===Node.TEXT_NODE},fo=function(t){return t.nodeType===Node.ELEMENT_NODE},vw=function(t){return fo(t)&&typeof t.style<"u"&&!Cf(t)},Cf=function(t){return typeof t.className=="object"},Bne=function(t){return t.tagName==="LI"},xne=function(t){return t.tagName==="OL"},Cne=function(t){return t.tagName==="INPUT"},Ene=function(t){return t.tagName==="HTML"},p4=function(t){return t.tagName==="svg"},IC=function(t){return t.tagName==="BODY"},g4=function(t){return t.tagName==="CANVAS"},GI=function(t){return t.tagName==="VIDEO"},ww=function(t){return t.tagName==="IMG"},m4=function(t){return t.tagName==="IFRAME"},$I=function(t){return t.tagName==="STYLE"},_ne=function(t){return t.tagName==="SCRIPT"},Wp=function(t){return t.tagName==="TEXTAREA"},qp=function(t){return t.tagName==="SELECT"},y4=function(t){return t.tagName==="SLOT"},WI=function(t){return t.tagName.indexOf("-")>0},bne=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var o=n.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var o=n.counters[a.counter];A.push(a.counter),o||(o=n.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),qI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},XI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Tne={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ine={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Da=function(t,e,n,r,s,i){return t<e||t>n?$u(t,s,i.length>0):r.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=r.values[o];return A},"")+i},v4=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Ct=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(v4(Math.abs(t),i,r,function(A){return _t(Math.floor(A%i)+e)})+s)},IA=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return v4(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Ka=1,li=2,ci=4,vc=8,Es=function(t,e,n,r,s,i){if(t<-9999||t>9999)return $u(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var c=A%10;c===0&&jt(i,Ka)&&a!==""?a=e[c]+a:c>1||c===1&&o===0||c===1&&o===1&&jt(i,li)||c===1&&o===1&&jt(i,ci)&&t>100||c===1&&o>1&&jt(i,vc)?a=e[c]+(o>0?n[o-1]:"")+a:c===1&&o>0&&(a=n[o-1]+a),A=Math.floor(A/10)}return(t<0?r:"")+a},YI="",JI="",ZI="",Z0="",$u=function(t,e,n){var r=n?". ":"",s=n?"":"",i=n?", ":"",A=n?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var a=Ct(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return IA(t,"",s);case 6:return Da(t,1,3999,qI,3,r).toLowerCase();case 7:return Da(t,1,3999,qI,3,r);case 8:return Ct(t,945,969,!1,r);case 9:return Ct(t,97,122,!1,r);case 10:return Ct(t,65,90,!1,r);case 11:return Ct(t,1632,1641,!0,r);case 12:case 49:return Da(t,1,9999,XI,3,r);case 35:return Da(t,1,9999,XI,3,r).toLowerCase();case 13:return Ct(t,2534,2543,!0,r);case 14:case 30:return Ct(t,6112,6121,!0,r);case 15:return IA(t,"",s);case 16:return IA(t,"",s);case 17:case 48:return Es(t,"",YI,"",s,li|ci|vc);case 47:return Es(t,"",JI,"",s,Ka|li|ci|vc);case 42:return Es(t,"",YI,"",s,li|ci|vc);case 41:return Es(t,"",JI,"",s,Ka|li|ci|vc);case 26:return Es(t,"","",ZI,s,0);case 25:return Es(t,"","",ZI,s,Ka|li|ci);case 31:return Es(t,"","",Z0,i,Ka|li|ci);case 33:return Es(t,"","",Z0,i,0);case 32:return Es(t,"","",Z0,i,Ka|li|ci);case 18:return Ct(t,2406,2415,!0,r);case 20:return Da(t,1,19999,Ine,3,r);case 21:return Ct(t,2790,2799,!0,r);case 22:return Ct(t,2662,2671,!0,r);case 22:return Da(t,1,10999,Tne,3,r);case 23:return IA(t,"");case 24:return IA(t,"");case 27:return Ct(t,3302,3311,!0,r);case 28:return IA(t,"",s);case 29:return IA(t,"",s);case 34:return Ct(t,3792,3801,!0,r);case 37:return Ct(t,6160,6169,!0,r);case 38:return Ct(t,4160,4169,!0,r);case 39:return Ct(t,2918,2927,!0,r);case 40:return Ct(t,1776,1785,!0,r);case 43:return Ct(t,3046,3055,!0,r);case 44:return Ct(t,3174,3183,!0,r);case 45:return Ct(t,3664,3673,!0,r);case 46:return Ct(t,3872,3881,!0,r);case 3:default:return Ct(t,48,57,!0,r)}},w4="data-html2canvas-ignore",eU=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new bne,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=Une(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,o=a.document,c=Qne(s).then(function(){return Un(r,void 0,void 0,function(){var u,h;return pn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(Pne),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Sne(o)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(o,h)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write(kne(document.doctype)+"<html></html>"),Rne(this.referenceElement.ownerDocument,i,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),c},t.prototype.createElementClone=function(e){if(gw(e,2))debugger;if(g4(e))return this.createCanvasClone(e);if(GI(e))return this.createVideoClone(e);if($I(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return ww(n)&&(ww(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),WI(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return ey(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!fo(n)||!_ne(n)&&!n.hasAttribute(w4)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!fo(n)||!$I(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(fo(i)&&y4(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(f4(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&fo(e)&&(vw(e)||Cf(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&vw(s)&&(this.clonedReferenceElement=s),IC(s)&&Mne(s);var o=this.counters.parse(new SI(this.context,i)),c=this.resolvePseudoContent(e,s,A,qc.BEFORE);WI(e)&&(n=!0),GI(e)||this.cloneChildNodes(e,s,n),c&&s.insertBefore(c,s.firstChild);var u=this.resolvePseudoContent(e,s,a,qc.AFTER);return u&&s.appendChild(u),this.counters.pop(o),(i&&(this.options.copyStyles||Cf(e))&&!m4(e)||n)&&ey(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Wp(e)||qp(e))&&(Wp(s)||qp(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var A=r.content,a=n.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new SI(this.context,r));var o=new Bte(this.context,r),c=a.createElement("html2canvaspseudoelement");ey(r,c),o.content.forEach(function(h){if(h.type===0)c.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",c.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(We);g.length&&c.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(el),v=m[0],E=m[1];if(v&&We(v)){var x=i.counters.getCounterValue(v.value),y=E&&We(E)?pw.parse(i.context,E.value):3;c.appendChild(a.createTextNode($u(x,y,!1)))}}else if(h.name==="counters"){var w=h.values.filter(el),v=w[0],Q=w[1],E=w[2];if(v&&We(v)){var U=i.counters.getCounterValues(v.value),N=E&&We(E)?pw.parse(i.context,E.value):3,_=Q&&Q.type===0?Q.value:"",C=U.map(function(R){return $u(R,N,!1)}).join(_);c.appendChild(a.createTextNode(C))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(a.createTextNode(FI(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(a.createTextNode(FI(o.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(a.createTextNode(h.value))}}),c.className=Bw+" "+xw;var u=s===qc.BEFORE?" "+Bw:" "+xw;return Cf(n)?n.className.baseValue+=u:n.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),qc;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(qc||(qc={}));var Une=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(w4,"true"),t.body.appendChild(n),n},Fne=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Sne=function(t){return Promise.all([].slice.call(t.images,0).map(Fne))},Qne=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},Nne=["all","d","content"],ey=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Nne.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},kne=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Rne=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Pne=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},Dne=":before",Lne=":after",Bw="___html2canvas___pseudoelement_before",xw="___html2canvas___pseudoelement_after",tU=`{
    content: "" !important;
    display: none !important;
}`,Mne=function(t){jne(t,"."+Bw+Dne+tU+`
         .`+xw+Lne+tU)},jne=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},B4=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),One=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(ny(e)||zne(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Un(this,void 0,void 0,function(){var n,r,s,i,A=this;return pn(this,function(a){switch(a.label){case 0:return n=B4.isSameOrigin(e),r=!ty(e)&&this._options.useCORS===!0&&Jt.SUPPORT_CORS_IMAGES&&!n,s=!ty(e)&&!n&&!ny(e)&&typeof this._options.proxy=="string"&&Jt.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!ty(e)&&!ny(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,c){var u=new Image;u.onload=function(){return o(u)},u.onerror=c,(Gne(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return o(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=Jt.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return A(f)},!1),h.readAsDataURL(o.response)}else A("Failed to proxy resource "+s+" with status code "+o.status)},o.onerror=A;var c=r.indexOf("?")>-1?"&":"?";if(o.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;o.timeout=u,o.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+s)}}o.send()})},t}(),Hne=/^data:image\/svg\+xml/i,Vne=/^data:image\/.*;base64,/i,Kne=/^data:image\/.*/i,zne=function(t){return Jt.SUPPORT_SVG_DRAWING||!$ne(t)},ty=function(t){return Kne.test(t)},Gne=function(t){return Vne.test(t)},ny=function(t){return t.substr(0,4)==="blob"},$ne=function(t){return t.substr(-3).toLowerCase()==="svg"||Hne.test(t)},ie=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),La=function(t,e,n){return new ie(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Oh=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=La(this.start,this.startControl,e),s=La(this.startControl,this.endControl,e),i=La(this.endControl,this.end,e),A=La(r,s,e),a=La(s,i,e),o=La(A,a,e);return n?new t(this.start,r,A,o):new t(o,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),gr=function(t){return t.type===1},Wne=function(){function t(e){var n=e.styles,r=e.bounds,s=mc(n.borderTopLeftRadius,r.width,r.height),i=s[0],A=s[1],a=mc(n.borderTopRightRadius,r.width,r.height),o=a[0],c=a[1],u=mc(n.borderBottomRightRadius,r.width,r.height),h=u[0],f=u[1],g=mc(n.borderBottomLeftRadius,r.width,r.height),m=g[0],v=g[1],E=[];E.push((i+o)/r.width),E.push((m+h)/r.width),E.push((A+v)/r.height),E.push((c+f)/r.height);var x=Math.max.apply(Math,E);x>1&&(i/=x,A/=x,o/=x,c/=x,h/=x,f/=x,m/=x,v/=x);var y=r.width-o,w=r.height-f,Q=r.width-h,U=r.height-v,N=n.borderTopWidth,_=n.borderRightWidth,C=n.borderBottomWidth,b=n.borderLeftWidth,T=et(n.paddingTop,e.bounds.width),R=et(n.paddingRight,e.bounds.width),k=et(n.paddingBottom,e.bounds.width),F=et(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?At(r.left+b/3,r.top+N/3,i-b/3,A-N/3,Ve.TOP_LEFT):new ie(r.left+b/3,r.top+N/3),this.topRightBorderDoubleOuterBox=i>0||A>0?At(r.left+y,r.top+N/3,o-_/3,c-N/3,Ve.TOP_RIGHT):new ie(r.left+r.width-_/3,r.top+N/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?At(r.left+Q,r.top+w,h-_/3,f-C/3,Ve.BOTTOM_RIGHT):new ie(r.left+r.width-_/3,r.top+r.height-C/3),this.bottomLeftBorderDoubleOuterBox=m>0||v>0?At(r.left+b/3,r.top+U,m-b/3,v-C/3,Ve.BOTTOM_LEFT):new ie(r.left+b/3,r.top+r.height-C/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?At(r.left+b*2/3,r.top+N*2/3,i-b*2/3,A-N*2/3,Ve.TOP_LEFT):new ie(r.left+b*2/3,r.top+N*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?At(r.left+y,r.top+N*2/3,o-_*2/3,c-N*2/3,Ve.TOP_RIGHT):new ie(r.left+r.width-_*2/3,r.top+N*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?At(r.left+Q,r.top+w,h-_*2/3,f-C*2/3,Ve.BOTTOM_RIGHT):new ie(r.left+r.width-_*2/3,r.top+r.height-C*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||v>0?At(r.left+b*2/3,r.top+U,m-b*2/3,v-C*2/3,Ve.BOTTOM_LEFT):new ie(r.left+b*2/3,r.top+r.height-C*2/3),this.topLeftBorderStroke=i>0||A>0?At(r.left+b/2,r.top+N/2,i-b/2,A-N/2,Ve.TOP_LEFT):new ie(r.left+b/2,r.top+N/2),this.topRightBorderStroke=i>0||A>0?At(r.left+y,r.top+N/2,o-_/2,c-N/2,Ve.TOP_RIGHT):new ie(r.left+r.width-_/2,r.top+N/2),this.bottomRightBorderStroke=h>0||f>0?At(r.left+Q,r.top+w,h-_/2,f-C/2,Ve.BOTTOM_RIGHT):new ie(r.left+r.width-_/2,r.top+r.height-C/2),this.bottomLeftBorderStroke=m>0||v>0?At(r.left+b/2,r.top+U,m-b/2,v-C/2,Ve.BOTTOM_LEFT):new ie(r.left+b/2,r.top+r.height-C/2),this.topLeftBorderBox=i>0||A>0?At(r.left,r.top,i,A,Ve.TOP_LEFT):new ie(r.left,r.top),this.topRightBorderBox=o>0||c>0?At(r.left+y,r.top,o,c,Ve.TOP_RIGHT):new ie(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||f>0?At(r.left+Q,r.top+w,h,f,Ve.BOTTOM_RIGHT):new ie(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||v>0?At(r.left,r.top+U,m,v,Ve.BOTTOM_LEFT):new ie(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||A>0?At(r.left+b,r.top+N,Math.max(0,i-b),Math.max(0,A-N),Ve.TOP_LEFT):new ie(r.left+b,r.top+N),this.topRightPaddingBox=o>0||c>0?At(r.left+Math.min(y,r.width-_),r.top+N,y>r.width+_?0:Math.max(0,o-_),Math.max(0,c-N),Ve.TOP_RIGHT):new ie(r.left+r.width-_,r.top+N),this.bottomRightPaddingBox=h>0||f>0?At(r.left+Math.min(Q,r.width-b),r.top+Math.min(w,r.height-C),Math.max(0,h-_),Math.max(0,f-C),Ve.BOTTOM_RIGHT):new ie(r.left+r.width-_,r.top+r.height-C),this.bottomLeftPaddingBox=m>0||v>0?At(r.left+b,r.top+Math.min(U,r.height-C),Math.max(0,m-b),Math.max(0,v-C),Ve.BOTTOM_LEFT):new ie(r.left+b,r.top+r.height-C),this.topLeftContentBox=i>0||A>0?At(r.left+b+F,r.top+N+T,Math.max(0,i-(b+F)),Math.max(0,A-(N+T)),Ve.TOP_LEFT):new ie(r.left+b+F,r.top+N+T),this.topRightContentBox=o>0||c>0?At(r.left+Math.min(y,r.width+b+F),r.top+N+T,y>r.width+b+F?0:o-b+F,c-(N+T),Ve.TOP_RIGHT):new ie(r.left+r.width-(_+R),r.top+N+T),this.bottomRightContentBox=h>0||f>0?At(r.left+Math.min(Q,r.width-(b+F)),r.top+Math.min(w,r.height+N+T),Math.max(0,h-(_+R)),f-(C+k),Ve.BOTTOM_RIGHT):new ie(r.left+r.width-(_+R),r.top+r.height-(C+k)),this.bottomLeftContentBox=m>0||v>0?At(r.left+b+F,r.top+U,Math.max(0,m-(b+F)),v-(C+k),Ve.BOTTOM_LEFT):new ie(r.left+b+F,r.top+r.height-(C+k))}return t}(),Ve;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ve||(Ve={}));var At=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),A=n*i,a=r*i,o=t+n,c=e+r;switch(s){case Ve.TOP_LEFT:return new Oh(new ie(t,c),new ie(t,c-a),new ie(o-A,e),new ie(o,e));case Ve.TOP_RIGHT:return new Oh(new ie(t,e),new ie(t+A,e),new ie(o,c-a),new ie(o,c));case Ve.BOTTOM_RIGHT:return new Oh(new ie(o,e),new ie(o,e+a),new ie(t+A,c),new ie(t,c));case Ve.BOTTOM_LEFT:default:return new Oh(new ie(o,c),new ie(o-A,c),new ie(t,e+a),new ie(t,e))}},Xp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},qne=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Yp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Xne=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Hh=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),Yne=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Jne=function(t){return t.type===0},x4=function(t){return t.type===1},Zne=function(t){return t.type===2},nU=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},ere=function(t,e,n,r,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},C4=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),E4=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Wne(this.container),this.container.styles.opacity<1&&this.effects.push(new Yne(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Xne(r,s,i))}if(this.container.styles.overflowX!==0){var A=Xp(this.curves),a=Yp(this.curves);nU(A,a)?this.effects.push(new Hh(A,6)):(this.effects.push(new Hh(A,2)),this.effects.push(new Hh(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(o){return!x4(o)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=Xp(r.curves),a=Yp(r.curves);nU(A,a)||s.unshift(new Hh(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(o){return jt(o.target,e)})},t}(),Cw=function(t,e,n,r){t.container.elements.forEach(function(s){var i=jt(s.flags,4),A=jt(s.flags,2),a=new E4(s,t);jt(s.styles.display,2048)&&r.push(a);var o=jt(s.flags,8)?[]:r;if(i||A){var c=i||s.styles.isPositioned()?n:e,u=new C4(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;c.negativeZIndex.some(function(m,v){return h>m.element.container.styles.zIndex.order?(f=v,!1):f>0}),c.negativeZIndex.splice(f,0,u)}else if(h>0){var g=0;c.positiveZIndex.some(function(m,v){return h>=m.element.container.styles.zIndex.order?(g=v+1,!1):g>0}),c.positiveZIndex.splice(g,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Cw(a,u,i?u:n,o)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Cw(a,e,n,o);jt(s.flags,8)&&_4(s,o)})},_4=function(t,e){for(var n=t instanceof yw?t.start:1,r=t instanceof yw?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof o4&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=$u(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},tre=function(t){var e=new E4(t,null),n=new C4(e),r=[];return Cw(e,n,n,r),_4(e.container,r),n},rU=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},nre=function(t,e){switch(e){case 0:return vr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return vr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return vr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return vr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},rre=function(t,e){switch(e){case 0:return vr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return vr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return vr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return vr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},sre=function(t,e){switch(e){case 0:return Vh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Vh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Vh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Vh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Vh=function(t,e){var n=[];return gr(t)?n.push(t.subdivide(.5,!1)):n.push(t),gr(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},vr=function(t,e,n,r){var s=[];return gr(t)?s.push(t.subdivide(.5,!1)):s.push(t),gr(n)?s.push(n.subdivide(.5,!0)):s.push(n),gr(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),gr(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},b4=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jp=function(t){var e=t.styles,n=t.bounds,r=et(e.paddingLeft,n.width),s=et(e.paddingRight,n.width),i=et(e.paddingTop,n.width),A=et(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},ire=function(t,e){return t===0?e.bounds:t===2?Jp(e):b4(e)},Are=function(t,e){return t===0?e.bounds:t===2?Jp(e):b4(e)},ry=function(t,e,n){var r=ire(za(t.styles.backgroundOrigin,e),t),s=Are(za(t.styles.backgroundClip,e),t),i=are(za(t.styles.backgroundSize,e),n,r),A=i[0],a=i[1],o=mc(za(t.styles.backgroundPosition,e),r.width-A,r.height-a),c=ore(za(t.styles.backgroundRepeat,e),o,i,r,s),u=Math.round(r.left+o[0]),h=Math.round(r.top+o[1]);return[c,u,h,A,a]},Ma=function(t){return We(t)&&t.value===Fo.AUTO},Kh=function(t){return typeof t=="number"},are=function(t,e,n){var r=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(Rt(A)&&a&&Rt(a))return[et(A,n.width),et(a,n.height)];var o=Kh(i);if(We(A)&&(A.value===Fo.CONTAIN||A.value===Fo.COVER)){if(Kh(i)){var c=n.width/n.height;return c<i!=(A.value===Fo.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=Kh(r),h=Kh(s),f=u||h;if(Ma(A)&&(!a||Ma(a))){if(u&&h)return[r,s];if(!o&&!f)return[n.width,n.height];if(f&&o){var g=u?r:s*i,m=h?s:r/i;return[g,m]}var v=u?r:n.width,E=h?s:n.height;return[v,E]}if(o){var x=0,y=0;return Rt(A)?x=et(A,n.width):Rt(a)&&(y=et(a,n.height)),Ma(A)?x=y*i:(!a||Ma(a))&&(y=x/i),[x,y]}var w=null,Q=null;if(Rt(A)?w=et(A,n.width):a&&Rt(a)&&(Q=et(a,n.height)),w!==null&&(!a||Ma(a))&&(Q=u&&h?w/r*s:n.height),Q!==null&&Ma(A)&&(w=u&&h?Q/s*r:n.width),w!==null&&Q!==null)return[w,Q];throw new Error("Unable to calculate background-size for element")},za=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},ore=function(t,e,n,r,s){var i=e[0],A=e[1],a=n[0],o=n[1];switch(t){case 2:return[new ie(Math.round(r.left),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(r.top+A)),new ie(Math.round(r.left+r.width),Math.round(o+r.top+A)),new ie(Math.round(r.left),Math.round(o+r.top+A))];case 3:return[new ie(Math.round(r.left+i),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.top)),new ie(Math.round(r.left+i+a),Math.round(r.height+r.top)),new ie(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new ie(Math.round(r.left+i),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A)),new ie(Math.round(r.left+i+a),Math.round(r.top+A+o)),new ie(Math.round(r.left+i),Math.round(r.top+A+o))];default:return[new ie(Math.round(s.left),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.top)),new ie(Math.round(s.left+s.width),Math.round(s.height+s.top)),new ie(Math.round(s.left),Math.round(s.height+s.top))]}},lre="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",sU="Hidden Text",cre=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=lre,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(sU)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(sU)),r.style.lineHeight="normal",s.style.verticalAlign="super";var o=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),T4=function(){function t(e,n){this.context=e,this.options=n}return t}(),ure=1e4,dre=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new cre(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),Zne(n)&&(this.ctx.globalAlpha=n.opacity),Jne(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),x4(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Un(this,void 0,void 0,function(){var r;return pn(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Un(this,void 0,void 0,function(){return pn(this,function(r){switch(r.label){case 0:if(jt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=bC(n.text);A.reduce(function(a,o){return i.ctx.fillText(o,a,n.bounds.top+s),a+i.ctx.measureText(o).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=mre(n.fontFamily).join(", "),i=_d(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Un(this,void 0,void 0,function(){var s,i,A,a,o,c,u,h,f=this;return pn(this,function(g){return s=this.createFontStyle(r),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),c=o.baseline,u=o.middle,h=r.paintOrder,n.textBounds.forEach(function(m){h.forEach(function(v){switch(v){case 0:f.ctx.fillStyle=Kt(r.color),f.renderTextWithLetterSpacing(m,r.letterSpacing,c);var E=r.textShadow;E.length&&m.text.trim().length&&(E.slice(0).reverse().forEach(function(x){f.ctx.shadowColor=Kt(x.color),f.ctx.shadowOffsetX=x.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=x.offsetY.number*f.options.scale,f.ctx.shadowBlur=x.blur.number,f.renderTextWithLetterSpacing(m,r.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=Kt(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Kt(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=Jp(n),A=Yp(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o,y,y,c,u,h,f,Q,g,m,U,v,E,x,y,w,Q,U;return pn(this,function(N){switch(N.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,A=0,a=r.textNodes,N.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,i)]):[3,4];case 2:N.sent(),N.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof i4))return[3,8];N.label=5;case 5:return N.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=N.sent(),this.renderReplacedElement(r,s,y),[3,8];case 7:return N.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof A4&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof a4))return[3,12];N.label=9;case 9:return N.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=N.sent(),this.renderReplacedElement(r,s,y),[3,12];case 11:return N.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof u4&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=N.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),N.label=14;case 14:if(r instanceof TC&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===Gp?r.checked&&(this.ctx.save(),this.path([new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79),new ie(r.bounds.left+h*.16,r.bounds.top+h*.5549),new ie(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new ie(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new ie(r.bounds.left+h*.72983,r.bounds.top+h*.23),new ie(r.bounds.left+h*.84,r.bounds.top+h*.34085),new ie(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Kt(zI),this.ctx.fill(),this.ctx.restore()):r.type===$p&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Kt(zI),this.ctx.fill(),this.ctx.restore())),hre(r)&&r.value.length){switch(f=this.createFontStyle(i),Q=f[0],g=f[1],m=this.fontMetrics.getMetrics(Q,g).baseline,this.ctx.font=Q,this.ctx.fillStyle=Kt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pre(r.styles.textAlign),U=Jp(r),v=0,r.styles.textAlign){case 1:v+=U.width/2;break;case 2:v+=U.width;break}E=U.add(v,0,0,-U.height/2+1),this.ctx.save(),this.path([new ie(U.left,U.top),new ie(U.left+U.width,U.top),new ie(U.left+U.width,U.top+U.height),new ie(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Wc(r.value,E),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!jt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];y=void 0,w=x.url,N.label=15;case 15:return N.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=N.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return N.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(Q=this.createFontStyle(i)[0],this.ctx.font=Q,this.ctx.fillStyle=Kt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new Zs(r.bounds.left,r.bounds.top+et(r.styles.paddingTop,r.bounds.width),r.bounds.width,II(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Wc(n.listValue,U),i.letterSpacing,II(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),N.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Un(this,void 0,void 0,function(){var r,s,x,i,A,x,a,o,x,c,u,x,h,f,x,g,m,x,v,E,x;return pn(this,function(y){switch(y.label){case 0:if(jt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:y.sent(),r=0,s=n.negativeZIndex,y.label=2;case 2:return r<s.length?(x=s[r],[4,this.renderStack(x)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:y.sent(),i=0,A=n.nonInlineLevel,y.label=7;case 7:return i<A.length?(x=A[i],[4,this.renderNode(x)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:a=0,o=n.nonPositionedFloats,y.label=11;case 11:return a<o.length?(x=o[a],[4,this.renderStack(x)]):[3,14];case 12:y.sent(),y.label=13;case 13:return a++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,y.label=15;case 15:return c<u.length?(x=u[c],[4,this.renderStack(x)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:h=0,f=n.inlineLevel,y.label=19;case 19:return h<f.length?(x=f[h],[4,this.renderNode(x)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:g=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return g<m.length?(x=m[g],[4,this.renderStack(x)]):[3,26];case 24:y.sent(),y.label=25;case 25:return g++,[3,23];case 26:v=0,E=n.positiveZIndex,y.label=27;case 27:return v<E.length?(x=E[v],[4,this.renderStack(x)]):[3,30];case 28:y.sent(),y.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var A=gr(s)?s.start:s;i===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),gr(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var o=a.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o;return pn(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var h,f,g,T,O,q,F,J,C,m,T,O,q,F,J,v,E,x,y,w,Q,U,N,_,C,b,T,R,k,F,J,ee,O,q,D,K,G,ve,Ce,Ie,ot,lt;return pn(this,function(gt){switch(gt.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,gt.label=1;case 1:return gt.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=gt.sent(),[3,4];case 3:return gt.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(g=ry(n,r,[h.width,h.height,h.width/h.height]),T=g[0],O=g[1],q=g[2],F=g[3],J=g[4],C=i.ctx.createPattern(i.resizeImage(h,F,J),"repeat"),i.renderRepeat(T,C,O,q)),[3,6];case 5:JZ(u)?(m=ry(n,r,[null,null,null]),T=m[0],O=m[1],q=m[2],F=m[3],J=m[4],v=$Z(u.angle,F,J),E=v[0],x=v[1],y=v[2],w=v[3],Q=v[4],U=document.createElement("canvas"),U.width=F,U.height=J,N=U.getContext("2d"),_=N.createLinearGradient(x,w,y,Q),bI(u.stops,E).forEach(function(Qt){return _.addColorStop(Qt.stop,Kt(Qt.color))}),N.fillStyle=_,N.fillRect(0,0,F,J),F>0&&J>0&&(C=i.ctx.createPattern(U,"repeat"),i.renderRepeat(T,C,O,q))):ZZ(u)&&(b=ry(n,r,[null,null,null]),T=b[0],R=b[1],k=b[2],F=b[3],J=b[4],ee=u.position.length===0?[CC]:u.position,O=et(ee[0],F),q=et(ee[ee.length-1],J),D=WZ(u,O,q,F,J),K=D[0],G=D[1],K>0&&G>0&&(ve=i.ctx.createRadialGradient(R+O,k+q,0,R+O,k+q,K),bI(u.stops,K*2).forEach(function(Qt){return ve.addColorStop(Qt.stop,Kt(Qt.color))}),i.path(T),i.ctx.fillStyle=ve,K!==G?(Ce=n.bounds.left+.5*n.bounds.width,Ie=n.bounds.top+.5*n.bounds.height,ot=G/K,lt=1/ot,i.ctx.save(),i.ctx.translate(Ce,Ie),i.ctx.transform(1,0,0,ot,0,0),i.ctx.translate(-Ce,-Ie),i.ctx.fillRect(R,lt*(k-Ie)+Ie,F,J*lt),i.ctx.restore()):i.ctx.fill())),gt.label=6;case 6:return r--,[2]}})},i=this,A=0,a=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<a.length?(o=a[A],[5,s(o)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Un(this,void 0,void 0,function(){return pn(this,function(i){return this.path(rU(s,r)),this.ctx.fillStyle=Kt(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Un(this,void 0,void 0,function(){var A,a;return pn(this,function(o){switch(o.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return o.sent(),[2];case 2:return A=nre(i,s),this.path(A),this.ctx.fillStyle=Kt(n),this.ctx.fill(),a=rre(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Un(this,void 0,void 0,function(){var r,s,i,A,a,o,c,u,h=this;return pn(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!zi(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=fre(za(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),zi(r.backgroundColor)||(this.ctx.fillStyle=Kt(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var m=Xp(n.curves),v=g.inset?0:ure,E=ere(m,-v+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(m),h.ctx.clip(),h.mask(E)):(h.mask(m),h.ctx.clip(),h.path(E)),h.ctx.shadowOffsetX=g.offsetX.number+v,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Kt(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Kt(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,o=0,c=i,f.label=3;case 3:return o<c.length?(u=c[o],u.style!==0&&!zi(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,A){return Un(this,void 0,void 0,function(){var a,o,c,u,h,f,g,m,v,E,x,y,w,Q,U,N,U,N;return pn(this,function(_){return this.ctx.save(),a=sre(i,s),o=rU(i,s),A===2&&(this.path(o),this.ctx.clip()),gr(o[0])?(c=o[0].start.x,u=o[0].start.y):(c=o[0].x,u=o[0].y),gr(o[1])?(h=o[1].end.x,f=o[1].end.y):(h=o[1].x,f=o[1].y),s===0||s===2?g=Math.abs(c-h):g=Math.abs(u-f),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),m=r<3?r*3:r*2,v=r<3?r*2:r,A===3&&(m=r,v=r),E=!0,g<=m*2?E=!1:g<=m*2+v?(x=g/(2*m+v),m*=x,v*=x):(y=Math.floor((g+v)/(m+v)),w=(g-y*m)/(y-1),Q=(g-(y+1)*m)/y,v=Q<=0||Math.abs(v-w)<Math.abs(v-Q)?w:Q),E&&(A===3?this.ctx.setLineDash([0,m+v]):this.ctx.setLineDash([m,v])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Kt(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(gr(o[0])&&(U=o[3],N=o[0],this.ctx.beginPath(),this.formatPath([new ie(U.end.x,U.end.y),new ie(N.start.x,N.start.y)]),this.ctx.stroke()),gr(o[1])&&(U=o[1],N=o[2],this.ctx.beginPath(),this.formatPath([new ie(U.end.x,U.end.y),new ie(N.start.x,N.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Un(this,void 0,void 0,function(){var r;return pn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Kt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=tre(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(T4),hre=function(t){return t instanceof c4||t instanceof l4?!0:t instanceof TC&&t.type!==$p&&t.type!==Gp},fre=function(t,e){switch(t){case 0:return Xp(e);case 2:return qne(e);case 1:default:return Yp(e)}},pre=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},gre=["-apple-system","system-ui"],mre=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return gre.indexOf(e)===-1}):t},yre=function(t){Vr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Un(this,void 0,void 0,function(){var r,s;return pn(this,function(i){switch(i.label){case 0:return r=mw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,vre(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Kt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(T4),vre=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},wre=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,xh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,xh([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,xh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,xh([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Bre=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new wre({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new One(this,e)}return t.instanceCount=1,t}(),xre=function(t,e){return e===void 0&&(e={}),Cre(t,e)};typeof window<"u"&&B4.setContext(window);var Cre=function(t,e){return Un(void 0,void 0,void 0,function(){var n,r,s,i,A,a,o,c,u,h,f,g,m,v,E,x,y,w,Q,U,_,N,_,C,b,T,R,k,F,J,ee,O,q,D,K,G,ve,Ce,Ie,ot;return pn(this,function(lt){switch(lt.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(C=e.allowTaint)!==null&&C!==void 0?C:!1,imageTimeout:(b=e.imageTimeout)!==null&&b!==void 0?b:15e3,proxy:e.proxy,useCORS:(T=e.useCORS)!==null&&T!==void 0?T:!1},i=nw({logging:(R=e.logging)!==null&&R!==void 0?R:!0,cache:e.cache},s),A={windowWidth:(k=e.windowWidth)!==null&&k!==void 0?k:r.innerWidth,windowHeight:(F=e.windowHeight)!==null&&F!==void 0?F:r.innerHeight,scrollX:(J=e.scrollX)!==null&&J!==void 0?J:r.pageXOffset,scrollY:(ee=e.scrollY)!==null&&ee!==void 0?ee:r.pageYOffset},a=new Zs(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new Bre(i,a),c=(O=e.foreignObjectRendering)!==null&&O!==void 0?O:!1,u={allowTaint:(q=e.allowTaint)!==null&&q!==void 0?q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new eU(o,t,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=lt.sent(),m=IC(f)||Ene(f)?eJ(f.ownerDocument):im(o,f),v=m.width,E=m.height,x=m.left,y=m.top,w=Ere(o,f,e.backgroundColor),Q={canvas:e.canvas,backgroundColor:w,scale:(K=(D=e.scale)!==null&&D!==void 0?D:r.devicePixelRatio)!==null&&K!==void 0?K:1,x:((G=e.x)!==null&&G!==void 0?G:0)+x,y:((ve=e.y)!==null&&ve!==void 0?ve:0)+y,width:(Ce=e.width)!==null&&Ce!==void 0?Ce:Math.ceil(v),height:(Ie=e.height)!==null&&Ie!==void 0?Ie:Math.ceil(E)},c?(o.logger.debug("Document cloned, using foreign object rendering"),_=new yre(o,Q),[4,_.render(f)]):[3,3];case 2:return U=lt.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+x+","+y+" with size "+v+"x"+E+" using computed rendering"),o.logger.debug("Starting DOM parsing"),N=h4(o,f),w===N.styles.backgroundColor&&(N.styles.backgroundColor=Ls.TRANSPARENT),o.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),_=new dre(o,Q),[4,_.render(N)];case 4:U=lt.sent(),lt.label=5;case 5:return(!((ot=e.removeContainer)!==null&&ot!==void 0)||ot)&&(eU.destroy(g)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,U]}})})},Ere=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?Gc(t,getComputedStyle(r.documentElement).backgroundColor):Ls.TRANSPARENT,i=r.body?Gc(t,getComputedStyle(r.body).backgroundColor):Ls.TRANSPARENT,A=typeof n=="string"?Gc(t,n):n===null?Ls.TRANSPARENT:4294967295;return e===r.documentElement?zi(s)?zi(i)?A:i:s:A},_re=Object.defineProperty,Zp=Object.getOwnPropertySymbols,I4=Object.prototype.hasOwnProperty,U4=Object.prototype.propertyIsEnumerable,iU=(t,e,n)=>e in t?_re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bre=(t,e)=>{for(var n in e||(e={}))I4.call(e,n)&&iU(t,n,e[n]);if(Zp)for(var n of Zp(e))U4.call(e,n)&&iU(t,n,e[n]);return t},Tre=(t,e)=>{var n={};for(var r in t)I4.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zp)for(var r of Zp(t))e.indexOf(r)<0&&U4.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ha;(t=>{const e=class{constructor(o,c,u,h){if(this.version=o,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),h==-1){let m=1e9;for(let v=0;v<8;v++){this.applyMask(v),this.drawFormatBits(v);const E=this.getPenaltyScore();E<m&&(h=v,m=E),this.applyMask(v)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(o,c){const u=t.QrSegment.makeSegments(o);return e.encodeSegments(u,c)}static encodeBinary(o,c){const u=t.QrSegment.makeBytes(o);return e.encodeSegments([u],c)}static encodeSegments(o,c,u=1,h=40,f=-1,g=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,v;for(m=u;;m++){const w=e.getNumDataCodewords(m,c)*8,Q=a.getTotalBits(o,m);if(Q<=w){v=Q;break}if(m>=h)throw new RangeError("Data too long")}for(const w of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&v<=e.getNumDataCodewords(m,w)*8&&(c=w);let E=[];for(const w of o){r(w.mode.modeBits,4,E),r(w.numChars,w.mode.numCharCountBits(m),E);for(const Q of w.getData())E.push(Q)}i(E.length==v);const x=e.getNumDataCodewords(m,c)*8;i(E.length<=x),r(0,Math.min(4,x-E.length),E),r(0,(8-E.length%8)%8,E),i(E.length%8==0);for(let w=236;E.length<x;w^=253)r(w,8,E);let y=[];for(;y.length*8<E.length;)y.push(0);return E.forEach((w,Q)=>y[Q>>>3]|=w<<7-(Q&7)),new e(m,c,y,f)}getModule(o,c){return 0<=o&&o<this.size&&0<=c&&c<this.size&&this.modules[c][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),c=o.length;for(let u=0;u<c;u++)for(let h=0;h<c;h++)u==0&&h==0||u==0&&h==c-1||u==c-1&&h==0||this.drawAlignmentPattern(o[u],o[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const c=this.errorCorrectionLevel.formatBits<<3|o;let u=c;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const h=(c<<10|u)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let u=0;u<12;u++)o=o<<1^(o>>>11)*7973;const c=this.version<<12|o;i(c>>>18==0);for(let u=0;u<18;u++){const h=s(c,u),f=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(f,g,h),this.setFunctionModule(g,f,h)}}drawFinderPattern(o,c){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(u)),g=o+h,m=c+u;0<=g&&g<this.size&&0<=m&&m<this.size&&this.setFunctionModule(g,m,f!=2&&f!=4)}}drawAlignmentPattern(o,c){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(o+h,c+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(o,c,u){this.modules[c][o]=u,this.isFunction[c][o]=!0}addEccAndInterleave(o){const c=this.version,u=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(c,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c],g=Math.floor(e.getNumRawDataModules(c)/8),m=h-g%h,v=Math.floor(g/h);let E=[];const x=e.reedSolomonComputeDivisor(f);for(let w=0,Q=0;w<h;w++){let U=o.slice(Q,Q+v-f+(w<m?0:1));Q+=U.length;const N=e.reedSolomonComputeRemainder(U,x);w<m&&U.push(0),E.push(U.concat(N))}let y=[];for(let w=0;w<E[0].length;w++)E.forEach((Q,U)=>{(w!=v-f||U>=m)&&y.push(Q[w])});return i(y.length==g),y}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const g=u-f,v=(u+1&2)==0?this.size-1-h:h;!this.isFunction[v][g]&&c<o.length*8&&(this.modules[v][g]=s(o[c>>>3],7-(c&7)),c++)}}i(c==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let u=0;u<this.size;u++){let h;switch(o){case 0:h=(u+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+c)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(c/2))%2==0;break;case 5:h=u*c%2+u*c%3==0;break;case 6:h=(u*c%2+u*c%3)%2==0;break;case 7:h=((u+c)%2+u*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][u]&&h&&(this.modules[c][u]=!this.modules[c][u])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let g=!1,m=0,v=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[f][E]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,v),g||(o+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),g=this.modules[f][E],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,v)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,m=0,v=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][f]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,v),g||(o+=this.finderPenaltyCountPatterns(v)*e.PENALTY_N3),g=this.modules[E][f],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,v)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const m=this.modules[f][g];m==this.modules[f][g+1]&&m==this.modules[f+1][g]&&m==this.modules[f+1][g+1]&&(o+=e.PENALTY_N2)}let c=0;for(const f of this.modules)c=f.reduce((g,m)=>g+(m?1:0),c);const u=this.size*this.size,h=Math.ceil(Math.abs(c*20-u*10)/u)-1;return i(0<=h&&h<=9),o+=h*e.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let u=[6];for(let h=this.size-7;u.length<o;h-=c)u.splice(1,0,h);return u}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*o+128)*o+64;if(o>=2){const u=Math.floor(o/7)+2;c-=(25*u-10)*u-55,o>=7&&(c-=36)}return i(208<=c&&c<=29648),c}static getNumDataCodewords(o,c){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<o-1;h++)c.push(0);c.push(1);let u=1;for(let h=0;h<o;h++){for(let f=0;f<c.length;f++)c[f]=e.reedSolomonMultiply(c[f],u),f+1<c.length&&(c[f]^=c[f+1]);u=e.reedSolomonMultiply(u,2)}return c}static reedSolomonComputeRemainder(o,c){let u=c.map(h=>0);for(const h of o){const f=h^u.shift();u.push(0),c.forEach((g,m)=>u[m]^=e.reedSolomonMultiply(g,f))}return u}static reedSolomonMultiply(o,c){if(o>>>8||c>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(c>>>h&1)*o;return i(u>>>8==0),u}finderPenaltyCountPatterns(o){const c=o[1];i(c<=this.size*3);const u=c>0&&o[2]==c&&o[3]==c*3&&o[4]==c&&o[5]==c;return(u&&o[0]>=c*4&&o[6]>=c?1:0)+(u&&o[6]>=c*4&&o[0]>=c?1:0)}finderPenaltyTerminateAndCount(o,c,u){return o&&(this.finderPenaltyAddHistory(c,u),c=0),c+=this.size,this.finderPenaltyAddHistory(c,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(o,c){c[0]==0&&(o+=this.size),c.pop(),c.unshift(o)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(o,c,u){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let h=c-1;h>=0;h--)u.push(o>>>h&1)}function s(o,c){return(o>>>c&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const A=class{constructor(o,c,u){if(this.mode=o,this.numChars=c,this.bitData=u,c<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(o){let c=[];for(const u of o)r(u,8,c);return new A(A.Mode.BYTE,o.length,c)}static makeNumeric(o){if(!A.isNumeric(o))throw new RangeError("String contains non-numeric characters");let c=[];for(let u=0;u<o.length;){const h=Math.min(o.length-u,3);r(parseInt(o.substr(u,h),10),h*3+1,c),u+=h}return new A(A.Mode.NUMERIC,o.length,c)}static makeAlphanumeric(o){if(!A.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],u;for(u=0;u+2<=o.length;u+=2){let h=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;h+=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),r(h,11,c)}return u<o.length&&r(A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,c),new A(A.Mode.ALPHANUMERIC,o.length,c)}static makeSegments(o){return o==""?[]:A.isNumeric(o)?[A.makeNumeric(o)]:A.isAlphanumeric(o)?[A.makeAlphanumeric(o)]:[A.makeBytes(A.toUtf8ByteArray(o))]}static makeEci(o){let c=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,c);else if(o<16384)r(2,2,c),r(o,14,c);else if(o<1e6)r(6,3,c),r(o,21,c);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,c)}static isNumeric(o){return A.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return A.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,c){let u=0;for(const h of o){const f=h.mode.numCharCountBits(c);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u}static toUtf8ByteArray(o){o=encodeURI(o);let c=[];for(let u=0;u<o.length;u++)o.charAt(u)!="%"?c.push(o.charCodeAt(u)):(c.push(parseInt(o.substr(u+1,2),16)),u+=2);return c}};let a=A;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(ha||(ha={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(ha||(ha={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(ha||(ha={}));var wc=ha;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Ire={L:wc.QrCode.Ecc.LOW,M:wc.QrCode.Ecc.MEDIUM,Q:wc.QrCode.Ecc.QUARTILE,H:wc.QrCode.Ecc.HIGH},Ure=128,Fre="L",Sre="#FFFFFF",Qre="#000000",Nre=!1,F4=4,kre=.1;function Rre(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(A,a){if(!A&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!A)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}A&&i===null&&(i=a)})}),n.join("")}function Pre(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function Dre(t,e,n,r){if(r==null)return null;const s=n?F4:0,i=t.length+s*2,A=Math.floor(e*kre),a=i/e,o=(r.width||A)*a,c=(r.height||A)*a,u=r.x==null?t.length/2-o/2:r.x*a,h=r.y==null?t.length/2-c/2:r.y*a;let f=null;if(r.excavate){let g=Math.floor(u),m=Math.floor(h),v=Math.ceil(o+u-g),E=Math.ceil(c+h-m);f={x:g,y:m,w:v,h:E}}return{x:u,y:h,h:c,w:o,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function Lre(t){const e=t,{value:n,size:r=Ure,level:s=Fre,bgColor:i=Sre,fgColor:A=Qre,includeMargin:a=Nre,imageSettings:o}=e,c=Tre(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=wc.QrCode.encodeText(n,Ire[s]).getModules();const h=a?F4:0,f=u.length+h*2,g=Dre(u,r,a,o);let m=null;o!=null&&g!=null&&(g.excavation!=null&&(u=Pre(u,g.excavation)),m=Ze.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));const v=Rre(u,h);return Ze.createElement("svg",bre({height:r,width:r,viewBox:`0 0 ${f} ${f}`},c),Ze.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),Ze.createElement("path",{fill:A,d:v,shapeRendering:"crispEdges"}),m)}const Mre=({bookingData:t,settings:e,selectedDate:n,selectedTime:r,onDownload:s})=>{var a;const i=(a=e.serviceTypes.find(o=>o.id===t.service))==null?void 0:a.name,A=Dp(n)?Xe(n,"dd/MM/yyyy"):"";return A?l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsxs("div",{id:"ticket",className:"relative bg-[#f8f4e9] aspect-[9/16] rounded-2xl overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"bg-gradient-to-b from-[--theater-red] to-red-700 text-white p-6 text-center",children:[l.jsx(As,{className:"w-12 h-12 mx-auto mb-2"}),l.jsx("h1",{className:"text-2xl font-bold mb-1",children:e.eventName}),l.jsx("p",{className:"text-sm opacity-80",children:e.company.name})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-inner",children:[l.jsx(Lre,{value:t.ticketNumber,size:150,bgColor:"#ffffff",fgColor:"#D22B2B",level:"H",includeMargin:!1}),l.jsx("div",{className:"mt-2 text-center font-mono text-sm text-[--theater-red]",children:t.ticketNumber})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(_n,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Data"}),l.jsx("div",{className:"font-semibold",children:A})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(Xs,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Orario"}),l.jsx("div",{className:"font-semibold",children:r})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(As,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Servizio"}),l.jsx("div",{className:"font-semibold",children:i})]})]}),l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[l.jsx(wa,{className:"w-5 h-5 text-[--theater-red]"}),l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Cliente"}),l.jsxs("div",{className:"font-semibold truncate",children:[t.firstName," ",t.lastName]}),l.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.email})]})]})]}),l.jsxs("div",{className:"text-center text-sm text-gray-600 mt-auto",children:[l.jsx(_9,{className:"w-4 h-4 mx-auto mb-1"}),l.jsx("p",{children:e.company.address})]})]}),l.jsx("div",{className:"absolute top-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute top-0 right-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute bottom-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),l.jsx("div",{className:"absolute bottom-0 right-4 w-2 h-2 bg-gray-800 rounded-full"})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 print:hidden",children:[t.calendarLinks&&l.jsxs(l.Fragment,{children:[l.jsxs("a",{href:t.calendarLinks.google,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[l.jsx(gb,{className:"w-4 h-4"}),"Google Calendar"]}),l.jsxs("a",{href:t.calendarLinks.ical,download:"prenotazione.ics",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[l.jsx(gb,{className:"w-4 h-4"}),"iCal/Outlook"]})]}),l.jsxs("button",{onClick:s,className:"col-span-2 flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(Mc,{className:"w-4 h-4"}),"Scarica Biglietto"]})]})]}):(console.error("Invalid date provided to TicketCard"),null)},jre=({type:t,ticketNumber:e,onComplete:n})=>{const r={classic:{stamp:{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:12}},text:{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}}},modern:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},stamp:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20}},circle:{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}},vintage:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},stamp:{initial:{scale:1.5,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15}}}};return Ze.useEffect(()=>{const s=setTimeout(n,2e3);return()=>clearTimeout(s)},[n]),t==="classic"?l.jsx($.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:l.jsx($.div,{...r.classic.stamp,className:"bg-red-600 text-white p-8 rounded-lg shadow-xl transform",children:l.jsxs($.div,{...r.classic.text,children:[l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Prenotazione Confermata!"}),l.jsxs("p",{className:"text-lg",children:["Ticket #",e]})]})})}):t==="modern"?l.jsx($.div,{...r.modern.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:l.jsxs($.div,{...r.modern.stamp,className:"bg-gradient-to-br from-blue-500 to-purple-600 p-8 rounded-xl shadow-2xl text-white",children:[l.jsxs("svg",{className:"w-24 h-24 mx-auto mb-4",viewBox:"0 0 100 100",children:[l.jsx($.circle,{...r.modern.circle,cx:"50",cy:"50",r:"45",stroke:"white",strokeWidth:"2",fill:"none"}),l.jsx($.path,{...r.modern.circle,d:"M 30 50 L 45 65 L 70 35",stroke:"white",strokeWidth:"3",fill:"none"})]}),l.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Confermato"}),l.jsxs("p",{className:"text-center opacity-90",children:["#",e]})]})}):l.jsx($.div,{...r.vintage.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:l.jsx($.div,{...r.vintage.stamp,className:"bg-[#f8e5b9] p-8 rounded-lg border-4 border-[#8b4513] shadow-xl transform",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Cpath d="M0 0h20L0 20z"/%3E%3C/g%3E%3C/svg%3E")'},children:l.jsxs("div",{className:"text-[#8b4513] text-center",children:[l.jsx("h2",{className:"text-3xl font-serif mb-2",children:"APPROVATO"}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),l.jsx("p",{className:"font-mono",children:e}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),l.jsx("p",{className:"text-sm font-serif",children:"Carnevale Cinematografico"})]})})})},Ore=t=>jn.object({firstName:jn.string().min(2,"Nome richiesto"),lastName:jn.string().min(2,"Cognome richiesto"),email:jn.string().email("Email non valida"),phone:jn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service:jn.enum(t,{required_error:"Seleziona un tipo di servizio"}),notes:jn.string().optional()}),Hre=({existingBookings:t=[]})=>{const{settings:e,loading:n}=vA(),[r,s]=I.useState(null),[i,A]=I.useState(""),[a,o]=I.useState(!1),[c,u]=I.useState(""),[h,f]=I.useState(null),[g,m]=I.useState(null),[v,E]=I.useState(!1),[x,y]=I.useState(!1),[w,Q]=I.useState(null),[U,N]=I.useState(""),_=(e==null?void 0:e.serviceTypes.filter(D=>D.enabled).map(D=>D.id))||[],C=Ore(_),{register:b,handleSubmit:T,formState:{errors:R},reset:k,setValue:F}=rR({resolver:iR(C)});I.useEffect(()=>{if(e!=null&&e.serviceTypes&&!c){const D=e.serviceTypes.filter(K=>K.enabled);if(D.length>0){const K=D[0];u(K.id),F("service",K.id)}}},[e==null?void 0:e.serviceTypes,c,F]);const J=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,ee=(D,K)=>{const G=new Date(Date.UTC(D.getFullYear(),D.getMonth(),D.getDate()));s(G),A(K)},O=async D=>new Promise(K=>{var Ce;const G=document.createElement("div");document.body.appendChild(G);const ve=vB(G);ve.render(l.jsx(jre,{type:((Ce=e==null?void 0:e.ticketTemplate)==null?void 0:Ce.type)||"classic",ticketNumber:D,onComplete:()=>{ve.unmount(),document.body.removeChild(G),K()}}))}),q=async D=>{var K,G;if(!r||!i||!e){m("Seleziona data e ora per la prenotazione");return}if(!wY(D.phone)){m("Inserisci un numero di telefono italiano valido (9-10 cifre)");return}E(!0),m(null);try{const ve=yY(D.phone),Ce=r.toISOString().split("T")[0],Ie=J(),ot=new Date(`${Ce}T${i}`),lt=new Date(ot.getTime()+e.bookingIntervals*6e4),gt=((K=e.serviceTypes.find(wA=>wA.id===D.service))==null?void 0:K.name)||"Servizio Fotografico",Qt=mY(e.eventName,`${gt}
Prenotazione: ${Ie}
Nome: ${D.firstName} ${D.lastName}`,ot,lt);await Mr(Ft(me,"bookings"),{firstName:D.firstName,lastName:D.lastName,email:D.email,phone:ve,service_type:D.service,booking_date:Ce,booking_time:i,ticket_number:Ie,notes:D.notes,status:"pending",created_at:Kn()}),Q(r),N(i),f({...D,ticketNumber:Ie,calendarLinks:Qt}),(G=e.ticketTemplate)!=null&&G.enabled&&await O(Ie),y(!0),o(!0),k(),s(null),A("")}catch(ve){console.error("Error creating booking:",ve),m(ve.message||"Errore durante la prenotazione. Riprova pi tardi.")}finally{E(!1)}};return n?l.jsx("div",{className:"text-center text-white",children:"Caricamento..."}):x&&a&&h&&h.ticketNumber&&e&&w?l.jsx("div",{className:"max-w-3xl mx-auto p-4",children:l.jsx(Mre,{bookingData:h,settings:e,selectedDate:w,selectedTime:U,onDownload:()=>{const D=document.getElementById("ticket");D&&xre(D,{scale:2,backgroundColor:"#f8f4e9",logging:!1,useCORS:!0,allowTaint:!0,onclone:K=>{const G=K.getElementById("ticket");G&&(G.style.display="block",G.style.width="800px",G.style.height="auto")}}).then(K=>{const G=document.createElement("a");G.download=`biglietto-${h.ticketNumber}.jpg`,G.href=K.toDataURL("image/jpeg",.95),G.click()})}})}):l.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("select",{...b("service"),value:c,onChange:D=>{u(D.target.value),F("service",D.target.value)},className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",children:[l.jsx("option",{value:"",children:"Seleziona servizio"}),e==null?void 0:e.serviceTypes.filter(D=>D.enabled).map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))]}),R.service&&l.jsx("p",{className:"text-red-500 mt-1",children:R.service.message})]}),l.jsx(ZY,{onSlotSelect:ee,selectedDate:r,selectedTime:i,selectedService:c})]}),l.jsxs("form",{onSubmit:T(q),className:"space-y-6",children:[g&&l.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:g}),r&&i&&l.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded mb-4",children:["Hai selezionato: ",r.toLocaleDateString()," alle ",i]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Nome"}),l.jsx("input",{...b("firstName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Mario"}),R.firstName&&l.jsx("p",{className:"text-red-500 mt-1",children:R.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Cognome"}),l.jsx("input",{...b("lastName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Rossi"}),R.lastName&&l.jsx("p",{className:"text-red-500 mt-1",children:R.lastName.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Email"}),l.jsx("input",{type:"email",...b("email"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"mario.rossi@example.com"}),R.email&&l.jsx("p",{className:"text-red-500 mt-1",children:R.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",...b("phone"),className:"w-full pl-10 p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Inserisci il numero senza prefisso (es: 3401234567)"})]}),R.phone&&l.jsx("p",{className:"text-red-500 mt-1",children:R.phone.message}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inserisci solo le cifre del numero senza prefisso internazionale"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-white mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{...b("notes"),rows:3,className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none"})]}),l.jsx("button",{type:"submit",disabled:v||!r||!i,className:"w-full bg-[--theater-red] text-white py-3 px-6 rounded-full hover:bg-red-700 transition-colors text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Conferma in corso...":"Conferma Prenotazione"})]})]})},Vre=({type:t,title:e,subtitle:n,onComplete:r})=>{const s={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},curtainLeft:{initial:{scaleX:1,transformOrigin:"left"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},curtainRight:{initial:{scaleX:1,transformOrigin:"right"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},content:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5}}},i={container:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5}},content:{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8}}},A={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},content:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100}}};return Ze.useEffect(()=>{const a=setTimeout(r,4e3);return()=>clearTimeout(a)},[r]),t==="curtain"?l.jsxs($.div,{...s.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:[l.jsx($.div,{...s.curtainLeft,className:"absolute top-0 left-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:l.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-black/40 to-transparent"})}),l.jsx($.div,{...s.curtainRight,className:"absolute top-0 right-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:l.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-black/40 to-transparent"})}),l.jsxs($.div,{...s.content,className:"text-center z-10",children:[l.jsx(As,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx($.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,times:[0,.5,1],repeat:1},className:"text-white text-2xl",children:n})]})]}):t==="fade"?l.jsx($.div,{...i.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:l.jsxs($.div,{...i.content,className:"text-center",children:[l.jsx(As,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx("p",{className:"text-white text-2xl",children:n})]})}):l.jsx($.div,{...A.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:l.jsxs($.div,{...A.content,className:"text-center",children:[l.jsx(As,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),l.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),l.jsx("p",{className:"text-white text-2xl",children:n})]})})},Kre=({targetDate:t,eventName:e})=>{const[n,r]=I.useState({days:0,hours:0,minutes:0,seconds:0});return I.useEffect(()=>{const s=setInterval(()=>{const i=new Date(t),A=new Date;r({days:yR(i,A),hours:qq(i,A)%24,minutes:Xq(i,A)%60,seconds:Yq(i,A)%60})},1e3);return()=>clearInterval(s)},[t]),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h2",{className:"text-2xl text-white text-center",children:[e," inizia tra:"]}),l.jsx("div",{className:"flex justify-center gap-4 text-white",children:Object.entries(n).map(([s,i])=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"bg-[--theater-red] rounded-lg p-3 min-w-[80px]",children:l.jsx("span",{className:"text-2xl font-bold",children:i})}),l.jsx("div",{className:"text-sm mt-1 capitalize",children:s})]},s))})]})},zre=()=>{var f,g;const{settings:t,loading:e}=vA(),[n,r]=I.useState(!0),[s,i]=I.useState(!1),[A,a]=I.useState([]),[o,c]=I.useState(!0),[u,h]=I.useState(null);return I.useEffect(()=>{var m;if((m=t==null?void 0:t.animation)!=null&&m.enabled){const v=setTimeout(()=>r(!1),4e3);return()=>clearTimeout(v)}else r(!1)},[(f=t==null?void 0:t.animation)==null?void 0:f.enabled]),I.useEffect(()=>{(async()=>{try{const v=new Date().toISOString().split("T")[0],E=Ft(me,"bookings"),x=ds(E,Ji("booking_date","==",v)),w=(await zo(x)).docs.map(Q=>({id:Q.id,...Q.data()}));a(w),h(null)}catch(v){console.error("Error loading bookings:",v),h("Errore nel caricamento delle prenotazioni")}finally{c(!1)}})()},[]),e||o?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white text-xl flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):u?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-6 rounded-lg max-w-md w-full flex items-center gap-3",children:[l.jsx(Vt,{size:24}),l.jsx("p",{children:u})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx(ln,{children:n&&((g=t==null?void 0:t.animation)==null?void 0:g.enabled)&&l.jsx(Vre,{type:t.animation.type,title:t.animation.title||"Carnevale 2025",subtitle:t.animation.subtitle||"3... 2... 1...",onComplete:()=>r(!1)})}),l.jsx($.div,{initial:{opacity:0},animate:{opacity:n?0:1},transition:{duration:.5},children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("header",{className:"mb-12",children:[l.jsxs($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-center items-center mb-8",children:[t!=null&&t.company.logo?l.jsx("img",{src:t.company.logo,alt:t.company.name,className:"w-12 h-12 object-contain"}):l.jsx(As,{className:"w-12 h-12 text-[--theater-gold]"}),l.jsx("h1",{className:"text-4xl md:text-5xl font-marquee text-[--theater-gold] ml-4",children:(t==null?void 0:t.company.name)||"Image Studio"})]}),(t==null?void 0:t.showCountdown)&&l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:l.jsx(Kre,{targetDate:t.countdownDate,eventName:t.eventName})})]}),l.jsxs("main",{className:"max-w-6xl mx-auto",children:[l.jsx($.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl md:text-4xl text-white text-center mb-8 font-marquee",children:"Prenota il tuo servizio fotografico"}),l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-800 rounded-lg shadow-xl p-4 md:p-8",children:l.jsx(Hre,{existingBookings:A})})]}),l.jsx($.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 text-center text-gray-400",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm md:text-base",children:t==null?void 0:t.company.address}),(t==null?void 0:t.company.phone)&&l.jsxs("p",{className:"text-sm md:text-base",children:["Tel: ",t.company.phone]}),(t==null?void 0:t.company.email)&&l.jsxs("p",{className:"text-sm md:text-base",children:["Email: ",t.company.email]})]})})]})}),l.jsx("button",{onClick:()=>i(!s),className:"fixed bottom-4 right-4 z-50 md:hidden bg-[--theater-gold] text-black p-4 rounded-full shadow-lg",children:l.jsx(_n,{className:"w-6 h-6"})}),l.jsx(ln,{children:s&&l.jsx($.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed inset-x-0 bottom-0 z-40 md:hidden bg-gray-800 border-t border-gray-700 p-4 rounded-t-xl shadow-xl",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-white font-semibold",children:"Menu Rapido"}),l.jsx("nav",{className:"grid grid-cols-2 gap-4",children:t==null?void 0:t.serviceTypes.map(m=>l.jsx("button",{onClick:()=>{var v;i(!1),(v=document.querySelector("form"))==null||v.scrollIntoView({behavior:"smooth"})},className:"p-3 bg-gray-700 rounded-lg text-white text-sm hover:bg-gray-600 transition-colors",children:m.name},m.id))})]})})})]})},Gre=({searchTerm:t,statusFilter:e,serviceFilter:n,serviceTypes:r=[],onSearchChange:s,onStatusFilterChange:i,onServiceFilterChange:A})=>{const{statuses:a=[]}=gd();return l.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx($g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per nome, email, telefono o ticket...",value:t,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mp,{className:"text-gray-400 flex-shrink-0"}),l.jsxs("select",{value:e,onChange:o=>i(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),a.filter(o=>o.enabled).map(o=>l.jsx("option",{value:o.id,children:o.name},o.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_n,{className:"text-gray-400 flex-shrink-0"}),l.jsxs("select",{value:n,onChange:o=>A(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti i servizi"}),r.filter(o=>o.enabled).map(o=>l.jsx("option",{value:o.id,children:o.name},o.id))]})]})]})},$re=({booking:t,onEdit:e,onDelete:n,getServiceLabel:r,getStatusColor:s,onClick:i,isSelected:A})=>{const{getStatusName:a}=gd();return l.jsxs("tr",{onClick:i,className:`border-b border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors ${A?"bg-gray-700/50":""}`,children:[l.jsxs("td",{className:"p-4 text-white",children:[l.jsx("div",{className:"font-medium",children:Xe(new Date(t.booking_date),"dd/MM/yyyy")}),l.jsx("div",{className:"text-sm text-gray-400",children:t.booking_time})]}),l.jsx("td",{className:"p-4 text-white",children:l.jsxs("div",{className:"font-medium",children:[t.firstName," ",t.lastName]})}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-blue-400 hover:text-blue-300",children:[l.jsx(wa,{size:16}),t.email]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-1 text-green-400 hover:text-green-300",children:[l.jsx(fl,{size:16}),t.phone]}),l.jsx("a",{href:vY(t.phone),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1 bg-green-600 text-white rounded-full hover:bg-green-700",title:"Contatta su WhatsApp",children:l.jsx(b9,{size:16})})]})]})}),l.jsx("td",{className:"p-4 text-white",children:r(t.service_type)}),l.jsx("td",{className:"p-4 text-white font-mono",children:t.ticket_number}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:s(t.status)},children:a(t.status)})}),l.jsx("td",{className:"p-4 text-white text-sm",children:t.notes||"-"}),l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:o=>{o.stopPropagation(),e()},className:"p-2 text-yellow-400 hover:text-yellow-300 transition-colors",title:"Modifica prenotazione",children:l.jsx(yN,{size:20})}),l.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Elimina prenotazione",children:l.jsx(eA,{size:20})})]})})]})},Wre=({booking:t,editedBooking:e,serviceTypes:n,bookingStatuses:r,onClose:s,onSave:i,onChange:A})=>{const{statuses:a}=gd(),[o,c]=I.useState(!1),[u,h]=I.useState(null),[f,g]=I.useState(!1),m=async v=>{v.preventDefault(),c(!0),h(null),g(!1);try{const E=Je(me,"bookings",t.id),x={...e,updated_at:new Date().toISOString()};Object.keys(x).forEach(y=>x[y]===void 0&&delete x[y]),await Ws(E,x),g(!0),setTimeout(()=>{i()},1500)}catch(E){console.error("Error updating booking:",E),h("Errore durante l'aggiornamento della prenotazione"),c(!1)}};return l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:l.jsx(Rn,{size:24})}),l.jsxs("h2",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(S9,{className:"text-[--theater-gold]"}),"Modifica Prenotazione"]}),u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Vt,{size:20}),u]}),f&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(xn,{size:20}),"Prenotazione aggiornata con successo!"]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),l.jsxs("div",{className:"relative",children:[l.jsx(_n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"date",value:e.booking_date||t.booking_date,onChange:v=>A({booking_date:v.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Ora"}),l.jsxs("div",{className:"relative",children:[l.jsx(Xs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"time",value:e.booking_time||t.booking_time,onChange:v=>A({booking_time:v.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),l.jsx("input",{type:"text",value:e.firstName||t.firstName,onChange:v=>A({firstName:v.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),l.jsx("input",{type:"text",value:e.lastName||t.lastName,onChange:v=>A({lastName:v.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"email",value:e.email||t.email,onChange:v=>A({email:v.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",value:e.phone||t.phone,onChange:v=>A({phone:v.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),l.jsx("select",{value:e.service_type||t.service_type,onChange:v=>A({service_type:v.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:n.filter(v=>v.enabled).map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Stato"}),l.jsx("select",{value:e.status||t.status,onChange:v=>A({status:v.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:a.filter(v=>v.enabled).map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note"}),l.jsxs("div",{className:"relative",children:[l.jsx(Sx,{className:"absolute left-3 top-3 text-gray-400",size:20}),l.jsx("textarea",{value:e.notes||t.notes||"",onChange:v=>A({notes:v.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[l.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",disabled:o,children:"Annulla"}),l.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xn,{size:20}),"Salva Modifiche"]})})]})]})]})})},qre=async(t,e)=>{const n=e.reduce((s,i)=>s+i.price*i.quantity,0),r={bookingId:t,items:e,totalAmount:n,paidAmount:0,balance:n,status:"pending",createdAt:Kn()};try{return{id:(await Mr(Ft(me,"orders"),r)).id,...r}}catch(s){throw console.error("Error creating order:",s),s}},Ew=async(t,e)=>{try{const n=Je(me,"orders",t);await Ws(n,{...e,updatedAt:Kn()})}catch(n){throw console.error("Error updating order:",n),n}},Xre=async(t,e,n,r)=>{try{const s=Je(me,"orders",t),i=await hs(s);if(!i.exists())throw new Error("Ordine non trovato");const A=i.data(),a=(A.paidAmount||0)+e,o=A.totalAmount-a,c=o<=0?"paid":o<A.totalAmount?"partial":"pending",u={orderId:t,amount:e,method:n,notes:r,date:Kn(),createdAt:Kn()};await Mr(Ft(me,"payment_history"),u),await Ws(s,{paidAmount:a,balance:o,status:c,paymentDate:Kn(),updatedAt:Kn()})}catch(s){throw console.error("Error recording payment:",s),s}},Yre=async(t,e)=>{try{const n=Je(me,"payment_history",e),r=await hs(n);if(!r.exists())throw new Error("Pagamento non trovato");const s=r.data(),i=Je(me,"orders",t),A=await hs(i);if(!A.exists())throw new Error("Ordine non trovato");const a=A.data(),o=a.paidAmount-s.amount,c=a.totalAmount-o,u=o===0?"pending":o<a.totalAmount?"partial":"paid";await Ws(i,{paidAmount:o,balance:c,status:u,updatedAt:Kn()}),await xx(n)}catch(n){throw console.error("Error deleting payment:",n),n}},S4=async t=>{try{if(!(await hs(Je(me,"orders",t))).exists())throw new Error("Ordine non trovato");const n=Ft(me,"payment_history"),r=ds(n,Ji("orderId","==",t));try{return(await zo(r)).docs.map(i=>{var A;return{id:i.id,...i.data(),date:(A=i.data().date)==null?void 0:A.toDate()}})}catch(s){return console.error("Error fetching payment history:",s),[]}}catch(e){return console.error("Error checking order:",e),[]}},Jre=async(t,e,n,r)=>{var s,i;try{const A=(r==null?void 0:r.whatsappTemplate)||{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*
`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`};let a=A.header.replace("{firstName}",e.firstName||"").replace("{lastName}",e.lastName||"").replace("{ticketNumber}",e.ticket_number||"");t.items.length>0&&(t.items.forEach((c,u)=>{const h=n.find(f=>f.id===c.productId);h&&(a+=A.productFormat.replace("{index}",(u+1).toString()).replace("{productName}",h.name).replace("{quantity}",c.quantity.toString()).replace("{price}",c.price.toFixed(2)).replace("{total}",(c.price*c.quantity).toFixed(2)))}),a+=`
* TOTALE ORDINE:* ${t.totalAmount.toFixed(2)}`);try{const c=await S4(t.id);c.length>0&&(a+=`

* ACCONTI VERSATI*
`,c.forEach((u,h)=>{a+=A.paymentFormat.replace("{index}",(h+1).toString()).replace("{date}",u.date.toLocaleDateString()).replace("{method}",Zre(u.method)).replace("{amount}",u.amount.toFixed(2))}),t.balance>0&&(a+=`
* SALDO RIMANENTE:* ${t.balance.toFixed(2)}`))}catch(c){console.error("Error adding payment history to receipt:",c)}return a+=A.footer.replace("{address}",((s=r==null?void 0:r.company)==null?void 0:s.address)||"Via Quinto Orazio Flacco 5, Aversa").replace("{phone}",((i=r==null?void 0:r.company)==null?void 0:i.phone)||""),`https://wa.me/39${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(a)}`}catch(A){throw console.error("Error generating receipt:",A),new Error("Errore nella generazione della ricevuta WhatsApp")}},Zre=t=>{switch(t){case"cash":return"Contanti";case"card":return"Carta";case"transfer":return"Bonifico";default:return t}},ese=({order:t,isOpen:e,onClose:n})=>{const[r,s]=I.useState(t.notes||""),[i,A]=I.useState(!1),[a,o]=I.useState(null),c=async()=>{A(!0),o(null);try{await Ew(t.id,{notes:r}),n()}catch(u){console.error("Error saving notes:",u),o("Errore durante il salvataggio delle note")}finally{A(!1)}};return l.jsx(ln,{children:e&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(Lc,{className:"text-[--theater-gold]"}),"Note Ordine"]}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:l.jsx(Rn,{size:24})})]}),a&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6",children:a}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:r,onChange:u=>s(u.target.value),className:"w-full h-48 p-4 bg-gray-700 border border-gray-600 rounded text-white resize-none",placeholder:"Inserisci le note per questo ordine..."}),l.jsxs("div",{className:"flex justify-end gap-4",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:c,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Gg,{size:20}),"Salva Note"]})})]})]})]})})})},tse=({bookingId:t,booking:e})=>{const[n,r]=I.useState(null),[s,i]=I.useState(!1),[A,a]=I.useState(!1),[o,c]=I.useState(!1),[u,h]=I.useState(!1),[f,g]=I.useState({}),[m,v]=I.useState(0),[E,x]=I.useState("cash"),[y,w]=I.useState(""),[Q,U]=I.useState([]),[N,_]=I.useState(!1),[C,b]=I.useState(null);I.useState(null);const{settings:T}=vA();I.useEffect(()=>{const O=Ft(me,"orders"),q=ds(O,Ji("bookingId","==",t)),D=hl(q,K=>{if(!K.empty){const G=K.docs[0].data();r({...G,id:K.docs[0].id})}});return()=>D()},[t]),I.useEffect(()=>{n&&o&&R()},[n,o]),I.useEffect(()=>{s&&g({})},[s]);const R=async()=>{if(n)try{const O=await S4(n.id);U(O)}catch(O){console.error("Error loading payment history:",O),b("Errore nel caricamento dello storico pagamenti")}},k=async()=>{_(!0),b(null);try{const O=Object.entries(f).map(([q,D])=>({productId:q,quantity:D.quantity,price:D.price}));if(n){const q=[...n.items,...O],D=q.reduce((K,G)=>K+G.price*G.quantity,0);await Ew(n.id,{items:q,totalAmount:D,balance:D-(n.paidAmount||0)})}else await qre(t,O);i(!1),g({})}catch(O){console.error("Error adding products:",O),b("Errore durante l'aggiunta dei prodotti")}finally{_(!1)}},F=async O=>{if(n){_(!0),b(null);try{const q=n.items.filter(K=>K.productId!==O),D=q.reduce((K,G)=>K+G.price*G.quantity,0);await Ew(n.id,{items:q,totalAmount:D,balance:D-(n.paidAmount||0)})}catch(q){console.error("Error removing product:",q),b("Errore durante la rimozione del prodotto")}finally{_(!1)}}},J=async()=>{if(!(!n||!T))try{_(!0),b(null);const O=await Jre(n,e,T.products,T);window.open(O,"_blank")}catch(O){console.error("Error generating receipt:",O),b("Errore nella generazione della ricevuta WhatsApp")}finally{_(!1)}},ee=()=>!n||!T?null:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-2 py-0.5 rounded-full ${n.status==="paid"?"bg-green-500/20 text-green-400":n.status==="partial"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.status==="paid"?"Pagato":n.status==="partial"?"Acconto":"In attesa"}),l.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",n.totalAmount.toFixed(2)]})]}),n.paidAmount>0&&l.jsxs("span",{className:"text-green-400 text-xs",children:["Pagato: ",n.paidAmount.toFixed(2)]})]}),l.jsx("div",{className:"space-y-2 mt-4",children:n.items.map((O,q)=>{const D=T.products.find(K=>K.id===O.productId);return D?l.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between bg-gray-700 p-2 rounded",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[D.imageUrl&&l.jsx("img",{src:D.imageUrl,alt:D.name,className:"w-10 h-10 object-cover rounded"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-white",children:D.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[O.quantity,"x ",O.price.toFixed(2)]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-[--theater-gold]",children:["",(O.quantity*O.price).toFixed(2)]}),l.jsx("button",{onClick:()=>F(O.productId),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Rimuovi prodotto",children:l.jsx(eA,{size:16})})]})]},`${O.productId}-${q}`):null})}),n.notes&&l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 mt-2",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Lc,{size:16,className:"text-yellow-400 mt-1 flex-shrink-0"}),l.jsx("p",{className:"text-sm text-yellow-400 line-clamp-2",children:n.notes})]})})]});return l.jsxs("div",{className:"space-y-2",children:[n?l.jsxs(l.Fragment,{children:[ee(),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm",children:[l.jsx(Zi,{size:14}),"Prodotti"]}),l.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600/20 text-green-400 rounded hover:bg-green-600/30 text-sm",children:[l.jsx(Uv,{size:14}),"Pagamento"]}),l.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 text-sm",children:[l.jsx(Xs,{size:14}),"Storico"]}),l.jsxs("button",{onClick:J,disabled:N,className:"inline-flex items-center gap-1 px-2 py-1 bg-[#25D366]/20 text-[#25D366] rounded hover:bg-[#25D366]/30 text-sm disabled:opacity-50",children:[N?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(U9,{size:14}),"Ricevuta"]}),l.jsxs("button",{onClick:()=>h(!0),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${n.notes?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(Lc,{size:14}),n.notes?"Modifica Note":"Note"]})]})]}):l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 text-sm font-medium",children:[l.jsx(Zi,{size:16}),"Nuovo Ordine"]})}),l.jsxs(ln,{children:[s&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:n?"Aggiungi Prodotti all'Ordine":"Nuovo Ordine"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:T==null?void 0:T.products.filter(O=>O.enabled).map(O=>{var q;return l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[O.imageUrl&&l.jsx("img",{src:O.imageUrl,alt:O.name,className:"w-full h-32 object-cover rounded mb-3"}),l.jsx("h4",{className:"text-white font-medium",children:O.name}),l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:O.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-[--theater-gold]",children:["",O.price.toFixed(2)]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("input",{type:"number",min:"0",value:((q=f[O.id])==null?void 0:q.quantity)||0,onChange:D=>{const K=parseInt(D.target.value);if(K===0){const{[O.id]:G,...ve}=f;g(ve)}else g({...f,[O.id]:{quantity:K,price:O.price}})},className:"w-20 p-1 bg-gray-600 border border-gray-500 rounded text-white text-center"})})]})]},O.id)})}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{onClick:()=>{i(!1),g({})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:k,disabled:Object.keys(f).length===0||N,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:N?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),n?"Aggiunta in corso...":"Creazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xn,{size:20}),n?"Aggiungi Prodotti":"Crea Ordine"]})})]})]})}),A&&n&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Registra Pagamento"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Totale da Pagare:"}),l.jsxs("span",{className:"block text-xl text-[--theater-gold]",children:["",n.totalAmount.toFixed(2)]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-400",children:"Saldo Rimanente:"}),l.jsxs("span",{className:"block text-xl text-red-400",children:["",n.balance.toFixed(2)]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Importo Pagamento"}),l.jsxs("div",{className:"relative",children:[l.jsx(Uv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"number",step:"0.01",min:"0",max:n.balance,value:m,onChange:O=>v(parseFloat(O.target.value)),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Metodo di Pagamento"}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>x("cash"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="cash"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(fb,{size:16}),"Contanti"]}),l.jsxs("button",{type:"button",onClick:()=>x("card"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="card"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(_u,{size:16}),"Carta"]}),l.jsxs("button",{type:"button",onClick:()=>x("transfer"),className:`flex items-center justify-center gap-2 p-2 rounded ${E==="transfer"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[l.jsx(wb,{size:16}),"Bonifico"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{value:y,onChange:O=>w(O.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Aggiungi una nota per questo pagamento..."})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{onClick:()=>{a(!1),v(0),x("cash"),w("")},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{onClick:async()=>{_(!0);try{await Xre(n.id,m,E,y),a(!1),v(0),x("cash"),w("")}catch(O){console.error("Error recording payment:",O),b("Errore durante la registrazione del pagamento")}finally{_(!1)}},disabled:m<=0||m>n.balance||N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:N?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Registrazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xn,{size:20}),"Conferma Pagamento"]})})]})]})]})}),o&&n&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Xs,{className:"text-[--theater-gold]"}),"Storico Pagamenti"]}),C&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Vt,{size:20}),C]}),l.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[Q.map(O=>l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",O.amount.toFixed(2)]}),l.jsx("div",{className:"text-sm text-gray-400 mt-1",children:O.date.toLocaleDateString()}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[O.method==="cash"&&l.jsx(fb,{size:16,className:"text-green-400"}),O.method==="card"&&l.jsx(_u,{size:16,className:"text-blue-400"}),O.method==="transfer"&&l.jsx(wb,{size:16,className:"text-purple-400"}),l.jsx("span",{className:"text-gray-300",children:O.method==="cash"?"Contanti":O.method==="card"?"Carta":"Bonifico"})]})]}),O.notes&&l.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[l.jsx(Lc,{size:14,className:"mt-1"}),l.jsx("p",{children:O.notes})]}),l.jsx("button",{onClick:()=>{window.confirm("Sei sicuro di voler eliminare questo pagamento?")&&Yre(n.id,O.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",title:"Elimina pagamento",children:l.jsx(eA,{size:16})})]})},O.id)),Q.length===0&&l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessun pagamento registrato"})]})]})}),u&&n&&l.jsx(ese,{order:n,isOpen:u,onClose:()=>h(!1)})]}),C&&l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mt-4",children:C})]})},nse=({bookings:t,serviceTypes:e,bookingStatuses:n,getServiceLabel:r,getStatusColor:s})=>{const[i,A]=I.useState(null),[a,o]=I.useState(null),[c,u]=I.useState({}),[h,f]=I.useState(null),g=w=>{A(i===w?null:w)},m=w=>{o(w),u({...w})},v=async()=>{if(a)try{const w=Je(me,"bookings",a.id);await Ws(w,{...c,updated_at:new Date().toISOString()}),o(null),u({})}catch(w){console.error("Error saving booking:",w),f("Errore durante il salvataggio della prenotazione")}},E=async w=>{if(window.confirm("Sei sicuro di voler eliminare questa prenotazione?"))try{f(null),await xx(Je(me,"bookings",w)),i===w&&A(null),(a==null?void 0:a.id)===w&&(o(null),u({}))}catch(Q){console.error("Error deleting booking:",Q),f("Errore durante l'eliminazione della prenotazione")}},x=()=>{o(null),u({})},y=[...t].sort((w,Q)=>{const U=w.booking_date.localeCompare(Q.booking_date);return U!==0?U:w.booking_time.localeCompare(Q.booking_time)});return l.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[h&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 m-4 rounded-lg",children:h}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Data e Ora"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Cliente"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Contatti"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Servizio"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Ticket"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Stato"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Note"}),l.jsx("th",{className:"p-4 text-left text-gray-300",children:"Azioni"})]})}),l.jsx("tbody",{children:y.map(w=>l.jsxs(Ze.Fragment,{children:[l.jsx($re,{booking:w,onEdit:()=>m(w),onDelete:()=>E(w.id),getServiceLabel:r,getStatusColor:s,onClick:()=>g(w.id),isSelected:i===w.id}),i===w.id&&l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"p-4 bg-gray-700/30",children:l.jsx(tse,{bookingId:w.id,booking:w})})})]},w.id))})]})}),l.jsx(ln,{children:a&&l.jsx(Wre,{booking:a,editedBooking:c,serviceTypes:e,bookingStatuses:n,onClose:x,onSave:v,onChange:u})})]})},rse=()=>{const[t,e]=I.useState(!1),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(!1);I.useEffect(()=>{o()},[]);const o=async()=>{if(!yn.currentUser){r(!1);return}try{await tb(me,async h=>{const f=Je(me,"users",yn.currentUser.uid),g=await h.get(f);if(!g.exists())h.set(f,{email:yn.currentUser.email,createdAt:new Date,updatedAt:new Date}),e(!1);else{const m=g.data();e(!!(m!=null&&m.googleCalendarToken))}})}catch(h){console.error("Error checking calendar connection:",h),h.code==="permission-denied"?e(!1):i("Errore durante la verifica della connessione")}finally{r(!1)}},c=()=>{if(!yn.currentUser){i("Devi essere autenticato per connettere il calendario");return}{i("Configurazione Google Calendar non disponibile");return}},u=async()=>{if(!yn.currentUser){i("Devi essere autenticato per disconnettere il calendario");return}try{r(!0),i(null),await tb(me,async h=>{const f=Je(me,"users",yn.currentUser.uid);if(!(await h.get(f)).exists())throw new Error("User document not found");h.update(f,{googleCalendarToken:null,googleCalendarRefreshToken:null,calendarConnected:!1,updatedAt:new Date})}),e(!1),a(!0),setTimeout(()=>a(!1),3e3)}catch(h){console.error("Error disconnecting calendar:",h),h.code==="permission-denied"?i("Non hai i permessi per disconnettere il calendario"):i("Errore durante la disconnessione del calendario")}finally{r(!1)}};return n?l.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[l.jsx(C9,{className:"animate-spin",size:20}),l.jsx("span",{children:"Verifica connessione..."})]}):l.jsxs("div",{className:"space-y-4",children:[s&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Vt,{size:20}),s]}),A&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(xn,{size:20}),t?"Calendario connesso con successo!":"Calendario disconnesso con successo!"]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:t?"Calendario Connesso":"Connetti Google Calendar"}),l.jsx("p",{className:"text-gray-400",children:t?"Le tue prenotazioni verranno automaticamente sincronizzate con il tuo Google Calendar":"Connetti il tuo Google Calendar per sincronizzare automaticamente le prenotazioni"})]}),l.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t?u:c,disabled:n,className:`flex items-center gap-2 px-6 py-2 rounded transition-colors ${t?"bg-red-500 text-white hover:bg-red-600":"bg-[--theater-gold] text-black hover:bg-yellow-500"} disabled:opacity-50`,children:n?l.jsx("span",{className:"animate-spin",children:""}):t?l.jsxs(l.Fragment,{children:[l.jsx(k9,{size:20}),"Disconnetti"]}):l.jsxs(l.Fragment,{children:[l.jsx(B9,{size:20}),"Connetti"]})})]}),t&&l.jsx("div",{className:"text-sm text-gray-400",children:l.jsx("p",{children:"Le nuove prenotazioni verranno automaticamente aggiunte al tuo Google Calendar. Puoi disconnettere il calendario in qualsiasi momento."})})]})},sse=({settings:t,onChange:e})=>{var s,i,A,a;const n=(o,c)=>{e({company:{...t.company,[o]:c}})},r=(o,c)=>{e({whatsappTemplate:{...t.whatsappTemplate,[o]:c}})};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Informazioni Aziendali"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(pb,{size:16}),"Nome Azienda"]}),l.jsx("input",{type:"text",value:t.company.name,onChange:o=>n("name",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(mb,{size:16}),"Logo URL"]}),l.jsx("input",{type:"url",value:t.company.logo,onChange:o=>n("logo",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/logo.png"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(pb,{size:16}),"Indirizzo"]}),l.jsx("input",{type:"text",value:t.company.address,onChange:o=>n("address",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(mb,{size:16}),"Sito Web"]}),l.jsx("input",{type:"url",value:t.company.website,onChange:o=>n("website",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(_n,{className:"text-[--theater-gold]"}),"Sincronizzazione Google Calendar"]}),l.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:l.jsx(rse,{})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Sx,{className:"text-[--theater-gold]"}),"Template WhatsApp"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Intestazione Messaggio"}),l.jsx("textarea",{value:((s=t.whatsappTemplate)==null?void 0:s.header)||`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,onChange:o=>r("header",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-32",placeholder:"Intestazione del messaggio..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Prodotto"}),l.jsx("textarea",{value:((i=t.whatsappTemplate)==null?void 0:i.productFormat)||`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,onChange:o=>r("productFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni prodotto..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Pagamento"}),l.jsx("textarea",{value:((A=t.whatsappTemplate)==null?void 0:A.paymentFormat)||`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,onChange:o=>r("paymentFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni pagamento..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Footer Messaggio"}),l.jsx("textarea",{value:((a=t.whatsappTemplate)==null?void 0:a.footer)||`
 {address}
 Per assistenza: {phone}`,onChange:o=>r("footer",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Footer del messaggio..."})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-2",children:"Variabili Disponibili"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Generali:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:["{firstName}"," - Nome cliente"]}),l.jsxs("li",{children:["{lastName}"," - Cognome cliente"]}),l.jsxs("li",{children:["{ticketNumber}"," - Numero ticket"]}),l.jsxs("li",{children:["{address}"," - Indirizzo"]}),l.jsxs("li",{children:["{phone}"," - Telefono"]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Prodotti:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:["{index}"," - Numero prodotto"]}),l.jsxs("li",{children:["{productName}"," - Nome prodotto"]}),l.jsxs("li",{children:["{quantity}"," - Quantit"]}),l.jsxs("li",{children:["{price}"," - Prezzo unitario"]}),l.jsxs("li",{children:["{total}"," - Totale prodotto"]})]})]})]})]})]})]})]})},ise=[{value:0,label:"Domenica"},{value:1,label:"Luned"},{value:2,label:"Marted"},{value:3,label:"Mercoled"},{value:4,label:"Gioved"},{value:5,label:"Venerd"},{value:6,label:"Sabato"}],Ase=[{value:15,label:"15 minuti"},{value:30,label:"30 minuti"},{value:45,label:"45 minuti"},{value:60,label:"1 ora"},{value:90,label:"1 ora e 30 minuti"},{value:120,label:"2 ore"}],ase=({serviceTypes:t,newServiceType:e,onServiceTypeChange:n,onNewServiceTypeChange:r,onAddServiceType:s,onRemoveServiceType:i})=>{const[A,a]=I.useState(null),[o,c]=I.useState(""),[u,h]=I.useState(null),f=(m,v)=>{const y=(t[m].excludedDays||[]).map(Number),Q=y.indexOf(v)>=0?y.filter(U=>U!==v):[...y,v];Q.sort((U,N)=>U-N),n(m,"excludedDays",Q)},g=m=>{var x;if(!o){h("Seleziona una data da escludere");return}const v=t[m];if(v.bookingStartDate&&v.bookingEndDate){const y=new Date(o),w=new Date(v.bookingStartDate),Q=new Date(v.bookingEndDate);if(y<w||y>Q){h("La data deve essere compresa nel periodo di prenotazione");return}}if((x=v.excludedDates)!=null&&x.includes(o)){h("Questa data  gi stata esclusa");return}const E=[...v.excludedDates||[],o].sort();n(m,"excludedDates",E),c(""),a(null),h(null)};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Tipi di Servizio"}),l.jsx("div",{className:"space-y-4",children:t.map((m,v)=>l.jsxs($.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:m.name,onChange:E=>n(v,"name",E.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"Nome servizio"}),l.jsxs("label",{className:"flex items-center gap-2 text-white",children:[l.jsx("input",{type:"checkbox",checked:m.enabled,onChange:E=>n(v,"enabled",E.target.checked),className:"w-4 h-4"}),"Attivo"]}),l.jsx("button",{type:"button",onClick:()=>i(v),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(eA,{size:20})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(Xs,{size:16}),"Durata Servizio"]}),l.jsx("select",{value:m.duration||30,onChange:E=>n(v,"duration",parseInt(E.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white",children:Ase.map(E=>l.jsx("option",{value:E.value,children:E.label},E.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(_n,{size:16}),"Data Inizio Prenotazioni"]}),l.jsx("input",{type:"date",value:m.bookingStartDate||"",onChange:E=>n(v,"bookingStartDate",E.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(_n,{size:16}),"Data Fine Prenotazioni"]}),l.jsx("input",{type:"date",value:m.bookingEndDate||"",onChange:E=>n(v,"bookingEndDate",E.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(ac,{size:16}),"Giorni della Settimana Esclusi"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:ise.map(E=>l.jsxs($.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(v,E.value),className:`
                      px-3 py-1 rounded-full text-sm flex items-center gap-2 transition-colors
                      ${(m.excludedDays||[]).includes(E.value)?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
                    `,children:[(m.excludedDays||[]).includes(E.value)&&l.jsx(ac,{size:14,className:"text-red-400"}),E.label]},E.value))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[l.jsx(ac,{size:16}),"Date Specifiche Escluse"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"flex flex-wrap gap-2",children:l.jsx(ln,{mode:"popLayout",children:(m.excludedDates||[]).map(E=>l.jsxs($.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[l.jsx(ac,{size:14}),Xe(new Date(E),"dd MMM yyyy",{locale:aA}),l.jsx("button",{type:"button",onClick:()=>{const x=(m.excludedDates||[]).filter(y=>y!==E);n(v,"excludedDates",x)},className:"text-red-400 hover:text-red-300",children:l.jsx(Rn,{size:14})})]},E))})}),l.jsx(ln,{children:u&&l.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-400 text-sm mt-2",children:[l.jsx(Vt,{size:14}),u]})}),A===m.id?l.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex gap-2",children:[l.jsx("input",{type:"date",value:o,onChange:E=>{c(E.target.value),h(null)},className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",min:m.bookingStartDate,max:m.bookingEndDate}),l.jsxs("button",{type:"button",onClick:()=>g(v),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[l.jsx(xn,{size:16}),"Aggiungi"]}),l.jsxs("button",{type:"button",onClick:()=>{a(null),c(""),h(null)},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500",children:[l.jsx(Rn,{size:16}),"Annulla"]})]}):l.jsxs($.button,{type:"button",onClick:()=>a(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 text-sm text-[--theater-gold] hover:text-yellow-500",children:[l.jsx(Zi,{size:14}),"Aggiungi data esclusa"]})]})]})]},m.id))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"text",value:e.name,onChange:m=>r({...e,name:m.target.value}),placeholder:"Nuovo tipo di servizio",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white"}),l.jsxs($.button,{type:"button",onClick:s,disabled:!e.name,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Zi,{size:20}),"Aggiungi"]})]})]})},ose=({breakTimes:t,newBreakTime:e,onBreakTimeChange:n,onNewBreakTimeChange:r,onAddBreakTime:s,onRemoveBreakTime:i})=>l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Pause e Intervalli"}),l.jsx("div",{className:"space-y-4",children:t.map((A,a)=>l.jsxs("div",{className:"flex items-center gap-4 bg-gray-700 p-4 rounded",children:[l.jsx("input",{type:"time",value:A.start,onChange:o=>n(a,"start",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),l.jsx("span",{className:"text-white",children:"a"}),l.jsx("input",{type:"time",value:A.end,onChange:o=>n(a,"end",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),l.jsxs("label",{className:"flex items-center gap-2 text-white",children:[l.jsx("input",{type:"checkbox",checked:A.enabled,onChange:o=>n(a,"enabled",o.target.checked),className:"w-4 h-4"}),"Attivo"]}),l.jsx("button",{type:"button",onClick:()=>i(a),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(eA,{size:20})})]},a))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"time",value:e.start,onChange:A=>r({...e,start:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inizio pausa"}),l.jsx("input",{type:"time",value:e.end,onChange:A=>r({...e,end:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Fine pausa"}),l.jsxs("button",{type:"button",onClick:s,disabled:!e.start||!e.end,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Zi,{size:20}),"Aggiungi Pausa"]})]})]}),lse=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],AU=({color:t,onChange:e})=>l.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-xl border border-gray-700 w-64",children:[l.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:lse.map(n=>l.jsx("button",{onClick:()=>e(n),className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${t===n?"ring-2 ring-white ring-offset-2 ring-offset-gray-800":""}`,style:{backgroundColor:n},title:n},n))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm text-gray-300",children:"Custom Color"}),l.jsx("input",{type:"color",value:t,onChange:n=>e(n.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),cse=({statuses:t,onSave:e})=>{const[n,r]=I.useState(t.map(w=>({...w,enabled:w.enabled??!0}))),[s,i]=I.useState(null),[A,a]=I.useState(!1),[o,c]=I.useState(null),[u,h]=I.useState({name:"",color:"#4CAF50",enabled:!0}),[f,g]=I.useState(null),m=w=>{g(w),setTimeout(()=>g(null),3e3)},v=async()=>{if(!u.name){i("Inserisci un nome per lo stato");return}if(n.some(N=>N.name.toLowerCase()===u.name.toLowerCase())){i("Esiste gi uno stato con questo nome");return}const w=u.name.toLowerCase().replace(/\s+/g,"_"),Q={...u,id:w,enabled:!0},U=[...n,Q];r(U);try{a(!0),await e(U),h({name:"",color:"#4CAF50",enabled:!0}),i(null),m("Nuovo stato aggiunto con successo")}catch(N){console.error("Error saving new status:",N),i("Errore durante il salvataggio del nuovo stato"),r(n)}finally{a(!1)}},E=async(w,Q,U)=>{const N=[...n];N[w]={...N[w],[Q]:U},r(N);try{a(!0),await e(N),m("Modifiche salvate con successo")}catch(_){console.error("Error saving status changes:",_),i("Errore durante il salvataggio delle modifiche"),r(n)}finally{a(!1)}},x=async(w,Q)=>{await E(w,"color",Q)},y=async w=>{const Q=n.filter((U,N)=>N!==w);try{a(!0),await e(Q),r(Q),m("Stato rimosso con successo")}catch(U){console.error("Error removing status:",U),i("Errore durante la rimozione dello stato")}finally{a(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(Ti,{className:"text-[--theater-gold]"}),"Stati Prenotazione"]})}),l.jsxs(ln,{children:[s&&l.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Vt,{size:20}),s]}),f&&l.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Vt,{size:20}),f]})]}),l.jsx("div",{className:"space-y-4",children:n.map((w,Q)=>l.jsx($.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("input",{type:"text",value:w.name,onChange:U=>E(Q,"name",U.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white focus:border-[--theater-gold] transition-colors",placeholder:"Nome stato"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>c(o===w.id?null:w.id),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:w.color}}),o===w.id&&l.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[l.jsx("div",{className:"fixed inset-0",onClick:()=>c(null)}),l.jsx(AU,{color:w.color,onChange:U=>x(Q,U)})]})]}),l.jsxs("label",{className:"flex items-center gap-2 text-white hover:text-[--theater-gold] transition-colors cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:w.enabled,onChange:U=>E(Q,"enabled",U.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Attivo"]}),l.jsx("button",{onClick:()=>y(Q),className:"p-2 text-red-400 hover:text-red-300 hover:scale-110 transition-all",title:"Rimuovi stato",disabled:A,children:l.jsx(eA,{size:20})})]})},w.id))}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("input",{type:"text",value:u.name,onChange:w=>h({...u,name:w.target.value}),placeholder:"Nuovo stato",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-[--theater-gold] transition-colors"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>c(o==="new"?null:"new"),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:u.color}}),o==="new"&&l.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[l.jsx("div",{className:"fixed inset-0",onClick:()=>c(null)}),l.jsx(AU,{color:u.color,onChange:w=>h({...u,color:w})})]})]}),l.jsxs($.button,{onClick:v,disabled:!u.name||A,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[l.jsx(Zi,{size:20}),A?"Aggiunta...":"Aggiungi"]})]})]})},use=({settings:t,onChange:e})=>{var r,s,i,A;const n=(a,o)=>{e({social:{...t.social,[a]:o}})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Wg,{className:"text-[--theater-gold]"}),"Impostazioni Condivisione Social"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(bu,{size:16}),"Immagine Anteprima"]}),l.jsx("input",{type:"url",value:((r=t.social)==null?void 0:r.image)||"",onChange:a=>n("image",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/image.jpg"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Dimensioni consigliate: 1200x630 pixel"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(N9,{size:16}),"Titolo Anteprima"]}),l.jsx("input",{type:"text",value:((s=t.social)==null?void 0:s.title)||"",onChange:a=>n("title",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale Cinematografico 2025"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(Lc,{size:16}),"Descrizione Anteprima"]}),l.jsx("textarea",{value:((i=t.social)==null?void 0:i.description)||"",onChange:a=>n("description",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(v9,{size:16}),"URL Sito"]}),l.jsx("input",{type:"url",value:((A=t.social)==null?void 0:A.url)||"",onChange:a=>n("url",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://gennaromazzacane.it/carnival2025"})]}),l.jsx("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-4",children:l.jsx("div",{className:"flex items-start gap-2",children:l.jsxs("div",{className:"text-blue-400 text-sm",children:[l.jsx("p",{className:"font-medium mb-1",children:"Anteprima Social"}),l.jsx("p",{children:"Queste impostazioni controllano come appare il link quando viene condiviso su WhatsApp, Facebook e altri social media. L'immagine dovrebbe essere rappresentativa del tuo evento e catturare l'attenzione."})]})})})]})]})},dse=({type:t,enabled:e,onChange:n})=>{const r=s=>{const i="w-full aspect-[9/16] rounded-lg overflow-hidden";switch(s){case"classic":return l.jsxs("div",{className:`${i} bg-gradient-to-br from-red-600 to-red-700 text-white p-6 flex flex-col`,children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Mc,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("h3",{className:"text-2xl font-bold",children:"Carnevale 2025"}),l.jsx("p",{className:"text-sm opacity-75",children:"CNC-123456"})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-4",children:[l.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-75",children:"Nome"}),l.jsx("p",{className:"font-bold",children:"Mario Rossi"})]}),l.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm opacity-75",children:"Data"}),l.jsx("p",{className:"font-bold",children:"01/03/2025"})]})]})]});case"modern":return l.jsx("div",{className:`${i} bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6`,children:l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[l.jsx(Mc,{className:"w-16 h-16 mx-auto mb-6"}),l.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Carnevale"}),l.jsx("p",{className:"text-lg mb-8",children:"2025"}),l.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-xl",children:l.jsx("p",{className:"font-mono text-xl",children:"CNC-123456"})})]}),l.jsx("div",{className:"mt-auto text-center",children:l.jsx("p",{className:"text-sm opacity-75",children:"Via Quinto Orazio Flacco 5, Aversa"})})]})});case"vintage":return l.jsx("div",{className:`${i} bg-[#f8e5b9] p-6 border-8 border-[#8b4513]`,children:l.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#8b4513]",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-3xl font-serif mb-2",children:"CARNEVALE"}),l.jsx("p",{className:"text-xl font-serif",children:"CINEMATOGRAFICO"})]}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),l.jsx("div",{className:"font-mono text-xl mb-6",children:"CNC-123456"}),l.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),l.jsxs("div",{className:"text-center mt-auto",children:[l.jsx("p",{className:"font-serif",children:"01 Marzo 2025"}),l.jsx("p",{className:"font-serif text-sm mt-2",children:"Aversa"})]})]})})}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(Mc,{className:"text-[--theater-gold]"}),"Template Ticket"]}),l.jsx("div",{className:"grid grid-cols-3 gap-6",children:["classic","modern","vintage"].map(s=>l.jsxs($.div,{whileHover:{scale:1.02},className:`relative cursor-pointer rounded-lg overflow-hidden ${t===s?"ring-2 ring-[--theater-gold]":""}`,onClick:()=>n({type:s,enabled:e}),children:[r(s),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsx("button",{className:"px-4 py-2 bg-[--theater-gold] text-black rounded-lg",children:"Seleziona"})})]},s))}),l.jsx("div",{className:"mt-6",children:l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:e,onChange:s=>n({type:t,enabled:s.target.checked}),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione ticket"]})})]})},hse=({enabled:t,title:e,subtitle:n,type:r,onChange:s})=>{var a;const i=[{id:"curtain",label:"Sipario",description:"Un elegante sipario teatrale che si apre per rivelare il contenuto"},{id:"fade",label:"Dissolvenza",description:"Una transizione fluida con dissolvenza del contenuto"},{id:"slide",label:"Scorrimento",description:"Un effetto dinamico di scorrimento laterale"}],A=o=>c=>{s({enabled:t,title:e,subtitle:n,type:r,[o]:c})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[l.jsx(As,{className:"text-[--theater-gold]"}),"Animazione Introduttiva"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t,onChange:o=>A("enabled")(o.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione all'apertura"]})}),t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Titolo Animazione"}),l.jsx("input",{type:"text",value:e,onChange:o=>A("title")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale 2025"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Sottotitolo"}),l.jsx("input",{type:"text",value:n,onChange:o=>A("subtitle")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"3... 2... 1..."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-4",children:"Tipo Animazione"}),l.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(o=>l.jsxs($.button,{type:"button",whileHover:{scale:1.02},onClick:()=>A("type")(o.id),className:`p-4 rounded-lg border-2 transition-colors ${r===o.id?"border-[--theater-gold] bg-[--theater-gold]/10":"border-gray-700 hover:border-gray-600"}`,children:[l.jsx(I9,{className:`w-8 h-8 mx-auto mb-2 ${r===o.id?"text-[--theater-gold]":"text-gray-400"}`}),l.jsx("span",{className:`block font-medium mb-2 ${r===o.id?"text-white":"text-gray-300"}`,children:o.label}),l.jsx("p",{className:"text-sm text-gray-400",children:o.description})]},o.id))})]})]}),l.jsxs("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg",children:[l.jsx("h4",{className:"text-white font-medium mb-4",children:"Anteprima Impostazioni"}),l.jsxs("div",{className:"space-y-2 text-gray-300",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Stato:"})," ",t?"Attivo":"Disattivato"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Titolo:"})," ",e||"(non impostato)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Sottotitolo:"})," ",n||"(non impostato)"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Tipo:"})," ",((a=i.find(o=>o.id===r))==null?void 0:a.label)||r]})]})]})]})]})},fse=[{id:"general",label:"Generali",icon:Ti},{id:"status",label:"Stati Prenotazione",icon:Ti},{id:"services",label:"Servizi",icon:Ti},{id:"breaks",label:"Pause",icon:Ti},{id:"social",label:"Condivisione",icon:Wg},{id:"ticket",label:"Template Ticket",icon:Mc},{id:"intro",label:"Intro",icon:As}],pse=({settings:t,onSave:e,onClose:n})=>{const[r,s]=I.useState(!1),[i,A]=I.useState(t),[a,o]=I.useState(null),[c,u]=I.useState("general"),[h,f]=I.useState(!1),{statuses:g}=gd(),m=async E=>{E.preventDefault(),s(!0),o(null);try{await e(i),f(!0),setTimeout(()=>f(!1),3e3)}catch(x){console.error("Error saving settings:",x),o("Errore durante il salvataggio delle impostazioni")}finally{s(!1)}},v=()=>{var E,x,y,w,Q,U;switch(c){case"general":return l.jsx(sse,{settings:i,onChange:N=>A({...i,...N})});case"status":return l.jsx(cse,{statuses:g,onSave:async N=>{A({...i,bookingStatuses:N})}});case"services":return l.jsx(ase,{serviceTypes:i.serviceTypes,newServiceType:{id:"",name:"",enabled:!0,bookingStartDate:"",bookingEndDate:""},onServiceTypeChange:(N,_,C)=>{const b=[...i.serviceTypes];b[N]={...b[N],[_]:C},A({...i,serviceTypes:b})},onNewServiceTypeChange:()=>{},onAddServiceType:()=>{},onRemoveServiceType:N=>{const _=i.serviceTypes.filter((C,b)=>b!==N);A({...i,serviceTypes:_})}});case"breaks":return l.jsx(ose,{breakTimes:i.breakTimes,newBreakTime:{start:"",end:"",enabled:!0},onBreakTimeChange:(N,_,C)=>{const b=[...i.breakTimes];b[N]={...b[N],[_]:C},A({...i,breakTimes:b})},onNewBreakTimeChange:()=>{},onAddBreakTime:()=>{},onRemoveBreakTime:N=>{const _=i.breakTimes.filter((C,b)=>b!==N);A({...i,breakTimes:_})}});case"social":return l.jsx(use,{settings:i,onChange:N=>A({...i,...N})});case"ticket":return l.jsx(dse,{type:((E=i.ticketTemplate)==null?void 0:E.type)||"classic",enabled:((x=i.ticketTemplate)==null?void 0:x.enabled)??!0,onChange:N=>A(_=>({..._,ticketTemplate:N}))});case"intro":return l.jsx(hse,{enabled:((y=i.animation)==null?void 0:y.enabled)??!0,title:((w=i.animation)==null?void 0:w.title)||"",subtitle:((Q=i.animation)==null?void 0:Q.subtitle)||"",type:((U=i.animation)==null?void 0:U.type)||"curtain",onChange:N=>A(_=>({..._,animation:{..._.animation,...N}}))});default:return null}};return l.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:l.jsxs("form",{onSubmit:m,className:"space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Impostazioni"}),l.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})})]}),a&&l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:a}),h&&l.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg",children:"Impostazioni salvate con successo"}),l.jsx("div",{className:"flex gap-4 border-b border-gray-700 overflow-x-auto",children:fse.map(E=>l.jsxs("button",{type:"button",onClick:()=>u(E.id),className:`px-4 py-2 -mb-px whitespace-nowrap flex items-center gap-2 ${c===E.id?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:[l.jsx(E.icon,{size:16}),E.label]},E.id))}),l.jsx("div",{className:"pt-6",children:v()}),l.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[l.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:r?"Salvataggio...":"Salva Impostazioni"})]})]})})},gse=()=>{const{settings:t,loading:e}=vA(),[n,r]=I.useState(null),[s,i]=I.useState(!1),[A,a]=I.useState({name:"",description:"",price:0,imageUrl:"",enabled:!0}),o=async h=>{if(h.preventDefault(),!!t)try{let f=[...t.products];if(n){const g=f.findIndex(m=>m.id===n);g!==-1&&(f[g]={...A,id:n})}else{const g={...A,id:crypto.randomUUID()};f.push(g)}await Hp({products:f}),i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})}catch(f){console.error("Error saving product:",f),alert("Errore durante il salvataggio del prodotto")}},c=async h=>{if(window.confirm("Sei sicuro di voler eliminare questo prodotto?")&&t)try{const f=t.products.filter(g=>g.id!==h);await Hp({products:f})}catch(f){console.error("Error deleting product:",f),alert("Errore durante l'eliminazione del prodotto")}},u=h=>{a(h),r(h.id),i(!0)};return e?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsxs("div",{className:"text-white flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Prodotti"}),l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(Zi,{size:20}),"Nuovo Prodotto"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.products.map(h=>l.jsxs($.div,{layout:!0,className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[h.imageUrl&&l.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:h.name}),l.jsx("p",{className:"text-gray-400 mb-4",children:h.description}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-[--theater-gold] text-xl",children:["",h.price.toFixed(2)]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>u(h),className:"p-2 text-blue-400 hover:text-blue-300",children:l.jsx(yN,{size:20})}),l.jsx("button",{onClick:()=>c(h.id),className:"p-2 text-red-400 hover:text-red-300",children:l.jsx(eA,{size:20})})]})]})]})]},h.id))}),l.jsx(ln,{children:(s||n)&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:n?"Modifica Prodotto":"Nuovo Prodotto"}),l.jsx("button",{onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})})]}),l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome Prodotto"}),l.jsx("input",{type:"text",value:A.name,onChange:h=>a({...A,name:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Descrizione"}),l.jsx("textarea",{value:A.description,onChange:h=>a({...A,description:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Prezzo"}),l.jsxs("div",{className:"relative",children:[l.jsx(Uv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:A.price,onChange:h=>a({...A,price:parseFloat(h.target.value)}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"URL Immagine"}),l.jsxs("div",{className:"relative",children:[l.jsx(bu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"url",value:A.imageUrl,onChange:h=>a({...A,imageUrl:h.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:A.enabled,onChange:h=>a({...A,enabled:h.target.checked}),className:"w-4 h-4"}),l.jsx("label",{className:"text-gray-300",children:"Prodotto attivo"})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[l.jsx(Gg,{size:20}),n?"Salva Modifiche":"Crea Prodotto"]})]})]})]})})})]})},mse=async t=>{try{console.log("Preparing email:",{to:t.to,type:t.type,data:t.data});const e=yse(t.type,t.data);if(!e.subject||!e.html)throw new Error("Email template generation failed");console.log("Email template generated:",{subject:e.subject,htmlLength:e.html.length});const r=await J5(pz,"sendEmailFunction")({to:t.to,type:t.type,data:{...t.data,subject:e.subject,html:e.html,text:e.text}}),s=r.data.success;console.log("Email function result:",r.data);try{await Mr(Ft(me,"email_logs"),{to:t.to,type:t.type,data:t.data,success:s,timestamp:Kn()})}catch(i){console.error("Error logging email:",i)}return s}catch(e){console.error("Error in sendEmail:",e instanceof Error?e.message:"Unknown error");try{await Mr(Ft(me,"email_logs"),{to:t.to,type:t.type,data:t.data,success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Kn()})}catch(n){console.error("Error logging email failure:",n)}throw e}},yse=(t,e)=>{try{const n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #D22B2B; text-align: center;">Carnevale Cinematografico</h1>
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
          {{content}}
        </div>
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p> ${new Date().getFullYear()} Carnevale Cinematografico. Tutti i diritti riservati.</p>
        </div>
      </div>
    `;let r="",s="",i="";switch(t){case"welcome":s="Benvenuto in Carnevale Cinematografico",r=`
          <p>Gentile ${(e==null?void 0:e.name)||"Utente"},</p>
          <p>Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.</p>
          <p>Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.</p>
        `,i=`
          Gentile ${(e==null?void 0:e.name)||"Utente"},
          
          Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.
          Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.
        `;break;case"booking":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time)||!(e!=null&&e.ticketNumber))throw new Error("Missing required booking data");s="Conferma della prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>La tua prenotazione  stata confermata con successo!</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
            <p><strong>Numero Ticket:</strong> ${e.ticketNumber}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo per il tuo servizio fotografico!</p>
        `,i=`
          Gentile ${e.name},
          
          La tua prenotazione  stata confermata con successo!
          
          Data: ${e.date}
          Orario: ${e.time}
          Numero Ticket: ${e.ticketNumber}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo per il tuo servizio fotografico!
        `;break;case"reminder":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time))throw new Error("Missing required reminder data");s="Promemoria prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>Ti ricordiamo che hai una prenotazione per domani:</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo!</p>
        `,i=`
          Gentile ${e.name},
          
          Ti ricordiamo che hai una prenotazione per domani:
          
          Data: ${e.date}
          Orario: ${e.time}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo!
        `;break;case"subscription":if(s="Informazioni abbonamento",e!=null&&e.endDate){const A=new Date(e.endDate);if(isNaN(A.getTime()))throw new Error("Invalid subscription end date");r=`
            <p>Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.</p>
            <p>Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.</p>
            <div style="text-align: center; margin-top: 20px;">
              <a href="https://carnevale-cinematografico.web.app/profile/subscription" 
                 style="background-color: #D22B2B; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                Rinnova Ora
              </a>
            </div>
          `,i=`
            Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.
            Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.
            
            Rinnova ora: https://carnevale-cinematografico.web.app/profile/subscription
          `}else r=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.",i=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.";break;case"custom":default:s="Notifica da Carnevale Cinematografico",r=`<p>${(e==null?void 0:e.message)||"Nessun messaggio"}</p>`,i=(e==null?void 0:e.message)||"Nessun messaggio";break}return{subject:s,html:n.replace("{{content}}",r),text:i.trim().replace(/\n\s+/g,`
`)}}catch(n){throw console.error("Error generating email template:",n),n}},eg=async(t,e)=>mse({to:t,type:"subscription",data:{endDate:e.endDate,message:e.message}}),vse=({subscription:t,onClose:e})=>{const[n,r]=I.useState(!1),[s,i]=I.useState(null),[A,a]=I.useState(null),[o,c]=I.useState(1),[u,h]=I.useState(""),[f,g]=I.useState(!1),m=async()=>{r(!0),i(null),a(null);try{const E=Pp(t.endDate,o);await Ws(Je(me,"subscriptions",t.userId),{endDate:E,status:"active"}),await Mr(Ft(me,"subscription_history"),{userId:t.userId,email:t.email,action:"extension",months:o,previousEndDate:t.endDate,newEndDate:E,timestamp:new Date}),a(`Abbonamento esteso di ${o} ${o===1?"mese":"mesi"}`),await eg(t.email,{type:"extension",endDate:E})}catch(E){console.error("Error extending subscription:",E),i("Errore durante l'estensione dell'abbonamento")}finally{r(!1)}},v=async()=>{if(!u.trim()){i("Inserisci un messaggio per la notifica");return}r(!0),i(null),a(null);try{await eg(t.email,{type:"custom",message:u}),await Mr(Ft(me,"notification_history"),{userId:t.userId,email:t.email,message:u,timestamp:new Date}),a("Notifica inviata con successo"),h("")}catch(E){console.error("Error sending notification:",E),i("Errore durante l'invio della notifica")}finally{r(!1)}};return l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Gestione Abbonamento"}),s&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Vt,{size:20}),s]}),A&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(xn,{size:20}),A]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[l.jsx(_n,{className:"text-[--theater-gold]"}),"Estendi Abbonamento"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Durata estensione (mesi)"}),l.jsx("input",{type:"number",min:"1",max:"12",value:o,onChange:E=>c(parseInt(E.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["Nuova data di scadenza:"," ",l.jsx("span",{className:"text-white",children:Xe(Pp(t.endDate,o),"dd MMMM yyyy",{locale:aA})})]}),l.jsxs("button",{onClick:m,disabled:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[n?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(xn,{size:20}),"Estendi Abbonamento"]})]})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[l.jsx(Iv,{className:"text-[--theater-gold]"}),"Invia Notifica"]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("textarea",{value:u,onChange:E=>h(E.target.value),placeholder:"Scrivi un messaggio...",className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white h-24 resize-none"}),l.jsxs("button",{onClick:v,disabled:n||!u.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[n?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(Iv,{size:20}),"Invia Notifica"]})]})]}),l.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[l.jsx(w9,{size:20}),"Visualizza Storico"]})]}),l.jsx(ln,{children:f&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[l.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})}),l.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Xs,{className:"text-[--theater-gold]"}),"Storico Abbonamento"]}),l.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Storico in fase di implementazione"})})]})})})]})})},wse=({subscriptions:t})=>{const e={total:t.length,active:t.filter(n=>n.status==="active").length,expiringSoon:t.filter(n=>{const r=Math.ceil((n.endDate.getTime()-Date.now())/864e5);return n.status==="active"&&r<=7}).length,monthlyRevenue:t.filter(n=>n.status==="active"&&n.plan==="monthly").length*20+t.filter(n=>n.status==="active"&&n.plan==="yearly").length*8.333333333333334};return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:l.jsx(qg,{className:"w-6 h-6 text-blue-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Totale Abbonati"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.total})]})]})}),l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:l.jsx(_u,{className:"w-6 h-6 text-green-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Abbonamenti Attivi"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.active})]})]})}),l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:l.jsx(Xs,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"In Scadenza"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.expiringSoon})]})]})}),l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-700 p-6 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-[--theater-gold]/20 rounded-lg",children:l.jsx(Q9,{className:"w-6 h-6 text-[--theater-gold]"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-400 text-sm",children:"Ricavi Mensili"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:["",Math.round(e.monthlyRevenue)]})]})]})})]})},Bse=({subscriptions:t})=>{const[e,n]=I.useState(!1),[r,s]=I.useState(null),i=()=>{n(!0),s(null);try{const A=["Email","Piano","Stato","Data Inizio","Data Scadenza","Prenotazioni Usate","Limite Prenotazioni"],a=t.map(f=>[f.email,f.plan,f.status,Xe(f.startDate,"dd/MM/yyyy",{locale:aA}),Xe(f.endDate,"dd/MM/yyyy",{locale:aA}),f.bookingsUsed,f.maxBookings]),o=[A.join(","),...a.map(f=>f.join(","))].join(`
`),c=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(c);u.setAttribute("href",h),u.setAttribute("download",`abbonamenti_${Xe(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(A){console.error("Error exporting subscriptions:",A),s("Errore durante l'esportazione")}finally{n(!1)}};return l.jsxs("div",{className:"mb-6",children:[r&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-4 flex items-center gap-2",children:[l.jsx(Vt,{size:20}),r]}),l.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50",children:[e?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(y9,{size:20}),"Esporta Abbonamenti"]})]})},Q4=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(""),[o,c]=I.useState("all"),[u,h]=I.useState(null);I.useEffect(()=>{const g=Ft(me,"subscriptions"),m=ds(g,oa("endDate","desc")),v=hl(m,E=>{const x=E.docs.map(y=>{const w=y.data();return{...w,id:y.id,startDate:w.startDate?new Date(w.startDate):new Date,endDate:w.endDate?new Date(w.endDate):new Date}});e(x),r(!1)},E=>{console.error("Error fetching subscriptions:",E),i("Errore nel caricamento degli abbonamenti"),r(!1)});return()=>v()},[]);const f=t.filter(g=>{const m=g.email.toLowerCase().includes(A.toLowerCase()),v=o==="all"||g.status===o;return m&&v});return n?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):l.jsxs("div",{className:"min-h-screen bg-gray-900 py-8",children:[l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(qg,{className:"text-[--theater-gold]"}),"Gestione Abbonamenti"]}),l.jsx("div",{className:"flex gap-4",children:l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:l.jsx(vN,{size:20})})})]}),l.jsx(wse,{subscriptions:t}),l.jsx(Bse,{subscriptions:t}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx($g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per email...",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mp,{className:"text-gray-400"}),l.jsxs("select",{value:o,onChange:g=>c(g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),l.jsx("option",{value:"active",children:"Attivi"}),l.jsx("option",{value:"expired",children:"Scaduti"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Piano"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Scadenza"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Prenotazioni"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),l.jsx("tbody",{children:f.map(g=>l.jsxs($.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-gray-700 hover:bg-gray-700/50",children:[l.jsx("td",{className:"p-4 text-white",children:g.email}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-400",children:g.plan})}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${g.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:g.status==="active"?"Attivo":"Scaduto"})}),l.jsx("td",{className:"p-4 text-white",children:Xe(g.endDate,"dd MMM yyyy",{locale:aA})}),l.jsxs("td",{className:"p-4 text-white",children:[g.bookingsUsed," / ",g.maxBookings]}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>h(g),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:l.jsx(Ti,{size:18})})})]},g.id))})]})})]})}),l.jsx(ln,{children:u&&l.jsx(vse,{subscription:u,onClose:()=>h(null)})})]})},xse=async t=>{try{const e=new Date(t.booking_date);if(isNaN(e.getTime()))throw new Error("Data di prenotazione non valida");const n=e.toISOString().split("T")[0],r=await Mr(Ft(me,"bookings"),{...t,booking_date:n,created_at:Kn()});if(t.userId)try{const i=(await hs(Je(me,"users",t.userId))).data();if(i!=null&&i.calendarConnected){const A=new Date(`${n}T${t.booking_time}`),a=new Date(A.getTime()+60*60*1e3);await pY(t.userId,{summary:`Prenotazione Fotografica - ${t.firstName} ${t.lastName}`,description:`Prenotazione: ${t.ticket_number}
Servizio: ${t.service_type}`,startTime:A,endTime:a,location:"Via Quinto Orazio Flacco 5, Aversa"})}}catch(s){console.error("Error syncing with Google Calendar:",s)}return r.id}catch(e){throw console.error("Error creating booking:",e),e}},Cse=({selectedDate:t,selectedTime:e,onTimeSelect:n})=>{const{settings:r}=vA(),[s,i]=I.useState([]);return I.useEffect(()=>{if(!r)return;const A=[],[a,o=0]=r.startTime.split(":").map(Number),[c,u=0]=r.endTime.split(":").map(Number),h=r.bookingIntervals||30;let f=Mp(jp(t,o),a);const g=Mp(jp(t,u),c);for(;f<g;){const m=Xe(f,"HH:mm");A.push(m),f=mR(f,h)}i(A)},[t,r]),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("label",{className:"block text-gray-300",children:[l.jsx(Xs,{size:16,className:"inline-block mr-2"}),"Orari Disponibili"]}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.map(A=>l.jsx("button",{type:"button",onClick:()=>n(A),className:`
              p-2 rounded text-center transition-colors
              ${e===A?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}
            `,children:A},A))})]})},Ese=jn.object({firstName:jn.string().min(2,"Nome richiesto"),lastName:jn.string().min(2,"Cognome richiesto"),email:jn.string().email("Email non valida"),phone:jn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service_type:jn.string().min(1,"Seleziona un tipo di servizio"),notes:jn.string().optional()}),_se=({isOpen:t,onClose:e,onSuccess:n})=>{const{settings:r}=vA(),[s,i]=I.useState(null),[A,a]=I.useState(""),[o,c]=I.useState(!1),[u,h]=I.useState(null),{register:f,handleSubmit:g,formState:{errors:m},reset:v}=rR({resolver:iR(Ese)}),E=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,x=async y=>{if(!s||!A){h("Seleziona data e ora per la prenotazione");return}c(!0),h(null);try{const w={...y,booking_date:s.toISOString().split("T")[0],booking_time:A,ticket_number:E(),status:"pending"};await xse(w),v(),i(null),a(""),n&&n(),e()}catch(w){console.error("Error creating booking:",w),h("Errore durante la creazione della prenotazione")}finally{c(!1)}};return l.jsx(ln,{children:t&&l.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(_n,{className:"text-[--theater-gold]"}),"Nuova Prenotazione"]}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:l.jsx(Rn,{size:24})})]}),u&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Vt,{size:20}),u]}),l.jsxs("form",{onSubmit:g(x),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),l.jsxs("div",{className:"relative",children:[l.jsx(Go,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("firstName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),m.firstName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),l.jsxs("div",{className:"relative",children:[l.jsx(Go,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("lastName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),m.lastName&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(wa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("email"),type:"email",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"email@esempio.com"})]}),m.email&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{...f("phone"),type:"tel",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il numero senza prefisso"})]}),m.phone&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),l.jsxs("select",{...f("service_type"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"",children:"Seleziona servizio"}),r==null?void 0:r.serviceTypes.filter(y=>y.enabled).map(y=>l.jsx("option",{value:y.id,children:y.name},y.id))]}),m.service_type&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.service_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),l.jsx("textarea",{...f("notes"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Note aggiuntive..."})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),l.jsx("input",{type:"date",value:s?s.toISOString().split("T")[0]:"",onChange:y=>i(y.target.value?new Date(y.target.value):null),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),s&&l.jsx(Cse,{selectedDate:s,selectedTime:A,onTimeSelect:a})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),l.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Creazione in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(xn,{size:20}),"Crea Prenotazione"]})})]})]})]})})})},N4=({photos:t,currentIndex:e,onClose:n,onNext:r,onPrev:s,onFavorite:i,favorites:A=[],onShare:a})=>{const[o,c]=Ze.useState(1),[u,h]=Ze.useState({x:0,y:0}),[f,g]=Ze.useState(!1),m=t[e],v=Ze.useRef(null),E=()=>{c(U=>Math.min(U+.5,3)),h({x:0,y:0})},x=()=>{c(U=>Math.max(U-.5,1)),h({x:0,y:0})},y=(U,N)=>{g(!1),o===1?N.offset.x>50?s():N.offset.x<-50&&r():h({x:u.x+N.offset.x,y:u.y+N.offset.y})},w=()=>{a&&m?a(m.url):navigator.share&&navigator.share({title:"Condividi foto",url:m.url}).catch(console.error)},Q=U=>{U.key==="ArrowLeft"&&s(),U.key==="ArrowRight"&&r(),U.key==="Escape"&&n(),(U.key==="+"||U.key==="=")&&E(),U.key==="-"&&x()};return Ze.useEffect(()=>(window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)),[]),Ze.useEffect(()=>{c(1),h({x:0,y:0})},[e]),l.jsx(ln,{children:l.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center",onClick:n,children:[l.jsxs("div",{className:"fixed top-4 right-4 flex items-center gap-4 z-50",children:[l.jsx("button",{onClick:U=>{U.stopPropagation(),E()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(P9,{size:20})}),l.jsx("button",{onClick:U=>{U.stopPropagation(),x()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(D9,{size:20})}),l.jsx("button",{onClick:U=>{U.stopPropagation(),w()},className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Wg,{size:20})}),l.jsx("a",{href:m.url,download:!0,onClick:U=>U.stopPropagation(),className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Fx,{size:20})}),l.jsx("button",{onClick:n,className:"p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(Rn,{size:20})})]}),e>0&&l.jsx("button",{onClick:U=>{U.stopPropagation(),s()},className:"fixed left-4 top-1/2 -translate-y-1/2 p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(hN,{size:24})}),e<t.length-1&&l.jsx("button",{onClick:U=>{U.stopPropagation(),r()},className:"fixed right-4 top-1/2 -translate-y-1/2 p-2 bg-gray-800/80 rounded-full text-white hover:bg-gray-700/80 transition-colors",children:l.jsx(fN,{size:24})}),l.jsxs($.div,{ref:v,initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative w-full h-full select-none flex items-center justify-center",onClick:U=>U.stopPropagation(),children:[l.jsx($.div,{drag:o>1,dragConstraints:v,dragElastic:.1,onDragStart:()=>g(!0),onDragEnd:y,style:{cursor:o>1?f?"grabbing":"grab":"default"},children:l.jsx($.img,{src:m.url,alt:m.name,className:"max-w-full max-h-[90vh] object-contain",style:{transform:`scale(${o}) translate(${u.x}px, ${u.y}px)`,transition:f?"none":"transform 0.2s ease-out"},onDoubleClick:()=>{o===1?E():(c(1),h({x:0,y:0}))}})}),i&&l.jsx("button",{onClick:()=>i(m.id),className:"absolute bottom-4 right-4 p-3 rounded-full bg-black/50 hover:bg-black/70 transition-colors",children:l.jsx(pN,{size:24,className:A.includes(m.id)?"text-red-500 fill-red-500":"text-white"})})]}),l.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 bg-gray-800/80 rounded-full text-white",children:[e+1," / ",t.length]}),o>1&&l.jsxs("div",{className:"fixed bottom-4 left-4 px-4 py-2 bg-gray-800/80 rounded-full text-white text-sm",children:[Math.round(o*100),"%"]})]})})},aU="gs://cinema-70fbc.firebasestorage.app",bse=2*1024*1024,sy=1920,Tse=({bookingId:t,isOpen:e=!0,onClose:n})=>{const[r,s]=I.useState([]),[i,A]=I.useState(!0),[a,o]=I.useState(null),[c,u]=I.useState(!1),[h,f]=I.useState(0),[g,m]=I.useState(null),[v,E]=I.useState(null);I.useEffect(()=>{(async()=>{if(t)try{const N=await hs(Je(me,"bookings",t));N.exists()&&E(N.data())}catch(N){console.error("Error loading booking details:",N)}})()},[t]),I.useEffect(()=>{(async()=>{if(t){A(!0),o(null);try{const N=Ft(me,"galleries"),_=ds(N,Ji("bookingId","==",t),oa("uploadedAt","desc")),b=(await zo(_)).docs.map(T=>{var R;return{id:T.id,...T.data(),uploadedAt:(R=T.data().uploadedAt)==null?void 0:R.toDate()}});s(b)}catch(N){console.error("Error loading photos:",N),o("Errore durante il caricamento delle foto"),Oe.error("Errore nel caricamento delle foto")}finally{A(!1)}}})()},[t]);const x=U=>new Promise(N=>{if(U.size>bse){Oe.error(`Il file ${U.name} supera i 2MB`),N(!1);return}const _=document.createElement("img"),C=URL.createObjectURL(U);_.onload=()=>{URL.revokeObjectURL(C),_.width>sy||_.height>sy?(Oe.error(`L'immagine ${U.name} supera ${sy}px`),N(!1)):N(!0)},_.onerror=()=>{URL.revokeObjectURL(C),Oe.error(`Errore nel caricamento di ${U.name}`),N(!1)},_.src=C}),y=async U=>{var N;if(!(!t||!((N=U.target.files)!=null&&N.length))){u(!0),o(null),f(0);try{const _=Array.from(U.target.files),C=[];for(const ee of _)await x(ee)&&C.push(ee);if(C.length===0){Oe.error("Nessun file valido da caricare"),u(!1);return}const b=C.length;let T=0;for(const ee of C){const O=cb(ub,`${aU}/galleries/${t}/${ee.name}`);await az(O,ee);const q=await oz(O);await Mr(Ft(me,"galleries"),{bookingId:t,url:q,name:ee.name,uploadedAt:new Date}),T++,f(T/b*100),Oe.success(`Foto ${T}/${b} caricata`)}const R=Ft(me,"galleries"),k=ds(R,Ji("bookingId","==",t),oa("uploadedAt","desc")),J=(await zo(k)).docs.map(ee=>{var O;return{id:ee.id,...ee.data(),uploadedAt:(O=ee.data().uploadedAt)==null?void 0:O.toDate()}});s(J),f(0),Oe.success("Tutte le foto sono state caricate con successo!")}catch(_){console.error("Error uploading photos:",_),Oe.error("Errore durante il caricamento delle foto"),o("Errore durante il caricamento delle foto")}finally{u(!1)}}},w=async U=>{if(t)try{const N=cb(ub,`${aU}/galleries/${t}/${U.name}`);await lz(N),await xx(Je(me,"galleries",U.id)),s(_=>_.filter(C=>C.id!==U.id)),Oe.success("Foto eliminata con successo")}catch(N){console.error("Error deleting photo:",N),Oe.error("Errore durante l'eliminazione della foto")}},Q=()=>{if(!(v!=null&&v.phone)){Oe.error("Numero di telefono non disponibile");return}const U=`${window.location.origin}/gallery/${t}`,N=`Ciao ${v.firstName}, ecco il link alla tua galleria fotografica: ${U}`,_=`https://wa.me/${v.phone.replace(/\D/g,"")}?text=${encodeURIComponent(N)}`;window.open(_,"_blank"),Oe.success("Link copiato negli appunti")};return e?l.jsx("div",{className:"bg-gray-900 min-h-screen p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[l.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 mb-4",children:[l.jsx(bu,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),v&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(Go,{size:16,className:"text-[--theater-gold]"}),v.firstName," ",v.lastName]}),l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(_n,{size:16,className:"text-[--theater-gold]"}),v.booking_date," ",v.booking_time]}),l.jsxs("p",{className:"text-gray-300 flex items-center gap-2",children:[l.jsx(fl,{size:16,className:"text-[--theater-gold]"}),v.phone]})]})]}),l.jsxs("div",{className:"flex gap-4",children:[(v==null?void 0:v.phone)&&l.jsxs("button",{onClick:Q,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[l.jsx(Sx,{size:20}),"Condividi su WhatsApp"]}),n&&l.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:l.jsx(Rn,{size:24,className:"text-gray-400"})})]})]})}),a&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Vt,{size:20}),a]}),l.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-white",children:"Carica Foto"}),r.length>0&&l.jsxs("span",{className:"text-sm text-gray-400",children:[r.length," foto caricate"]})]}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:y,disabled:c,className:`block w-full text-sm text-gray-400
              file:mr-4 file:py-2 file:px-4
              file:rounded-lg file:border-0
              file:text-sm file:font-semibold
              file:bg-[--theater-gold] file:text-black
              hover:file:bg-yellow-500
              disabled:opacity-50`}),c&&l.jsxs("div",{className:"mt-4",children:[l.jsx("div",{className:"relative h-2 bg-gray-700 rounded-full overflow-hidden",children:l.jsx($.div,{className:"absolute inset-0 bg-[--theater-gold]",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.3}})}),l.jsxs("p",{className:"text-sm text-gray-400 mt-2 flex items-center gap-2",children:[l.jsx(x9,{className:"animate-spin",size:16}),"Caricamento in corso... ",Math.round(h),"%"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((U,N)=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"relative pt-[100%]",children:l.jsx("img",{src:U.url,alt:U.name,className:"absolute inset-0 w-full h-full object-contain bg-gray-800 rounded-lg cursor-pointer",onClick:()=>m(N)})}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-4",children:[l.jsx("a",{href:U.url,download:!0,className:"p-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",onClick:_=>_.stopPropagation(),children:l.jsx(Fx,{size:20})}),l.jsx("button",{onClick:_=>{_.stopPropagation(),w(U)},className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:l.jsx(eA,{size:20})})]})]},U.id))}),r.length===0&&!i&&l.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessuna foto caricata"}),g!==null&&l.jsx(N4,{photos:r,currentIndex:g,onClose:()=>m(null),onNext:()=>m(U=>U!==null&&U<r.length-1?U+1:U),onPrev:()=>m(U=>U!==null&&U>0?U-1:U)})]})}):null},Ise=()=>{const[t,e]=I.useState("bookings"),[n,r]=I.useState(!1),[s,i]=I.useState(!1),[A,a]=I.useState([]),[o,c]=I.useState(""),[u,h]=I.useState("all"),[f,g]=I.useState("all"),[m,v]=I.useState(!0),[E,x]=I.useState(null),[y,w]=I.useState(!1),[Q,U]=I.useState(null),{settings:N}=vA(),{statuses:_,getStatusColor:C}=gd(),{user:b}=ti();I.useEffect(()=>{if(b)try{const k=ds(Ft(me,"bookings"),oa("booking_date","asc"),oa("booking_time","asc")),F=hl(k,J=>{const ee=J.docs.map(O=>({id:O.id,...O.data()}));a(ee),v(!1),x(null)},J=>{console.error("Error fetching bookings:",J),x("Errore nel caricamento delle prenotazioni. Verifica di avere i permessi necessari."),v(!1)});return()=>F()}catch(k){console.error("Error setting up bookings listener:",k),x("Errore nella configurazione del listener delle prenotazioni"),v(!1)}},[b]);const T=k=>{if(!(N!=null&&N.serviceTypes))return k;const F=N.serviceTypes.find(J=>J.id===k);return(F==null?void 0:F.name)||k},R=A.filter(k=>{var O,q,D;const F=(k.firstName+" "+k.lastName).toLowerCase().includes(o.toLowerCase())||((O=k.email)==null?void 0:O.toLowerCase().includes(o.toLowerCase()))||((q=k.phone)==null?void 0:q.includes(o))||((D=k.ticket_number)==null?void 0:D.toLowerCase().includes(o.toLowerCase())),J=u==="all"||k.status===u,ee=f==="all"||k.service_type===f;return F&&J&&ee});return m?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):E?l.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:E}):t==="gallery"?Q?l.jsx(Tse,{bookingId:Q.id,isOpen:!0,onClose:()=>U(null)}):l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(bu,{className:"text-[--theater-gold]"}),"Seleziona una prenotazione"]}),l.jsxs("div",{className:"relative mb-6",children:[l.jsx("input",{type:"text",value:o,onChange:k=>c(k.target.value),placeholder:"Cerca per nome, email, telefono o ticket...",className:"w-full p-3 pl-10 bg-gray-700 border border-gray-600 rounded text-white"}),l.jsx($g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(k=>l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors cursor-pointer",onClick:()=>U(k),children:l.jsx("div",{className:"flex items-start justify-between gap-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qg,{size:16,className:"text-[--theater-gold]"}),l.jsxs("span",{className:"text-white font-medium",children:[k.firstName," ",k.lastName]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[l.jsx(_n,{size:14}),l.jsxs("span",{children:[k.booking_date," ",k.booking_time]})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["#",k.ticket_number]})]})})},k.id))})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"lg:hidden flex items-center justify-between bg-gray-800 p-4 sticky top-0 z-30",children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),l.jsx("button",{onClick:()=>w(!y),className:"p-2 text-gray-400 hover:text-white",children:y?l.jsx(Rn,{size:24}):l.jsx(mN,{size:24})})]}),l.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>e("bookings"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(_n,{size:20}),"Prenotazioni"]}),l.jsxs("button",{onClick:()=>e("products"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(T9,{size:20}),"Prodotti"]}),l.jsxs("button",{onClick:()=>e("gallery"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[l.jsx(bu,{size:20}),"Gallerie"]})]}),l.jsx("div",{className:"flex gap-4",children:t==="bookings"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(Zi,{size:20}),"Nuova Prenotazione"]}),l.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[l.jsx(As,{size:20}),"Impostazioni"]})]})})]}),t==="products"&&l.jsx(gse,{}),t==="subscriptions"&&l.jsx(Q4,{}),t==="bookings"&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl text-white text-center mb-8 font-marquee",children:"Gestione Prenotazioni"}),n&&N&&l.jsx(pse,{settings:N,onSave:Hp,onClose:()=>r(!1)}),l.jsx(Gre,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(N==null?void 0:N.serviceTypes)||[],onSearchChange:c,onStatusFilterChange:h,onServiceFilterChange:g}),l.jsx(nse,{bookings:R,serviceTypes:(N==null?void 0:N.serviceTypes)||[],bookingStatuses:_,getServiceLabel:T,getStatusColor:C}),l.jsx(_se,{isOpen:s,onClose:()=>i(!1),onSuccess:()=>{i(!1),Oe.success("Prenotazione creata con successo")}})]})]})},Use=[{icon:Go,label:"Profilo",path:"/profile"},{icon:Ao,label:"Sicurezza",path:"/profile/security"}],k4=()=>{const t=hA(),e=Al();return l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:l.jsx("nav",{children:l.jsx("ul",{className:"space-y-2",children:Use.map(n=>l.jsx("li",{children:l.jsxs($.button,{whileHover:{x:4},onClick:()=>e(n.path),className:`w-full flex items-center gap-3 px-4 py-2 rounded transition-colors ${t.pathname===n.path?"bg-[--theater-gold] text-black":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[l.jsx(n.icon,{size:18}),n.label]})},n.path))})})})}),l.jsx("div",{className:"md:col-span-3",children:l.jsx(US,{})})]})})})},R4=()=>{const{user:t}=ti(),[e,n]=I.useState(!1),[r,s]=I.useState(null),[i,A]=I.useState(!1),[a,o]=I.useState({displayName:(t==null?void 0:t.displayName)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",customUrl:""}),c=async u=>{if(u.preventDefault(),!!t){n(!0),s(null),A(!1);try{await vH(t,{displayName:a.displayName}),A(!0)}catch(h){console.error("Error updating profile:",h),s("Errore durante l'aggiornamento del profilo")}finally{n(!1)}}};return l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Go,{className:"text-[--theater-gold]"}),"Profilo"]}),r&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Vt,{size:20}),r]}),i&&l.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6",children:"Profilo aggiornato con successo!"}),l.jsxs("form",{onSubmit:c,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Email"}),l.jsxs("div",{className:"flex items-center gap-2 text-white bg-gray-700 p-3 rounded",children:[l.jsx(wa,{className:"text-[--theater-gold]",size:20}),t==null?void 0:t.email]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Telefono"}),l.jsxs("div",{className:"relative",children:[l.jsx(fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"tel",value:a.phoneNumber,onChange:u=>o({...a,phoneNumber:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il tuo numero"})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-gray-400 mb-2",children:"Nome Azienda"}),l.jsxs("div",{className:"relative",children:[l.jsx(g9,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"text",value:a.displayName,onChange:u=>o({...a,displayName:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome della tua azienda"})]})]})]}),l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Personalizzazione Pagina Prenotazioni"}),l.jsx("p",{className:"text-gray-400 mb-4",children:"Personalizza l'URL della tua pagina di prenotazioni."}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("input",{type:"text",value:a.customUrl,onChange:u=>o({...a,customUrl:u.target.value}),className:"flex-1 p-3 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"URL personalizzato (es: /booking/your-business)"})})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[e?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(Gg,{size:20}),"Salva Modifiche"]})})]})]})})},Fse=()=>{const{subscription:t}=ti();if(!t)return l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 rounded-lg p-6 flex items-start gap-4",children:[l.jsx(Vt,{className:"w-6 h-6 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-red-500",children:"Nessun abbonamento attivo"}),l.jsx("p",{className:"text-gray-400 mt-1",children:"Per utilizzare tutte le funzionalit, attiva un abbonamento."})]})]});const e=t.status==="active",n=new Date(t.endDate),r=Dp(n)?yR(n,new Date):0;return l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:`rounded-lg p-6 flex items-start gap-4 ${e?"bg-green-500/10 border border-green-500":"bg-red-500/10 border border-red-500"}`,children:[e?l.jsx(m9,{className:"w-6 h-6 text-green-500 mt-1"}):l.jsx(R9,{className:"w-6 h-6 text-red-500 mt-1"}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h3",{className:"text-lg font-medium text-white",children:["Piano ",t.plan==="monthly"?"Mensile":"Annuale"]}),l.jsx("span",{className:`px-2 py-0.5 rounded text-sm ${e?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e?"Attivo":"Scaduto"})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[Dp(n)&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[l.jsx(_n,{className:"w-4 h-4"}),l.jsxs("span",{children:["Scade il ",Xe(n,"d MMMM yyyy",{locale:aA}),e&&r>0&&` (${r} giorni rimanenti)`]})]}),t.paypalSubscriptionId&&l.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[l.jsx(_u,{className:"w-4 h-4"}),l.jsx("span",{children:"Rinnovo automatico attivo"})]})]})]})]}),t.plan==="trial"&&l.jsxs("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-6",children:[l.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Piano di prova"}),l.jsxs("p",{className:"text-gray-400",children:["Stai utilizzando il piano di prova gratuito. Hai ancora ",t.maxBookings-t.bookingsUsed," prenotazioni disponibili."]})]}),!e&&l.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Rinnova Abbonamento"})]})},Sse=()=>l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(_u,{className:"text-[--theater-gold]"}),"Abbonamento"]}),l.jsx(Fse,{})]}),l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Storico Fatturazione"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Data"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Importo"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left py-3 text-gray-400",children:"Fattura"})]})}),l.jsx("tbody",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("td",{className:"py-3 text-white",children:"01/01/2024"}),l.jsx("td",{className:"py-3 text-white",children:"20.00"}),l.jsx("td",{className:"py-3",children:l.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Pagato"})}),l.jsx("td",{className:"py-3",children:l.jsx("button",{className:"text-[--theater-gold] hover:underline",children:"Scarica PDF"})})]})})]})})]})]}),Qse=()=>{var m,v,E;const[t,e]=I.useState(""),[n,r]=I.useState(""),[s,i]=I.useState(""),[A,a]=I.useState(!1),[o,c]=I.useState(null),[u,h]=I.useState(!1),f=async x=>{if(x.preventDefault(),!!yn.currentUser){if(n!==s){c("Le password non coincidono");return}a(!0),c(null),h(!1);try{await wH(yn.currentUser,n),h(!0),e(""),r(""),i("")}catch(y){console.error("Error updating password:",y),c("Errore durante l'aggiornamento della password")}finally{a(!1)}}},g=async()=>{if(yn.currentUser){a(!0),c(null),h(!1);try{await mH(yn.currentUser),h(!0)}catch(x){console.error("Error sending verification email:",x),c("Errore durante l'invio dell'email di verifica")}finally{a(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[o&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(Vt,{size:20}),o]}),u&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[l.jsx(xn,{size:20}),(m=yn.currentUser)!=null&&m.emailVerified?"Password aggiornata con successo!":"Email di verifica inviata con successo!"]}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Password Attuale"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:t,onChange:x=>e(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuova Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:n,onChange:x=>r(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Conferma Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ao,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),l.jsx("input",{type:"password",value:s,onChange:x=>i(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),l.jsx("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:A?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Aggiornamento in corso..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ao,{size:20}),"Aggiorna Password"]})})]}),l.jsx("div",{className:"border-t border-gray-700 pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Verifica Email"}),l.jsx("p",{className:"text-gray-400",children:(v=yn.currentUser)!=null&&v.emailVerified?"La tua email  verificata":"Verifica la tua email per accedere a tutte le funzionalit"})]}),!((E=yn.currentUser)!=null&&E.emailVerified)&&l.jsxs("button",{onClick:g,disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[A?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(wa,{size:20}),"Invia Verifica"]})]})})]})},P4=()=>l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(F9,{className:"text-[--theater-gold]"}),"Sicurezza"]}),l.jsx(Qse,{})]})}),Nse=async(t,e)=>{try{const n=Je(me,"notification_settings",t);return await Og(n,{settings:e.reduce((r,s)=>({...r,[s.id]:{enabled:s.enabled,template:s.template}}),{}),updatedAt:new Date}),await Mr(Ft(me,"notification_logs"),{userId:t,type:"settings_update",timestamp:new Date,details:{settings:e}}),!0}catch(n){throw console.error("Error saving notification settings:",n),n}},kse=async t=>{try{const e=Je(me,"notification_settings",t),n=await hs(e);return n.exists()?n.data():{settings:{subscription_expiring:{enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},subscription_expired:{enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},subscription_renewed:{enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}}}}catch(e){throw console.error("Error getting notification settings:",e),e}},Rse=[{id:"subscription_expiring",enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},{id:"subscription_expired",enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},{id:"subscription_renewed",enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}],Pse=()=>{const{user:t}=ti(),[e,n]=I.useState(Rse),[r,s]=I.useState(null),[i,A]=I.useState(!1),[a,o]=I.useState(null),[c,u]=I.useState(!1);I.useEffect(()=>{(async()=>{if(t)try{const g=await kse(t.uid);if(g){const m=Object.entries(g.settings).map(([v,E])=>({id:v,...E}));n(m)}}catch(g){console.error("Error loading notification settings:",g),o("Errore nel caricamento delle preferenze di notifica")}})()},[t]);const h=async()=>{if(!t){o("Utente non autenticato");return}A(!0),o(null),u(!1);try{await Nse(t.uid,e),e.some(f=>f.enabled)?await eg(t.email,{type:"custom",message:"Questa  una notifica di test. Le tue preferenze di notifica sono state aggiornate con successo!"})?u(!0):o("Le preferenze sono state salvate ma non  stato possibile inviare la notifica di test"):u(!0),s(null)}catch(f){console.error("Error saving notification settings:",f),o("Errore durante il salvataggio delle preferenze")}finally{A(!1)}};return l.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[l.jsx(Iv,{className:"text-[--theater-gold]"}),"Notifiche"]}),a&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(Vt,{size:20}),a]}),c&&l.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[l.jsx(xn,{size:20}),"Preferenze salvate con successo"]}),l.jsx("div",{className:"space-y-6",children:e.map(f=>l.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.enabled,onChange:g=>{const m=e.map(v=>v.id===f.id?{...v,enabled:g.target.checked}:v);n(m)},className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[--theater-gold]"})]}),l.jsxs("h3",{className:"text-lg font-medium text-white",children:[f.id==="subscription_expiring"&&"Abbonamento in Scadenza",f.id==="subscription_expired"&&"Abbonamento Scaduto",f.id==="subscription_renewed"&&"Abbonamento Rinnovato"]})]}),l.jsx("button",{onClick:()=>s(r===f.id?null:f.id),className:"text-[--theater-gold] hover:text-yellow-500 transition-colors",children:r===f.id?"Chiudi":"Personalizza"})]}),r===f.id&&l.jsxs("div",{className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Oggetto Email"}),l.jsx("input",{type:"text",value:f.template.subject,onChange:g=>{const m=e.map(v=>v.id===f.id?{...v,template:{...v.template,subject:g.target.value}}:v);n(m)},className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Testo Email"}),l.jsx("textarea",{value:f.template.body,onChange:g=>{const m=e.map(v=>v.id===f.id?{...v,template:{...v.template,body:g.target.value}}:v);n(m)},rows:4,className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[l.jsx("p",{children:"Variabili disponibili:"}),l.jsxs("ul",{className:"list-disc list-inside mt-1",children:[f.id==="subscription_expiring"&&l.jsxs("li",{children:["{days_left}"," - Giorni rimanenti alla scadenza"]}),f.id==="subscription_renewed"&&l.jsxs("li",{children:["{expiry_date}"," - Data di scadenza del nuovo abbonamento"]})]})]})]})]},f.id))}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:h,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:i?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Gg,{size:20}),"Salva Preferenze"]})})})]})})},Dse=async(t,e,n,r)=>{var s;try{const i=new Date,A=new Date(i);A.setMonth(A.getMonth()+(e==="yearly"?12:1));const a=Je(me,"subscriptions",t),o=Je(me,"users",t),u=(s=(await hs(o)).data())==null?void 0:s.email;await Og(a,{userId:t,plan:e,status:"active",startDate:i,endDate:A,maxBookings:e==="yearly"?1e3:100,bookingsUsed:0,...n==="stripe"&&{stripeSubscriptionId:r},...n==="paypal"&&{paypalSubscriptionId:r},updatedAt:Kn()},{merge:!0}),await Ws(o,{"subscription.status":"active","subscription.plan":e,"subscription.endDate":A,updatedAt:Kn()}),u&&await eg(u,{type:"extension",endDate:A})}catch(i){throw console.error("Error activating subscription:",i),i}},Lse=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!0),[s,i]=I.useState(null),[A,a]=I.useState(""),[o,c]=I.useState("all"),[u,h]=I.useState("all"),[f,g]=I.useState(null),[m,v]=I.useState(!1);I.useEffect(()=>{const w=Ft(me,"users"),Q=ds(w,oa("createdAt","desc")),U=hl(Q,N=>{const _=N.docs.map(C=>{var b,T,R,k;return{id:C.id,...C.data(),createdAt:(b=C.data().createdAt)==null?void 0:b.toDate(),updatedAt:(T=C.data().updatedAt)==null?void 0:T.toDate(),lastLoginAt:(R=C.data().lastLoginAt)==null?void 0:R.toDate(),subscription:C.data().subscription?{...C.data().subscription,endDate:(k=C.data().subscription.endDate)==null?void 0:k.toDate()}:void 0}});e(_),r(!1)},N=>{console.error("Error fetching users:",N),i("Errore nel caricamento degli utenti"),r(!1)});return()=>U()},[]);const E=async(w,Q)=>{v(!0),i(null);try{await Dse(w,"monthly","admin_activation"),await Ws(Je(me,"users",w),{subscription:{status:"active",plan:"monthly",endDate:new Date(Date.now()+30*24*60*60*1e3)},updatedAt:new Date})}catch(U){console.error("Error activating subscription:",U),i("Errore durante l'attivazione dell'abbonamento")}finally{v(!1)}},x=async(w,Q)=>{try{await Ws(Je(me,"users",w),{status:Q,updatedAt:new Date})}catch(U){console.error("Error updating user status:",U),i("Errore durante l'aggiornamento dello stato utente")}},y=t.filter(w=>{var _;const Q=w.email.toLowerCase().includes(A.toLowerCase())||((_=w.displayName)==null?void 0:_.toLowerCase().includes(A.toLowerCase())),U=o==="all"||w.role===o,N=u==="all"||w.status===u;return Q&&U&&N});return n?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(qg,{className:"text-[--theater-gold]"}),"Gestione Utenti"]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:l.jsx(vN,{size:20})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx($g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Cerca per email o nome...",value:A,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mp,{className:"text-gray-400"}),l.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti i ruoli"}),l.jsx("option",{value:"user",children:"Utenti"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mp,{className:"text-gray-400"}),l.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[l.jsx("option",{value:"all",children:"Tutti gli stati"}),l.jsx("option",{value:"active",children:"Attivi"}),l.jsx("option",{value:"suspended",children:"Sospesi"}),l.jsx("option",{value:"pending",children:"In attesa"})]})]})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-700",children:[l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Nome"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ruolo"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Abbonamento"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ultimo Accesso"}),l.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),l.jsx("tbody",{children:y.map(w=>{var Q;return l.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[l.jsx("td",{className:"p-4 text-white",children:w.email}),l.jsx("td",{className:"p-4 text-white",children:w.displayName||"-"}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:w.role==="admin"?"Admin":"Utente"})}),l.jsx("td",{className:"p-4",children:l.jsxs("select",{value:w.status,onChange:U=>x(w.id,U.target.value),className:`px-3 py-1 rounded text-sm ${w.status==="active"?"bg-green-500/20 text-green-400":w.status==="suspended"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[l.jsx("option",{value:"active",children:"Attivo"}),l.jsx("option",{value:"suspended",children:"Sospeso"}),l.jsx("option",{value:"pending",children:"In attesa"})]})}),l.jsx("td",{className:"p-4",children:w.subscription?l.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.subscription.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:w.subscription.status==="active"?`${w.subscription.plan} (attivo)`:"Scaduto"}):l.jsxs("button",{onClick:()=>E(w.id,w.email),disabled:m,className:"flex items-center gap-2 px-3 py-1 bg-[--theater-gold] text-black rounded-full text-sm hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[m?l.jsx("span",{className:"animate-spin",children:""}):l.jsx(vb,{size:14}),"Attiva"]})}),l.jsx("td",{className:"p-4 text-gray-400",children:((Q=w.lastLoginAt)==null?void 0:Q.toLocaleDateString())||"Mai"}),l.jsx("td",{className:"p-4",children:l.jsx("button",{onClick:()=>g(w),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:l.jsx(vb,{size:18})})})]},w.id)})})]})})]})})})},Mse=()=>{const{user:t,isAdmin:e}=ti(),n=Al();if(!t)return l.jsx(Bo,{to:"/login",replace:!0});if(!e)return l.jsx(Bo,{to:"/",replace:!0});const r=async()=>{try{await yn.signOut(),n("/")}catch(s){console.error("Error signing out:",s)}};return l.jsxs("div",{className:"min-h-screen bg-gray-900",children:[l.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:l.jsx("div",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(xo,{to:"/dashboard",className:"text-2xl font-marquee text-[--theater-gold]",children:"Booking Manager"}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"relative group",children:[l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:[l.jsx(Go,{size:18}),l.jsx("span",{className:"max-w-[150px] truncate",children:t==null?void 0:t.email})]}),l.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[l.jsx(xo,{to:"/dashboard/profile",className:"block px-4 py-2 text-white hover:bg-gray-600 transition-colors",children:"Profilo"}),l.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-600 transition-colors flex items-center gap-2",children:[l.jsx(E9,{size:18}),"Esci"]})]})]})})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(FS,{children:[l.jsx(bt,{path:"/",element:l.jsx(Ise,{})}),l.jsx(bt,{path:"users",element:l.jsx(Lse,{})}),l.jsx(bt,{path:"subscriptions",element:l.jsx(Q4,{})}),l.jsxs(bt,{path:"profile/*",element:l.jsx(k4,{}),children:[l.jsx(bt,{index:!0,element:l.jsx(R4,{})}),l.jsx(bt,{path:"subscription",element:l.jsx(Sse,{})}),l.jsx(bt,{path:"security",element:l.jsx(P4,{})}),l.jsx(bt,{path:"notifications",element:l.jsx(Pse,{})})]}),l.jsx(bt,{path:"*",element:l.jsx(Bo,{to:"/dashboard",replace:!0})})]})})]})},jse=()=>l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx(dN,{className:"w-24 h-24 text-[--theater-gold]"})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Pagina non trovata"}),l.jsx("p",{className:"text-gray-400 mb-8",children:"La pagina che stai cercando non esiste o  stata spostata."}),l.jsxs(xo,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[l.jsx(gN,{size:20}),"Torna alla Home"]})]})}),Ose=()=>{const t=Al(),e=hA(),{user:n}=ti(),[r,s]=I.useState(null);return I.useEffect(()=>{(async()=>{if(n)try{const a=new URLSearchParams(e.search).get("code");if(!a)throw new Error("Codice di autorizzazione mancante");await gY(a,n.uid);const o=sessionStorage.getItem("calendarReturnTo")||"/dashboard";sessionStorage.removeItem("calendarReturnTo"),t(o)}catch(A){console.error("Error handling calendar callback:",A),s("Errore durante la connessione a Google Calendar")}})()},[n,e.search,t]),l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center",children:[l.jsx(_n,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-6"}),r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 mb-4",children:[l.jsx(Vt,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Errore di Connessione"})]}),l.jsx("p",{className:"text-gray-400",children:r})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500 mb-4",children:[l.jsx(xn,{size:24}),l.jsx("h2",{className:"text-xl font-semibold",children:"Connessione in corso..."})]}),l.jsx("p",{className:"text-gray-400",children:"Stiamo connettendo il tuo Google Calendar..."})]})]})})},Hse=()=>{const{bookingId:t}=fM(),[e,n]=I.useState([]),[r,s]=I.useState(null),[i,A]=I.useState(!0),[a,o]=I.useState(null),[c,u]=I.useState([]),[h,f]=I.useState(null),[g,m]=I.useState(!1);I.useEffect(()=>{(async()=>{if(t){A(!0),o(null);try{const w=await hs(Je(me,"bookings",t));if(!w.exists()){o("Galleria non trovata");return}s(w.data());const Q=Ft(me,"galleries"),U=ds(Q,Ji("bookingId","==",t),oa("uploadedAt","desc")),_=(await zo(U)).docs.map(C=>({id:C.id,...C.data()}));n(_)}catch(w){console.error("Error loading gallery:",w),o("Errore nel caricamento della galleria")}finally{A(!1)}}})()},[t]);const v=y=>{u(w=>w.includes(y)?w.filter(Q=>Q!==y):[...w,y]),m(!1)},E=async()=>{if(!(!t||c.length===0))try{await Mr(Ft(me,"photo_selections"),{bookingId:t,photoIds:c,createdAt:new Date}),m(!0),Oe.success("Selezione salvata con successo!")}catch(y){console.error("Error saving selection:",y),Oe.error("Errore nel salvataggio della selezione")}},x=()=>{navigator.share?navigator.share({title:"La mia galleria fotografica",url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>Oe.success("Link copiato negli appunti")).catch(()=>Oe.error("Errore nella copia del link"))};return i?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin text-[--theater-gold] text-4xl",children:""})}):a||!r?l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-6 rounded-lg max-w-md w-full flex items-center gap-3",children:[l.jsx(Vt,{size:24}),l.jsx("p",{children:a||"Galleria non trovata"})]})}):l.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx(As,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"La tua Galleria Fotografica"}),l.jsx("p",{className:"text-gray-400",children:"Seleziona le tue foto preferite"})]}),l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"text-gray-400",children:[c.length," foto selezionate"]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[l.jsx(Wg,{size:20}),"Condividi"]}),c.length>0&&l.jsxs("button",{onClick:E,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[l.jsx(xn,{size:20}),g?"Selezione Salvata":"Conferma Selezione"]})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((y,w)=>l.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"relative group",children:[l.jsx("img",{src:y.url,alt:y.name,className:"w-full aspect-square object-cover rounded-lg cursor-pointer",onClick:()=>f(w)}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-4",children:[l.jsx("button",{onClick:Q=>{Q.stopPropagation(),v(y.id)},className:`p-3 rounded-full transition-colors ${c.includes(y.id)?"bg-[--theater-gold] text-black":"bg-white/20 text-white hover:bg-white/30"}`,children:l.jsx(pN,{size:24,className:c.includes(y.id)?"fill-current":""})}),l.jsx("a",{href:y.url,download:!0,onClick:Q=>Q.stopPropagation(),className:"p-3 bg-white/20 text-white rounded-full hover:bg-white/30 transition-colors",children:l.jsx(Fx,{size:24})})]}),c.includes(y.id)&&l.jsx("div",{className:"absolute top-2 right-2 w-8 h-8 bg-[--theater-gold] rounded-full flex items-center justify-center",children:l.jsx(xn,{className:"w-5 h-5 text-black"})})]},y.id))}),l.jsx(ln,{children:h!==null&&l.jsx(N4,{photos:e,currentIndex:h,onClose:()=>f(null),onNext:()=>f(y=>y!==null&&y<e.length-1?y+1:y),onPrev:()=>f(y=>y!==null&&y>0?y-1:y),onFavorite:v,favorites:c})}),c.length>0&&l.jsx($.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-0 inset-x-0 bg-gray-800 p-4 border-t border-gray-700",children:l.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[l.jsxs("div",{className:"text-white",children:[c.length," foto selezionate"]}),l.jsxs("button",{onClick:E,disabled:g,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[l.jsx(xn,{size:20}),g?"Selezione Salvata":"Conferma Selezione"]})]})})]})})},Vse="/carnival2025",Kse=()=>(ti(),l.jsxs(FS,{children:[l.jsx(bt,{path:"/",element:l.jsx(Bo,{to:"/prenota",replace:!0})}),l.jsxs(bt,{element:l.jsx(dW,{}),children:[l.jsx(bt,{path:"/prenota",element:l.jsx(zre,{})}),l.jsx(bt,{path:"/dashboard/*",element:l.jsx(Bb,{requireAdmin:!0,children:l.jsx(Mse,{})})}),l.jsxs(bt,{path:"/profile",element:l.jsx(Bb,{children:l.jsx(k4,{})}),children:[l.jsx(bt,{index:!0,element:l.jsx(R4,{})}),l.jsx(bt,{path:"security",element:l.jsx(P4,{})})]}),l.jsx(bt,{path:"/gallery/:bookingId",element:l.jsx(Hse,{})}),l.jsx(bt,{path:"/calendar/callback",element:l.jsx(Ose,{})}),l.jsx(bt,{path:"/404",element:l.jsx(jse,{})}),l.jsx(bt,{path:"*",element:l.jsx(Bo,{to:"/404",replace:!0})})]})]})),zse=()=>l.jsx(L9,{children:l.jsx(Cz,{children:l.jsx(RM,{basename:Vse,children:l.jsxs(yz,{children:[l.jsx(Kse,{}),l.jsx(h9,{position:"top-right",toastOptions:{style:{background:"#333",color:"#fff",borderRadius:"8px"},success:{iconTheme:{primary:"#FFD700",secondary:"#000"}},error:{iconTheme:{primary:"#ff4b4b",secondary:"#fff"}}}})]})})})}),D4=document.getElementById("root");if(!D4)throw new Error("Failed to find the root element");vB(D4).render(l.jsx(I.StrictMode,{children:l.jsx(zse,{})}));
