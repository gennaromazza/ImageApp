function _D(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LT={exports:{}},Vp={},MT={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),bD=Symbol.for("react.portal"),ID=Symbol.for("react.fragment"),TD=Symbol.for("react.strict_mode"),FD=Symbol.for("react.profiler"),UD=Symbol.for("react.provider"),SD=Symbol.for("react.context"),QD=Symbol.for("react.forward_ref"),ND=Symbol.for("react.suspense"),kD=Symbol.for("react.memo"),RD=Symbol.for("react.lazy"),XC=Symbol.iterator;function DD(t){return t===null||typeof t!="object"?null:(t=XC&&t[XC]||t["@@iterator"],typeof t=="function"?t:null)}var OT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jT=Object.assign,VT={};function Go(t,e,n){this.props=t,this.context=e,this.refs=VT,this.updater=n||OT}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HT(){}HT.prototype=Go.prototype;function aw(t,e,n){this.props=t,this.context=e,this.refs=VT,this.updater=n||OT}var ow=aw.prototype=new HT;ow.constructor=aw;jT(ow,Go.prototype);ow.isPureReactComponent=!0;var YC=Array.isArray,KT=Object.prototype.hasOwnProperty,lw={current:null},zT={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var r,s={},i=null,A=null;if(e!=null)for(r in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)KT.call(e,r)&&!zT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Du,type:t,key:i,ref:A,props:s,_owner:lw.current}}function PD(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function LD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var JC=/\/+/g;function gm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LD(""+t.key):e.toString(36)}function Fh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Du:case bD:A=!0}}if(A)return A=t,s=s(A),t=r===""?"."+gm(A,0):r,YC(s)?(n="",t!=null&&(n=t.replace(JC,"$&/")+"/"),Fh(s,e,n,"",function(l){return l})):s!=null&&(cw(s)&&(s=PD(s,n+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(JC,"$&/")+"/")+t)),e.push(s)),1;if(A=0,r=r===""?".":r+":",YC(t))for(var a=0;a<t.length;a++){i=t[a];var o=r+gm(i,a);A+=Fh(i,e,n,o,s)}else if(o=DD(t),typeof o=="function")for(t=o.call(t),a=0;!(i=t.next()).done;)i=i.value,o=r+gm(i,a++),A+=Fh(i,e,n,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Sd(t,e,n){if(t==null)return t;var r=[],s=0;return Fh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function MD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},Uh={transition:null},OD={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:lw};function WT(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Sd,forEach:function(t,e,n){Sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sd(t,function(){e++}),e},toArray:function(t){return Sd(t,function(e){return e})||[]},only:function(t){if(!cw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=Go;Ue.Fragment=ID;Ue.Profiler=FD;Ue.PureComponent=aw;Ue.StrictMode=TD;Ue.Suspense=ND;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OD;Ue.act=WT;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jT({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=lw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)KT.call(e,o)&&!zT.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Du,type:t.type,key:s,ref:i,props:r,_owner:A}};Ue.createContext=function(t){return t={$$typeof:SD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UD,_context:t},t.Consumer=t};Ue.createElement=GT;Ue.createFactory=function(t){var e=GT.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:QD,render:t}};Ue.isValidElement=cw;Ue.lazy=function(t){return{$$typeof:RD,_payload:{_status:-1,_result:t},_init:MD}};Ue.memo=function(t,e){return{$$typeof:kD,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=Uh.transition;Uh.transition={};try{t()}finally{Uh.transition=e}};Ue.unstable_act=WT;Ue.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Ue.useContext=function(t){return Sn.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Ue.useId=function(){return Sn.current.useId()};Ue.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Ue.useRef=function(t){return Sn.current.useRef(t)};Ue.useState=function(t){return Sn.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Sn.current.useTransition()};Ue.version="18.3.1";MT.exports=Ue;var S=MT.exports;const pe=PT(S),jD=_D({__proto__:null,default:pe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD=S,HD=Symbol.for("react.element"),KD=Symbol.for("react.fragment"),zD=Object.prototype.hasOwnProperty,GD=VD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WD={key:!0,ref:!0,__self:!0,__source:!0};function $T(t,e,n){var r,s={},i=null,A=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(r in e)zD.call(e,r)&&!WD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:HD,type:t,key:i,ref:A,props:s,_owner:GD.current}}Vp.Fragment=KD;Vp.jsx=$T;Vp.jsxs=$T;LT.exports=Vp;var c=LT.exports,qT={exports:{}},rr={},XT={exports:{}},YT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,K){var z=P.length;P.push(K);e:for(;0<z;){var ge=z-1>>>1,we=P[ge];if(0<s(we,K))P[ge]=K,P[z]=we,z=ge;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var K=P[0],z=P.pop();if(z!==K){P[0]=z;e:for(var ge=0,we=P.length,Te=we>>>1;ge<Te;){var Ke=2*(ge+1)-1,tt=P[Ke],At=Ke+1,gt=P[At];if(0>s(tt,z))At<we&&0>s(gt,tt)?(P[ge]=gt,P[At]=z,ge=At):(P[ge]=tt,P[Ke]=z,ge=Ke);else if(At<we&&0>s(gt,z))P[ge]=gt,P[At]=z,ge=At;else break e}}return K}function s(P,K){var z=P.sortIndex-K.sortIndex;return z!==0?z:P.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],l=[],u=1,h=null,f=3,g=!1,m=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var K=n(l);K!==null;){if(K.callback===null)r(l);else if(K.startTime<=P)r(l),K.sortIndex=K.expirationTime,e(o,K);else break;K=n(l)}}function F(P){if(y=!1,w(P),!m)if(n(o)!==null)m=!0,V(Q);else{var K=n(l);K!==null&&q(F,K.startTime-P)}}function Q(P,K){m=!1,y&&(y=!1,x(E),E=-1),g=!0;var z=f;try{for(w(K),h=n(o);h!==null&&(!(h.expirationTime>K)||P&&!N());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,f=h.priorityLevel;var we=ge(h.expirationTime<=K);K=t.unstable_now(),typeof we=="function"?h.callback=we:h===n(o)&&r(o),w(K)}else r(o);h=n(o)}if(h!==null)var Te=!0;else{var Ke=n(l);Ke!==null&&q(F,Ke.startTime-K),Te=!1}return Te}finally{h=null,f=z,g=!1}}var k=!1,I=null,E=-1,b=5,_=-1;function N(){return!(t.unstable_now()-_<b)}function R(){if(I!==null){var P=t.unstable_now();_=P;var K=!0;try{K=I(!0,P)}finally{K?T():(k=!1,I=null)}}else k=!1}var T;if(typeof v=="function")T=function(){v(R)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=R,T=function(){ie.postMessage(null)}}else T=function(){C(R,0)};function V(P){I=P,k||(k=!0,T())}function q(P,K){E=C(function(){P(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,V(Q))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var z=f;f=K;try{return P()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=f;f=P;try{return K()}finally{f=z}},t.unstable_scheduleCallback=function(P,K,z){var ge=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ge+z:ge):z=ge,P){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=z+we,P={id:u++,callback:K,priorityLevel:P,startTime:z,expirationTime:we,sortIndex:-1},z>ge?(P.sortIndex=z,e(l,P),n(o)===null&&P===n(l)&&(y?(x(E),E=-1):y=!0,q(F,z-ge))):(P.sortIndex=we,e(o,P),m||g||(m=!0,V(Q))),P},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(P){var K=f;return function(){var z=f;f=K;try{return P.apply(this,arguments)}finally{f=z}}}})(YT);XT.exports=YT;var $D=XT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qD=S,Jn=$D;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JT=new Set,Lc={};function Aa(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(Lc[t]=e,t=0;t<e.length;t++)JT.add(e[t])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K0=Object.prototype.hasOwnProperty,XD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZC={},eE={};function YD(t){return K0.call(eE,t)?!0:K0.call(ZC,t)?!1:XD.test(t)?eE[t]=!0:(ZC[t]=!0,!1)}function JD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZD(t,e,n,r){if(e===null||typeof e>"u"||JD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var uw=/[\-:]([a-z])/g;function dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uw,dw);nn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uw,dw);nn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uw,dw);nn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function hw(t,e,n,r){var s=nn.hasOwnProperty(e)?nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZD(e,n,s,r)&&(n=null),r||s===null?YD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ys=qD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qd=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),fw=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),eF=Symbol.for("react.context"),pw=Symbol.for("react.forward_ref"),G0=Symbol.for("react.suspense"),W0=Symbol.for("react.suspense_list"),gw=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),tF=Symbol.for("react.offscreen"),tE=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=tE&&t[tE]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,mm;function Vl(t){if(mm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mm=e&&e[1]||""}return`
`+mm+t}var ym=!1;function vm(t,e){if(!t||ym)return"";ym=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var o=`
`+s[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{ym=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vl(t):""}function eP(t){switch(t.tag){case 5:return Vl(t.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return t=vm(t.type,!1),t;case 11:return t=vm(t.type.render,!1),t;case 1:return t=vm(t.type,!0),t;default:return""}}function $0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case La:return"Fragment";case Pa:return"Portal";case z0:return"Profiler";case fw:return"StrictMode";case G0:return"Suspense";case W0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eF:return(t.displayName||"Context")+".Consumer";case ZT:return(t._context.displayName||"Context")+".Provider";case pw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gw:return e=t.displayName||null,e!==null?e:$0(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return $0(t(e))}catch{}}return null}function tP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $0(e);case 8:return e===fw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nP(t){var e=nF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){r=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nd(t){t._valueTracker||(t._valueTracker=nP(t))}function rF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function af(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function q0(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function nE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sF(t,e){e=e.checked,e!=null&&hw(t,"checked",e,!1)}function X0(t,e){sF(t,e);var n=Hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y0(t,e.type,n):e.hasOwnProperty("defaultValue")&&Y0(t,e.type,Hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Y0(t,e,n){(e!=="number"||af(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function J0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Hl(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hi(n)}}function iF(t,e){var n=Hi(e.value),r=Hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kd,aF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kd=kd||document.createElement("div"),kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rP=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){rP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function oF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function lF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sP=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ey(t,e){if(e){if(sP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ty(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ny=null;function mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ry=null,Ao=null,ao=null;function AE(t){if(t=Mu(t)){if(typeof ry!="function")throw Error($(280));var e=t.stateNode;e&&(e=Wp(e),ry(t.stateNode,t.type,e))}}function cF(t){Ao?ao?ao.push(t):ao=[t]:Ao=t}function uF(){if(Ao){var t=Ao,e=ao;if(ao=Ao=null,AE(t),e)for(t=0;t<e.length;t++)AE(e[t])}}function dF(t,e){return t(e)}function hF(){}var wm=!1;function fF(t,e,n){if(wm)return t(e,n);wm=!0;try{return dF(t,e,n)}finally{wm=!1,(Ao!==null||ao!==null)&&(hF(),uF())}}function Oc(t,e){var n=t.stateNode;if(n===null)return null;var r=Wp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var sy=!1;if(Rs)try{var El={};Object.defineProperty(El,"passive",{get:function(){sy=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{sy=!1}function iP(t,e,n,r,s,i,A,a,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var dc=!1,of=null,lf=!1,iy=null,AP={onError:function(t){dc=!0,of=t}};function aP(t,e,n,r,s,i,A,a,o){dc=!1,of=null,iP.apply(AP,arguments)}function oP(t,e,n,r,s,i,A,a,o){if(aP.apply(this,arguments),dc){if(dc){var l=of;dc=!1,of=null}else throw Error($(198));lf||(lf=!0,iy=l)}}function aa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aE(t){if(aa(t)!==t)throw Error($(188))}function lP(t){var e=t.alternate;if(!e){if(e=aa(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return aE(s),t;if(i===r)return aE(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var A=!1,a=s.child;a;){if(a===n){A=!0,n=s,r=i;break}if(a===r){A=!0,r=s,n=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===n){A=!0,n=i,r=s;break}if(a===r){A=!0,r=i,n=s;break}a=a.sibling}if(!A)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function gF(t){return t=lP(t),t!==null?mF(t):null}function mF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mF(t);if(e!==null)return e;t=t.sibling}return null}var yF=Jn.unstable_scheduleCallback,oE=Jn.unstable_cancelCallback,cP=Jn.unstable_shouldYield,uP=Jn.unstable_requestPaint,_t=Jn.unstable_now,dP=Jn.unstable_getCurrentPriorityLevel,yw=Jn.unstable_ImmediatePriority,vF=Jn.unstable_UserBlockingPriority,cf=Jn.unstable_NormalPriority,hP=Jn.unstable_LowPriority,wF=Jn.unstable_IdlePriority,Hp=null,Xr=null;function fP(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Hp,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:mP,pP=Math.log,gP=Math.LN2;function mP(t){return t>>>=0,t===0?32:31-(pP(t)/gP|0)|0}var Rd=64,Dd=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,A=n&268435455;if(A!==0){var a=A&~s;a!==0?r=Kl(a):(i&=A,i!==0&&(r=Kl(i)))}else A=n&~s,A!==0?r=Kl(A):i!==0&&(r=Kl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),s=1<<n,r|=t[n],e&=~s;return r}function yP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-Ur(i),a=1<<A,o=s[A];o===-1?(!(a&n)||a&r)&&(s[A]=yP(a,e)):o<=e&&(t.expiredLanes|=a),i&=~a}}function Ay(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BF(){var t=Rd;return Rd<<=1,!(Rd&4194240)&&(Rd=64),t}function Bm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function wP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function vw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ge=0;function xF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CF,ww,EF,_F,bF,ay=!1,Pd=[],Ti=null,Fi=null,Ui=null,jc=new Map,Vc=new Map,hi=[],BP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lE(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function _l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mu(e),e!==null&&ww(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function xP(t,e,n,r,s){switch(e){case"focusin":return Ti=_l(Ti,t,e,n,r,s),!0;case"dragenter":return Fi=_l(Fi,t,e,n,r,s),!0;case"mouseover":return Ui=_l(Ui,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jc.set(i,_l(jc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vc.set(i,_l(Vc.get(i)||null,t,e,n,r,s)),!0}return!1}function IF(t){var e=FA(t.target);if(e!==null){var n=aa(e);if(n!==null){if(e=n.tag,e===13){if(e=pF(n),e!==null){t.blockedOn=e,bF(t.priority,function(){EF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ny=r,n.target.dispatchEvent(r),ny=null}else return e=Mu(n),e!==null&&ww(e),t.blockedOn=n,!1;e.shift()}return!0}function cE(t,e,n){Sh(t)&&n.delete(e)}function CP(){ay=!1,Ti!==null&&Sh(Ti)&&(Ti=null),Fi!==null&&Sh(Fi)&&(Fi=null),Ui!==null&&Sh(Ui)&&(Ui=null),jc.forEach(cE),Vc.forEach(cE)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,ay||(ay=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,CP)))}function Hc(t){function e(s){return bl(s,t)}if(0<Pd.length){bl(Pd[0],t);for(var n=1;n<Pd.length;n++){var r=Pd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&bl(Ti,t),Fi!==null&&bl(Fi,t),Ui!==null&&bl(Ui,t),jc.forEach(e),Vc.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)IF(n),n.blockedOn===null&&hi.shift()}var oo=Ys.ReactCurrentBatchConfig,df=!0;function EP(t,e,n,r){var s=Ge,i=oo.transition;oo.transition=null;try{Ge=1,Bw(t,e,n,r)}finally{Ge=s,oo.transition=i}}function _P(t,e,n,r){var s=Ge,i=oo.transition;oo.transition=null;try{Ge=4,Bw(t,e,n,r)}finally{Ge=s,oo.transition=i}}function Bw(t,e,n,r){if(df){var s=oy(t,e,n,r);if(s===null)Sm(t,e,r,hf,n),lE(t,r);else if(xP(s,t,e,n,r))r.stopPropagation();else if(lE(t,r),e&4&&-1<BP.indexOf(t)){for(;s!==null;){var i=Mu(s);if(i!==null&&CF(i),i=oy(t,e,n,r),i===null&&Sm(t,e,r,hf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Sm(t,e,r,null,n)}}var hf=null;function oy(t,e,n,r){if(hf=null,t=mw(r),t=FA(t),t!==null)if(e=aa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hf=t,null}function TF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dP()){case yw:return 1;case vF:return 4;case cf:case hP:return 16;case wF:return 536870912;default:return 16}default:return 16}}var wi=null,xw=null,Qh=null;function FF(){if(Qh)return Qh;var t,e=xw,n=e.length,r,s="value"in wi?wi.value:wi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var A=n-t;for(r=1;r<=A&&e[n-r]===s[i-r];r++);return Qh=s.slice(t,1<r?1-r:void 0)}function Nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ld(){return!0}function uE(){return!1}function sr(t){function e(n,r,s,i,A){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ld:uE,this.isPropagationStopped=uE,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cw=sr(Wo),Lu=ft({},Wo,{view:0,detail:0}),bP=sr(Lu),xm,Cm,Il,Kp=ft({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ew,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(xm=t.screenX-Il.screenX,Cm=t.screenY-Il.screenY):Cm=xm=0,Il=t),xm)},movementY:function(t){return"movementY"in t?t.movementY:Cm}}),dE=sr(Kp),IP=ft({},Kp,{dataTransfer:0}),TP=sr(IP),FP=ft({},Lu,{relatedTarget:0}),Em=sr(FP),UP=ft({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),SP=sr(UP),QP=ft({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NP=sr(QP),kP=ft({},Wo,{data:0}),hE=sr(kP),RP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PP[t])?!!e[t]:!1}function Ew(){return LP}var MP=ft({},Lu,{key:function(t){if(t.key){var e=RP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ew,charCode:function(t){return t.type==="keypress"?Nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OP=sr(MP),jP=ft({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fE=sr(jP),VP=ft({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ew}),HP=sr(VP),KP=ft({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zP=sr(KP),GP=ft({},Kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WP=sr(GP),$P=[9,13,27,32],_w=Rs&&"CompositionEvent"in window,hc=null;Rs&&"documentMode"in document&&(hc=document.documentMode);var qP=Rs&&"TextEvent"in window&&!hc,UF=Rs&&(!_w||hc&&8<hc&&11>=hc),pE=" ",gE=!1;function SF(t,e){switch(t){case"keyup":return $P.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function XP(t,e){switch(t){case"compositionend":return QF(e);case"keypress":return e.which!==32?null:(gE=!0,pE);case"textInput":return t=e.data,t===pE&&gE?null:t;default:return null}}function YP(t,e){if(Ma)return t==="compositionend"||!_w&&SF(t,e)?(t=FF(),Qh=xw=wi=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UF&&e.locale!=="ko"?null:e.data;default:return null}}var JP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JP[t.type]:e==="textarea"}function NF(t,e,n,r){cF(r),e=ff(e,"onChange"),0<e.length&&(n=new Cw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fc=null,Kc=null;function ZP(t){KF(t,0)}function zp(t){var e=Va(t);if(rF(e))return t}function e4(t,e){if(t==="change")return e}var kF=!1;if(Rs){var _m;if(Rs){var bm="oninput"in document;if(!bm){var yE=document.createElement("div");yE.setAttribute("oninput","return;"),bm=typeof yE.oninput=="function"}_m=bm}else _m=!1;kF=_m&&(!document.documentMode||9<document.documentMode)}function vE(){fc&&(fc.detachEvent("onpropertychange",RF),Kc=fc=null)}function RF(t){if(t.propertyName==="value"&&zp(Kc)){var e=[];NF(e,Kc,t,mw(t)),fF(ZP,e)}}function t4(t,e,n){t==="focusin"?(vE(),fc=e,Kc=n,fc.attachEvent("onpropertychange",RF)):t==="focusout"&&vE()}function n4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zp(Kc)}function r4(t,e){if(t==="click")return zp(e)}function s4(t,e){if(t==="input"||t==="change")return zp(e)}function i4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:i4;function zc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!K0.call(e,s)||!Nr(t[s],e[s]))return!1}return!0}function wE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BE(t,e){var n=wE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wE(n)}}function DF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PF(){for(var t=window,e=af();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=af(t.document)}return e}function bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A4(t){var e=PF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DF(n.ownerDocument.documentElement,n)){if(r!==null&&bw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=BE(n,i);var A=BE(n,r);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a4=Rs&&"documentMode"in document&&11>=document.documentMode,Oa=null,ly=null,pc=null,cy=!1;function xE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cy||Oa==null||Oa!==af(r)||(r=Oa,"selectionStart"in r&&bw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pc&&zc(pc,r)||(pc=r,r=ff(ly,"onSelect"),0<r.length&&(e=new Cw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oa)))}function Md(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ja={animationend:Md("Animation","AnimationEnd"),animationiteration:Md("Animation","AnimationIteration"),animationstart:Md("Animation","AnimationStart"),transitionend:Md("Transition","TransitionEnd")},Im={},LF={};Rs&&(LF=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Gp(t){if(Im[t])return Im[t];if(!ja[t])return t;var e=ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LF)return Im[t]=e[n];return t}var MF=Gp("animationend"),OF=Gp("animationiteration"),jF=Gp("animationstart"),VF=Gp("transitionend"),HF=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sA(t,e){HF.set(t,e),Aa(e,[t])}for(var Tm=0;Tm<CE.length;Tm++){var Fm=CE[Tm],o4=Fm.toLowerCase(),l4=Fm[0].toUpperCase()+Fm.slice(1);sA(o4,"on"+l4)}sA(MF,"onAnimationEnd");sA(OF,"onAnimationIteration");sA(jF,"onAnimationStart");sA("dblclick","onDoubleClick");sA("focusin","onFocus");sA("focusout","onBlur");sA(VF,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c4=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function EE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oP(r,e,void 0,t),t.currentTarget=null}function KF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var A=r.length-1;0<=A;A--){var a=r[A],o=a.instance,l=a.currentTarget;if(a=a.listener,o!==i&&s.isPropagationStopped())break e;EE(s,a,l),i=o}else for(A=0;A<r.length;A++){if(a=r[A],o=a.instance,l=a.currentTarget,a=a.listener,o!==i&&s.isPropagationStopped())break e;EE(s,a,l),i=o}}}if(lf)throw t=iy,lf=!1,iy=null,t}function rt(t,e){var n=e[py];n===void 0&&(n=e[py]=new Set);var r=t+"__bubble";n.has(r)||(zF(e,t,2,!1),n.add(r))}function Um(t,e,n){var r=0;e&&(r|=4),zF(n,t,r,e)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Gc(t){if(!t[Od]){t[Od]=!0,JT.forEach(function(n){n!=="selectionchange"&&(c4.has(n)||Um(n,!1,t),Um(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Od]||(e[Od]=!0,Um("selectionchange",!1,e))}}function zF(t,e,n,r){switch(TF(e)){case 1:var s=EP;break;case 4:s=_P;break;default:s=Bw}n=s.bind(null,e,n,t),s=void 0,!sy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Sm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=r.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;A=A.return}for(;a!==null;){if(A=FA(a),A===null)return;if(o=A.tag,o===5||o===6){r=i=A;continue e}a=a.parentNode}}r=r.return}fF(function(){var l=i,u=mw(n),h=[];e:{var f=HF.get(t);if(f!==void 0){var g=Cw,m=t;switch(t){case"keypress":if(Nh(n)===0)break e;case"keydown":case"keyup":g=OP;break;case"focusin":m="focus",g=Em;break;case"focusout":m="blur",g=Em;break;case"beforeblur":case"afterblur":g=Em;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=TP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=HP;break;case MF:case OF:case jF:g=SP;break;case VF:g=zP;break;case"scroll":g=bP;break;case"wheel":g=WP;break;case"copy":case"cut":case"paste":g=NP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=fE}var y=(e&4)!==0,C=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var v=l,w;v!==null;){w=v;var F=w.stateNode;if(w.tag===5&&F!==null&&(w=F,x!==null&&(F=Oc(v,x),F!=null&&y.push(Wc(v,F,w)))),C)break;v=v.return}0<y.length&&(f=new g(f,m,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==ny&&(m=n.relatedTarget||n.fromElement)&&(FA(m)||m[Ds]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=l,m=m?FA(m):null,m!==null&&(C=aa(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(y=dE,F="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=fE,F="onPointerLeave",x="onPointerEnter",v="pointer"),C=g==null?f:Va(g),w=m==null?f:Va(m),f=new y(F,v+"leave",g,n,u),f.target=C,f.relatedTarget=w,F=null,FA(u)===l&&(y=new y(x,v+"enter",m,n,u),y.target=w,y.relatedTarget=C,F=y),C=F,g&&m)t:{for(y=g,x=m,v=0,w=y;w;w=xa(w))v++;for(w=0,F=x;F;F=xa(F))w++;for(;0<v-w;)y=xa(y),v--;for(;0<w-v;)x=xa(x),w--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=xa(y),x=xa(x)}y=null}else y=null;g!==null&&_E(h,f,g,y,!1),m!==null&&C!==null&&_E(h,C,m,y,!0)}}e:{if(f=l?Va(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var Q=e4;else if(mE(f))if(kF)Q=s4;else{Q=n4;var k=t4}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(Q=r4);if(Q&&(Q=Q(t,l))){NF(h,Q,n,u);break e}k&&k(t,f,l),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Y0(f,"number",f.value)}switch(k=l?Va(l):window,t){case"focusin":(mE(k)||k.contentEditable==="true")&&(Oa=k,ly=l,pc=null);break;case"focusout":pc=ly=Oa=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,xE(h,n,u);break;case"selectionchange":if(a4)break;case"keydown":case"keyup":xE(h,n,u)}var I;if(_w)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ma?SF(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(UF&&n.locale!=="ko"&&(Ma||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ma&&(I=FF()):(wi=u,xw="value"in wi?wi.value:wi.textContent,Ma=!0)),k=ff(l,E),0<k.length&&(E=new hE(E,t,null,n,u),h.push({event:E,listeners:k}),I?E.data=I:(I=QF(n),I!==null&&(E.data=I)))),(I=qP?XP(t,n):YP(t,n))&&(l=ff(l,"onBeforeInput"),0<l.length&&(u=new hE("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:l}),u.data=I))}KF(h,e)})}function Wc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oc(t,n),i!=null&&r.unshift(Wc(t,i,s)),i=Oc(t,e),i!=null&&r.push(Wc(t,i,s))),t=t.return}return r}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _E(t,e,n,r,s){for(var i=e._reactName,A=[];n!==null&&n!==r;){var a=n,o=a.alternate,l=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&l!==null&&(a=l,s?(o=Oc(n,i),o!=null&&A.unshift(Wc(n,o,a))):s||(o=Oc(n,i),o!=null&&A.push(Wc(n,o,a)))),n=n.return}A.length!==0&&t.push({event:e,listeners:A})}var u4=/\r\n?/g,d4=/\u0000|\uFFFD/g;function bE(t){return(typeof t=="string"?t:""+t).replace(u4,`
`).replace(d4,"")}function jd(t,e,n){if(e=bE(e),bE(t)!==e&&n)throw Error($(425))}function pf(){}var uy=null,dy=null;function hy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fy=typeof setTimeout=="function"?setTimeout:void 0,h4=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,f4=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(t){return IE.resolve(null).then(t).catch(p4)}:fy;function p4(t){setTimeout(function(){throw t})}function Qm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Hc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hc(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function TE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),zr="__reactFiber$"+$o,$c="__reactProps$"+$o,Ds="__reactContainer$"+$o,py="__reactEvents$"+$o,g4="__reactListeners$"+$o,m4="__reactHandles$"+$o;function FA(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ds]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=TE(t);t!==null;){if(n=t[zr])return n;t=TE(t)}return e}t=n,n=t.parentNode}return null}function Mu(t){return t=t[zr]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Wp(t){return t[$c]||null}var gy=[],Ha=-1;function iA(t){return{current:t}}function st(t){0>Ha||(t.current=gy[Ha],gy[Ha]=null,Ha--)}function Ze(t,e){Ha++,gy[Ha]=t.current,t.current=e}var Ki={},yn=iA(Ki),Mn=iA(!1),KA=Ki;function Co(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function On(t){return t=t.childContextTypes,t!=null}function gf(){st(Mn),st(yn)}function FE(t,e,n){if(yn.current!==Ki)throw Error($(168));Ze(yn,e),Ze(Mn,n)}function GF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,tP(t)||"Unknown",s));return ft({},n,r)}function mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,KA=yn.current,Ze(yn,t),Ze(Mn,Mn.current),!0}function UE(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=GF(t,e,KA),r.__reactInternalMemoizedMergedChildContext=t,st(Mn),st(yn),Ze(yn,t)):st(Mn),Ze(Mn,n)}var xs=null,$p=!1,Nm=!1;function WF(t){xs===null?xs=[t]:xs.push(t)}function y4(t){$p=!0,WF(t)}function AA(){if(!Nm&&xs!==null){Nm=!0;var t=0,e=Ge;try{var n=xs;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,$p=!1}catch(s){throw xs!==null&&(xs=xs.slice(t+1)),yF(yw,AA),s}finally{Ge=e,Nm=!1}}return null}var Ka=[],za=0,yf=null,vf=0,cr=[],ur=0,zA=null,Es=1,_s="";function xA(t,e){Ka[za++]=vf,Ka[za++]=yf,yf=t,vf=e}function $F(t,e,n){cr[ur++]=Es,cr[ur++]=_s,cr[ur++]=zA,zA=t;var r=Es;t=_s;var s=32-Ur(r)-1;r&=~(1<<s),n+=1;var i=32-Ur(e)+s;if(30<i){var A=s-s%5;i=(r&(1<<A)-1).toString(32),r>>=A,s-=A,Es=1<<32-Ur(e)+s|n<<s|r,_s=i+t}else Es=1<<i|n<<s|r,_s=t}function Iw(t){t.return!==null&&(xA(t,1),$F(t,1,0))}function Tw(t){for(;t===yf;)yf=Ka[--za],Ka[za]=null,vf=Ka[--za],Ka[za]=null;for(;t===zA;)zA=cr[--ur],cr[ur]=null,_s=cr[--ur],cr[ur]=null,Es=cr[--ur],cr[ur]=null}var $n=null,Gn=null,ot=!1,br=null;function qF(t,e){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function SE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,Gn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,Gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zA!==null?{id:Es,overflow:_s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,Gn=null,!0):!1;default:return!1}}function my(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yy(t){if(ot){var e=Gn;if(e){var n=e;if(!SE(t,e)){if(my(t))throw Error($(418));e=Si(n.nextSibling);var r=$n;e&&SE(t,e)?qF(r,n):(t.flags=t.flags&-4097|2,ot=!1,$n=t)}}else{if(my(t))throw Error($(418));t.flags=t.flags&-4097|2,ot=!1,$n=t}}}function QE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function Vd(t){if(t!==$n)return!1;if(!ot)return QE(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hy(t.type,t.memoizedProps)),e&&(e=Gn)){if(my(t))throw XF(),Error($(418));for(;e;)qF(t,e),e=Si(e.nextSibling)}if(QE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gn=null}}else Gn=$n?Si(t.stateNode.nextSibling):null;return!0}function XF(){for(var t=Gn;t;)t=Si(t.nextSibling)}function Eo(){Gn=$n=null,ot=!1}function Fw(t){br===null?br=[t]:br.push(t)}var v4=Ys.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function NE(t){var e=t._init;return e(t._payload)}function YF(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Ri(x,v),x.index=0,x.sibling=null,x}function i(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function A(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,w,F){return v===null||v.tag!==6?(v=Om(w,x.mode,F),v.return=x,v):(v=s(v,w),v.return=x,v)}function o(x,v,w,F){var Q=w.type;return Q===La?u(x,v,w.props.children,F,w.key):v!==null&&(v.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ci&&NE(Q)===v.type)?(F=s(v,w.props),F.ref=Tl(x,v,w),F.return=x,F):(F=Oh(w.type,w.key,w.props,null,x.mode,F),F.ref=Tl(x,v,w),F.return=x,F)}function l(x,v,w,F){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=jm(w,x.mode,F),v.return=x,v):(v=s(v,w.children||[]),v.return=x,v)}function u(x,v,w,F,Q){return v===null||v.tag!==7?(v=PA(w,x.mode,F,Q),v.return=x,v):(v=s(v,w),v.return=x,v)}function h(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Om(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qd:return w=Oh(v.type,v.key,v.props,null,x.mode,w),w.ref=Tl(x,null,v),w.return=x,w;case Pa:return v=jm(v,x.mode,w),v.return=x,v;case ci:var F=v._init;return h(x,F(v._payload),w)}if(Hl(v)||Cl(v))return v=PA(v,x.mode,w,null),v.return=x,v;Hd(x,v)}return null}function f(x,v,w,F){var Q=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return Q!==null?null:a(x,v,""+w,F);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qd:return w.key===Q?o(x,v,w,F):null;case Pa:return w.key===Q?l(x,v,w,F):null;case ci:return Q=w._init,f(x,v,Q(w._payload),F)}if(Hl(w)||Cl(w))return Q!==null?null:u(x,v,w,F,null);Hd(x,w)}return null}function g(x,v,w,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return x=x.get(w)||null,a(v,x,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Qd:return x=x.get(F.key===null?w:F.key)||null,o(v,x,F,Q);case Pa:return x=x.get(F.key===null?w:F.key)||null,l(v,x,F,Q);case ci:var k=F._init;return g(x,v,w,k(F._payload),Q)}if(Hl(F)||Cl(F))return x=x.get(w)||null,u(v,x,F,Q,null);Hd(v,F)}return null}function m(x,v,w,F){for(var Q=null,k=null,I=v,E=v=0,b=null;I!==null&&E<w.length;E++){I.index>E?(b=I,I=null):b=I.sibling;var _=f(x,I,w[E],F);if(_===null){I===null&&(I=b);break}t&&I&&_.alternate===null&&e(x,I),v=i(_,v,E),k===null?Q=_:k.sibling=_,k=_,I=b}if(E===w.length)return n(x,I),ot&&xA(x,E),Q;if(I===null){for(;E<w.length;E++)I=h(x,w[E],F),I!==null&&(v=i(I,v,E),k===null?Q=I:k.sibling=I,k=I);return ot&&xA(x,E),Q}for(I=r(x,I);E<w.length;E++)b=g(I,x,E,w[E],F),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?E:b.key),v=i(b,v,E),k===null?Q=b:k.sibling=b,k=b);return t&&I.forEach(function(N){return e(x,N)}),ot&&xA(x,E),Q}function y(x,v,w,F){var Q=Cl(w);if(typeof Q!="function")throw Error($(150));if(w=Q.call(w),w==null)throw Error($(151));for(var k=Q=null,I=v,E=v=0,b=null,_=w.next();I!==null&&!_.done;E++,_=w.next()){I.index>E?(b=I,I=null):b=I.sibling;var N=f(x,I,_.value,F);if(N===null){I===null&&(I=b);break}t&&I&&N.alternate===null&&e(x,I),v=i(N,v,E),k===null?Q=N:k.sibling=N,k=N,I=b}if(_.done)return n(x,I),ot&&xA(x,E),Q;if(I===null){for(;!_.done;E++,_=w.next())_=h(x,_.value,F),_!==null&&(v=i(_,v,E),k===null?Q=_:k.sibling=_,k=_);return ot&&xA(x,E),Q}for(I=r(x,I);!_.done;E++,_=w.next())_=g(I,x,E,_.value,F),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?E:_.key),v=i(_,v,E),k===null?Q=_:k.sibling=_,k=_);return t&&I.forEach(function(R){return e(x,R)}),ot&&xA(x,E),Q}function C(x,v,w,F){if(typeof w=="object"&&w!==null&&w.type===La&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qd:e:{for(var Q=w.key,k=v;k!==null;){if(k.key===Q){if(Q=w.type,Q===La){if(k.tag===7){n(x,k.sibling),v=s(k,w.props.children),v.return=x,x=v;break e}}else if(k.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ci&&NE(Q)===k.type){n(x,k.sibling),v=s(k,w.props),v.ref=Tl(x,k,w),v.return=x,x=v;break e}n(x,k);break}else e(x,k);k=k.sibling}w.type===La?(v=PA(w.props.children,x.mode,F,w.key),v.return=x,x=v):(F=Oh(w.type,w.key,w.props,null,x.mode,F),F.ref=Tl(x,v,w),F.return=x,x=F)}return A(x);case Pa:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=s(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=jm(w,x.mode,F),v.return=x,x=v}return A(x);case ci:return k=w._init,C(x,v,k(w._payload),F)}if(Hl(w))return m(x,v,w,F);if(Cl(w))return y(x,v,w,F);Hd(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,w),v.return=x,x=v):(n(x,v),v=Om(w,x.mode,F),v.return=x,x=v),A(x)):n(x,v)}return C}var _o=YF(!0),JF=YF(!1),wf=iA(null),Bf=null,Ga=null,Uw=null;function Sw(){Uw=Ga=Bf=null}function Qw(t){var e=wf.current;st(wf),t._currentValue=e}function vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){Bf=t,Uw=Ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function yr(t){var e=t._currentValue;if(Uw!==t)if(t={context:t,memoizedValue:e,next:null},Ga===null){if(Bf===null)throw Error($(308));Ga=t,Bf.dependencies={lanes:0,firstContext:t}}else Ga=Ga.next=t;return e}var UA=null;function Nw(t){UA===null?UA=[t]:UA.push(t)}function ZF(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Nw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ps(t,r)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function kw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ps(t,n)}return s=r.interleaved,s===null?(e.next=e,Nw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ps(t,n)}function kh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vw(t,n)}}function kE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=A:i=i.next=A,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xf(t,e,n,r){var s=t.updateQueue;ui=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var o=a,l=o.next;o.next=null,A===null?i=l:A.next=l,A=o;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==A&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;A=0,u=l=o=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,g=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=ft({},h,f);break e;case 2:ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=g,o=h):u=u.next=g,A|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(o=h),s.baseState=o,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);WA|=A,t.lanes=A,t.memoizedState=h}}function RE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Ou={},Yr=iA(Ou),qc=iA(Ou),Xc=iA(Ou);function SA(t){if(t===Ou)throw Error($(174));return t}function Rw(t,e){switch(Ze(Xc,e),Ze(qc,t),Ze(Yr,Ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Z0(e,t)}st(Yr),Ze(Yr,e)}function bo(){st(Yr),st(qc),st(Xc)}function tU(t){SA(Xc.current);var e=SA(Yr.current),n=Z0(e,t.type);e!==n&&(Ze(qc,t),Ze(Yr,n))}function Dw(t){qc.current===t&&(st(Yr),st(qc))}var ut=iA(0);function Cf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function Pw(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var Rh=Ys.ReactCurrentDispatcher,Rm=Ys.ReactCurrentBatchConfig,GA=0,ht=null,Rt=null,jt=null,Ef=!1,gc=!1,Yc=0,w4=0;function on(){throw Error($(321))}function Lw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function Mw(t,e,n,r,s,i){if(GA=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rh.current=t===null||t.memoizedState===null?E4:_4,t=n(r,s),gc){i=0;do{if(gc=!1,Yc=0,25<=i)throw Error($(301));i+=1,jt=Rt=null,e.updateQueue=null,Rh.current=b4,t=n(r,s)}while(gc)}if(Rh.current=_f,e=Rt!==null&&Rt.next!==null,GA=0,jt=Rt=ht=null,Ef=!1,e)throw Error($(300));return t}function Ow(){var t=Yc!==0;return Yc=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ht.memoizedState=jt=t:jt=jt.next=t,jt}function vr(){if(Rt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=jt===null?ht.memoizedState:jt.next;if(e!==null)jt=e,Rt=t;else{if(t===null)throw Error($(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},jt===null?ht.memoizedState=jt=t:jt=jt.next=t}return jt}function Jc(t,e){return typeof e=="function"?e(t):e}function Dm(t){var e=vr(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=A=null,o=null,l=i;do{var u=l.lane;if((GA&u)===u)o!==null&&(o=o.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};o===null?(a=o=h,A=r):o=o.next=h,ht.lanes|=u,WA|=u}l=l.next}while(l!==null&&l!==i);o===null?A=r:o.next=a,Nr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=A,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ht.lanes|=i,WA|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pm(t){var e=vr(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Nr(i,e.memoizedState)||(Pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nU(){}function rU(t,e){var n=ht,r=vr(),s=e(),i=!Nr(r.memoizedState,s);if(i&&(r.memoizedState=s,Pn=!0),r=r.queue,jw(AU.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,Zc(9,iU.bind(null,n,r,s,e),void 0,null),Ht===null)throw Error($(349));GA&30||sU(n,e,s)}return s}function sU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iU(t,e,n,r){e.value=n,e.getSnapshot=r,aU(e)&&oU(t)}function AU(t,e,n){return n(function(){aU(e)&&oU(t)})}function aU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function oU(t){var e=Ps(t,1);e!==null&&Sr(e,t,1,-1)}function DE(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:t},e.queue=t,t=t.dispatch=C4.bind(null,ht,t),[e.memoizedState,t]}function Zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lU(){return vr().memoizedState}function Dh(t,e,n,r){var s=Hr();ht.flags|=t,s.memoizedState=Zc(1|e,n,void 0,r===void 0?null:r)}function qp(t,e,n,r){var s=vr();r=r===void 0?null:r;var i=void 0;if(Rt!==null){var A=Rt.memoizedState;if(i=A.destroy,r!==null&&Lw(r,A.deps)){s.memoizedState=Zc(e,n,i,r);return}}ht.flags|=t,s.memoizedState=Zc(1|e,n,i,r)}function PE(t,e){return Dh(8390656,8,t,e)}function jw(t,e){return qp(2048,8,t,e)}function cU(t,e){return qp(4,2,t,e)}function uU(t,e){return qp(4,4,t,e)}function dU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hU(t,e,n){return n=n!=null?n.concat([t]):null,qp(4,4,dU.bind(null,e,t),n)}function Vw(){}function fU(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pU(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gU(t,e,n){return GA&21?(Nr(n,e)||(n=BF(),ht.lanes|=n,WA|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function B4(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Rm.transition;Rm.transition={};try{t(!1),e()}finally{Ge=n,Rm.transition=r}}function mU(){return vr().memoizedState}function x4(t,e,n){var r=ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yU(t))vU(e,n);else if(n=ZF(t,e,n,r),n!==null){var s=bn();Sr(n,t,r,s),wU(n,e,r)}}function C4(t,e,n){var r=ki(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yU(t))vU(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,n);if(s.hasEagerState=!0,s.eagerState=a,Nr(a,A)){var o=e.interleaved;o===null?(s.next=s,Nw(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}n=ZF(t,e,s,r),n!==null&&(s=bn(),Sr(n,t,r,s),wU(n,e,r))}}function yU(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function vU(t,e){gc=Ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vw(t,n)}}var _f={readContext:yr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},E4={readContext:yr,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:yr,useEffect:PE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dh(4194308,4,dU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dh(4,2,t,e)},useMemo:function(t,e){var n=Hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x4.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:DE,useDebugValue:Vw,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=DE(!1),e=t[0];return t=B4.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,s=Hr();if(ot){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Ht===null)throw Error($(349));GA&30||sU(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,PE(AU.bind(null,r,i,t),[t]),r.flags|=2048,Zc(9,iU.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Hr(),e=Ht.identifierPrefix;if(ot){var n=_s,r=Es;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=w4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_4={readContext:yr,useCallback:fU,useContext:yr,useEffect:jw,useImperativeHandle:hU,useInsertionEffect:cU,useLayoutEffect:uU,useMemo:pU,useReducer:Dm,useRef:lU,useState:function(){return Dm(Jc)},useDebugValue:Vw,useDeferredValue:function(t){var e=vr();return gU(e,Rt.memoizedState,t)},useTransition:function(){var t=Dm(Jc)[0],e=vr().memoizedState;return[t,e]},useMutableSource:nU,useSyncExternalStore:rU,useId:mU,unstable_isNewReconciler:!1},b4={readContext:yr,useCallback:fU,useContext:yr,useEffect:jw,useImperativeHandle:hU,useInsertionEffect:cU,useLayoutEffect:uU,useMemo:pU,useReducer:Pm,useRef:lU,useState:function(){return Pm(Jc)},useDebugValue:Vw,useDeferredValue:function(t){var e=vr();return Rt===null?e.memoizedState=t:gU(e,Rt.memoizedState,t)},useTransition:function(){var t=Pm(Jc)[0],e=vr().memoizedState;return[t,e]},useMutableSource:nU,useSyncExternalStore:rU,useId:mU,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xp={isMounted:function(t){return(t=t._reactInternals)?aa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),s=ki(t),i=Us(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qi(t,i,s),e!==null&&(Sr(e,t,s,r),kh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),s=ki(t),i=Us(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qi(t,i,s),e!==null&&(Sr(e,t,s,r),kh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=ki(t),s=Us(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qi(t,s,r),e!==null&&(Sr(e,t,r,n),kh(e,t,r))}};function LE(t,e,n,r,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,A):e.prototype&&e.prototype.isPureReactComponent?!zc(n,r)||!zc(s,i):!0}function BU(t,e,n){var r=!1,s=Ki,i=e.contextType;return typeof i=="object"&&i!==null?i=yr(i):(s=On(e)?KA:yn.current,r=e.contextTypes,i=(r=r!=null)?Co(t,s):Ki),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ME(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xp.enqueueReplaceState(e,e.state,null)}function By(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},kw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=yr(i):(i=On(e)?KA:yn.current,s.context=Co(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(wy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xp.enqueueReplaceState(s,s.state,null),xf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=eP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Lm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var I4=typeof WeakMap=="function"?WeakMap:Map;function xU(t,e,n){n=Us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){If||(If=!0,Qy=r),xy(t,e)},n}function CU(t,e,n){n=Us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){xy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){xy(t,e),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),n}function OE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new I4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=j4.bind(null,t,e,n),e.then(t,t))}function jE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Us(-1,1),e.tag=2,Qi(n,e,1))),n.lanes|=1),t)}var T4=Ys.ReactCurrentOwner,Pn=!1;function Cn(t,e,n,r){e.child=t===null?JF(e,null,n,r):_o(e,t.child,n,r)}function HE(t,e,n,r,s){n=n.render;var i=e.ref;return lo(e,s),r=Mw(t,e,n,r,i,s),n=Ow(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(ot&&n&&Iw(e),e.flags|=1,Cn(t,e,r,s),e.child)}function KE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Xw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,EU(t,e,i,r,s)):(t=Oh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(n=n.compare,n=n!==null?n:zc,n(A,r)&&t.ref===e.ref)return Ls(t,e,s)}return e.flags|=1,t=Ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function EU(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zc(i,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Ls(t,e,s)}return Cy(t,e,n,r,s)}function _U(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze($a,zn),zn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze($a,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze($a,zn),zn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze($a,zn),zn|=r;return Cn(t,e,s,n),e.child}function bU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cy(t,e,n,r,s){var i=On(n)?KA:yn.current;return i=Co(e,i),lo(e,s),n=Mw(t,e,n,r,i,s),r=Ow(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(ot&&r&&Iw(e),e.flags|=1,Cn(t,e,n,s),e.child)}function zE(t,e,n,r,s){if(On(n)){var i=!0;mf(e)}else i=!1;if(lo(e,s),e.stateNode===null)Ph(t,e),BU(e,n,r),By(e,n,r,s),r=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,l=n.contextType;typeof l=="object"&&l!==null?l=yr(l):(l=On(n)?KA:yn.current,l=Co(e,l));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";h||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==r||o!==l)&&ME(e,A,r,l),ui=!1;var f=e.memoizedState;A.state=f,xf(e,r,A,s),o=e.memoizedState,a!==r||f!==o||Mn.current||ui?(typeof u=="function"&&(wy(e,n,u,r),o=e.memoizedState),(a=ui||LE(e,n,a,r,f,o,l))?(h||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),A.props=r,A.state=o,A.context=l,r=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{A=e.stateNode,eU(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Er(e.type,a),A.props=l,h=e.pendingProps,f=A.context,o=n.contextType,typeof o=="object"&&o!==null?o=yr(o):(o=On(n)?KA:yn.current,o=Co(e,o));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==h||f!==o)&&ME(e,A,r,o),ui=!1,f=e.memoizedState,A.state=f,xf(e,r,A,s);var m=e.memoizedState;a!==h||f!==m||Mn.current||ui?(typeof g=="function"&&(wy(e,n,g,r),m=e.memoizedState),(l=ui||LE(e,n,l,r,f,m,o)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,m,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,m,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),A.props=r,A.state=m,A.context=o,r=l):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ey(t,e,n,r,i,s)}function Ey(t,e,n,r,s,i){bU(t,e);var A=(e.flags&128)!==0;if(!r&&!A)return s&&UE(e,n,!1),Ls(t,e,i);r=e.stateNode,T4.current=e;var a=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&A?(e.child=_o(e,t.child,null,i),e.child=_o(e,null,a,i)):Cn(t,e,a,i),e.memoizedState=r.state,s&&UE(e,n,!0),e.child}function IU(t){var e=t.stateNode;e.pendingContext?FE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FE(t,e.context,!1),Rw(t,e.containerInfo)}function GE(t,e,n,r,s){return Eo(),Fw(s),e.flags|=256,Cn(t,e,n,r),e.child}var _y={dehydrated:null,treeContext:null,retryLane:0};function by(t){return{baseLanes:t,cachePool:null,transitions:null}}function TU(t,e,n){var r=e.pendingProps,s=ut.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(ut,s&1),t===null)return yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=r.children,t=r.fallback,i?(r=e.mode,i=e.child,A={mode:"hidden",children:A},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=Zp(A,r,0,null),t=PA(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=by(n),e.memoizedState=_y,t):Hw(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return F4(t,e,A,r,a,s,n);if(i){i=r.fallback,A=e.mode,s=t.child,a=s.sibling;var o={mode:"hidden",children:r.children};return!(A&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Ri(s,o),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ri(a,i):(i=PA(i,A,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,A=t.child.memoizedState,A=A===null?by(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~n,e.memoizedState=_y,r}return i=t.child,t=i.sibling,r=Ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hw(t,e){return e=Zp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kd(t,e,n,r){return r!==null&&Fw(r),_o(e,t.child,null,n),t=Hw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F4(t,e,n,r,s,i,A){if(n)return e.flags&256?(e.flags&=-257,r=Lm(Error($(422))),Kd(t,e,A,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zp({mode:"visible",children:r.children},s,0,null),i=PA(i,s,A,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_o(e,t.child,null,A),e.child.memoizedState=by(A),e.memoizedState=_y,i);if(!(e.mode&1))return Kd(t,e,A,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Lm(i,r,void 0),Kd(t,e,A,r)}if(a=(A&t.childLanes)!==0,Pn||a){if(r=Ht,r!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ps(t,s),Sr(r,t,s,-1))}return qw(),r=Lm(Error($(421))),Kd(t,e,A,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=V4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Gn=Si(s.nextSibling),$n=e,ot=!0,br=null,t!==null&&(cr[ur++]=Es,cr[ur++]=_s,cr[ur++]=zA,Es=t.id,_s=t.overflow,zA=e),e=Hw(e,r.children),e.flags|=4096,e)}function WE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vy(t.return,e,n)}function Mm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function FU(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Cn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WE(t,n,e);else if(t.tag===19)WE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Mm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Mm(e,!0,n,null,i);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),WA|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U4(t,e,n){switch(e.tag){case 3:IU(e),Eo();break;case 5:tU(e);break;case 1:On(e.type)&&mf(e);break;case 4:Rw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(wf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?TU(t,e,n):(Ze(ut,ut.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);Ze(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return FU(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,_U(t,e,n)}return Ls(t,e,n)}var UU,Iy,SU,QU;UU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iy=function(){};SU=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,SA(Yr.current);var i=null;switch(n){case"input":s=q0(t,s),r=q0(t,r),i=[];break;case"select":s=ft({},s,{value:void 0}),r=ft({},r,{value:void 0}),i=[];break;case"textarea":s=J0(t,s),r=J0(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pf)}ey(n,r);var A;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(A in a)a.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Lc.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var o=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&o!==a&&(o!=null||a!=null))if(l==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(n||(n={}),n[A]=o[A])}else n||(i||(i=[]),i.push(l,n)),n=o;else l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(i=i||[]).push(l,o)):l==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(l,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(l)?(o!=null&&l==="onScroll"&&rt("scroll",t),i||a===o||(i=[])):(i=i||[]).push(l,o))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};QU=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S4(t,e,n){var r=e.pendingProps;switch(Tw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return On(e.type)&&gf(),ln(e),null;case 3:return r=e.stateNode,bo(),st(Mn),st(yn),Pw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(Ry(br),br=null))),Iy(t,e),ln(e),null;case 5:Dw(e);var s=SA(Xc.current);if(n=e.type,t!==null&&e.stateNode!=null)SU(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return ln(e),null}if(t=SA(Yr.current),Vd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[zr]=e,r[$c]=i,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(s=0;s<zl.length;s++)rt(zl[s],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":nE(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":sE(r,i),rt("invalid",r)}ey(n,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jd(r.textContent,a,t),s=["children",""+a]):Lc.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&rt("scroll",r)}switch(n){case"input":Nd(r),rE(r,i,!0);break;case"textarea":Nd(r),iE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=A.createElement(n,{is:r.is}):(t=A.createElement(n),n==="select"&&(A=t,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):t=A.createElementNS(t,n),t[zr]=e,t[$c]=r,UU(t,e,!1,!1),e.stateNode=t;e:{switch(A=ty(n,r),n){case"dialog":rt("cancel",t),rt("close",t),s=r;break;case"iframe":case"object":case"embed":rt("load",t),s=r;break;case"video":case"audio":for(s=0;s<zl.length;s++)rt(zl[s],t);s=r;break;case"source":rt("error",t),s=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),s=r;break;case"details":rt("toggle",t),s=r;break;case"input":nE(t,r),s=q0(t,r),rt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ft({},r,{value:void 0}),rt("invalid",t);break;case"textarea":sE(t,r),s=J0(t,r),rt("invalid",t);break;default:s=r}ey(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="style"?lF(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&aF(t,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Mc(t,o):typeof o=="number"&&Mc(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lc.hasOwnProperty(i)?o!=null&&i==="onScroll"&&rt("scroll",t):o!=null&&hw(t,i,o,A))}switch(n){case"input":Nd(t),rE(t,r,!1);break;case"textarea":Nd(t),iE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?io(t,!!r.multiple,i,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)QU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=SA(Xc.current),SA(Yr.current),Vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(i=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:jd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return ln(e),null;case 13:if(st(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&Gn!==null&&e.mode&1&&!(e.flags&128))XF(),Eo(),e.flags|=98560,i=!1;else if(i=Vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[zr]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),i=!1}else br!==null&&(Ry(br),br=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Pt===0&&(Pt=3):qw())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return bo(),Iy(t,e),t===null&&Gc(e.stateNode.containerInfo),ln(e),null;case 10:return Qw(e.type._context),ln(e),null;case 17:return On(e.type)&&gf(),ln(e),null;case 19:if(st(ut),i=e.memoizedState,i===null)return ln(e),null;if(r=(e.flags&128)!==0,A=i.rendering,A===null)if(r)Fl(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=Cf(t),A!==null){for(e.flags|=128,Fl(i,!1),r=A.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&_t()>To&&(e.flags|=128,r=!0,Fl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cf(A),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!ot)return ln(e),null}else 2*_t()-i.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,Fl(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(n=i.last,n!==null?n.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=ut.current,Ze(ut,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return $w(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Q4(t,e){switch(Tw(e),e.tag){case 1:return On(e.type)&&gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),st(Mn),st(yn),Pw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dw(e),null;case 13:if(st(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ut),null;case 4:return bo(),null;case 10:return Qw(e.type._context),null;case 22:case 23:return $w(),null;case 24:return null;default:return null}}var zd=!1,gn=!1,N4=typeof WeakSet=="function"?WeakSet:Set,le=null;function Wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Ty(t,e,n){try{n()}catch(r){vt(t,e,r)}}var $E=!1;function k4(t,e){if(uy=df,t=PF(),bw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var A=0,a=-1,o=-1,l=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=A+s),h!==i||r!==0&&h.nodeType!==3||(o=A+r),h.nodeType===3&&(A+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++l===s&&(a=A),f===i&&++u===r&&(o=A),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(dy={focusedElem:t,selectionRange:n},df=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,C=m.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Er(e.type,y),C);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(F){vt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=$E,$E=!1,m}function mc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ty(e,n,i)}s=s.next}while(s!==r)}}function Yp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NU(t){var e=t.alternate;e!==null&&(t.alternate=null,NU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[$c],delete e[py],delete e[g4],delete e[m4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kU(t){return t.tag===5||t.tag===3||t.tag===4}function qE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pf));else if(r!==4&&(t=t.child,t!==null))for(Uy(t,e,n),t=t.sibling;t!==null;)Uy(t,e,n),t=t.sibling}function Sy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sy(t,e,n),t=t.sibling;t!==null;)Sy(t,e,n),t=t.sibling}var Gt=null,_r=!1;function si(t,e,n){for(n=n.child;n!==null;)RU(t,e,n),n=n.sibling}function RU(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Hp,n)}catch{}switch(n.tag){case 5:gn||Wa(n,e);case 6:var r=Gt,s=_r;Gt=null,si(t,e,n),Gt=r,_r=s,Gt!==null&&(_r?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(_r?(t=Gt,n=n.stateNode,t.nodeType===8?Qm(t.parentNode,n):t.nodeType===1&&Qm(t,n),Hc(t)):Qm(Gt,n.stateNode));break;case 4:r=Gt,s=_r,Gt=n.stateNode.containerInfo,_r=!0,si(t,e,n),Gt=r,_r=s;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Ty(n,e,A),s=s.next}while(s!==r)}si(t,e,n);break;case 1:if(!gn&&(Wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,si(t,e,n),gn=r):si(t,e,n);break;default:si(t,e,n)}}function XE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new N4),e.forEach(function(r){var s=H4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,_r=!1;break e;case 3:Gt=a.stateNode.containerInfo,_r=!0;break e;case 4:Gt=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(Gt===null)throw Error($(160));RU(i,A,s),Gt=null,_r=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(l){vt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DU(e,t),e=e.sibling}function DU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(e,t),jr(t),r&4){try{mc(3,t,t.return),Yp(3,t)}catch(y){vt(t,t.return,y)}try{mc(5,t,t.return)}catch(y){vt(t,t.return,y)}}break;case 1:Br(e,t),jr(t),r&512&&n!==null&&Wa(n,n.return);break;case 5:if(Br(e,t),jr(t),r&512&&n!==null&&Wa(n,n.return),t.flags&32){var s=t.stateNode;try{Mc(s,"")}catch(y){vt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=n!==null?n.memoizedProps:i,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&sF(s,i),ty(a,A);var l=ty(a,i);for(A=0;A<o.length;A+=2){var u=o[A],h=o[A+1];u==="style"?lF(s,h):u==="dangerouslySetInnerHTML"?aF(s,h):u==="children"?Mc(s,h):hw(s,u,h,l)}switch(a){case"input":X0(s,i);break;case"textarea":iF(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?io(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?io(s,!!i.multiple,i.defaultValue,!0):io(s,!!i.multiple,i.multiple?[]:"",!1))}s[$c]=i}catch(y){vt(t,t.return,y)}}break;case 6:if(Br(e,t),jr(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){vt(t,t.return,y)}}break;case 3:if(Br(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hc(e.containerInfo)}catch(y){vt(t,t.return,y)}break;case 4:Br(e,t),jr(t);break;case 13:Br(e,t),jr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Gw=_t())),r&4&&XE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(l=gn)||u,Br(e,t),gn=l):Br(e,t),jr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(le=t,u=t.child;u!==null;){for(h=le=u;le!==null;){switch(f=le,g=f.child,f.tag){case 0:case 11:case 14:case 15:mc(4,f,f.return);break;case 1:Wa(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){vt(r,n,y)}}break;case 5:Wa(f,f.return);break;case 22:if(f.memoizedState!==null){JE(h);continue}}g!==null?(g.return=f,le=g):JE(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,o=h.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=oF("display",A))}catch(y){vt(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){vt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Br(e,t),jr(t),r&4&&XE(t);break;case 21:break;default:Br(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kU(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mc(s,""),r.flags&=-33);var i=qE(t);Sy(t,i,s);break;case 3:case 4:var A=r.stateNode.containerInfo,a=qE(t);Uy(t,a,A);break;default:throw Error($(161))}}catch(o){vt(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R4(t,e,n){le=t,PU(t)}function PU(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var A=s.memoizedState!==null||zd;if(!A){var a=s.alternate,o=a!==null&&a.memoizedState!==null||gn;a=zd;var l=gn;if(zd=A,(gn=o)&&!l)for(le=s;le!==null;)A=le,o=A.child,A.tag===22&&A.memoizedState!==null?ZE(s):o!==null?(o.return=A,le=o):ZE(s);for(;i!==null;)le=i,PU(i),i=i.sibling;le=s,zd=a,gn=l}YE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):YE(t)}}function YE(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||Yp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&RE(e,i,r);break;case 3:var A=e.updateQueue;if(A!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}RE(e,A,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Hc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}gn||e.flags&512&&Fy(e)}catch(f){vt(e,e.return,f)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function JE(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function ZE(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yp(4,e)}catch(o){vt(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(o){vt(e,s,o)}}var i=e.return;try{Fy(e)}catch(o){vt(e,i,o)}break;case 5:var A=e.return;try{Fy(e)}catch(o){vt(e,A,o)}}}catch(o){vt(e,e.return,o)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var D4=Math.ceil,bf=Ys.ReactCurrentDispatcher,Kw=Ys.ReactCurrentOwner,gr=Ys.ReactCurrentBatchConfig,Le=0,Ht=null,Qt=null,Zt=0,zn=0,$a=iA(0),Pt=0,eu=null,WA=0,Jp=0,zw=0,yc=null,Dn=null,Gw=0,To=1/0,Bs=null,If=!1,Qy=null,Ni=null,Gd=!1,Bi=null,Tf=0,vc=0,Ny=null,Lh=-1,Mh=0;function bn(){return Le&6?_t():Lh!==-1?Lh:Lh=_t()}function ki(t){return t.mode&1?Le&2&&Zt!==0?Zt&-Zt:v4.transition!==null?(Mh===0&&(Mh=BF()),Mh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:TF(t.type)),t):1}function Sr(t,e,n,r){if(50<vc)throw vc=0,Ny=null,Error($(185));Pu(t,n,r),(!(Le&2)||t!==Ht)&&(t===Ht&&(!(Le&2)&&(Jp|=n),Pt===4&&fi(t,Zt)),jn(t,r),n===1&&Le===0&&!(e.mode&1)&&(To=_t()+500,$p&&AA()))}function jn(t,e){var n=t.callbackNode;vP(t,e);var r=uf(t,t===Ht?Zt:0);if(r===0)n!==null&&oE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&oE(n),e===1)t.tag===0?y4(e_.bind(null,t)):WF(e_.bind(null,t)),f4(function(){!(Le&6)&&AA()}),n=null;else{switch(xF(r)){case 1:n=yw;break;case 4:n=vF;break;case 16:n=cf;break;case 536870912:n=wF;break;default:n=cf}n=zU(n,LU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LU(t,e){if(Lh=-1,Mh=0,Le&6)throw Error($(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=uf(t,t===Ht?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ff(t,r);else{e=r;var s=Le;Le|=2;var i=OU();(Ht!==t||Zt!==e)&&(Bs=null,To=_t()+500,DA(t,e));do try{M4();break}catch(a){MU(t,a)}while(!0);Sw(),bf.current=i,Le=s,Qt!==null?e=0:(Ht=null,Zt=0,e=Pt)}if(e!==0){if(e===2&&(s=Ay(t),s!==0&&(r=s,e=ky(t,s))),e===1)throw n=eu,DA(t,0),fi(t,r),jn(t,_t()),n;if(e===6)fi(t,r);else{if(s=t.current.alternate,!(r&30)&&!P4(s)&&(e=Ff(t,r),e===2&&(i=Ay(t),i!==0&&(r=i,e=ky(t,i))),e===1))throw n=eu,DA(t,0),fi(t,r),jn(t,_t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:CA(t,Dn,Bs);break;case 3:if(fi(t,r),(r&130023424)===r&&(e=Gw+500-_t(),10<e)){if(uf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=fy(CA.bind(null,t,Dn,Bs),e);break}CA(t,Dn,Bs);break;case 4:if(fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var A=31-Ur(r);i=1<<A,A=e[A],A>s&&(s=A),r&=~i}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D4(r/1960))-r,10<r){t.timeoutHandle=fy(CA.bind(null,t,Dn,Bs),r);break}CA(t,Dn,Bs);break;case 5:CA(t,Dn,Bs);break;default:throw Error($(329))}}}return jn(t,_t()),t.callbackNode===n?LU.bind(null,t):null}function ky(t,e){var n=yc;return t.current.memoizedState.isDehydrated&&(DA(t,e).flags|=256),t=Ff(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&Ry(e)),t}function Ry(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function P4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fi(t,e){for(e&=~zw,e&=~Jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function e_(t){if(Le&6)throw Error($(327));co();var e=uf(t,0);if(!(e&1))return jn(t,_t()),null;var n=Ff(t,e);if(t.tag!==0&&n===2){var r=Ay(t);r!==0&&(e=r,n=ky(t,r))}if(n===1)throw n=eu,DA(t,0),fi(t,e),jn(t,_t()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,CA(t,Dn,Bs),jn(t,_t()),null}function Ww(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(To=_t()+500,$p&&AA())}}function $A(t){Bi!==null&&Bi.tag===0&&!(Le&6)&&co();var e=Le;Le|=1;var n=gr.transition,r=Ge;try{if(gr.transition=null,Ge=1,t)return t()}finally{Ge=r,gr.transition=n,Le=e,!(Le&6)&&AA()}}function $w(){zn=$a.current,st($a)}function DA(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,h4(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(Tw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gf();break;case 3:bo(),st(Mn),st(yn),Pw();break;case 5:Dw(r);break;case 4:bo();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Qw(r.type._context);break;case 22:case 23:$w()}n=n.return}if(Ht=t,Qt=t=Ri(t.current,null),Zt=zn=e,Pt=0,eu=null,zw=Jp=WA=0,Dn=yc=null,UA!==null){for(e=0;e<UA.length;e++)if(n=UA[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var A=i.next;i.next=s,r.next=A}n.pending=r}UA=null}return t}function MU(t,e){do{var n=Qt;try{if(Sw(),Rh.current=_f,Ef){for(var r=ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ef=!1}if(GA=0,jt=Rt=ht=null,gc=!1,Yc=0,Kw.current=null,n===null||n.return===null){Pt=1,eu=e,Qt=null;break}e:{var i=t,A=n.return,a=n,o=e;if(e=Zt,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var l=o,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=jE(A);if(g!==null){g.flags&=-257,VE(g,A,a,i,e),g.mode&1&&OE(i,l,e),e=g,o=l;var m=e.updateQueue;if(m===null){var y=new Set;y.add(o),e.updateQueue=y}else m.add(o);break e}else{if(!(e&1)){OE(i,l,e),qw();break e}o=Error($(426))}}else if(ot&&a.mode&1){var C=jE(A);if(C!==null){!(C.flags&65536)&&(C.flags|=256),VE(C,A,a,i,e),Fw(Io(o,a));break e}}i=o=Io(o,a),Pt!==4&&(Pt=2),yc===null?yc=[i]:yc.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=xU(i,o,e);kE(i,x);break e;case 1:a=o;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ni===null||!Ni.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var F=CU(i,a,e);kE(i,F);break e}}i=i.return}while(i!==null)}VU(n)}catch(Q){e=Q,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function OU(){var t=bf.current;return bf.current=_f,t===null?_f:t}function qw(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Ht===null||!(WA&268435455)&&!(Jp&268435455)||fi(Ht,Zt)}function Ff(t,e){var n=Le;Le|=2;var r=OU();(Ht!==t||Zt!==e)&&(Bs=null,DA(t,e));do try{L4();break}catch(s){MU(t,s)}while(!0);if(Sw(),Le=n,bf.current=r,Qt!==null)throw Error($(261));return Ht=null,Zt=0,Pt}function L4(){for(;Qt!==null;)jU(Qt)}function M4(){for(;Qt!==null&&!cP();)jU(Qt)}function jU(t){var e=KU(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?VU(t):Qt=e,Kw.current=null}function VU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q4(n,e),n!==null){n.flags&=32767,Qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Qt=null;return}}else if(n=S4(n,e,zn),n!==null){Qt=n;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);Pt===0&&(Pt=5)}function CA(t,e,n){var r=Ge,s=gr.transition;try{gr.transition=null,Ge=1,O4(t,e,n,r)}finally{gr.transition=s,Ge=r}return null}function O4(t,e,n,r){do co();while(Bi!==null);if(Le&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wP(t,i),t===Ht&&(Qt=Ht=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gd||(Gd=!0,zU(cf,function(){return co(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var A=Ge;Ge=1;var a=Le;Le|=4,Kw.current=null,k4(t,n),DU(n,t),A4(dy),df=!!uy,dy=uy=null,t.current=n,R4(n),uP(),Le=a,Ge=A,gr.transition=i}else t.current=n;if(Gd&&(Gd=!1,Bi=t,Tf=s),i=t.pendingLanes,i===0&&(Ni=null),fP(n.stateNode),jn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(If)throw If=!1,t=Qy,Qy=null,t;return Tf&1&&t.tag!==0&&co(),i=t.pendingLanes,i&1?t===Ny?vc++:(vc=0,Ny=t):vc=0,AA(),null}function co(){if(Bi!==null){var t=xF(Tf),e=gr.transition,n=Ge;try{if(gr.transition=null,Ge=16>t?16:t,Bi===null)var r=!1;else{if(t=Bi,Bi=null,Tf=0,Le&6)throw Error($(331));var s=Le;for(Le|=4,le=t.current;le!==null;){var i=le,A=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var o=0;o<a.length;o++){var l=a[o];for(le=l;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:mc(8,u,i)}var h=u.child;if(h!==null)h.return=u,le=h;else for(;le!==null;){u=le;var f=u.sibling,g=u.return;if(NU(u),u===l){le=null;break}if(f!==null){f.return=g,le=f;break}le=g}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}le=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,le=A;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,le=x;break e}le=i.return}}var v=t.current;for(le=v;le!==null;){A=le;var w=A.child;if(A.subtreeFlags&2064&&w!==null)w.return=A,le=w;else e:for(A=v;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yp(9,a)}}catch(Q){vt(a,a.return,Q)}if(a===A){le=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,le=F;break e}le=a.return}}if(Le=s,AA(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Hp,t)}catch{}r=!0}return r}finally{Ge=n,gr.transition=e}}return!1}function t_(t,e,n){e=Io(n,e),e=xU(t,e,1),t=Qi(t,e,1),e=bn(),t!==null&&(Pu(t,1,e),jn(t,e))}function vt(t,e,n){if(t.tag===3)t_(t,t,n);else for(;e!==null;){if(e.tag===3){t_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){t=Io(n,t),t=CU(e,t,1),e=Qi(e,t,1),t=bn(),e!==null&&(Pu(e,1,t),jn(e,t));break}}e=e.return}}function j4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(Zt&n)===n&&(Pt===4||Pt===3&&(Zt&130023424)===Zt&&500>_t()-Gw?DA(t,0):zw|=n),jn(t,e)}function HU(t,e){e===0&&(t.mode&1?(e=Dd,Dd<<=1,!(Dd&130023424)&&(Dd=4194304)):e=1);var n=bn();t=Ps(t,e),t!==null&&(Pu(t,e,n),jn(t,n))}function V4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HU(t,n)}function H4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),HU(t,n)}var KU;KU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,U4(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,ot&&e.flags&1048576&&$F(e,vf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ph(t,e),t=e.pendingProps;var s=Co(e,yn.current);lo(e,n),s=Mw(null,e,r,t,s,n);var i=Ow();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(r)?(i=!0,mf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kw(e),s.updater=Xp,e.stateNode=s,s._reactInternals=e,By(e,r,t,n),e=Ey(null,e,r,!0,i,n)):(e.tag=0,ot&&i&&Iw(e),Cn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ph(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=z4(r),t=Er(r,t),s){case 0:e=Cy(null,e,r,t,n);break e;case 1:e=zE(null,e,r,t,n);break e;case 11:e=HE(null,e,r,t,n);break e;case 14:e=KE(null,e,r,Er(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),Cy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),zE(t,e,r,s,n);case 3:e:{if(IU(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,eU(t,e),xf(e,r,null,n);var A=e.memoizedState;if(r=A.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Io(Error($(423)),e),e=GE(t,e,r,n,s);break e}else if(r!==s){s=Io(Error($(424)),e),e=GE(t,e,r,n,s);break e}else for(Gn=Si(e.stateNode.containerInfo.firstChild),$n=e,ot=!0,br=null,n=JF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===s){e=Ls(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 5:return tU(e),t===null&&yy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,hy(r,s)?A=null:i!==null&&hy(r,i)&&(e.flags|=32),bU(t,e),Cn(t,e,A,n),e.child;case 6:return t===null&&yy(e),null;case 13:return TU(t,e,n);case 4:return Rw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),HE(t,e,r,s,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,Ze(wf,r._currentValue),r._currentValue=A,i!==null)if(Nr(i.value,A)){if(i.children===s.children&&!Mn.current){e=Ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(i.tag===1){o=Us(-1,n&-n),o.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?o.next=o:(o.next=u.next,u.next=o),l.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),vy(i.return,n,e),a.lanes|=n;break}o=o.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error($(341));A.lanes|=n,a=A.alternate,a!==null&&(a.lanes|=n),vy(A,n,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}Cn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,lo(e,n),s=yr(s),r=r(s),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return r=e.type,s=Er(r,e.pendingProps),s=Er(r.type,s),KE(t,e,r,s,n);case 15:return EU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),Ph(t,e),e.tag=1,On(r)?(t=!0,mf(e)):t=!1,lo(e,n),BU(e,r,s),By(e,r,s,n),Ey(null,e,r,!0,t,n);case 19:return FU(t,e,n);case 22:return _U(t,e,n)}throw Error($(156,e.tag))};function zU(t,e){return yF(t,e)}function K4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,n,r){return new K4(t,e,n,r)}function Xw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function z4(t){if(typeof t=="function")return Xw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pw)return 11;if(t===gw)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oh(t,e,n,r,s,i){var A=2;if(r=t,typeof t=="function")Xw(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case La:return PA(n.children,s,i,e);case fw:A=8,s|=8;break;case z0:return t=hr(12,n,e,s|2),t.elementType=z0,t.lanes=i,t;case G0:return t=hr(13,n,e,s),t.elementType=G0,t.lanes=i,t;case W0:return t=hr(19,n,e,s),t.elementType=W0,t.lanes=i,t;case tF:return Zp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZT:A=10;break e;case eF:A=9;break e;case pw:A=11;break e;case gw:A=14;break e;case ci:A=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=hr(A,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function PA(t,e,n,r){return t=hr(7,t,r,e),t.lanes=n,t}function Zp(t,e,n,r){return t=hr(22,t,r,e),t.elementType=tF,t.lanes=n,t.stateNode={isHidden:!1},t}function Om(t,e,n){return t=hr(6,t,null,e),t.lanes=n,t}function jm(t,e,n){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yw(t,e,n,r,s,i,A,a,o){return t=new G4(t,e,n,a,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kw(i),t}function W4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GU(t){if(!t)return Ki;t=t._reactInternals;e:{if(aa(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(On(n))return GF(t,n,e)}return e}function WU(t,e,n,r,s,i,A,a,o){return t=Yw(n,r,!0,t,s,i,A,a,o),t.context=GU(null),n=t.current,r=bn(),s=ki(n),i=Us(r,s),i.callback=e??null,Qi(n,i,s),t.current.lanes=s,Pu(t,s,r),jn(t,r),t}function eg(t,e,n,r){var s=e.current,i=bn(),A=ki(s);return n=GU(n),e.context===null?e.context=n:e.pendingContext=n,e=Us(i,A),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qi(s,e,A),t!==null&&(Sr(t,s,A,i),kh(t,s,A)),A}function Uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function n_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jw(t,e){n_(t,e),(t=t.alternate)&&n_(t,e)}function $4(){return null}var $U=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zw(t){this._internalRoot=t}tg.prototype.render=Zw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));eg(t,e,null,null)};tg.prototype.unmount=Zw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$A(function(){eg(null,t,null,null)}),e[Ds]=null}};function tg(t){this._internalRoot=t}tg.prototype.unstable_scheduleHydration=function(t){if(t){var e=_F();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&IF(t)}};function eB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ng(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r_(){}function q4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=Uf(A);i.call(l)}}var A=WU(e,r,t,0,null,!1,!1,"",r_);return t._reactRootContainer=A,t[Ds]=A.current,Gc(t.nodeType===8?t.parentNode:t),$A(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=Uf(o);a.call(l)}}var o=Yw(t,0,!1,null,null,!1,!1,"",r_);return t._reactRootContainer=o,t[Ds]=o.current,Gc(t.nodeType===8?t.parentNode:t),$A(function(){eg(e,o,n,r)}),o}function rg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var o=Uf(A);a.call(o)}}eg(e,A,t,s)}else A=q4(n,e,t,s,r);return Uf(A)}CF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(vw(e,n|1),jn(e,_t()),!(Le&6)&&(To=_t()+500,AA()))}break;case 13:$A(function(){var r=Ps(t,1);if(r!==null){var s=bn();Sr(r,t,1,s)}}),Jw(t,1)}};ww=function(t){if(t.tag===13){var e=Ps(t,134217728);if(e!==null){var n=bn();Sr(e,t,134217728,n)}Jw(t,134217728)}};EF=function(t){if(t.tag===13){var e=ki(t),n=Ps(t,e);if(n!==null){var r=bn();Sr(n,t,e,r)}Jw(t,e)}};_F=function(){return Ge};bF=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};ry=function(t,e,n){switch(e){case"input":if(X0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wp(r);if(!s)throw Error($(90));rF(r),X0(r,s)}}}break;case"textarea":iF(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};dF=Ww;hF=$A;var X4={usingClientEntryPoint:!1,Events:[Mu,Va,Wp,cF,uF,Ww]},Ul={findFiberByHostInstance:FA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y4={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gF(t),t===null?null:t.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||$4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Hp=Wd.inject(Y4),Xr=Wd}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X4;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eB(e))throw Error($(200));return W4(t,e,null,n)};rr.createRoot=function(t,e){if(!eB(t))throw Error($(299));var n=!1,r="",s=$U;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yw(t,1,!1,null,null,n,!1,r,s),t[Ds]=e.current,Gc(t.nodeType===8?t.parentNode:t),new Zw(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=gF(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return $A(t)};rr.hydrate=function(t,e,n){if(!ng(e))throw Error($(200));return rg(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!eB(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",A=$U;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),e=WU(e,null,t,1,n??null,s,!1,i,A),t[Ds]=e.current,Gc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tg(e)};rr.render=function(t,e,n){if(!ng(e))throw Error($(200));return rg(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!ng(t))throw Error($(40));return t._reactRootContainer?($A(function(){rg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};rr.unstable_batchedUpdates=Ww;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ng(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return rg(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function qU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qU)}catch(t){console.error(t)}}qU(),qT.exports=rr;var XU=qT.exports;const J4=PT(XU);var tB,s_=XU;tB=s_.createRoot,s_.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const i_="popstate";function Z4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:A,hash:a}=r.location;return Dy("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sf(s)}return tL(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YU(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eL(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function Dy(t,e,n,r){return n===void 0&&(n=null),tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:n,key:e&&e.key||r||eL()})}function Sf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,A=s.history,a=xi.Pop,o=null,l=u();l==null&&(l=0,A.replaceState(tu({},A.state,{idx:l}),""));function u(){return(A.state||{idx:null}).idx}function h(){a=xi.Pop;let C=u(),x=C==null?null:C-l;l=C,o&&o({action:a,location:y.location,delta:x})}function f(C,x){a=xi.Push;let v=Dy(y.location,C,x);l=u()+1;let w=A_(v,l),F=y.createHref(v);try{A.pushState(w,"",F)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(F)}i&&o&&o({action:a,location:y.location,delta:1})}function g(C,x){a=xi.Replace;let v=Dy(y.location,C,x);l=u();let w=A_(v,l),F=y.createHref(v);A.replaceState(w,"",F),i&&o&&o({action:a,location:y.location,delta:0})}function m(C){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof C=="string"?C:Sf(C);return v=v.replace(/ $/,"%20"),bt(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return a},get location(){return t(s,A)},listen(C){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(i_,h),o=C,()=>{s.removeEventListener(i_,h),o=null}},createHref(C){return e(s,C)},createURL:m,encodeLocation(C){let x=m(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:g,go(C){return A.go(C)}};return y}var a_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a_||(a_={}));function nL(t,e,n){return n===void 0&&(n="/"),rL(t,e,n,!1)}function rL(t,e,n,r){let s=typeof e=="string"?qo(e):e,i=nB(s.pathname||"/",n);if(i==null)return null;let A=JU(t);sL(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let l=pL(i);a=hL(A[o],l,r)}return a}function JU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,A,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};o.relativePath.startsWith("/")&&(bt(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let l=Di([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),JU(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:uL(l,i.index),routesMeta:u})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let o of ZU(i.path))s(i,A,o)}),e}function ZU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let A=ZU(r.join("/")),a=[];return a.push(...A.map(o=>o===""?i:[i,o].join("/"))),s&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function sL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iL=/^:[\w-]+$/,AL=3,aL=2,oL=1,lL=10,cL=-2,o_=t=>t==="*";function uL(t,e){let n=t.split("/"),r=n.length;return n.some(o_)&&(r+=cL),e&&(r+=aL),n.filter(s=>!o_(s)).reduce((s,i)=>s+(iL.test(i)?AL:i===""?oL:lL),r)}function dL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hL(t,e,n){let{routesMeta:r}=t,s={},i="/",A=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=l_({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u),f=o.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=l_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),A.push({params:s,pathname:Di([i,h.pathname]),pathnameBase:vL(Di([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Di([i,h.pathnameBase]))}return A}function l_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let y=a[h]||"";A=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:A,pattern:t}}function fL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),YU(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YU(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nB(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:mL(n,e):e,search:wL(r),hash:BL(s)}}function mL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rB(t,e){let n=yL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sB(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=qo(t):(s=tu({},t),bt(!s.pathname||!s.pathname.includes("?"),Vm("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Vm("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Vm("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=n;else{let h=e.length-1;if(!r&&A.startsWith("..")){let f=A.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let o=gL(s,a),l=A&&A!=="/"&&A.endsWith("/"),u=(i||A===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(l||u)&&(o.pathname+="/"),o}const Di=t=>t.join("/").replace(/\/\/+/g,"/"),vL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eS=["post","put","patch","delete"];new Set(eS);const CL=["get",...eS];new Set(CL);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}const iB=S.createContext(null),EL=S.createContext(null),aA=S.createContext(null),sg=S.createContext(null),Js=S.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=S.createContext(null);function _L(t,e){let{relative:n}=e===void 0?{}:e;Xo()||bt(!1);let{basename:r,navigator:s}=S.useContext(aA),{hash:i,pathname:A,search:a}=rS(t,{relative:n}),o=A;return r!=="/"&&(o=A==="/"?r:Di([r,A])),s.createHref({pathname:o,search:a,hash:i})}function Xo(){return S.useContext(sg)!=null}function oA(){return Xo()||bt(!1),S.useContext(sg).location}function nS(t){S.useContext(aA).static||S.useLayoutEffect(t)}function Yo(){let{isDataRoute:t}=S.useContext(Js);return t?OL():bL()}function bL(){Xo()||bt(!1);let t=S.useContext(iB),{basename:e,future:n,navigator:r}=S.useContext(aA),{matches:s}=S.useContext(Js),{pathname:i}=oA(),A=JSON.stringify(rB(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return nS(()=>{a.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=sB(l,JSON.parse(A),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Di([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,A,i,t])}const IL=S.createContext(null);function TL(t){let e=S.useContext(Js).outlet;return e&&S.createElement(IL.Provider,{value:t},e)}function rS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(aA),{matches:s}=S.useContext(Js),{pathname:i}=oA(),A=JSON.stringify(rB(s,r.v7_relativeSplatPath));return S.useMemo(()=>sB(t,JSON.parse(A),i,n==="path"),[t,A,i,n])}function FL(t,e){return UL(t,e)}function UL(t,e,n,r){Xo()||bt(!1);let{navigator:s,static:i}=S.useContext(aA),{matches:A}=S.useContext(Js),a=A[A.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=oA(),h;if(e){var f;let x=typeof e=="string"?qo(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||bt(!1),h=x}else h=u;let g=h.pathname||"/",m=g;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:nL(t,{pathname:m}),C=RL(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Di([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Di([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),A,n,r);return e&&C?S.createElement(sg.Provider,{value:{location:nu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xi.Pop}},C):C}function SL(){let t=ML(),e=xL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const QL=S.createElement(SL,null);class NL extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Js.Provider,{value:this.props.routeContext},S.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kL(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(iB);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Js.Provider,{value:e},r)}function RL(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let A=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=A.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||bt(!1),A=A.slice(0,Math.min(A.length,u+1))}let o=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<A.length;u++){let h=A[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:g}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){o=!0,l>=0?A=A.slice(0,l+1):A=[A[0]];break}}}return A.reduceRight((u,h,f)=>{let g,m=!1,y=null,C=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||QL,o&&(l<0&&f===0?(m=!0,C=null):l===f&&(m=!0,C=h.route.hydrateFallbackElement||null)));let x=e.concat(A.slice(0,f+1)),v=()=>{let w;return g?w=y:m?w=C:h.route.Component?w=S.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,S.createElement(kL,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(NL,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var sS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sS||{}),Qf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qf||{});function DL(t){let e=S.useContext(iB);return e||bt(!1),e}function PL(t){let e=S.useContext(EL);return e||bt(!1),e}function LL(t){let e=S.useContext(Js);return e||bt(!1),e}function iS(t){let e=LL(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function ML(){var t;let e=S.useContext(tS),n=PL(Qf.UseRouteError),r=iS(Qf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function OL(){let{router:t}=DL(sS.UseNavigateStable),e=iS(Qf.UseNavigateStable),n=S.useRef(!1);return nS(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,nu({fromRouteId:e},i)))},[t,e])}function jL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uo(t){let{to:e,replace:n,state:r,relative:s}=t;Xo()||bt(!1);let{future:i,static:A}=S.useContext(aA),{matches:a}=S.useContext(Js),{pathname:o}=oA(),l=Yo(),u=sB(e,rB(a,i.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(u);return S.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:s}),[l,h,s,n,r]),null}function AS(t){return TL(t.context)}function Ft(t){bt(!1)}function VL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xi.Pop,navigator:i,static:A=!1,future:a}=t;Xo()&&bt(!1);let o=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:i,static:A,future:nu({v7_relativeSplatPath:!1},a)}),[o,a,i,A]);typeof r=="string"&&(r=qo(r));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:m="default"}=r,y=S.useMemo(()=>{let C=nB(u,o);return C==null?null:{location:{pathname:C,search:h,hash:f,state:g,key:m},navigationType:s}},[o,u,h,f,g,m,s]);return y==null?null:S.createElement(aA.Provider,{value:l},S.createElement(sg.Provider,{children:n,value:y}))}function aS(t){let{children:e,location:n}=t;return FL(Py(e),n)}new Promise(()=>{});function Py(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,Py(r.props.children,i));return}r.type!==Ft&&bt(!1),!r.props.index||!r.props.children||bt(!1);let A={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(A.children=Py(r.props.children,i)),n.push(A)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ly.apply(this,arguments)}function HL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function KL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zL(t,e){return t.button===0&&(!e||e==="_self")&&!KL(t)}const GL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WL="6";try{window.__reactRouterVersion=WL}catch{}const $L="startTransition",c_=jD[$L];function qL(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=Z4({window:s,v5Compat:!0}));let A=i.current,[a,o]=S.useState({action:A.action,location:A.location}),{v7_startTransition:l}=r||{},u=S.useCallback(h=>{l&&c_?c_(()=>o(h)):o(h)},[o,l]);return S.useLayoutEffect(()=>A.listen(u),[A,u]),S.useEffect(()=>jL(r),[r]),S.createElement(VL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:A,future:r})}const XL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ho=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:A,state:a,target:o,to:l,preventScrollReset:u,viewTransition:h}=e,f=HL(e,GL),{basename:g}=S.useContext(aA),m,y=!1;if(typeof l=="string"&&YL.test(l)&&(m=l,XL))try{let w=new URL(window.location.href),F=l.startsWith("//")?new URL(w.protocol+l):new URL(l),Q=nB(F.pathname,g);F.origin===w.origin&&Q!=null?l=Q+F.search+F.hash:y=!0}catch{}let C=_L(l,{relative:s}),x=JL(l,{replace:A,state:a,target:o,preventScrollReset:u,relative:s,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||x(w)}return S.createElement("a",Ly({},f,{href:m||C,onClick:y||i?r:v,ref:n,target:o}))});var u_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u_||(u_={}));var d_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));function JL(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,o=Yo(),l=oA(),u=rS(t,{relative:A});return S.useCallback(h=>{if(zL(h,n)){h.preventDefault();let f=r!==void 0?r:Sf(l)===Sf(u);o(t,{replace:f,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[l,o,u,r,s,n,t,i,A,a])}var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],A=t[n++],a=t[n++],o=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(o&1023))}else{const i=t[n++],A=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,o=s+2<t.length,l=o?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,g=l&63;o||(g=64,A||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new eM;const f=i<<2|a>>4;if(r.push(f),l!==64){const g=a<<4&240|l>>2;if(r.push(g),h!==64){const m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tM=function(t){const e=oS(t);return lS.encodeByteArray(e,!0)},Nf=function(t){return tM(t).replace(/\./g,"")},cS=function(t){try{return lS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=()=>nM().__FIREBASE_DEFAULTS__,sM=()=>{if(typeof process>"u"||typeof h_>"u")return;const t=h_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cS(t[1]);return e&&JSON.parse(e)},ig=()=>{try{return rM()||sM()||iM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uS=t=>{var e,n;return(n=(e=ig())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AB=t=>{const e=uS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dS=()=>{var t;return(t=ig())===null||t===void 0?void 0:t.config},hS=t=>{var e;return(e=ig())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nf(JSON.stringify(n)),Nf(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function oM(){var t;const e=(t=ig())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dM(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hM(){return!oM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fM(){try{return typeof indexedDB=="object"}catch{return!1}}function pM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gM,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?mM(i,r):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new Pr(s,a,r)}}function mM(t,e){return t.replace(yM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yM=/\{\$([^}]+)}/g;function vM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],A=e[s];if(f_(i)&&f_(A)){if(!kf(i,A))return!1}else if(i!==A)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wM(t,e){const n=new BM(t,e);return n.subscribe.bind(n)}class BM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hm),s.error===void 0&&(s.error=Hm),s.complete===void 0&&(s.complete=Hm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_M(e))try{this.getOrInitializeService({instanceIdentifier:EA})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=EA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=EA){return this.instances.has(e)}getOptions(e=EA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&A.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=EA){return this.component?this.component.multipleInstances?e:EA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EM(t){return t===EA?void 0:t}function _M(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const IM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},TM=ke.INFO,FM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},UM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let aB=class{constructor(e){this.name=e,this._logLevel=TM,this._logHandler=UM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};const SM=(t,e)=>e.some(n=>t instanceof n);let p_,g_;function QM(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NM(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,My=new WeakMap,gS=new WeakMap,Km=new WeakMap,oB=new WeakMap;function kM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{n(Pi(t.result)),s()},A=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&pS.set(n,t)}).catch(()=>{}),oB.set(e,t),e}function RM(t){if(My.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{n(),s()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});My.set(t,e)}let Oy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return My.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DM(t){Oy=t(Oy)}function PM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zm(this),e,...n);return gS.set(r,e.sort?e.sort():[e]),Pi(r)}:NM().includes(t)?function(...e){return t.apply(zm(this),e),Pi(pS.get(this))}:function(...e){return Pi(t.apply(zm(this),e))}}function LM(t){return typeof t=="function"?PM(t):(t instanceof IDBTransaction&&RM(t),SM(t,QM())?new Proxy(t,Oy):t)}function Pi(t){if(t instanceof IDBRequest)return kM(t);if(Km.has(t))return Km.get(t);const e=LM(t);return e!==t&&(Km.set(t,e),oB.set(e,t)),e}const zm=t=>oB.get(t);function MM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=Pi(A);return r&&A.addEventListener("upgradeneeded",o=>{r(Pi(A.result),o.oldVersion,o.newVersion,Pi(A.transaction),o)}),n&&A.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const OM=["get","getKey","getAll","getAllKeys","count"],jM=["put","add","delete","clear"],Gm=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=jM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OM.includes(n)))return;const i=async function(A,...a){const o=this.transaction(A,s?"readwrite":"readonly");let l=o.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&o.done]))[0]};return Gm.set(e,i),i}DM(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jy="@firebase/app",y_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new aB("@firebase/app"),KM="@firebase/app-compat",zM="@firebase/analytics-compat",GM="@firebase/analytics",WM="@firebase/app-check-compat",$M="@firebase/app-check",qM="@firebase/auth",XM="@firebase/auth-compat",YM="@firebase/database",JM="@firebase/data-connect",ZM="@firebase/database-compat",eO="@firebase/functions",tO="@firebase/functions-compat",nO="@firebase/installations",rO="@firebase/installations-compat",sO="@firebase/messaging",iO="@firebase/messaging-compat",AO="@firebase/performance",aO="@firebase/performance-compat",oO="@firebase/remote-config",lO="@firebase/remote-config-compat",cO="@firebase/storage",uO="@firebase/storage-compat",dO="@firebase/firestore",hO="@firebase/vertexai-preview",fO="@firebase/firestore-compat",pO="firebase",gO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="[DEFAULT]",mO={[jy]:"fire-core",[KM]:"fire-core-compat",[GM]:"fire-analytics",[zM]:"fire-analytics-compat",[$M]:"fire-app-check",[WM]:"fire-app-check-compat",[qM]:"fire-auth",[XM]:"fire-auth-compat",[YM]:"fire-rtdb",[JM]:"fire-data-connect",[ZM]:"fire-rtdb-compat",[eO]:"fire-fn",[tO]:"fire-fn-compat",[nO]:"fire-iid",[rO]:"fire-iid-compat",[sO]:"fire-fcm",[iO]:"fire-fcm-compat",[AO]:"fire-perf",[aO]:"fire-perf-compat",[oO]:"fire-rc",[lO]:"fire-rc-compat",[cO]:"fire-gcs",[uO]:"fire-gcs-compat",[dO]:"fire-fst",[fO]:"fire-fst-compat",[hO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new Map,yO=new Map,Hy=new Map;function v_(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){const e=t.name;if(Hy.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,t);for(const n of Rf.values())v_(n,t);for(const n of yO.values())v_(n,t);return!0}function Hu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new ju("app","Firebase",vO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=gO;function mS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vy,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Li.create("bad-app-name",{appName:String(s)});if(n||(n=dS()),!n)throw Li.create("no-options");const i=Rf.get(s);if(i){if(kf(n,i.options)&&kf(r,i.config))return i;throw Li.create("duplicate-app",{appName:s})}const A=new bM(s);for(const o of Hy.values())A.addComponent(o);const a=new wO(n,r,A);return Rf.set(s,a),a}function Ag(t=Vy){const e=Rf.get(t);if(!e&&t===Vy&&dS())return mS();if(!e)throw Li.create("no-app",{appName:t});return e}function mr(t,e,n){var r;let s=(r=mO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(a.join(" "));return}zi(new Ms(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="firebase-heartbeat-database",xO=1,ru="firebase-heartbeat-store";let Wm=null;function yS(){return Wm||(Wm=MM(BO,xO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),Wm}async function CO(t){try{const n=(await yS()).transaction(ru),r=await n.objectStore(ru).get(vS(t));return await n.done,r}catch(e){if(e instanceof Pr)Os.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function w_(t,e){try{const r=(await yS()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,vS(t)),await r.done}catch(n){if(n instanceof Pr)Os.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function vS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=1024,_O=30*24*60*60*1e3;class bO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=B_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=_O}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:r,unsentEntries:s}=IO(this._heartbeatsCache.heartbeats),i=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Os.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function IO(t,e=EO){const n=[];let r=t.slice();for(const s of t){const i=n.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),x_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),x_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fM()?pM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function x_(t){return Nf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){zi(new Ms("platform-logger",e=>new VM(e),"PRIVATE")),zi(new Ms("heartbeat",e=>new bO(e),"PRIVATE")),mr(jy,y_,t),mr(jy,y_,"esm2017"),mr("fire-js","")}FO("");var UO="firebase",SO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(UO,SO,"app");function lB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QO=wS,BS=new ju("auth","Firebase",wS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new aB("@firebase/auth");function NO(t,...e){Df.logLevel<=ke.WARN&&Df.warn(`Auth (${oa}): ${t}`,...e)}function jh(t,...e){Df.logLevel<=ke.ERROR&&Df.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw cB(t,...e)}function Jr(t,...e){return cB(t,...e)}function xS(t,e,n){const r=Object.assign(Object.assign({},QO()),{[e]:n});return new ju("auth","Firebase",r).create(e,{appName:t.name})}function Mi(t){return xS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cB(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BS.create(t,...e)}function xe(t,e,...n){if(!t)throw cB(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jh(e),new Error(e)}function js(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kO(){return C_()==="http:"||C_()==="https:"}function C_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kO()||cM()||"connection"in navigator)?navigator.onLine:!0}function DO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=aM()||uM()}get(){return RO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Ku(3e4,6e4);function lA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lr(t,e,n,r,s={}){return ES(t,s,async()=>{let i={},A={};r&&(e==="GET"?A=r:i={body:JSON.stringify(r)});const a=Vu(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:o},i);return lM()||(l.referrerPolicy="no-referrer"),CS.fetch()(_S(t,t.config.apiHost,n,a),l)})}async function ES(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},PO),e);try{const s=new OO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw $d(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[o,l]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw $d(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw $d(t,"user-disabled",A);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw xS(t,u,l);kr(t,u)}}catch(s){if(s instanceof Pr)throw s;kr(t,"network-request-failed",{message:String(s)})}}async function ag(t,e,n,r,s={}){const i=await Lr(t,e,n,r,s);return"mfaPendingCredential"in i&&kr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function _S(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?uB(t.config,s):`${t.config.apiScheme}://${s}`}function MO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),LO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function E_(t){return t!==void 0&&t.enterprise!==void 0}class jO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function VO(t,e){return Lr(t,"GET","/v2/recaptchaConfig",lA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e){return Lr(t,"POST","/v1/accounts:delete",e)}async function bS(t,e){return Lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KO(t,e=!1){const n=et(t),r=await n.getIdToken(e),s=dB(r);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:wc($m(s.auth_time)),issuedAtTime:wc($m(s.iat)),expirationTime:wc($m(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $m(t){return Number(t)*1e3}function dB(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const s=cS(n);return s?JSON.parse(s):(jh("Failed to decode base64 JWT payload"),null)}catch(s){return jh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function __(t){const e=dB(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&zO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await qA(t,bS(n,{idToken:r}));xe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?IS(i.providerUserInfo):[],a=$O(t.providerData,A),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function WO(t){const e=et(t);await Pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $O(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function IS(t){return t.map(e=>{var{providerId:n}=e,r=lB(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){const n=await ES(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=_S(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CS.fetch()(A,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XO(t,e){return Lr(t,"POST","/v2/accounts:revokeToken",lA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):__(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=__(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await qO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,A=new fo;return r&&(xe(typeof r=="string","internal-error",{appName:e}),A.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(xe(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ts{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=lB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await qA(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KO(this,e)}reload(){return WO(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await qA(this,HO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,A,a,o,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(A=n.photoURL)!==null&&A!==void 0?A:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(o=n._redirectEventId)!==null&&o!==void 0?o:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:F,isAnonymous:Q,providerData:k,stsTokenManager:I}=n;xe(w&&I,e,"internal-error");const E=fo.fromJSON(this.name,I);xe(typeof w=="string",e,"internal-error"),ii(h,e.name),ii(f,e.name),xe(typeof F=="boolean",e,"internal-error"),xe(typeof Q=="boolean",e,"internal-error"),ii(g,e.name),ii(m,e.name),ii(y,e.name),ii(C,e.name),ii(x,e.name),ii(v,e.name);const b=new Ts({uid:w,auth:e,email:f,emailVerified:F,displayName:h,isAnonymous:Q,photoURL:m,phoneNumber:g,tenantId:y,stsTokenManager:E,createdAt:x,lastLoginAt:v});return k&&Array.isArray(k)&&(b.providerData=k.map(_=>Object.assign({},_))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new fo;s.updateFromServerResponse(n);const i=new Ts({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Pf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];xe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?IS(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new fo;a.updateFromIdToken(r);const o=new Ts({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new zy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function Fs(t){js(t instanceof Function,"Expected a class definition");let e=b_.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TS.type="NONE";const I_=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Vh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Vh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(Fs(I_),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Fs(I_);const A=Vh(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(A);if(u){const h=Ts._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const o=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new po(i,e,r):(i=o[0],a&&await i._set(A,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(A)}catch{}})),new po(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kS(e))return"Blackberry";if(RS(e))return"Webos";if(US(e))return"Safari";if((e.includes("chrome/")||SS(e))&&!e.includes("edge/"))return"Chrome";if(NS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FS(t=vn()){return/firefox\//i.test(t)}function US(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SS(t=vn()){return/crios\//i.test(t)}function QS(t=vn()){return/iemobile/i.test(t)}function NS(t=vn()){return/android/i.test(t)}function kS(t=vn()){return/blackberry/i.test(t)}function RS(t=vn()){return/webos/i.test(t)}function hB(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YO(t=vn()){var e;return hB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JO(){return dM()&&document.documentMode===10}function DS(t=vn()){return hB(t)||NS(t)||RS(t)||kS(t)||/windows phone/i.test(t)||QS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e=[]){let n;switch(t){case"Browser":n=T_(vn());break;case"Worker":n=`${T_(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((A,a)=>{try{const o=e(i);A(o)}catch(o){a(o)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",lA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=6;class nj{constructor(e){var n,r,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=A.minPasswordLength)!==null&&n!==void 0?n:tj,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(n=o.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new ZO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bS(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bs(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(Mi(this));const n=e?et(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ej(this),n=new nj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fs(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,r,s);return()=>{A=!0,o()}}else{const o=e.addObserver(n);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jo(t){return et(t)}class F_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wM(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sj(t){og=t}function LS(t){return og.loadJS(t)}function ij(){return og.recaptchaEnterpriseScript}function Aj(){return og.gapiScript}function aj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const oj="recaptcha-enterprise",lj="NO_RECAPTCHA";class cj{constructor(e){this.type=oj,this.auth=Jo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,a)=>{VO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new jO(o);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,A(l.siteKey)}}).catch(o=>{a(o)})})}function s(i,A,a){const o=window.grecaptcha;E_(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:e}).then(l=>{A(l)}).catch(()=>{A(lj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{r(this.auth).then(a=>{if(!n&&E_(window.grecaptcha))s(a,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=ij();o.length!==0&&(o+=a),LS(o).then(()=>{s(a,i,A)}).catch(l=>{A(l)})}}).catch(a=>{A(a)})})}}async function U_(t,e,n,r=!1){const s=new cj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const A=Object.assign({},e);return r?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function S_(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await U_(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await U_(t,e,n,n==="getOobCode");return r(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t,e){const n=Hu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(kf(i,e??{}))return s;kr(s,"already-initialized")}return n.initialize({options:e})}function dj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hj(t,e,n){const r=Jo(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=MS(e),{host:A,port:a}=fj(e),o=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${A}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),pj()}function MS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fj(t){const e=MS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Q_(r.substr(i.length+1))}}else{const[i,A]=r.split(":");return{host:i,port:Q_(A)}}}function Q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function gj(t,e){return Lr(t,"POST","/v1/accounts:update",e)}async function mj(t,e){return Lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e){return ag(t,"POST","/v1/accounts:signInWithPassword",lA(t,e))}async function vj(t,e){return Lr(t,"POST","/v1/accounts:sendOobCode",lA(t,e))}async function wj(t,e){return vj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e){return ag(t,"POST","/v1/accounts:signInWithEmailLink",lA(t,e))}async function xj(t,e){return ag(t,"POST","/v1/accounts:signInWithEmailLink",lA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends fB{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,n,"signInWithPassword",yj);case"emailLink":return Bj(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return S_(e,r,"signUpPassword",mj);case"emailLink":return xj(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return ag(t,"POST","/v1/accounts:signInWithIdp",lA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="http://localhost";class XA extends fB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new XA(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=lB(n,["providerId","signInMethod"]);if(!r||!s)return null;const A=new XA(r,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:Cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _j(t){const e=Gl(Wl(t)).link,n=e?Gl(Wl(e)).deep_link_id:null,r=Gl(Wl(t)).deep_link_id;return(r?Gl(Wl(r)).link:null)||r||n||e||t}class pB{constructor(e){var n,r,s,i,A,a;const o=Gl(Wl(e)),l=(n=o.apiKey)!==null&&n!==void 0?n:null,u=(r=o.oobCode)!==null&&r!==void 0?r:null,h=Ej((s=o.mode)!==null&&s!==void 0?s:null);xe(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_j(e);try{return new pB(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pB.parseLink(n);return xe(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends OS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends zu{constructor(){super("facebook.com")}static credential(e){return XA._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return XA._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends zu{constructor(){super("github.com")}static credential(e){return XA._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends zu{constructor(){super("twitter.com")}static credential(e,n){return XA._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ts._fromIdTokenResponse(e,r,s),A=N_(r);return new Fo({user:i,providerId:A,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=N_(r);return new Fo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function N_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Pr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Lf(e,n,r,s)}}function jS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(t,i,e,r):i})}async function bj(t,e,n=!1){const r=await qA(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e,n=!1){const{auth:r}=t;if(bs(r.app))return Promise.reject(Mi(r));const s="reauthenticate";try{const i=await qA(t,jS(r,s,e,t),n);xe(i.idToken,r,"internal-error");const A=dB(i.idToken);xe(A,r,"internal-error");const{sub:a}=A;return xe(t.uid===a,r,"user-mismatch"),Fo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(t,e,n=!1){if(bs(t.app))return Promise.reject(Mi(t));const r="signIn",s=await jS(t,r,e),i=await Fo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Tj(t,e){return VS(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Uj(t,e,n){return bs(t.app)?Promise.reject(Mi(t)):Tj(et(t),Zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fj(t),r})}async function Sj(t,e){const n=et(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await wj(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e){return Lr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=et(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},A=await qA(r,Qj(r.auth,i));r.displayName=A.displayName||null,r.photoURL=A.photoUrl||null;const a=r.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(A)}function kj(t,e){return Rj(et(t),null,e)}async function Rj(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const A=await qA(t,gj(r,i));await t._updateTokensIfNecessary(A,!0)}function Dj(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function Pj(t,e,n){return et(t).beforeAuthStateChanged(e,n)}const Mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=1e3,Mj=10;class KS extends HS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(r);!n&&this.localCache[r]===A||this.notifyListeners(r,A)},i=this.storage.getItem(r);JO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Mj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KS.type="LOCAL";const Oj=KS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends HS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zS.type="SESSION";const GS=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(A).map(async l=>l(n.origin,i)),o=await jj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gB(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,o)=>{const l=gB("",20);s.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},r);A={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function Hj(t){Zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function Kj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Gj(){return WS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",Wj=1,Of="firebaseLocalStorage",qS="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cg(t,e){return t.transaction([Of],e?"readwrite":"readonly").objectStore(Of)}function $j(){const t=indexedDB.deleteDatabase($S);return new Gu(t).toPromise()}function Gy(){const t=indexedDB.open($S,Wj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Of,{keyPath:qS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Of)?e(r):(r.close(),await $j(),e(await Gy()))})})}async function k_(t,e,n){const r=cg(t,!0).put({[qS]:e,value:n});return new Gu(r).toPromise()}async function qj(t,e){const n=cg(t,!1).get(e),r=await new Gu(n).toPromise();return r===void 0?null:r.value}function R_(t,e){const n=cg(t,!0).delete(e);return new Gu(n).toPromise()}const Xj=800,Yj=3;class XS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Yj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lg._getInstance(Gj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Kj(),!this.activeServiceWorker)return;this.sender=new Vj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gy();return await k_(e,Mf,"1"),await R_(e,Mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=cg(s,!1).getAll();return new Gu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XS.type="LOCAL";const Jj=XS;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t,e){return e?Fs(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB extends fB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eV(t){return VS(t.auth,new mB(t),t.bypassAuthState)}function tV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Ij(n,new mB(t),t.bypassAuthState)}async function nV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),bj(n,new mB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eV;case"linkViaPopup":case"linkViaRedirect":return nV;case"reauthViaPopup":case"reauthViaRedirect":return tV;default:kr(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new Ku(2e3,1e4);class qa extends YS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=gB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rV.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="pendingRedirect",Hh=new Map;class iV extends YS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const r=await AV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AV(t,e){const n=lV(e),r=oV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function aV(t,e){Hh.set(t._key(),e)}function oV(t){return Fs(t._redirectPersistence)}function lV(t){return Vh(sV,t.config.apiKey,t.name)}async function cV(t,e,n=!1){if(bs(t.app))return Promise.reject(Mi(t));const r=Jo(t),s=Zj(r,e),A=await new iV(r,s,n).execute();return A&&!n&&(delete A.user._redirectEventId,await r._persistUserIfCurrent(A.user),await r._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=10*60*1e3;class dV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uV&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e={}){return Lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gV=/^https?/;async function mV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fV(t);for(const n of e)try{if(yV(n))return}catch{}kr(t,"unauthorized-domain")}function yV(t){const e=Ky(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&A.hostname===r}if(!gV.test(n))return!1;if(pV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Ku(3e4,6e4);function P_(){const t=Zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wV(t){return new Promise((e,n)=>{var r,s,i;function A(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),n(Jr(t,"network-request-failed"))},timeout:vV.get()})}if(!((s=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Zr().gapi)===null||i===void 0)&&i.load)A();else{const a=aj("iframefcb");return Zr()[a]=()=>{gapi.load?A():n(Jr(t,"network-request-failed"))},LS(`${Aj()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function BV(t){return Kh=Kh||wV(t),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new Ku(5e3,15e3),CV="__/auth/iframe",EV="emulator/auth/iframe",_V={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IV(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uB(e,EV):`https://${t.config.authDomain}/${CV}`,r={apiKey:e.apiKey,appName:t.name,v:oa},s=bV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vu(r).slice(1)}`}async function TV(t){const e=await BV(t),n=Zr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:IV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_V,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const A=Jr(t,"network-request-failed"),a=Zr().setTimeout(()=>{i(A)},xV.get());function o(){Zr().clearTimeout(a),s(r)}r.ping(o).then(o,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UV=500,SV=600,QV="_blank",NV="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kV(t,e,n,r=UV,s=SV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const o=Object.assign(Object.assign({},FV),{width:r.toString(),height:s.toString(),top:i,left:A}),l=vn().toLowerCase();n&&(a=SS(l)?QV:n),FS(l)&&(e=e||NV,o.scrollbars="yes");const u=Object.entries(o).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(YO(l)&&a!=="_self")return RV(e||"",a),new L_(null);const h=window.open(e||"",a,u);xe(h,t,"popup-blocked");try{h.focus()}catch{}return new L_(h)}function RV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="__/auth/handler",PV="emulator/auth/handler",LV=encodeURIComponent("fac");async function M_(t,e,n,r,s,i){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:s};if(e instanceof OS){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",vM(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))A[u]=h}if(e instanceof zu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const o=await t._getAppCheckToken(),l=o?`#${LV}=${encodeURIComponent(o)}`:"";return`${MV(t)}?${Vu(a).slice(1)}${l}`}function MV({config:t}){return t.emulator?uB(t,PV):`https://${t.authDomain}/${DV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class OV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GS,this._completeRedirectFn=cV,this._overrideRedirectResult=aV}async _openPopup(e,n,r,s){var i;js((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await M_(e,n,r,Ky(),s);return kV(e,A,gB())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await M_(e,n,r,Ky(),s);return Hj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(js(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TV(e),r=new dV(e);return n.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[qm];A!==void 0&&n(!!A),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DS()||US()||hB()}}const jV=OV;var O_="@firebase/auth",j_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KV(t){zi(new Ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=r.options;xe(A&&!A.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PS(t)},l=new rj(r,s,i,o);return dj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new Ms("auth-internal",e=>{const n=Jo(e.getProvider("auth").getImmediate());return(r=>new VV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(O_,j_,HV(t)),mr(O_,j_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=5*60,GV=hS("authIdTokenMaxAge")||zV;let V_=null;const WV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GV)return;const s=n==null?void 0:n.token;V_!==s&&(V_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $V(t=Ag()){const e=Hu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uj(t,{popupRedirectResolver:jV,persistence:[Jj,Oj,GS]}),r=hS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const A=WV(i.toString());Pj(n,A,()=>A(n.currentUser)),Dj(n,a=>A(a))}}const s=uS("auth");return s&&hj(n,`http://${s}`),n}function qV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Jr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",qV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KV("Browser");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LA,ZS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function b(){}b.prototype=E.prototype,I.D=E.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(_,N,R){for(var T=Array(arguments.length-2),J=2;J<arguments.length;J++)T[J-2]=arguments[J];return E.prototype[N].apply(_,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,E,b){b||(b=0);var _=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)_[N]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(N=0;16>N;++N)_[N]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=I.g[0],b=I.g[1],N=I.g[2];var R=I.g[3],T=E+(R^b&(N^R))+_[0]+3614090360&4294967295;E=b+(T<<7&4294967295|T>>>25),T=R+(N^E&(b^N))+_[1]+3905402710&4294967295,R=E+(T<<12&4294967295|T>>>20),T=N+(b^R&(E^b))+_[2]+606105819&4294967295,N=R+(T<<17&4294967295|T>>>15),T=b+(E^N&(R^E))+_[3]+3250441966&4294967295,b=N+(T<<22&4294967295|T>>>10),T=E+(R^b&(N^R))+_[4]+4118548399&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(N^E&(b^N))+_[5]+1200080426&4294967295,R=E+(T<<12&4294967295|T>>>20),T=N+(b^R&(E^b))+_[6]+2821735955&4294967295,N=R+(T<<17&4294967295|T>>>15),T=b+(E^N&(R^E))+_[7]+4249261313&4294967295,b=N+(T<<22&4294967295|T>>>10),T=E+(R^b&(N^R))+_[8]+1770035416&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(N^E&(b^N))+_[9]+2336552879&4294967295,R=E+(T<<12&4294967295|T>>>20),T=N+(b^R&(E^b))+_[10]+4294925233&4294967295,N=R+(T<<17&4294967295|T>>>15),T=b+(E^N&(R^E))+_[11]+2304563134&4294967295,b=N+(T<<22&4294967295|T>>>10),T=E+(R^b&(N^R))+_[12]+1804603682&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(N^E&(b^N))+_[13]+4254626195&4294967295,R=E+(T<<12&4294967295|T>>>20),T=N+(b^R&(E^b))+_[14]+2792965006&4294967295,N=R+(T<<17&4294967295|T>>>15),T=b+(E^N&(R^E))+_[15]+1236535329&4294967295,b=N+(T<<22&4294967295|T>>>10),T=E+(N^R&(b^N))+_[1]+4129170786&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^N&(E^b))+_[6]+3225465664&4294967295,R=E+(T<<9&4294967295|T>>>23),T=N+(E^b&(R^E))+_[11]+643717713&4294967295,N=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(N^R))+_[0]+3921069994&4294967295,b=N+(T<<20&4294967295|T>>>12),T=E+(N^R&(b^N))+_[5]+3593408605&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^N&(E^b))+_[10]+38016083&4294967295,R=E+(T<<9&4294967295|T>>>23),T=N+(E^b&(R^E))+_[15]+3634488961&4294967295,N=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(N^R))+_[4]+3889429448&4294967295,b=N+(T<<20&4294967295|T>>>12),T=E+(N^R&(b^N))+_[9]+568446438&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^N&(E^b))+_[14]+3275163606&4294967295,R=E+(T<<9&4294967295|T>>>23),T=N+(E^b&(R^E))+_[3]+4107603335&4294967295,N=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(N^R))+_[8]+1163531501&4294967295,b=N+(T<<20&4294967295|T>>>12),T=E+(N^R&(b^N))+_[13]+2850285829&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^N&(E^b))+_[2]+4243563512&4294967295,R=E+(T<<9&4294967295|T>>>23),T=N+(E^b&(R^E))+_[7]+1735328473&4294967295,N=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(N^R))+_[12]+2368359562&4294967295,b=N+(T<<20&4294967295|T>>>12),T=E+(b^N^R)+_[5]+4294588738&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^N)+_[8]+2272392833&4294967295,R=E+(T<<11&4294967295|T>>>21),T=N+(R^E^b)+_[11]+1839030562&4294967295,N=R+(T<<16&4294967295|T>>>16),T=b+(N^R^E)+_[14]+4259657740&4294967295,b=N+(T<<23&4294967295|T>>>9),T=E+(b^N^R)+_[1]+2763975236&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^N)+_[4]+1272893353&4294967295,R=E+(T<<11&4294967295|T>>>21),T=N+(R^E^b)+_[7]+4139469664&4294967295,N=R+(T<<16&4294967295|T>>>16),T=b+(N^R^E)+_[10]+3200236656&4294967295,b=N+(T<<23&4294967295|T>>>9),T=E+(b^N^R)+_[13]+681279174&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^N)+_[0]+3936430074&4294967295,R=E+(T<<11&4294967295|T>>>21),T=N+(R^E^b)+_[3]+3572445317&4294967295,N=R+(T<<16&4294967295|T>>>16),T=b+(N^R^E)+_[6]+76029189&4294967295,b=N+(T<<23&4294967295|T>>>9),T=E+(b^N^R)+_[9]+3654602809&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^N)+_[12]+3873151461&4294967295,R=E+(T<<11&4294967295|T>>>21),T=N+(R^E^b)+_[15]+530742520&4294967295,N=R+(T<<16&4294967295|T>>>16),T=b+(N^R^E)+_[2]+3299628645&4294967295,b=N+(T<<23&4294967295|T>>>9),T=E+(N^(b|~R))+_[0]+4096336452&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~N))+_[7]+1126891415&4294967295,R=E+(T<<10&4294967295|T>>>22),T=N+(E^(R|~b))+_[14]+2878612391&4294967295,N=R+(T<<15&4294967295|T>>>17),T=b+(R^(N|~E))+_[5]+4237533241&4294967295,b=N+(T<<21&4294967295|T>>>11),T=E+(N^(b|~R))+_[12]+1700485571&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~N))+_[3]+2399980690&4294967295,R=E+(T<<10&4294967295|T>>>22),T=N+(E^(R|~b))+_[10]+4293915773&4294967295,N=R+(T<<15&4294967295|T>>>17),T=b+(R^(N|~E))+_[1]+2240044497&4294967295,b=N+(T<<21&4294967295|T>>>11),T=E+(N^(b|~R))+_[8]+1873313359&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~N))+_[15]+4264355552&4294967295,R=E+(T<<10&4294967295|T>>>22),T=N+(E^(R|~b))+_[6]+2734768916&4294967295,N=R+(T<<15&4294967295|T>>>17),T=b+(R^(N|~E))+_[13]+1309151649&4294967295,b=N+(T<<21&4294967295|T>>>11),T=E+(N^(b|~R))+_[4]+4149444226&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~N))+_[11]+3174756917&4294967295,R=E+(T<<10&4294967295|T>>>22),T=N+(E^(R|~b))+_[2]+718787259&4294967295,N=R+(T<<15&4294967295|T>>>17),T=b+(R^(N|~E))+_[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(N+(T<<21&4294967295|T>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var b=E-this.blockSize,_=this.B,N=this.h,R=0;R<E;){if(N==0)for(;R<=b;)s(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<E;)if(_[N++]=I.charCodeAt(R++),N==this.blockSize){s(this,_),N=0;break}}else for(;R<E;)if(_[N++]=I[R++],N==this.blockSize){s(this,_),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var b=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=b&255,b/=256;for(this.u(I),I=Array(16),E=b=0;4>E;++E)for(var _=0;32>_;_+=8)I[b++]=this.g[E]>>>_&255;return I};function i(I,E){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=E(I)}function A(I,E){this.h=E;for(var b=[],_=!0,N=I.length-1;0<=N;N--){var R=I[N]|0;_&&R==E||(b[N]=R,_=!1)}this.g=b}var a={};function o(I){return-128<=I&&128>I?i(I,function(E){return new A([E|0],0>E?-1:0)}):new A([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return C(l(-I));for(var E=[],b=1,_=0;I>=b;_++)E[_]=I/b|0,b*=4294967296;return new A(E,0)}function u(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return C(u(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(E,8)),_=h,N=0;N<I.length;N+=8){var R=Math.min(8,I.length-N),T=parseInt(I.substring(N,N+R),E);8>R?(R=l(Math.pow(E,R)),_=_.j(R).add(l(T))):(_=_.j(b),_=_.add(l(T)))}return _}var h=o(0),f=o(1),g=o(16777216);t=A.prototype,t.m=function(){if(y(this))return-C(this).m();for(var I=0,E=1,b=0;b<this.g.length;b++){var _=this.i(b);I+=(0<=_?_:4294967296+_)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(m(this))return"0";if(y(this))return"-"+C(this).toString(I);for(var E=l(Math.pow(I,6)),b=this,_="";;){var N=F(b,E).g;b=x(b,N.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=N,m(b))return R+_;for(;6>R.length;)R="0"+R;_=R+_}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function m(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=x(this,I),y(I)?-1:m(I)?0:1};function C(I){for(var E=I.g.length,b=[],_=0;_<E;_++)b[_]=~I.g[_];return new A(b,~I.h).add(f)}t.abs=function(){return y(this)?C(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0,N=0;N<=E;N++){var R=_+(this.i(N)&65535)+(I.i(N)&65535),T=(R>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);_=T>>>16,R&=65535,T&=65535,b[N]=T<<16|R}return new A(b,b[b.length-1]&-2147483648?-1:0)};function x(I,E){return I.add(C(E))}t.j=function(I){if(m(this)||m(I))return h;if(y(this))return y(I)?C(this).j(C(I)):C(C(this).j(I));if(y(I))return C(this.j(C(I)));if(0>this.l(g)&&0>I.l(g))return l(this.m()*I.m());for(var E=this.g.length+I.g.length,b=[],_=0;_<2*E;_++)b[_]=0;for(_=0;_<this.g.length;_++)for(var N=0;N<I.g.length;N++){var R=this.i(_)>>>16,T=this.i(_)&65535,J=I.i(N)>>>16,ie=I.i(N)&65535;b[2*_+2*N]+=T*ie,v(b,2*_+2*N),b[2*_+2*N+1]+=R*ie,v(b,2*_+2*N+1),b[2*_+2*N+1]+=T*J,v(b,2*_+2*N+1),b[2*_+2*N+2]+=R*J,v(b,2*_+2*N+2)}for(_=0;_<E;_++)b[_]=b[2*_+1]<<16|b[2*_];for(_=E;_<2*E;_++)b[_]=0;return new A(b,0)};function v(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function w(I,E){this.g=I,this.h=E}function F(I,E){if(m(E))throw Error("division by zero");if(m(I))return new w(h,h);if(y(I))return E=F(C(I),E),new w(C(E.g),C(E.h));if(y(E))return E=F(I,C(E)),new w(C(E.g),E.h);if(30<I.g.length){if(y(I)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var b=f,_=E;0>=_.l(I);)b=Q(b),_=Q(_);var N=k(b,1),R=k(_,1);for(_=k(_,2),b=k(b,2);!m(_);){var T=R.add(_);0>=T.l(I)&&(N=N.add(b),R=T),_=k(_,1),b=k(b,1)}return E=x(I,N.j(E)),new w(N,E)}for(N=h;0<=I.l(E);){for(b=Math.max(1,Math.floor(I.m()/E.m())),_=Math.ceil(Math.log(b)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),R=l(b),T=R.j(E);y(T)||0<T.l(I);)b-=_,R=l(b),T=R.j(E);m(R)&&(R=f),N=N.add(R),I=x(I,T)}return new w(N,I)}t.A=function(I){return F(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)&I.i(_);return new A(b,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)|I.i(_);return new A(b,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)^I.i(_);return new A(b,this.h^I.h)};function Q(I){for(var E=I.g.length+1,b=[],_=0;_<E;_++)b[_]=I.i(_)<<1|I.i(_-1)>>>31;return new A(b,I.h)}function k(I,E){var b=E>>5;E%=32;for(var _=I.g.length-b,N=[],R=0;R<_;R++)N[R]=0<E?I.i(R+b)>>>E|I.i(R+b+1)<<32-E:I.i(R+b);return new A(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZS=r,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=l,A.fromString=u,LA=A}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eQ,$l,tQ,zh,Wy,nQ,rQ,sQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,p,B){return d==Array.prototype||d==Object.prototype||(d[p]=B.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var p=0;p<d.length;++p){var B=d[p];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=n(this);function s(d,p){if(p)e:{var B=r;d=d.split(".");for(var U=0;U<d.length-1;U++){var L=d[U];if(!(L in B))break e;B=B[L]}d=d[d.length-1],U=B[d],p=p(U),p!=U&&p!=null&&e(B,d,{configurable:!0,writable:!0,value:p})}}function i(d,p){d instanceof String&&(d+="");var B=0,U=!1,L={next:function(){if(!U&&B<d.length){var O=B++;return{value:p(O,d[O]),done:!1}}return U=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(p,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(d){var p=typeof d;return p=p!="object"?p:d?Array.isArray(d)?"array":p:"null",p=="array"||p=="object"&&typeof d.length=="number"}function l(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function u(d,p,B){return d.call.apply(d.bind,arguments)}function h(d,p,B){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,U),d.apply(p,L)}}return function(){return d.apply(p,arguments)}}function f(d,p,B){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,p){var B=Array.prototype.slice.call(arguments,1);return function(){var U=B.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function m(d,p){function B(){}B.prototype=p.prototype,d.aa=p.prototype,d.prototype=new B,d.prototype.constructor=d,d.Qb=function(U,L,O){for(var Z=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)Z[Xe-2]=arguments[Xe];return p.prototype[L].apply(U,Z)}}function y(d){const p=d.length;if(0<p){const B=Array(p);for(let U=0;U<p;U++)B[U]=d[U];return B}return[]}function C(d,p){for(let B=1;B<arguments.length;B++){const U=arguments[B];if(o(U)){const L=d.length||0,O=U.length||0;d.length=L+O;for(let Z=0;Z<O;Z++)d[L+Z]=U[Z]}else d.push(U)}}class x{constructor(p,B){this.i=p,this.j=B,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var Q=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(d,p,B){for(const U in d)p.call(B,d[U],U,d)}function I(d,p){for(const B in d)p.call(void 0,d[B],B,d)}function E(d){const p={};for(const B in d)p[B]=d[B];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(d,p){let B,U;for(let L=1;L<arguments.length;L++){U=arguments[L];for(B in U)d[B]=U[B];for(let O=0;O<b.length;O++)B=b[O],Object.prototype.hasOwnProperty.call(U,B)&&(d[B]=U[B])}}function N(d){var p=1;d=d.split(":");const B=[];for(;0<p&&d.length;)B.push(d.shift()),p--;return d.length&&B.push(d.join(":")),B}function R(d){a.setTimeout(()=>{throw d},0)}function T(){var d=K;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class J{constructor(){this.h=this.g=null}add(p,B){const U=ie.get();U.set(p,B),this.h?this.h.next=U:this.g=U,this.h=U}}var ie=new x(()=>new V,d=>d.reset());class V{constructor(){this.next=this.g=this.h=null}set(p,B){this.h=p,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let q,P=!1,K=new J,z=()=>{const d=a.Promise.resolve(void 0);q=()=>{d.then(ge)}};var ge=()=>{for(var d;d=T();){try{d.h.call(d.g)}catch(B){R(B)}var p=ie;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}P=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const B=()=>{};a.addEventListener("test",B,p),a.removeEventListener("test",B,p)}catch{}return d}();function tt(d,p){if(Te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var B=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(Q){e:{try{F(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else B=="mouseover"?p=d.fromElement:B=="mouseout"&&(p=d.toElement);this.relatedTarget=p,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:At[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&tt.aa.h.call(this)}}m(tt,Te);var At={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),hs=0;function ha(d,p,B,U,L){this.listener=d,this.proxy=null,this.src=p,this.type=B,this.capture=!!U,this.ha=L,this.key=++hs,this.da=this.fa=!1}function fs(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Or(d){this.src=d,this.g={},this.h=0}Or.prototype.add=function(d,p,B,U,L){var O=d.toString();d=this.g[O],d||(d=this.g[O]=[],this.h++);var Z=fa(d,p,U,L);return-1<Z?(p=d[Z],B||(p.fa=!1)):(p=new ha(p,this.src,O,!!U,L),p.fa=B,d.push(p)),p};function ei(d,p){var B=p.type;if(B in d.g){var U=d.g[B],L=Array.prototype.indexOf.call(U,p,void 0),O;(O=0<=L)&&Array.prototype.splice.call(U,L,1),O&&(fs(p),d.g[B].length==0&&(delete d.g[B],d.h--))}}function fa(d,p,B,U){for(var L=0;L<d.length;++L){var O=d[L];if(!O.da&&O.listener==p&&O.capture==!!B&&O.ha==U)return L}return-1}var pa="closure_lm_"+(1e6*Math.random()|0),hd={};function em(d,p,B,U,L){if(Array.isArray(p)){for(var O=0;O<p.length;O++)em(d,p[O],B,U,L);return null}return B=Ie(B),d&&d[gt]?d.K(p,B,l(U)?!!U.capture:!!U,L):sC(d,p,B,!1,U,L)}function sC(d,p,B,U,L,O){if(!p)throw Error("Invalid event type");var Z=l(L)?!!L.capture:!!L,Xe=Y(d);if(Xe||(d[pa]=Xe=new Or(d)),B=Xe.add(p,B,U,Z,O),B.proxy)return B;if(U=D(),B.proxy=U,U.src=d,U.listener=B,d.addEventListener)Ke||(L=Z),L===void 0&&(L=!1),d.addEventListener(p.toString(),U,L);else if(d.attachEvent)d.attachEvent(ne(p.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return B}function D(){function d(B){return p.call(d.src,d.listener,B)}const p=ee;return d}function M(d,p,B,U,L){if(Array.isArray(p))for(var O=0;O<p.length;O++)M(d,p[O],B,U,L);else U=l(U)?!!U.capture:!!U,B=Ie(B),d&&d[gt]?(d=d.i,p=String(p).toString(),p in d.g&&(O=d.g[p],B=fa(O,B,U,L),-1<B&&(fs(O[B]),Array.prototype.splice.call(O,B,1),O.length==0&&(delete d.g[p],d.h--)))):d&&(d=Y(d))&&(p=d.g[p.toString()],d=-1,p&&(d=fa(p,B,U,L)),(B=-1<d?p[d]:null)&&j(B))}function j(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[gt])ei(p.i,d);else{var B=d.type,U=d.proxy;p.removeEventListener?p.removeEventListener(B,U,d.capture):p.detachEvent?p.detachEvent(ne(B),U):p.addListener&&p.removeListener&&p.removeListener(U),(B=Y(p))?(ei(B,d),B.h==0&&(B.src=null,p[pa]=null)):fs(d)}}}function ne(d){return d in hd?hd[d]:hd[d]="on"+d}function ee(d,p){if(d.da)d=!0;else{p=new tt(p,this);var B=d.listener,U=d.ha||d.src;d.fa&&j(d),d=B.call(U,p)}return d}function Y(d){return d=d[pa],d instanceof Or?d:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(d){return typeof d=="function"?d:(d[he]||(d[he]=function(p){return d.handleEvent(p)}),d[he])}function Ne(){we.call(this),this.i=new Or(this),this.M=this,this.F=null}m(Ne,we),Ne.prototype[gt]=!0,Ne.prototype.removeEventListener=function(d,p,B,U){M(this,d,p,B,U)};function Re(d,p){var B,U=d.F;if(U)for(B=[];U;U=U.F)B.push(U);if(d=d.M,U=p.type||p,typeof p=="string")p=new Te(p,d);else if(p instanceof Te)p.target=p.target||d;else{var L=p;p=new Te(U,d),_(p,L)}if(L=!0,B)for(var O=B.length-1;0<=O;O--){var Z=p.g=B[O];L=Vn(Z,U,!0,p)&&L}if(Z=p.g=d,L=Vn(Z,U,!0,p)&&L,L=Vn(Z,U,!1,p)&&L,B)for(O=0;O<B.length;O++)Z=p.g=B[O],L=Vn(Z,U,!1,p)&&L}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var d=this.i,p;for(p in d.g){for(var B=d.g[p],U=0;U<B.length;U++)fs(B[U]);delete d.g[p],d.h--}}this.F=null},Ne.prototype.K=function(d,p,B,U){return this.i.add(String(d),p,!1,B,U)},Ne.prototype.L=function(d,p,B,U){return this.i.add(String(d),p,!0,B,U)};function Vn(d,p,B,U){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,O=0;O<p.length;++O){var Z=p[O];if(Z&&!Z.da&&Z.capture==B){var Xe=Z.listener,zt=Z.ha||Z.src;Z.fa&&ei(d.i,Z),L=Xe.call(zt,U)!==!1&&L}}return L&&!U.defaultPrevented}function fd(d,p,B){if(typeof d=="function")B&&(d=f(d,B));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function ga(d){d.g=fd(()=>{d.g=null,d.i&&(d.i=!1,ga(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class ll extends we{constructor(p,B){super(),this.m=p,this.l=B,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pA(d){we.call(this),this.h=d,this.g={}}m(pA,we);var cl=[];function pd(d){k(d.g,function(p,B){this.g.hasOwnProperty(B)&&j(p)},d),d.g={}}pA.prototype.N=function(){pA.aa.N.call(this),pd(this)},pA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=a.JSON.stringify,eD=a.JSON.parse,tD=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function tm(){}tm.prototype.h=null;function iC(d){return d.h||(d.h=d.i())}function AC(){}var ul={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nm(){Te.call(this,"d")}m(nm,Te);function rm(){Te.call(this,"c")}m(rm,Te);var gA={},aC=null;function gd(){return aC=aC||new Ne}gA.La="serverreachability";function oC(d){Te.call(this,gA.La,d)}m(oC,Te);function dl(d){const p=gd();Re(p,new oC(p))}gA.STAT_EVENT="statevent";function lC(d,p){Te.call(this,gA.STAT_EVENT,d),this.stat=p}m(lC,Te);function Bn(d){const p=gd();Re(p,new lC(p,d))}gA.Ma="timingevent";function cC(d,p){Te.call(this,gA.Ma,d),this.size=p}m(cC,Te);function hl(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function fl(){this.g=!0}fl.prototype.xa=function(){this.g=!1};function nD(d,p,B,U,L,O){d.info(function(){if(d.g)if(O)for(var Z="",Xe=O.split("&"),zt=0;zt<Xe.length;zt++){var Oe=Xe[zt].split("=");if(1<Oe.length){var An=Oe[0];Oe=Oe[1];var an=An.split("_");Z=2<=an.length&&an[1]=="type"?Z+(An+"="+Oe+"&"):Z+(An+"=redacted&")}}else Z=null;else Z=O;return"XMLHTTP REQ ("+U+") [attempt "+L+"]: "+p+`
`+B+`
`+Z})}function rD(d,p,B,U,L,O,Z){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+L+"]: "+p+`
`+B+`
`+O+" "+Z})}function ya(d,p,B,U){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+iD(d,B)+(U?" "+U:"")})}function sD(d,p){d.info(function(){return"TIMEOUT: "+p})}fl.prototype.info=function(){};function iD(d,p){if(!d.g)return p;if(!p)return null;try{var B=JSON.parse(p);if(B){for(d=0;d<B.length;d++)if(Array.isArray(B[d])){var U=B[d];if(!(2>U.length)){var L=U[1];if(Array.isArray(L)&&!(1>L.length)){var O=L[0];if(O!="noop"&&O!="stop"&&O!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return ma(B)}catch{return p}}var md={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sm;function yd(){}m(yd,tm),yd.prototype.g=function(){return new XMLHttpRequest},yd.prototype.i=function(){return{}},sm=new yd;function ti(d,p,B,U){this.j=d,this.i=p,this.l=B,this.R=U||1,this.U=new pA(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dC}function dC(){this.i=null,this.g="",this.h=!1}var hC={},im={};function Am(d,p,B){d.L=1,d.v=xd(ps(p)),d.m=B,d.P=!0,fC(d,null)}function fC(d,p){d.F=Date.now(),vd(d),d.A=ps(d.v);var B=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),TC(B.i,"t",U),d.C=0,B=d.j.J,d.h=new dC,d.g=GC(d.j,B?p:null,!d.m),0<d.O&&(d.M=new ll(f(d.Y,d,d.g),d.O)),p=d.U,B=d.g,U=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(cl[0]=L.toString()),L=cl);for(var O=0;O<L.length;O++){var Z=em(B,L[O],U||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),dl(),nD(d.i,d.u,d.A,d.l,d.R,d.m)}ti.prototype.ca=function(d){d=d.target;const p=this.M;p&&gs(d)==3?p.j():this.Y(d)},ti.prototype.Y=function(d){try{if(d==this.g)e:{const an=gs(this.g);var p=this.g.Ba();const Ba=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||RC(this.g)))){this.J||an!=4||p==7||(p==8||0>=Ba?dl(3):dl(2)),am(this);var B=this.g.Z();this.X=B;t:if(pC(this)){var U=RC(this.g);d="";var L=U.length,O=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mA(this),pl(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,d+=this.h.i.decode(U[p],{stream:!(O&&p==L-1)});U.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=B==200,rD(this.i,this.u,this.A,this.l,this.R,an,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,zt=this.g;if((Xe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Xe)){var Oe=Xe;break t}}Oe=null}if(B=Oe)ya(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,om(this,B);else{this.o=!1,this.s=3,Bn(12),mA(this),pl(this);break e}}if(this.P){B=!0;let wr;for(;!this.J&&this.C<Z.length;)if(wr=AD(this,Z),wr==im){an==4&&(this.s=4,Bn(14),B=!1),ya(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==hC){this.s=4,Bn(15),ya(this.i,this.l,Z,"[Invalid Chunk]"),B=!1;break}else ya(this.i,this.l,wr,null),om(this,wr);if(pC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||Z.length!=0||this.h.h||(this.s=1,Bn(16),B=!1),this.o=this.o&&B,!B)ya(this.i,this.l,Z,"[Invalid Chunked Response]"),mA(this),pl(this);else if(0<Z.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),fm(An),An.M=!0,Bn(11))}}else ya(this.i,this.l,Z,null),om(this,Z);an==4&&mA(this),this.o&&!this.J&&(an==4?VC(this.j,this):(this.o=!1,vd(this)))}else CD(this.g),B==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Bn(12)):(this.s=0,Bn(13)),mA(this),pl(this)}}}catch{}finally{}};function pC(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function AD(d,p){var B=d.C,U=p.indexOf(`
`,B);return U==-1?im:(B=Number(p.substring(B,U)),isNaN(B)?hC:(U+=1,U+B>p.length?im:(p=p.slice(U,U+B),d.C=U+B,p)))}ti.prototype.cancel=function(){this.J=!0,mA(this)};function vd(d){d.S=Date.now()+d.I,gC(d,d.I)}function gC(d,p){if(d.B!=null)throw Error("WatchDog timer not null");d.B=hl(f(d.ba,d),p)}function am(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ti.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(sD(this.i,this.A),this.L!=2&&(dl(),Bn(17)),mA(this),this.s=2,pl(this)):gC(this,this.S-d)};function pl(d){d.j.G==0||d.J||VC(d.j,d)}function mA(d){am(d);var p=d.M;p&&typeof p.ma=="function"&&p.ma(),d.M=null,pd(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function om(d,p){try{var B=d.j;if(B.G!=0&&(B.g==d||lm(B.h,d))){if(!d.K&&lm(B.h,d)&&B.G==3){try{var U=B.Da.g.parse(p)}catch{U=null}if(Array.isArray(U)&&U.length==3){var L=U;if(L[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<d.F)Td(B),bd(B);else break e;hm(B),Bn(18)}}else B.za=L[1],0<B.za-B.T&&37500>L[2]&&B.F&&B.v==0&&!B.C&&(B.C=hl(f(B.Za,B),6e3));if(1>=vC(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else vA(B,11)}else if((d.K||B.g==d)&&Td(B),!v(p))for(L=B.Da.g.parse(p),p=0;p<L.length;p++){let Oe=L[p];if(B.T=Oe[0],Oe=Oe[1],B.G==2)if(Oe[0]=="c"){B.K=Oe[1],B.ia=Oe[2];const An=Oe[3];An!=null&&(B.la=An,B.j.info("VER="+B.la));const an=Oe[4];an!=null&&(B.Aa=an,B.j.info("SVER="+B.Aa));const Ba=Oe[5];Ba!=null&&typeof Ba=="number"&&0<Ba&&(U=1.5*Ba,B.L=U,B.j.info("backChannelRequestTimeoutMs_="+U)),U=B;const wr=d.g;if(wr){const Ud=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ud){var O=U.h;O.g||Ud.indexOf("spdy")==-1&&Ud.indexOf("quic")==-1&&Ud.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(cm(O,O.h),O.h=null))}if(U.D){const pm=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;pm&&(U.ya=pm,nt(U.I,U.D,pm))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-d.F,B.j.info("Handshake RTT: "+B.R+"ms")),U=B;var Z=d;if(U.qa=zC(U,U.J?U.ia:null,U.W),Z.K){wC(U.h,Z);var Xe=Z,zt=U.L;zt&&(Xe.I=zt),Xe.B&&(am(Xe),vd(Xe)),U.g=Z}else OC(U);0<B.i.length&&Id(B)}else Oe[0]!="stop"&&Oe[0]!="close"||vA(B,7);else B.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?vA(B,7):dm(B):Oe[0]!="noop"&&B.l&&B.l.ta(Oe),B.v=0)}}dl(4)}catch{}}var aD=class{constructor(d,p){this.g=d,this.map=p}};function mC(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yC(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function vC(d){return d.h?1:d.g?d.g.size:0}function lm(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function cm(d,p){d.g?d.g.add(p):d.h=p}function wC(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}mC.prototype.cancel=function(){if(this.i=BC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function BC(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const B of d.g.values())p=p.concat(B.D);return p}return y(d.i)}function oD(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(o(d)){for(var p=[],B=d.length,U=0;U<B;U++)p.push(d[U]);return p}p=[],B=0;for(U in d)p[B++]=d[U];return p}function lD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(o(d)||typeof d=="string"){var p=[];d=d.length;for(var B=0;B<d;B++)p.push(B);return p}p=[],B=0;for(const U in d)p[B++]=U;return p}}}function xC(d,p){if(d.forEach&&typeof d.forEach=="function")d.forEach(p,void 0);else if(o(d)||typeof d=="string")Array.prototype.forEach.call(d,p,void 0);else for(var B=lD(d),U=oD(d),L=U.length,O=0;O<L;O++)p.call(void 0,U[O],B&&B[O],d)}var CC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cD(d,p){if(d){d=d.split("&");for(var B=0;B<d.length;B++){var U=d[B].indexOf("="),L=null;if(0<=U){var O=d[B].substring(0,U);L=d[B].substring(U+1)}else O=d[B];p(O,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function yA(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof yA){this.h=d.h,wd(this,d.j),this.o=d.o,this.g=d.g,Bd(this,d.s),this.l=d.l;var p=d.i,B=new yl;B.i=p.i,p.g&&(B.g=new Map(p.g),B.h=p.h),EC(this,B),this.m=d.m}else d&&(p=String(d).match(CC))?(this.h=!1,wd(this,p[1]||"",!0),this.o=gl(p[2]||""),this.g=gl(p[3]||"",!0),Bd(this,p[4]),this.l=gl(p[5]||"",!0),EC(this,p[6]||"",!0),this.m=gl(p[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}yA.prototype.toString=function(){var d=[],p=this.j;p&&d.push(ml(p,_C,!0),":");var B=this.g;return(B||p=="file")&&(d.push("//"),(p=this.o)&&d.push(ml(p,_C,!0),"@"),d.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&d.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&d.push("/"),d.push(ml(B,B.charAt(0)=="/"?hD:dD,!0))),(B=this.i.toString())&&d.push("?",B),(B=this.m)&&d.push("#",ml(B,pD)),d.join("")};function ps(d){return new yA(d)}function wd(d,p,B){d.j=B?gl(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function Bd(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function EC(d,p,B){p instanceof yl?(d.i=p,gD(d.i,d.h)):(B||(p=ml(p,fD)),d.i=new yl(p,d.h))}function nt(d,p,B){d.i.set(p,B)}function xd(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gl(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ml(d,p,B){return typeof d=="string"?(d=encodeURI(d).replace(p,uD),B&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function uD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _C=/[#\/\?@]/g,dD=/[#\?:]/g,hD=/[#\?]/g,fD=/[#\?@]/g,pD=/#/g;function yl(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function ni(d){d.g||(d.g=new Map,d.h=0,d.i&&cD(d.i,function(p,B){d.add(decodeURIComponent(p.replace(/\+/g," ")),B)}))}t=yl.prototype,t.add=function(d,p){ni(this),this.i=null,d=va(this,d);var B=this.g.get(d);return B||this.g.set(d,B=[]),B.push(p),this.h+=1,this};function bC(d,p){ni(d),p=va(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function IC(d,p){return ni(d),p=va(d,p),d.g.has(p)}t.forEach=function(d,p){ni(this),this.g.forEach(function(B,U){B.forEach(function(L){d.call(p,L,U,this)},this)},this)},t.na=function(){ni(this);const d=Array.from(this.g.values()),p=Array.from(this.g.keys()),B=[];for(let U=0;U<p.length;U++){const L=d[U];for(let O=0;O<L.length;O++)B.push(p[U])}return B},t.V=function(d){ni(this);let p=[];if(typeof d=="string")IC(this,d)&&(p=p.concat(this.g.get(va(this,d))));else{d=Array.from(this.g.values());for(let B=0;B<d.length;B++)p=p.concat(d[B])}return p},t.set=function(d,p){return ni(this),this.i=null,d=va(this,d),IC(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=this.V(d),0<d.length?String(d[0]):p):p};function TC(d,p,B){bC(d,p),0<B.length&&(d.i=null,d.g.set(va(d,p),y(B)),d.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(var B=0;B<p.length;B++){var U=p[B];const O=encodeURIComponent(String(U)),Z=this.V(U);for(U=0;U<Z.length;U++){var L=O;Z[U]!==""&&(L+="="+encodeURIComponent(String(Z[U]))),d.push(L)}}return this.i=d.join("&")};function va(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function gD(d,p){p&&!d.j&&(ni(d),d.i=null,d.g.forEach(function(B,U){var L=U.toLowerCase();U!=L&&(bC(this,U),TC(this,L,B))},d)),d.j=p}function mD(d,p){const B=new fl;if(a.Image){const U=new Image;U.onload=g(ri,B,"TestLoadImage: loaded",!0,p,U),U.onerror=g(ri,B,"TestLoadImage: error",!1,p,U),U.onabort=g(ri,B,"TestLoadImage: abort",!1,p,U),U.ontimeout=g(ri,B,"TestLoadImage: timeout",!1,p,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else p(!1)}function yD(d,p){const B=new fl,U=new AbortController,L=setTimeout(()=>{U.abort(),ri(B,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:U.signal}).then(O=>{clearTimeout(L),O.ok?ri(B,"TestPingServer: ok",!0,p):ri(B,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),ri(B,"TestPingServer: error",!1,p)})}function ri(d,p,B,U,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),U(B)}catch{}}function vD(){this.g=new tD}function wD(d,p,B){const U=B||"";try{xC(d,function(L,O){let Z=L;l(L)&&(Z=ma(L)),p.push(U+O+"="+encodeURIComponent(Z))})}catch(L){throw p.push(U+"type="+encodeURIComponent("_badmap")),L}}function Cd(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Cd,tm),Cd.prototype.g=function(){return new Ed(this.l,this.j)},Cd.prototype.i=function(d){return function(){return d}}({});function Ed(d,p){Ne.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ed,Ne),t=Ed.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,wl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;FC(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function FC(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?vl(this):wl(this),this.readyState==3&&FC(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,vl(this))},t.Qa=function(d){this.g&&(this.response=d,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,wl(d)}t.setRequestHeader=function(d,p){this.u.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var B=p.next();!B.done;)B=B.value,d.push(B[0]+": "+B[1]),B=p.next();return d.join(`\r
`)};function wl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ed.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function UC(d){let p="";return k(d,function(B,U){p+=U,p+=":",p+=B,p+=`\r
`}),p}function um(d,p,B){e:{for(U in B){var U=!1;break e}U=!0}U||(B=UC(B),typeof d=="string"?B!=null&&encodeURIComponent(String(B)):nt(d,p,B))}function mt(d){Ne.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(mt,Ne);var BD=/^https?$/i,xD=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,p,B,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sm.g(),this.v=this.o?iC(this.o):iC(sm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(O){SC(this,O);return}if(d=B||"",B=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var L in U)B.set(L,U[L]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const O of U.keys())B.set(O,U.get(O));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(B.keys()).find(O=>O.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xD,p,void 0))||U||L||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,Z]of B)this.g.setRequestHeader(O,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kC(this),this.u=!0,this.g.send(d),this.u=!1}catch(O){SC(this,O)}};function SC(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,QC(d),_d(d)}function QC(d){d.A||(d.A=!0,Re(d,"complete"),Re(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Re(this,"complete"),Re(this,"abort"),_d(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_d(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?NC(this):this.bb())},t.bb=function(){NC(this)};function NC(d){if(d.h&&typeof A<"u"&&(!d.v[1]||gs(d)!=4||d.Z()!=2)){if(d.u&&gs(d)==4)fd(d.Ea,0,d);else if(Re(d,"readystatechange"),gs(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var B;if(!(B=p)){var U;if(U=Z===0){var L=String(d.D).match(CC)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),U=!BD.test(L?L.toLowerCase():"")}B=U}if(B)Re(d,"complete"),Re(d,"success");else{d.m=6;try{var O=2<gs(d)?d.g.statusText:""}catch{O=""}d.l=O+" ["+d.Z()+"]",QC(d)}}finally{_d(d)}}}}function _d(d,p){if(d.g){kC(d);const B=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||Re(d,"ready");try{B.onreadystatechange=U}catch{}}}function kC(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function gs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),eD(p)}};function RC(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function CD(d){const p={};d=(d.g&&2<=gs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(v(d[U]))continue;var B=N(d[U]);const L=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const O=p[L]||[];p[L]=O,O.push(B)}I(p,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bl(d,p,B){return B&&B.internalChannelParams&&B.internalChannelParams[d]||p}function DC(d){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bl("baseRetryDelayMs",5e3,d),this.cb=Bl("retryDelaySeedMs",1e4,d),this.Wa=Bl("forwardChannelMaxRetries",2,d),this.wa=Bl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new mC(d&&d.concurrentRequestLimit),this.Da=new vD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=DC.prototype,t.la=8,t.G=1,t.connect=function(d,p,B,U){Bn(0),this.W=d,this.H=p||{},B&&U!==void 0&&(this.H.OSID=B,this.H.OAID=U),this.F=this.X,this.I=zC(this,null,this.W),Id(this)};function dm(d){if(PC(d),d.G==3){var p=d.U++,B=ps(d.I);if(nt(B,"SID",d.K),nt(B,"RID",p),nt(B,"TYPE","terminate"),xl(d,B),p=new ti(d,d.j,p),p.L=2,p.v=xd(ps(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=p.v,B=!0),B||(p.g=GC(p.j,null),p.g.ea(p.v)),p.F=Date.now(),vd(p)}KC(d)}function bd(d){d.g&&(fm(d),d.g.cancel(),d.g=null)}function PC(d){bd(d),d.u&&(a.clearTimeout(d.u),d.u=null),Td(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Id(d){if(!yC(d.h)&&!d.s){d.s=!0;var p=d.Ga;q||z(),P||(q(),P=!0),K.add(p,d),d.B=0}}function ED(d,p){return vC(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=p.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=hl(f(d.Ga,d,p),HC(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new ti(this,this.j,d);let O=this.o;if(this.S&&(O?(O=E(O),_(O,this.S)):O=this.S),this.m!==null||this.O||(L.H=O,O=null),this.P)e:{for(var p=0,B=0;B<this.i.length;B++){t:{var U=this.i[B];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(p+=U,4096<p){p=B;break e}if(p===4096||B===this.i.length-1){p=B+1;break e}}p=1e3}else p=1e3;p=MC(this,L,p),B=ps(this.I),nt(B,"RID",d),nt(B,"CVER",22),this.D&&nt(B,"X-HTTP-Session-Id",this.D),xl(this,B),O&&(this.O?p="headers="+encodeURIComponent(String(UC(O)))+"&"+p:this.m&&um(B,this.m,O)),cm(this.h,L),this.Ua&&nt(B,"TYPE","init"),this.P?(nt(B,"$req",p),nt(B,"SID","null"),L.T=!0,Am(L,B,null)):Am(L,B,p),this.G=2}}else this.G==3&&(d?LC(this,d):this.i.length==0||yC(this.h)||LC(this))};function LC(d,p){var B;p?B=p.l:B=d.U++;const U=ps(d.I);nt(U,"SID",d.K),nt(U,"RID",B),nt(U,"AID",d.T),xl(d,U),d.m&&d.o&&um(U,d.m,d.o),B=new ti(d,d.j,B,d.B+1),d.m===null&&(B.H=d.o),p&&(d.i=p.D.concat(d.i)),p=MC(d,B,1e3),B.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),cm(d.h,B),Am(B,U,p)}function xl(d,p){d.H&&k(d.H,function(B,U){nt(p,U,B)}),d.l&&xC({},function(B,U){nt(p,U,B)})}function MC(d,p,B){B=Math.min(d.i.length,B);var U=d.l?f(d.l.Na,d.l,d):null;e:{var L=d.i;let O=-1;for(;;){const Z=["count="+B];O==-1?0<B?(O=L[0].g,Z.push("ofs="+O)):O=0:Z.push("ofs="+O);let Xe=!0;for(let zt=0;zt<B;zt++){let Oe=L[zt].g;const An=L[zt].map;if(Oe-=O,0>Oe)O=Math.max(0,L[zt].g-100),Xe=!1;else try{wD(An,Z,"req"+Oe+"_")}catch{U&&U(An)}}if(Xe){U=Z.join("&");break e}}}return d=d.i.splice(0,B),p.D=d,U}function OC(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;q||z(),P||(q(),P=!0),K.add(p,d),d.v=0}}function hm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=hl(f(d.Fa,d),HC(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,jC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=hl(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bn(10),bd(this),jC(this))};function fm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function jC(d){d.g=new ti(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var p=ps(d.qa);nt(p,"RID","rpc"),nt(p,"SID",d.K),nt(p,"AID",d.T),nt(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(p,"TO",d.ja),nt(p,"TYPE","xmlhttp"),xl(d,p),d.m&&d.o&&um(p,d.m,d.o),d.L&&(d.g.I=d.L);var B=d.g;d=d.ia,B.L=1,B.v=xd(ps(p)),B.m=null,B.P=!0,fC(B,d)}t.Za=function(){this.C!=null&&(this.C=null,bd(this),hm(this),Bn(19))};function Td(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function VC(d,p){var B=null;if(d.g==p){Td(d),fm(d),d.g=null;var U=2}else if(lm(d.h,p))B=p.D,wC(d.h,p),U=1;else return;if(d.G!=0){if(p.o)if(U==1){B=p.m?p.m.length:0,p=Date.now()-p.F;var L=d.B;U=gd(),Re(U,new cC(U,B)),Id(d)}else OC(d);else if(L=p.s,L==3||L==0&&0<p.X||!(U==1&&ED(d,p)||U==2&&hm(d)))switch(B&&0<B.length&&(p=d.h,p.i=p.i.concat(B)),L){case 1:vA(d,5);break;case 4:vA(d,10);break;case 3:vA(d,6);break;default:vA(d,2)}}}function HC(d,p){let B=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(B*=2),B*p}function vA(d,p){if(d.j.info("Error code "+p),p==2){var B=f(d.fb,d),U=d.Xa;const L=!U;U=new yA(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wd(U,"https"),xd(U),L?mD(U.toString(),B):yD(U.toString(),B)}else Bn(2);d.G=0,d.l&&d.l.sa(p),KC(d),PC(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Bn(2)):(this.j.info("Failed to ping google.com"),Bn(1))};function KC(d){if(d.G=0,d.ka=[],d.l){const p=BC(d.h);(p.length!=0||d.i.length!=0)&&(C(d.ka,p),C(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function zC(d,p,B){var U=B instanceof yA?ps(B):new yA(B);if(U.g!="")p&&(U.g=p+"."+U.g),Bd(U,U.s);else{var L=a.location;U=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var O=new yA(null);U&&wd(O,U),p&&(O.g=p),L&&Bd(O,L),B&&(O.l=B),U=O}return B=d.D,p=d.ya,B&&p&&nt(U,B,p),nt(U,"VER",d.la),xl(d,U),U}function GC(d,p,B){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Ca&&!d.pa?new mt(new Cd({eb:B})):new mt(d.pa),p.Ha(d.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function WC(){}t=WC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fd(){}Fd.prototype.g=function(d,p){return new Hn(d,p)};function Hn(d,p){Ne.call(this),this.g=new DC(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!v(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new wa(this)}m(Hn,Ne),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){dm(this.g)},Hn.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var B={};B.__data__=d,d=B}else this.u&&(B={},B.__data__=ma(d),d=B);p.i.push(new aD(p.Ya++,d)),p.G==3&&Id(p)},Hn.prototype.N=function(){this.g.l=null,delete this.j,dm(this.g),delete this.g,Hn.aa.N.call(this)};function $C(d){nm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const B in p){d=B;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}m($C,nm);function qC(){rm.call(this),this.status=1}m(qC,rm);function wa(d){this.g=d}m(wa,WC),wa.prototype.ua=function(){Re(this.g,"a")},wa.prototype.ta=function(d){Re(this.g,new $C(d))},wa.prototype.sa=function(d){Re(this.g,new qC)},wa.prototype.ra=function(){Re(this.g,"b")},Fd.prototype.createWebChannel=Fd.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,sQ=function(){return new Fd},rQ=function(){return gd()},nQ=gA,Wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},md.NO_ERROR=0,md.TIMEOUT=8,md.HTTP_ERROR=6,zh=md,uC.COMPLETE="complete",tQ=uC,AC.EventType=ul,ul.OPEN="a",ul.CLOSE="b",ul.ERROR="c",ul.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,$l=AC,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,eQ=mt}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});const K_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new aB("@firebase/firestore");function Sl(){return YA.logLevel}function ce(t,...e){if(YA.logLevel<=ke.DEBUG){const n=e.map(yB);YA.debug(`Firestore (${el}): ${t}`,...n)}}function Vs(t,...e){if(YA.logLevel<=ke.ERROR){const n=e.map(yB);YA.error(`Firestore (${el}): ${t}`,...n)}}function Uo(t,...e){if(YA.logLevel<=ke.WARN){const n=e.map(yB);YA.warn(`Firestore (${el}): ${t}`,...n)}}function yB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+t;throw Vs(e),new Error(e)}function Me(t,e){t||ye()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class YV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JV{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let r=this.i;const s=o=>this.i!==r?(r=this.i,n(o)):Promise.resolve();let i=new es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new es,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const o=i;e.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},a=o=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new es)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new iQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new hn(e)}}class ZV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const r=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new tH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=rH(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function So(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Lt(0,0))}static max(){return new Be(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),A=n.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends iu{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const sH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends iu{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return sH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(r+=a,s++):(i(),s++)}if(i(),A)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ye.fromString(e))}static fromName(e){return new fe(Ye.fromString(e).popFirst(5))}static empty(){return new fe(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ye(e.slice()))}}function iH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Gi(s,fe.empty(),e)}function AH(t){return new Gi(t.readTime,t.key,-1)}class Gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gi(Be.min(),fe.empty(),-1)}static max(){return new Gi(Be.max(),fe.empty(),-1)}}function aH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==oH)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&n()},o=>r(o))}),A=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,A=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;n(e[l]).next(u=>{A[l]=u,++a,a===i&&r(A)},u=>s(u))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function cH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vB.oe=-1;function qu(t){return t==null}function jf(t){return t===0&&1/t==-1/0}function uH(t){return typeof t=="number"&&Number.isInteger(t)&&!jf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qt.RED,this.left=s??qt.EMPTY,this.right=i??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,s,i){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G_(this.data.getIterator())}getIteratorFrom(e){return new G_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class G_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new en(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new oQ("Invalid base64 string: "+i):i}}(e);return new rn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const dH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(Me(!!t),typeof t=="string"){let e=0;const n=dH.exec(t);if(Me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function JA(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function BB(t){const e=t.mapValue.fields.__previous_value__;return wB(e)?BB(e):e}function Au(t){const e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n,r,s,i,A,a,o,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ZA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wB(t)?4:pH(t)?9007199254740991:fH(t)?10:11:ye()}function is(t,e){if(t===e)return!0;const n=ZA(t);if(n!==ZA(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Au(t).isEqual(Au(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Wi(s.timestampValue),a=Wi(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return JA(s.bytesValue).isEqual(JA(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Et(s.geoPointValue.latitude)===Et(i.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Et(s.integerValue)===Et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=Et(s.doubleValue),a=Et(i.doubleValue);return A===a?jf(A)===jf(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if(z_(A)!==z_(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!is(A[o],a[o])))return!1;return!0}(t,e);default:return ye()}}function ou(t,e){return(t.values||[]).find(n=>is(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=ZA(t),r=ZA(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=Et(i.integerValue||i.doubleValue),o=Et(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return W_(t.timestampValue,e.timestampValue);case 4:return W_(Au(t),Au(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,A){const a=JA(i),o=JA(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),o=A.split("/");for(let l=0;l<a.length&&l<o.length;l++){const u=je(a[l],o[l]);if(u!==0)return u}return je(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=je(Et(i.latitude),Et(A.latitude));return a!==0?a:je(Et(i.longitude),Et(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $_(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,o,l,u;const h=i.fields||{},f=A.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=je(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:$_(g,m)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===Yd.mapValue&&A===Yd.mapValue)return 0;if(i===Yd.mapValue)return 1;if(A===Yd.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),l=A.fields||{},u=Object.keys(l);o.sort(),u.sort();for(let h=0;h<o.length&&h<u.length;++h){const f=je(o[h],u[h]);if(f!==0)return f;const g=Qo(a[o[h]],l[u[h]]);if(g!==0)return g}return je(o.length,u.length)}(t.mapValue,e.mapValue);default:throw ye()}}function W_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Wi(t),r=Wi(e),s=je(n.seconds,r.seconds);return s!==0?s:je(n.nanos,r.nanos)}function $_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qo(n[s],r[s]);if(i)return i}return je(n.length,r.length)}function No(t){return $y(t)}function $y(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return JA(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$y(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const A of r)i?i=!1:s+=",",s+=`${A}:${$y(n.fields[A])}`;return s+"}"}(t.mapValue):ye()}function q_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qy(t){return!!t&&"integerValue"in t}function xB(t){return!!t&&"arrayValue"in t}function X_(t){return!!t&&"nullValue"in t}function Y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function fH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=Xt.emptyPath(),r={},s=[];e.forEach((A,a)=>{if(!n.isImmediateParentOf(a)){const o=this.getFieldsMap(n);this.applyChanges(o,r,s),r={},s=[],n=a.popLast()}A?r[a.lastSegment()]=Bc(A):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){la(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _n(Bc(this.value))}}function lQ(t){const e=[];return la(t.fields,(n,r)=>{const s=new Xt([n]);if(Gh(r)){const i=lQ(r.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,A,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,Be.min(),Be.min(),Be.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,Be.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,Be.min(),Be.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,Be.min(),Be.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.position=e,this.inclusive=n}}function J_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(A.referenceValue),n.key):r=Qo(A,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function gH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cQ=class{};class Nt extends cQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yH(e,n,r):n==="array-contains"?new BH(e,r):n==="in"?new xH(e,r):n==="not-in"?new CH(e,r):n==="array-contains-any"?new EH(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vH(e,r):new wH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&ZA(this.value)===ZA(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends cQ{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rr(e,n)}matches(e){return uQ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uQ(t){return t.op==="and"}function dQ(t){return mH(t)&&uQ(t)}function mH(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function Xy(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(dQ(t))return t.filters.map(e=>Xy(e)).join(",");{const e=t.filters.map(n=>Xy(n)).join(",");return`${t.op}(${e})`}}function hQ(t,e){return t instanceof Nt?function(r,s){return s instanceof Nt&&r.op===s.op&&r.field.isEqual(s.field)&&is(r.value,s.value)}(t,e):t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,A,a)=>i&&hQ(A,s.filters[a]),!0):!1}(t,e):void ye()}function fQ(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(fQ).join(" ,")+"}"}(t):"Filter"}class yH extends Nt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class vH extends Nt{constructor(e,n){super(e,"in",n),this.keys=pQ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wH extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=pQ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pQ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class BH extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xB(n)&&ou(n.arrayValue,this.value)}}class xH extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class CH extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class EH extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xB(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n=null,r=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function e1(t,e=null,n=[],r=[],s=null,i=null,A=null){return new _H(t,e,n,r,s,i,A)}function CB(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ue=n}return e.ue}function EB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hQ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z_(t.startAt,e.startAt)&&Z_(t.endAt,e.endAt)}function Yy(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n=null,r=[],s=[],i=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bH(t,e,n,r,s,i,A,a){return new tl(t,e,n,r,s,i,A,a)}function ug(t){return new tl(t)}function t1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gQ(t){return t.collectionGroup!==null}function xc(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new en(Xt.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new lu(i,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new lu(Xt.keyField(),r))}return e.ce}function ts(t){const e=Ee(t);return e.le||(e.le=IH(e,xc(t))),e.le}function IH(t,e){if(t.limitType==="F")return e1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new lu(s.field,i)});const n=t.endAt?new Vf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vf(t.startAt.position,t.startAt.inclusive):null;return e1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jy(t,e){const n=t.filters.concat([e]);return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zy(t,e,n){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dg(t,e){return EB(ts(t),ts(e))&&t.limitType===e.limitType}function mQ(t){return`${CB(ts(t))}|lt:${t.limitType}`}function Sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>fQ(s)).join(", ")}]`),qu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>No(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>No(s)).join(",")),`Target(${r})`}(ts(t))}; limitType=${t.limitType})`}function hg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(A,a,o){const l=J_(A,a,o);return A.inclusive?l<=0:l<0}(r.startAt,xc(r),s)||r.endAt&&!function(A,a,o){const l=J_(A,a,o);return A.inclusive?l>=0:l>0}(r.endAt,xc(r),s))}(t,e)}function TH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yQ(t){return(e,n)=>{let r=!1;for(const s of xc(t)){const i=FH(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FH(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,A,a){const o=A.data.field(i),l=a.data.field(i);return o!==null&&l!==null?Qo(o,l):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return aQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=new pt(fe.comparator);function Hs(){return UH}const vQ=new pt(fe.comparator);function ql(...t){let e=vQ;for(const n of t)e=e.insert(n.key,n);return e}function wQ(t){let e=vQ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function QA(){return Cc()}function BQ(){return Cc()}function Cc(){return new nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const SH=new pt(fe.comparator),QH=new en(fe.comparator);function Qe(...t){let e=QH;for(const n of t)e=e.add(n);return e}const NH=new en(je);function kH(){return NH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function xQ(t){return{integerValue:""+t}}function RH(t,e){return uH(e)?xQ(e):_B(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this._=void 0}}function DH(t,e,n){return t instanceof cu?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&wB(i)&&(i=BB(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(n,e):t instanceof uu?EQ(t,e):t instanceof du?_Q(t,e):function(s,i){const A=CQ(s,i),a=n1(A)+n1(s.Pe);return qy(A)&&qy(s.Pe)?xQ(a):_B(s.serializer,a)}(t,e)}function PH(t,e,n){return t instanceof uu?EQ(t,e):t instanceof du?_Q(t,e):n}function CQ(t,e){return t instanceof Hf?function(r){return qy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class cu extends fg{}class uu extends fg{constructor(e){super(),this.elements=e}}function EQ(t,e){const n=bQ(e);for(const r of t.elements)n.some(s=>is(s,r))||n.push(r);return{arrayValue:{values:n}}}class du extends fg{constructor(e){super(),this.elements=e}}function _Q(t,e){let n=bQ(e);for(const r of t.elements)n=n.filter(s=>!is(s,r));return{arrayValue:{values:n}}}class Hf extends fg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function n1(t){return Et(t.integerValue||t.doubleValue)}function bQ(t){return xB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n){this.field=e,this.transform=n}}function MH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uu&&s instanceof uu||r instanceof du&&s instanceof du?So(r.elements,s.elements,is):r instanceof Hf&&s instanceof Hf?is(r.Pe,s.Pe):r instanceof cu&&s instanceof cu}(t.transform,e.transform)}class OH{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pg{}function IQ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gg(t.key,Yt.none()):new Xu(t.key,t.data,Yt.none());{const n=t.data,r=_n.empty();let s=new en(Xt.comparator);for(let i of e.fields)if(!s.has(i)){let A=n.field(i);A===null&&i.length>1&&(i=i.popLast(),A=n.field(i)),A===null?r.delete(i):r.set(i,A),s=s.add(i)}return new cA(t.key,r,new Wn(s.toArray()),Yt.none())}}function jH(t,e,n){t instanceof Xu?function(s,i,A){const a=s.value.clone(),o=s1(s.fieldTransforms,i,A.transformResults);a.setAll(o),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cA?function(s,i,A){if(!Wh(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=s1(s.fieldTransforms,i,A.transformResults),o=i.data;o.setAll(TQ(s)),o.setAll(a),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,n):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Xu?function(i,A,a,o){if(!Wh(i.precondition,A))return a;const l=i.value.clone(),u=i1(i.fieldTransforms,o,A);return l.setAll(u),A.convertToFoundDocument(A.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof cA?function(i,A,a,o){if(!Wh(i.precondition,A))return a;const l=i1(i.fieldTransforms,o,A),u=A.data;return u.setAll(TQ(i)),u.setAll(l),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,A,a){return Wh(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,n)}function VH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=CQ(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function r1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&So(r,s,(i,A)=>MH(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xu extends pg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cA extends pg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function TQ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s1(t,e,n){const r=new Map;Me(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);r.set(i.field,PH(A,a,n[s]))}return r}function i1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,A=n.data.field(s.field);r.set(s.field,DH(i,A,e))}return r}class gg extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FQ extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BQ();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=n.has(s.key)?null:a;const o=IQ(A,a);o!==null&&r.set(s.key,o),A.isValidDocument()||A.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,r)=>r1(n,r))&&So(this.baseMutations,e.baseMutations,(n,r)=>r1(n,r))}}class bB{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length);let s=function(){return SH}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,r[A].version);return new bB(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,De;function UQ(t){switch(t){default:return ye();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function SQ(t){if(t===void 0)return Vs("GRPC error has no .code"),H.UNKNOWN;switch(t){case Tt.OK:return H.OK;case Tt.CANCELLED:return H.CANCELLED;case Tt.UNKNOWN:return H.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return H.INTERNAL;case Tt.UNAVAILABLE:return H.UNAVAILABLE;case Tt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Tt.NOT_FOUND:return H.NOT_FOUND;case Tt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Tt.ABORTED:return H.ABORTED;case Tt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Tt.DATA_LOSS:return H.DATA_LOSS;default:return ye()}}(De=Tt||(Tt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=new LA([4294967295,4294967295],0);function A1(t){const e=GH().encode(t),n=new ZS;return n.update(e),new Uint8Array(n.digest())}function a1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new LA([n,r],0),new LA([s,i],0)]}class IB{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=LA.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(LA.fromNumber(r)));return s.compare(WH)===1&&(s=new LA([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=A1(e),[r,s]=a1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);if(!this.de(A))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new IB(i,s,n);return r.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const n=A1(e),[r,s]=a1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);this.Ae(A)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mg(Be.min(),s,new pt(je),Hs(),Qe())}}class Yu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class QQ{constructor(e,n){this.targetId=e,this.me=n}}class NQ{constructor(e,n,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class o1{constructor(){this.fe=0,this.ge=c1(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new Yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=c1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $H{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hs(),this.qe=l1(),this.Qe=new pt(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Yy(i))if(r===0){const A=new fe(i.path);this.Ue(n,A,Vt.newNoDocument(A,Be.min()))}else Me(r===1);else{const A=this.Ye(n);if(A!==r){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(n);const l=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let A,a;try{A=JA(r).toUint8Array()}catch(o){if(o instanceof oQ)return Uo("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new IB(A,s,i)}catch(o){return Uo(o instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&Yy(a.target)){const o=new fe(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,Vt.newNoDocument(o,e))}i.be&&(n.set(A,i.ve()),i.Ce())}});let r=Qe();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(o=>{const l=this.Je(o);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new mg(e,n,this.Qe,this.ke,r);return this.ke=Hs(),this.qe=l1(),this.Qe=new pt(je),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new en(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function l1(){return new pt(fe.comparator)}function c1(){return new pt(fe.comparator)}const qH={asc:"ASCENDING",desc:"DESCENDING"},XH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YH={and:"AND",or:"OR"};class JH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ev(t,e){return t.useProto3Json||qu(e)?e:{value:e}}function Kf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZH(t,e){return Kf(t,e.toTimestamp())}function qn(t){return Me(!!t),Be.fromTimestamp(function(n){const r=Wi(n);return new Lt(r.seconds,r.nanos)}(t))}function TB(t,e){return tv(t,e).canonicalString()}function tv(t,e){const n=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function RQ(t){const e=Ye.fromString(t);return Me(jQ(e)),e}function zf(t,e){return TB(t.databaseId,e.path)}function _c(t,e){const n=RQ(e);if(n.get(1)!==t.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(PQ(n))}function DQ(t,e){return TB(t.databaseId,e)}function e3(t){const e=RQ(t);return e.length===4?Ye.emptyPath():PQ(e)}function nv(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PQ(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u1(t,e,n){return{name:zf(t,e),fields:n.value.mapValue.fields}}function t3(t,e){return"found"in e?function(r,s){Me(!!s.found),s.found.name,s.found.updateTime;const i=_c(r,s.found.name),A=qn(s.found.updateTime),a=s.found.createTime?qn(s.found.createTime):Be.min(),o=new _n({mapValue:{fields:s.found.fields}});return Vt.newFoundDocument(i,A,a,o)}(t,e):"missing"in e?function(r,s){Me(!!s.missing),Me(!!s.readTime);const i=_c(r,s.missing),A=qn(s.readTime);return Vt.newNoDocument(i,A)}(t,e):ye()}function n3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Me(u===void 0||typeof u=="string"),rn.fromBase64String(u||"")):(Me(u===void 0||u instanceof Buffer||u instanceof Uint8Array),rn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(l){const u=l.code===void 0?H.UNKNOWN:SQ(l.code);return new re(u,l.message||"")}(A);n=new NQ(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_c(t,r.document.name),i=qn(r.document.updateTime),A=r.document.createTime?qn(r.document.createTime):Be.min(),a=new _n({mapValue:{fields:r.document.fields}}),o=Vt.newFoundDocument(s,i,A,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new $h(l,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_c(t,r.document),i=r.readTime?qn(r.readTime):Be.min(),A=Vt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $h([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_c(t,r.document),i=r.removedTargetIds||[];n=new $h([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,A=new zH(s,i),a=r.targetId;n=new QQ(a,A)}}return n}function LQ(t,e){let n;if(e instanceof Xu)n={update:u1(t,e.key,e.value)};else if(e instanceof gg)n={delete:zf(t,e.key)};else if(e instanceof cA)n={update:u1(t,e.key,e.data),updateMask:u3(e.fieldMask)};else{if(!(e instanceof FQ))return ye();n={verify:zf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,A){const a=A.transform;if(a instanceof cu)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof du)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hf)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ZH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(t,e.precondition)),n}function r3(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(s,i){let A=s.updateTime?qn(s.updateTime):qn(i);return A.isEqual(Be.min())&&(A=qn(i)),new OH(A,s.transformResults||[])}(n,e))):[]}function s3(t,e){return{documents:[DQ(t,e.path)]}}function i3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DQ(t,s);const i=function(l){if(l.length!==0)return OQ(Rr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const A=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Qa(f.field),direction:o3(f.dir)}}(u))}(e.orderBy);A&&(n.structuredQuery.orderBy=A);const a=ev(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:s}}function A3(t){let e=e3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=MQ(h);return f instanceof Rr&&dQ(f)?f.getFilters():[f]}(n.where));let A=[];n.orderBy&&(A=function(h){return h.map(f=>function(m){return new lu(Na(m.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,qu(f)?null:f}(n.limit));let o=null;n.startAt&&(o=function(h){const f=!!h.before,g=h.values||[];return new Vf(g,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,g=h.values||[];return new Vf(g,f)}(n.endAt)),bH(e,s,A,i,a,"F",o,l)}function a3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MQ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Na(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Na(n.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Na(n.unaryFilter.field);return Nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Na(n.unaryFilter.field);return Nt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(Na(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>MQ(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function o3(t){return qH[t]}function l3(t){return XH[t]}function c3(t){return YH[t]}function Qa(t){return{fieldPath:t.canonicalString()}}function Na(t){return Xt.fromServerFormat(t.fieldPath)}function OQ(t){return t instanceof Nt?function(n){if(n.op==="=="){if(Y_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(X_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(X_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:l3(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(s=>OQ(s));return r.length===1?r[0]:{compositeFilter:{op:c3(n.op),filters:r}}}(t):ye()}function u3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jQ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,s,i=Be.min(),A=Be.min(),a=rn.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.ct=e}}function h3(t){const e=A3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.un=new p3}addToCollectionParentIndex(e,n){return this.un.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Gi.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class p3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new en(Ye.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ko(0)}static kn(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.changes=new nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ec(r.mutation,s,Wn.empty(),Lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const s=QA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let A=ql();return i.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,n){const r=QA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{n.set(A,a)})})}computeViews(e,n,r,s){let i=Hs();const A=Cc(),a=function(){return Cc()}();return n.forEach((o,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof cA)?i=i.insert(l.key,l):u!==void 0?(A.set(l.key,u.mutation.getFieldMask()),Ec(u.mutation,l,u.mutation.getFieldMask(),Lt.now())):A.set(l.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(o=>(o.forEach((l,u)=>A.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new m3(u,(h=A.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new pt((A,a)=>A-a),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(A=>{for(const a of A)a.keys().forEach(o=>{const l=n.get(o);if(l===null)return;let u=r.get(o)||Wn.empty();u=a.applyToLocalView(l,u),r.set(o,u);const h=(s.get(a.batchId)||Qe()).add(o);s=s.insert(a.batchId,h)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),l=o.key,u=o.value,h=BQ();u.forEach(f=>{if(!i.has(f)){const g=IQ(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),A.push(this.documentOverlayCache.saveOverlays(e,l,h))}return G.waitFor(A)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(A){return fe.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(QA());let a=-1,o=i;return A.next(l=>G.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?G.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{o=o.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,o,l,Qe())).next(u=>({batchId:a,changes:wQ(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=ql();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let A=ql();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,o=>{const l=function(h,f){return new tl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,f)=>{A=A.insert(h,f)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(A=>{i.forEach((o,l)=>{const u=l.getKey();A.get(u)===null&&(A=A.insert(u,Vt.newInvalidDocument(u)))});let a=ql();return A.forEach((o,l)=>{const u=i.get(o);u!==void 0&&Ec(u.mutation,l,Wn.empty(),Lt.now()),hg(n,l)&&(a=a.insert(o,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return G.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:h3(s.bundledQuery),readTime:qn(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.overlays=new pt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=QA();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=QA(),i=n.length+1,A=new fe(n.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,l=o.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&o.largestBatchId>r&&s.set(o.getKey(),o)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((l,u)=>l-u);const A=this.overlays.getIterator();for(;A.hasNext();){const l=A.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=QA(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=QA(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return G.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new KH(n,r));let i=this.Ir.get(n);i===void 0&&(i=Qe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.Tr=new en(Ot.Er),this.dr=new en(Ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ot(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new Ye([])),r=new Ot(n,e),s=new Ot(n,e+1),i=[];return this.dr.forEachInRange([r,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new Ye([])),r=new Ot(n,e),s=new Ot(n,e+1);let i=Qe();return this.dr.forEachInRange([r,s],A=>{i=i.add(A.key)}),i}containsKey(e){const n=new Ot(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en(Ot.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new HH(i,n,r,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new Ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(A)}lookupMutationBatch(e,n){return G.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),s=new Ot(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],A=>{const a=this.Dr(A.wr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(je);return n.forEach(s=>{const i=new Ot(s,0),A=new Ot(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{r=r.add(a.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const A=new Ot(new fe(i),0);let a=new en(je);return this.br.forEachWhile(o=>{const l=o.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(o.wr)),!0)},A),G.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return G.forEach(n.mutations,s=>{const i=new Ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ot(n,0),s=this.br.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.Mr=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,A=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hs();const A=n.path,a=new fe(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:l,value:{document:u}}=o.getNext();if(!A.isPrefixOf(l.path))break;l.path.length>A.length+1||aH(AH(u),r)<=0||(s.has(u.key)||hg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ye()}Or(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E3(this)}getSize(e){return G.resolve(this.size)}}class E3 extends g3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.persistence=e,this.Nr=new nl(n=>CB(n),EB),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new FB,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),G.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Kn(n),G.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vB(0),this.Kr=!1,this.Kr=!0,this.$r=new B3,this.referenceDelegate=e(this),this.Ur=new _3(this),this.indexManager=new f3,this.remoteDocumentCache=function(s){return new C3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new d3(n),this.Gr=new v3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new x3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new I3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class I3 extends lH{constructor(e){super(),this.currentSequenceNumber=e}}class UB{constructor(e){this.persistence=e,this.Jr=new FB,this.Yr=null}static Zr(e){return new UB(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const s=fe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return G.or([()=>G.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Qe(),s=Qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new SB(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hM()?8:cH(vn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new T3;return this.Xi(e,n,A).next(a=>{if(i.result=a,this.zi)return this.es(e,n,A,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Sl()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Sl()<=ke.DEBUG&&ce("QueryEngine","Query:",Sa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Sl()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(n))):G.resolve())}Yi(e,n){if(t1(n))return G.resolve(null);let r=ts(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zy(n,null,"F"),r=ts(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const A=Qe(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,r).next(o=>{const l=this.ts(n,a);return this.ns(n,l,A,o.readTime)?this.Yi(e,Zy(n,null,"F")):this.rs(e,l,n,o)}))})))}Zi(e,n,r,s){return t1(n)||s.isEqual(Be.min())?G.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const A=this.ts(n,i);return this.ns(n,A,r,s)?G.resolve(null):(Sl()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sa(n)),this.rs(e,A,n,iH(s,-1)).next(a=>a))})}ts(e,n){let r=new en(yQ(e));return n.forEach((s,i)=>{hg(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Sl()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Gi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new pt(je),this._s=new nl(i=>CB(i),EB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function S3(t,e,n,r){return new U3(t,e,n,r)}async function VQ(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const A=[],a=[];let o=Qe();for(const l of s){A.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(l=>({hs:l,removedBatchIds:A,addedBatchIds:a}))})})}function Q3(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,l,u){const h=l.batch,f=h.keys();let g=G.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(o,m)).next(y=>{const C=l.docVersions.get(m);Me(C!==null),y.version.compareTo(C)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HQ(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function N3(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(rn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(y,C,x){return y.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let o=Hs(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(k3(i,A,e.documentUpdates).next(u=>{o=u.Ps,l=u.Is})),!r.isEqual(Be.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return G.waitFor(a).next(()=>A.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,o,l)).next(()=>o)}).then(i=>(n.os=s,i))}function k3(t,e,n){let r=Qe(),s=Qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let A=Hs();return n.forEach((a,o)=>{const l=i.get(a);o.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),o.isNoDocument()&&o.version.isEqual(Be.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||o.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",o.version)}),{Ps:A,Is:s}})}function R3(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D3(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.Ur.allocateTargetId(r).next(A=>(s=new Ci(e,A,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function rv(t,e,n){const r=Ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,A=>r.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!$u(A))throw A;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function d1(t,e,n){const r=Ee(t);let s=Be.min(),i=Qe();return r.persistence.runTransaction("Execute query","readwrite",A=>function(o,l,u){const h=Ee(o),f=h._s.get(u);return f!==void 0?G.resolve(h.os.get(f)):h.Ur.getTargetData(l,u)}(r,A,ts(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{i=o})}).next(()=>r.ss.getDocumentsMatchingQuery(A,e,n?s:Be.min(),n?i:Qe())).next(a=>(P3(r,TH(e),a),{documents:a,Ts:i})))}function P3(t,e,n){let r=t.us.get(e)||Be.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class h1{constructor(){this.activeTargetIds=kH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L3{constructor(){this.so=new h1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new h1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function Xm(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class V3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,A){const a=Xm(),o=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${a}:`,o,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,A),this.No(n,o,l,s).then(u=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Uo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",o,"request:",s),u})}Lo(n,r,s,i,A,a){return this.Mo(n,r,s,i,A)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,A)=>n[A]=i),s&&s.headers.forEach((i,A)=>n[A]=i)}xo(n,r){const s=O3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Xm();return new Promise((A,a)=>{const o=new eQ;o.setWithCredentials(!0),o.listenOnce(tQ.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case zh.NO_ERROR:const u=o.getResponseJson();ce(cn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),A(u);break;case zh.TIMEOUT:ce(cn,`RPC '${e}' ${i} timed out`),a(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const h=o.getStatus();if(ce(cn,`RPC '${e}' ${i} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(C){const x=C.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(g.status);a(new re(m,g.message))}else a(new re(H.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new re(H.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ce(cn,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);ce(cn,`RPC '${e}' ${i} sending request:`,s),o.send(n,"POST",l,r,15)})}Bo(e,n,r){const s=Xm(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=sQ(),a=rQ(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=i.join("");ce(cn,`Creating RPC '${e}' stream ${s}: ${u}`,o);const h=A.createWebChannel(u,o);let f=!1,g=!1;const m=new j3({Io:C=>{g?ce(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||(ce(cn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),ce(cn,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},To:()=>h.close()}),y=(C,x,v)=>{C.listen(x,w=>{try{v(w)}catch(F){setTimeout(()=>{throw F},0)}})};return y(h,$l.EventType.OPEN,()=>{g||(ce(cn,`RPC '${e}' stream ${s} transport opened.`),m.yo())}),y(h,$l.EventType.CLOSE,()=>{g||(g=!0,ce(cn,`RPC '${e}' stream ${s} transport closed`),m.So())}),y(h,$l.EventType.ERROR,C=>{g||(g=!0,Uo(cn,`RPC '${e}' stream ${s} transport errored:`,C),m.So(new re(H.UNAVAILABLE,"The operation could not be completed")))}),y(h,$l.EventType.MESSAGE,C=>{var x;if(!g){const v=C.data[0];Me(!!v);const w=v,F=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(F){ce(cn,`RPC '${e}' stream ${s} received error:`,F);const Q=F.status;let k=function(b){const _=Tt[b];if(_!==void 0)return SQ(_)}(Q),I=F.message;k===void 0&&(k=H.INTERNAL,I="Unknown error status: "+Q+" with message "+F.message),g=!0,m.So(new re(k,I)),h.close()}else ce(cn,`RPC '${e}' stream ${s} received:`,v),m.bo(v)}}),y(a,nQ.STAT_EVENT,C=>{C.stat===Wy.PROXY?ce(cn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Wy.NOPROXY&&ce(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){return new JH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ{constructor(e,n,r,s,i,A,a,o){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QB(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H3 extends KQ{constructor(e,n,r,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=n3(this.serializer,e),r=function(i){if(!("targetChange"in i))return Be.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?Be.min():A.readTime?qn(A.readTime):Be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=nv(this.serializer),n.addTarget=function(i,A){let a;const o=A.target;if(a=Yy(o)?{documents:s3(i,o)}:{query:i3(i,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=kQ(i,A.resumeToken);const l=ev(i,A.expectedCount);l!==null&&(a.expectedCount=l)}else if(A.snapshotVersion.compareTo(Be.min())>0){a.readTime=Kf(i,A.snapshotVersion.toTimestamp());const l=ev(i,A.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=a3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=nv(this.serializer),n.removeTarget=e,this.a_(n)}}class K3 extends KQ{constructor(e,n,r,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=r3(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=nv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LQ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,tv(n,r),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(H.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,tv(n,r),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new re(H.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class G3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vs(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{r.enqueueAndForget(async()=>{ca(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=Ee(o);l.L_.add(4),await Ju(l),l.q_.set("Unknown"),l.L_.delete(4),await vg(l)}(this))})}),this.q_=new G3(r,s)}}async function vg(t){if(ca(t))for(const e of t.B_)await e(!0)}async function Ju(t){for(const e of t.B_)await e(!1)}function zQ(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),DB(n)?RB(n):rl(n).r_()&&kB(n,e))}function NB(t,e){const n=Ee(t),r=rl(n);n.N_.delete(e),r.r_()&&GQ(n,e),n.N_.size===0&&(r.r_()?r.o_():ca(n)&&n.q_.set("Unknown"))}function kB(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).A_(e)}function GQ(t,e){t.Q_.xe(e),rl(t).R_(e)}function RB(t){t.Q_=new $H({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.q_.v_()}function DB(t){return ca(t)&&!rl(t).n_()&&t.N_.size>0}function ca(t){return Ee(t).L_.size===0}function WQ(t){t.Q_=void 0}async function $3(t){t.q_.set("Online")}async function q3(t){t.N_.forEach((e,n)=>{kB(t,e)})}async function X3(t,e){WQ(t),DB(t)?(t.q_.M_(e),RB(t)):t.q_.set("Unknown")}async function Y3(t,e,n){if(t.q_.set("Online"),e instanceof NQ&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gf(t,r)}else if(e instanceof $h?t.Q_.Ke(e):e instanceof QQ?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Be.min()))try{const r=await HQ(t.localStore);n.compareTo(r)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const u=i.N_.get(l);u&&i.N_.set(l,u.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,l)=>{const u=i.N_.get(o);if(!u)return;i.N_.set(o,u.withResumeToken(rn.EMPTY_BYTE_STRING,u.snapshotVersion)),GQ(i,o);const h=new Ci(u.target,o,l,u.sequenceNumber);kB(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await Gf(t,r)}}async function Gf(t,e,n){if(!$u(e))throw e;t.L_.add(1),await Ju(t),t.q_.set("Offline"),n||(n=()=>HQ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await vg(t)})}function $Q(t,e){return e().catch(n=>Gf(t,n,e))}async function wg(t){const e=Ee(t),n=$i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;J3(e);)try{const s=await R3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Z3(e,s)}catch(s){await Gf(e,s)}qQ(e)&&XQ(e)}function J3(t){return ca(t)&&t.O_.length<10}function Z3(t,e){t.O_.push(e);const n=$i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function qQ(t){return ca(t)&&!$i(t).n_()&&t.O_.length>0}function XQ(t){$i(t).start()}async function eK(t){$i(t).p_()}async function tK(t){const e=$i(t);for(const n of t.O_)e.m_(n.mutations)}async function nK(t,e,n){const r=t.O_.shift(),s=bB.from(r,e,n);await $Q(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await wg(t)}async function rK(t,e){e&&$i(t).V_&&await async function(r,s){if(function(A){return UQ(A)&&A!==H.ABORTED}(s.code)){const i=r.O_.shift();$i(r).s_(),await $Q(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await wg(r)}}(t,e),qQ(t)&&XQ(t)}async function p1(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=ca(n);n.L_.add(3),await Ju(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await vg(n)}async function sK(t,e){const n=Ee(t);e?(n.L_.delete(2),await vg(n)):e||(n.L_.add(2),await Ju(n),n.q_.set("Unknown"))}function rl(t){return t.K_||(t.K_=function(n,r,s){const i=Ee(n);return i.w_(),new H3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:$3.bind(null,t),Ro:q3.bind(null,t),mo:X3.bind(null,t),d_:Y3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),DB(t)?RB(t):t.q_.set("Unknown")):(await t.K_.stop(),WQ(t))})),t.K_}function $i(t){return t.U_||(t.U_=function(n,r,s){const i=Ee(n);return i.w_(),new K3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eK.bind(null,t),mo:rK.bind(null,t),f_:tK.bind(null,t),g_:nK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await wg(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const A=Date.now()+r,a=new PB(e,n,A,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function LB(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),$u(t))return new re(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.W_=new pt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ro{constructor(e,n,r,s,i,A,a,o,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const A=[];return n.forEach(a=>{A.push({type:0,doc:a})}),new Ro(e,n,mo.emptySet(n),A,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class AK{constructor(){this.queries=m1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=m1(),i.forEach((A,a)=>{for(const o of a.j_)o.onError(r)})})(this,new re(H.ABORTED,"Firestore shutting down"))}}function m1(){return new nl(t=>mQ(t),dg)}async function MB(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new iK,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(A){const a=LB(A,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&jB(n)}async function OB(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aK(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,A=n.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(r=!0);A.z_=s}}r&&jB(n)}function oK(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function jB(t){t.Y_.forEach(e=>{e.next()})}var sv,y1;(y1=sv||(sv={})).ea="default",y1.Cache="cache";class VB{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e){this.key=e}}class JQ{constructor(e){this.key=e}}class lK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=yQ(e),this.Ra=new mo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new g1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,A=s,a=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),g=hg(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;f&&g?f.data.isEqual(g.data)?m!==y&&(r.track({type:3,doc:g}),C=!0):this.ga(f,g)||(r.track({type:2,doc:g}),C=!0,(o&&this.Aa(g,o)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),C=!0):f&&!g&&(r.track({type:1,doc:f}),C=!0,(o||l)&&(a=!0)),C&&(g?(A=A.add(g),i=y?i.add(u):i.delete(u)):(A=A.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:A,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,h)=>function(g,m){const y=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return y(g)-y(m)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,l=o!==this.Ea;return this.Ea=o,A.length!==0||l?{snapshot:new Ro(this.query,e.Ra,i,A,e.mutatedKeys,o===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new g1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new JQ(r))}),this.da.forEach(r=>{e.has(r)||n.push(new YQ(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ro.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uK{constructor(e){this.key=e,this.va=!1}}class dK{constructor(e,n,r,s,i,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new nl(a=>mQ(a),dg),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(fe.comparator),this.Na=new Map,this.La=new FB,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hK(t,e,n=!0){const r=s2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await ZQ(r,e,n,!0),s}async function fK(t,e){const n=s2(t);await ZQ(n,e,!0,!1)}async function ZQ(t,e,n,r){const s=await D3(t.localStore,ts(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await pK(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&n&&zQ(t.remoteStore,s),a}async function pK(t,e,n,r,s){t.Ka=(h,f,g)=>async function(y,C,x,v){let w=C.view.ma(x);w.ns&&(w=await d1(y.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,w)));const F=v&&v.targetChanges.get(C.targetId),Q=v&&v.targetMismatches.get(C.targetId)!=null,k=C.view.applyChanges(w,y.isPrimaryClient,F,Q);return w1(y,C.targetId,k.wa),k.snapshot}(t,h,f,g);const i=await d1(t.localStore,e,!0),A=new lK(e,i.Ts),a=A.ma(i.documents),o=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=A.applyChanges(a,t.isPrimaryClient,o);w1(t,n,l.wa);const u=new cK(e,n,A);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function gK(t,e,n){const r=Ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(A=>!dg(A,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&NB(r.remoteStore,s.targetId),iv(r,s.targetId)}).catch(Wu)):(iv(r,s.targetId),await rv(r.localStore,s.targetId,!0))}async function mK(t,e){const n=Ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NB(n.remoteStore,r.targetId))}async function yK(t,e,n){const r=_K(t);try{const s=await function(A,a){const o=Ee(A),l=Lt.now(),u=a.reduce((g,m)=>g.add(m.key),Qe());let h,f;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=Hs(),y=Qe();return o.cs.getEntries(g,u).next(C=>{m=C,m.forEach((x,v)=>{v.isValidDocument()||(y=y.add(x))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,m)).next(C=>{h=C;const x=[];for(const v of a){const w=VH(v,h.get(v.key).overlayedDocument);w!=null&&x.push(new cA(v.key,w,lQ(w.value.mapValue),Yt.exists(!0)))}return o.mutationQueue.addMutationBatch(g,l,x,a)}).next(C=>{f=C;const x=C.applyToLocalDocumentSet(h,y);return o.documentOverlayCache.saveOverlays(g,C.batchId,x)})}).then(()=>({batchId:f.batchId,changes:wQ(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(A,a,o){let l=A.Ba[A.currentUser.toKey()];l||(l=new pt(je)),l=l.insert(a,o),A.Ba[A.currentUser.toKey()]=l}(r,s.batchId,n),await Zu(r,s.changes),await wg(r.remoteStore)}catch(s){const i=LB(s,"Failed to persist write");n.reject(i)}}async function e2(t,e){const n=Ee(t);try{const r=await N3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const A=n.Na.get(i);A&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?Me(A.va):s.removedDocuments.size>0&&(Me(A.va),A.va=!1))}),await Zu(n,r,e)}catch(r){await Wu(r)}}function v1(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const o=Ee(A);o.onlineState=a;let l=!1;o.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(l=!0)}),l&&jB(o)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vK(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let A=new pt(fe.comparator);A=A.insert(i,Vt.newNoDocument(i,Be.min()));const a=Qe().add(i),o=new mg(Be.min(),new Map,new pt(je),A,a);await e2(r,o),r.Oa=r.Oa.remove(i),r.Na.delete(e),HB(r)}else await rv(r.localStore,e,!1).then(()=>iv(r,e,n)).catch(Wu)}async function wK(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await Q3(n.localStore,e);n2(n,r,null),t2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zu(n,s)}catch(s){await Wu(s)}}async function BK(t,e,n){const r=Ee(t);try{const s=await function(A,a){const o=Ee(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return o.mutationQueue.lookupMutationBatch(l,a).next(h=>(Me(h!==null),u=h.keys(),o.mutationQueue.removeMutationBatch(l,h))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>o.localDocuments.getDocuments(l,u))})}(r.localStore,e);n2(r,e,n),t2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zu(r,s)}catch(s){await Wu(s)}}function t2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function n2(t,e,n){const r=Ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function iv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||r2(t,r)})}function r2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(NB(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),HB(t))}function w1(t,e,n){for(const r of n)r instanceof YQ?(t.La.addReference(r.key,e),xK(t,r)):r instanceof JQ?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||r2(t,r.key)):ye()}function xK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),HB(t))}function HB(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(Ye.fromString(e)),r=t.qa.next();t.Na.set(r,new uK(n)),t.Oa=t.Oa.insert(n,r),zQ(t.remoteStore,new Ci(ts(ug(n.path)),r,"TargetPurposeLimboResolution",vB.oe))}}async function Zu(t,e,n){const r=Ee(t),s=[],i=[],A=[];r.Fa.isEmpty()||(r.Fa.forEach((a,o)=>{A.push(r.Ka(o,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(u=n==null?void 0:n.targetChanges.get(o.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(o.targetId,h?"current":"not-current")}if(l){s.push(l);const h=SB.Wi(o.targetId,l);i.push(h)}}))}),await Promise.all(A),r.Ca.d_(s),await async function(o,l){const u=Ee(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>G.forEach(l,f=>G.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>G.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!$u(h))throw h;ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const g=u.os.get(f),m=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,y)}}}(r.localStore,i))}async function CK(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await VQ(n.localStore,e);n.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(o=>{o.reject(new re(H.CANCELLED,A))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zu(n,r.hs)}}function EK(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Qe().add(r.key);{let s=Qe();const i=n.Ma.get(e);if(!i)return s;for(const A of i){const a=n.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function s2(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vK.bind(null,e),e.Ca.d_=aK.bind(null,e.eventManager),e.Ca.$a=oK.bind(null,e.eventManager),e}function _K(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BK.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return S3(this.persistence,new F3,e.initialUser,this.serializer)}Ga(e){return new b3(UB.Zr,this.serializer)}Wa(e){return new L3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class Av{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CK.bind(null,this.syncEngine),await sK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AK}()}createDatastore(e){const n=yg(e.databaseInfo.databaseId),r=function(i){return new V3(i)}(e.databaseInfo);return function(i,A,a,o){return new z3(i,A,a,o)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,A,a){return new W3(r,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,n=>v1(this.syncEngine,n,0),function(){return f1.D()?new f1:new M3}())}createSyncEngine(e,n){return function(s,i,A,a,o,l,u){const h=new dK(s,i,A,a,o,l);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);ce("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ju(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Av.provider={build:()=>new Av};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const A=Ee(s),a={documents:i.map(h=>zf(A.serializer,h))},o=await A.Lo("BatchGetDocuments",A.serializer.databaseId,Ye.emptyPath(),a,i.length),l=new Map;o.forEach(h=>{const f=t3(A.serializer,h);l.set(f.key.toString(),f)});const u=[];return i.forEach(h=>{const f=l.get(h.toString());Me(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=fe.fromPath(r);this.mutations.push(new FQ(s,this.precondition(s)))}),await async function(r,s){const i=Ee(r),A={writes:s.map(a=>LQ(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Ye.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ye();n=Be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Be.min())?Yt.exists(!1):Yt.updateTime(n):Yt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Be.min()))throw new re(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yt.updateTime(n)}return Yt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new QB(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new bK(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!qu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!UQ(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=AQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async A=>{ce("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(r,A=>(ce("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=LB(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VQ(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function B1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FK(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>p1(e.remoteStore,s)),t._onlineComponents=e}async function FK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Jm(t,new Wf)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await Jm(t,new Wf);return t._offlineComponents}async function zB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await B1(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await B1(t,new Av))),t._onlineComponents}function UK(t){return zB(t).then(e=>e.syncEngine)}function SK(t){return zB(t).then(e=>e.datastore)}async function $f(t){const e=await zB(t),n=e.eventManager;return n.onListen=hK.bind(null,e.syncEngine),n.onUnlisten=gK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mK.bind(null,e.syncEngine),n}function QK(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,l){const u=new KB({next:f=>{u.Za(),A.enqueueAndForget(()=>OB(i,h));const g=f.docs.has(a);!g&&f.fromCache?l.reject(new re(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&o&&o.source==="server"?l.reject(new re(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new VB(ug(a.path),u,{includeMetadataChanges:!0,_a:!0});return MB(i,h)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}function NK(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,l){const u=new KB({next:f=>{u.Za(),A.enqueueAndForget(()=>OB(i,h)),f.fromCache&&o.source==="server"?l.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new VB(a,u,{includeMetadataChanges:!0,_a:!0});return MB(i,h)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e,n){if(!n)throw new re(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kK(t,e,n,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!fe.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E1(t){if(fe.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bg(t);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XV;switch(r.type){case"firstParty":return new eH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=x1.get(n);r&&(ce("ComponentProvider","Removing Datastore"),x1.delete(n),r.terminate())}(this),Promise.resolve()}}function RK(t,e,n,r={}){var s;const i=(t=In(t,xg))._getSettings(),A=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),r.mockUserToken){let a,o;if(typeof r.mockUserToken=="string")a=r.mockUserToken,o=hn.MOCK_USER;else{a=fS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new hn(l)}t._authCredentials=new YV(new iQ(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uA(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Oi extends uA{constructor(e,n,r){super(e,n,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new fe(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function sn(t,e,...n){if(t=et(t),A2("collection","path",e),t instanceof xg){const r=Ye.fromString(e,...n);return E1(r),new Oi(t,null,r)}{if(!(t instanceof tn||t instanceof Oi))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return E1(r),new Oi(t.firestore,null,r)}}function lt(t,e,...n){if(t=et(t),arguments.length===1&&(e=AQ.newId()),A2("doc","path",e),t instanceof xg){const r=Ye.fromString(e,...n);return C1(r),new tn(t,null,new fe(r))}{if(!(t instanceof tn||t instanceof Oi))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return C1(r),new tn(t.firestore,t instanceof Oi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new QB(this,"async_queue_retry"),this.Vu=()=>{const r=Ym();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new es;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$u(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(r);throw Vs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=PB.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function I1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class As extends xg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new b1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b1(e),this._firestoreClient=void 0,await e}}}function DK(t,e){const n=typeof t=="object"?t:Ag(),r=typeof t=="string"?t:"(default)",s=Hu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=AB("firestore");i&&RK(s,...i)}return s}function ed(t){if(t._terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PK(t),t._firestoreClient}function PK(t){var e,n,r;const s=t._freezeSettings(),i=function(a,o,l,u){return new hH(a,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,i2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new TK(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(rn.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ea(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=/^__.*__$/;class MK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cA(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}class a2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cA(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class $B{constructor(e,n,r,s,i,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $B(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return qf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(o2(this.Cu)&&LK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class OK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yg(e)}Qu(e,n,r,s=!1){return new $B({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nd(t){const e=t._freezeSettings(),n=yg(t._databaseId);return new OK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qB(t,e,n,r,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);YB("Data must be an object, but it was:",A,r);const a=u2(r,A);let o,l;if(i.merge)o=new Wn(A.fieldMask),l=A.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=av(e,h,n);if(!A.contains(f))throw new re(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);h2(u,f)||u.push(f)}o=new Wn(u),l=A.fieldTransforms.filter(h=>o.covers(h.field))}else o=null,l=A.fieldTransforms;return new MK(new _n(a),o,l)}class Eg extends Cg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eg}}class XB extends Cg{_toFieldTransform(e){return new LH(e.path,new cu)}isEqual(e){return e instanceof XB}}function l2(t,e,n,r){const s=t.Qu(1,e,n);YB("Data must be an object, but it was:",s,r);const i=[],A=_n.empty();la(r,(o,l)=>{const u=JB(e,o,n);l=et(l);const h=s.Nu(u);if(l instanceof Eg)i.push(u);else{const f=rd(l,h);f!=null&&(i.push(u),A.set(u,f))}});const a=new Wn(i);return new a2(A,a,s.fieldTransforms)}function c2(t,e,n,r,s,i){const A=t.Qu(1,e,n),a=[av(e,r,n)],o=[s];if(i.length%2!=0)throw new re(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(av(e,i[f])),o.push(i[f+1]);const l=[],u=_n.empty();for(let f=a.length-1;f>=0;--f)if(!h2(l,a[f])){const g=a[f];let m=o[f];m=et(m);const y=A.Nu(g);if(m instanceof Eg)l.push(g);else{const C=rd(m,y);C!=null&&(l.push(g),u.set(g,C))}}const h=new Wn(l);return new a2(u,h,A.fieldTransforms)}function jK(t,e,n,r=!1){return rd(n,t.Qu(r?4:3,e))}function rd(t,e){if(d2(t=et(t)))return YB("Unsupported field value:",e,t),u2(t,e);if(t instanceof Cg)return function(r,s){if(!o2(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let A=0;for(const a of r){let o=rd(a,s.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),A++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:Kf(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kf(s.serializer,i)}}if(r instanceof GB)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:kQ(s.serializer,r._byteString)};if(r instanceof tn){const i=s.databaseId,A=r.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:TB(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof WB)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return _B(a.serializer,o)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Bg(r)}`)}(t,e)}function u2(t,e){const n={};return aQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,s)=>{const i=rd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function d2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof GB||t instanceof ea||t instanceof tn||t instanceof Cg||t instanceof WB)}function YB(t,e,n){if(!d2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Bg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function av(t,e,n){if((e=et(e))instanceof td)return e._internalPath;if(typeof e=="string")return JB(t,e);throw qf("Field path arguments must be of type string or ",t,!1,void 0,n)}const VK=new RegExp("[~\\*/\\[\\]]");function JB(t,e,n){if(e.search(VK)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new td(...e.split("."))._internalPath}catch{throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qf(t,e,n,r,s){const i=r&&!r.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||A)&&(o+=" (found",i&&(o+=` in field ${r}`),A&&(o+=` in document ${s}`),o+=")"),new re(H.INVALID_ARGUMENT,a+t+o)}function h2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HK extends Xf{data(){return super.data()}}function _g(t,e){return typeof e=="string"?JB(t,e):e instanceof td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZB{}class p2 extends ZB{}function dA(t,e,...n){let r=[];e instanceof ZB&&r.push(e),r=r.concat(n),function(i){const A=i.filter(o=>o instanceof ex).length,a=i.filter(o=>o instanceof bg).length;if(A>1||A>0&&a>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class bg extends p2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bg(e,n,r)}_apply(e){const n=this._parse(e);return g2(e._query,n),new uA(e.firestore,e.converter,Jy(e._query,n))}_parse(e){const n=nd(e.firestore);return function(i,A,a,o,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){F1(h,u);const g=[];for(const m of h)g.push(T1(o,i,m));f={arrayValue:{values:g}}}else f=T1(o,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||F1(h,u),f=jK(a,A,h,u==="in"||u==="not-in");return Nt.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hu(t,e,n){const r=e,s=_g("where",t);return bg._create(s,r,n)}class ex extends ZB{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ex(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const o of a)g2(A,o),A=Jy(A,o)}(e._query,n),new uA(e.firestore,e.converter,Jy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tx extends p2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tx(e,n)}_apply(e){const n=function(s,i,A){if(s.startAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(i,A)}(e._query,this._field,this._direction);return new uA(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new tl(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Do(t,e="asc"){const n=e,r=_g("orderBy",t);return tx._create(r,n)}function T1(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gQ(e)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!fe.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q_(t,new fe(r))}if(n instanceof tn)return q_(t,n._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bg(n)}.`)}function F1(t,e){if(!Array.isArray(t)||t.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g2(t,e){const n=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class m2{convertValue(e,n="none"){switch(ZA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(JA(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(A=>Et(A.doubleValue));return new WB(i)}convertGeoPoint(e){return new GB(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=BB(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Me(jQ(r));const s=new au(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||Vs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class KK extends m2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rx extends Xf{constructor(e,n,r,s,i,A){super(e,n,r,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_g("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qh extends rx{data(e={}){return super.data(e)}}class y2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Xa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qh(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const o=new qh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Xa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new qh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Xa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),u=A.indexOf(a.doc.key)),{type:zK(a.type),doc:o,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){t=In(t,tn);const e=In(t.firestore,As);return QK(ed(e),t._key).then(n=>w2(e,t,n))}class Ig extends m2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Tg(t){t=In(t,uA);const e=In(t.firestore,As),n=ed(e),r=new Ig(e);return f2(t._query),NK(n,t._query).then(s=>new y2(e,r,t,s))}function Fg(t,e,n){t=In(t,tn);const r=In(t.firestore,As),s=nx(t.converter,e,n);return Ug(r,[qB(nd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yt.none())])}function Ks(t,e,n,...r){t=In(t,tn);const s=In(t.firestore,As),i=nd(s);let A;return A=typeof(e=et(e))=="string"||e instanceof td?c2(i,"updateDoc",t._key,e,n,r):l2(i,"updateDoc",t._key,e),Ug(s,[A.toMutation(t._key,Yt.exists(!0))])}function v2(t){return Ug(In(t.firestore,As),[new gg(t._key,Yt.none())])}function zs(t,e){const n=In(t.firestore,As),r=lt(t),s=nx(t.converter,e);return Ug(n,[qB(nd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function sl(t,...e){var n,r,s;t=et(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||I1(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(I1(e[A])){const h=e[A];e[A]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[A+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[A+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let o,l,u;if(t instanceof tn)l=In(t.firestore,As),u=ug(t._key.path),o={next:h=>{e[A]&&e[A](w2(l,t,h))},error:e[A+1],complete:e[A+2]};else{const h=In(t,uA);l=In(h.firestore,As),u=h._query;const f=new Ig(l);o={next:g=>{e[A]&&e[A](new y2(l,f,h,g))},error:e[A+1],complete:e[A+2]},f2(t._query)}return function(f,g,m,y){const C=new KB(y),x=new VB(g,C,m);return f.asyncQueue.enqueueAndForget(async()=>MB(await $f(f),x)),()=>{C.Za(),f.asyncQueue.enqueueAndForget(async()=>OB(await $f(f),x))}}(ed(l),u,a,o)}function Ug(t,e){return function(r,s){const i=new es;return r.asyncQueue.enqueueAndForget(async()=>yK(await UK(r),s,i)),i.promise}(ed(t),e)}function w2(t,e,n){const r=n.docs.get(e._key),s=new Ig(t);return new rx(t,s,e._key,r,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK={maxAttempts:5};function Ql(t,e){if((t=et(t)).firestore!==e)throw new re(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=nd(n)}get(n){const r=Ql(n,this._firestore),s=new KK(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ye();const A=i[0];if(A.isFoundDocument())return new Xf(this._firestore,s,A.key,A,r.converter);if(A.isNoDocument())return new Xf(this._firestore,s,r._key,null,r.converter);throw ye()})}set(n,r,s){const i=Ql(n,this._firestore),A=nx(i.converter,r,s),a=qB(this._dataReader,"Transaction.set",i._key,A,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const A=Ql(n,this._firestore);let a;return a=typeof(r=et(r))=="string"||r instanceof td?c2(this._dataReader,"Transaction.update",A._key,r,s,i):l2(this._dataReader,"Transaction.update",A._key,r),this._transaction.update(A._key,a),this}delete(n){const r=Ql(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ql(e,this._firestore),r=new Ig(this._firestore);return super.get(e).then(s=>new rx(this._firestore,r,n._key,s._document,new Xa(!1,!1),n.converter))}}function U1(t,e,n){t=In(t,As);const r=Object.assign(Object.assign({},GK),n);return function(i){if(i.maxAttempts<1)throw new re(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,A,a){const o=new es;return i.asyncQueue.enqueueAndForget(async()=>{const l=await SK(i);new IK(i.asyncQueue,l,a,A,o).au()}),o.promise}(ed(t),s=>e(new WK(t,s)),r)}function Ln(){return new XB("serverTimestamp")}(function(e,n=!0){(function(s){el=s})(oa),zi(new Ms("firestore",(r,{instanceIdentifier:s,options:i})=>{const A=r.getProvider("app").getImmediate(),a=new As(new JV(r.getProvider("auth-internal")),new nH(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(l.options.projectId,u)}(A,s),A);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),mr(K_,"4.7.3",e),mr(K_,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K="type.googleapis.com/google.protobuf.Int64Value",qK="type.googleapis.com/google.protobuf.UInt64Value";function B2(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function ov(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>ov(e));if(typeof t=="function"||typeof t=="object")return B2(t,e=>ov(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Yf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case $K:case qK:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Yf(e)):typeof t=="function"||typeof t=="object"?B2(t,e=>Yf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yo extends Pr{constructor(e,n,r){super(`${sx}/${e}`,n||""),this.details=r}}function XK(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function YK(t,e){let n=XK(t),r=n,s;try{const i=e&&e.error;if(i){const A=i.status;if(typeof A=="string"){if(!S1[A])return new yo("internal","internal");n=S1[A],r=A}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=Yf(s))}}catch{}return n==="ok"?null:new yo(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="us-central1";function ZK(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new yo("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class e5{constructor(e,n,r,s,i=lv,A){this.app=e,this.fetchImpl=A,this.emulatorOrigin=null,this.contextProvider=new JK(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=lv}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function t5(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function n5(t,e,n){return r=>s5(t,e,r,{})}async function r5(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function s5(t,e,n,r){const s=t._url(e);return i5(t,s,n,r)}async function i5(t,e,n,r){n=ov(n);const s={data:n},i={},A=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);A.authToken&&(i.Authorization="Bearer "+A.authToken),A.messagingToken&&(i["Firebase-Instance-ID-Token"]=A.messagingToken),A.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=A.appCheckToken);const a=r.timeout||7e4,o=ZK(a),l=await Promise.race([r5(e,s,i,t.fetchImpl),o.promise,t.cancelAllRequests]);if(o.cancel(),!l)throw new yo("cancelled","Firebase Functions instance was deleted.");const u=YK(l.status,l.json);if(u)throw u;if(!l.json)throw new yo("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new yo("internal","Response is missing data field.");return{data:Yf(h)}}const Q1="@firebase/functions",N1="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="auth-internal",a5="app-check-internal",o5="messaging-internal";function l5(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),A=r.getProvider(A5),a=r.getProvider(o5),o=r.getProvider(a5);return new e5(i,A,a,o,s,t)};zi(new Ms(sx,n,"PUBLIC").setMultipleInstances(!0)),mr(Q1,N1,e),mr(Q1,N1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t=Ag(),e=lv){const r=Hu(et(t),sx).getImmediate({identifier:e}),s=AB("functions");return s&&u5(r,...s),r}function u5(t,e,n){t5(et(t),e,n)}function d5(t,e,n){return n5(et(t),e)}l5(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebasestorage.googleapis.com",h5="storageBucket",f5=2*60*1e3,p5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Pr{constructor(e,n,r=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var as;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(as||(as={}));function Zm(t){return"storage/"+t}function g5(){const t="An unknown error occurred, please check the error payload for server response.";return new cs(as.UNKNOWN,t)}function m5(){return new cs(as.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y5(){return new cs(as.CANCELED,"User canceled the upload/download.")}function v5(t){return new cs(as.INVALID_URL,"Invalid URL '"+t+"'.")}function w5(t){return new cs(as.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function k1(t){return new cs(as.INVALID_ARGUMENT,t)}function C2(){return new cs(as.APP_DELETED,"The Firebase app was deleted.")}function B5(t){return new cs(as.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(r.path==="")return r;throw w5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const A="(/(.*))?$",a=new RegExp("^gs://"+s+A,"i"),o={bucket:1,path:3};function l(F){F.path_=decodeURIComponent(F.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},y=n===x2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",x=new RegExp(`^https?://${y}/${s}/${C}`,"i"),w=[{regex:a,indices:o,postModify:i},{regex:g,indices:m,postModify:l},{regex:x,indices:{bucket:1,path:2},postModify:l}];for(let F=0;F<w.length;F++){const Q=w[F],k=Q.regex.exec(e);if(k){const I=k[Q.indices.bucket];let E=k[Q.indices.path];E||(E=""),r=new Tr(I,E),Q.postModify(r);break}}if(r==null)throw v5(e);return r}}class x5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t,e,n){let r=1,s=null,i=null,A=!1,a=0;function o(){return a===2}let l=!1;function u(...C){l||(l=!0,e.apply(null,C))}function h(C){s=setTimeout(()=>{s=null,t(g,o())},C)}function f(){i&&clearTimeout(i)}function g(C,...x){if(l){f();return}if(C){f(),u.call(null,C,...x);return}if(o()||A){f(),u.call(null,C,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let m=!1;function y(C){m||(m=!0,f(),!l&&(s!==null?(C||(a=2),clearTimeout(s),h(0)):C||(a=1)))}return h(0),i=setTimeout(()=>{A=!0,y(!0)},n),y}function E5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){return t!==void 0}function R1(t,e,n,r){if(r<e)throw k1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw k1(`Invalid value for '${t}'. Expected ${n} or less.`)}function b5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Jf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jf||(Jf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,s,i,A,a,o,l,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=A,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,m)=>{this.resolve_=g,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Zd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const A=a=>{const o=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,l)};this.progressCallback_!==null&&i.addUploadProgressListener(A),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(A),this.pendingConnection_=null;const a=i.getErrorCode()===Jf.NO_ERROR,o=i.getStatus();if(!a||I5(o,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Jf.ABORT;r(!1,new Zd(!1,null,u));return}const l=this.successCodes_.indexOf(o)!==-1;r(!0,new Zd(l,i))})},n=(r,s)=>{const i=this.resolve_,A=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const o=this.callback_(a,a.getResponse());_5(o)?i(o):i()}catch(o){A(o)}else if(a!==null){const o=g5();o.serverResponse=a.getErrorText(),this.errorCallback_?A(this.errorCallback_(a,o)):A(o)}else if(s.canceled){const o=this.appDelete_?C2():y5();A(o)}else{const o=m5();A(o)}};this.canceled_?n(!1,new Zd(!1,null,!0)):this.backoffId_=C5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function F5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function U5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function S5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Q5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N5(t,e,n,r,s,i,A=!0){const a=b5(t.urlParams),o=t.url+a,l=Object.assign({},t.headers);return S5(l,e),F5(l,n),U5(l,i),Q5(l,r),new T5(o,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function R5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zf(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R5(this._location.path)}get storage(){return this._service}get parent(){const e=k5(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new Zf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw B5(e)}}function D1(t,e){const n=e==null?void 0:e[h5];return n==null?null:Tr.makeFromBucketSpec(n,t)}function D5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:fS(s,t.app.options.projectId))}class P5{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=x2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f5,this._maxUploadRetryTime=p5,this._requests=new Set,s!=null?this._bucket=Tr.makeFromBucketSpec(s,this._host):this._bucket=D1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=D1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zf(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new x5(C2());{const A=N5(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const P1="@firebase/storage",L1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="storage";function L5(t=Ag(),e){t=et(t);const r=Hu(t,E2).getImmediate({identifier:e}),s=AB("storage");return s&&M5(r,...s),r}function M5(t,e,n,r={}){D5(t,e,n,r)}function O5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new P5(n,r,s,e,oa)}function j5(){zi(new Ms(E2,O5,"PUBLIC").setMultipleInstances(!0)),mr(P1,L1,""),mr(P1,L1,"esm2017")}j5();const V5={apiKey:"AIzaSyCjm6MOIuRFXQkTKwREvVWo8zogfNA6HPg",authDomain:"cinema-70fbc.firebaseapp.com",projectId:"cinema-70fbc",storageBucket:"cinema-70fbc.appspot.com",messagingSenderId:"508764987276",appId:"1:508764987276:web:878a0e32d806071bf380a9",measurementId:"G-E9KFW2B3BW"},Sg=mS(V5),fn=$V(Sg),_e=DK(Sg),H5=c5(Sg,"europe-west1");L5(Sg);let M1=new Map;const K5=t=>{M1.clear(),t.forEach(e=>M1.set(e.id,e))},z5=t=>{const e=lt(_e,"settings","event-settings");return sl(e,n=>{if(n.exists()){const r=n.data(),s=(r==null?void 0:r.bookingStatuses)||[];K5(s),t(s)}else t([])})},_2=S.createContext(void 0),G5=({children:t})=>{const[e,n]=S.useState([]),[r,s]=S.useState(!0),[i,A]=S.useState(null),[a,o]=S.useState(0);S.useEffect(()=>{const g=z5(m=>{n(m),s(!1),A(null)});return()=>g()},[a]);const l=g=>e.find(m=>m.id===g),u=g=>{var m;return((m=l(g))==null?void 0:m.color)||"#718096"},h=g=>{var m;return((m=l(g))==null?void 0:m.name)||g},f=()=>o(g=>g+1);return c.jsx(_2.Provider,{value:{statuses:e,loading:r,error:i,getStatusById:l,getStatusColor:u,getStatusName:h,refreshStatuses:f},children:t})},sd=()=>{const t=S.useContext(_2);if(!t)throw new Error("useBookingStatus must be used within a BookingStatusProvider");return t},ep="gennaro.mazzacane@gmail.com",W5="_1500Napoli500_",$5=t=>t===ep,q5=async(t,e)=>{try{if(t!==ep)throw new Error("Accesso non autorizzato");return{success:!0,user:(await Uj(fn,ep,W5)).user}}catch(n){throw console.error("Error logging in:",n),n}},X5=t=>t.code&&{"auth/invalid-credential":"Email o password non corretti","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password non corretta","auth/email-already-in-use":"Email già in uso","auth/weak-password":"Password troppo debole","auth/invalid-email":"Email non valida","auth/too-many-requests":"Troppi tentativi. Riprova più tardi.","auth/network-request-failed":"Errore di connessione. Verifica la tua connessione internet.","auth/requires-recent-login":"Per favore, effettua nuovamente il login per completare questa operazione"}[t.code]||"Errore durante l'autenticazione",b2=S.createContext(void 0),Y5=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!0),[i,A]=S.useState(!1);return S.useEffect(()=>{const a=fn.onAuthStateChanged(o=>{n(o),A(o?$5(o.email||""):!1),s(!1)});return()=>a()},[]),c.jsx(b2.Provider,{value:{user:e,loading:r,isAdmin:i},children:t})},Zs=()=>{const t=S.useContext(b2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:o,...l},u)=>S.createElement("svg",{ref:u,...J5,width:s,height:s,stroke:r,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Z5(t)}`,a].join(" "),...l},[...e.map(([h,f])=>S.createElement(h,f)),...Array.isArray(o)?o:[o]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=de("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=de("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=de("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=de("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=de("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=de("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=de("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=de("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=de("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=de("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=de("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=de("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=de("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=de("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=de("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=de("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class B6 extends S.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[c.jsx(I2,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Qualcosa è andato storto"})]}),c.jsx("p",{className:"text-gray-300 mb-4",children:"Si è verificato un errore imprevisto. Ricarica la pagina o prova più tardi."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Ricarica la pagina"}),this.state.error&&c.jsx("pre",{className:"mt-4 p-4 bg-gray-800 rounded text-sm text-gray-400 overflow-auto",children:this.state.error.message})]})}):this.props.children}}const W1=({children:t,requireAdmin:e=!1})=>{const{user:n,loading:r,isAdmin:s}=Zs();return r?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):!n||e&&!s?c.jsx(uo,{to:"/",replace:!0}):c.jsx(c.Fragment,{children:t})},Ax=S.createContext({});function ax(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rg=S.createContext(null),ox=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class x6 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function C6({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=S.useContext(ox);return S.useInsertionEffect(()=>{const{width:A,height:a,top:o,left:l}=s.current;if(e||!r.current||!A||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),c.jsx(x6,{isPresent:e,childRef:r,sizeRef:s,children:S.cloneElement(t,{ref:r})})}const E6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:A})=>{const a=ax(_6),o=S.useId(),l=S.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=S.useMemo(()=>({id:o,initial:e,isPresent:n,custom:s,onExitComplete:l,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),l]:[n,l]);return S.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),A==="popLayout"&&(t=c.jsx(C6,{isPresent:n,children:t})),c.jsx(Rg.Provider,{value:u,children:t})};function _6(){return new Map}function k2(t=!0){const e=S.useContext(Rg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{t&&s(i)},[t]);const A=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,A]:[!0]}const eh=t=>t.key||"";function $1(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const lx=typeof window<"u",R2=lx?S.useLayoutEffect:S.useEffect,Fn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:A=!1})=>{const[a,o]=k2(A),l=S.useMemo(()=>$1(t),[t]),u=A&&!a?[]:l.map(eh),h=S.useRef(!0),f=S.useRef(l),g=ax(()=>new Map),[m,y]=S.useState(l),[C,x]=S.useState(l);R2(()=>{h.current=!1,f.current=l;for(let F=0;F<C.length;F++){const Q=eh(C[F]);u.includes(Q)?g.delete(Q):g.get(Q)!==!0&&g.set(Q,!1)}},[C,u.length,u.join("-")]);const v=[];if(l!==m){let F=[...l];for(let Q=0;Q<C.length;Q++){const k=C[Q],I=eh(k);u.includes(I)||(F.splice(Q,0,k),v.push(k))}i==="wait"&&v.length&&(F=v),x($1(F)),y(l);return}const{forceRender:w}=S.useContext(Ax);return c.jsx(c.Fragment,{children:C.map(F=>{const Q=eh(F),k=A&&!a?!1:l===C||u.includes(Q),I=()=>{if(g.has(Q))g.set(Q,!0);else return;let E=!0;g.forEach(b=>{b||(E=!1)}),E&&(w==null||w(),x(f.current),A&&(o==null||o()),r&&r())};return c.jsx(E6,{isPresent:k,initial:!h.current||n?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:I,children:F},Q)})})},Xn=t=>t;let dv=Xn;function cx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Qs=t=>t*1e3,Ns=t=>t/1e3,b6={skipAnimations:!1,useManualTiming:!1};function I6(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1};function a(l){i.has(l)&&(o.schedule(l),t()),l(A)}const o={schedule:(l,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(l),g.has(l)||g.add(l),l},cancel:l=>{n.delete(l),i.delete(l)},process:l=>{if(A=l,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,o.process(l))}};return o}const th=["read","resolveKeyframes","update","preRender","render","postRender"],T6=40;function D2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,A=th.reduce((x,v)=>(x[v]=I6(i),x),{}),{read:a,resolveKeyframes:o,update:l,preRender:u,render:h,postRender:f}=A,g=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,T6),1),s.timestamp=x,s.isProcessing=!0,a.process(s),o.process(s),l.process(s),u.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},m=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:th.reduce((x,v)=>{const w=A[v];return x[v]=(F,Q=!1,k=!1)=>(n||m(),w.schedule(F,Q,k)),x},{}),cancel:x=>{for(let v=0;v<th.length;v++)A[th[v]].cancel(x)},state:s,steps:A}}const{schedule:it,cancel:Yi,state:Wt,steps:e0}=D2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0),P2=S.createContext({strict:!1}),q1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const t in q1)Mo[t]={isEnabled:e=>q1[t].some(n=>!!e[n])};function F6(t){for(const e in t)Mo[e]={...Mo[e],...t[e]}}const U6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function np(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U6.has(t)}let L2=t=>!np(t);function S6(t){t&&(L2=e=>e.startsWith("on")?!np(e):t(e))}try{S6(require("@emotion/is-prop-valid").default)}catch{}function Q6(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(L2(s)||n===!0&&np(s)||!e&&!np(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function N6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Dg=S.createContext({});function pu(t){return typeof t=="string"||Array.isArray(t)}function Pg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const ux=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dx=["initial",...ux];function Lg(t){return Pg(t.animate)||dx.some(e=>pu(t[e]))}function M2(t){return!!(Lg(t)||t.variants)}function k6(t,e){if(Lg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pu(n)?n:void 0,animate:pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function R6(t){const{initial:e,animate:n}=k6(t,S.useContext(Dg));return S.useMemo(()=>({initial:e,animate:n}),[X1(e),X1(n)])}function X1(t){return Array.isArray(t)?t.join(" "):t}const D6=Symbol.for("motionComponentSymbol");function Ja(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P6(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ja(n)&&(n.current=r))},[e])}const hx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L6="framerAppearId",O2="data-"+hx(L6),{schedule:fx,cancel:nre}=D2(queueMicrotask,!1),j2=S.createContext({});function M6(t,e,n,r,s){var i,A;const{visualElement:a}=S.useContext(Dg),o=S.useContext(P2),l=S.useContext(Rg),u=S.useContext(ox).reducedMotion,h=S.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=S.useContext(j2);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&O6(h.current,n,s,g);const m=S.useRef(!1);S.useInsertionEffect(()=>{f&&m.current&&f.update(n,l)});const y=n[O2],C=S.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((A=window.MotionHasOptimisedAnimation)===null||A===void 0?void 0:A.call(window,y)));return R2(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),fx.render(f.render),C.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!C.current&&f.animationState&&f.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),C.current=!1))}),f}function O6(t,e,n,r){const{layoutId:s,layout:i,drag:A,dragConstraints:a,layoutScroll:o,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:V2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!A||a&&Ja(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}function V2(t){if(t)return t.options.allowProjection!==!1?t.projection:V2(t.parent)}function j6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,A;t&&F6(t);function a(l,u){let h;const f={...S.useContext(ox),...l,layoutId:V6(l)},{isStatic:g}=f,m=R6(l),y=r(l,g);if(!g&&lx){H6();const C=K6(f);h=C.MeasureLayout,m.visualElement=M6(s,y,f,e,C.ProjectionNode)}return c.jsxs(Dg.Provider,{value:m,children:[h&&m.visualElement?c.jsx(h,{visualElement:m.visualElement,...f}):null,n(s,l,P6(y,m.visualElement,u),y,g,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(A=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&A!==void 0?A:""})`}`;const o=S.forwardRef(a);return o[D6]=s,o}function V6({layoutId:t}){const e=S.useContext(Ax).id;return e&&t!==void 0?e+"-"+t:t}function H6(t,e){S.useContext(P2).strict}function K6(t){const{drag:e,layout:n}=Mo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const z6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function px(t){return typeof t!="string"||t.includes("-")?!1:!!(z6.indexOf(t)>-1||/[A-Z]/u.test(t))}function Y1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function gx(t,e,n,r){if(typeof e=="function"){const[s,i]=Y1(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Y1(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const hv=t=>Array.isArray(t),G6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),W6=t=>hv(t)?t[t.length-1]||0:t,mn=t=>!!(t&&t.getVelocity);function Xh(t){const e=mn(t)?t.get():t;return G6(e)?e.toValue():e}function $6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const A={latestValues:q6(r,s,i,t),renderState:e()};return n&&(A.onMount=a=>n({props:r,current:a,...A}),A.onUpdate=a=>n(a)),A}const H2=t=>(e,n)=>{const r=S.useContext(Dg),s=S.useContext(Rg),i=()=>$6(t,e,r,s);return n?i():ax(i)};function q6(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Xh(i[f]);let{initial:A,animate:a}=t;const o=Lg(t),l=M2(t);e&&l&&!o&&t.inherit!==!1&&(A===void 0&&(A=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||A===!1;const h=u?a:A;if(h&&typeof h!="boolean"&&!Pg(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const m=gx(t,f[g]);if(m){const{transitionEnd:y,transition:C,...x}=m;for(const v in x){let w=x[v];if(Array.isArray(w)){const F=u?w.length-1:0;w=w[F]}w!==null&&(s[v]=w)}for(const v in y)s[v]=y[v]}}}return s}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],da=new Set(Al),K2=t=>e=>typeof e=="string"&&e.startsWith(t),z2=K2("--"),X6=K2("var(--"),mx=t=>X6(t)?Y6.test(t.split("/*")[0].trim()):!1,Y6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,G2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ws=(t,e,n)=>n>e?e:n<t?t:n,al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...al,transform:t=>Ws(0,1,t)},nh={...al,default:1},id=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ai=id("deg"),ns=id("%"),me=id("px"),J6=id("vh"),Z6=id("vw"),J1={...ns,parse:t=>ns.parse(t)/100,transform:t=>ns.transform(t*100)},ez={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me},tz={rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:nh,scaleX:nh,scaleY:nh,scaleZ:nh,skew:ai,skewX:ai,skewY:ai,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:gu,originX:J1,originY:J1,originZ:me},Z1={...al,transform:Math.round},yx={...ez,...tz,zIndex:Z1,size:me,fillOpacity:gu,strokeOpacity:gu,numOctaves:Z1},nz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rz=Al.length;function sz(t,e,n){let r="",s=!0;for(let i=0;i<rz;i++){const A=Al[i],a=t[A];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(A.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||n){const l=G2(a,yx[A]);if(!o){s=!1;const u=nz[A]||A;r+=`${u}(${l}) `}n&&(e[A]=l)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function vx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let A=!1,a=!1;for(const o in e){const l=e[o];if(da.has(o)){A=!0;continue}else if(z2(o)){s[o]=l;continue}else{const u=G2(l,yx[o]);o.startsWith("origin")?(a=!0,i[o]=u):r[o]=u}}if(e.transform||(A||n?r.transform=sz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:o="50%",originY:l="50%",originZ:u=0}=i;r.transformOrigin=`${o} ${l} ${u}`}}const iz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Az={offset:"strokeDashoffset",array:"strokeDasharray"};function az(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?iz:Az;t[i.offset]=me.transform(-r);const A=me.transform(e),a=me.transform(n);t[i.array]=`${A} ${a}`}function eb(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function oz(t,e,n){const r=eb(e,t.x,t.width),s=eb(n,t.y,t.height);return`${r} ${s}`}function wx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:A,pathSpacing:a=1,pathOffset:o=0,...l},u,h){if(vx(t,l,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:m}=t;f.transform&&(m&&(g.transform=f.transform),delete f.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=oz(m,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),A!==void 0&&az(f,A,a,o,!1)}const Bx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),W2=()=>({...Bx(),attrs:{}}),xx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const q2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X2(t,e,n,r){$2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(q2.has(s)?s:hx(s),e.attrs[s])}const rp={};function lz(t){Object.assign(rp,t)}function Y2(t,{layout:e,layoutId:n}){return da.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rp[t]||t==="opacity")}function Cx(t,e,n){var r;const{style:s}=t,i={};for(const A in s)(mn(s[A])||e.style&&mn(e.style[A])||Y2(A,t)||((r=n==null?void 0:n.getValue(A))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[A]=s[A]);return i}function J2(t,e,n){const r=Cx(t,e,n);for(const s in t)if(mn(t[s])||mn(e[s])){const i=Al.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function cz(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const tb=["x","y","width","height","cx","cy","r"],uz={useVisualState:H2({scrapeMotionValuesFromProps:J2,createRenderState:W2,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(da.has(a)){i=!0;break}}if(!i)return;let A=!e;if(e)for(let a=0;a<tb.length;a++){const o=tb[a];t[o]!==e[o]&&(A=!0)}A&&it.read(()=>{cz(n,r),it.render(()=>{wx(r,s,xx(n.tagName),t.transformTemplate),X2(n,r)})})}})},dz={useVisualState:H2({scrapeMotionValuesFromProps:Cx,createRenderState:Bx})};function Z2(t,e,n){for(const r in e)!mn(e[r])&&!Y2(r,n)&&(t[r]=e[r])}function hz({transformTemplate:t},e){return S.useMemo(()=>{const n=Bx();return vx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fz(t,e){const n=t.style||{},r={};return Z2(r,n,t),Object.assign(r,hz(t,e)),r}function pz(t,e){const n={},r=fz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function gz(t,e,n,r){const s=S.useMemo(()=>{const i=W2();return wx(i,e,xx(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Z2(i,t.style,t),s.style={...i,...s.style}}return s}function mz(t=!1){return(n,r,s,{latestValues:i},A)=>{const o=(px(n)?gz:pz)(r,i,A,n),l=Q6(r,typeof n=="string",t),u=n!==S.Fragment?{...l,...o,ref:s}:{},{children:h}=r,f=S.useMemo(()=>mn(h)?h.get():h,[h]);return S.createElement(n,{...u,children:f})}}function yz(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const A={...px(r)?uz:dz,preloadedFeatures:t,useRender:mz(s),createVisualElement:e,Component:r};return j6(A)}}function eN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Mg(t,e,n){const r=t.getProps();return gx(r,e,n!==void 0?n:r.custom,t)}const vz=cx(()=>window.ScrollTimeline!==void 0);class wz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(vz()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bz extends wz{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ex(t,e){return t?t[e]||t.default||t:void 0}const fv=2e4;function tN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fv;)e+=n,r=t.next(e);return e>=fv?1/0:e}function _x(t){return typeof t=="function"}function nb(t,e){t.timeline=e,t.onfinish=null}const bx=t=>Array.isArray(t)&&typeof t[0]=="number",xz={linearEasing:void 0};function Cz(t,e){const n=cx(t);return()=>{var r;return(r=xz[e])!==null&&r!==void 0?r:n()}}const sp=Cz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Lo(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function rN(t){return!!(typeof t=="function"&&sp()||!t||typeof t=="string"&&(t in pv||sp())||bx(t)||Array.isArray(t)&&t.every(rN))}const Jl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function sN(t,e){if(t)return typeof t=="function"&&sp()?nN(t,e):bx(t)?Jl(t):Array.isArray(t)?t.map(n=>sN(n,e)||pv.easeOut):pv[t]}const Cr={x:!1,y:!1};function iN(){return Cr.x||Cr.y}function Ez(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function AN(t,e){const n=Ez(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function rb(t){return e=>{e.pointerType==="touch"||iN()||t(e)}}function _z(t,e,n={}){const[r,s,i]=AN(t,n),A=rb(a=>{const{target:o}=a,l=e(a);if(typeof l!="function"||!o)return;const u=rb(h=>{l(h),o.removeEventListener("pointerleave",u)});o.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",A,s)}),i}const aN=(t,e)=>e?t===e?!0:aN(t,e.parentElement):!1,Ix=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Iz(t){return bz.has(t.tagName)||t.tabIndex!==-1}const Zl=new WeakSet;function sb(t){return e=>{e.key==="Enter"&&t(e)}}function t0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Tz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sb(()=>{if(Zl.has(n))return;t0(n,"down");const s=sb(()=>{t0(n,"up")}),i=()=>t0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ib(t){return Ix(t)&&!iN()}function Fz(t,e,n={}){const[r,s,i]=AN(t,n),A=a=>{const o=a.currentTarget;if(!ib(a)||Zl.has(o))return;Zl.add(o);const l=e(a),u=(g,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!ib(g)||!Zl.has(o))&&(Zl.delete(o),typeof l=="function"&&l(g,{success:m}))},h=g=>{u(g,n.useGlobalTarget||aN(o,g.target))},f=g=>{u(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!Iz(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",A,s),a.addEventListener("focus",l=>Tz(l,s),s)}),i}function Uz(t){return t==="x"||t==="y"?Cr[t]?null:(Cr[t]=!0,()=>{Cr[t]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}const oN=new Set(["width","height","top","left","right","bottom",...Al]);let Yh;function Sz(){Yh=void 0}const rs={now:()=>(Yh===void 0&&rs.set(Wt.isProcessing||b6.useManualTiming?Wt.timestamp:performance.now()),Yh),set:t=>{Yh=t,queueMicrotask(Sz)}};function Tx(t,e){t.indexOf(e)===-1&&t.push(e)}function Fx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ux{constructor(){this.subscriptions=[]}add(e){return Tx(this.subscriptions,e),()=>Fx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const A=this.subscriptions[i];A&&A(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function lN(t,e){return e?t*(1e3/e):0}const Ab=30,Qz=t=>!isNaN(parseFloat(t));class Nz{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=rs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Qz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ux);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ab)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ab);return lN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(t,e){return new Nz(t,e)}function kz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mu(n))}function Rz(t,e){const n=Mg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const A in i){const a=W6(i[A]);kz(t,A,a)}}function Dz(t){return!!(mn(t)&&t.add)}function gv(t,e){const n=t.getValue("willChange");if(Dz(n))return n.add(e)}function cN(t){return t.props[O2]}const uN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Pz=1e-7,Lz=12;function Mz(t,e,n,r,s){let i,A,a=0;do A=e+(n-e)/2,i=uN(A,r,s)-t,i>0?n=A:e=A;while(Math.abs(i)>Pz&&++a<Lz);return A}function Ad(t,e,n,r){if(t===e&&n===r)return Xn;const s=i=>Mz(i,0,1,t,n);return i=>i===0||i===1?i:uN(s(i),e,r)}const dN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hN=t=>e=>1-t(1-e),fN=Ad(.33,1.53,.69,.99),Sx=hN(fN),pN=dN(Sx),gN=t=>(t*=2)<1?.5*Sx(t):.5*(2-Math.pow(2,-10*(t-1))),Qx=t=>1-Math.sin(Math.acos(t)),mN=hN(Qx),yN=dN(Qx),vN=t=>/^0[^.\s]+$/u.test(t);function Oz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vN(t):!0}const Tc=t=>Math.round(t*1e5)/1e5,Nx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jz(t){return t==null}const Vz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kx=(t,e)=>n=>!!(typeof n=="string"&&Vz.test(n)&&n.startsWith(t)||e&&!jz(n)&&Object.prototype.hasOwnProperty.call(n,e)),wN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,A,a]=r.match(Nx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(A),alpha:a!==void 0?parseFloat(a):1}},Hz=t=>Ws(0,255,t),n0={...al,transform:t=>Math.round(Hz(t))},NA={test:kx("rgb","red"),parse:wN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+n0.transform(t)+", "+n0.transform(e)+", "+n0.transform(n)+", "+Tc(gu.transform(r))+")"};function Kz(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const mv={test:kx("#"),parse:Kz,transform:NA.transform},Za={test:kx("hsl","hue"),parse:wN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ns.transform(Tc(e))+", "+ns.transform(Tc(n))+", "+Tc(gu.transform(r))+")"},dn={test:t=>NA.test(t)||mv.test(t)||Za.test(t),parse:t=>NA.test(t)?NA.parse(t):Za.test(t)?Za.parse(t):mv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?NA.transform(t):Za.transform(t)},zz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Nx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(zz))===null||n===void 0?void 0:n.length)||0)>0}const BN="number",xN="color",Wz="var",$z="var(",ab="${}",qz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(qz,o=>(dn.test(o)?(r.color.push(i),s.push(xN),n.push(dn.parse(o))):o.startsWith($z)?(r.var.push(i),s.push(Wz),n.push(o)):(r.number.push(i),s.push(BN),n.push(parseFloat(o))),++i,ab)).split(ab);return{values:n,split:a,indexes:r,types:s}}function CN(t){return yu(t).values}function EN(t){const{split:e,types:n}=yu(t),r=e.length;return s=>{let i="";for(let A=0;A<r;A++)if(i+=e[A],s[A]!==void 0){const a=n[A];a===BN?i+=Tc(s[A]):a===xN?i+=dn.transform(s[A]):i+=s[A]}return i}}const Xz=t=>typeof t=="number"?0:t;function Yz(t){const e=CN(t);return EN(t)(e.map(Xz))}const Ji={test:Gz,parse:CN,createTransformer:EN,getAnimatableNone:Yz},Jz=new Set(["brightness","contrast","saturate","opacity"]);function Zz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Nx)||[];if(!r)return t;const s=n.replace(r,"");let i=Jz.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const e9=/\b([a-z-]*)\(.*?\)/gu,yv={...Ji,getAnimatableNone:t=>{const e=t.match(e9);return e?e.map(Zz).join(" "):t}},t9={...yx,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:yv,WebkitFilter:yv},Rx=t=>t9[t];function _N(t,e){let n=Rx(t);return n!==yv&&(n=Ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const n9=new Set(["auto","none","0"]);function r9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!n9.has(i)&&yu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=_N(n,s)}const ob=t=>t===al||t===me,lb=(t,e)=>parseFloat(t.split(", ")[e]),cb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return lb(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?lb(i[1],t):0}},s9=new Set(["x","y","z"]),i9=Al.filter(t=>!s9.has(t));function A9(t){const e=[];return i9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:cb(4,13),y:cb(5,14)};Oo.translateX=Oo.x;Oo.translateY=Oo.y;const MA=new Set;let vv=!1,wv=!1;function bN(){if(wv){const t=Array.from(MA).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=A9(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,A])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(A)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wv=!1,vv=!1,MA.forEach(t=>t.complete()),MA.clear()}function IN(){MA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wv=!0)})}function a9(){IN(),bN()}class Dx{constructor(e,n,r,s,i,A=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=A}scheduleResolve(){this.isScheduled=!0,this.isAsync?(MA.add(this),vv||(vv=!0,it.read(IN),it.resolveKeyframes(bN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const A=s==null?void 0:s.get(),a=e[e.length-1];if(A!==void 0)e[0]=A;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&A===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),MA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,MA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const TN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),o9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function l9(t){const e=o9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function FN(t,e,n=1){const[r,s]=l9(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const A=i.trim();return TN(A)?parseFloat(A):A}return mx(s)?FN(s,e,n+1):s}const UN=t=>e=>e.test(t),c9={test:t=>t==="auto",parse:t=>t},SN=[al,me,ns,ai,Z6,J6,c9],ub=t=>SN.find(UN(t));class QN extends Dx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let l=e[o];if(typeof l=="string"&&(l=l.trim(),mx(l))){const u=FN(l,n.current);u!==void 0&&(e[o]=u),o===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!oN.has(r)||e.length!==2)return;const[s,i]=e,A=ub(s),a=ub(i);if(A!==a)if(ob(A)&&ob(a))for(let o=0;o<e.length;o++){const l=e[o];typeof l=="string"&&(e[o]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)Oz(e[s])&&r.push(s);r.length&&r9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const A=s.length-1,a=s[A];s[A]=Oo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([o,l])=>{n.getValue(o).set(l)}),this.resolveNoneKeyframes()}}const db=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ji.test(t)||t==="0")&&!t.startsWith("url("));function u9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function d9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],A=db(s,e),a=db(i,e);return!A||!a?!1:u9(t)||(n==="spring"||_x(n))&&r}const h9=t=>t!==null;function Og(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(h9),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const f9=40;class NN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:A="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rs.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:A,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>f9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&a9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=rs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:A,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!d9(e,r,s,i))if(A)this.options.duration=0;else{o&&o(Og(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function r0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,A=0;if(!e)s=i=A=n;else{const a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;s=r0(o,a,t+1/3),i=r0(o,a,t),A=r0(o,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(A*255),alpha:r}}function ip(t,e){return n=>n>0?e:t}const s0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},g9=[mv,NA,Za],m9=t=>g9.find(e=>e.test(t));function hb(t){const e=m9(t);if(!e)return!1;let n=e.parse(t);return e===Za&&(n=p9(n)),n}const fb=(t,e)=>{const n=hb(t),r=hb(e);if(!n||!r)return ip(t,e);const s={...n};return i=>(s.red=s0(n.red,r.red,i),s.green=s0(n.green,r.green,i),s.blue=s0(n.blue,r.blue,i),s.alpha=dt(n.alpha,r.alpha,i),NA.transform(s))},y9=(t,e)=>n=>e(t(n)),ad=(...t)=>t.reduce(y9),Bv=new Set(["none","hidden"]);function v9(t,e){return Bv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function w9(t,e){return n=>dt(t,e,n)}function Px(t){return typeof t=="number"?w9:typeof t=="string"?mx(t)?ip:dn.test(t)?fb:C9:Array.isArray(t)?kN:typeof t=="object"?dn.test(t)?fb:B9:ip}function kN(t,e){const n=[...t],r=n.length,s=t.map((i,A)=>Px(i)(i,e[A]));return i=>{for(let A=0;A<r;A++)n[A]=s[A](i);return n}}function B9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Px(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function x9(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const A=e.types[i],a=t.indexes[A][s[A]],o=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=o,s[A]++}return r}const C9=(t,e)=>{const n=Ji.createTransformer(e),r=yu(t),s=yu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Bv.has(t)&&!s.values.length||Bv.has(e)&&!r.values.length?v9(t,e):ad(kN(x9(r,s),s.values),n):ip(t,e)};function RN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Px(t)(t,e)}const E9=5;function DN(t,e,n){const r=Math.max(e-E9,0);return lN(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i0=.001;function _9({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let s,i,A=1-e;A=Ws(yt.minDamping,yt.maxDamping,A),t=Ws(yt.minDuration,yt.maxDuration,Ns(t)),A<1?(s=l=>{const u=l*A,h=u*t,f=u-n,g=xv(l,A),m=Math.exp(-h);return i0-f/g*m},i=l=>{const h=l*A*t,f=h*n+n,g=Math.pow(A,2)*Math.pow(l,2)*t,m=Math.exp(-h),y=xv(Math.pow(l,2),A);return(-s(l)+i0>0?-1:1)*((f-g)*m)/y}):(s=l=>{const u=Math.exp(-l*t),h=(l-n)*t+1;return-i0+u*h},i=l=>{const u=Math.exp(-l*t),h=(n-l)*(t*t);return u*h});const a=5/t,o=I9(s,i,a);if(t=Qs(t),isNaN(o))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const l=Math.pow(o,2)*r;return{stiffness:l,damping:A*2*Math.sqrt(r*l),duration:t}}}const b9=12;function I9(t,e,n){let r=n;for(let s=1;s<b9;s++)r=r-t(r)/e(r);return r}function xv(t,e){return t*Math.sqrt(1-e*e)}const T9=["duration","bounce"],F9=["stiffness","damping","mass"];function pb(t,e){return e.some(n=>t[n]!==void 0)}function U9(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!pb(t,F9)&&pb(t,T9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:yt.mass,stiffness:s,damping:i}}else{const n=_9(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function PN(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],A=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=U9({...n,velocity:-Ns(n.velocity||0)}),m=f||0,y=l/(2*Math.sqrt(o*u)),C=A-i,x=Ns(Math.sqrt(o/u)),v=Math.abs(C)<5;r||(r=v?yt.restSpeed.granular:yt.restSpeed.default),s||(s=v?yt.restDelta.granular:yt.restDelta.default);let w;if(y<1){const Q=xv(x,y);w=k=>{const I=Math.exp(-y*x*k);return A-I*((m+y*x*C)/Q*Math.sin(Q*k)+C*Math.cos(Q*k))}}else if(y===1)w=Q=>A-Math.exp(-x*Q)*(C+(m+x*C)*Q);else{const Q=x*Math.sqrt(y*y-1);w=k=>{const I=Math.exp(-y*x*k),E=Math.min(Q*k,300);return A-I*((m+y*x*C)*Math.sinh(E)+Q*C*Math.cosh(E))/Q}}const F={calculatedDuration:g&&h||null,next:Q=>{const k=w(Q);if(g)a.done=Q>=h;else{let I=0;y<1&&(I=Q===0?Qs(m):DN(w,Q,k));const E=Math.abs(I)<=r,b=Math.abs(A-k)<=s;a.done=E&&b}return a.value=a.done?A:k,a},toString:()=>{const Q=Math.min(tN(F),fv),k=nN(I=>F.next(Q*I).value,Q,30);return Q+"ms "+k}};return F}function gb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:A,min:a,max:o,restDelta:l=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=E=>a!==void 0&&E<a||o!==void 0&&E>o,m=E=>a===void 0?o:o===void 0||Math.abs(a-E)<Math.abs(o-E)?a:o;let y=n*e;const C=h+y,x=A===void 0?C:A(C);x!==C&&(y=x-h);const v=E=>-y*Math.exp(-E/r),w=E=>x+v(E),F=E=>{const b=v(E),_=w(E);f.done=Math.abs(b)<=l,f.value=f.done?x:_};let Q,k;const I=E=>{g(f.value)&&(Q=E,k=PN({keyframes:[f.value,m(f.value)],velocity:DN(w,E,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return I(0),{calculatedDuration:null,next:E=>{let b=!1;return!k&&Q===void 0&&(b=!0,F(E),I(E)),Q!==void 0&&E>=Q?k.next(E-Q):(!b&&F(E),f)}}}const S9=Ad(.42,0,1,1),Q9=Ad(0,0,.58,1),LN=Ad(.42,0,.58,1),N9=t=>Array.isArray(t)&&typeof t[0]!="number",mb={linear:Xn,easeIn:S9,easeInOut:LN,easeOut:Q9,circIn:Qx,circInOut:yN,circOut:mN,backIn:Sx,backInOut:pN,backOut:fN,anticipate:gN},yb=t=>{if(bx(t)){dv(t.length===4);const[e,n,r,s]=t;return Ad(e,n,r,s)}else if(typeof t=="string")return dv(mb[t]!==void 0),mb[t];return t};function k9(t,e,n){const r=[],s=n||RN,i=t.length-1;for(let A=0;A<i;A++){let a=s(t[A],t[A+1]);if(e){const o=Array.isArray(e)?e[A]||Xn:e;a=ad(o,a)}r.push(a)}return r}function R9(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(dv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const A=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=k9(e,r,s),o=a.length,l=u=>{if(A&&u<t[0])return e[0];let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Lo(t[h],t[h+1],u);return a[h](f)};return n?u=>l(Ws(t[0],t[i-1],u)):l}function D9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Lo(0,e,r);t.push(dt(n,1,s))}}function P9(t){const e=[0];return D9(e,t.length-1),e}function L9(t,e){return t.map(n=>n*e)}function M9(t,e){return t.map(()=>e||LN).splice(0,t.length-1)}function Ap({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=N9(r)?r.map(yb):yb(r),i={done:!1,value:e[0]},A=L9(n&&n.length===e.length?n:P9(e),t),a=R9(A,e,{ease:Array.isArray(s)?s:M9(e,s)});return{calculatedDuration:t,next:o=>(i.value=a(o),i.done=o>=t,i)}}const O9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>Yi(e),now:()=>Wt.isProcessing?Wt.timestamp:rs.now()}},j9={decay:gb,inertia:gb,tween:Ap,keyframes:Ap,spring:PN},V9=t=>t/100;class Lx extends NN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,A=(s==null?void 0:s.KeyframeResolver)||Dx,a=(o,l)=>this.onKeyframesResolved(o,l);this.resolver=new A(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:A=0}=this.options,a=_x(n)?n:j9[n]||Ap;let o,l;a!==Ap&&typeof e[0]!="number"&&(o=ad(V9,RN(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-A})),u.calculatedDuration===null&&(u.calculatedDuration=tN(u));const{calculatedDuration:h}=u,f=h+s,g=f*(r+1)-s;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:A,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:m,repeatDelay:y,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,F=i;if(g){const E=Math.min(this.currentTime,u)/h;let b=Math.floor(E),_=E%1;!_&&E>=1&&(_=1),_===1&&b--,b=Math.min(b,g+1),!!(b%2)&&(m==="reverse"?(_=1-_,y&&(_-=y/h)):m==="mirror"&&(F=A)),w=Ws(0,1,_)*h}const Q=v?{done:!1,value:o[0]}:F.next(w);a&&(Q.value=a(Q.value));let{done:k}=Q;!v&&l!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return I&&s!==void 0&&(Q.value=Og(o,this.options,s)),C&&C(Q.value),I&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Ns(e.calculatedDuration):0}get time(){return Ns(this.currentTime)}set time(e){e=Qs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=O9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const H9=new Set(["opacity","clipPath","filter","transform"]);function K9(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:A="loop",ease:a="easeInOut",times:o}={}){const l={[e]:n};o&&(l.offset=o);const u=sN(a,s);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:A==="reverse"?"alternate":"normal"})}const z9=cx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ap=10,G9=2e4;function W9(t){return _x(t.type)||t.type==="spring"||!rN(t.ease)}function $9(t,e){const n=new Lx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<G9;)r=n.sample(i),s.push(r.value),i+=ap;return{times:void 0,keyframes:s,duration:i-ap,ease:"linear"}}const MN={anticipate:gN,backInOut:pN,circInOut:yN};function q9(t){return t in MN}class vb extends NN{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new QN(i,(A,a)=>this.onKeyframesResolved(A,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:A,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&sp()&&q9(i)&&(i=MN[i]),W9(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:m,...y}=this.options,C=$9(e,y);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,s=C.times,i=C.ease,A="keyframes"}const u=K9(a.owner.current,o,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(nb(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(Og(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:A,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ns(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ns(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xn;const{animation:r}=n;nb(r,e)}return Xn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:A,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:h,element:f,...g}=this.options,m=new Lx({...g,keyframes:r,duration:s,type:i,ease:A,times:a,isGenerator:!0}),y=Qs(this.time);l.setWithVelocity(m.sample(y-ap).value,m.sample(y).value,ap)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:A,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=n.owner.getProps();return z9()&&r&&H9.has(r)&&!o&&!l&&!s&&i!=="mirror"&&A!==0&&a!=="inertia"}}const X9={type:"spring",stiffness:500,damping:25,restSpeed:10},Y9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),J9={type:"keyframes",duration:.8},Z9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eG=(t,{keyframes:e})=>e.length>2?J9:da.has(t)?t.startsWith("scale")?Y9(e[1]):X9:Z9;function tG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:A,repeatDelay:a,from:o,elapsed:l,...u}){return!!Object.keys(u).length}const Mx=(t,e,n,r={},s,i)=>A=>{const a=Ex(r,t)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Qs(o);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{A(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};tG(a)||(u={...u,...eG(t,u)}),u.duration&&(u.duration=Qs(u.duration)),u.repeatDelay&&(u.repeatDelay=Qs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Og(u.keyframes,a);if(f!==void 0)return it.update(()=>{u.onUpdate(f),u.onComplete()}),new Bz([])}return!i&&vb.supports(u)?new vb(u):new Lx(u)};function nG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ON(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:A=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(A=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=o[h];if(g===void 0||u&&nG(u,h))continue;const m={delay:n,...Ex(A||{},h)};let y=!1;if(window.MotionHandoffAnimation){const x=cN(t);if(x){const v=window.MotionHandoffAnimation(x,h,it);v!==null&&(m.startTime=v,y=!0)}}gv(t,h),f.start(Mx(h,f,g,t.shouldReduceMotion&&oN.has(h)?{type:!1}:m,t,y));const C=f.animation;C&&l.push(C)}return a&&Promise.all(l).then(()=>{it.update(()=>{a&&Rz(t,a)})}),l}function Cv(t,e,n={}){var r;const s=Mg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const A=s?()=>Promise.all(ON(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return rG(t,e,u+l,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[A,a]:[a,A];return l().then(()=>u())}else return Promise.all([A(),a(n.delay)])}function rG(t,e,n=0,r=0,s=1,i){const A=[],a=(t.variantChildren.size-1)*r,o=s===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(t.variantChildren).sort(sG).forEach((l,u)=>{l.notify("AnimationStart",e),A.push(Cv(l,e,{...i,delay:n+o(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(A)}function sG(t,e){return t.sortNodePosition(e)}function iG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Cv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Cv(t,e,n);else{const s=typeof e=="function"?Mg(t,e,n.custom):e;r=Promise.all(ON(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const AG=dx.length;function jN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?jN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<AG;n++){const r=dx[n],s=t.props[r];(pu(s)||s===!1)&&(e[r]=s)}return e}const aG=[...ux].reverse(),oG=ux.length;function lG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>iG(t,n,r)))}function cG(t){let e=lG(t),n=wb(),r=!0;const s=o=>(l,u)=>{var h;const f=Mg(t,u,o==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:m,...y}=f;l={...l,...y,...m}}return l};function i(o){e=o(t)}function A(o){const{props:l}=t,u=jN(t.parent)||{},h=[],f=new Set;let g={},m=1/0;for(let C=0;C<oG;C++){const x=aG[C],v=n[x],w=l[x]!==void 0?l[x]:u[x],F=pu(w),Q=x===o?v.isActive:null;Q===!1&&(m=C);let k=w===u[x]&&w!==l[x]&&F;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...g},!v.isActive&&Q===null||!w&&!v.prevProp||Pg(w)||typeof w=="boolean")continue;const I=uG(v.prevProp,w);let E=I||x===o&&v.isActive&&!k&&F||C>m&&F,b=!1;const _=Array.isArray(w)?w:[w];let N=_.reduce(s(x),{});Q===!1&&(N={});const{prevResolvedValues:R={}}=v,T={...R,...N},J=q=>{E=!0,f.has(q)&&(b=!0,f.delete(q)),v.needsAnimating[q]=!0;const P=t.getValue(q);P&&(P.liveStyle=!1)};for(const q in T){const P=N[q],K=R[q];if(g.hasOwnProperty(q))continue;let z=!1;hv(P)&&hv(K)?z=!eN(P,K):z=P!==K,z?P!=null?J(q):f.add(q):P!==void 0&&f.has(q)?J(q):v.protectedKeys[q]=!0}v.prevProp=w,v.prevResolvedValues=N,v.isActive&&(g={...g,...N}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(k&&I)||b)&&h.push(..._.map(q=>({animation:q,options:{type:x}})))}if(f.size){const C={};f.forEach(x=>{const v=t.getBaseTarget(x),w=t.getValue(x);w&&(w.liveStyle=!0),C[x]=v??null}),h.push({animation:C})}let y=!!h.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(o,l){var u;if(n[o].isActive===l)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(o,l)}),n[o].isActive=l;const h=A(o);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:A,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=wb(),r=!0}}}function uG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eN(e,t):!1}function wA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wb(){return{animate:wA(!0),whileInView:wA(),whileHover:wA(),whileTap:wA(),whileDrag:wA(),whileFocus:wA(),exit:wA()}}class hA{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dG extends hA{constructor(e){super(e),e.animationState||(e.animationState=cG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let hG=0;class fG extends hA{constructor(){super(...arguments),this.id=hG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pG={animation:{Feature:dG},exit:{Feature:fG}};function vu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function od(t){return{point:{x:t.pageX,y:t.pageY}}}const gG=t=>e=>Ix(e)&&t(e,od(e));function Fc(t,e,n,r){return vu(t,e,gG(n),r)}const Bb=(t,e)=>Math.abs(t-e);function mG(t,e){const n=Bb(t.x,e.x),r=Bb(t.y,e.y);return Math.sqrt(n**2+r**2)}class VN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=a0(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=mG(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:m}=h,{timestamp:y}=Wt;this.history.push({...m,timestamp:y});const{onStart:C,onMove:x}=this.handlers;f||(C&&C(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=A0(f,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=a0(h.type==="pointercancel"?this.lastMoveEventInfo:A0(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,C),m&&m(h,C)},!Ix(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const A=od(e),a=A0(A,this.transformPagePoint),{point:o}=a,{timestamp:l}=Wt;this.history=[{...o,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,a0(a,this.history)),this.removeListeners=ad(Fc(this.contextWindow,"pointermove",this.handlePointerMove),Fc(this.contextWindow,"pointerup",this.handlePointerUp),Fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yi(this.updatePoint)}}function A0(t,e){return e?{point:e(t.point)}:t}function xb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function a0({point:t},e){return{point:t,delta:xb(t,HN(e)),offset:xb(t,yG(e)),velocity:vG(e,.1)}}function yG(t){return t[0]}function HN(t){return t[t.length-1]}function vG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=HN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Qs(e)));)n--;if(!r)return{x:0,y:0};const i=Ns(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const A={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}const KN=1e-4,wG=1-KN,BG=1+KN,zN=.01,xG=0-zN,CG=0+zN;function tr(t){return t.max-t.min}function EG(t,e,n){return Math.abs(t-e)<=n}function Cb(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=tr(n)/tr(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wG&&t.scale<=BG||isNaN(t.scale))&&(t.scale=1),(t.translate>=xG&&t.translate<=CG||isNaN(t.translate))&&(t.translate=0)}function Uc(t,e,n,r){Cb(t.x,e.x,n.x,r?r.originX:void 0),Cb(t.y,e.y,n.y,r?r.originY:void 0)}function Eb(t,e,n){t.min=n.min+e.min,t.max=t.min+tr(e)}function _G(t,e,n){Eb(t.x,e.x,n.x),Eb(t.y,e.y,n.y)}function _b(t,e,n){t.min=e.min-n.min,t.max=t.min+tr(e)}function Sc(t,e,n){_b(t.x,e.x,n.x),_b(t.y,e.y,n.y)}function bG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function bb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IG(t,{top:e,left:n,bottom:r,right:s}){return{x:bb(t.x,n,s),y:bb(t.y,e,r)}}function Ib(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function TG(t,e){return{x:Ib(t.x,e.x),y:Ib(t.y,e.y)}}function FG(t,e){let n=.5;const r=tr(t),s=tr(e);return s>r?n=Lo(e.min,e.max-r,t.min):r>s&&(n=Lo(t.min,t.max-s,e.min)),Ws(0,1,n)}function UG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ev=.35;function SG(t=Ev){return t===!1?t=0:t===!0&&(t=Ev),{x:Tb(t,"left","right"),y:Tb(t,"top","bottom")}}function Tb(t,e,n){return{min:Fb(t,e),max:Fb(t,n)}}function Fb(t,e){return typeof t=="number"?t:t[e]||0}const Ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),eo=()=>({x:Ub(),y:Ub()}),Sb=()=>({min:0,max:0}),xt=()=>({x:Sb(),y:Sb()});function ar(t){return[t("x"),t("y")]}function GN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function QG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function o0(t){return t===void 0||t===1}function _v({scale:t,scaleX:e,scaleY:n}){return!o0(t)||!o0(e)||!o0(n)}function _A(t){return _v(t)||WN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function WN(t){return Qb(t.x)||Qb(t.y)}function Qb(t){return t&&t!=="0%"}function op(t,e,n){const r=t-n,s=e*r;return n+s}function Nb(t,e,n,r,s){return s!==void 0&&(t=op(t,s,r)),op(t,n,r)+e}function bv(t,e=0,n=1,r,s){t.min=Nb(t.min,e,n,r,s),t.max=Nb(t.max,e,n,r,s)}function $N(t,{x:e,y:n}){bv(t.x,e.translate,e.scale,e.originPoint),bv(t.y,n.translate,n.scale,n.originPoint)}const kb=.999999999999,Rb=1.0000000000001;function kG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,A;for(let a=0;a<s;a++){i=n[a],A=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&no(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,$N(t,A)),r&&_A(i.latestValues)&&no(t,i.latestValues))}e.x<Rb&&e.x>kb&&(e.x=1),e.y<Rb&&e.y>kb&&(e.y=1)}function to(t,e){t.min=t.min+e,t.max=t.max+e}function Db(t,e,n,r,s=.5){const i=dt(t.min,t.max,s);bv(t,e,n,i,r)}function no(t,e){Db(t.x,e.x,e.scaleX,e.scale,e.originX),Db(t.y,e.y,e.scaleY,e.scale,e.originY)}function qN(t,e){return GN(NG(t.getBoundingClientRect(),e))}function RG(t,e,n){const r=qN(t,n),{scroll:s}=e;return s&&(to(r.x,s.offset.x),to(r.y,s.offset.y)),r}const XN=({current:t})=>t?t.ownerDocument.defaultView:null,DG=new WeakMap;class PG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(od(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Uz(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ar(C=>{let x=this.getAxisMotionValue(C).get()||0;if(ns.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[C];w&&(x=tr(w)*(parseFloat(x)/100))}}this.originPoint[C]=x}),m&&it.postRender(()=>m(u,h)),gv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},A=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:C}=h;if(g&&this.currentDirection===null){this.currentDirection=LG(C),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),o=()=>ar(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new VN(e,{onSessionStart:s,onStart:i,onMove:A,onSessionEnd:a,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:XN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&it.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!rh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let A=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(A=bG(A,this.constraints[e],this.elastic[e])),i.set(A)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ja(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=IG(s.layoutBox,n):this.constraints=!1,this.elastic=SG(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ar(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=UG(s.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ja(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=RG(r,s.root,this.visualElement.getTransformPagePoint());let A=TG(s.layout.layoutBox,i);if(n){const a=n(QG(A));this.hasMutatedConstraints=!!a,a&&(A=GN(a))}return A}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:A,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=ar(u=>{if(!rh(u,n,this.currentDirection))return;let h=o&&o[u]||{};A&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gv(this.visualElement,e),r.start(Mx(e,r,0,n,this.visualElement,!1))}stopAnimation(){ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ar(n=>{const{drag:r}=this.getProps();if(!rh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:A,max:a}=s.layout.layoutBox[n];i.set(e[n]-dt(A,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ja(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ar(A=>{const a=this.getAxisMotionValue(A);if(a&&this.constraints!==!1){const o=a.get();s[A]=FG({min:o,max:o},this.constraints[A])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ar(A=>{if(!rh(A,e,null))return;const a=this.getAxisMotionValue(A),{min:o,max:l}=this.constraints[A];a.set(dt(o,l,s[A]))})}addListeners(){if(!this.visualElement.current)return;DG.set(this.visualElement,this);const e=this.visualElement.current,n=Fc(e,"pointerdown",o=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();Ja(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),it.read(r);const A=vu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:o,hasLayoutChanged:l})=>{this.isDragging&&l&&(ar(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=o[u].translate,h.set(h.get()+o[u].translate))}),this.visualElement.render())});return()=>{A(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:A=Ev,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:A,dragMomentum:a}}}function rh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MG extends hA{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new PG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pb=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class OG extends hA{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new VN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Pb(e),onStart:Pb(n),onMove:r,onEnd:(i,A)=>{delete this.session,s&&it.postRender(()=>s(i,A))}}}mount(){this.removePointerDownListener=Fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=Lb(t,e.target.x),r=Lb(t,e.target.y);return`${n}% ${r}%`}},jG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ji.parse(t);if(s.length>5)return r;const i=Ji.createTransformer(t),A=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,o=n.y.scale*e.y;s[0+A]/=a,s[1+A]/=o;const l=dt(a,o,.5);return typeof s[2+A]=="number"&&(s[2+A]/=l),typeof s[3+A]=="number"&&(s[3+A]/=l),i(s)}};class VG extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;lz(HG),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,A=r.projection;return A&&(A.isPresent=i,s||e.layoutDependency!==n||n===void 0?A.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?A.promote():A.relegate()||it.postRender(()=>{const a=A.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YN(t){const[e,n]=k2(),r=S.useContext(Ax);return c.jsx(VG,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(j2),isPresent:e,safeToRemove:n})}const HG={borderRadius:{...Nl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nl,borderTopRightRadius:Nl,borderBottomLeftRadius:Nl,borderBottomRightRadius:Nl,boxShadow:jG};function KG(t,e,n){const r=mn(t)?t:mu(t);return r.start(Mx("",r,e,n)),r.animation}function zG(t){return t instanceof SVGElement&&t.tagName!=="svg"}const GG=(t,e)=>t.depth-e.depth;class WG{constructor(){this.children=[],this.isDirty=!1}add(e){Tx(this.children,e),this.isDirty=!0}remove(e){Fx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GG),this.isDirty=!1,this.children.forEach(e)}}function $G(t,e){const n=rs.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Yi(r),t(i-e))};return it.read(r,!0),()=>Yi(r)}const JN=["TopLeft","TopRight","BottomLeft","BottomRight"],qG=JN.length,Mb=t=>typeof t=="string"?parseFloat(t):t,Ob=t=>typeof t=="number"||me.test(t);function XG(t,e,n,r,s,i){s?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,YG(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,JG(r))):i&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let A=0;A<qG;A++){const a=`border${JN[A]}Radius`;let o=jb(e,a),l=jb(n,a);if(o===void 0&&l===void 0)continue;o||(o=0),l||(l=0),o===0||l===0||Ob(o)===Ob(l)?(t[a]=Math.max(dt(Mb(o),Mb(l),r),0),(ns.test(l)||ns.test(o))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function jb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YG=ZN(0,.5,mN),JG=ZN(.5,.95,Xn);function ZN(t,e,n){return r=>r<t?0:r>e?1:n(Lo(t,e,r))}function Vb(t,e){t.min=e.min,t.max=e.max}function ir(t,e){Vb(t.x,e.x),Vb(t.y,e.y)}function Hb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Kb(t,e,n,r,s){return t-=e,t=op(t,1/n,r),s!==void 0&&(t=op(t,1/s,r)),t}function ZG(t,e=0,n=1,r=.5,s,i=t,A=t){if(ns.test(e)&&(e=parseFloat(e),e=dt(A.min,A.max,e/100)-A.min),typeof e!="number")return;let a=dt(i.min,i.max,r);t===i&&(a-=e),t.min=Kb(t.min,e,n,a,s),t.max=Kb(t.max,e,n,a,s)}function zb(t,e,[n,r,s],i,A){ZG(t,e[n],e[r],e[s],e.scale,i,A)}const e8=["x","scaleX","originX"],t8=["y","scaleY","originY"];function Gb(t,e,n,r){zb(t.x,e,e8,n?n.x:void 0,r?r.x:void 0),zb(t.y,e,t8,n?n.y:void 0,r?r.y:void 0)}function Wb(t){return t.translate===0&&t.scale===1}function ek(t){return Wb(t.x)&&Wb(t.y)}function $b(t,e){return t.min===e.min&&t.max===e.max}function n8(t,e){return $b(t.x,e.x)&&$b(t.y,e.y)}function qb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tk(t,e){return qb(t.x,e.x)&&qb(t.y,e.y)}function Xb(t){return tr(t.x)/tr(t.y)}function Yb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class r8{constructor(){this.members=[]}add(e){Tx(this.members,e),e.scheduleRender()}remove(e){if(Fx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function s8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,A=(n==null?void 0:n.z)||0;if((s||i||A)&&(r=`translate3d(${s}px, ${i}px, ${A}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:m}=n;l&&(r=`perspective(${l}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const bA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ec=typeof window<"u"&&window.MotionDebug!==void 0,l0=["","X","Y","Z"],i8={visibility:"hidden"},Jb=1e3;let A8=0;function c0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nk(r)}function rk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(A={},a=e==null?void 0:e()){this.id=A8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ec&&(bA.totalNodes=bA.resolvedTargetDeltas=bA.recalculatedProjection=0),this.nodes.forEach(l8),this.nodes.forEach(f8),this.nodes.forEach(p8),this.nodes.forEach(c8),ec&&window.MotionDebug.record(bA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new WG)}addEventListener(A,a){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new Ux),this.eventHandlers.get(A).add(a)}notifyListeners(A,...a){const o=this.eventHandlers.get(A);o&&o.notify(...a)}hasListeners(A){return this.eventHandlers.has(A)}mount(A,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zG(A),this.instance=A;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||o)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(A,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=$G(f,250),Jh.hasAnimatedSinceResize&&(Jh.hasAnimatedSinceResize=!1,this.nodes.forEach(eI))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||w8,{onLayoutAnimationStart:C,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!tk(this.targetLayout,m)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const F={...Ex(y,"layout"),onPlay:C,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else f||eI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g8),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zb);return}this.isUpdating||this.nodes.forEach(d8),this.isUpdating=!1,this.nodes.forEach(h8),this.nodes.forEach(a8),this.nodes.forEach(o8),this.clearAllSnapshots();const a=rs.now();Wt.delta=Ws(0,1e3/60,a-Wt.timestamp),Wt.timestamp=a,Wt.isProcessing=!0,e0.update.process(Wt),e0.preRender.process(Wt),e0.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u8),this.sharedNodes.forEach(m8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(a=!1),a){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!s)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ek(this.projectionDelta),o=this.getTransformTemplate(),l=o?o(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;A&&(a||_A(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return A&&(o=this.removeTransform(o)),B8(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var A;const{visualElement:a}=this.options;if(!a)return xt();const o=a.measureViewportBox();if(!(((A=this.scroll)===null||A===void 0?void 0:A.wasRoot)||this.path.some(x8))){const{scroll:u}=this.root;u&&(to(o.x,u.offset.x),to(o.y,u.offset.y))}return o}removeElementScroll(A){var a;const o=xt();if(ir(o,A),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ir(o,A),to(o.x,h.offset.x),to(o.y,h.offset.y))}return o}applyTransform(A,a=!1){const o=xt();ir(o,A);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&no(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),_A(u.latestValues)&&no(o,u.latestValues)}return _A(this.latestValues)&&no(o,this.latestValues),o}removeTransform(A){const a=xt();ir(a,A);for(let o=0;o<this.path.length;o++){const l=this.path[o];if(!l.instance||!_A(l.latestValues))continue;_v(l.latestValues)&&l.updateSnapshot();const u=xt(),h=l.measurePageBox();ir(u,h),Gb(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return _A(this.latestValues)&&Gb(a,this.latestValues),a}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var a;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(A||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),Sc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_G(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),$N(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),Sc(this.relativeTargetOrigin,this.target,g.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ec&&bA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||_v(this.parent.latestValues)||WN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((A=this.parent)===null||A===void 0)&&A.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ir(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;kG(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hb(this.prevProjectionDelta.x,this.projectionDelta.x),Hb(this.prevProjectionDelta.y,this.projectionDelta.y)),Uc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!Yb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Yb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ec&&bA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),A){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eo(),this.projectionDelta=eo(),this.projectionDeltaWithTransform=eo()}setAnimationOrigin(A,a=!1){const o=this.snapshot,l=o?o.latestValues:{},u={...this.latestValues},h=eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=xt(),g=o?o.source:void 0,m=this.layout?this.layout.source:void 0,y=g!==m,C=this.getStack(),x=!C||C.members.length<=1,v=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(v8));this.animationProgress=0;let w;this.mixTargetDelta=F=>{const Q=F/1e3;tI(h.x,A.x,Q),tI(h.y,A.y,Q),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),y8(this.relativeTarget,this.relativeTargetOrigin,f,Q),w&&n8(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=xt()),ir(w,this.relativeTarget)),y&&(this.animationValues=u,XG(u,l,this.latestValues,Q,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Jh.hasAnimatedSinceResize=!0,this.currentAnimation=KG(0,Jb,{...A,onUpdate:a=>{this.mixTargetDelta(a),A.onUpdate&&A.onUpdate(a)},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:a,target:o,layout:l,latestValues:u}=A;if(!(!a||!o||!l)){if(this!==A&&this.layout&&l&&sk(this.options.animationType,this.layout.layoutBox,l.layoutBox)){o=this.target||xt();const h=tr(this.layout.layoutBox.x);o.x.min=A.target.x.min,o.x.max=o.x.min+h;const f=tr(this.layout.layoutBox.y);o.y.min=A.target.y.min,o.y.max=o.y.min+f}ir(a,o),no(a,u),Uc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(A,a){this.sharedNodes.has(A)||this.sharedNodes.set(A,new r8),this.sharedNodes.get(A).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var A;const{layoutId:a}=this.options;return a?((A=this.getStack())===null||A===void 0?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:a}=this.options;return a?(A=this.getStack())===null||A===void 0?void 0:A.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:a,preserveFollowOpacity:o}={}){const l=this.getStack();l&&l.promote(this,o),A&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let a=!1;const{latestValues:o}=A;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const l={};o.z&&c0("z",A,l,this.animationValues);for(let u=0;u<l0.length;u++)c0(`rotate${l0[u]}`,A,l,this.animationValues),c0(`skew${l0[u]}`,A,l,this.animationValues);A.render();for(const u in l)A.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);A.scheduleRender()}getProjectionStyles(A){var a,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return i8;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Xh(A==null?void 0:A.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Xh(A==null?void 0:A.pointerEvents)||""),this.hasProjected&&!_A(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=s8(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:g,y:m}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(o=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in rp){if(f[y]===void 0)continue;const{correct:C,applyTo:x}=rp[y],v=l.transform==="none"?f[y]:C(f[y],h);if(x){const w=x.length;for(let F=0;F<w;F++)l[x[F]]=v}else l[y]=v}return this.options.layoutId&&(l.pointerEvents=h===this?Xh(A==null?void 0:A.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var a;return(a=A.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Zb),this.root.sharedNodes.clear()}}}function a8(t){t.updateLayout()}function o8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,A=n.source!==t.layout.source;i==="size"?ar(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=tr(f);f.min=r[h].min,f.max=f.min+g}):sk(i,n.layoutBox,r)&&ar(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=tr(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=eo();Uc(a,r,n.layoutBox);const o=eo();A?Uc(o,t.applyTransform(s,!0),n.measuredBox):Uc(o,r,n.layoutBox);const l=!ek(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const m=xt();Sc(m,n.layoutBox,f.layoutBox);const y=xt();Sc(y,r,g.layoutBox),tk(m,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function l8(t){ec&&bA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u8(t){t.clearSnapshot()}function Zb(t){t.clearMeasurements()}function d8(t){t.isLayoutDirty=!1}function h8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function eI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function f8(t){t.resolveTargetDelta()}function p8(t){t.calcProjection()}function g8(t){t.resetSkewAndRotation()}function m8(t){t.removeLeadSnapshot()}function tI(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nI(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function y8(t,e,n,r){nI(t.x,e.x,n.x,r),nI(t.y,e.y,n.y,r)}function v8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const w8={duration:.45,ease:[.4,0,.1,1]},rI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sI=rI("applewebkit/")&&!rI("chrome/")?Math.round:Xn;function iI(t){t.min=sI(t.min),t.max=sI(t.max)}function B8(t){iI(t.x),iI(t.y)}function sk(t,e,n){return t==="position"||t==="preserve-aspect"&&!EG(Xb(e),Xb(n),.2)}function x8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const C8=rk({attachResizeListener:(t,e)=>vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),u0={current:void 0},ik=rk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!u0.current){const t=new C8({});t.mount(window),t.setOptions({layoutScroll:!0}),u0.current=t}return u0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E8={pan:{Feature:OG},drag:{Feature:MG,ProjectionNode:ik,MeasureLayout:YN}};function AI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&it.postRender(()=>i(e,od(e)))}class _8 extends hA{mount(){const{current:e}=this.node;e&&(this.unmount=_z(e,n=>(AI(this.node,n,"Start"),r=>AI(this.node,r,"End"))))}unmount(){}}class b8 extends hA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ad(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aI(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&it.postRender(()=>i(e,od(e)))}class I8 extends hA{mount(){const{current:e}=this.node;e&&(this.unmount=Fz(e,n=>(aI(this.node,n,"Start"),(r,{success:s})=>aI(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Iv=new WeakMap,d0=new WeakMap,T8=t=>{const e=Iv.get(t.target);e&&e(t)},F8=t=>{t.forEach(T8)};function U8({root:t,...e}){const n=t||document;d0.has(n)||d0.set(n,{});const r=d0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(F8,{root:t,...e})),r[s]}function S8(t,e,n){const r=U8(e);return Iv.set(t,n),r.observe(t),()=>{Iv.delete(t),r.unobserve(t)}}const Q8={some:0,all:1};class N8 extends hA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,A={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Q8[s]},a=o=>{const{isIntersecting:l}=o;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=l?u:h;f&&f(o)};return S8(this.node.current,A,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k8(e,n))&&this.startObserver()}unmount(){}}function k8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R8={inView:{Feature:N8},tap:{Feature:I8},focus:{Feature:b8},hover:{Feature:_8}},D8={layout:{ProjectionNode:ik,MeasureLayout:YN}},Tv={current:null},Ak={current:!1};function P8(){if(Ak.current=!0,!!lx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tv.current=t.matches;t.addListener(e),e()}else Tv.current=!1}const L8=[...SN,dn,Ji],M8=t=>L8.find(UN(t)),oI=new WeakMap;function O8(t,e,n){for(const r in e){const s=e[r],i=n[r];if(mn(s))t.addValue(r,s);else if(mn(i))t.addValue(r,mu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const A=t.getValue(r);A.liveStyle===!0?A.jump(s):A.hasAnimated||A.set(s)}else{const A=t.getStaticValue(r);t.addValue(r,mu(A!==void 0?A:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const lI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:A},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=rs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,it.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:u}=A;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Lg(n),this.isVariantNode=M2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];o[g]!==void 0&&mn(m)&&m.set(o[g],!1)}}mount(e){this.current=e,oI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ak.current||P8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){oI.delete(this.current),this.projection&&this.projection.unmount(),Yi(this.notifyUpdate),Yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=da.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let A;window.MotionCheckAppearSync&&(A=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),A&&A(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mo){const n=Mo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lI.length;r++){const s=lI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,A=e[i];A&&(this.propEventSubscriptions[s]=this.on(s,A))}this.prevMotionValues=O8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(TN(s)||vN(s))?s=parseFloat(s):!M8(s)&&Ji.test(n)&&(s=_N(e,n)),this.setBaseTarget(e,mn(s)?s.get():s)),mn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const A=gx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);A&&(s=A[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!mn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ux),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ak extends j8{constructor(){super(...arguments),this.KeyframeResolver=QN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function V8(t){return window.getComputedStyle(t)}class H8 extends ak{constructor(){super(...arguments),this.type="html",this.renderInstance=$2}readValueFromInstance(e,n){if(da.has(n)){const r=Rx(n);return r&&r.default||0}else{const r=V8(e),s=(z2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qN(e,n)}build(e,n,r){vx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Cx(e,n,r)}}class K8 extends ak{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(da.has(n)){const r=Rx(n);return r&&r.default||0}return n=q2.has(n)?n:hx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return J2(e,n,r)}build(e,n,r){wx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){X2(e,n,r,s)}mount(e){this.isSVGTag=xx(e.tagName),super.mount(e)}}const z8=(t,e)=>px(t)?new K8(e):new H8(e,{allowProjection:t!==S.Fragment}),G8=yz({...pG,...R8,...E8,...D8},z8),X=N6(G8),W8=({isOpen:t,onClose:e,onSuccess:n})=>{const r=Yo(),[s,i]=S.useState(ep),[A,a]=S.useState(""),[o,l]=S.useState(!1),[u,h]=S.useState(null),f=async g=>{g.preventDefault(),l(!0),h(null);try{await q5(s,A),n&&n(),e(),r("/dashboard")}catch(m){console.error("Auth error:",m),h(X5(m))}finally{l(!1)}};return c.jsx(Fn,{children:t&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(er,{size:24})}),c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(K1,{className:"text-[--theater-gold]"}),"Admin Login"]}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded flex items-center gap-2",children:[c.jsx(Kt,{size:20}),u]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{id:"email",type:"email",value:s,readOnly:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white opacity-50"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{id:"password",type:"password",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),"Accesso in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(K1,{size:20}),"Accedi"]})})]})]})})})},$8=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),s=oA(),{user:i,isAdmin:A}=Zs(),a=[{path:"/",label:"Home",icon:T2,public:!0},{path:"/prenota",label:"Prenotazioni",icon:Tn,public:!0},{path:"/dashboard",label:"Dashboard",icon:Ei,adminOnly:!0}].filter(o=>o.public||o.adminOnly&&A);return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:[c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx(ho,{to:"/",className:"text-2xl font-marquee text-[--theater-gold]",children:"Carnevale"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.map(({path:o,label:l,icon:u})=>c.jsxs(ho,{to:o,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s.pathname===o?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[c.jsx(u,{size:18}),c.jsx("span",{children:l})]},o)),!i&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(Ei,{size:18}),c.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})]}),c.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-400 hover:text-white",children:t?c.jsx(er,{size:24}):c.jsx(F2,{size:24})})]})]})}),c.jsx(Fn,{children:t&&c.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-gray-800 border-t border-gray-700",children:c.jsx("div",{className:"container mx-auto px-4 py-2",children:a.map(({path:o,label:l,icon:u})=>c.jsxs(ho,{to:o,onClick:()=>e(!1),className:"flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg",children:[c.jsx(u,{size:20}),c.jsx("span",{children:l})]},o))})})})]}),c.jsx(W8,{isOpen:n,onClose:()=>r(!1)})]})},q8=()=>c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx($8,{}),c.jsx(X.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-8",children:c.jsx(AS,{})})]});var ld=t=>t.type==="checkbox",kA=t=>t instanceof Date,En=t=>t==null;const ok=t=>typeof t=="object";var It=t=>!En(t)&&!Array.isArray(t)&&ok(t)&&!kA(t),X8=t=>It(t)&&t.target?ld(t.target)?t.target.checked:t.target.value:t,Y8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,J8=(t,e)=>t.has(Y8(e)),Z8=t=>{const e=t.constructor&&t.constructor.prototype;return It(e)&&e.hasOwnProperty("isPrototypeOf")},Ox=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ar(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ox&&(t instanceof Blob||r))&&(n||It(t)))if(e=n?[]:{},!n&&!Z8(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Ar(t[s]));else return t;return e}var jg=t=>Array.isArray(t)?t.filter(Boolean):[],Ut=t=>t===void 0,oe=(t,e,n)=>{if(!e||!It(t))return n;const r=jg(e.split(/[,[\].]+?/)).reduce((s,i)=>En(s)?s:s[i],t);return Ut(r)||r===t?Ut(t[e])?n:t[e]:r},Kr=t=>typeof t=="boolean",jx=t=>/^\w*$/.test(t),lk=t=>jg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),We=(t,e,n)=>{let r=-1;const s=jx(e)?[e]:lk(e),i=s.length,A=i-1;for(;++r<i;){const a=s[r];let o=n;if(r!==A){const l=t[a];o=It(l)||Array.isArray(l)?l:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=o,t=t[a]}return t};const cI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};pe.createContext(null);var e7=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const A=i;return e._proxyFormState[A]!==Ir.all&&(e._proxyFormState[A]=!r||Ir.all),t[A]}});return s},Nn=t=>It(t)&&!Object.keys(t).length,t7=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Nn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(A=>e[A]===Ir.all)},Zh=t=>Array.isArray(t)?t:[t];function n7(t){const e=pe.useRef(t);e.current=t,pe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var qr=t=>typeof t=="string",r7=(t,e,n,r,s)=>qr(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n),ck=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},uI=t=>({isOnSubmit:!t||t===Ir.onSubmit,isOnBlur:t===Ir.onBlur,isOnChange:t===Ir.onChange,isOnAll:t===Ir.all,isOnTouch:t===Ir.onTouched}),dI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Qc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:A,...a}=i;if(A){if(A.refs&&A.refs[0]&&e(A.refs[0],s)&&!r)return!0;if(A.ref&&e(A.ref,A.name)&&!r)return!0;if(Qc(a,e))break}else if(It(a)&&Qc(a,e))break}}};var s7=(t,e,n)=>{const r=Zh(oe(t,n));return We(r,"root",e[n]),We(t,n,r),t},Vx=t=>t.type==="file",Gr=t=>typeof t=="function",lp=t=>{if(!Ox)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ef=t=>qr(t),Hx=t=>t.type==="radio",cp=t=>t instanceof RegExp;const hI={value:!1,isValid:!1},fI={value:!0,isValid:!0};var uk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ut(t[0].attributes.value)?Ut(t[0].value)||t[0].value===""?fI:{value:t[0].value,isValid:!0}:fI:hI}return hI};const pI={isValid:!1,value:null};var dk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pI):pI;function gI(t,e,n="validate"){if(ef(t)||Array.isArray(t)&&t.every(ef)||Kr(t)&&!t)return{type:n,message:ef(t)?t:"",ref:e}}var Ca=t=>It(t)&&!cp(t)?t:{value:t,message:""},mI=async(t,e,n,r,s,i)=>{const{ref:A,refs:a,required:o,maxLength:l,minLength:u,min:h,max:f,pattern:g,validate:m,name:y,valueAsNumber:C,mount:x}=t._f,v=oe(n,y);if(!x||e.has(y))return{};const w=a?a[0]:A,F=R=>{s&&w.reportValidity&&(w.setCustomValidity(Kr(R)?"":R||""),w.reportValidity())},Q={},k=Hx(A),I=ld(A),E=k||I,b=(C||Vx(A))&&Ut(A.value)&&Ut(v)||lp(A)&&A.value===""||v===""||Array.isArray(v)&&!v.length,_=ck.bind(null,y,r,Q),N=(R,T,J,ie=ms.maxLength,V=ms.minLength)=>{const q=R?T:J;Q[y]={type:R?ie:V,message:q,ref:A,..._(R?ie:V,q)}};if(i?!Array.isArray(v)||!v.length:o&&(!E&&(b||En(v))||Kr(v)&&!v||I&&!uk(a).isValid||k&&!dk(a).isValid)){const{value:R,message:T}=ef(o)?{value:!!o,message:o}:Ca(o);if(R&&(Q[y]={type:ms.required,message:T,ref:w,..._(ms.required,T)},!r))return F(T),Q}if(!b&&(!En(h)||!En(f))){let R,T;const J=Ca(f),ie=Ca(h);if(!En(v)&&!isNaN(v)){const V=A.valueAsNumber||v&&+v;En(J.value)||(R=V>J.value),En(ie.value)||(T=V<ie.value)}else{const V=A.valueAsDate||new Date(v),q=z=>new Date(new Date().toDateString()+" "+z),P=A.type=="time",K=A.type=="week";qr(J.value)&&v&&(R=P?q(v)>q(J.value):K?v>J.value:V>new Date(J.value)),qr(ie.value)&&v&&(T=P?q(v)<q(ie.value):K?v<ie.value:V<new Date(ie.value))}if((R||T)&&(N(!!R,J.message,ie.message,ms.max,ms.min),!r))return F(Q[y].message),Q}if((l||u)&&!b&&(qr(v)||i&&Array.isArray(v))){const R=Ca(l),T=Ca(u),J=!En(R.value)&&v.length>+R.value,ie=!En(T.value)&&v.length<+T.value;if((J||ie)&&(N(J,R.message,T.message),!r))return F(Q[y].message),Q}if(g&&!b&&qr(v)){const{value:R,message:T}=Ca(g);if(cp(R)&&!v.match(R)&&(Q[y]={type:ms.pattern,message:T,ref:A,..._(ms.pattern,T)},!r))return F(T),Q}if(m){if(Gr(m)){const R=await m(v,n),T=gI(R,w);if(T&&(Q[y]={...T,..._(ms.validate,T.message)},!r))return F(T.message),Q}else if(It(m)){let R={};for(const T in m){if(!Nn(R)&&!r)break;const J=gI(await m[T](v,n),w,T);J&&(R={...J,..._(T,J.message)},F(J.message),r&&(Q[y]=R))}if(!Nn(R)&&(Q[y]={ref:w,...R},!r))return Q}}return F(!0),Q};function i7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ut(t)?r++:t[e[r++]];return t}function A7(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ut(t[e]))return!1;return!0}function kt(t,e){const n=Array.isArray(e)?e:jx(e)?[e]:lk(e),r=n.length===1?t:i7(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(It(r)&&Nn(r)||Array.isArray(r)&&A7(r))&&kt(t,n.slice(0,-1)),t}var h0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Fv=t=>En(t)||!ok(t);function vi(t,e){if(Fv(t)||Fv(e))return t===e;if(kA(t)&&kA(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const A=e[s];if(kA(i)&&kA(A)||It(i)&&It(A)||Array.isArray(i)&&Array.isArray(A)?!vi(i,A):i!==A)return!1}}return!0}var hk=t=>t.type==="select-multiple",a7=t=>Hx(t)||ld(t),f0=t=>lp(t)&&t.isConnected,fk=t=>{for(const e in t)if(Gr(t[e]))return!0;return!1};function up(t,e={}){const n=Array.isArray(t);if(It(t)||n)for(const r in t)Array.isArray(t[r])||It(t[r])&&!fk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},up(t[r],e[r])):En(t[r])||(e[r]=!0);return e}function pk(t,e,n){const r=Array.isArray(t);if(It(t)||r)for(const s in t)Array.isArray(t[s])||It(t[s])&&!fk(t[s])?Ut(e)||Fv(n[s])?n[s]=Array.isArray(t[s])?up(t[s],[]):{...up(t[s])}:pk(t[s],En(e)?{}:e[s],n[s]):n[s]=!vi(t[s],e[s]);return n}var kl=(t,e)=>pk(t,e,up(e)),gk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ut(t)?t:e?t===""?NaN:t&&+t:n&&qr(t)?new Date(t):r?r(t):t;function p0(t){const e=t.ref;return Vx(e)?e.files:Hx(e)?dk(t.refs).value:hk(e)?[...e.selectedOptions].map(({value:n})=>n):ld(e)?uk(t.refs).value:gk(Ut(e.value)?t.ref.value:e.value,t)}var o7=(t,e,n,r)=>{const s={};for(const i of t){const A=oe(e,i);A&&We(s,i,A._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Rl=t=>Ut(t)?t:cp(t)?t.source:It(t)?cp(t.value)?t.value.source:t.value:t;const yI="AsyncFunction";var l7=t=>!!t&&!!t.validate&&!!(Gr(t.validate)&&t.validate.constructor.name===yI||It(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===yI)),c7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function vI(t,e,n){const r=oe(t,n);if(r||jx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),A=oe(e,i),a=oe(t,i);if(A&&!Array.isArray(A)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var u7=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,d7=(t,e)=>!jg(oe(t,e)).length&&kt(t,e);const h7={mode:Ir.onSubmit,reValidateMode:Ir.onChange,shouldFocusError:!0};function f7(t={}){let e={...h7,...t},n={submitCount:0,isDirty:!1,isLoading:Gr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=It(e.defaultValues)||It(e.values)?Ar(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ar(s),A={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,l=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:h0(),array:h0(),state:h0()},f=uI(e.mode),g=uI(e.reValidateMode),m=e.criteriaMode===Ir.all,y=D=>M=>{clearTimeout(l),l=setTimeout(D,M)},C=async D=>{if(!e.disabled&&(u.isValid||D)){const M=e.resolver?Nn((await E()).errors):await _(r,!0);M!==n.isValid&&h.state.next({isValid:M})}},x=(D,M)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((D||Array.from(a.mount)).forEach(j=>{j&&(M?We(n.validatingFields,j,M):kt(n.validatingFields,j))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Nn(n.validatingFields)}))},v=(D,M=[],j,ne,ee=!0,Y=!0)=>{if(ne&&j&&!e.disabled){if(A.action=!0,Y&&Array.isArray(oe(r,D))){const he=j(oe(r,D),ne.argA,ne.argB);ee&&We(r,D,he)}if(Y&&Array.isArray(oe(n.errors,D))){const he=j(oe(n.errors,D),ne.argA,ne.argB);ee&&We(n.errors,D,he),d7(n.errors,D)}if(u.touchedFields&&Y&&Array.isArray(oe(n.touchedFields,D))){const he=j(oe(n.touchedFields,D),ne.argA,ne.argB);ee&&We(n.touchedFields,D,he)}u.dirtyFields&&(n.dirtyFields=kl(s,i)),h.state.next({name:D,isDirty:R(D,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else We(i,D,M)},w=(D,M)=>{We(n.errors,D,M),h.state.next({errors:n.errors})},F=D=>{n.errors=D,h.state.next({errors:n.errors,isValid:!1})},Q=(D,M,j,ne)=>{const ee=oe(r,D);if(ee){const Y=oe(i,D,Ut(j)?oe(s,D):j);Ut(Y)||ne&&ne.defaultChecked||M?We(i,D,M?Y:p0(ee._f)):ie(D,Y),A.mount&&C()}},k=(D,M,j,ne,ee)=>{let Y=!1,he=!1;const Ie={name:D};if(!e.disabled){const Ne=!!(oe(r,D)&&oe(r,D)._f&&oe(r,D)._f.disabled);if(!j||ne){u.isDirty&&(he=n.isDirty,n.isDirty=Ie.isDirty=R(),Y=he!==Ie.isDirty);const Re=Ne||vi(oe(s,D),M);he=!!(!Ne&&oe(n.dirtyFields,D)),Re||Ne?kt(n.dirtyFields,D):We(n.dirtyFields,D,!0),Ie.dirtyFields=n.dirtyFields,Y=Y||u.dirtyFields&&he!==!Re}if(j){const Re=oe(n.touchedFields,D);Re||(We(n.touchedFields,D,j),Ie.touchedFields=n.touchedFields,Y=Y||u.touchedFields&&Re!==j)}Y&&ee&&h.state.next(Ie)}return Y?Ie:{}},I=(D,M,j,ne)=>{const ee=oe(n.errors,D),Y=u.isValid&&Kr(M)&&n.isValid!==M;if(e.delayError&&j?(o=y(()=>w(D,j)),o(e.delayError)):(clearTimeout(l),o=null,j?We(n.errors,D,j):kt(n.errors,D)),(j?!vi(ee,j):ee)||!Nn(ne)||Y){const he={...ne,...Y&&Kr(M)?{isValid:M}:{},errors:n.errors,name:D};n={...n,...he},h.state.next(he)}},E=async D=>{x(D,!0);const M=await e.resolver(i,e.context,o7(D||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(D),M},b=async D=>{const{errors:M}=await E(D);if(D)for(const j of D){const ne=oe(M,j);ne?We(n.errors,j,ne):kt(n.errors,j)}else n.errors=M;return M},_=async(D,M,j={valid:!0})=>{for(const ne in D){const ee=D[ne];if(ee){const{_f:Y,...he}=ee;if(Y){const Ie=a.array.has(Y.name),Ne=ee._f&&l7(ee._f);Ne&&u.validatingFields&&x([ne],!0);const Re=await mI(ee,a.disabled,i,m,e.shouldUseNativeValidation&&!M,Ie);if(Ne&&u.validatingFields&&x([ne]),Re[Y.name]&&(j.valid=!1,M))break;!M&&(oe(Re,Y.name)?Ie?s7(n.errors,Re,Y.name):We(n.errors,Y.name,Re[Y.name]):kt(n.errors,Y.name))}!Nn(he)&&await _(he,M,j)}}return j.valid},N=()=>{for(const D of a.unMount){const M=oe(r,D);M&&(M._f.refs?M._f.refs.every(j=>!f0(j)):!f0(M._f.ref))&&At(D)}a.unMount=new Set},R=(D,M)=>!e.disabled&&(D&&M&&We(i,D,M),!vi(ge(),s)),T=(D,M,j)=>r7(D,a,{...A.mount?i:Ut(M)?s:qr(D)?{[D]:M}:M},j,M),J=D=>jg(oe(A.mount?i:s,D,e.shouldUnregister?oe(s,D,[]):[])),ie=(D,M,j={})=>{const ne=oe(r,D);let ee=M;if(ne){const Y=ne._f;Y&&(!Y.disabled&&We(i,D,gk(M,Y)),ee=lp(Y.ref)&&En(M)?"":M,hk(Y.ref)?[...Y.ref.options].forEach(he=>he.selected=ee.includes(he.value)):Y.refs?ld(Y.ref)?Y.refs.length>1?Y.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(ee)?!!ee.find(Ie=>Ie===he.value):ee===he.value)):Y.refs[0]&&(Y.refs[0].checked=!!ee):Y.refs.forEach(he=>he.checked=he.value===ee):Vx(Y.ref)?Y.ref.value="":(Y.ref.value=ee,Y.ref.type||h.values.next({name:D,values:{...i}})))}(j.shouldDirty||j.shouldTouch)&&k(D,ee,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&z(D)},V=(D,M,j)=>{for(const ne in M){const ee=M[ne],Y=`${D}.${ne}`,he=oe(r,Y);(a.array.has(D)||It(ee)||he&&!he._f)&&!kA(ee)?V(Y,ee,j):ie(Y,ee,j)}},q=(D,M,j={})=>{const ne=oe(r,D),ee=a.array.has(D),Y=Ar(M);We(i,D,Y),ee?(h.array.next({name:D,values:{...i}}),(u.isDirty||u.dirtyFields)&&j.shouldDirty&&h.state.next({name:D,dirtyFields:kl(s,i),isDirty:R(D,Y)})):ne&&!ne._f&&!En(Y)?V(D,Y,j):ie(D,Y,j),dI(D,a)&&h.state.next({...n}),h.values.next({name:A.mount?D:void 0,values:{...i}})},P=async D=>{A.mount=!0;const M=D.target;let j=M.name,ne=!0;const ee=oe(r,j),Y=()=>M.type?p0(ee._f):X8(D),he=Ie=>{ne=Number.isNaN(Ie)||kA(Ie)&&isNaN(Ie.getTime())||vi(Ie,oe(i,j,Ie))};if(ee){let Ie,Ne;const Re=Y(),Vn=D.type===cI.BLUR||D.type===cI.FOCUS_OUT,fd=!c7(ee._f)&&!e.resolver&&!oe(n.errors,j)&&!ee._f.deps||u7(Vn,oe(n.touchedFields,j),n.isSubmitted,g,f),ga=dI(j,a,Vn);We(i,j,Re),Vn?(ee._f.onBlur&&ee._f.onBlur(D),o&&o(0)):ee._f.onChange&&ee._f.onChange(D);const ll=k(j,Re,Vn,!1),pA=!Nn(ll)||ga;if(!Vn&&h.values.next({name:j,type:D.type,values:{...i}}),fd)return u.isValid&&(e.mode==="onBlur"&&Vn?C():Vn||C()),pA&&h.state.next({name:j,...ga?{}:ll});if(!Vn&&ga&&h.state.next({...n}),e.resolver){const{errors:cl}=await E([j]);if(he(Re),ne){const pd=vI(n.errors,r,j),ma=vI(cl,r,pd.name||j);Ie=ma.error,j=ma.name,Ne=Nn(cl)}}else x([j],!0),Ie=(await mI(ee,a.disabled,i,m,e.shouldUseNativeValidation))[j],x([j]),he(Re),ne&&(Ie?Ne=!1:u.isValid&&(Ne=await _(r,!0)));ne&&(ee._f.deps&&z(ee._f.deps),I(j,Ne,Ie,ll))}},K=(D,M)=>{if(oe(n.errors,M)&&D.focus)return D.focus(),1},z=async(D,M={})=>{let j,ne;const ee=Zh(D);if(e.resolver){const Y=await b(Ut(D)?D:ee);j=Nn(Y),ne=D?!ee.some(he=>oe(Y,he)):j}else D?(ne=(await Promise.all(ee.map(async Y=>{const he=oe(r,Y);return await _(he&&he._f?{[Y]:he}:he)}))).every(Boolean),!(!ne&&!n.isValid)&&C()):ne=j=await _(r);return h.state.next({...!qr(D)||u.isValid&&j!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:j}:{},errors:n.errors}),M.shouldFocus&&!ne&&Qc(r,K,D?ee:a.mount),ne},ge=D=>{const M={...A.mount?i:s};return Ut(D)?M:qr(D)?oe(M,D):D.map(j=>oe(M,j))},we=(D,M)=>({invalid:!!oe((M||n).errors,D),isDirty:!!oe((M||n).dirtyFields,D),error:oe((M||n).errors,D),isValidating:!!oe(n.validatingFields,D),isTouched:!!oe((M||n).touchedFields,D)}),Te=D=>{D&&Zh(D).forEach(M=>kt(n.errors,M)),h.state.next({errors:D?n.errors:{}})},Ke=(D,M,j)=>{const ne=(oe(r,D,{_f:{}})._f||{}).ref,ee=oe(n.errors,D)||{},{ref:Y,message:he,type:Ie,...Ne}=ee;We(n.errors,D,{...Ne,...M,ref:ne}),h.state.next({name:D,errors:n.errors,isValid:!1}),j&&j.shouldFocus&&ne&&ne.focus&&ne.focus()},tt=(D,M)=>Gr(D)?h.values.subscribe({next:j=>D(T(void 0,M),j)}):T(D,M,!0),At=(D,M={})=>{for(const j of D?Zh(D):a.mount)a.mount.delete(j),a.array.delete(j),M.keepValue||(kt(r,j),kt(i,j)),!M.keepError&&kt(n.errors,j),!M.keepDirty&&kt(n.dirtyFields,j),!M.keepTouched&&kt(n.touchedFields,j),!M.keepIsValidating&&kt(n.validatingFields,j),!e.shouldUnregister&&!M.keepDefaultValue&&kt(s,j);h.values.next({values:{...i}}),h.state.next({...n,...M.keepDirty?{isDirty:R()}:{}}),!M.keepIsValid&&C()},gt=({disabled:D,name:M,field:j,fields:ne})=>{(Kr(D)&&A.mount||D||a.disabled.has(M))&&(D?a.disabled.add(M):a.disabled.delete(M),k(M,p0(j?j._f:oe(ne,M)._f),!1,!1,!0))},hs=(D,M={})=>{let j=oe(r,D);const ne=Kr(M.disabled)||Kr(e.disabled);return We(r,D,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:D}},name:D,mount:!0,...M}}),a.mount.add(D),j?gt({field:j,disabled:Kr(M.disabled)?M.disabled:e.disabled,name:D}):Q(D,!0,M.value),{...ne?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Rl(M.min),max:Rl(M.max),minLength:Rl(M.minLength),maxLength:Rl(M.maxLength),pattern:Rl(M.pattern)}:{},name:D,onChange:P,onBlur:P,ref:ee=>{if(ee){hs(D,M),j=oe(r,D);const Y=Ut(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,he=a7(Y),Ie=j._f.refs||[];if(he?Ie.find(Ne=>Ne===Y):Y===j._f.ref)return;We(r,D,{_f:{...j._f,...he?{refs:[...Ie.filter(f0),Y,...Array.isArray(oe(s,D))?[{}]:[]],ref:{type:Y.type,name:D}}:{ref:Y}}}),Q(D,!1,void 0,Y)}else j=oe(r,D,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(J8(a.array,D)&&A.action)&&a.unMount.add(D)}}},ha=()=>e.shouldFocusError&&Qc(r,K,a.mount),fs=D=>{Kr(D)&&(h.state.next({disabled:D}),Qc(r,(M,j)=>{const ne=oe(r,j);ne&&(M.disabled=ne._f.disabled||D,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ee=>{ee.disabled=ne._f.disabled||D}))},0,!1))},Or=(D,M)=>async j=>{let ne;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let ee=Ar(i);if(a.disabled.size)for(const Y of a.disabled)We(ee,Y,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:he}=await E();n.errors=Y,ee=he}else await _(r);if(kt(n.errors,"root"),Nn(n.errors)){h.state.next({errors:{}});try{await D(ee,j)}catch(Y){ne=Y}}else M&&await M({...n.errors},j),ha(),setTimeout(ha);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nn(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},ei=(D,M={})=>{oe(r,D)&&(Ut(M.defaultValue)?q(D,Ar(oe(s,D))):(q(D,M.defaultValue),We(s,D,Ar(M.defaultValue))),M.keepTouched||kt(n.touchedFields,D),M.keepDirty||(kt(n.dirtyFields,D),n.isDirty=M.defaultValue?R(D,Ar(oe(s,D))):R()),M.keepError||(kt(n.errors,D),u.isValid&&C()),h.state.next({...n}))},fa=(D,M={})=>{const j=D?Ar(D):s,ne=Ar(j),ee=Nn(D),Y=ee?s:ne;if(M.keepDefaultValues||(s=j),!M.keepValues){if(M.keepDirtyValues){const he=new Set([...a.mount,...Object.keys(kl(s,i))]);for(const Ie of Array.from(he))oe(n.dirtyFields,Ie)?We(Y,Ie,oe(i,Ie)):q(Ie,oe(Y,Ie))}else{if(Ox&&Ut(D))for(const he of a.mount){const Ie=oe(r,he);if(Ie&&Ie._f){const Ne=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(lp(Ne)){const Re=Ne.closest("form");if(Re){Re.reset();break}}}}r={}}i=e.shouldUnregister?M.keepDefaultValues?Ar(s):{}:Ar(Y),h.array.next({values:{...Y}}),h.values.next({values:{...Y}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},A.mount=!u.isValid||!!M.keepIsValid||!!M.keepDirtyValues,A.watch=!!e.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!vi(D,s)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:M.keepDirtyValues?M.keepDefaultValues&&i?kl(s,i):n.dirtyFields:M.keepDefaultValues&&D?kl(s,D):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},pa=(D,M)=>fa(Gr(D)?D(i):D,M);return{control:{register:hs,unregister:At,getFieldState:we,handleSubmit:Or,setError:Ke,_executeSchema:E,_getWatch:T,_getDirty:R,_updateValid:C,_removeUnmounted:N,_updateFieldArray:v,_updateDisabledField:gt,_getFieldArray:J,_reset:fa,_resetDefaultValues:()=>Gr(e.defaultValues)&&e.defaultValues().then(D=>{pa(D,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:D=>{n={...n,...D}},_disableForm:fs,_subjects:h,_proxyFormState:u,_setErrors:F,get _fields(){return r},get _formValues(){return i},get _state(){return A},set _state(D){A=D},get _defaultValues(){return s},get _names(){return a},set _names(D){a=D},get _formState(){return n},set _formState(D){n=D},get _options(){return e},set _options(D){e={...e,...D}}},trigger:z,register:hs,handleSubmit:Or,watch:tt,setValue:q,getValues:ge,reset:pa,resetField:ei,clearErrors:Te,unregister:At,setError:Ke,setFocus:(D,M={})=>{const j=oe(r,D),ne=j&&j._f;if(ne){const ee=ne.refs?ne.refs[0]:ne.ref;ee.focus&&(ee.focus(),M.shouldSelect&&Gr(ee.select)&&ee.select())}},getFieldState:we}}function mk(t={}){const e=pe.useRef(void 0),n=pe.useRef(void 0),[r,s]=pe.useState({isDirty:!1,isValidating:!1,isLoading:Gr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Gr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...f7(t),formState:r});const i=e.current.control;return i._options=t,n7({subject:i._subjects.state,next:A=>{t7(A,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),pe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),pe.useEffect(()=>{if(i._proxyFormState.isDirty){const A=i._getDirty();A!==r.isDirty&&i._subjects.state.next({isDirty:A})}},[i,r.isDirty]),pe.useEffect(()=>{t.values&&!vi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(A=>({...A}))):i._resetDefaultValues()},[t.values,i]),pe.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),pe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),pe.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=e7(r,i),e.current}const wI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},yk=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?wI(r.ref,n,t):r.refs&&r.refs.forEach(s=>wI(s,n,t))}},p7=(t,e)=>{e.shouldUseNativeValidation&&yk(t,e);const n={};for(const r in t){const s=oe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(g7(e.names||Object.keys(t),r)){const A=Object.assign({},oe(n,r));We(A,"root",i),We(n,r,A)}else We(n,r,i)}return n},g7=(t,e)=>t.some(n=>n.startsWith(e+"."));var m7=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,A=r.path.join(".");if(!n[A])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[A]={message:a.message,type:a.code}}else n[A]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var o=n[A].types,l=o&&o[r.code];n[A]=ck(A,e,n,s,l?[].concat(l,r.message):r.message)}t.shift()}return n},vk=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(A,a){try{var o=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return i.shouldUseNativeValidation&&yk({},i),{errors:{},values:n.raw?r:l}})}catch(l){return a(l)}return o&&o.then?o.then(void 0,a):o}(0,function(A){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(A))return{values:{},errors:p7(m7(A.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw A}))}catch(A){return Promise.reject(A)}}},Pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const A of s)i[A]=A;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),A={};for(const a of i)A[a]=s[a];return t.objectValues(A)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const A in s)Object.prototype.hasOwnProperty.call(s,A)&&i.push(A);return i},t.find=(s,i)=>{for(const A of s)if(i(A))return A},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(A=>typeof A=="string"?`'${A}'`:A).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pe||(Pe={}));var Uv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Uv||(Uv={}));const ae=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cs=t=>{switch(typeof t){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return isNaN(t)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(t)?ae.array:t===null?ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ae.promise:typeof Map<"u"&&t instanceof Map?ae.map:typeof Set<"u"&&t instanceof Set?ae.set:typeof Date<"u"&&t instanceof Date?ae.date:ae.object;default:return ae.unknown}},W=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),y7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Yn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const A of i.issues)if(A.code==="invalid_union")A.unionErrors.map(s);else if(A.code==="invalid_return_type")s(A.returnTypeError);else if(A.code==="invalid_arguments")s(A.argumentsError);else if(A.path.length===0)r._errors.push(n(A));else{let a=r,o=0;for(;o<A.path.length;){const l=A.path[o];o===A.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(A))):a[l]=a[l]||{_errors:[]},a=a[l],o++}}};return s(this),r}static assert(e){if(!(e instanceof Yn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Yn.create=t=>new Yn(t);const jo=(t,e)=>{let n;switch(t.code){case W.invalid_type:t.received===ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case W.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pe.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pe.joinValues(t.keys,", ")}`;break;case W.invalid_union:n="Invalid input";break;case W.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pe.joinValues(t.options)}`;break;case W.invalid_enum_value:n=`Invalid enum value. Expected ${Pe.joinValues(t.options)}, received '${t.received}'`;break;case W.invalid_arguments:n="Invalid function arguments";break;case W.invalid_return_type:n="Invalid function return type";break;case W.invalid_date:n="Invalid date";break;case W.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case W.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case W.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case W.custom:n="Invalid input";break;case W.invalid_intersection_types:n="Intersection results could not be merged";break;case W.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case W.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pe.assertNever(t)}return{message:n}};let wk=jo;function v7(t){wk=t}function dp(){return wk}const hp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],A={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const o=r.filter(l=>!!l).slice().reverse();for(const l of o)a=l(A,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},w7=[];function te(t,e){const n=dp(),r=hp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===jo?void 0:jo].filter(s=>!!s)});t.common.issues.push(r)}class wn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ce;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,A=await s.value;r.push({key:i,value:A})}return wn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:A}=s;if(i.status==="aborted"||A.status==="aborted")return Ce;i.status==="dirty"&&e.dirty(),A.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof A.value<"u"||s.alwaysSet)&&(r[i.value]=A.value)}return{status:e.value,value:r}}}const Ce=Object.freeze({status:"aborted"}),ro=t=>({status:"dirty",value:t}),Un=t=>({status:"valid",value:t}),Sv=t=>t.status==="aborted",Qv=t=>t.status==="dirty",na=t=>t.status==="valid",wu=t=>typeof Promise<"u"&&t instanceof Promise;function fp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Bk(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));var tc,nc;class os{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BI=(t,e)=>{if(na(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Yn(t.common.issues);return this._error=n,this._error}}};function be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(A,a)=>{var o,l;const{message:u}=t;return A.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(o=u??r)!==null&&o!==void 0?o:a.defaultError}:A.code!=="invalid_type"?{message:a.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}},description:s}}class Fe{get description(){return this._def.description}_getType(e){return Cs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Cs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wn,ctx:{common:e.parent.common,data:e.data,parsedType:Cs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(wu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return BI(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return na(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>na(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(wu(s)?s:Promise.resolve(s));return BI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const A=e(s),a=()=>i.addIssue({code:W.custom,...r(s)});return typeof Promise<"u"&&A instanceof Promise?A.then(o=>o?!0:(a(),!1)):A?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Dr({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ss.create(this,this._def)}nullable(){return nA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qr.create(this)}promise(){return Ho.create(this,this._def)}or(e){return Eu.create([this,e],this._def)}and(e){return _u.create(this,e,this._def)}transform(e){return new Dr({...be(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Uu({...be(this._def),innerType:this,defaultValue:n,typeName:ve.ZodDefault})}brand(){return new Kx({typeName:ve.ZodBranded,type:this,...be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Su({...be(this._def),innerType:this,catchValue:n,typeName:ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return cd.create(this,e)}readonly(){return Qu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const B7=/^c[^\s-]{8,}$/i,x7=/^[0-9a-z]+$/,C7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_7=/^[a-z0-9_-]{21}$/i,b7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,I7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,T7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,F7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let g0;const U7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,S7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Q7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,N7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,k7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,R7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",D7=new RegExp(`^${xk}$`);function Ck(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function P7(t){return new RegExp(`^${Ck(t)}$`)}function Ek(t){let e=`${xk}T${Ck(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function L7(t,e){return!!((e==="v4"||!e)&&U7.test(t)||(e==="v6"||!e)&&Q7.test(t))}function M7(t,e){if(!b7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function O7(t,e){return!!((e==="v4"||!e)&&S7.test(t)||(e==="v6"||!e)&&N7.test(t))}class Fr extends Fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ae.string){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_type,expected:ae.string,received:i.parsedType}),Ce}const r=new wn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const A=e.data.length>i.value,a=e.data.length<i.value;(A||a)&&(s=this._getOrReturnCtx(e,s),A?te(s,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&te(s,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")T7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"email",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")g0||(g0=new RegExp(F7,"u")),g0.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"emoji",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")E7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"uuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")_7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"nanoid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")B7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")x7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid2",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")C7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ulid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),te(s,{validation:"url",code:W.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"regex",code:W.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Ek(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?D7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?P7(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?I7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"duration",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?L7(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ip",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?M7(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"jwt",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?O7(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cidr",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?k7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?R7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64url",code:W.invalid_string,message:i.message}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:W.invalid_string,...ue.errToObj(r)})}_addCheck(e){return new Fr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ue.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ue.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ue.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ue.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ue.errToObj(n)})}nonempty(e){return this.min(1,ue.errToObj(e))}trim(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fr.create=t=>{var e;return new Fr({checks:[],typeName:ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};function j7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),A=parseInt(e.toFixed(s).replace(".",""));return i%A/Math.pow(10,s)}class Zi extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ae.number){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_type,expected:ae.number,received:i.parsedType}),Ce}let r;const s=new wn;for(const i of this._def.checks)i.kind==="int"?Pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:W.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?j7(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:W.not_finite,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new Zi({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new Zi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Zi.create=t=>new Zi({checks:[],typeName:ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class eA extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ae.bigint)return this._getInvalidInput(e);let r;const s=new wn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:W.invalid_type,expected:ae.bigint,received:n.parsedType}),Ce}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new eA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new eA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}eA.create=t=>{var e;return new eA({checks:[],typeName:ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};class Bu extends Fe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ae.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.boolean,received:r.parsedType}),Ce}return Un(e.data)}}Bu.create=t=>new Bu({typeName:ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class ra extends Fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ae.date){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_type,expected:ae.date,received:i.parsedType}),Ce}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_date}),Ce}const r=new wn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ra({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ra.create=t=>new ra({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ve.ZodDate,...be(t)});class pp extends Fe{_parse(e){if(this._getType(e)!==ae.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.symbol,received:r.parsedType}),Ce}return Un(e.data)}}pp.create=t=>new pp({typeName:ve.ZodSymbol,...be(t)});class xu extends Fe{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.undefined,received:r.parsedType}),Ce}return Un(e.data)}}xu.create=t=>new xu({typeName:ve.ZodUndefined,...be(t)});class Cu extends Fe{_parse(e){if(this._getType(e)!==ae.null){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.null,received:r.parsedType}),Ce}return Un(e.data)}}Cu.create=t=>new Cu({typeName:ve.ZodNull,...be(t)});class Vo extends Fe{constructor(){super(...arguments),this._any=!0}_parse(e){return Un(e.data)}}Vo.create=t=>new Vo({typeName:ve.ZodAny,...be(t)});class OA extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Un(e.data)}}OA.create=t=>new OA({typeName:ve.ZodUnknown,...be(t)});class $s extends Fe{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:W.invalid_type,expected:ae.never,received:n.parsedType}),Ce}}$s.create=t=>new $s({typeName:ve.ZodNever,...be(t)});class gp extends Fe{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.void,received:r.parsedType}),Ce}return Un(e.data)}}gp.create=t=>new gp({typeName:ve.ZodVoid,...be(t)});class Qr extends Fe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ae.array)return te(n,{code:W.invalid_type,expected:ae.array,received:n.parsedType}),Ce;if(s.exactLength!==null){const A=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(A||a)&&(te(n,{code:A?W.too_big:W.too_small,minimum:a?s.exactLength.value:void 0,maximum:A?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(te(n,{code:W.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(te(n,{code:W.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((A,a)=>s.type._parseAsync(new os(n,A,n.path,a)))).then(A=>wn.mergeArray(r,A));const i=[...n.data].map((A,a)=>s.type._parseSync(new os(n,A,n.path,a)));return wn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Qr({...this._def,minLength:{value:e,message:ue.toString(n)}})}max(e,n){return new Qr({...this._def,maxLength:{value:e,message:ue.toString(n)}})}length(e,n){return new Qr({...this._def,exactLength:{value:e,message:ue.toString(n)}})}nonempty(e){return this.min(1,e)}}Qr.create=(t,e)=>new Qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...be(e)});function ka(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ss.create(ka(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof Qr?new Qr({...t._def,type:ka(t.element)}):t instanceof ss?ss.create(ka(t.unwrap())):t instanceof nA?nA.create(ka(t.unwrap())):t instanceof ls?ls.create(t.items.map(e=>ka(e))):t}class ct extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ae.object){const l=this._getOrReturnCtx(e);return te(l,{code:W.invalid_type,expected:ae.object,received:l.parsedType}),Ce}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:A}=this._getCached(),a=[];if(!(this._def.catchall instanceof $s&&this._def.unknownKeys==="strip"))for(const l in s.data)A.includes(l)||a.push(l);const o=[];for(const l of A){const u=i[l],h=s.data[l];o.push({key:{status:"valid",value:l},value:u._parse(new os(s,h,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof $s){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)o.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(te(s,{code:W.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const h=s.data[u];o.push({key:{status:"valid",value:u},value:l._parse(new os(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of o){const h=await u.key,f=await u.value;l.push({key:h,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>wn.mergeObjectSync(r,l)):wn.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,A,a;const o=(A=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&A!==void 0?A:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ue.errToObj(e).message)!==null&&a!==void 0?a:o}:{message:o}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};return Pe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}omit(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}deepPartial(){return ka(this)}partial(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ct({...this._def,shape:()=>n})}required(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ss;)i=i._def.innerType;n[r]=i}}),new ct({...this._def,shape:()=>n})}keyof(){return _k(Pe.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:$s.create(),typeName:ve.ZodObject,...be(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:$s.create(),typeName:ve.ZodObject,...be(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:$s.create(),typeName:ve.ZodObject,...be(e)});class Eu extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const A=i.map(a=>new Yn(a.ctx.common.issues));return te(n,{code:W.invalid_union,unionErrors:A}),Ce}if(n.common.async)return Promise.all(r.map(async i=>{const A={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:A}),ctx:A}})).then(s);{let i;const A=[];for(const o of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=o._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&A.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=A.map(o=>new Yn(o));return te(n,{code:W.invalid_union,unionErrors:a}),Ce}}get options(){return this._def.options}}Eu.create=(t,e)=>new Eu({options:t,typeName:ve.ZodUnion,...be(e)});const ws=t=>t instanceof Iu?ws(t.schema):t instanceof Dr?ws(t.innerType()):t instanceof Tu?[t.value]:t instanceof tA?t.options:t instanceof Fu?Pe.objectValues(t.enum):t instanceof Uu?ws(t._def.innerType):t instanceof xu?[void 0]:t instanceof Cu?[null]:t instanceof ss?[void 0,...ws(t.unwrap())]:t instanceof nA?[null,...ws(t.unwrap())]:t instanceof Kx||t instanceof Qu?ws(t.unwrap()):t instanceof Su?ws(t._def.innerType):[];class Vg extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.object)return te(n,{code:W.invalid_type,expected:ae.object,received:n.parsedType}),Ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const A=ws(i.shape[e]);if(!A.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of A){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Vg({typeName:ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...be(r)})}}function Nv(t,e){const n=Cs(t),r=Cs(e);if(t===e)return{valid:!0,data:t};if(n===ae.object&&r===ae.object){const s=Pe.objectKeys(e),i=Pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),A={...t,...e};for(const a of i){const o=Nv(t[a],e[a]);if(!o.valid)return{valid:!1};A[a]=o.data}return{valid:!0,data:A}}else if(n===ae.array&&r===ae.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const A=t[i],a=e[i],o=Nv(A,a);if(!o.valid)return{valid:!1};s.push(o.data)}return{valid:!0,data:s}}else return n===ae.date&&r===ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _u extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,A)=>{if(Sv(i)||Sv(A))return Ce;const a=Nv(i.value,A.value);return a.valid?((Qv(i)||Qv(A))&&n.dirty(),{status:n.value,value:a.data}):(te(r,{code:W.invalid_intersection_types}),Ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,A])=>s(i,A)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_u.create=(t,e,n)=>new _u({left:t,right:e,typeName:ve.ZodIntersection,...be(n)});class ls extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.array)return te(r,{code:W.invalid_type,expected:ae.array,received:r.parsedType}),Ce;if(r.data.length<this._def.items.length)return te(r,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((A,a)=>{const o=this._def.items[a]||this._def.rest;return o?o._parse(new os(r,A,r.path,a)):null}).filter(A=>!!A);return r.common.async?Promise.all(i).then(A=>wn.mergeArray(n,A)):wn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ls({...this._def,rest:e})}}ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ls({items:t,typeName:ve.ZodTuple,rest:null,...be(e)})};class bu extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.object)return te(r,{code:W.invalid_type,expected:ae.object,received:r.parsedType}),Ce;const s=[],i=this._def.keyType,A=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new os(r,a,r.path,a)),value:A._parse(new os(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?wn.mergeObjectAsync(n,s):wn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Fe?new bu({keyType:e,valueType:n,typeName:ve.ZodRecord,...be(r)}):new bu({keyType:Fr.create(),valueType:e,typeName:ve.ZodRecord,...be(n)})}}class mp extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.map)return te(r,{code:W.invalid_type,expected:ae.map,received:r.parsedType}),Ce;const s=this._def.keyType,i=this._def.valueType,A=[...r.data.entries()].map(([a,o],l)=>({key:s._parse(new os(r,a,r.path,[l,"key"])),value:i._parse(new os(r,o,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const o of A){const l=await o.key,u=await o.value;if(l.status==="aborted"||u.status==="aborted")return Ce;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const o of A){const l=o.key,u=o.value;if(l.status==="aborted"||u.status==="aborted")return Ce;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}mp.create=(t,e,n)=>new mp({valueType:e,keyType:t,typeName:ve.ZodMap,...be(n)});class sa extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.set)return te(r,{code:W.invalid_type,expected:ae.set,received:r.parsedType}),Ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(te(r,{code:W.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(te(r,{code:W.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function A(o){const l=new Set;for(const u of o){if(u.status==="aborted")return Ce;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((o,l)=>i._parse(new os(r,o,r.path,l)));return r.common.async?Promise.all(a).then(o=>A(o)):A(a)}min(e,n){return new sa({...this._def,minSize:{value:e,message:ue.toString(n)}})}max(e,n){return new sa({...this._def,maxSize:{value:e,message:ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}sa.create=(t,e)=>new sa({valueType:t,minSize:null,maxSize:null,typeName:ve.ZodSet,...be(e)});class vo extends Fe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.function)return te(n,{code:W.invalid_type,expected:ae.function,received:n.parsedType}),Ce;function r(a,o){return hp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dp(),jo].filter(l=>!!l),issueData:{code:W.invalid_arguments,argumentsError:o}})}function s(a,o){return hp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dp(),jo].filter(l=>!!l),issueData:{code:W.invalid_return_type,returnTypeError:o}})}const i={errorMap:n.common.contextualErrorMap},A=n.data;if(this._def.returns instanceof Ho){const a=this;return Un(async function(...o){const l=new Yn([]),u=await a._def.args.parseAsync(o,i).catch(g=>{throw l.addIssue(r(o,g)),l}),h=await Reflect.apply(A,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(g=>{throw l.addIssue(s(h,g)),l})})}else{const a=this;return Un(function(...o){const l=a._def.args.safeParse(o,i);if(!l.success)throw new Yn([r(o,l.error)]);const u=Reflect.apply(A,this,l.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new Yn([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new vo({...this._def,args:ls.create(e).rest(OA.create())})}returns(e){return new vo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new vo({args:e||ls.create([]).rest(OA.create()),returns:n||OA.create(),typeName:ve.ZodFunction,...be(r)})}}class Iu extends Fe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Iu.create=(t,e)=>new Iu({getter:t,typeName:ve.ZodLazy,...be(e)});class Tu extends Fe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:W.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tu.create=(t,e)=>new Tu({value:t,typeName:ve.ZodLiteral,...be(e)});function _k(t,e){return new tA({values:t,typeName:ve.ZodEnum,...be(e)})}class tA extends Fe{constructor(){super(...arguments),tc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{expected:Pe.joinValues(r),received:n.parsedType,code:W.invalid_type}),Ce}if(fp(this,tc)||Bk(this,tc,new Set(this._def.values)),!fp(this,tc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{received:n.data,code:W.invalid_enum_value,options:r}),Ce}return Un(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return tA.create(e,{...this._def,...n})}exclude(e,n=this._def){return tA.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}tc=new WeakMap;tA.create=_k;class Fu extends Fe{constructor(){super(...arguments),nc.set(this,void 0)}_parse(e){const n=Pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ae.string&&r.parsedType!==ae.number){const s=Pe.objectValues(n);return te(r,{expected:Pe.joinValues(s),received:r.parsedType,code:W.invalid_type}),Ce}if(fp(this,nc)||Bk(this,nc,new Set(Pe.getValidEnumValues(this._def.values))),!fp(this,nc).has(e.data)){const s=Pe.objectValues(n);return te(r,{received:r.data,code:W.invalid_enum_value,options:s}),Ce}return Un(e.data)}get enum(){return this._def.values}}nc=new WeakMap;Fu.create=(t,e)=>new Fu({values:t,typeName:ve.ZodNativeEnum,...be(e)});class Ho extends Fe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.promise&&n.common.async===!1)return te(n,{code:W.invalid_type,expected:ae.promise,received:n.parsedType}),Ce;const r=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return Un(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ho.create=(t,e)=>new Ho({type:t,typeName:ve.ZodPromise,...be(e)});class Dr extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:A=>{te(r,A),A.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const A=s.transform(r.data,i);if(r.common.async)return Promise.resolve(A).then(async a=>{if(n.value==="aborted")return Ce;const o=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return o.status==="aborted"?Ce:o.status==="dirty"||n.value==="dirty"?ro(o.value):o});{if(n.value==="aborted")return Ce;const a=this._def.schema._parseSync({data:A,path:r.path,parent:r});return a.status==="aborted"?Ce:a.status==="dirty"||n.value==="dirty"?ro(a.value):a}}if(s.type==="refinement"){const A=a=>{const o=s.refinement(a,i);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),A(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),A(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const A=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!na(A))return A;const a=s.transform(A.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(A=>na(A)?Promise.resolve(s.transform(A.value,i)).then(a=>({status:n.value,value:a})):A);Pe.assertNever(s)}}Dr.create=(t,e,n)=>new Dr({schema:t,typeName:ve.ZodEffects,effect:e,...be(n)});Dr.createWithPreprocess=(t,e,n)=>new Dr({schema:e,effect:{type:"preprocess",transform:t},typeName:ve.ZodEffects,...be(n)});class ss extends Fe{_parse(e){return this._getType(e)===ae.undefined?Un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ss.create=(t,e)=>new ss({innerType:t,typeName:ve.ZodOptional,...be(e)});class nA extends Fe{_parse(e){return this._getType(e)===ae.null?Un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nA.create=(t,e)=>new nA({innerType:t,typeName:ve.ZodNullable,...be(e)});class Uu extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Uu.create=(t,e)=>new Uu({innerType:t,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class Su extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return wu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Yn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Yn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Su.create=(t,e)=>new Su({innerType:t,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class yp extends Fe{_parse(e){if(this._getType(e)!==ae.nan){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.nan,received:r.parsedType}),Ce}return{status:"valid",value:e.data}}}yp.create=t=>new yp({typeName:ve.ZodNaN,...be(t)});const V7=Symbol("zod_brand");class Kx extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class cd extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ce:i.status==="dirty"?(n.dirty(),ro(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new cd({in:e,out:n,typeName:ve.ZodPipeline})}}class Qu extends Fe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(na(s)&&(s.value=Object.freeze(s.value)),s);return wu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Qu.create=(t,e)=>new Qu({innerType:t,typeName:ve.ZodReadonly,...be(e)});function bk(t,e={},n){return t?Vo.create().superRefine((r,s)=>{var i,A;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,o=(A=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&A!==void 0?A:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:o})}}):Vo.create()}const H7={object:ct.lazycreate};var ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ve||(ve={}));const K7=(t,e={message:`Input not instance of ${t.name}`})=>bk(n=>n instanceof t,e),Ik=Fr.create,Tk=Zi.create,z7=yp.create,G7=eA.create,Fk=Bu.create,W7=ra.create,$7=pp.create,q7=xu.create,X7=Cu.create,Y7=Vo.create,J7=OA.create,Z7=$s.create,eW=gp.create,tW=Qr.create,nW=ct.create,rW=ct.strictCreate,sW=Eu.create,iW=Vg.create,AW=_u.create,aW=ls.create,oW=bu.create,lW=mp.create,cW=sa.create,uW=vo.create,dW=Iu.create,hW=Tu.create,fW=tA.create,pW=Fu.create,gW=Ho.create,xI=Dr.create,mW=ss.create,yW=nA.create,vW=Dr.createWithPreprocess,wW=cd.create,BW=()=>Ik().optional(),xW=()=>Tk().optional(),CW=()=>Fk().optional(),EW={string:t=>Fr.create({...t,coerce:!0}),number:t=>Zi.create({...t,coerce:!0}),boolean:t=>Bu.create({...t,coerce:!0}),bigint:t=>eA.create({...t,coerce:!0}),date:t=>ra.create({...t,coerce:!0})},_W=Ce;var kn=Object.freeze({__proto__:null,defaultErrorMap:jo,setErrorMap:v7,getErrorMap:dp,makeIssue:hp,EMPTY_PATH:w7,addIssueToContext:te,ParseStatus:wn,INVALID:Ce,DIRTY:ro,OK:Un,isAborted:Sv,isDirty:Qv,isValid:na,isAsync:wu,get util(){return Pe},get objectUtil(){return Uv},ZodParsedType:ae,getParsedType:Cs,ZodType:Fe,datetimeRegex:Ek,ZodString:Fr,ZodNumber:Zi,ZodBigInt:eA,ZodBoolean:Bu,ZodDate:ra,ZodSymbol:pp,ZodUndefined:xu,ZodNull:Cu,ZodAny:Vo,ZodUnknown:OA,ZodNever:$s,ZodVoid:gp,ZodArray:Qr,ZodObject:ct,ZodUnion:Eu,ZodDiscriminatedUnion:Vg,ZodIntersection:_u,ZodTuple:ls,ZodRecord:bu,ZodMap:mp,ZodSet:sa,ZodFunction:vo,ZodLazy:Iu,ZodLiteral:Tu,ZodEnum:tA,ZodNativeEnum:Fu,ZodPromise:Ho,ZodEffects:Dr,ZodTransformer:Dr,ZodOptional:ss,ZodNullable:nA,ZodDefault:Uu,ZodCatch:Su,ZodNaN:yp,BRAND:V7,ZodBranded:Kx,ZodPipeline:cd,ZodReadonly:Qu,custom:bk,Schema:Fe,ZodSchema:Fe,late:H7,get ZodFirstPartyTypeKind(){return ve},coerce:EW,any:Y7,array:tW,bigint:G7,boolean:Fk,date:W7,discriminatedUnion:iW,effect:xI,enum:fW,function:uW,instanceof:K7,intersection:AW,lazy:dW,literal:hW,map:lW,nan:z7,nativeEnum:pW,never:Z7,null:X7,nullable:yW,number:Tk,object:nW,oboolean:CW,onumber:xW,optional:mW,ostring:BW,pipeline:wW,preprocess:vW,promise:gW,record:oW,set:cW,strictObject:rW,string:Ik,symbol:$7,transformer:xI,tuple:aW,undefined:q7,union:sW,unknown:J7,void:eW,NEVER:_W,ZodIssueCode:W,quotelessJson:y7,ZodError:Yn});const m0={clientId:"164337596330-todg1eiufp3sb6h4aotrnq6srh06a478.apps.googleusercontent.com",clientSecret:"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",redirectUri:`${window.location.origin}/calendar/callback`,scopes:["https://www.googleapis.com/auth/calendar.events"]},kv={defaultDuration:60,defaultReminder:60,timeZone:"Europe/Rome"};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function nr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function wt(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||vp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function wp(t,e){Ve(2,arguments);var n=wt(t),r=nr(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var A=i.getDate();return s>=A?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function Uk(t,e){Ve(2,arguments);var n=wt(t).getTime(),r=nr(e);return new Date(n+r)}var bW={};function Hg(){return bW}function Rv(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Dv(t){Ve(1,arguments);var e=wt(t);return e.setHours(0,0,0,0),e}var IW=864e5;function TW(t,e){Ve(2,arguments);var n=Dv(t),r=Dv(e),s=n.getTime()-Rv(n),i=r.getTime()-Rv(r);return Math.round((s-i)/IW)}var FW=6e4;function Sk(t,e){Ve(2,arguments);var n=nr(e);return Uk(t,n*FW)}var zx=6e4,Gx=36e5;function UW(t){return Ve(1,arguments),t instanceof Date||vp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bp(t){if(Ve(1,arguments),!UW(t)&&typeof t!="number")return!1;var e=wt(t);return!isNaN(Number(e))}function CI(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Qk(t,e){Ve(2,arguments);var n=wt(t),r=wt(e),s=CI(n,r),i=Math.abs(TW(n,r));n.setDate(n.getDate()-s*i);var A=+(CI(n,r)===-s),a=s*(i-A);return a===0?0:a}function Wx(t,e){return Ve(2,arguments),wt(t).getTime()-wt(e).getTime()}var EI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},SW="trunc";function $x(t){return t?EI[t]:EI[SW]}function QW(t,e,n){Ve(2,arguments);var r=Wx(t,e)/Gx;return $x(void 0)(r)}function NW(t,e,n){Ve(2,arguments);var r=Wx(t,e)/zx;return $x(void 0)(r)}function kW(t,e,n){Ve(2,arguments);var r=Wx(t,e)/1e3;return $x(void 0)(r)}function RW(t,e){Ve(2,arguments);var n=nr(e);return Uk(t,-n)}var DW=864e5;function PW(t){Ve(1,arguments);var e=wt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/DW)+1}function xp(t){Ve(1,arguments);var e=1,n=wt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function Nk(t){Ve(1,arguments);var e=wt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=xp(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var A=xp(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=A.getTime()?n:n-1}function LW(t){Ve(1,arguments);var e=Nk(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=xp(n);return r}var MW=6048e5;function OW(t){Ve(1,arguments);var e=wt(t),n=xp(e).getTime()-LW(e).getTime();return Math.round(n/MW)+1}function Ko(t,e){var n,r,s,i,A,a,o,l;Ve(1,arguments);var u=Hg(),h=nr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=wt(t),g=f.getUTCDay(),m=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function kk(t,e){var n,r,s,i,A,a,o,l;Ve(1,arguments);var u=wt(t),h=u.getUTCFullYear(),f=Hg(),g=nr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(o=f.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,g),m.setUTCHours(0,0,0,0);var y=Ko(m,e),C=new Date(0);C.setUTCFullYear(h,0,g),C.setUTCHours(0,0,0,0);var x=Ko(C,e);return u.getTime()>=y.getTime()?h+1:u.getTime()>=x.getTime()?h:h-1}function jW(t,e){var n,r,s,i,A,a,o,l;Ve(1,arguments);var u=Hg(),h=nr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=kk(t,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var m=Ko(g,e);return m}var VW=6048e5;function HW(t,e){Ve(1,arguments);var n=wt(t),r=Ko(n,e).getTime()-jW(n,e).getTime();return Math.round(r/VW)+1}function ze(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Ai={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return ze(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):ze(r+1,2)},d:function(e,n){return ze(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return ze(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ze(e.getUTCHours(),n.length)},m:function(e,n){return ze(e.getUTCMinutes(),n.length)},s:function(e,n){return ze(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return ze(i,n.length)}},Ea={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KW={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Ai.y(e,n)},Y:function(e,n,r,s){var i=kk(e,s),A=i>0?i:1-i;if(n==="YY"){var a=A%100;return ze(a,2)}return n==="Yo"?r.ordinalNumber(A,{unit:"year"}):ze(A,n.length)},R:function(e,n){var r=Nk(e);return ze(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return ze(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ze(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ze(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Ai.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return ze(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=HW(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,n.length)},I:function(e,n,r){var s=OW(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):ze(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ai.d(e,n)},D:function(e,n,r){var s=PW(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ze(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(A);case"ee":return ze(A,2);case"eo":return r.ordinalNumber(A,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(A);case"cc":return ze(A,n.length);case"co":return r.ordinalNumber(A,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return ze(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Ea.noon:s===0?i=Ea.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Ea.evening:s>=12?i=Ea.afternoon:s>=4?i=Ea.morning:i=Ea.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ai.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ai.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ai.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ai.s(e,n)},S:function(e,n){return Ai.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();if(A===0)return"Z";switch(n){case"X":return bI(A);case"XXXX":case"XX":return IA(A);case"XXXXX":case"XXX":default:return IA(A,":")}},x:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"x":return bI(A);case"xxxx":case"xx":return IA(A);case"xxxxx":case"xxx":default:return IA(A,":")}},O:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+_I(A,":");case"OOOO":default:return"GMT"+IA(A,":")}},z:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+_I(A,":");case"zzzz":default:return"GMT"+IA(A,":")}},t:function(e,n,r,s){var i=s._originalDate||e,A=Math.floor(i.getTime()/1e3);return ze(A,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,A=i.getTime();return ze(A,n.length)}};function _I(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var A=e;return n+String(s)+A+ze(i,2)}function bI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ze(Math.abs(t)/60,2)}return IA(t,e)}function IA(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=ze(Math.floor(s/60),2),A=ze(s%60,2);return r+i+n+A}var II=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Rk=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},zW=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return II(e,n);var A;switch(s){case"P":A=n.dateTime({width:"short"});break;case"PP":A=n.dateTime({width:"medium"});break;case"PPP":A=n.dateTime({width:"long"});break;case"PPPP":default:A=n.dateTime({width:"full"});break}return A.replace("{{date}}",II(s,n)).replace("{{time}}",Rk(i,n))},GW={p:Rk,P:zW},WW=["D","DD"],$W=["YY","YYYY"];function qW(t){return WW.indexOf(t)!==-1}function XW(t){return $W.indexOf(t)!==-1}function TI(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var YW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JW=function(e,n,r){var s,i=YW[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function wo(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var ZW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},e$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},t$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},n$={date:wo({formats:ZW,defaultWidth:"full"}),time:wo({formats:e$,defaultWidth:"full"}),dateTime:wo({formats:t$,defaultWidth:"full"})},r$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s$=function(e,n,r,s){return r$[e]};function Wr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,A=n!=null&&n.width?String(n.width):i;s=t.formattingValues[A]||t.formattingValues[i]}else{var a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}var l=t.argumentCallback?t.argumentCallback(e):e;return s[l]}}var i$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},u$=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},d$={ordinalNumber:u$,era:Wr({values:i$,defaultWidth:"wide"}),quarter:Wr({values:A$,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wr({values:a$,defaultWidth:"wide"}),day:Wr({values:o$,defaultWidth:"wide"}),dayPeriod:Wr({values:l$,defaultWidth:"wide",formattingValues:c$,defaultFormattingWidth:"wide"})};function $r(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var A=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?f$(a,function(h){return h.test(A)}):h$(a,function(h){return h.test(A)}),l;l=t.valueCallback?t.valueCallback(o):o,l=n.valueCallback?n.valueCallback(l):l;var u=e.slice(A.length);return{value:l,rest:u}}}function h$(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function f$(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Dk(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var A=t.valueCallback?t.valueCallback(i[0]):i[0];A=n.valueCallback?n.valueCallback(A):A;var a=e.slice(s.length);return{value:A,rest:a}}}var p$=/^(\d+)(th|st|nd|rd)?/i,g$=/\d+/i,m$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},y$={any:[/^b/i,/^(a|c)/i]},v$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},w$={any:[/1/i,/2/i,/3/i,/4/i]},B$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},C$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},E$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I$={ordinalNumber:Dk({matchPattern:p$,parsePattern:g$,valueCallback:function(e){return parseInt(e,10)}}),era:$r({matchPatterns:m$,defaultMatchWidth:"wide",parsePatterns:y$,defaultParseWidth:"any"}),quarter:$r({matchPatterns:v$,defaultMatchWidth:"wide",parsePatterns:w$,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$r({matchPatterns:B$,defaultMatchWidth:"wide",parsePatterns:x$,defaultParseWidth:"any"}),day:$r({matchPatterns:C$,defaultMatchWidth:"wide",parsePatterns:E$,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:_$,defaultMatchWidth:"any",parsePatterns:b$,defaultParseWidth:"any"})},T$={code:"en-US",formatDistance:JW,formatLong:n$,formatRelative:s$,localize:d$,match:I$,options:{weekStartsOn:0,firstWeekContainsDate:1}},F$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,U$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,S$=/^'([^]*?)'?$/,Q$=/''/g,N$=/[a-zA-Z]/;function $e(t,e,n){var r,s,i,A,a,o,l,u,h,f,g,m,y,C,x,v,w,F;Ve(2,arguments);var Q=String(e),k=Hg(),I=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:k.locale)!==null&&r!==void 0?r:T$,E=nr((i=(A=(a=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:k.firstWeekContainsDate)!==null&&A!==void 0?A:(h=k.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=nr((g=(m=(y=(C=n==null?void 0:n.weekStartsOn)!==null&&C!==void 0?C:n==null||(x=n.locale)===null||x===void 0||(v=x.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&m!==void 0?m:(w=k.locale)===null||w===void 0||(F=w.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&g!==void 0?g:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var _=wt(t);if(!Bp(_))throw new RangeError("Invalid time value");var N=Rv(_),R=RW(_,N),T={firstWeekContainsDate:E,weekStartsOn:b,locale:I,_originalDate:_},J=Q.match(U$).map(function(ie){var V=ie[0];if(V==="p"||V==="P"){var q=GW[V];return q(ie,I.formatLong)}return ie}).join("").match(F$).map(function(ie){if(ie==="''")return"'";var V=ie[0];if(V==="'")return k$(ie);var q=KW[V];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&XW(ie)&&TI(ie,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&qW(ie)&&TI(ie,e,String(t)),q(R,ie,I.localize,T);if(V.match(N$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return ie}).join("");return J}function k$(t){var e=t.match(S$);return e?e[1].replace(Q$,"'"):t}function y0(t,e){Ve(2,arguments);var n=wt(t),r=wt(e);return n.getTime()<r.getTime()}function R$(t,e){Ve(2,arguments);var n=wt(t),r=wt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function v0(t,e){var n;Ve(1,arguments);var r=nr((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=M$(t),i;if(s.date){var A=O$(s.date,r);i=j$(A.restDateString,A.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),o=0,l;if(s.time&&(o=V$(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=H$(s.timezone),isNaN(l))return new Date(NaN)}else{var u=new Date(a+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+o+l)}var sh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},D$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,P$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function M$(t){var e={},n=t.split(sh.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],sh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(sh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=sh.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function O$(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function j$(t,e){if(e===null)return new Date(NaN);var n=t.match(D$);if(!n)return new Date(NaN);var r=!!n[4],s=Dl(n[1]),i=Dl(n[2])-1,A=Dl(n[3]),a=Dl(n[4]),o=Dl(n[5])-1;if(r)return $$(e,a,o)?K$(e,a,o):new Date(NaN);var l=new Date(0);return!G$(e,i,A)||!W$(e,s)?new Date(NaN):(l.setUTCFullYear(e,i,Math.max(s,A)),l)}function Dl(t){return t?parseInt(t):1}function V$(t){var e=t.match(P$);if(!e)return NaN;var n=w0(e[1]),r=w0(e[2]),s=w0(e[3]);return q$(n,r,s)?n*Gx+r*zx+s*1e3:NaN}function w0(t){return t&&parseFloat(t.replace(",","."))||0}function H$(t){if(t==="Z")return 0;var e=t.match(L$);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return X$(r,s)?n*(r*Gx+s*zx):NaN}function K$(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var z$=[31,null,31,30,31,30,31,31,30,31,30,31];function Pk(t){return t%400===0||t%4===0&&t%100!==0}function G$(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(z$[e]||(Pk(t)?29:28))}function W$(t,e){return e>=1&&e<=(Pk(t)?366:365)}function $$(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function q$(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function X$(t,e){return e>=0&&e<=59}function Cp(t,e){Ve(2,arguments);var n=wt(t),r=nr(e);return n.setHours(r),n}function Ep(t,e){Ve(2,arguments);var n=wt(t),r=nr(e);return n.setMinutes(r),n}function FI(){return Dv(Date.now())}function Y$(t,e){Ve(2,arguments);var n=nr(e);return wp(t,-n)}const J$=async(t,e)=>{try{const r=(await qi(lt(_e,"users",t))).data();if(!(r!=null&&r.googleCalendarToken))throw new Error("Token Google Calendar non trovato");const s={summary:e.summary,description:e.description,start:{dateTime:e.startTime.toISOString(),timeZone:kv.timeZone},end:{dateTime:e.endTime.toISOString(),timeZone:kv.timeZone},location:e.location,reminders:{useDefault:!0}},i=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${r.googleCalendarToken}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error("Errore durante l'aggiunta dell'evento al calendario");return await i.json()}catch(n){throw console.error("Error adding event to Google Calendar:",n),n}},Z$=async(t,e)=>{try{const n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:t,client_id:m0.clientId,client_secret:m0.clientSecret,redirect_uri:m0.redirectUri,grant_type:"authorization_code"})});if(!n.ok)throw new Error("Errore durante lo scambio del codice di autorizzazione");const r=await n.json();return await Fg(lt(_e,"users",e),{googleCalendarToken:r.access_token,googleCalendarRefreshToken:r.refresh_token,calendarConnected:!0,updatedAt:Ln()},{merge:!0}),!0}catch(n){throw console.error("Error handling Google Calendar callback:",n),n}},eq=(t,e,n,r,s)=>{const i=f=>$e(f,"yyyyMMdd'T'HHmmss"),A=new URLSearchParams({action:"TEMPLATE",text:t,details:e,location:"",dates:`${i(n)}/${i(r)}`,ctz:kv.timeZone}),a=$e(n,"yyyyMMdd'T'HHmmss'Z'"),o=$e(r,"yyyyMMdd'T'HHmmss'Z'"),l=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",`DTSTART:${a}`,`DTEND:${o}`,`SUMMARY:${t}`,`DESCRIPTION:${e}`,"","END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`
`),u=new Blob([l],{type:"text/calendar;charset=utf-8"}),h=URL.createObjectURL(u);return{google:`https://calendar.google.com/calendar/render?${A.toString()}`,ical:h}},tq=t=>t.replace(/\D/g,""),nq=t=>`https://wa.me/39${t.replace(/\D/g,"")}`,rq=t=>{const e=t.replace(/\D/g,"");return!(e.length<9||e.length>10)};function UI(t,e,n){Ve(2,arguments);var r=Ko(t,n),s=Ko(e,n);return r.getTime()===s.getTime()}var sq={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},iq=function(e,n,r){var s,i=sq[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+s:s+" fa":s},Aq={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},aq={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},oq={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},lq={date:wo({formats:Aq,defaultWidth:"full"}),time:wo({formats:aq,defaultWidth:"full"}),dateTime:wo({formats:oq,defaultWidth:"full"})},qx=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"];function cq(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+qx[t]+" scorso alle' p"}}function SI(t){return"'"+qx[t]+" alle' p"}function uq(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+qx[t]+" prossimo alle' p"}}var dq={lastWeek:function(e,n,r){var s=e.getUTCDay();return UI(e,n,r)?SI(s):cq(s)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,n,r){var s=e.getUTCDay();return UI(e,n,r)?SI(s):uq(s)},other:"P"},hq=function(e,n,r,s){var i=dq[e];return typeof i=="function"?i(n,r,s):i},fq={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},pq={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},gq={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},mq={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"]},yq={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},vq={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},wq=function(e,n){var r=Number(e);return String(r)},Bq={ordinalNumber:wq,era:Wr({values:fq,defaultWidth:"wide"}),quarter:Wr({values:pq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wr({values:gq,defaultWidth:"wide"}),day:Wr({values:mq,defaultWidth:"wide"}),dayPeriod:Wr({values:yq,defaultWidth:"wide",formattingValues:vq,defaultFormattingWidth:"wide"})},xq=/^(\d+)(º)?/i,Cq=/\d+/i,Eq={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},_q={any:[/^a/i,/^(d|e)/i]},bq={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](º)? trimestre/i},Iq={any:[/1/i,/2/i,/3/i,/4/i]},Tq={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},Fq={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uq={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i},Sq={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},Qq={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},Nq={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},kq={ordinalNumber:Dk({matchPattern:xq,parsePattern:Cq,valueCallback:function(e){return parseInt(e,10)}}),era:$r({matchPatterns:Eq,defaultMatchWidth:"wide",parsePatterns:_q,defaultParseWidth:"any"}),quarter:$r({matchPatterns:bq,defaultMatchWidth:"wide",parsePatterns:Iq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$r({matchPatterns:Tq,defaultMatchWidth:"wide",parsePatterns:Fq,defaultParseWidth:"any"}),day:$r({matchPatterns:Uq,defaultMatchWidth:"wide",parsePatterns:Sq,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:Qq,defaultMatchWidth:"any",parsePatterns:Nq,defaultParseWidth:"any"})},qs={code:"it",formatDistance:iq,formatLong:lq,formatRelative:hq,localize:Bq,match:kq,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Lk="settings",_p="event-settings",ih={id:_p,eventName:"Carnevale Cinematografico",countdownDate:"2024-03-04T09:00:00",showCountdown:!0,bookingIntervals:30,maxBookingsPerDay:20,startTime:"09:00",endTime:"18:00",serviceTypes:[{id:"carnival",name:"Carnevale",enabled:!0,duration:30,bookingStartDate:"2024-03-04",bookingEndDate:"2024-03-31",excludedDays:[0],excludedDates:[]}],breakTimes:[{start:"13:00",end:"14:00",enabled:!0}],bookingStatuses:[{id:"pending",name:"In attesa",color:"#FFA500",enabled:!0},{id:"confirmed",name:"Confermato",color:"#10B981",enabled:!0},{id:"cancelled",name:"Cancellato",color:"#EF4444",enabled:!0}],products:[],company:{name:"Image Studio",logo:"",address:"Via Quinto Orazio Flacco 5, Aversa",phone:"",email:"",website:"",socialLinks:{}},animation:{enabled:!0,title:"Carnevale 2025",subtitle:"3... 2... 1...",type:"curtain",ticketStampType:"classic"},social:{image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819",title:"Carnevale Cinematografico 2025",description:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025",url:"https://gennaromazzacane.it/carnival2025"},ticketTemplate:{type:"classic",enabled:!0},whatsappTemplate:{header:`*🎭 CARNEVALE CINEMATOGRAFICO*

*👤 CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

*📝 PRODOTTI ORDINATI*`,productFormat:`{index}. {productName}
   Quantità: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`*💳 ACCONTI VERSATI*
{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
📍 {address}
📞 Per assistenza: {phone}`}},bp=async t=>{try{const e=lt(_e,Lk,_p);await Fg(e,{...t,id:_p},{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},Rq=t=>{const e=lt(_e,Lk,_p);return sl(e,r=>{if(r.exists()){const s=r.data();t({...ih,...s,company:{...ih.company,...s.company||{}},whatsappTemplate:{...ih.whatsappTemplate,...s.whatsappTemplate||{}}})}else t(ih)},r=>{console.error("Error observing settings:",r)})},fA=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(!1);S.useEffect(()=>{r(!0);const u=Rq(h=>{e(h),r(!1),i(null)});return()=>u()},[]);const o=S.useCallback(async u=>{if(t){a(!0),i(null);try{await bp(u)}catch(h){throw console.error("Error updating settings:",h),i("Errore durante l'aggiornamento delle impostazioni"),h}finally{a(!1)}}},[t]),l=S.useCallback(()=>{i(null)},[]);return{settings:t,loading:n,error:s,saving:A,updateSettings:o,resetError:l}},Dq=({selectedDate:t,selectedTime:e,selectedService:n,onSlotSelect:r})=>{var b;const{settings:s,loading:i}=fA(),[A,a]=S.useState(new Date),[o,l]=S.useState({}),[u,h]=S.useState(!0),[f,g]=S.useState(null),[m,y]=S.useState(null),[C,x]=S.useState({});S.useEffect(()=>{if(s&&!i){const _=s.serviceTypes.find(N=>N.enabled);if(_!=null&&_.bookingStartDate){const N=v0(_.bookingStartDate),R=FI();a(y0(N,R)?R:N)}h(!1)}},[s,i]),S.useEffect(()=>{(async()=>{if(!s)return;const N=new Date(A.getFullYear(),A.getMonth(),1),R=new Date(A.getFullYear(),A.getMonth()+1,0);try{const T=sn(_e,"bookings"),J=dA(T,hu("booking_date",">=",$e(N,"yyyy-MM-dd")),hu("booking_date","<=",$e(R,"yyyy-MM-dd"))),ie=await Tg(J),V={};ie.docs.forEach(q=>{const P=q.data(),K=P.booking_date;V[K]||(V[K]=[]),V[K].push(P.booking_time)}),x(V)}catch(T){console.error("Error loading existing bookings:",T),g("Errore nel caricamento delle prenotazioni esistenti")}})()},[A,s]),S.useEffect(()=>{if(t&&s){const _=Q(t),N=$e(t,"yyyy-MM-dd");l(R=>({...R,[N]:_}))}},[t,s,n,C]);const v=_=>{var J,ie;if(!s)return!0;const N=s.serviceTypes.find(V=>V.id===n||V.enabled);if(!N)return!0;if(N.bookingStartDate&&N.bookingEndDate){const V=v0(N.bookingStartDate),q=v0(N.bookingEndDate);if(y0(_,V)||_>q)return!0}const R=$e(_,"yyyy-MM-dd");if((J=N.excludedDates)!=null&&J.includes(R))return!0;const T=_.getDay();return((ie=N.excludedDays)==null?void 0:ie.includes(T))||!1},w=(_,N)=>{var T;const R=$e(_,"yyyy-MM-dd");return((T=C[R])==null?void 0:T.includes(N))||!1},F=_=>{if(!(s!=null&&s.breakTimes))return!1;const[N,R]=_.split(":").map(Number),T=new Date;return T.setHours(N,R,0,0),s.breakTimes.some(J=>{if(!J.enabled)return!1;const[ie,V]=J.start.split(":").map(Number),[q,P]=J.end.split(":").map(Number),K=new Date;K.setHours(ie,V,0,0);const z=new Date;return z.setHours(q,P,0,0),T>=K&&T<z})},Q=_=>{if(!s||v(_))return[];const N=[],[R,T=0]=s.startTime.split(":").map(Number),[J,ie=0]=s.endTime.split(":").map(Number),V=s.serviceTypes.find(z=>z.id===n||z.enabled),q=(V==null?void 0:V.duration)||s.bookingIntervals||30;let P=Cp(Ep(new Date(_),T),R);const K=Cp(Ep(new Date(_),ie),J);for(;P<K;){const z=$e(P,"HH:mm"),ge=F(z),we=w(_,z);!ge&&!we&&N.push(z),P=Sk(P,q)}return N},k=_=>{if(v(_))return;const N=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate())),R=Q(N);if(R.length===0){g("Nessun orario disponibile per questa data");return}g(null),r(N,R[0])},I=_=>{t&&r(t,_)},E=Array.from({length:42},(_,N)=>{const R=new Date(A.getFullYear(),A.getMonth(),1),J=(R.getDay()+6)%7;return R.setDate(1-J+N),R});return u?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:"⌛"}),"Caricamento calendario..."]})}):c.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:c.jsxs("div",{className:"space-y-6",children:[f&&c.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Kt,{size:20}),f]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("button",{onClick:()=>a(_=>Y$(_,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(n6,{size:20})}),c.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(Tn,{className:"w-5 h-5 text-[--theater-gold]"}),$e(A,"MMMM yyyy",{locale:qs})]}),c.jsx("button",{onClick:()=>a(_=>wp(_,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(r6,{size:20})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(_=>c.jsx("div",{className:"text-center text-gray-400 text-sm py-2 font-medium",children:_},_))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:E.map((_,N)=>{const R=$e(_,"yyyy-MM-dd"),T=v(_),J=Q(_),ie=J.length>0,V=t&&$e(t,"yyyy-MM-dd")===R,q=y0(_,FI()),P=T||q||!ie,K=m&&$e(m,"yyyy-MM-dd")===R;return c.jsxs(X.button,{onClick:()=>!P&&k(_),onMouseEnter:()=>y(_),onMouseLeave:()=>y(null),disabled:P,whileHover:P?void 0:{scale:1.05},whileTap:P?void 0:{scale:.95},className:`
                  relative p-3 rounded-lg text-center transition-all duration-200
                  ${R$(_,A)?"":"opacity-40"}
                  ${V?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":K&&!P?"bg-gray-700 text-white shadow-md":P?"bg-gray-800 text-gray-500 cursor-not-allowed":ie?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-500"}
                `,children:[c.jsx("span",{className:"relative z-10 font-medium",children:$e(_,"d")}),T&&c.jsx(Yl,{size:12,className:"absolute top-1 right-1 text-red-400"}),ie&&!q&&!T&&c.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[...Array(Math.min(3,J.length))].map((z,ge)=>c.jsx("div",{className:`w-1 h-1 rounded-full ${V?"bg-black":K?"bg-white":"bg-[--theater-gold]"}`},ge))})]},R)})}),c.jsx(Fn,{children:t&&o[$e(t,"yyyy-MM-dd")]&&c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 space-y-4",children:[c.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[c.jsx(Gs,{className:"w-4 h-4 text-[--theater-gold]"}),"Orari disponibili per il ",$e(t,"d MMMM yyyy",{locale:qs})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:(b=o[$e(t,"yyyy-MM-dd")])==null?void 0:b.map(_=>c.jsxs(X.button,{onClick:()=>I(_),whileHover:{scale:1.05,backgroundColor:"var(--theater-gold)",color:"black",transition:{duration:.2}},whileTap:{scale:.95},className:`
                      relative p-3 rounded-lg text-center transition-all duration-200
                      ${e===_?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":"bg-gray-700 text-white hover:shadow-md"}
                    `,children:[_,e===_&&c.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:c.jsx(Zn,{className:"w-3 h-3 text-white"})})]},_))})]})})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pv=function(t,e){return Pv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Pv(t,e)};function Mr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Lv=function(){return Lv=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lv.apply(this,arguments)};function xn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(A){A(i)})}return new(n||(n=Promise))(function(i,A){function a(u){try{l(r.next(u))}catch(h){A(h)}}function o(u){try{l(r.throw(u))}catch(h){A(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,o)}l((r=r.apply(t,[])).next())})}function un(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(l){return function(u){return o([l,u])}}function o(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ah(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var Xs=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Kg=function(t,e){return Xs.fromClientRect(t,e.getBoundingClientRect())},Pq=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Xs(0,0,r,s)},zg=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Ct=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},QI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ah=0;ah<QI.length;ah++)Lq[QI.charCodeAt(ah)]=ah;var NI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oh=0;oh<NI.length;oh++)rc[NI.charCodeAt(oh)]=oh;var Mq=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=rc[t.charCodeAt(r)],A=rc[t.charCodeAt(r+1)],a=rc[t.charCodeAt(r+2)],o=rc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return l},Oq=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},jq=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},jA=5,Xx=11,B0=2,Vq=Xx-jA,Mk=65536>>jA,Hq=1<<jA,x0=Hq-1,Kq=1024>>jA,zq=Mk+Kq,Gq=zq,Wq=32,$q=Gq+Wq,qq=65536>>Xx,Xq=1<<Vq,Yq=Xq-1,kI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},Jq=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},Zq=function(t,e){var n=Mq(t),r=Array.isArray(n)?jq(n):new Uint32Array(n),s=Array.isArray(n)?Oq(n):new Uint16Array(n),i=24,A=kI(s,i/2,r[4]/2),a=r[5]===2?kI(s,(i+r[4])/2):Jq(r,Math.ceil((i+r[4])/4));return new eX(r[0],r[1],r[2],r[3],A,a)},eX=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>jA],n=(n<<B0)+(e&x0),this.data[n];if(e<=65535)return n=this.index[Mk+(e-55296>>jA)],n=(n<<B0)+(e&x0),this.data[n];if(e<this.highStart)return n=$q-qq+(e>>Xx),n=this.index[n],n+=e>>jA&Yq,n=this.index[n],n=(n<<B0)+(e&x0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),RI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lh=0;lh<RI.length;lh++)tX[RI.charCodeAt(lh)]=lh;var nX="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",DI=50,rX=1,Ok=2,jk=3,sX=4,iX=5,PI=7,Vk=8,LI=9,_i=10,Mv=11,MI=12,Ov=13,AX=14,sc=15,jv=16,ch=17,Pl=18,aX=19,OI=20,Vv=21,Ll=22,C0=23,_a=24,Kn=25,ic=26,Ac=27,ba=28,oX=29,TA=30,lX=31,uh=32,dh=33,Hv=34,Kv=35,zv=36,Nu=37,Gv=38,tf=39,nf=40,E0=41,Hk=42,cX=43,uX=[9001,65288],Kk="!",Se="×",hh="÷",Wv=Zq(nX),ys=[TA,zv],$v=[rX,Ok,jk,iX],zk=[_i,Vk],jI=[Ac,ic],dX=$v.concat(zk),VI=[Gv,tf,nf,Hv,Kv],hX=[sc,Ov],fX=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,A){var a=Wv.get(i);if(a>DI?(s.push(!0),a-=DI):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(A),n.push(jv);if(a===sX||a===Mv){if(A===0)return r.push(A),n.push(TA);var o=n[A-1];return dX.indexOf(o)===-1?(r.push(r[A-1]),n.push(o)):(r.push(A),n.push(TA))}if(r.push(A),a===lX)return n.push(e==="strict"?Vv:Nu);if(a===Hk||a===oX)return n.push(TA);if(a===cX)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(Nu):n.push(TA);n.push(a)}),[r,n,s]},_0=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var A=r[i];if(A===e)return!0;if(A!==_i)break}if(s===_i)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===e)return!0;if(A!==_i)break}if(a!==_i)break}return!1},HI=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===_i)n--;else return r}return 0},pX=function(t,e,n,r,s){if(n[r]===0)return Se;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Se;var A=i-1,a=i+1,o=e[i],l=A>=0?e[A]:0,u=e[a];if(o===Ok&&u===jk)return Se;if($v.indexOf(o)!==-1)return Kk;if($v.indexOf(u)!==-1||zk.indexOf(u)!==-1)return Se;if(HI(i,e)===Vk)return hh;if(Wv.get(t[i])===Mv||(o===uh||o===dh)&&Wv.get(t[a])===Mv||o===PI||u===PI||o===LI||[_i,Ov,sc].indexOf(o)===-1&&u===LI||[ch,Pl,aX,_a,ba].indexOf(u)!==-1||HI(i,e)===Ll||_0(C0,Ll,i,e)||_0([ch,Pl],Vv,i,e)||_0(MI,MI,i,e))return Se;if(o===_i)return hh;if(o===C0||u===C0)return Se;if(u===jv||o===jv)return hh;if([Ov,sc,Vv].indexOf(u)!==-1||o===AX||l===zv&&hX.indexOf(o)!==-1||o===ba&&u===zv||u===OI||ys.indexOf(u)!==-1&&o===Kn||ys.indexOf(o)!==-1&&u===Kn||o===Ac&&[Nu,uh,dh].indexOf(u)!==-1||[Nu,uh,dh].indexOf(o)!==-1&&u===ic||ys.indexOf(o)!==-1&&jI.indexOf(u)!==-1||jI.indexOf(o)!==-1&&ys.indexOf(u)!==-1||[Ac,ic].indexOf(o)!==-1&&(u===Kn||[Ll,sc].indexOf(u)!==-1&&e[a+1]===Kn)||[Ll,sc].indexOf(o)!==-1&&u===Kn||o===Kn&&[Kn,ba,_a].indexOf(u)!==-1)return Se;if([Kn,ba,_a,ch,Pl].indexOf(u)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Kn)return Se;if([ba,_a].indexOf(f)!==-1)h--;else break}if([Ac,ic].indexOf(u)!==-1)for(var h=[ch,Pl].indexOf(o)!==-1?A:i;h>=0;){var f=e[h];if(f===Kn)return Se;if([ba,_a].indexOf(f)!==-1)h--;else break}if(Gv===o&&[Gv,tf,Hv,Kv].indexOf(u)!==-1||[tf,Hv].indexOf(o)!==-1&&[tf,nf].indexOf(u)!==-1||[nf,Kv].indexOf(o)!==-1&&u===nf||VI.indexOf(o)!==-1&&[OI,ic].indexOf(u)!==-1||VI.indexOf(u)!==-1&&o===Ac||ys.indexOf(o)!==-1&&ys.indexOf(u)!==-1||o===_a&&ys.indexOf(u)!==-1||ys.concat(Kn).indexOf(o)!==-1&&u===Ll&&uX.indexOf(t[a])===-1||ys.concat(Kn).indexOf(u)!==-1&&o===Pl)return Se;if(o===E0&&u===E0){for(var g=n[i],m=1;g>0&&(g--,e[g]===E0);)m++;if(m%2!==0)return Se}return o===uh&&u===dh?Se:hh},gX=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=fX(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Kn,TA,Hk].indexOf(a)!==-1?Nu:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[r,s,A]},mX=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===Kk,this.start=r,this.end=s}return t.prototype.slice=function(){return Ct.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),yX=function(t,e){var n=zg(t),r=gX(n,e),s=r[0],i=r[1],A=r[2],a=n.length,o=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var u=Se;l<a&&(u=pX(n,i,s,++l,A))===Se;);if(u!==Se||l===a){var h=new mX(n,u,o,l);return o=l,{value:h,done:!1}}return{done:!0,value:null}}}},vX=1,wX=2,ud=4,KI=8,Ip=10,zI=47,Nc=92,BX=9,xX=32,fh=34,Ml=61,CX=35,EX=36,_X=37,ph=39,gh=40,Ol=41,bX=95,Rn=45,IX=33,TX=60,FX=62,UX=64,SX=91,QX=93,NX=61,kX=123,mh=63,RX=125,GI=124,DX=126,PX=128,WI=65533,b0=42,RA=43,LX=44,MX=58,OX=59,ku=46,jX=0,VX=8,HX=11,KX=14,zX=31,GX=127,Vr=-1,Gk=48,Wk=97,$k=101,WX=102,$X=117,qX=122,qk=65,Xk=69,Yk=70,XX=85,YX=90,pn=function(t){return t>=Gk&&t<=57},JX=function(t){return t>=55296&&t<=57343},Ia=function(t){return pn(t)||t>=qk&&t<=Yk||t>=Wk&&t<=WX},ZX=function(t){return t>=Wk&&t<=qX},eY=function(t){return t>=qk&&t<=YX},tY=function(t){return ZX(t)||eY(t)},nY=function(t){return t>=PX},yh=function(t){return t===Ip||t===BX||t===xX},Tp=function(t){return tY(t)||nY(t)||t===bX},$I=function(t){return Tp(t)||pn(t)||t===Rn},rY=function(t){return t>=jX&&t<=VX||t===HX||t>=KX&&t<=zX||t===GX},di=function(t,e){return t!==Nc?!1:e!==Ip},vh=function(t,e,n){return t===Rn?Tp(e)||di(e,n):Tp(t)?!0:!!(t===Nc&&di(t,e))},I0=function(t,e,n){return t===RA||t===Rn?pn(e)?!0:e===ku&&pn(n):pn(t===ku?e:t)},sY=function(t){var e=0,n=1;(t[e]===RA||t[e]===Rn)&&(t[e]===Rn&&(n=-1),e++);for(var r=[];pn(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Ct.apply(void 0,r),10):0;t[e]===ku&&e++;for(var i=[];pn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(Ct.apply(void 0,i),10):0;(t[e]===Xk||t[e]===$k)&&e++;var o=1;(t[e]===RA||t[e]===Rn)&&(t[e]===Rn&&(o=-1),e++);for(var l=[];pn(t[e]);)l.push(t[e++]);var u=l.length?parseInt(Ct.apply(void 0,l),10):0;return n*(s+a*Math.pow(10,-A))*Math.pow(10,o*u)},iY={type:2},AY={type:3},aY={type:4},oY={type:13},lY={type:8},cY={type:21},uY={type:9},dY={type:10},hY={type:11},fY={type:12},pY={type:14},wh={type:23},gY={type:1},mY={type:25},yY={type:24},vY={type:26},wY={type:27},BY={type:28},xY={type:29},CY={type:31},qv={type:32},Jk=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(zg(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==qv;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case fh:return this.consumeStringToken(fh);case CX:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if($I(n)||di(r,s)){var i=vh(n,r,s)?wX:vX,A=this.consumeName();return{type:5,value:A,flags:i}}break;case EX:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),oY;break;case ph:return this.consumeStringToken(ph);case gh:return iY;case Ol:return AY;case b0:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),pY;break;case RA:if(I0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case LX:return aY;case Rn:var a=e,o=this.peekCodePoint(0),l=this.peekCodePoint(1);if(I0(a,o,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(vh(a,o,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===Rn&&l===FX)return this.consumeCodePoint(),this.consumeCodePoint(),yY;break;case ku:if(I0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case zI:if(this.peekCodePoint(0)===b0)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===b0&&(u=this.consumeCodePoint(),u===zI))return this.consumeToken();if(u===Vr)return this.consumeToken()}break;case MX:return vY;case OX:return wY;case TX:if(this.peekCodePoint(0)===IX&&this.peekCodePoint(1)===Rn&&this.peekCodePoint(2)===Rn)return this.consumeCodePoint(),this.consumeCodePoint(),mY;break;case UX:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(vh(h,f,g)){var A=this.consumeName();return{type:7,value:A}}break;case SX:return BY;case Nc:if(di(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case QX:return xY;case NX:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),lY;break;case kX:return hY;case RX:return fY;case $X:case XX:var m=this.peekCodePoint(0),y=this.peekCodePoint(1);return m===RA&&(Ia(y)||y===mh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case GI:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),uY;if(this.peekCodePoint(0)===GI)return this.consumeCodePoint(),cY;break;case DX:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),dY;break;case Vr:return qv}return yh(e)?(this.consumeWhiteSpace(),CY):pn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Tp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ct(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Ia(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===mh&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Ct.apply(void 0,e.map(function(o){return o===mh?Gk:o})),16),i=parseInt(Ct.apply(void 0,e.map(function(o){return o===mh?Yk:o})),16);return{type:30,start:s,end:i}}var A=parseInt(Ct.apply(void 0,e),16);if(this.peekCodePoint(0)===Rn&&Ia(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Ia(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(Ct.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===gh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===gh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===ph||n===fh){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vr||this.peekCodePoint(0)===Ol)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),wh)}for(;;){var s=this.consumeCodePoint();if(s===Vr||s===Ol)return{type:22,value:Ct.apply(void 0,e)};if(yh(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vr||this.peekCodePoint(0)===Ol?(this.consumeCodePoint(),{type:22,value:Ct.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wh);if(s===fh||s===ph||s===gh||rY(s))return this.consumeBadUrlRemnants(),wh;if(s===Nc)if(di(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),wh;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;yh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ol||e===Vr)return;di(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Ct.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Vr||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===Ip)return this._value.splice(0,r),gY;if(s===Nc){var i=this._value[r+1];i!==Vr&&i!==void 0&&(i===Ip?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):di(s,i)&&(n+=this.consumeStringSlice(r),n+=Ct(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=ud,r=this.peekCodePoint(0);for((r===RA||r===Rn)&&e.push(this.consumeCodePoint());pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===ku&&pn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=KI;pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Xk||r===$k)&&((s===RA||s===Rn)&&pn(i)||pn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=KI;pn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sY(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(vh(s,i,A)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===_X?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ia(e)){for(var n=Ct(e);Ia(this.peekCodePoint(0))&&n.length<6;)n+=Ct(this.consumeCodePoint());yh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||JX(r)||r>1114111?WI:r}return e===Vr?WI:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if($I(n))e+=Ct(n);else if(di(n,this.peekCodePoint(0)))e+=Ct(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),Zk=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new Jk;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||_Y(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?qv:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),dd=function(t){return t.type===15},ol=function(t){return t.type===17},qe=function(t){return t.type===20},EY=function(t){return t.type===0},Xv=function(t,e){return qe(t)&&t.value===e},eR=function(t){return t.type!==31},zo=function(t){return t.type!==31&&t.type!==4},us=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},_Y=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},rA=function(t){return t.type===17||t.type===15},St=function(t){return t.type===16||rA(t)},tR=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Jt={type:17,number:0,flags:ud},Yx={type:16,number:50,flags:ud},bi={type:16,number:100,flags:ud},ac=function(t,e,n){var r=t[0],s=t[1];return[Je(r,e),Je(typeof s<"u"?s:r,n)]},Je=function(t,e){if(t.type===16)return t.number/100*e;if(dd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},nR="deg",rR="grad",sR="rad",iR="turn",Gg={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case nR:return Math.PI*e.number/180;case rR:return Math.PI/200*e.number;case sR:return e.number;case iR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},AR=function(t){return t.type===15&&(t.unit===nR||t.unit===rR||t.unit===sR||t.unit===iR)},aR=function(t){var e=t.filter(qe).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Jt,Jt];case"to top":case"bottom":return fr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Jt,bi];case"to right":case"left":return fr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[bi,bi];case"to bottom":case"top":return fr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[bi,Jt];case"to left":case"right":return fr(270)}return 0},fr=function(t){return Math.PI*t/180},ji={name:"color",parse:function(t,e){if(e.type===18){var n=bY[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Ii(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return Ii(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Ii(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return Ii(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=ks[e.value.toUpperCase()];if(typeof a<"u")return a}return ks.TRANSPARENT}},Vi=function(t){return(255&t)===0},Mt=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Ii=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},qI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},XI=function(t,e){var n=e.filter(zo);if(n.length===3){var r=n.map(qI),s=r[0],i=r[1],A=r[2];return Ii(s,i,A,1)}if(n.length===4){var a=n.map(qI),s=a[0],i=a[1],A=a[2],o=a[3];return Ii(s,i,A,o)}return 0};function T0(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var YI=function(t,e){var n=e.filter(zo),r=n[0],s=n[1],i=n[2],A=n[3],a=(r.type===17?fr(r.number):Gg.parse(t,r))/(Math.PI*2),o=St(s)?s.number/100:0,l=St(i)?i.number/100:0,u=typeof A<"u"&&St(A)?Je(A,1):1;if(o===0)return Ii(l*255,l*255,l*255,1);var h=l<=.5?l*(o+1):l+o-l*o,f=l*2-h,g=T0(f,h,a+1/3),m=T0(f,h,a),y=T0(f,h,a-1/3);return Ii(g*255,m*255,y*255,u)},bY={hsl:YI,hsla:YI,rgb:XI,rgba:XI},kc=function(t,e){return ji.parse(t,Zk.create(e).parseComponentValue())},ks={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},IY={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(qe(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},TY={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Wg=function(t,e){var n=ji.parse(t,e[0]),r=e[1];return r&&St(r)?{color:n,stop:r}:{color:n,stop:null}},JI=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Jt),r.stop===null&&(r.stop=bi);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=Je(a,e);o>i?s.push(o):s.push(i),i=o}else s.push(null)}for(var l=null,A=0;A<s.length;A++){var u=s[A];if(u===null)l===null&&(l=A);else if(l!==null){for(var h=A-l,f=s[l-1],g=(u-f)/(h+1),m=1;m<=h;m++)s[l+m-1]=g*m;l=null}}return t.map(function(y,C){var x=y.color;return{color:x,stop:Math.max(Math.min(1,s[C]/e),0)}})},FY=function(t,e,n){var r=e/2,s=n/2,i=Je(t[0],e)-r,A=s-Je(t[1],n);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},UY=function(t,e,n){var r=typeof t=="number"?t:FY(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,A=n/2,a=s/2,o=Math.sin(r-Math.PI/2)*a,l=Math.cos(r-Math.PI/2)*a;return[s,i-l,i+l,A-o,A+o]},xr=function(t,e){return Math.sqrt(t*t+e*e)},ZI=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var o=a[0],l=a[1],u=xr(n-o,r-l);return(s?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:a,optimumDistance:u}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},SY=function(t,e,n,r,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=A=Math.min(xr(e,n),xr(e,n-s),xr(e-r,n),xr(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),o=ZI(r,s,e,n,!0),l=o[0],u=o[1];i=xr(l-e,(u-n)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=A=Math.max(xr(e,n),xr(e,n-s),xr(e-r,n),xr(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=ZI(r,s,e,n,!1),l=h[0],u=h[1];i=xr(l-e,(u-n)/a),A=a*i}break}return Array.isArray(t.size)&&(i=Je(t.size[0],r),A=t.size.length===2?Je(t.size[1],s):i),[i,A]},QY=function(t,e){var n=fr(180),r=[];return us(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){n=aR(s);return}else if(AR(A)){n=Gg.parse(t,A);return}}var a=Wg(t,s);r.push(a)}),{angle:n,stops:r,type:1}},Bh=function(t,e){var n=fr(180),r=[];return us(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=aR(s);return}else if(AR(A)){n=(Gg.parse(t,A)+fr(270))%fr(360);return}}var a=Wg(t,s);r.push(a)}),{angle:n,stops:r,type:1}},NY=function(t,e){var n=fr(180),r=[],s=1,i=0,A=3,a=[];return us(e).forEach(function(o,l){var u=o[0];if(l===0){if(qe(u)&&u.value==="linear"){s=1;return}else if(qe(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=ji.parse(t,u.values[0]);r.push({stop:Jt,color:h})}else if(u.name==="to"){var h=ji.parse(t,u.values[0]);r.push({stop:bi,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(zo);if(f.length===2){var h=ji.parse(t,f[1]),g=f[0];ol(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),s===1?{angle:(n+fr(180))%fr(360),stops:r,type:s}:{size:A,shape:i,stops:r,position:a,type:s}},oR="closest-side",lR="farthest-side",cR="closest-corner",uR="farthest-corner",dR="circle",hR="ellipse",fR="cover",pR="contain",kY=function(t,e){var n=0,r=3,s=[],i=[];return us(e).forEach(function(A,a){var o=!0;if(a===0){var l=!1;o=A.reduce(function(h,f){if(l)if(qe(f))switch(f.value){case"center":return i.push(Yx),h;case"top":case"left":return i.push(Jt),h;case"right":case"bottom":return i.push(bi),h}else(St(f)||rA(f))&&i.push(f);else if(qe(f))switch(f.value){case dR:return n=0,!1;case hR:return n=1,!1;case"at":return l=!0,!1;case oR:return r=0,!1;case fR:case lR:return r=1,!1;case pR:case cR:return r=2,!1;case uR:return r=3,!1}else if(rA(f)||St(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return h},o)}if(o){var u=Wg(t,A);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},xh=function(t,e){var n=0,r=3,s=[],i=[];return us(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(u,h){if(qe(h))switch(h.value){case"center":return i.push(Yx),!1;case"top":case"left":return i.push(Jt),!1;case"right":case"bottom":return i.push(bi),!1}else if(St(h)||rA(h))return i.push(h),!1;return u},o):a===1&&(o=A.reduce(function(u,h){if(qe(h))switch(h.value){case dR:return n=0,!1;case hR:return n=1,!1;case pR:case oR:return r=0,!1;case lR:return r=1,!1;case cR:return r=2,!1;case fR:case uR:return r=3,!1}else if(rA(h)||St(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},o)),o){var l=Wg(t,A);s.push(l)}}),{size:r,shape:n,stops:s,position:i,type:2}},RY=function(t){return t.type===1},DY=function(t){return t.type===2},Jx={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=gR[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function PY(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!gR[t.name])}var gR={"linear-gradient":QY,"-moz-linear-gradient":Bh,"-ms-linear-gradient":Bh,"-o-linear-gradient":Bh,"-webkit-linear-gradient":Bh,"radial-gradient":kY,"-moz-radial-gradient":xh,"-ms-radial-gradient":xh,"-o-radial-gradient":xh,"-webkit-radial-gradient":xh,"-webkit-gradient":NY},LY={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return zo(r)&&PY(r)}).map(function(r){return Jx.parse(t,r)})}},MY={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(qe(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},OY={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return us(e).map(function(n){return n.filter(St)}).map(tR)}},jY={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return us(e).map(function(n){return n.filter(qe).map(function(r){return r.value}).join(" ")}).map(VY)}},VY=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Bo;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Bo||(Bo={}));var HY={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return us(e).map(function(n){return n.filter(KY)})}},KY=function(t){return qe(t)||St(t)},$g=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},zY=$g("top"),GY=$g("right"),WY=$g("bottom"),$Y=$g("left"),qg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return tR(n.filter(St))}}},qY=qg("top-left"),XY=qg("top-right"),YY=qg("bottom-right"),JY=qg("bottom-left"),Xg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ZY=Xg("top"),eJ=Xg("right"),tJ=Xg("bottom"),nJ=Xg("left"),Yg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return dd(n)?n.number:0}}},rJ=Yg("top"),sJ=Yg("right"),iJ=Yg("bottom"),AJ=Yg("left"),aJ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oJ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},lJ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).reduce(function(n,r){return n|cJ(r.value)},0)}},cJ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},uJ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},dJ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Fp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Fp||(Fp={}));var hJ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Fp.STRICT;case"normal":default:return Fp.NORMAL}}},fJ={name:"line-height",initialValue:"normal",prefix:!1,type:4},eT=function(t,e){return qe(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:St(t)?Je(t,e):e},pJ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Jx.parse(t,e)}},gJ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Yv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Jg=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},mJ=Jg("top"),yJ=Jg("right"),vJ=Jg("bottom"),wJ=Jg("left"),BJ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},xJ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Zg=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},CJ=Zg("top"),EJ=Zg("right"),_J=Zg("bottom"),bJ=Zg("left"),IJ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},TJ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},FJ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Xv(e[0],"none")?[]:us(e).map(function(n){for(var r={color:ks.TRANSPARENT,offsetX:Jt,offsetY:Jt,blur:Jt},s=0,i=0;i<n.length;i++){var A=n[i];rA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=ji.parse(t,A)}return r})}},UJ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},SJ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=kJ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},QJ=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},NJ=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,A,a]:null},kJ={matrix:QJ,matrix3d:NJ},tT={type:16,number:50,flags:ud},RJ=[tT,tT],DJ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(St);return n.length!==2?RJ:[n[0],n[1]]}},PJ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Rc;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Rc||(Rc={}));var LJ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Rc.BREAK_ALL;case"keep-all":return Rc.KEEP_ALL;case"normal":default:return Rc.NORMAL}}},MJ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ol(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},mR={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},OJ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ol(e)?e.number:1}},jJ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},VJ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},HJ={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},KJ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},zJ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ol(e))return e.number;if(qe(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},GJ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(qe).map(function(n){return n.value})}},WJ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Dt=function(t,e){return(t&e)!==0},$J={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},qJ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(eR),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var o=a&&ol(a)?a.number:1;r.push({counter:A.value,increment:o})}}return r}},XJ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(eR),s=0;s<r.length;s++){var i=r[s],A=r[s+1];if(qe(i)&&i.value!=="none"){var a=A&&ol(A)?A.number:0;n.push({counter:i.value,reset:a})}}return n}},YJ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(dd).map(function(n){return mR.parse(t,n)})}},JJ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(EY);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;r.push({open:A,close:a})}return r}},nT=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},ZJ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Xv(e[0],"none")?[]:us(e).map(function(n){for(var r={color:255,offsetX:Jt,offsetY:Jt,blur:Jt,spread:Jt,inset:!1},s=0,i=0;i<n.length;i++){var A=n[i];Xv(A,"inset")?r.inset=!0:rA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=ji.parse(t,A)}return r})}},eZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(qe).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},tZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},nZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return dd(e)?e.number:0}},rZ=function(){function t(e,n){var r,s;this.animationDuration=Ae(e,YJ,n.animationDuration),this.backgroundClip=Ae(e,IY,n.backgroundClip),this.backgroundColor=Ae(e,TY,n.backgroundColor),this.backgroundImage=Ae(e,LY,n.backgroundImage),this.backgroundOrigin=Ae(e,MY,n.backgroundOrigin),this.backgroundPosition=Ae(e,OY,n.backgroundPosition),this.backgroundRepeat=Ae(e,jY,n.backgroundRepeat),this.backgroundSize=Ae(e,HY,n.backgroundSize),this.borderTopColor=Ae(e,zY,n.borderTopColor),this.borderRightColor=Ae(e,GY,n.borderRightColor),this.borderBottomColor=Ae(e,WY,n.borderBottomColor),this.borderLeftColor=Ae(e,$Y,n.borderLeftColor),this.borderTopLeftRadius=Ae(e,qY,n.borderTopLeftRadius),this.borderTopRightRadius=Ae(e,XY,n.borderTopRightRadius),this.borderBottomRightRadius=Ae(e,YY,n.borderBottomRightRadius),this.borderBottomLeftRadius=Ae(e,JY,n.borderBottomLeftRadius),this.borderTopStyle=Ae(e,ZY,n.borderTopStyle),this.borderRightStyle=Ae(e,eJ,n.borderRightStyle),this.borderBottomStyle=Ae(e,tJ,n.borderBottomStyle),this.borderLeftStyle=Ae(e,nJ,n.borderLeftStyle),this.borderTopWidth=Ae(e,rJ,n.borderTopWidth),this.borderRightWidth=Ae(e,sJ,n.borderRightWidth),this.borderBottomWidth=Ae(e,iJ,n.borderBottomWidth),this.borderLeftWidth=Ae(e,AJ,n.borderLeftWidth),this.boxShadow=Ae(e,ZJ,n.boxShadow),this.color=Ae(e,aJ,n.color),this.direction=Ae(e,oJ,n.direction),this.display=Ae(e,lJ,n.display),this.float=Ae(e,uJ,n.cssFloat),this.fontFamily=Ae(e,HJ,n.fontFamily),this.fontSize=Ae(e,KJ,n.fontSize),this.fontStyle=Ae(e,WJ,n.fontStyle),this.fontVariant=Ae(e,GJ,n.fontVariant),this.fontWeight=Ae(e,zJ,n.fontWeight),this.letterSpacing=Ae(e,dJ,n.letterSpacing),this.lineBreak=Ae(e,hJ,n.lineBreak),this.lineHeight=Ae(e,fJ,n.lineHeight),this.listStyleImage=Ae(e,pJ,n.listStyleImage),this.listStylePosition=Ae(e,gJ,n.listStylePosition),this.listStyleType=Ae(e,Yv,n.listStyleType),this.marginTop=Ae(e,mJ,n.marginTop),this.marginRight=Ae(e,yJ,n.marginRight),this.marginBottom=Ae(e,vJ,n.marginBottom),this.marginLeft=Ae(e,wJ,n.marginLeft),this.opacity=Ae(e,OJ,n.opacity);var i=Ae(e,BJ,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ae(e,xJ,n.overflowWrap),this.paddingTop=Ae(e,CJ,n.paddingTop),this.paddingRight=Ae(e,EJ,n.paddingRight),this.paddingBottom=Ae(e,_J,n.paddingBottom),this.paddingLeft=Ae(e,bJ,n.paddingLeft),this.paintOrder=Ae(e,eZ,n.paintOrder),this.position=Ae(e,TJ,n.position),this.textAlign=Ae(e,IJ,n.textAlign),this.textDecorationColor=Ae(e,jJ,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Ae(e,VJ,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=Ae(e,FJ,n.textShadow),this.textTransform=Ae(e,UJ,n.textTransform),this.transform=Ae(e,SJ,n.transform),this.transformOrigin=Ae(e,DJ,n.transformOrigin),this.visibility=Ae(e,PJ,n.visibility),this.webkitTextStrokeColor=Ae(e,tZ,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ae(e,nZ,n.webkitTextStrokeWidth),this.wordBreak=Ae(e,LJ,n.wordBreak),this.zIndex=Ae(e,MJ,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Vi(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Dt(this.display,4)||Dt(this.display,33554432)||Dt(this.display,268435456)||Dt(this.display,536870912)||Dt(this.display,67108864)||Dt(this.display,134217728)},t}(),sZ=function(){function t(e,n){this.content=Ae(e,$J,n.content),this.quotes=Ae(e,JJ,n.quotes)}return t}(),rT=function(){function t(e,n){this.counterIncrement=Ae(e,qJ,n.counterIncrement),this.counterReset=Ae(e,XJ,n.counterReset)}return t}(),Ae=function(t,e,n){var r=new Jk,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new Zk(r.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,qe(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Gg.parse(t,i.parseComponentValue());case"color":return ji.parse(t,i.parseComponentValue());case"image":return Jx.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return rA(a)?a:Jt;case"length-percentage":var o=i.parseComponentValue();return St(o)?o:Jt;case"time":return mR.parse(t,i.parseComponentValue())}break}},iZ="data-html2canvas-debug",AZ=function(t){var e=t.getAttribute(iZ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Jv=function(t,e){var n=AZ(t);return n===1||e===n},ds=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Jv(n,3))debugger;this.styles=new rZ(e,window.getComputedStyle(n,null)),tw(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Kg(this.context,n),Jv(n,4)&&(this.flags|=16)}return t}(),aZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",sT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ch=0;Ch<sT.length;Ch++)oc[sT.charCodeAt(Ch)]=Ch;var oZ=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=oc[t.charCodeAt(r)],A=oc[t.charCodeAt(r+1)],a=oc[t.charCodeAt(r+2)],o=oc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return l},lZ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},cZ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},VA=5,Zx=11,F0=2,uZ=Zx-VA,yR=65536>>VA,dZ=1<<VA,U0=dZ-1,hZ=1024>>VA,fZ=yR+hZ,pZ=fZ,gZ=32,mZ=pZ+gZ,yZ=65536>>Zx,vZ=1<<uZ,wZ=vZ-1,iT=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},BZ=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},xZ=function(t,e){var n=oZ(t),r=Array.isArray(n)?cZ(n):new Uint32Array(n),s=Array.isArray(n)?lZ(n):new Uint16Array(n),i=24,A=iT(s,i/2,r[4]/2),a=r[5]===2?iT(s,(i+r[4])/2):BZ(r,Math.ceil((i+r[4])/4));return new CZ(r[0],r[1],r[2],r[3],A,a)},CZ=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>VA],n=(n<<F0)+(e&U0),this.data[n];if(e<=65535)return n=this.index[yR+(e-55296>>VA)],n=(n<<F0)+(e&U0),this.data[n];if(e<this.highStart)return n=mZ-yZ+(e>>Zx),n=this.index[n],n+=e>>VA&wZ,n=this.index[n],n=(n<<F0)+(e&U0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),AT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",EZ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<AT.length;Eh++)EZ[AT.charCodeAt(Eh)]=Eh;var _Z=1,S0=2,Q0=3,aT=4,oT=5,bZ=7,lT=8,N0=9,k0=10,cT=11,uT=12,dT=13,hT=14,R0=15,IZ=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},TZ=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},FZ=xZ(aZ),or="×",D0="÷",UZ=function(t){return FZ.get(t)},SZ=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],A=e[n];if(i===S0&&A===Q0)return or;if(i===S0||i===Q0||i===aT||A===S0||A===Q0||A===aT)return D0;if(i===lT&&[lT,N0,cT,uT].indexOf(A)!==-1||(i===cT||i===N0)&&(A===N0||A===k0)||(i===uT||i===k0)&&A===k0||A===dT||A===oT||A===bZ||i===_Z)return or;if(i===dT&&A===hT){for(;s===oT;)s=e[--r];if(s===hT)return or}if(i===R0&&A===R0){for(var a=0;s===R0;)a++,s=e[--r];if(a%2===0)return or}return D0},QZ=function(t){var e=IZ(t),n=e.length,r=0,s=0,i=e.map(UZ);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=or;r<n&&(A=SZ(e,i,++r))===or;);if(A!==or||r===n){var a=TZ.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},NZ=function(t){for(var e=QZ(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},kZ=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},RZ=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=zg(r.data).map(function(o){return Ct(o)}),i=0,A={},a=s.every(function(o,l){n.setStart(r,i),n.setEnd(r,i+o.length);var u=n.getBoundingClientRect();i+=o.length;var h=u.x>A.x||u.y>A.y;return A=u,l===0?!0:h});return t.body.removeChild(e),a},DZ=function(){return typeof new Image().crossOrigin<"u"},PZ=function(){return typeof new XMLHttpRequest().responseType=="string"},LZ=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},fT=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},MZ=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var A=Zv(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),pT(A).then(function(a){r.drawImage(a,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var l=t.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=n+"px",fT(o)?pT(Zv(n,n,0,0,l)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),fT(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Zv=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},pT=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},$t={get SUPPORT_RANGE_BOUNDS(){var t=kZ(document);return Object.defineProperty($t,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=$t.SUPPORT_RANGE_BOUNDS&&RZ(document);return Object.defineProperty($t,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=LZ(document);return Object.defineProperty($t,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?MZ(document):Promise.resolve(!1);return Object.defineProperty($t,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=DZ();return Object.defineProperty($t,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=PZ();return Object.defineProperty($t,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty($t,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty($t,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Dc=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),OZ=function(t,e,n,r){var s=HZ(e,n),i=[],A=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if($t.SUPPORT_RANGE_BOUNDS){var o=gT(r,A,a.length).getClientRects();if(o.length>1){var l=eC(a),u=0;l.forEach(function(f){i.push(new Dc(f,Xs.fromDOMRectList(t,gT(r,u+A,f.length).getClientRects()))),u+=f.length})}else i.push(new Dc(a,Xs.fromDOMRectList(t,o)))}else{var h=r.splitText(a.length);i.push(new Dc(a,jZ(t,r))),r=h}else $t.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));A+=a.length}),i},jZ=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=Kg(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return Xs.EMPTY},gT=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},eC=function(t){if($t.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return NZ(t)},VZ=function(t,e){if($t.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return zZ(t,e)},HZ=function(t,e){return e.letterSpacing!==0?eC(t):VZ(t,e)},KZ=[32,160,4961,65792,65793,4153,4241],zZ=function(t,e){for(var n=yX(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var A=s.value.slice(),a=zg(A),o="";a.forEach(function(l){KZ.indexOf(l)===-1?o+=Ct(l):(o.length&&r.push(o),r.push(Ct(l)),o="")}),o.length&&r.push(o)}};!(s=n.next()).done;)i();return r},GZ=function(){function t(e,n,r){this.text=WZ(n.data,r.textTransform),this.textBounds=OZ(e,this.text,r,n)}return t}(),WZ=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace($Z,qZ);case 2:return t.toUpperCase();default:return t}},$Z=/(^|\s|:|-|\(|\))([a-z])/g,qZ=function(t,e,n){return t.length>0?e+n.toUpperCase():t},vR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(ds),wR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(ds),BR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,A=Kg(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(ds),xR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ds),ew=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(ds),XZ=[{type:15,flags:0,unit:"px",number:3}],YZ=[{type:16,flags:0,number:50}],JZ=function(t){return t.width>t.height?new Xs(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Xs(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},ZZ=function(t){var e=t.type===eee?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Up="checkbox",Sp="radio",eee="password",mT=707406591,tC=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=ZZ(r),(s.type===Up||s.type===Sp)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=JZ(s.bounds)),s.type){case Up:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=XZ;break;case Sp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=YZ;break}return s}return e}(ds),CR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(ds),ER=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ds),_R=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=IR(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?kc(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ks.TRANSPARENT,A=r.contentWindow.document.body?kc(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):ks.TRANSPARENT;s.backgroundColor=Vi(i)?Vi(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(ds),tee=["OL","UL","MENU"],rf=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,TR(s)&&s.data.trim().length>0)n.textNodes.push(new GZ(t,s,n.styles));else if(so(s))if(QR(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return rf(t,a,n,r)});else{var A=bR(t,s);A.styles.isVisible()&&(nee(s,A,r)?A.flags|=4:ree(A.styles)&&(A.flags|=2),tee.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?rf(t,s.shadowRoot,A,r):!Qp(s)&&!FR(s)&&!Np(s)&&rf(t,s,A,r))}},bR=function(t,e){return nw(e)?new vR(t,e):UR(e)?new wR(t,e):FR(e)?new BR(t,e):see(e)?new xR(t,e):iee(e)?new ew(t,e):Aee(e)?new tC(t,e):Np(e)?new CR(t,e):Qp(e)?new ER(t,e):SR(e)?new _R(t,e):new ds(t,e)},IR=function(t,e){var n=bR(t,e);return n.flags|=4,rf(t,e,n,n),n},nee=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||nC(t)&&n.styles.isTransparent()},ree=function(t){return t.isPositioned()||t.isFloating()},TR=function(t){return t.nodeType===Node.TEXT_NODE},so=function(t){return t.nodeType===Node.ELEMENT_NODE},tw=function(t){return so(t)&&typeof t.style<"u"&&!sf(t)},sf=function(t){return typeof t.className=="object"},see=function(t){return t.tagName==="LI"},iee=function(t){return t.tagName==="OL"},Aee=function(t){return t.tagName==="INPUT"},aee=function(t){return t.tagName==="HTML"},FR=function(t){return t.tagName==="svg"},nC=function(t){return t.tagName==="BODY"},UR=function(t){return t.tagName==="CANVAS"},yT=function(t){return t.tagName==="VIDEO"},nw=function(t){return t.tagName==="IMG"},SR=function(t){return t.tagName==="IFRAME"},vT=function(t){return t.tagName==="STYLE"},oee=function(t){return t.tagName==="SCRIPT"},Qp=function(t){return t.tagName==="TEXTAREA"},Np=function(t){return t.tagName==="SELECT"},QR=function(t){return t.tagName==="SLOT"},wT=function(t){return t.tagName.indexOf("-")>0},lee=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var o=n.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var o=n.counters[a.counter];A.push(a.counter),o||(o=n.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),BT={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},xT={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},cee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},uee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Ta=function(t,e,n,r,s,i){return t<e||t>n?Ru(t,s,i.length>0):r.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=r.values[o];return A},"")+i},NR=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Bt=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(NR(Math.abs(t),i,r,function(A){return Ct(Math.floor(A%i)+e)})+s)},BA=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return NR(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Ra=1,oi=2,li=4,lc=8,vs=function(t,e,n,r,s,i){if(t<-9999||t>9999)return Ru(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var l=A%10;l===0&&Dt(i,Ra)&&a!==""?a=e[l]+a:l>1||l===1&&o===0||l===1&&o===1&&Dt(i,oi)||l===1&&o===1&&Dt(i,li)&&t>100||l===1&&o>1&&Dt(i,lc)?a=e[l]+(o>0?n[o-1]:"")+a:l===1&&o>0&&(a=n[o-1]+a),A=Math.floor(A/10)}return(t<0?r:"")+a},CT="十百千萬",ET="拾佰仟萬",_T="マイナス",P0="마이너스",Ru=function(t,e,n){var r=n?". ":"",s=n?"、":"",i=n?", ":"",A=n?" ":"";switch(e){case 0:return"•"+A;case 1:return"◦"+A;case 2:return"◾"+A;case 5:var a=Bt(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return BA(t,"〇一二三四五六七八九",s);case 6:return Ta(t,1,3999,BT,3,r).toLowerCase();case 7:return Ta(t,1,3999,BT,3,r);case 8:return Bt(t,945,969,!1,r);case 9:return Bt(t,97,122,!1,r);case 10:return Bt(t,65,90,!1,r);case 11:return Bt(t,1632,1641,!0,r);case 12:case 49:return Ta(t,1,9999,xT,3,r);case 35:return Ta(t,1,9999,xT,3,r).toLowerCase();case 13:return Bt(t,2534,2543,!0,r);case 14:case 30:return Bt(t,6112,6121,!0,r);case 15:return BA(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return BA(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return vs(t,"零一二三四五六七八九",CT,"負",s,oi|li|lc);case 47:return vs(t,"零壹貳參肆伍陸柒捌玖",ET,"負",s,Ra|oi|li|lc);case 42:return vs(t,"零一二三四五六七八九",CT,"负",s,oi|li|lc);case 41:return vs(t,"零壹贰叁肆伍陆柒捌玖",ET,"负",s,Ra|oi|li|lc);case 26:return vs(t,"〇一二三四五六七八九","十百千万",_T,s,0);case 25:return vs(t,"零壱弐参四伍六七八九","拾百千万",_T,s,Ra|oi|li);case 31:return vs(t,"영일이삼사오육칠팔구","십백천만",P0,i,Ra|oi|li);case 33:return vs(t,"零一二三四五六七八九","十百千萬",P0,i,0);case 32:return vs(t,"零壹貳參四五六七八九","拾百千",P0,i,Ra|oi|li);case 18:return Bt(t,2406,2415,!0,r);case 20:return Ta(t,1,19999,uee,3,r);case 21:return Bt(t,2790,2799,!0,r);case 22:return Bt(t,2662,2671,!0,r);case 22:return Ta(t,1,10999,cee,3,r);case 23:return BA(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return BA(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Bt(t,3302,3311,!0,r);case 28:return BA(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return BA(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Bt(t,3792,3801,!0,r);case 37:return Bt(t,6160,6169,!0,r);case 38:return Bt(t,4160,4169,!0,r);case 39:return Bt(t,2918,2927,!0,r);case 40:return Bt(t,1776,1785,!0,r);case 43:return Bt(t,3046,3055,!0,r);case 44:return Bt(t,3174,3183,!0,r);case 45:return Bt(t,3664,3673,!0,r);case 46:return Bt(t,3872,3881,!0,r);case 3:default:return Bt(t,48,57,!0,r)}},kR="data-html2canvas-ignore",bT=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new lee,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=dee(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,o=a.document,l=pee(s).then(function(){return xn(r,void 0,void 0,function(){var u,h;return un(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(vee),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,fee(o)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(o,h)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write(mee(document.doctype)+"<html></html>"),yee(this.referenceElement.ownerDocument,i,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),l},t.prototype.createElementClone=function(e){if(Jv(e,2))debugger;if(UR(e))return this.createCanvasClone(e);if(yT(e))return this.createVideoClone(e);if(vT(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return nw(n)&&(nw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),wT(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return L0(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!so(n)||!oee(n)&&!n.hasAttribute(kR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!so(n)||!vT(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(so(i)&&QR(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(TR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&so(e)&&(tw(e)||sf(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&tw(s)&&(this.clonedReferenceElement=s),nC(s)&&xee(s);var o=this.counters.parse(new rT(this.context,i)),l=this.resolvePseudoContent(e,s,A,Pc.BEFORE);wT(e)&&(n=!0),yT(e)||this.cloneChildNodes(e,s,n),l&&s.insertBefore(l,s.firstChild);var u=this.resolvePseudoContent(e,s,a,Pc.AFTER);return u&&s.appendChild(u),this.counters.pop(o),(i&&(this.options.copyStyles||sf(e))&&!SR(e)||n)&&L0(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(Qp(e)||Np(e))&&(Qp(s)||Np(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var A=r.content,a=n.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new rT(this.context,r));var o=new sZ(this.context,r),l=a.createElement("html2canvaspseudoelement");L0(r,l),o.content.forEach(function(h){if(h.type===0)l.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",l.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(qe);g.length&&l.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(zo),y=m[0],C=m[1];if(y&&qe(y)){var x=i.counters.getCounterValue(y.value),v=C&&qe(C)?Yv.parse(i.context,C.value):3;l.appendChild(a.createTextNode(Ru(x,v,!1)))}}else if(h.name==="counters"){var w=h.values.filter(zo),y=w[0],F=w[1],C=w[2];if(y&&qe(y)){var Q=i.counters.getCounterValues(y.value),k=C&&qe(C)?Yv.parse(i.context,C.value):3,I=F&&F.type===0?F.value:"",E=Q.map(function(N){return Ru(N,k,!1)}).join(I);l.appendChild(a.createTextNode(E))}}}else if(h.type===20)switch(h.value){case"open-quote":l.appendChild(a.createTextNode(nT(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(nT(o.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(h.value))}}),l.className=rw+" "+sw;var u=s===Pc.BEFORE?" "+rw:" "+sw;return sf(n)?n.className.baseValue+=u:n.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Pc;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Pc||(Pc={}));var dee=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(kR,"true"),t.body.appendChild(n),n},hee=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},fee=function(t){return Promise.all([].slice.call(t.images,0).map(hee))},pee=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},gee=["all","d","content"],L0=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);gee.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},mee=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},yee=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},vee=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},wee=":before",Bee=":after",rw="___html2canvas___pseudoelement_before",sw="___html2canvas___pseudoelement_after",IT=`{
    content: "" !important;
    display: none !important;
}`,xee=function(t){Cee(t,"."+rw+wee+IT+`
         .`+sw+Bee+IT)},Cee=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},RR=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Eee=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(O0(e)||Tee(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return xn(this,void 0,void 0,function(){var n,r,s,i,A=this;return un(this,function(a){switch(a.label){case 0:return n=RR.isSameOrigin(e),r=!M0(e)&&this._options.useCORS===!0&&$t.SUPPORT_CORS_IMAGES&&!n,s=!M0(e)&&!n&&!O0(e)&&typeof this._options.proxy=="string"&&$t.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!M0(e)&&!O0(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,l){var u=new Image;u.onload=function(){return o(u)},u.onerror=l,(Fee(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return o(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=$t.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return A(f)},!1),h.readAsDataURL(o.response)}else A("Failed to proxy resource "+s+" with status code "+o.status)},o.onerror=A;var l=r.indexOf("?")>-1?"&":"?";if(o.open("GET",""+r+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;o.timeout=u,o.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+s)}}o.send()})},t}(),_ee=/^data:image\/svg\+xml/i,bee=/^data:image\/.*;base64,/i,Iee=/^data:image\/.*/i,Tee=function(t){return $t.SUPPORT_SVG_DRAWING||!Uee(t)},M0=function(t){return Iee.test(t)},Fee=function(t){return bee.test(t)},O0=function(t){return t.substr(0,4)==="blob"},Uee=function(t){return t.substr(-3).toLowerCase()==="svg"||_ee.test(t)},se=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Fa=function(t,e,n){return new se(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},_h=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=Fa(this.start,this.startControl,e),s=Fa(this.startControl,this.endControl,e),i=Fa(this.endControl,this.end,e),A=Fa(r,s,e),a=Fa(s,i,e),o=Fa(A,a,e);return n?new t(this.start,r,A,o):new t(o,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),dr=function(t){return t.type===1},See=function(){function t(e){var n=e.styles,r=e.bounds,s=ac(n.borderTopLeftRadius,r.width,r.height),i=s[0],A=s[1],a=ac(n.borderTopRightRadius,r.width,r.height),o=a[0],l=a[1],u=ac(n.borderBottomRightRadius,r.width,r.height),h=u[0],f=u[1],g=ac(n.borderBottomLeftRadius,r.width,r.height),m=g[0],y=g[1],C=[];C.push((i+o)/r.width),C.push((m+h)/r.width),C.push((A+y)/r.height),C.push((l+f)/r.height);var x=Math.max.apply(Math,C);x>1&&(i/=x,A/=x,o/=x,l/=x,h/=x,f/=x,m/=x,y/=x);var v=r.width-o,w=r.height-f,F=r.width-h,Q=r.height-y,k=n.borderTopWidth,I=n.borderRightWidth,E=n.borderBottomWidth,b=n.borderLeftWidth,_=Je(n.paddingTop,e.bounds.width),N=Je(n.paddingRight,e.bounds.width),R=Je(n.paddingBottom,e.bounds.width),T=Je(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?at(r.left+b/3,r.top+k/3,i-b/3,A-k/3,He.TOP_LEFT):new se(r.left+b/3,r.top+k/3),this.topRightBorderDoubleOuterBox=i>0||A>0?at(r.left+v,r.top+k/3,o-I/3,l-k/3,He.TOP_RIGHT):new se(r.left+r.width-I/3,r.top+k/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?at(r.left+F,r.top+w,h-I/3,f-E/3,He.BOTTOM_RIGHT):new se(r.left+r.width-I/3,r.top+r.height-E/3),this.bottomLeftBorderDoubleOuterBox=m>0||y>0?at(r.left+b/3,r.top+Q,m-b/3,y-E/3,He.BOTTOM_LEFT):new se(r.left+b/3,r.top+r.height-E/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?at(r.left+b*2/3,r.top+k*2/3,i-b*2/3,A-k*2/3,He.TOP_LEFT):new se(r.left+b*2/3,r.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?at(r.left+v,r.top+k*2/3,o-I*2/3,l-k*2/3,He.TOP_RIGHT):new se(r.left+r.width-I*2/3,r.top+k*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?at(r.left+F,r.top+w,h-I*2/3,f-E*2/3,He.BOTTOM_RIGHT):new se(r.left+r.width-I*2/3,r.top+r.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||y>0?at(r.left+b*2/3,r.top+Q,m-b*2/3,y-E*2/3,He.BOTTOM_LEFT):new se(r.left+b*2/3,r.top+r.height-E*2/3),this.topLeftBorderStroke=i>0||A>0?at(r.left+b/2,r.top+k/2,i-b/2,A-k/2,He.TOP_LEFT):new se(r.left+b/2,r.top+k/2),this.topRightBorderStroke=i>0||A>0?at(r.left+v,r.top+k/2,o-I/2,l-k/2,He.TOP_RIGHT):new se(r.left+r.width-I/2,r.top+k/2),this.bottomRightBorderStroke=h>0||f>0?at(r.left+F,r.top+w,h-I/2,f-E/2,He.BOTTOM_RIGHT):new se(r.left+r.width-I/2,r.top+r.height-E/2),this.bottomLeftBorderStroke=m>0||y>0?at(r.left+b/2,r.top+Q,m-b/2,y-E/2,He.BOTTOM_LEFT):new se(r.left+b/2,r.top+r.height-E/2),this.topLeftBorderBox=i>0||A>0?at(r.left,r.top,i,A,He.TOP_LEFT):new se(r.left,r.top),this.topRightBorderBox=o>0||l>0?at(r.left+v,r.top,o,l,He.TOP_RIGHT):new se(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||f>0?at(r.left+F,r.top+w,h,f,He.BOTTOM_RIGHT):new se(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||y>0?at(r.left,r.top+Q,m,y,He.BOTTOM_LEFT):new se(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||A>0?at(r.left+b,r.top+k,Math.max(0,i-b),Math.max(0,A-k),He.TOP_LEFT):new se(r.left+b,r.top+k),this.topRightPaddingBox=o>0||l>0?at(r.left+Math.min(v,r.width-I),r.top+k,v>r.width+I?0:Math.max(0,o-I),Math.max(0,l-k),He.TOP_RIGHT):new se(r.left+r.width-I,r.top+k),this.bottomRightPaddingBox=h>0||f>0?at(r.left+Math.min(F,r.width-b),r.top+Math.min(w,r.height-E),Math.max(0,h-I),Math.max(0,f-E),He.BOTTOM_RIGHT):new se(r.left+r.width-I,r.top+r.height-E),this.bottomLeftPaddingBox=m>0||y>0?at(r.left+b,r.top+Math.min(Q,r.height-E),Math.max(0,m-b),Math.max(0,y-E),He.BOTTOM_LEFT):new se(r.left+b,r.top+r.height-E),this.topLeftContentBox=i>0||A>0?at(r.left+b+T,r.top+k+_,Math.max(0,i-(b+T)),Math.max(0,A-(k+_)),He.TOP_LEFT):new se(r.left+b+T,r.top+k+_),this.topRightContentBox=o>0||l>0?at(r.left+Math.min(v,r.width+b+T),r.top+k+_,v>r.width+b+T?0:o-b+T,l-(k+_),He.TOP_RIGHT):new se(r.left+r.width-(I+N),r.top+k+_),this.bottomRightContentBox=h>0||f>0?at(r.left+Math.min(F,r.width-(b+T)),r.top+Math.min(w,r.height+k+_),Math.max(0,h-(I+N)),f-(E+R),He.BOTTOM_RIGHT):new se(r.left+r.width-(I+N),r.top+r.height-(E+R)),this.bottomLeftContentBox=m>0||y>0?at(r.left+b+T,r.top+Q,Math.max(0,m-(b+T)),y-(E+R),He.BOTTOM_LEFT):new se(r.left+b+T,r.top+r.height-(E+R))}return t}(),He;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(He||(He={}));var at=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),A=n*i,a=r*i,o=t+n,l=e+r;switch(s){case He.TOP_LEFT:return new _h(new se(t,l),new se(t,l-a),new se(o-A,e),new se(o,e));case He.TOP_RIGHT:return new _h(new se(t,e),new se(t+A,e),new se(o,l-a),new se(o,l));case He.BOTTOM_RIGHT:return new _h(new se(o,e),new se(o,e+a),new se(t+A,l),new se(t,l));case He.BOTTOM_LEFT:default:return new _h(new se(o,l),new se(o-A,l),new se(t,e+a),new se(t,e))}},kp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Qee=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Rp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Nee=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),bh=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),kee=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Ree=function(t){return t.type===0},DR=function(t){return t.type===1},Dee=function(t){return t.type===2},TT=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Pee=function(t,e,n,r,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},PR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),LR=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new See(this.container),this.container.styles.opacity<1&&this.effects.push(new kee(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Nee(r,s,i))}if(this.container.styles.overflowX!==0){var A=kp(this.curves),a=Rp(this.curves);TT(A,a)?this.effects.push(new bh(A,6)):(this.effects.push(new bh(A,2)),this.effects.push(new bh(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(o){return!DR(o)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=kp(r.curves),a=Rp(r.curves);TT(A,a)||s.unshift(new bh(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(o){return Dt(o.target,e)})},t}(),iw=function(t,e,n,r){t.container.elements.forEach(function(s){var i=Dt(s.flags,4),A=Dt(s.flags,2),a=new LR(s,t);Dt(s.styles.display,2048)&&r.push(a);var o=Dt(s.flags,8)?[]:r;if(i||A){var l=i||s.styles.isPositioned()?n:e,u=new PR(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;l.negativeZIndex.some(function(m,y){return h>m.element.container.styles.zIndex.order?(f=y,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(h>0){var g=0;l.positiveZIndex.some(function(m,y){return h>=m.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);iw(a,u,i?u:n,o)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),iw(a,e,n,o);Dt(s.flags,8)&&MR(s,o)})},MR=function(t,e){for(var n=t instanceof ew?t.start:1,r=t instanceof ew?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof xR&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=Ru(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Lee=function(t){var e=new LR(t,null),n=new PR(e),r=[];return iw(e,n,n,r),MR(e.container,r),n},FT=function(t,e){switch(e){case 0:return pr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return pr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return pr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return pr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Mee=function(t,e){switch(e){case 0:return pr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return pr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return pr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return pr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Oee=function(t,e){switch(e){case 0:return pr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return pr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return pr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return pr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},jee=function(t,e){switch(e){case 0:return Ih(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ih(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ih(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ih(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Ih=function(t,e){var n=[];return dr(t)?n.push(t.subdivide(.5,!1)):n.push(t),dr(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},pr=function(t,e,n,r){var s=[];return dr(t)?s.push(t.subdivide(.5,!1)):s.push(t),dr(n)?s.push(n.subdivide(.5,!0)):s.push(n),dr(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),dr(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},OR=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Dp=function(t){var e=t.styles,n=t.bounds,r=Je(e.paddingLeft,n.width),s=Je(e.paddingRight,n.width),i=Je(e.paddingTop,n.width),A=Je(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},Vee=function(t,e){return t===0?e.bounds:t===2?Dp(e):OR(e)},Hee=function(t,e){return t===0?e.bounds:t===2?Dp(e):OR(e)},j0=function(t,e,n){var r=Vee(Da(t.styles.backgroundOrigin,e),t),s=Hee(Da(t.styles.backgroundClip,e),t),i=Kee(Da(t.styles.backgroundSize,e),n,r),A=i[0],a=i[1],o=ac(Da(t.styles.backgroundPosition,e),r.width-A,r.height-a),l=zee(Da(t.styles.backgroundRepeat,e),o,i,r,s),u=Math.round(r.left+o[0]),h=Math.round(r.top+o[1]);return[l,u,h,A,a]},Ua=function(t){return qe(t)&&t.value===Bo.AUTO},Th=function(t){return typeof t=="number"},Kee=function(t,e,n){var r=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(St(A)&&a&&St(a))return[Je(A,n.width),Je(a,n.height)];var o=Th(i);if(qe(A)&&(A.value===Bo.CONTAIN||A.value===Bo.COVER)){if(Th(i)){var l=n.width/n.height;return l<i!=(A.value===Bo.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=Th(r),h=Th(s),f=u||h;if(Ua(A)&&(!a||Ua(a))){if(u&&h)return[r,s];if(!o&&!f)return[n.width,n.height];if(f&&o){var g=u?r:s*i,m=h?s:r/i;return[g,m]}var y=u?r:n.width,C=h?s:n.height;return[y,C]}if(o){var x=0,v=0;return St(A)?x=Je(A,n.width):St(a)&&(v=Je(a,n.height)),Ua(A)?x=v*i:(!a||Ua(a))&&(v=x/i),[x,v]}var w=null,F=null;if(St(A)?w=Je(A,n.width):a&&St(a)&&(F=Je(a,n.height)),w!==null&&(!a||Ua(a))&&(F=u&&h?w/r*s:n.height),F!==null&&Ua(A)&&(w=u&&h?F/s*r:n.width),w!==null&&F!==null)return[w,F];throw new Error("Unable to calculate background-size for element")},Da=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},zee=function(t,e,n,r,s){var i=e[0],A=e[1],a=n[0],o=n[1];switch(t){case 2:return[new se(Math.round(r.left),Math.round(r.top+A)),new se(Math.round(r.left+r.width),Math.round(r.top+A)),new se(Math.round(r.left+r.width),Math.round(o+r.top+A)),new se(Math.round(r.left),Math.round(o+r.top+A))];case 3:return[new se(Math.round(r.left+i),Math.round(r.top)),new se(Math.round(r.left+i+a),Math.round(r.top)),new se(Math.round(r.left+i+a),Math.round(r.height+r.top)),new se(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new se(Math.round(r.left+i),Math.round(r.top+A)),new se(Math.round(r.left+i+a),Math.round(r.top+A)),new se(Math.round(r.left+i+a),Math.round(r.top+A+o)),new se(Math.round(r.left+i),Math.round(r.top+A+o))];default:return[new se(Math.round(s.left),Math.round(s.top)),new se(Math.round(s.left+s.width),Math.round(s.top)),new se(Math.round(s.left+s.width),Math.round(s.height+s.top)),new se(Math.round(s.left),Math.round(s.height+s.top))]}},Gee="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",UT="Hidden Text",Wee=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=Gee,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(UT)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(UT)),r.style.lineHeight="normal",s.style.verticalAlign="super";var o=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),jR=function(){function t(e,n){this.context=e,this.options=n}return t}(),$ee=1e4,qee=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Wee(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),Dee(n)&&(this.ctx.globalAlpha=n.opacity),Ree(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),DR(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return xn(this,void 0,void 0,function(){var r;return un(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return xn(this,void 0,void 0,function(){return un(this,function(r){switch(r.label){case 0:if(Dt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=eC(n.text);A.reduce(function(a,o){return i.ctx.fillText(o,a,n.bounds.top+s),a+i.ctx.measureText(o).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=ete(n.fontFamily).join(", "),i=dd(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return xn(this,void 0,void 0,function(){var s,i,A,a,o,l,u,h,f=this;return un(this,function(g){return s=this.createFontStyle(r),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),l=o.baseline,u=o.middle,h=r.paintOrder,n.textBounds.forEach(function(m){h.forEach(function(y){switch(y){case 0:f.ctx.fillStyle=Mt(r.color),f.renderTextWithLetterSpacing(m,r.letterSpacing,l);var C=r.textShadow;C.length&&m.text.trim().length&&(C.slice(0).reverse().forEach(function(x){f.ctx.shadowColor=Mt(x.color),f.ctx.shadowOffsetX=x.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=x.offsetY.number*f.options.scale,f.ctx.shadowBlur=x.blur.number,f.renderTextWithLetterSpacing(m,r.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=Mt(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(x){switch(x){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Mt(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=Dp(n),A=Rp(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return xn(this,void 0,void 0,function(){var r,s,i,A,a,o,v,v,l,u,h,f,F,g,m,Q,y,C,x,v,w,F,Q;return un(this,function(k){switch(k.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,A=0,a=r.textNodes,k.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof vR))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=k.sent(),this.renderReplacedElement(r,s,v),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof wR&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof BR))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=k.sent(),this.renderReplacedElement(r,s,v),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof _R&&r.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:u=k.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),k.label=14;case 14:if(r instanceof tC&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===Up?r.checked&&(this.ctx.save(),this.path([new se(r.bounds.left+h*.39363,r.bounds.top+h*.79),new se(r.bounds.left+h*.16,r.bounds.top+h*.5549),new se(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new se(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new se(r.bounds.left+h*.72983,r.bounds.top+h*.23),new se(r.bounds.left+h*.84,r.bounds.top+h*.34085),new se(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Mt(mT),this.ctx.fill(),this.ctx.restore()):r.type===Sp&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Mt(mT),this.ctx.fill(),this.ctx.restore())),Xee(r)&&r.value.length){switch(f=this.createFontStyle(i),F=f[0],g=f[1],m=this.fontMetrics.getMetrics(F,g).baseline,this.ctx.font=F,this.ctx.fillStyle=Mt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Jee(r.styles.textAlign),Q=Dp(r),y=0,r.styles.textAlign){case 1:y+=Q.width/2;break;case 2:y+=Q.width;break}C=Q.add(y,0,0,-Q.height/2+1),this.ctx.save(),this.path([new se(Q.left,Q.top),new se(Q.left+Q.width,Q.top),new se(Q.left+Q.width,Q.top+Q.height),new se(Q.left,Q.top+Q.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Dc(r.value,C),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Dt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(x=r.styles.listStyleImage,x.type!==0)return[3,18];v=void 0,w=x.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=k.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(F=this.createFontStyle(i)[0],this.ctx.font=F,this.ctx.fillStyle=Mt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Q=new Xs(r.bounds.left,r.bounds.top+Je(r.styles.paddingTop,r.bounds.width),r.bounds.width,eT(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Dc(n.listValue,Q),i.letterSpacing,eT(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return xn(this,void 0,void 0,function(){var r,s,x,i,A,x,a,o,x,l,u,x,h,f,x,g,m,x,y,C,x;return un(this,function(v){switch(v.label){case 0:if(Dt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,s=n.negativeZIndex,v.label=2;case 2:return r<s.length?(x=s[r],[4,this.renderStack(x)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),i=0,A=n.nonInlineLevel,v.label=7;case 7:return i<A.length?(x=A[i],[4,this.renderNode(x)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:a=0,o=n.nonPositionedFloats,v.label=11;case 11:return a<o.length?(x=o[a],[4,this.renderStack(x)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:l=0,u=n.nonPositionedInlineLevel,v.label=15;case 15:return l<u.length?(x=u[l],[4,this.renderStack(x)]):[3,18];case 16:v.sent(),v.label=17;case 17:return l++,[3,15];case 18:h=0,f=n.inlineLevel,v.label=19;case 19:return h<f.length?(x=f[h],[4,this.renderNode(x)]):[3,22];case 20:v.sent(),v.label=21;case 21:return h++,[3,19];case 22:g=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return g<m.length?(x=m[g],[4,this.renderStack(x)]):[3,26];case 24:v.sent(),v.label=25;case 25:return g++,[3,23];case 26:y=0,C=n.positiveZIndex,v.label=27;case 27:return y<C.length?(x=C[y],[4,this.renderStack(x)]):[3,30];case 28:v.sent(),v.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var A=dr(s)?s.start:s;i===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),dr(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var o=a.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return xn(this,void 0,void 0,function(){var r,s,i,A,a,o;return un(this,function(l){switch(l.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var h,f,g,_,V,q,T,J,E,m,_,V,q,T,J,y,C,x,v,w,F,Q,k,I,E,b,_,N,R,T,J,ie,V,q,P,K,z,ge,we,Te,Ke,tt;return un(this,function(At){switch(At.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,At.label=1;case 1:return At.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=At.sent(),[3,4];case 3:return At.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(g=j0(n,r,[h.width,h.height,h.width/h.height]),_=g[0],V=g[1],q=g[2],T=g[3],J=g[4],E=i.ctx.createPattern(i.resizeImage(h,T,J),"repeat"),i.renderRepeat(_,E,V,q)),[3,6];case 5:RY(u)?(m=j0(n,r,[null,null,null]),_=m[0],V=m[1],q=m[2],T=m[3],J=m[4],y=UY(u.angle,T,J),C=y[0],x=y[1],v=y[2],w=y[3],F=y[4],Q=document.createElement("canvas"),Q.width=T,Q.height=J,k=Q.getContext("2d"),I=k.createLinearGradient(x,w,v,F),JI(u.stops,C).forEach(function(gt){return I.addColorStop(gt.stop,Mt(gt.color))}),k.fillStyle=I,k.fillRect(0,0,T,J),T>0&&J>0&&(E=i.ctx.createPattern(Q,"repeat"),i.renderRepeat(_,E,V,q))):DY(u)&&(b=j0(n,r,[null,null,null]),_=b[0],N=b[1],R=b[2],T=b[3],J=b[4],ie=u.position.length===0?[Yx]:u.position,V=Je(ie[0],T),q=Je(ie[ie.length-1],J),P=SY(u,V,q,T,J),K=P[0],z=P[1],K>0&&z>0&&(ge=i.ctx.createRadialGradient(N+V,R+q,0,N+V,R+q,K),JI(u.stops,K*2).forEach(function(gt){return ge.addColorStop(gt.stop,Mt(gt.color))}),i.path(_),i.ctx.fillStyle=ge,K!==z?(we=n.bounds.left+.5*n.bounds.width,Te=n.bounds.top+.5*n.bounds.height,Ke=z/K,tt=1/Ke,i.ctx.save(),i.ctx.translate(we,Te),i.ctx.transform(1,0,0,Ke,0,0),i.ctx.translate(-we,-Te),i.ctx.fillRect(N,tt*(R-Te)+Te,T,J*tt),i.ctx.restore()):i.ctx.fill())),At.label=6;case 6:return r--,[2]}})},i=this,A=0,a=n.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return A<a.length?(o=a[A],[5,s(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return xn(this,void 0,void 0,function(){return un(this,function(i){return this.path(FT(s,r)),this.ctx.fillStyle=Mt(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return xn(this,void 0,void 0,function(){var A,a;return un(this,function(o){switch(o.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return o.sent(),[2];case 2:return A=Mee(i,s),this.path(A),this.ctx.fillStyle=Mt(n),this.ctx.fill(),a=Oee(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return xn(this,void 0,void 0,function(){var r,s,i,A,a,o,l,u,h=this;return un(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Vi(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=Yee(Da(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Vi(r.backgroundColor)||(this.ctx.fillStyle=Mt(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var m=kp(n.curves),y=g.inset?0:$ee,C=Pee(m,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(m),h.ctx.clip(),h.mask(C)):(h.mask(m),h.ctx.clip(),h.path(C)),h.ctx.shadowOffsetX=g.offsetX.number+y,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Mt(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Mt(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,o=0,l=i,f.label=3;case 3:return o<l.length?(u=l[o],u.style!==0&&!Vi(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,A){return xn(this,void 0,void 0,function(){var a,o,l,u,h,f,g,m,y,C,x,v,w,F,Q,k,Q,k;return un(this,function(I){return this.ctx.save(),a=jee(i,s),o=FT(i,s),A===2&&(this.path(o),this.ctx.clip()),dr(o[0])?(l=o[0].start.x,u=o[0].start.y):(l=o[0].x,u=o[0].y),dr(o[1])?(h=o[1].end.x,f=o[1].end.y):(h=o[1].x,f=o[1].y),s===0||s===2?g=Math.abs(l-h):g=Math.abs(u-f),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),m=r<3?r*3:r*2,y=r<3?r*2:r,A===3&&(m=r,y=r),C=!0,g<=m*2?C=!1:g<=m*2+y?(x=g/(2*m+y),m*=x,y*=x):(v=Math.floor((g+y)/(m+y)),w=(g-v*m)/(v-1),F=(g-(v+1)*m)/v,y=F<=0||Math.abs(y-w)<Math.abs(y-F)?w:F),C&&(A===3?this.ctx.setLineDash([0,m+y]):this.ctx.setLineDash([m,y])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Mt(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(dr(o[0])&&(Q=o[3],k=o[0],this.ctx.beginPath(),this.formatPath([new se(Q.end.x,Q.end.y),new se(k.start.x,k.start.y)]),this.ctx.stroke()),dr(o[1])&&(Q=o[1],k=o[2],this.ctx.beginPath(),this.formatPath([new se(Q.end.x,Q.end.y),new se(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return xn(this,void 0,void 0,function(){var r;return un(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Mt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Lee(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(jR),Xee=function(t){return t instanceof ER||t instanceof CR?!0:t instanceof tC&&t.type!==Sp&&t.type!==Up},Yee=function(t,e){switch(t){case 0:return kp(e);case 2:return Qee(e);case 1:default:return Rp(e)}},Jee=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zee=["-apple-system","system-ui"],ete=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Zee.indexOf(e)===-1}):t},tte=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return xn(this,void 0,void 0,function(){var r,s;return un(this,function(i){switch(i.label){case 0:return r=Zv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,nte(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Mt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(jR),nte=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},rte=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ah([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),ste=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new rte({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Eee(this,e)}return t.instanceCount=1,t}(),ite=function(t,e){return e===void 0&&(e={}),Ate(t,e)};typeof window<"u"&&RR.setContext(window);var Ate=function(t,e){return xn(void 0,void 0,void 0,function(){var n,r,s,i,A,a,o,l,u,h,f,g,m,y,C,x,v,w,F,Q,I,k,I,E,b,_,N,R,T,J,ie,V,q,P,K,z,ge,we,Te,Ke;return un(this,function(tt){switch(tt.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(b=e.imageTimeout)!==null&&b!==void 0?b:15e3,proxy:e.proxy,useCORS:(_=e.useCORS)!==null&&_!==void 0?_:!1},i=Lv({logging:(N=e.logging)!==null&&N!==void 0?N:!0,cache:e.cache},s),A={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:r.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:r.innerHeight,scrollX:(J=e.scrollX)!==null&&J!==void 0?J:r.pageXOffset,scrollY:(ie=e.scrollY)!==null&&ie!==void 0?ie:r.pageYOffset},a=new Xs(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new ste(i,a),l=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,u={allowTaint:(q=e.allowTaint)!==null&&q!==void 0?q:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new bT(o,t,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=tt.sent(),m=nC(f)||aee(f)?Pq(f.ownerDocument):Kg(o,f),y=m.width,C=m.height,x=m.left,v=m.top,w=ate(o,f,e.backgroundColor),F={canvas:e.canvas,backgroundColor:w,scale:(K=(P=e.scale)!==null&&P!==void 0?P:r.devicePixelRatio)!==null&&K!==void 0?K:1,x:((z=e.x)!==null&&z!==void 0?z:0)+x,y:((ge=e.y)!==null&&ge!==void 0?ge:0)+v,width:(we=e.width)!==null&&we!==void 0?we:Math.ceil(y),height:(Te=e.height)!==null&&Te!==void 0?Te:Math.ceil(C)},l?(o.logger.debug("Document cloned, using foreign object rendering"),I=new tte(o,F),[4,I.render(f)]):[3,3];case 2:return Q=tt.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+x+","+v+" with size "+y+"x"+C+" using computed rendering"),o.logger.debug("Starting DOM parsing"),k=IR(o,f),w===k.styles.backgroundColor&&(k.styles.backgroundColor=ks.TRANSPARENT),o.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),I=new qee(o,F),[4,I.render(k)];case 4:Q=tt.sent(),tt.label=5;case 5:return(!((Ke=e.removeContainer)!==null&&Ke!==void 0)||Ke)&&(bT.destroy(g)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,Q]}})})},ate=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?kc(t,getComputedStyle(r.documentElement).backgroundColor):ks.TRANSPARENT,i=r.body?kc(t,getComputedStyle(r.body).backgroundColor):ks.TRANSPARENT,A=typeof n=="string"?kc(t,n):n===null?ks.TRANSPARENT:4294967295;return e===r.documentElement?Vi(s)?Vi(i)?A:i:s:A},ote=Object.defineProperty,Pp=Object.getOwnPropertySymbols,VR=Object.prototype.hasOwnProperty,HR=Object.prototype.propertyIsEnumerable,ST=(t,e,n)=>e in t?ote(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lte=(t,e)=>{for(var n in e||(e={}))VR.call(e,n)&&ST(t,n,e[n]);if(Pp)for(var n of Pp(e))HR.call(e,n)&&ST(t,n,e[n]);return t},cte=(t,e)=>{var n={};for(var r in t)VR.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Pp)for(var r of Pp(t))e.indexOf(r)<0&&HR.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ia;(t=>{const e=class{constructor(o,l,u,h){if(this.version=o,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),h==-1){let m=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const C=this.getPenaltyScore();C<m&&(h=y,m=C),this.applyMask(y)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(o,l){const u=t.QrSegment.makeSegments(o);return e.encodeSegments(u,l)}static encodeBinary(o,l){const u=t.QrSegment.makeBytes(o);return e.encodeSegments([u],l)}static encodeSegments(o,l,u=1,h=40,f=-1,g=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,y;for(m=u;;m++){const w=e.getNumDataCodewords(m,l)*8,F=a.getTotalBits(o,m);if(F<=w){y=F;break}if(m>=h)throw new RangeError("Data too long")}for(const w of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&y<=e.getNumDataCodewords(m,w)*8&&(l=w);let C=[];for(const w of o){r(w.mode.modeBits,4,C),r(w.numChars,w.mode.numCharCountBits(m),C);for(const F of w.getData())C.push(F)}i(C.length==y);const x=e.getNumDataCodewords(m,l)*8;i(C.length<=x),r(0,Math.min(4,x-C.length),C),r(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let w=236;C.length<x;w^=253)r(w,8,C);let v=[];for(;v.length*8<C.length;)v.push(0);return C.forEach((w,F)=>v[F>>>3]|=w<<7-(F&7)),new e(m,l,v,f)}getModule(o,l){return 0<=o&&o<this.size&&0<=l&&l<this.size&&this.modules[l][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),l=o.length;for(let u=0;u<l;u++)for(let h=0;h<l;h++)u==0&&h==0||u==0&&h==l-1||u==l-1&&h==0||this.drawAlignmentPattern(o[u],o[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const l=this.errorCorrectionLevel.formatBits<<3|o;let u=l;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const h=(l<<10|u)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let u=0;u<12;u++)o=o<<1^(o>>>11)*7973;const l=this.version<<12|o;i(l>>>18==0);for(let u=0;u<18;u++){const h=s(l,u),f=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(f,g,h),this.setFunctionModule(g,f,h)}}drawFinderPattern(o,l){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(u)),g=o+h,m=l+u;0<=g&&g<this.size&&0<=m&&m<this.size&&this.setFunctionModule(g,m,f!=2&&f!=4)}}drawAlignmentPattern(o,l){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(o+h,l+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(o,l,u){this.modules[l][o]=u,this.isFunction[l][o]=!0}addEccAndInterleave(o){const l=this.version,u=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],g=Math.floor(e.getNumRawDataModules(l)/8),m=h-g%h,y=Math.floor(g/h);let C=[];const x=e.reedSolomonComputeDivisor(f);for(let w=0,F=0;w<h;w++){let Q=o.slice(F,F+y-f+(w<m?0:1));F+=Q.length;const k=e.reedSolomonComputeRemainder(Q,x);w<m&&Q.push(0),C.push(Q.concat(k))}let v=[];for(let w=0;w<C[0].length;w++)C.forEach((F,Q)=>{(w!=y-f||Q>=m)&&v.push(F[w])});return i(v.length==g),v}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const g=u-f,y=(u+1&2)==0?this.size-1-h:h;!this.isFunction[y][g]&&l<o.length*8&&(this.modules[y][g]=s(o[l>>>3],7-(l&7)),l++)}}i(l==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let u=0;u<this.size;u++){let h;switch(o){case 0:h=(u+l)%2==0;break;case 1:h=l%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+l)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:h=u*l%2+u*l%3==0;break;case 6:h=(u*l%2+u*l%3)%2==0;break;case 7:h=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&h&&(this.modules[l][u]=!this.modules[l][u])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[f][C]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[f][C],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][f]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[C][f],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const m=this.modules[f][g];m==this.modules[f][g+1]&&m==this.modules[f+1][g]&&m==this.modules[f+1][g+1]&&(o+=e.PENALTY_N2)}let l=0;for(const f of this.modules)l=f.reduce((g,m)=>g+(m?1:0),l);const u=this.size*this.size,h=Math.ceil(Math.abs(l*20-u*10)/u)-1;return i(0<=h&&h<=9),o+=h*e.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let u=[6];for(let h=this.size-7;u.length<o;h-=l)u.splice(1,0,h);return u}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*o+128)*o+64;if(o>=2){const u=Math.floor(o/7)+2;l-=(25*u-10)*u-55,o>=7&&(l-=36)}return i(208<=l&&l<=29648),l}static getNumDataCodewords(o,l){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let l=[];for(let h=0;h<o-1;h++)l.push(0);l.push(1);let u=1;for(let h=0;h<o;h++){for(let f=0;f<l.length;f++)l[f]=e.reedSolomonMultiply(l[f],u),f+1<l.length&&(l[f]^=l[f+1]);u=e.reedSolomonMultiply(u,2)}return l}static reedSolomonComputeRemainder(o,l){let u=l.map(h=>0);for(const h of o){const f=h^u.shift();u.push(0),l.forEach((g,m)=>u[m]^=e.reedSolomonMultiply(g,f))}return u}static reedSolomonMultiply(o,l){if(o>>>8||l>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(l>>>h&1)*o;return i(u>>>8==0),u}finderPenaltyCountPatterns(o){const l=o[1];i(l<=this.size*3);const u=l>0&&o[2]==l&&o[3]==l*3&&o[4]==l&&o[5]==l;return(u&&o[0]>=l*4&&o[6]>=l?1:0)+(u&&o[6]>=l*4&&o[0]>=l?1:0)}finderPenaltyTerminateAndCount(o,l,u){return o&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(o,l){l[0]==0&&(o+=this.size),l.pop(),l.unshift(o)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(o,l,u){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let h=l-1;h>=0;h--)u.push(o>>>h&1)}function s(o,l){return(o>>>l&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const A=class{constructor(o,l,u){if(this.mode=o,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(o){let l=[];for(const u of o)r(u,8,l);return new A(A.Mode.BYTE,o.length,l)}static makeNumeric(o){if(!A.isNumeric(o))throw new RangeError("String contains non-numeric characters");let l=[];for(let u=0;u<o.length;){const h=Math.min(o.length-u,3);r(parseInt(o.substr(u,h),10),h*3+1,l),u+=h}return new A(A.Mode.NUMERIC,o.length,l)}static makeAlphanumeric(o){if(!A.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],u;for(u=0;u+2<=o.length;u+=2){let h=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;h+=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),r(h,11,l)}return u<o.length&&r(A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,l),new A(A.Mode.ALPHANUMERIC,o.length,l)}static makeSegments(o){return o==""?[]:A.isNumeric(o)?[A.makeNumeric(o)]:A.isAlphanumeric(o)?[A.makeAlphanumeric(o)]:[A.makeBytes(A.toUtf8ByteArray(o))]}static makeEci(o){let l=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,l);else if(o<16384)r(2,2,l),r(o,14,l);else if(o<1e6)r(6,3,l),r(o,21,l);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,l)}static isNumeric(o){return A.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return A.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,l){let u=0;for(const h of o){const f=h.mode.numCharCountBits(l);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u}static toUtf8ByteArray(o){o=encodeURI(o);let l=[];for(let u=0;u<o.length;u++)o.charAt(u)!="%"?l.push(o.charCodeAt(u)):(l.push(parseInt(o.substr(u+1,2),16)),u+=2);return l}};let a=A;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(ia||(ia={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(ia||(ia={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(ia||(ia={}));var cc=ia;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var ute={L:cc.QrCode.Ecc.LOW,M:cc.QrCode.Ecc.MEDIUM,Q:cc.QrCode.Ecc.QUARTILE,H:cc.QrCode.Ecc.HIGH},dte=128,hte="L",fte="#FFFFFF",pte="#000000",gte=!1,KR=4,mte=.1;function yte(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(A,a){if(!A&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!A)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}A&&i===null&&(i=a)})}),n.join("")}function vte(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function wte(t,e,n,r){if(r==null)return null;const s=n?KR:0,i=t.length+s*2,A=Math.floor(e*mte),a=i/e,o=(r.width||A)*a,l=(r.height||A)*a,u=r.x==null?t.length/2-o/2:r.x*a,h=r.y==null?t.length/2-l/2:r.y*a;let f=null;if(r.excavate){let g=Math.floor(u),m=Math.floor(h),y=Math.ceil(o+u-g),C=Math.ceil(l+h-m);f={x:g,y:m,w:y,h:C}}return{x:u,y:h,h:l,w:o,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function Bte(t){const e=t,{value:n,size:r=dte,level:s=hte,bgColor:i=fte,fgColor:A=pte,includeMargin:a=gte,imageSettings:o}=e,l=cte(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=cc.QrCode.encodeText(n,ute[s]).getModules();const h=a?KR:0,f=u.length+h*2,g=wte(u,r,a,o);let m=null;o!=null&&g!=null&&(g.excavation!=null&&(u=vte(u,g.excavation)),m=pe.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));const y=yte(u,h);return pe.createElement("svg",lte({height:r,width:r,viewBox:`0 0 ${f} ${f}`},l),pe.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),pe.createElement("path",{fill:A,d:y,shapeRendering:"crispEdges"}),m)}const xte=({bookingData:t,settings:e,selectedDate:n,selectedTime:r,onDownload:s})=>{var a;const i=(a=e.serviceTypes.find(o=>o.id===t.service))==null?void 0:a.name,A=Bp(n)?$e(n,"dd/MM/yyyy"):"";return A?c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{id:"ticket",className:"relative bg-[#f8f4e9] aspect-[9/16] rounded-2xl overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"bg-gradient-to-b from-[--theater-red] to-red-700 text-white p-6 text-center",children:[c.jsx(Ss,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("h1",{className:"text-2xl font-bold mb-1",children:e.eventName}),c.jsx("p",{className:"text-sm opacity-80",children:e.company.name})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-inner",children:[c.jsx(Bte,{value:t.ticketNumber,size:150,bgColor:"#ffffff",fgColor:"#D22B2B",level:"H",includeMargin:!1}),c.jsx("div",{className:"mt-2 text-center font-mono text-sm text-[--theater-red]",children:t.ticketNumber})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Tn,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Data"}),c.jsx("div",{className:"font-semibold",children:A})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Gs,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Orario"}),c.jsx("div",{className:"font-semibold",children:r})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Ss,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Servizio"}),c.jsx("div",{className:"font-semibold",children:i})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(ua,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Cliente"}),c.jsxs("div",{className:"font-semibold truncate",children:[t.firstName," ",t.lastName]}),c.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.email})]})]})]}),c.jsxs("div",{className:"text-center text-sm text-gray-600 mt-auto",children:[c.jsx(c6,{className:"w-4 h-4 mx-auto mb-1"}),c.jsx("p",{children:e.company.address})]})]}),c.jsx("div",{className:"absolute top-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute top-0 right-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute bottom-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute bottom-0 right-4 w-2 h-2 bg-gray-800 rounded-full"})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 print:hidden",children:[t.calendarLinks&&c.jsxs(c.Fragment,{children:[c.jsxs("a",{href:t.calendarLinks.google,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[c.jsx(V1,{className:"w-4 h-4"}),"Google Calendar"]}),c.jsxs("a",{href:t.calendarLinks.ical,download:"prenotazione.ics",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[c.jsx(V1,{className:"w-4 h-4"}),"iCal/Outlook"]})]}),c.jsxs("button",{onClick:s,className:"col-span-2 flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(Ic,{className:"w-4 h-4"}),"Scarica Biglietto"]})]})]}):(console.error("Invalid date provided to TicketCard"),null)},Cte=({type:t,ticketNumber:e,onComplete:n})=>{const r={classic:{stamp:{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:12}},text:{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}}},modern:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},stamp:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20}},circle:{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}},vintage:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},stamp:{initial:{scale:1.5,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15}}}};return pe.useEffect(()=>{const s=setTimeout(n,2e3);return()=>clearTimeout(s)},[n]),t==="classic"?c.jsx(X.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx(X.div,{...r.classic.stamp,className:"bg-red-600 text-white p-8 rounded-lg shadow-xl transform",children:c.jsxs(X.div,{...r.classic.text,children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Prenotazione Confermata!"}),c.jsxs("p",{className:"text-lg",children:["Ticket #",e]})]})})}):t==="modern"?c.jsx(X.div,{...r.modern.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:c.jsxs(X.div,{...r.modern.stamp,className:"bg-gradient-to-br from-blue-500 to-purple-600 p-8 rounded-xl shadow-2xl text-white",children:[c.jsxs("svg",{className:"w-24 h-24 mx-auto mb-4",viewBox:"0 0 100 100",children:[c.jsx(X.circle,{...r.modern.circle,cx:"50",cy:"50",r:"45",stroke:"white",strokeWidth:"2",fill:"none"}),c.jsx(X.path,{...r.modern.circle,d:"M 30 50 L 45 65 L 70 35",stroke:"white",strokeWidth:"3",fill:"none"})]}),c.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Confermato"}),c.jsxs("p",{className:"text-center opacity-90",children:["#",e]})]})}):c.jsx(X.div,{...r.vintage.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:c.jsx(X.div,{...r.vintage.stamp,className:"bg-[#f8e5b9] p-8 rounded-lg border-4 border-[#8b4513] shadow-xl transform",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Cpath d="M0 0h20L0 20z"/%3E%3C/g%3E%3C/svg%3E")'},children:c.jsxs("div",{className:"text-[#8b4513] text-center",children:[c.jsx("h2",{className:"text-3xl font-serif mb-2",children:"APPROVATO"}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),c.jsx("p",{className:"font-mono",children:e}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),c.jsx("p",{className:"text-sm font-serif",children:"Carnevale Cinematografico"})]})})})},Ete=t=>kn.object({firstName:kn.string().min(2,"Nome richiesto"),lastName:kn.string().min(2,"Cognome richiesto"),email:kn.string().email("Email non valida"),phone:kn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service:kn.enum(t,{required_error:"Seleziona un tipo di servizio"}),notes:kn.string().optional()}),_te=({existingBookings:t=[]})=>{const{settings:e,loading:n}=fA(),[r,s]=S.useState(null),[i,A]=S.useState(""),[a,o]=S.useState(!1),[l,u]=S.useState(""),[h,f]=S.useState(null),[g,m]=S.useState(null),[y,C]=S.useState(!1),[x,v]=S.useState(!1),[w,F]=S.useState(null),[Q,k]=S.useState(""),I=(e==null?void 0:e.serviceTypes.filter(P=>P.enabled).map(P=>P.id))||[],E=Ete(I),{register:b,handleSubmit:_,formState:{errors:N},reset:R,setValue:T}=mk({resolver:vk(E)});S.useEffect(()=>{if(e!=null&&e.serviceTypes&&!l){const P=e.serviceTypes.filter(K=>K.enabled);if(P.length>0){const K=P[0];u(K.id),T("service",K.id)}}},[e==null?void 0:e.serviceTypes,l,T]);const J=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,ie=(P,K)=>{const z=new Date(Date.UTC(P.getFullYear(),P.getMonth(),P.getDate()));s(z),A(K)},V=async P=>new Promise(K=>{var we;const z=document.createElement("div");document.body.appendChild(z);const ge=tB(z);ge.render(c.jsx(Cte,{type:((we=e==null?void 0:e.ticketTemplate)==null?void 0:we.type)||"classic",ticketNumber:P,onComplete:()=>{ge.unmount(),document.body.removeChild(z),K()}}))}),q=async P=>{var K,z;if(!r||!i||!e){m("Seleziona data e ora per la prenotazione");return}if(!rq(P.phone)){m("Inserisci un numero di telefono italiano valido (9-10 cifre)");return}C(!0),m(null);try{const ge=tq(P.phone),we=r.toISOString().split("T")[0],Te=J(),Ke=new Date(`${we}T${i}`),tt=new Date(Ke.getTime()+e.bookingIntervals*6e4),At=((K=e.serviceTypes.find(hs=>hs.id===P.service))==null?void 0:K.name)||"Servizio Fotografico",gt=eq(e.eventName,`${At}
Prenotazione: ${Te}
Nome: ${P.firstName} ${P.lastName}`,Ke,tt);await zs(sn(_e,"bookings"),{firstName:P.firstName,lastName:P.lastName,email:P.email,phone:ge,service_type:P.service,booking_date:we,booking_time:i,ticket_number:Te,notes:P.notes,status:"pending",created_at:Ln()}),F(r),k(i),f({...P,ticketNumber:Te,calendarLinks:gt}),(z=e.ticketTemplate)!=null&&z.enabled&&await V(Te),v(!0),o(!0),R(),s(null),A("")}catch(ge){console.error("Error creating booking:",ge),m(ge.message||"Errore durante la prenotazione. Riprova più tardi.")}finally{C(!1)}};return n?c.jsx("div",{className:"text-center text-white",children:"Caricamento..."}):x&&a&&h&&h.ticketNumber&&e&&w?c.jsx("div",{className:"max-w-3xl mx-auto p-4",children:c.jsx(xte,{bookingData:h,settings:e,selectedDate:w,selectedTime:Q,onDownload:()=>{const P=document.getElementById("ticket");P&&ite(P,{scale:2,backgroundColor:"#f8f4e9",logging:!1,useCORS:!0,allowTaint:!0,onclone:K=>{const z=K.getElementById("ticket");z&&(z.style.display="block",z.style.width="800px",z.style.height="auto")}}).then(K=>{const z=document.createElement("a");z.download=`biglietto-${h.ticketNumber}.jpg`,z.href=K.toDataURL("image/jpeg",.95),z.click()})}})}):c.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("select",{...b("service"),value:l,onChange:P=>{u(P.target.value),T("service",P.target.value)},className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",children:[c.jsx("option",{value:"",children:"Seleziona servizio"}),e==null?void 0:e.serviceTypes.filter(P=>P.enabled).map(P=>c.jsx("option",{value:P.id,children:P.name},P.id))]}),N.service&&c.jsx("p",{className:"text-red-500 mt-1",children:N.service.message})]}),c.jsx(Dq,{onSlotSelect:ie,selectedDate:r,selectedTime:i,selectedService:l})]}),c.jsxs("form",{onSubmit:_(q),className:"space-y-6",children:[g&&c.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:g}),r&&i&&c.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded mb-4",children:["Hai selezionato: ",r.toLocaleDateString()," alle ",i]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Nome"}),c.jsx("input",{...b("firstName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Mario"}),N.firstName&&c.jsx("p",{className:"text-red-500 mt-1",children:N.firstName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Cognome"}),c.jsx("input",{...b("lastName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Rossi"}),N.lastName&&c.jsx("p",{className:"text-red-500 mt-1",children:N.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Email"}),c.jsx("input",{type:"email",...b("email"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"mario.rossi@example.com"}),N.email&&c.jsx("p",{className:"text-red-500 mt-1",children:N.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",...b("phone"),className:"w-full pl-10 p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Inserisci il numero senza prefisso (es: 3401234567)"})]}),N.phone&&c.jsx("p",{className:"text-red-500 mt-1",children:N.phone.message}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inserisci solo le cifre del numero senza prefisso internazionale"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{...b("notes"),rows:3,className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none"})]}),c.jsx("button",{type:"submit",disabled:y||!r||!i,className:"w-full bg-[--theater-red] text-white py-3 px-6 rounded-full hover:bg-red-700 transition-colors text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Conferma in corso...":"Conferma Prenotazione"})]})]})},bte=({type:t,title:e,subtitle:n,onComplete:r})=>{const s={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},curtainLeft:{initial:{scaleX:1,transformOrigin:"left"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},curtainRight:{initial:{scaleX:1,transformOrigin:"right"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},content:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5}}},i={container:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5}},content:{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8}}},A={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},content:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100}}};return pe.useEffect(()=>{const a=setTimeout(r,4e3);return()=>clearTimeout(a)},[r]),t==="curtain"?c.jsxs(X.div,{...s.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:[c.jsx(X.div,{...s.curtainLeft,className:"absolute top-0 left-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:c.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-black/40 to-transparent"})}),c.jsx(X.div,{...s.curtainRight,className:"absolute top-0 right-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:c.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-black/40 to-transparent"})}),c.jsxs(X.div,{...s.content,className:"text-center z-10",children:[c.jsx(Ss,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx(X.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,times:[0,.5,1],repeat:1},className:"text-white text-2xl",children:n})]})]}):t==="fade"?c.jsx(X.div,{...i.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:c.jsxs(X.div,{...i.content,className:"text-center",children:[c.jsx(Ss,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx("p",{className:"text-white text-2xl",children:n})]})}):c.jsx(X.div,{...A.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:c.jsxs(X.div,{...A.content,className:"text-center",children:[c.jsx(Ss,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx("p",{className:"text-white text-2xl",children:n})]})})},Ite=({targetDate:t,eventName:e})=>{const[n,r]=S.useState({days:0,hours:0,minutes:0,seconds:0});return S.useEffect(()=>{const s=setInterval(()=>{const i=new Date(t),A=new Date;r({days:Qk(i,A),hours:QW(i,A)%24,minutes:NW(i,A)%60,seconds:kW(i,A)%60})},1e3);return()=>clearInterval(s)},[t]),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"text-2xl text-white text-center",children:[e," inizia tra:"]}),c.jsx("div",{className:"flex justify-center gap-4 text-white",children:Object.entries(n).map(([s,i])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-[--theater-red] rounded-lg p-3 min-w-[80px]",children:c.jsx("span",{className:"text-2xl font-bold",children:i})}),c.jsx("div",{className:"text-sm mt-1 capitalize",children:s})]},s))})]})},Tte=()=>{var f,g;const{settings:t,loading:e}=fA(),[n,r]=S.useState(!0),[s,i]=S.useState(!1),[A,a]=S.useState([]),[o,l]=S.useState(!0),[u,h]=S.useState(null);return S.useEffect(()=>{var m;if((m=t==null?void 0:t.animation)!=null&&m.enabled){const y=setTimeout(()=>r(!1),4e3);return()=>clearTimeout(y)}else r(!1)},[(f=t==null?void 0:t.animation)==null?void 0:f.enabled]),S.useEffect(()=>{(async()=>{try{const y=new Date().toISOString().split("T")[0],C=sn(_e,"bookings"),x=dA(C,hu("booking_date","==",y)),w=(await Tg(x)).docs.map(F=>({id:F.id,...F.data()}));a(w),h(null)}catch(y){console.error("Error loading bookings:",y),h("Errore nel caricamento delle prenotazioni")}finally{l(!1)}})()},[]),e||o?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white text-xl flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:"⌛"}),"Caricamento..."]})}):u?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-6 rounded-lg max-w-md w-full flex items-center gap-3",children:[c.jsx(Kt,{size:24}),c.jsx("p",{children:u})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx(Fn,{children:n&&((g=t==null?void 0:t.animation)==null?void 0:g.enabled)&&c.jsx(bte,{type:t.animation.type,title:t.animation.title||"Carnevale 2025",subtitle:t.animation.subtitle||"3... 2... 1...",onComplete:()=>r(!1)})}),c.jsx(X.div,{initial:{opacity:0},animate:{opacity:n?0:1},transition:{duration:.5},children:c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("header",{className:"mb-12",children:[c.jsxs(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-center items-center mb-8",children:[t!=null&&t.company.logo?c.jsx("img",{src:t.company.logo,alt:t.company.name,className:"w-12 h-12 object-contain"}):c.jsx(Ss,{className:"w-12 h-12 text-[--theater-gold]"}),c.jsx("h1",{className:"text-4xl md:text-5xl font-marquee text-[--theater-gold] ml-4",children:(t==null?void 0:t.company.name)||"Image Studio"})]}),(t==null?void 0:t.showCountdown)&&c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:c.jsx(Ite,{targetDate:t.countdownDate,eventName:t.eventName})})]}),c.jsxs("main",{className:"max-w-6xl mx-auto",children:[c.jsx(X.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl md:text-4xl text-white text-center mb-8 font-marquee",children:"Prenota il tuo servizio fotografico"}),c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-800 rounded-lg shadow-xl p-4 md:p-8",children:c.jsx(_te,{existingBookings:A})})]}),c.jsx(X.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 text-center text-gray-400",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm md:text-base",children:t==null?void 0:t.company.address}),(t==null?void 0:t.company.phone)&&c.jsxs("p",{className:"text-sm md:text-base",children:["Tel: ",t.company.phone]}),(t==null?void 0:t.company.email)&&c.jsxs("p",{className:"text-sm md:text-base",children:["Email: ",t.company.email]})]})})]})}),c.jsx("button",{onClick:()=>i(!s),className:"fixed bottom-4 right-4 z-50 md:hidden bg-[--theater-gold] text-black p-4 rounded-full shadow-lg",children:c.jsx(Tn,{className:"w-6 h-6"})}),c.jsx(Fn,{children:s&&c.jsx(X.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed inset-x-0 bottom-0 z-40 md:hidden bg-gray-800 border-t border-gray-700 p-4 rounded-t-xl shadow-xl",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-white font-semibold",children:"Menu Rapido"}),c.jsx("nav",{className:"grid grid-cols-2 gap-4",children:t==null?void 0:t.serviceTypes.map(m=>c.jsx("button",{onClick:()=>{var y;i(!1),(y=document.querySelector("form"))==null||y.scrollIntoView({behavior:"smooth"})},className:"p-3 bg-gray-700 rounded-lg text-white text-sm hover:bg-gray-600 transition-colors",children:m.name},m.id))})]})})})]})},Fte=({searchTerm:t,statusFilter:e,serviceFilter:n,serviceTypes:r=[],onSearchChange:s,onStatusFilterChange:i,onServiceFilterChange:A})=>{const{statuses:a=[]}=sd();return c.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(kg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per nome, email, telefono o ticket...",value:t,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tp,{className:"text-gray-400 flex-shrink-0"}),c.jsxs("select",{value:e,onChange:o=>i(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),a.filter(o=>o.enabled).map(o=>c.jsx("option",{value:o.id,children:o.name},o.id))]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Tn,{className:"text-gray-400 flex-shrink-0"}),c.jsxs("select",{value:n,onChange:o=>A(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti i servizi"}),r.filter(o=>o.enabled).map(o=>c.jsx("option",{value:o.id,children:o.name},o.id))]})]})]})},Ute=({booking:t,onEdit:e,onDelete:n,getServiceLabel:r,getStatusColor:s,onClick:i,isSelected:A})=>{const{getStatusName:a}=sd();return c.jsxs("tr",{onClick:i,className:`border-b border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors ${A?"bg-gray-700/50":""}`,children:[c.jsxs("td",{className:"p-4 text-white",children:[c.jsx("div",{className:"font-medium",children:$e(new Date(t.booking_date),"dd/MM/yyyy")}),c.jsx("div",{className:"text-sm text-gray-400",children:t.booking_time})]}),c.jsx("td",{className:"p-4 text-white",children:c.jsxs("div",{className:"font-medium",children:[t.firstName," ",t.lastName]})}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-blue-400 hover:text-blue-300",children:[c.jsx(ua,{size:16}),t.email]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-1 text-green-400 hover:text-green-300",children:[c.jsx(il,{size:16}),t.phone]}),c.jsx("a",{href:nq(t.phone),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1 bg-green-600 text-white rounded-full hover:bg-green-700",title:"Contatta su WhatsApp",children:c.jsx(u6,{size:16})})]})]})}),c.jsx("td",{className:"p-4 text-white",children:r(t.service_type)}),c.jsx("td",{className:"p-4 text-white font-mono",children:t.ticket_number}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:s(t.status)},children:a(t.status)})}),c.jsx("td",{className:"p-4 text-white text-sm",children:t.notes||"-"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:o=>{o.stopPropagation(),e()},className:"p-2 text-yellow-400 hover:text-yellow-300 transition-colors",title:"Modifica prenotazione",children:c.jsx(S2,{size:20})}),c.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Elimina prenotazione",children:c.jsx(ta,{size:20})})]})})]})},Ste=({booking:t,editedBooking:e,serviceTypes:n,bookingStatuses:r,onClose:s,onSave:i,onChange:A})=>{const{statuses:a}=sd(),[o,l]=S.useState(!1),[u,h]=S.useState(null),[f,g]=S.useState(!1),m=async y=>{y.preventDefault(),l(!0),h(null),g(!1);try{const C=lt(_e,"bookings",t.id),x={...e,updated_at:new Date().toISOString()};Object.keys(x).forEach(v=>x[v]===void 0&&delete x[v]),await Ks(C,x),g(!0),setTimeout(()=>{i()},1500)}catch(C){console.error("Error updating booking:",C),h("Errore durante l'aggiornamento della prenotazione"),l(!1)}};return c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:c.jsx(er,{size:24})}),c.jsxs("h2",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(g6,{className:"text-[--theater-gold]"}),"Modifica Prenotazione"]}),u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),u]}),f&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Zn,{size:20}),"Prenotazione aggiornata con successo!"]}),c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),c.jsxs("div",{className:"relative",children:[c.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"date",value:e.booking_date||t.booking_date,onChange:y=>A({booking_date:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Ora"}),c.jsxs("div",{className:"relative",children:[c.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"time",value:e.booking_time||t.booking_time,onChange:y=>A({booking_time:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),c.jsx("input",{type:"text",value:e.firstName||t.firstName,onChange:y=>A({firstName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),c.jsx("input",{type:"text",value:e.lastName||t.lastName,onChange:y=>A({lastName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"email",value:e.email||t.email,onChange:y=>A({email:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",value:e.phone||t.phone,onChange:y=>A({phone:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),c.jsx("select",{value:e.service_type||t.service_type,onChange:y=>A({service_type:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:n.filter(y=>y.enabled).map(y=>c.jsx("option",{value:y.id,children:y.name},y.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Stato"}),c.jsx("select",{value:e.status||t.status,onChange:y=>A({status:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:a.filter(y=>y.enabled).map(y=>c.jsx("option",{value:y.id,children:y.name},y.id))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note"}),c.jsxs("div",{className:"relative",children:[c.jsx(U2,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("textarea",{value:e.notes||t.notes||"",onChange:y=>A({notes:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[c.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",disabled:o,children:"Annulla"}),c.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Zn,{size:20}),"Salva Modifiche"]})})]})]})]})})},Qte=async(t,e)=>{const n=e.reduce((s,i)=>s+i.price*i.quantity,0),r={bookingId:t,items:e,totalAmount:n,paidAmount:0,balance:n,status:"pending",createdAt:Ln()};try{return{id:(await zs(sn(_e,"orders"),r)).id,...r}}catch(s){throw console.error("Error creating order:",s),s}},Aw=async(t,e)=>{try{const n=lt(_e,"orders",t);await Ks(n,{...e,updatedAt:Ln()})}catch(n){throw console.error("Error updating order:",n),n}},Nte=async(t,e,n,r)=>{try{const s=lt(_e,"orders",t),i=await qi(s);if(!i.exists())throw new Error("Ordine non trovato");const A=i.data(),a=(A.paidAmount||0)+e,o=A.totalAmount-a,l=o<=0?"paid":o<A.totalAmount?"partial":"pending",u={orderId:t,amount:e,method:n,notes:r,date:Ln(),createdAt:Ln()};await zs(sn(_e,"payment_history"),u),await Ks(s,{paidAmount:a,balance:o,status:l,paymentDate:Ln(),updatedAt:Ln()})}catch(s){throw console.error("Error recording payment:",s),s}},kte=async(t,e)=>{try{const n=lt(_e,"payment_history",e),r=await qi(n);if(!r.exists())throw new Error("Pagamento non trovato");const s=r.data(),i=lt(_e,"orders",t),A=await qi(i);if(!A.exists())throw new Error("Ordine non trovato");const a=A.data(),o=a.paidAmount-s.amount,l=a.totalAmount-o,u=o===0?"pending":o<a.totalAmount?"partial":"paid";await Ks(i,{paidAmount:o,balance:l,status:u,updatedAt:Ln()}),await v2(n)}catch(n){throw console.error("Error deleting payment:",n),n}},zR=async t=>{try{if(!(await qi(lt(_e,"orders",t))).exists())throw new Error("Ordine non trovato");const n=sn(_e,"payment_history"),r=dA(n,hu("orderId","==",t));try{return(await Tg(r)).docs.map(i=>{var A;return{id:i.id,...i.data(),date:(A=i.data().date)==null?void 0:A.toDate()}})}catch(s){return console.error("Error fetching payment history:",s),[]}}catch(e){return console.error("Error checking order:",e),[]}},Rte=async(t,e,n,r)=>{var s,i;try{const A=(r==null?void 0:r.whatsappTemplate)||{header:`*🎭 CARNEVALE CINEMATOGRAFICO*

*👤 CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

*📝 PRODOTTI ORDINATI*
`,productFormat:`{index}. {productName}
   Quantità: {quantity}
   Prezzo: €{price}
   Totale: €{total}
`,paymentFormat:`{index}. {date}
   Metodo: {method}
   Importo: €{amount}
`,footer:`
📍 {address}
📞 Per assistenza: {phone}`};let a=A.header.replace("{firstName}",e.firstName||"").replace("{lastName}",e.lastName||"").replace("{ticketNumber}",e.ticket_number||"");t.items.length>0&&(t.items.forEach((l,u)=>{const h=n.find(f=>f.id===l.productId);h&&(a+=A.productFormat.replace("{index}",(u+1).toString()).replace("{productName}",h.name).replace("{quantity}",l.quantity.toString()).replace("{price}",l.price.toFixed(2)).replace("{total}",(l.price*l.quantity).toFixed(2)))}),a+=`
*💰 TOTALE ORDINE:* €${t.totalAmount.toFixed(2)}`);try{const l=await zR(t.id);l.length>0&&(a+=`

*💳 ACCONTI VERSATI*
`,l.forEach((u,h)=>{a+=A.paymentFormat.replace("{index}",(h+1).toString()).replace("{date}",u.date.toLocaleDateString()).replace("{method}",Dte(u.method)).replace("{amount}",u.amount.toFixed(2))}),t.balance>0&&(a+=`
*🔸 SALDO RIMANENTE:* €${t.balance.toFixed(2)}`))}catch(l){console.error("Error adding payment history to receipt:",l)}return a+=A.footer.replace("{address}",((s=r==null?void 0:r.company)==null?void 0:s.address)||"Via Quinto Orazio Flacco 5, Aversa").replace("{phone}",((i=r==null?void 0:r.company)==null?void 0:i.phone)||""),`https://wa.me/39${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(a)}`}catch(A){throw console.error("Error generating receipt:",A),new Error("Errore nella generazione della ricevuta WhatsApp")}},Dte=t=>{switch(t){case"cash":return"Contanti";case"card":return"Carta";case"transfer":return"Bonifico";default:return t}},Pte=({order:t,isOpen:e,onClose:n})=>{const[r,s]=S.useState(t.notes||""),[i,A]=S.useState(!1),[a,o]=S.useState(null),l=async()=>{A(!0),o(null);try{await Aw(t.id,{notes:r}),n()}catch(u){console.error("Error saving notes:",u),o("Errore durante il salvataggio delle note")}finally{A(!1)}};return c.jsx(Fn,{children:e&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(bc,{className:"text-[--theater-gold]"}),"Note Ordine"]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(er,{size:24})})]}),a&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6",children:a}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:r,onChange:u=>s(u.target.value),className:"w-full h-48 p-4 bg-gray-700 border border-gray-600 rounded text-white resize-none",placeholder:"Inserisci le note per questo ordine..."}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:l,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ng,{size:20}),"Salva Note"]})})]})]})]})})})},Lte=({bookingId:t,booking:e})=>{const[n,r]=S.useState(null),[s,i]=S.useState(!1),[A,a]=S.useState(!1),[o,l]=S.useState(!1),[u,h]=S.useState(!1),[f,g]=S.useState({}),[m,y]=S.useState(0),[C,x]=S.useState("cash"),[v,w]=S.useState(""),[F,Q]=S.useState([]),[k,I]=S.useState(!1),[E,b]=S.useState(null);S.useState(null);const{settings:_}=fA();S.useEffect(()=>{const V=sn(_e,"orders"),q=dA(V,hu("bookingId","==",t)),P=sl(q,K=>{if(!K.empty){const z=K.docs[0].data();r({...z,id:K.docs[0].id})}});return()=>P()},[t]),S.useEffect(()=>{n&&o&&N()},[n,o]),S.useEffect(()=>{s&&g({})},[s]);const N=async()=>{if(n)try{const V=await zR(n.id);Q(V)}catch(V){console.error("Error loading payment history:",V),b("Errore nel caricamento dello storico pagamenti")}},R=async()=>{I(!0),b(null);try{const V=Object.entries(f).map(([q,P])=>({productId:q,quantity:P.quantity,price:P.price}));if(n){const q=[...n.items,...V],P=q.reduce((K,z)=>K+z.price*z.quantity,0);await Aw(n.id,{items:q,totalAmount:P,balance:P-(n.paidAmount||0)})}else await Qte(t,V);i(!1),g({})}catch(V){console.error("Error adding products:",V),b("Errore durante l'aggiunta dei prodotti")}finally{I(!1)}},T=async V=>{if(n){I(!0),b(null);try{const q=n.items.filter(K=>K.productId!==V),P=q.reduce((K,z)=>K+z.price*z.quantity,0);await Aw(n.id,{items:q,totalAmount:P,balance:P-(n.paidAmount||0)})}catch(q){console.error("Error removing product:",q),b("Errore durante la rimozione del prodotto")}finally{I(!1)}}},J=async()=>{if(!(!n||!_))try{I(!0),b(null);const V=await Rte(n,e,_.products,_);window.open(V,"_blank")}catch(V){console.error("Error generating receipt:",V),b("Errore nella generazione della ricevuta WhatsApp")}finally{I(!1)}},ie=()=>!n||!_?null:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-0.5 rounded-full ${n.status==="paid"?"bg-green-500/20 text-green-400":n.status==="partial"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.status==="paid"?"Pagato":n.status==="partial"?"Acconto":"In attesa"}),c.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["€",n.totalAmount.toFixed(2)]})]}),n.paidAmount>0&&c.jsxs("span",{className:"text-green-400 text-xs",children:["Pagato: €",n.paidAmount.toFixed(2)]})]}),c.jsx("div",{className:"space-y-2 mt-4",children:n.items.map((V,q)=>{const P=_.products.find(K=>K.id===V.productId);return P?c.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between bg-gray-700 p-2 rounded",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[P.imageUrl&&c.jsx("img",{src:P.imageUrl,alt:P.name,className:"w-10 h-10 object-cover rounded"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-white",children:P.name}),c.jsxs("div",{className:"text-sm text-gray-400",children:[V.quantity,"x €",V.price.toFixed(2)]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-[--theater-gold]",children:["€",(V.quantity*V.price).toFixed(2)]}),c.jsx("button",{onClick:()=>T(V.productId),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Rimuovi prodotto",children:c.jsx(ta,{size:16})})]})]},`${V.productId}-${q}`):null})}),n.notes&&c.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 mt-2",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(bc,{size:16,className:"text-yellow-400 mt-1 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-yellow-400 line-clamp-2",children:n.notes})]})})]});return c.jsxs("div",{className:"space-y-2",children:[n?c.jsxs(c.Fragment,{children:[ie(),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm",children:[c.jsx(Xi,{size:14}),"Prodotti"]}),c.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600/20 text-green-400 rounded hover:bg-green-600/30 text-sm",children:[c.jsx(uv,{size:14}),"Pagamento"]}),c.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 text-sm",children:[c.jsx(Gs,{size:14}),"Storico"]}),c.jsxs("button",{onClick:J,disabled:k,className:"inline-flex items-center gap-1 px-2 py-1 bg-[#25D366]/20 text-[#25D366] rounded hover:bg-[#25D366]/30 text-sm disabled:opacity-50",children:[k?c.jsx("span",{className:"animate-spin",children:"⌛"}):c.jsx(f6,{size:14}),"Ricevuta"]}),c.jsxs("button",{onClick:()=>h(!0),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${n.notes?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(bc,{size:14}),n.notes?"Modifica Note":"Note"]})]})]}):c.jsx("div",{className:"flex justify-center",children:c.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 text-sm font-medium",children:[c.jsx(Xi,{size:16}),"Nuovo Ordine"]})}),c.jsxs(Fn,{children:[s&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:n?"Aggiungi Prodotti all'Ordine":"Nuovo Ordine"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:_==null?void 0:_.products.filter(V=>V.enabled).map(V=>{var q;return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[V.imageUrl&&c.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-full h-32 object-cover rounded mb-3"}),c.jsx("h4",{className:"text-white font-medium",children:V.name}),c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:V.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-[--theater-gold]",children:["€",V.price.toFixed(2)]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"number",min:"0",value:((q=f[V.id])==null?void 0:q.quantity)||0,onChange:P=>{const K=parseInt(P.target.value);if(K===0){const{[V.id]:z,...ge}=f;g(ge)}else g({...f,[V.id]:{quantity:K,price:V.price}})},className:"w-20 p-1 bg-gray-600 border border-gray-500 rounded text-white text-center"})})]})]},V.id)})}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:()=>{i(!1),g({})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:R,disabled:Object.keys(f).length===0||k,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:k?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),n?"Aggiunta in corso...":"Creazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Zn,{size:20}),n?"Aggiungi Prodotti":"Crea Ordine"]})})]})]})}),A&&n&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Registra Pagamento"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Totale da Pagare:"}),c.jsxs("span",{className:"block text-xl text-[--theater-gold]",children:["€",n.totalAmount.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Saldo Rimanente:"}),c.jsxs("span",{className:"block text-xl text-red-400",children:["€",n.balance.toFixed(2)]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Importo Pagamento"}),c.jsxs("div",{className:"relative",children:[c.jsx(uv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"number",step:"0.01",min:"0",max:n.balance,value:m,onChange:V=>y(parseFloat(V.target.value)),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Metodo di Pagamento"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>x("cash"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="cash"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(O1,{size:16}),"Contanti"]}),c.jsxs("button",{type:"button",onClick:()=>x("card"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="card"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(fu,{size:16}),"Carta"]}),c.jsxs("button",{type:"button",onClick:()=>x("transfer"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="transfer"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(G1,{size:16}),"Bonifico"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{value:v,onChange:V=>w(V.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Aggiungi una nota per questo pagamento..."})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:()=>{a(!1),y(0),x("cash"),w("")},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:async()=>{I(!0);try{await Nte(n.id,m,C,v),a(!1),y(0),x("cash"),w("")}catch(V){console.error("Error recording payment:",V),b("Errore durante la registrazione del pagamento")}finally{I(!1)}},disabled:m<=0||m>n.balance||k,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:k?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),"Registrazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Zn,{size:20}),"Conferma Pagamento"]})})]})]})]})}),o&&n&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(er,{size:24})}),c.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Gs,{className:"text-[--theater-gold]"}),"Storico Pagamenti"]}),E&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),E]}),c.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[F.map(V=>c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["€",V.amount.toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-400 mt-1",children:V.date.toLocaleDateString()}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[V.method==="cash"&&c.jsx(O1,{size:16,className:"text-green-400"}),V.method==="card"&&c.jsx(fu,{size:16,className:"text-blue-400"}),V.method==="transfer"&&c.jsx(G1,{size:16,className:"text-purple-400"}),c.jsx("span",{className:"text-gray-300",children:V.method==="cash"?"Contanti":V.method==="card"?"Carta":"Bonifico"})]})]}),V.notes&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[c.jsx(bc,{size:14,className:"mt-1"}),c.jsx("p",{children:V.notes})]}),c.jsx("button",{onClick:()=>{window.confirm("Sei sicuro di voler eliminare questo pagamento?")&&kte(n.id,V.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",title:"Elimina pagamento",children:c.jsx(ta,{size:16})})]})},V.id)),F.length===0&&c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessun pagamento registrato"})]})]})}),u&&n&&c.jsx(Pte,{order:n,isOpen:u,onClose:()=>h(!1)})]}),E&&c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mt-4",children:E})]})},Mte=({bookings:t,serviceTypes:e,bookingStatuses:n,getServiceLabel:r,getStatusColor:s})=>{const[i,A]=S.useState(null),[a,o]=S.useState(null),[l,u]=S.useState({}),[h,f]=S.useState(null),g=w=>{A(i===w?null:w)},m=w=>{o(w),u({...w})},y=async()=>{if(a)try{const w=lt(_e,"bookings",a.id);await Ks(w,{...l,updated_at:new Date().toISOString()}),o(null),u({})}catch(w){console.error("Error saving booking:",w),f("Errore durante il salvataggio della prenotazione")}},C=async w=>{if(window.confirm("Sei sicuro di voler eliminare questa prenotazione?"))try{f(null),await v2(lt(_e,"bookings",w)),i===w&&A(null),(a==null?void 0:a.id)===w&&(o(null),u({}))}catch(F){console.error("Error deleting booking:",F),f("Errore durante l'eliminazione della prenotazione")}},x=()=>{o(null),u({})},v=[...t].sort((w,F)=>{const Q=w.booking_date.localeCompare(F.booking_date);return Q!==0?Q:w.booking_time.localeCompare(F.booking_time)});return c.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[h&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 m-4 rounded-lg",children:h}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Data e Ora"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Cliente"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Contatti"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Servizio"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Ticket"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Stato"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Note"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Azioni"})]})}),c.jsx("tbody",{children:v.map(w=>c.jsxs(pe.Fragment,{children:[c.jsx(Ute,{booking:w,onEdit:()=>m(w),onDelete:()=>C(w.id),getServiceLabel:r,getStatusColor:s,onClick:()=>g(w.id),isSelected:i===w.id}),i===w.id&&c.jsx("tr",{children:c.jsx("td",{colSpan:8,className:"p-4 bg-gray-700/30",children:c.jsx(Lte,{bookingId:w.id,booking:w})})})]},w.id))})]})}),c.jsx(Fn,{children:a&&c.jsx(Ste,{booking:a,editedBooking:l,serviceTypes:e,bookingStatuses:n,onClose:x,onSave:y,onChange:u})})]})},Ote=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(!1);S.useEffect(()=>{o()},[]);const o=async()=>{if(!fn.currentUser){r(!1);return}try{await U1(_e,async h=>{const f=lt(_e,"users",fn.currentUser.uid),g=await h.get(f);if(!g.exists())h.set(f,{email:fn.currentUser.email,createdAt:new Date,updatedAt:new Date}),e(!1);else{const m=g.data();e(!!(m!=null&&m.googleCalendarToken))}})}catch(h){console.error("Error checking calendar connection:",h),h.code==="permission-denied"?e(!1):i("Errore durante la verifica della connessione")}finally{r(!1)}},l=()=>{if(!fn.currentUser){i("Devi essere autenticato per connettere il calendario");return}{i("Configurazione Google Calendar non disponibile");return}},u=async()=>{if(!fn.currentUser){i("Devi essere autenticato per disconnettere il calendario");return}try{r(!0),i(null),await U1(_e,async h=>{const f=lt(_e,"users",fn.currentUser.uid);if(!(await h.get(f)).exists())throw new Error("User document not found");h.update(f,{googleCalendarToken:null,googleCalendarRefreshToken:null,calendarConnected:!1,updatedAt:new Date})}),e(!1),a(!0),setTimeout(()=>a(!1),3e3)}catch(h){console.error("Error disconnecting calendar:",h),h.code==="permission-denied"?i("Non hai i permessi per disconnettere il calendario"):i("Errore durante la disconnessione del calendario")}finally{r(!1)}};return n?c.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[c.jsx(o6,{className:"animate-spin",size:20}),c.jsx("span",{children:"Verifica connessione..."})]}):c.jsxs("div",{className:"space-y-4",children:[s&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Kt,{size:20}),s]}),A&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Zn,{size:20}),t?"Calendario connesso con successo!":"Calendario disconnesso con successo!"]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:t?"Calendario Connesso":"Connetti Google Calendar"}),c.jsx("p",{className:"text-gray-400",children:t?"Le tue prenotazioni verranno automaticamente sincronizzate con il tuo Google Calendar":"Connetti il tuo Google Calendar per sincronizzare automaticamente le prenotazioni"})]}),c.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t?u:l,disabled:n,className:`flex items-center gap-2 px-6 py-2 rounded transition-colors ${t?"bg-red-500 text-white hover:bg-red-600":"bg-[--theater-gold] text-black hover:bg-yellow-500"} disabled:opacity-50`,children:n?c.jsx("span",{className:"animate-spin",children:"⌛"}):t?c.jsxs(c.Fragment,{children:[c.jsx(v6,{size:20}),"Disconnetti"]}):c.jsxs(c.Fragment,{children:[c.jsx(a6,{size:20}),"Connetti"]})})]}),t&&c.jsx("div",{className:"text-sm text-gray-400",children:c.jsx("p",{children:"Le nuove prenotazioni verranno automaticamente aggiunte al tuo Google Calendar. Puoi disconnettere il calendario in qualsiasi momento."})})]})},jte=({settings:t,onChange:e})=>{var s,i,A,a;const n=(o,l)=>{e({company:{...t.company,[o]:l}})},r=(o,l)=>{e({whatsappTemplate:{...t.whatsappTemplate,[o]:l}})};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Informazioni Aziendali"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(j1,{size:16}),"Nome Azienda"]}),c.jsx("input",{type:"text",value:t.company.name,onChange:o=>n("name",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(H1,{size:16}),"Logo URL"]}),c.jsx("input",{type:"url",value:t.company.logo,onChange:o=>n("logo",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/logo.png"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(j1,{size:16}),"Indirizzo"]}),c.jsx("input",{type:"text",value:t.company.address,onChange:o=>n("address",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(H1,{size:16}),"Sito Web"]}),c.jsx("input",{type:"url",value:t.company.website,onChange:o=>n("website",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com"})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Tn,{className:"text-[--theater-gold]"}),"Sincronizzazione Google Calendar"]}),c.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:c.jsx(Ote,{})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(U2,{className:"text-[--theater-gold]"}),"Template WhatsApp"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Intestazione Messaggio"}),c.jsx("textarea",{value:((s=t.whatsappTemplate)==null?void 0:s.header)||`*🎭 CARNEVALE CINEMATOGRAFICO*

*👤 CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

*📝 PRODOTTI ORDINATI*`,onChange:o=>r("header",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-32",placeholder:"Intestazione del messaggio..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Prodotto"}),c.jsx("textarea",{value:((i=t.whatsappTemplate)==null?void 0:i.productFormat)||`{index}. {productName}
   Quantità: {quantity}
   Prezzo: {price}
   Totale: {total}
`,onChange:o=>r("productFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni prodotto..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Pagamento"}),c.jsx("textarea",{value:((A=t.whatsappTemplate)==null?void 0:A.paymentFormat)||`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,onChange:o=>r("paymentFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni pagamento..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Footer Messaggio"}),c.jsx("textarea",{value:((a=t.whatsappTemplate)==null?void 0:a.footer)||`
📍 {address}
📞 Per assistenza: {phone}`,onChange:o=>r("footer",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Footer del messaggio..."})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-white font-medium mb-2",children:"Variabili Disponibili"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Generali:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsxs("li",{children:["{firstName}"," - Nome cliente"]}),c.jsxs("li",{children:["{lastName}"," - Cognome cliente"]}),c.jsxs("li",{children:["{ticketNumber}"," - Numero ticket"]}),c.jsxs("li",{children:["{address}"," - Indirizzo"]}),c.jsxs("li",{children:["{phone}"," - Telefono"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Prodotti:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsxs("li",{children:["{index}"," - Numero prodotto"]}),c.jsxs("li",{children:["{productName}"," - Nome prodotto"]}),c.jsxs("li",{children:["{quantity}"," - Quantità"]}),c.jsxs("li",{children:["{price}"," - Prezzo unitario"]}),c.jsxs("li",{children:["{total}"," - Totale prodotto"]})]})]})]})]})]})]})]})},Vte=[{value:0,label:"Domenica"},{value:1,label:"Lunedì"},{value:2,label:"Martedì"},{value:3,label:"Mercoledì"},{value:4,label:"Giovedì"},{value:5,label:"Venerdì"},{value:6,label:"Sabato"}],Hte=[{value:15,label:"15 minuti"},{value:30,label:"30 minuti"},{value:45,label:"45 minuti"},{value:60,label:"1 ora"},{value:90,label:"1 ora e 30 minuti"},{value:120,label:"2 ore"}],Kte=({serviceTypes:t,newServiceType:e,onServiceTypeChange:n,onNewServiceTypeChange:r,onAddServiceType:s,onRemoveServiceType:i})=>{const[A,a]=S.useState(null),[o,l]=S.useState(""),[u,h]=S.useState(null),f=(m,y)=>{const v=(t[m].excludedDays||[]).map(Number),F=v.indexOf(y)>=0?v.filter(Q=>Q!==y):[...v,y];F.sort((Q,k)=>Q-k),n(m,"excludedDays",F)},g=m=>{var x;if(!o){h("Seleziona una data da escludere");return}const y=t[m];if(y.bookingStartDate&&y.bookingEndDate){const v=new Date(o),w=new Date(y.bookingStartDate),F=new Date(y.bookingEndDate);if(v<w||v>F){h("La data deve essere compresa nel periodo di prenotazione");return}}if((x=y.excludedDates)!=null&&x.includes(o)){h("Questa data è già stata esclusa");return}const C=[...y.excludedDates||[],o].sort();n(m,"excludedDates",C),l(""),a(null),h(null)};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Tipi di Servizio"}),c.jsx("div",{className:"space-y-4",children:t.map((m,y)=>c.jsxs(X.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"text",value:m.name,onChange:C=>n(y,"name",C.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"Nome servizio"}),c.jsxs("label",{className:"flex items-center gap-2 text-white",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:C=>n(y,"enabled",C.target.checked),className:"w-4 h-4"}),"Attivo"]}),c.jsx("button",{type:"button",onClick:()=>i(y),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:c.jsx(ta,{size:20})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Gs,{size:16}),"Durata Servizio"]}),c.jsx("select",{value:m.duration||30,onChange:C=>n(y,"duration",parseInt(C.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white",children:Hte.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Tn,{size:16}),"Data Inizio Prenotazioni"]}),c.jsx("input",{type:"date",value:m.bookingStartDate||"",onChange:C=>n(y,"bookingStartDate",C.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Tn,{size:16}),"Data Fine Prenotazioni"]}),c.jsx("input",{type:"date",value:m.bookingEndDate||"",onChange:C=>n(y,"bookingEndDate",C.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Yl,{size:16}),"Giorni della Settimana Esclusi"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Vte.map(C=>c.jsxs(X.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(y,C.value),className:`
                      px-3 py-1 rounded-full text-sm flex items-center gap-2 transition-colors
                      ${(m.excludedDays||[]).includes(C.value)?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
                    `,children:[(m.excludedDays||[]).includes(C.value)&&c.jsx(Yl,{size:14,className:"text-red-400"}),C.label]},C.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Yl,{size:16}),"Date Specifiche Escluse"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:c.jsx(Fn,{mode:"popLayout",children:(m.excludedDates||[]).map(C=>c.jsxs(X.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[c.jsx(Yl,{size:14}),$e(new Date(C),"dd MMM yyyy",{locale:qs}),c.jsx("button",{type:"button",onClick:()=>{const x=(m.excludedDates||[]).filter(v=>v!==C);n(y,"excludedDates",x)},className:"text-red-400 hover:text-red-300",children:c.jsx(er,{size:14})})]},C))})}),c.jsx(Fn,{children:u&&c.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-400 text-sm mt-2",children:[c.jsx(Kt,{size:14}),u]})}),A===m.id?c.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex gap-2",children:[c.jsx("input",{type:"date",value:o,onChange:C=>{l(C.target.value),h(null)},className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",min:m.bookingStartDate,max:m.bookingEndDate}),c.jsxs("button",{type:"button",onClick:()=>g(y),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[c.jsx(Zn,{size:16}),"Aggiungi"]}),c.jsxs("button",{type:"button",onClick:()=>{a(null),l(""),h(null)},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500",children:[c.jsx(er,{size:16}),"Annulla"]})]}):c.jsxs(X.button,{type:"button",onClick:()=>a(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 text-sm text-[--theater-gold] hover:text-yellow-500",children:[c.jsx(Xi,{size:14}),"Aggiungi data esclusa"]})]})]})]},m.id))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",value:e.name,onChange:m=>r({...e,name:m.target.value}),placeholder:"Nuovo tipo di servizio",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white"}),c.jsxs(X.button,{type:"button",onClick:s,disabled:!e.name,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Xi,{size:20}),"Aggiungi"]})]})]})},zte=({breakTimes:t,newBreakTime:e,onBreakTimeChange:n,onNewBreakTimeChange:r,onAddBreakTime:s,onRemoveBreakTime:i})=>c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Pause e Intervalli"}),c.jsx("div",{className:"space-y-4",children:t.map((A,a)=>c.jsxs("div",{className:"flex items-center gap-4 bg-gray-700 p-4 rounded",children:[c.jsx("input",{type:"time",value:A.start,onChange:o=>n(a,"start",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),c.jsx("span",{className:"text-white",children:"a"}),c.jsx("input",{type:"time",value:A.end,onChange:o=>n(a,"end",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),c.jsxs("label",{className:"flex items-center gap-2 text-white",children:[c.jsx("input",{type:"checkbox",checked:A.enabled,onChange:o=>n(a,"enabled",o.target.checked),className:"w-4 h-4"}),"Attivo"]}),c.jsx("button",{type:"button",onClick:()=>i(a),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:c.jsx(ta,{size:20})})]},a))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"time",value:e.start,onChange:A=>r({...e,start:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inizio pausa"}),c.jsx("input",{type:"time",value:e.end,onChange:A=>r({...e,end:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Fine pausa"}),c.jsxs("button",{type:"button",onClick:s,disabled:!e.start||!e.end,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Xi,{size:20}),"Aggiungi Pausa"]})]})]}),Gte=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],QT=({color:t,onChange:e})=>c.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-xl border border-gray-700 w-64",children:[c.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:Gte.map(n=>c.jsx("button",{onClick:()=>e(n),className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${t===n?"ring-2 ring-white ring-offset-2 ring-offset-gray-800":""}`,style:{backgroundColor:n},title:n},n))}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm text-gray-300",children:"Custom Color"}),c.jsx("input",{type:"color",value:t,onChange:n=>e(n.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),Wte=({statuses:t,onSave:e})=>{const[n,r]=S.useState(t.map(w=>({...w,enabled:w.enabled??!0}))),[s,i]=S.useState(null),[A,a]=S.useState(!1),[o,l]=S.useState(null),[u,h]=S.useState({name:"",color:"#4CAF50",enabled:!0}),[f,g]=S.useState(null),m=w=>{g(w),setTimeout(()=>g(null),3e3)},y=async()=>{if(!u.name){i("Inserisci un nome per lo stato");return}if(n.some(k=>k.name.toLowerCase()===u.name.toLowerCase())){i("Esiste già uno stato con questo nome");return}const w=u.name.toLowerCase().replace(/\s+/g,"_"),F={...u,id:w,enabled:!0},Q=[...n,F];r(Q);try{a(!0),await e(Q),h({name:"",color:"#4CAF50",enabled:!0}),i(null),m("Nuovo stato aggiunto con successo")}catch(k){console.error("Error saving new status:",k),i("Errore durante il salvataggio del nuovo stato"),r(n)}finally{a(!1)}},C=async(w,F,Q)=>{const k=[...n];k[w]={...k[w],[F]:Q},r(k);try{a(!0),await e(k),m("Modifiche salvate con successo")}catch(I){console.error("Error saving status changes:",I),i("Errore durante il salvataggio delle modifiche"),r(n)}finally{a(!1)}},x=async(w,F)=>{await C(w,"color",F)},v=async w=>{const F=n.filter((Q,k)=>k!==w);try{a(!0),await e(F),r(F),m("Stato rimosso con successo")}catch(Q){console.error("Error removing status:",Q),i("Errore durante la rimozione dello stato")}finally{a(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(Ei,{className:"text-[--theater-gold]"}),"Stati Prenotazione"]})}),c.jsxs(Fn,{children:[s&&c.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Kt,{size:20}),s]}),f&&c.jsxs(X.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Kt,{size:20}),f]})]}),c.jsx("div",{className:"space-y-4",children:n.map((w,F)=>c.jsx(X.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"text",value:w.name,onChange:Q=>C(F,"name",Q.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white focus:border-[--theater-gold] transition-colors",placeholder:"Nome stato"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>l(o===w.id?null:w.id),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:w.color}}),o===w.id&&c.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[c.jsx("div",{className:"fixed inset-0",onClick:()=>l(null)}),c.jsx(QT,{color:w.color,onChange:Q=>x(F,Q)})]})]}),c.jsxs("label",{className:"flex items-center gap-2 text-white hover:text-[--theater-gold] transition-colors cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:w.enabled,onChange:Q=>C(F,"enabled",Q.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Attivo"]}),c.jsx("button",{onClick:()=>v(F),className:"p-2 text-red-400 hover:text-red-300 hover:scale-110 transition-all",title:"Rimuovi stato",disabled:A,children:c.jsx(ta,{size:20})})]})},w.id))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",value:u.name,onChange:w=>h({...u,name:w.target.value}),placeholder:"Nuovo stato",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-[--theater-gold] transition-colors"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>l(o==="new"?null:"new"),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:u.color}}),o==="new"&&c.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[c.jsx("div",{className:"fixed inset-0",onClick:()=>l(null)}),c.jsx(QT,{color:u.color,onChange:w=>h({...u,color:w})})]})]}),c.jsxs(X.button,{onClick:y,disabled:!u.name||A,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[c.jsx(Xi,{size:20}),A?"Aggiunta...":"Aggiungi"]})]})]})},$te=({settings:t,onChange:e})=>{var r,s,i,A;const n=(a,o)=>{e({social:{...t.social,[a]:o}})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(N2,{className:"text-[--theater-gold]"}),"Impostazioni Condivisione Social"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(Qg,{size:16}),"Immagine Anteprima"]}),c.jsx("input",{type:"url",value:((r=t.social)==null?void 0:r.image)||"",onChange:a=>n("image",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/image.jpg"}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Dimensioni consigliate: 1200x630 pixel"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(y6,{size:16}),"Titolo Anteprima"]}),c.jsx("input",{type:"text",value:((s=t.social)==null?void 0:s.title)||"",onChange:a=>n("title",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale Cinematografico 2025"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(bc,{size:16}),"Descrizione Anteprima"]}),c.jsx("textarea",{value:((i=t.social)==null?void 0:i.description)||"",onChange:a=>n("description",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(i6,{size:16}),"URL Sito"]}),c.jsx("input",{type:"url",value:((A=t.social)==null?void 0:A.url)||"",onChange:a=>n("url",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://gennaromazzacane.it/carnival2025"})]}),c.jsx("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-4",children:c.jsx("div",{className:"flex items-start gap-2",children:c.jsxs("div",{className:"text-blue-400 text-sm",children:[c.jsx("p",{className:"font-medium mb-1",children:"Anteprima Social"}),c.jsx("p",{children:"Queste impostazioni controllano come appare il link quando viene condiviso su WhatsApp, Facebook e altri social media. L'immagine dovrebbe essere rappresentativa del tuo evento e catturare l'attenzione."})]})})})]})]})},qte=({type:t,enabled:e,onChange:n})=>{const r=s=>{const i="w-full aspect-[9/16] rounded-lg overflow-hidden";switch(s){case"classic":return c.jsxs("div",{className:`${i} bg-gradient-to-br from-red-600 to-red-700 text-white p-6 flex flex-col`,children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Ic,{className:"w-12 h-12 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-bold",children:"Carnevale 2025"}),c.jsx("p",{className:"text-sm opacity-75",children:"CNC-123456"})]}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-4",children:[c.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm opacity-75",children:"Nome"}),c.jsx("p",{className:"font-bold",children:"Mario Rossi"})]}),c.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm opacity-75",children:"Data"}),c.jsx("p",{className:"font-bold",children:"01/03/2025"})]})]})]});case"modern":return c.jsx("div",{className:`${i} bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6`,children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[c.jsx(Ic,{className:"w-16 h-16 mx-auto mb-6"}),c.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Carnevale"}),c.jsx("p",{className:"text-lg mb-8",children:"2025"}),c.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-xl",children:c.jsx("p",{className:"font-mono text-xl",children:"CNC-123456"})})]}),c.jsx("div",{className:"mt-auto text-center",children:c.jsx("p",{className:"text-sm opacity-75",children:"Via Quinto Orazio Flacco 5, Aversa"})})]})});case"vintage":return c.jsx("div",{className:`${i} bg-[#f8e5b9] p-6 border-8 border-[#8b4513]`,children:c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#8b4513]",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-3xl font-serif mb-2",children:"CARNEVALE"}),c.jsx("p",{className:"text-xl font-serif",children:"CINEMATOGRAFICO"})]}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),c.jsx("div",{className:"font-mono text-xl mb-6",children:"CNC-123456"}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),c.jsxs("div",{className:"text-center mt-auto",children:[c.jsx("p",{className:"font-serif",children:"01 Marzo 2025"}),c.jsx("p",{className:"font-serif text-sm mt-2",children:"Aversa"})]})]})})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Ic,{className:"text-[--theater-gold]"}),"Template Ticket"]}),c.jsx("div",{className:"grid grid-cols-3 gap-6",children:["classic","modern","vintage"].map(s=>c.jsxs(X.div,{whileHover:{scale:1.02},className:`relative cursor-pointer rounded-lg overflow-hidden ${t===s?"ring-2 ring-[--theater-gold]":""}`,onClick:()=>n({type:s,enabled:e}),children:[r(s),c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:c.jsx("button",{className:"px-4 py-2 bg-[--theater-gold] text-black rounded-lg",children:"Seleziona"})})]},s))}),c.jsx("div",{className:"mt-6",children:c.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e,onChange:s=>n({type:t,enabled:s.target.checked}),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione ticket"]})})]})},Xte=({enabled:t,title:e,subtitle:n,type:r,onChange:s})=>{var a;const i=[{id:"curtain",label:"Sipario",description:"Un elegante sipario teatrale che si apre per rivelare il contenuto"},{id:"fade",label:"Dissolvenza",description:"Una transizione fluida con dissolvenza del contenuto"},{id:"slide",label:"Scorrimento",description:"Un effetto dinamico di scorrimento laterale"}],A=o=>l=>{s({enabled:t,title:e,subtitle:n,type:r,[o]:l})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Ss,{className:"text-[--theater-gold]"}),"Animazione Introduttiva"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:t,onChange:o=>A("enabled")(o.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione all'apertura"]})}),t&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Titolo Animazione"}),c.jsx("input",{type:"text",value:e,onChange:o=>A("title")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale 2025"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Sottotitolo"}),c.jsx("input",{type:"text",value:n,onChange:o=>A("subtitle")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"3... 2... 1..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-4",children:"Tipo Animazione"}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(o=>c.jsxs(X.button,{type:"button",whileHover:{scale:1.02},onClick:()=>A("type")(o.id),className:`p-4 rounded-lg border-2 transition-colors ${r===o.id?"border-[--theater-gold] bg-[--theater-gold]/10":"border-gray-700 hover:border-gray-600"}`,children:[c.jsx(h6,{className:`w-8 h-8 mx-auto mb-2 ${r===o.id?"text-[--theater-gold]":"text-gray-400"}`}),c.jsx("span",{className:`block font-medium mb-2 ${r===o.id?"text-white":"text-gray-300"}`,children:o.label}),c.jsx("p",{className:"text-sm text-gray-400",children:o.description})]},o.id))})]})]}),c.jsxs("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg",children:[c.jsx("h4",{className:"text-white font-medium mb-4",children:"Anteprima Impostazioni"}),c.jsxs("div",{className:"space-y-2 text-gray-300",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Stato:"})," ",t?"Attivo":"Disattivato"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Titolo:"})," ",e||"(non impostato)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Sottotitolo:"})," ",n||"(non impostato)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Tipo:"})," ",((a=i.find(o=>o.id===r))==null?void 0:a.label)||r]})]})]})]})]})},Yte=[{id:"general",label:"Generali",icon:Ei},{id:"status",label:"Stati Prenotazione",icon:Ei},{id:"services",label:"Servizi",icon:Ei},{id:"breaks",label:"Pause",icon:Ei},{id:"social",label:"Condivisione",icon:N2},{id:"ticket",label:"Template Ticket",icon:Ic},{id:"intro",label:"Intro",icon:Ss}],Jte=({settings:t,onSave:e,onClose:n})=>{const[r,s]=S.useState(!1),[i,A]=S.useState(t),[a,o]=S.useState(null),[l,u]=S.useState("general"),[h,f]=S.useState(!1),{statuses:g}=sd(),m=async C=>{C.preventDefault(),s(!0),o(null);try{await e(i),f(!0),setTimeout(()=>f(!1),3e3)}catch(x){console.error("Error saving settings:",x),o("Errore durante il salvataggio delle impostazioni")}finally{s(!1)}},y=()=>{var C,x,v,w,F,Q;switch(l){case"general":return c.jsx(jte,{settings:i,onChange:k=>A({...i,...k})});case"status":return c.jsx(Wte,{statuses:g,onSave:async k=>{A({...i,bookingStatuses:k})}});case"services":return c.jsx(Kte,{serviceTypes:i.serviceTypes,newServiceType:{id:"",name:"",enabled:!0,bookingStartDate:"",bookingEndDate:""},onServiceTypeChange:(k,I,E)=>{const b=[...i.serviceTypes];b[k]={...b[k],[I]:E},A({...i,serviceTypes:b})},onNewServiceTypeChange:()=>{},onAddServiceType:()=>{},onRemoveServiceType:k=>{const I=i.serviceTypes.filter((E,b)=>b!==k);A({...i,serviceTypes:I})}});case"breaks":return c.jsx(zte,{breakTimes:i.breakTimes,newBreakTime:{start:"",end:"",enabled:!0},onBreakTimeChange:(k,I,E)=>{const b=[...i.breakTimes];b[k]={...b[k],[I]:E},A({...i,breakTimes:b})},onNewBreakTimeChange:()=>{},onAddBreakTime:()=>{},onRemoveBreakTime:k=>{const I=i.breakTimes.filter((E,b)=>b!==k);A({...i,breakTimes:I})}});case"social":return c.jsx($te,{settings:i,onChange:k=>A({...i,...k})});case"ticket":return c.jsx(qte,{type:((C=i.ticketTemplate)==null?void 0:C.type)||"classic",enabled:((x=i.ticketTemplate)==null?void 0:x.enabled)??!0,onChange:k=>A(I=>({...I,ticketTemplate:k}))});case"intro":return c.jsx(Xte,{enabled:((v=i.animation)==null?void 0:v.enabled)??!0,title:((w=i.animation)==null?void 0:w.title)||"",subtitle:((F=i.animation)==null?void 0:F.subtitle)||"",type:((Q=i.animation)==null?void 0:Q.type)||"curtain",onChange:k=>A(I=>({...I,animation:{...I.animation,...k}}))});default:return null}};return c.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:c.jsxs("form",{onSubmit:m,className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Impostazioni"}),c.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-white",children:c.jsx(er,{size:24})})]}),a&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:a}),h&&c.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg",children:"Impostazioni salvate con successo"}),c.jsx("div",{className:"flex gap-4 border-b border-gray-700 overflow-x-auto",children:Yte.map(C=>c.jsxs("button",{type:"button",onClick:()=>u(C.id),className:`px-4 py-2 -mb-px whitespace-nowrap flex items-center gap-2 ${l===C.id?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:[c.jsx(C.icon,{size:16}),C.label]},C.id))}),c.jsx("div",{className:"pt-6",children:y()}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:r?"Salvataggio...":"Salva Impostazioni"})]})]})})},Zte=()=>{const{settings:t,loading:e}=fA(),[n,r]=S.useState(null),[s,i]=S.useState(!1),[A,a]=S.useState({name:"",description:"",price:0,imageUrl:"",enabled:!0}),o=async h=>{if(h.preventDefault(),!!t)try{let f=[...t.products];if(n){const g=f.findIndex(m=>m.id===n);g!==-1&&(f[g]={...A,id:n})}else{const g={...A,id:crypto.randomUUID()};f.push(g)}await bp({products:f}),i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})}catch(f){console.error("Error saving product:",f),alert("Errore durante il salvataggio del prodotto")}},l=async h=>{if(window.confirm("Sei sicuro di voler eliminare questo prodotto?")&&t)try{const f=t.products.filter(g=>g.id!==h);await bp({products:f})}catch(f){console.error("Error deleting product:",f),alert("Errore durante l'eliminazione del prodotto")}},u=h=>{a(h),r(h.id),i(!0)};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-white flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:"⌛"}),"Caricamento..."]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Prodotti"}),c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[c.jsx(Xi,{size:20}),"Nuovo Prodotto"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.products.map(h=>c.jsxs(X.div,{layout:!0,className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[h.imageUrl&&c.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:h.name}),c.jsx("p",{className:"text-gray-400 mb-4",children:h.description}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-[--theater-gold] text-xl",children:["€",h.price.toFixed(2)]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>u(h),className:"p-2 text-blue-400 hover:text-blue-300",children:c.jsx(S2,{size:20})}),c.jsx("button",{onClick:()=>l(h.id),className:"p-2 text-red-400 hover:text-red-300",children:c.jsx(ta,{size:20})})]})]})]})]},h.id))}),c.jsx(Fn,{children:(s||n)&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:n?"Modifica Prodotto":"Nuovo Prodotto"}),c.jsx("button",{onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"text-gray-400 hover:text-white",children:c.jsx(er,{size:24})})]}),c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome Prodotto"}),c.jsx("input",{type:"text",value:A.name,onChange:h=>a({...A,name:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Descrizione"}),c.jsx("textarea",{value:A.description,onChange:h=>a({...A,description:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Prezzo"}),c.jsxs("div",{className:"relative",children:[c.jsx(uv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:A.price,onChange:h=>a({...A,price:parseFloat(h.target.value)}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"URL Immagine"}),c.jsxs("div",{className:"relative",children:[c.jsx(Qg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"url",value:A.imageUrl,onChange:h=>a({...A,imageUrl:h.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:A.enabled,onChange:h=>a({...A,enabled:h.target.checked}),className:"w-4 h-4"}),c.jsx("label",{className:"text-gray-300",children:"Prodotto attivo"})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[c.jsx(Ng,{size:20}),n?"Salva Modifiche":"Crea Prodotto"]})]})]})]})})})]})},ene=async t=>{try{console.log("Preparing email:",{to:t.to,type:t.type,data:t.data});const e=tne(t.type,t.data);if(!e.subject||!e.html)throw new Error("Email template generation failed");console.log("Email template generated:",{subject:e.subject,htmlLength:e.html.length});const r=await d5(H5,"sendEmailFunction")({to:t.to,type:t.type,data:{...t.data,subject:e.subject,html:e.html,text:e.text}}),s=r.data.success;console.log("Email function result:",r.data);try{await zs(sn(_e,"email_logs"),{to:t.to,type:t.type,data:t.data,success:s,timestamp:Ln()})}catch(i){console.error("Error logging email:",i)}return s}catch(e){console.error("Error in sendEmail:",e instanceof Error?e.message:"Unknown error");try{await zs(sn(_e,"email_logs"),{to:t.to,type:t.type,data:t.data,success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Ln()})}catch(n){console.error("Error logging email failure:",n)}throw e}},tne=(t,e)=>{try{const n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #D22B2B; text-align: center;">Carnevale Cinematografico</h1>
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
          {{content}}
        </div>
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p>© ${new Date().getFullYear()} Carnevale Cinematografico. Tutti i diritti riservati.</p>
        </div>
      </div>
    `;let r="",s="",i="";switch(t){case"welcome":s="Benvenuto in Carnevale Cinematografico",r=`
          <p>Gentile ${(e==null?void 0:e.name)||"Utente"},</p>
          <p>Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.</p>
          <p>Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.</p>
        `,i=`
          Gentile ${(e==null?void 0:e.name)||"Utente"},
          
          Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.
          Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.
        `;break;case"booking":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time)||!(e!=null&&e.ticketNumber))throw new Error("Missing required booking data");s="Conferma della prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>La tua prenotazione è stata confermata con successo!</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
            <p><strong>Numero Ticket:</strong> ${e.ticketNumber}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo per il tuo servizio fotografico!</p>
        `,i=`
          Gentile ${e.name},
          
          La tua prenotazione è stata confermata con successo!
          
          Data: ${e.date}
          Orario: ${e.time}
          Numero Ticket: ${e.ticketNumber}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo per il tuo servizio fotografico!
        `;break;case"reminder":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time))throw new Error("Missing required reminder data");s="Promemoria prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>Ti ricordiamo che hai una prenotazione per domani:</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo!</p>
        `,i=`
          Gentile ${e.name},
          
          Ti ricordiamo che hai una prenotazione per domani:
          
          Data: ${e.date}
          Orario: ${e.time}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo!
        `;break;case"subscription":if(s="Informazioni abbonamento",e!=null&&e.endDate){const A=new Date(e.endDate);if(isNaN(A.getTime()))throw new Error("Invalid subscription end date");r=`
            <p>Il tuo abbonamento scadrà il ${A.toLocaleDateString("it-IT")}.</p>
            <p>Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.</p>
            <div style="text-align: center; margin-top: 20px;">
              <a href="https://carnevale-cinematografico.web.app/profile/subscription" 
                 style="background-color: #D22B2B; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                Rinnova Ora
              </a>
            </div>
          `,i=`
            Il tuo abbonamento scadrà il ${A.toLocaleDateString("it-IT")}.
            Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.
            
            Rinnova ora: https://carnevale-cinematografico.web.app/profile/subscription
          `}else r=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.",i=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.";break;case"custom":default:s="Notifica da Carnevale Cinematografico",r=`<p>${(e==null?void 0:e.message)||"Nessun messaggio"}</p>`,i=(e==null?void 0:e.message)||"Nessun messaggio";break}return{subject:s,html:n.replace("{{content}}",r),text:i.trim().replace(/\n\s+/g,`
`)}}catch(n){throw console.error("Error generating email template:",n),n}},Lp=async(t,e)=>ene({to:t,type:"subscription",data:{endDate:e.endDate,message:e.message}}),nne=({subscription:t,onClose:e})=>{const[n,r]=S.useState(!1),[s,i]=S.useState(null),[A,a]=S.useState(null),[o,l]=S.useState(1),[u,h]=S.useState(""),[f,g]=S.useState(!1),m=async()=>{r(!0),i(null),a(null);try{const C=wp(t.endDate,o);await Ks(lt(_e,"subscriptions",t.userId),{endDate:C,status:"active"}),await zs(sn(_e,"subscription_history"),{userId:t.userId,email:t.email,action:"extension",months:o,previousEndDate:t.endDate,newEndDate:C,timestamp:new Date}),a(`Abbonamento esteso di ${o} ${o===1?"mese":"mesi"}`),await Lp(t.email,{type:"extension",endDate:C})}catch(C){console.error("Error extending subscription:",C),i("Errore durante l'estensione dell'abbonamento")}finally{r(!1)}},y=async()=>{if(!u.trim()){i("Inserisci un messaggio per la notifica");return}r(!0),i(null),a(null);try{await Lp(t.email,{type:"custom",message:u}),await zs(sn(_e,"notification_history"),{userId:t.userId,email:t.email,message:u,timestamp:new Date}),a("Notifica inviata con successo"),h("")}catch(C){console.error("Error sending notification:",C),i("Errore durante l'invio della notifica")}finally{r(!1)}};return c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(er,{size:24})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Gestione Abbonamento"}),s&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),s]}),A&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Zn,{size:20}),A]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[c.jsx(Tn,{className:"text-[--theater-gold]"}),"Estendi Abbonamento"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Durata estensione (mesi)"}),c.jsx("input",{type:"number",min:"1",max:"12",value:o,onChange:C=>l(parseInt(C.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{className:"text-sm text-gray-400",children:["Nuova data di scadenza:"," ",c.jsx("span",{className:"text-white",children:$e(wp(t.endDate,o),"dd MMMM yyyy",{locale:qs})})]}),c.jsxs("button",{onClick:m,disabled:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[n?c.jsx("span",{className:"animate-spin",children:"⌛"}):c.jsx(Zn,{size:20}),"Estendi Abbonamento"]})]})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[c.jsx(cv,{className:"text-[--theater-gold]"}),"Invia Notifica"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:u,onChange:C=>h(C.target.value),placeholder:"Scrivi un messaggio...",className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white h-24 resize-none"}),c.jsxs("button",{onClick:y,disabled:n||!u.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[n?c.jsx("span",{className:"animate-spin",children:"⌛"}):c.jsx(cv,{size:20}),"Invia Notifica"]})]})]}),c.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[c.jsx(A6,{size:20}),"Visualizza Storico"]})]}),c.jsx(Fn,{children:f&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(er,{size:24})}),c.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Gs,{className:"text-[--theater-gold]"}),"Storico Abbonamento"]}),c.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Storico in fase di implementazione"})})]})})})]})})},rne=({subscriptions:t})=>{const e={total:t.length,active:t.filter(n=>n.status==="active").length,expiringSoon:t.filter(n=>{const r=Math.ceil((n.endDate.getTime()-Date.now())/864e5);return n.status==="active"&&r<=7}).length,monthlyRevenue:t.filter(n=>n.status==="active"&&n.plan==="monthly").length*20+t.filter(n=>n.status==="active"&&n.plan==="yearly").length*8.333333333333334};return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:c.jsx(ix,{className:"w-6 h-6 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Totale Abbonati"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.total})]})]})}),c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:c.jsx(fu,{className:"w-6 h-6 text-green-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Abbonamenti Attivi"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.active})]})]})}),c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:c.jsx(Gs,{className:"w-6 h-6 text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"In Scadenza"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.expiringSoon})]})]})}),c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-[--theater-gold]/20 rounded-lg",children:c.jsx(m6,{className:"w-6 h-6 text-[--theater-gold]"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Ricavi Mensili"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:["€",Math.round(e.monthlyRevenue)]})]})]})})]})},sne=({subscriptions:t})=>{const[e,n]=S.useState(!1),[r,s]=S.useState(null),i=()=>{n(!0),s(null);try{const A=["Email","Piano","Stato","Data Inizio","Data Scadenza","Prenotazioni Usate","Limite Prenotazioni"],a=t.map(f=>[f.email,f.plan,f.status,$e(f.startDate,"dd/MM/yyyy",{locale:qs}),$e(f.endDate,"dd/MM/yyyy",{locale:qs}),f.bookingsUsed,f.maxBookings]),o=[A.join(","),...a.map(f=>f.join(","))].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(l);u.setAttribute("href",h),u.setAttribute("download",`abbonamenti_${$e(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(A){console.error("Error exporting subscriptions:",A),s("Errore durante l'esportazione")}finally{n(!1)}};return c.jsxs("div",{className:"mb-6",children:[r&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-4 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),r]}),c.jsxs(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50",children:[e?c.jsx("span",{className:"animate-spin",children:"⌛"}):c.jsx(s6,{size:20}),"Esporta Abbonamenti"]})]})},GR=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(""),[o,l]=S.useState("all"),[u,h]=S.useState(null);S.useEffect(()=>{const g=sn(_e,"subscriptions"),m=dA(g,Do("endDate","desc")),y=sl(m,C=>{const x=C.docs.map(v=>{const w=v.data();return{...w,id:v.id,startDate:w.startDate?new Date(w.startDate):new Date,endDate:w.endDate?new Date(w.endDate):new Date}});e(x),r(!1)},C=>{console.error("Error fetching subscriptions:",C),i("Errore nel caricamento degli abbonamenti"),r(!1)});return()=>y()},[]);const f=t.filter(g=>{const m=g.email.toLowerCase().includes(A.toLowerCase()),y=o==="all"||g.status===o;return m&&y});return n?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):c.jsxs("div",{className:"min-h-screen bg-gray-900 py-8",children:[c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(ix,{className:"text-[--theater-gold]"}),"Gestione Abbonamenti"]}),c.jsx("div",{className:"flex gap-4",children:c.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:c.jsx(Q2,{size:20})})})]}),c.jsx(rne,{subscriptions:t}),c.jsx(sne,{subscriptions:t}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(kg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per email...",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tp,{className:"text-gray-400"}),c.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),c.jsx("option",{value:"active",children:"Attivi"}),c.jsx("option",{value:"expired",children:"Scaduti"})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Piano"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Scadenza"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Prenotazioni"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),c.jsx("tbody",{children:f.map(g=>c.jsxs(X.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-4 text-white",children:g.email}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-400",children:g.plan})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${g.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:g.status==="active"?"Attivo":"Scaduto"})}),c.jsx("td",{className:"p-4 text-white",children:$e(g.endDate,"dd MMM yyyy",{locale:qs})}),c.jsxs("td",{className:"p-4 text-white",children:[g.bookingsUsed," / ",g.maxBookings]}),c.jsx("td",{className:"p-4",children:c.jsx("button",{onClick:()=>h(g),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:c.jsx(Ei,{size:18})})})]},g.id))})]})})]})}),c.jsx(Fn,{children:u&&c.jsx(nne,{subscription:u,onClose:()=>h(null)})})]})},ine=async t=>{try{const e=new Date(t.booking_date);if(isNaN(e.getTime()))throw new Error("Data di prenotazione non valida");const n=e.toISOString().split("T")[0],r=await zs(sn(_e,"bookings"),{...t,booking_date:n,created_at:Ln()});if(t.userId)try{const i=(await qi(lt(_e,"users",t.userId))).data();if(i!=null&&i.calendarConnected){const A=new Date(`${n}T${t.booking_time}`),a=new Date(A.getTime()+60*60*1e3);await J$(t.userId,{summary:`Prenotazione Fotografica - ${t.firstName} ${t.lastName}`,description:`Prenotazione: ${t.ticket_number}
Servizio: ${t.service_type}`,startTime:A,endTime:a,location:"Via Quinto Orazio Flacco 5, Aversa"})}}catch(s){console.error("Error syncing with Google Calendar:",s)}return r.id}catch(e){throw console.error("Error creating booking:",e),e}},Ane=({selectedDate:t,selectedTime:e,onTimeSelect:n})=>{const{settings:r}=fA(),[s,i]=S.useState([]);return S.useEffect(()=>{if(!r)return;const A=[],[a,o=0]=r.startTime.split(":").map(Number),[l,u=0]=r.endTime.split(":").map(Number),h=r.bookingIntervals||30;let f=Cp(Ep(t,o),a);const g=Cp(Ep(t,u),l);for(;f<g;){const m=$e(f,"HH:mm");A.push(m),f=Sk(f,h)}i(A)},[t,r]),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("label",{className:"block text-gray-300",children:[c.jsx(Gs,{size:16,className:"inline-block mr-2"}),"Orari Disponibili"]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.map(A=>c.jsx("button",{type:"button",onClick:()=>n(A),className:`
              p-2 rounded text-center transition-colors
              ${e===A?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}
            `,children:A},A))})]})},ane=kn.object({firstName:kn.string().min(2,"Nome richiesto"),lastName:kn.string().min(2,"Cognome richiesto"),email:kn.string().email("Email non valida"),phone:kn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service_type:kn.string().min(1,"Seleziona un tipo di servizio"),notes:kn.string().optional()}),one=({isOpen:t,onClose:e,onSuccess:n})=>{const{settings:r}=fA(),[s,i]=S.useState(null),[A,a]=S.useState(""),[o,l]=S.useState(!1),[u,h]=S.useState(null),{register:f,handleSubmit:g,formState:{errors:m},reset:y}=mk({resolver:vk(ane)}),C=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,x=async v=>{if(!s||!A){h("Seleziona data e ora per la prenotazione");return}l(!0),h(null);try{const w={...v,booking_date:s.toISOString().split("T")[0],booking_time:A,ticket_number:C(),status:"pending"};await ine(w),y(),i(null),a(""),n&&n(),e()}catch(w){console.error("Error creating booking:",w),h("Errore durante la creazione della prenotazione")}finally{l(!1)}};return c.jsx(Fn,{children:t&&c.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs(X.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Tn,{className:"text-[--theater-gold]"}),"Nuova Prenotazione"]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:c.jsx(er,{size:24})})]}),u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),u]}),c.jsxs("form",{onSubmit:g(x),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),c.jsxs("div",{className:"relative",children:[c.jsx(Po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("firstName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),m.firstName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),c.jsxs("div",{className:"relative",children:[c.jsx(Po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("lastName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),m.lastName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("email"),type:"email",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"email@esempio.com"})]}),m.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("phone"),type:"tel",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il numero senza prefisso"})]}),m.phone&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),c.jsxs("select",{...f("service_type"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"",children:"Seleziona servizio"}),r==null?void 0:r.serviceTypes.filter(v=>v.enabled).map(v=>c.jsx("option",{value:v.id,children:v.name},v.id))]}),m.service_type&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.service_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{...f("notes"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Note aggiuntive..."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),c.jsx("input",{type:"date",value:s?s.toISOString().split("T")[0]:"",onChange:v=>i(v.target.value?new Date(v.target.value):null),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),s&&c.jsx(Ane,{selectedDate:s,selectedTime:A,onTimeSelect:a})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),"Creazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Zn,{size:20}),"Crea Prenotazione"]})})]})]})]})})})},lne=async(t,e)=>{const n=new FormData;n.append("photo",e),n.append("bookingId",t);const s=await(await fetch("/api/upload.php",{method:"POST",body:n})).json();if(!s.success)throw new Error(s.error);return{id:s.name,url:s.url,name:s.name,size:s.size,width:s.width,height:s.height}},cne=async(t,e)=>{const r=await(await fetch("/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:t,photoId:e})})).json();if(!r.success)throw new Error(r.error)},une=async t=>{const n=await(await fetch(`/api/gallery.php?bookingId=${t}`)).json();if(!n.success)throw new Error(n.error);return n.photos.map(r=>({id:r.id,url:r.url,name:r.name,size:r.size,width:r.width,height:r.height}))};function dne(t,e){if(t==null)return{};var n=hne(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hne(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Mp(){return Mp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){fne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const pne={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},V0=2;class WR extends pe.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||V0,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||V0});let r=1/0,s=n.default||V0;for(let i in n){const A=parseInt(i);A>0&&e<=A&&A<r&&(r=A,s=n[i])}s=Math.max(1,parseInt(s)||1),this.state.columnCount!==s&&this.setState({columnCount:s})}itemsInColumns(){const e=this.state.columnCount,n=new Array(e),r=pe.Children.toArray(this.props.children);for(let s=0;s<r.length;s++){const i=s%e;n[i]||(n[i]=[]),n[i].push(r[s])}return n}renderColumns(){const{column:e,columnAttrs:n={},columnClassName:r}=this.props,s=this.itemsInColumns(),i=`${100/s.length}%`;let A=r;A&&typeof A!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof A>"u"&&(A="my-masonry-grid_column"));const a=jl(jl(jl({},e),n),{},{style:jl(jl({},n.style),{},{width:i}),className:A});return s.map((o,l)=>pe.createElement("div",Mp({},a,{key:l}),o))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:n,breakpointCols:r,columnClassName:s,columnAttrs:i,column:A,className:a}=e,o=dne(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let l=a;return typeof a!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof a>"u"&&(l="my-masonry-grid")),pe.createElement("div",Mp({},o,{className:l}),this.renderColumns())}}WR.defaultProps=pne;function gne(){return pe.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},pe.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function mne(){return pe.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},pe.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const Op=(t,e)=>{var n,r;return t===((r=(n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase)==null?void 0:r.call(n))},rC=t=>Op("DIV",t)||Op("SPAN",t),jp=t=>Op("IMG",t),kT=t=>t.complete&&t.naturalHeight!==0,Af=t=>Op("SVG",t),$R=({height:t,offset:e,width:n})=>Math.min((window.innerWidth-e*2)/n,(window.innerHeight-e*2)/t),yne=({containerHeight:t,containerWidth:e,offset:n,targetHeight:r,targetWidth:s})=>{const i=$R({height:r,offset:n,width:s}),A=s>r?s/e:r/t;return i>1?A:i*A},HA=({containerHeight:t,containerWidth:e,hasScalableSrc:n,offset:r,targetHeight:s,targetWidth:i})=>!t||!e?1:!n&&s&&i?yne({containerHeight:t,containerWidth:e,offset:r,targetHeight:s,targetWidth:i}):$R({height:t,offset:r,width:e}),vne=/url(?:\(['"]?)(.*?)(?:['"]?\))/,RT=t=>{var e;if(t){if(jp(t))return t.currentSrc;if(rC(t)){const n=window.getComputedStyle(t).backgroundImage;if(n)return(e=vne.exec(n))==null?void 0:e[1]}}},wne=t=>{if(t)return jp(t)?t.alt??void 0:t.getAttribute("aria-label")??void 0},Bne=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:r,hasScalableSrc:s,offset:i,targetHeight:A,targetWidth:a})=>{const o=HA({containerHeight:t,containerWidth:r,hasScalableSrc:s,offset:i,targetHeight:A,targetWidth:a});return{top:n,left:e,width:r*o,height:t*o,transform:`translate(0,0) scale(${1/o})`}},lr=({position:t,relativeNum:e})=>{const n=parseFloat(t);return t.endsWith("%")?e*n/100:n},xne=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:r,hasScalableSrc:s,objectFit:i,objectPosition:A,offset:a,targetHeight:o,targetWidth:l})=>{if(i==="scale-down"&&(l<=r&&o<=t?i="none":i="contain"),i==="cover"||i==="contain"){const u=r/l,h=t/o,f=i==="cover"?Math.max(u,h):Math.min(u,h),[g="50%",m="50%"]=A.split(" "),y=lr({position:g,relativeNum:r-l*f}),C=lr({position:m,relativeNum:t-o*f}),x=HA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{top:n+C,left:e+y,width:l*f*x,height:o*f*x,transform:`translate(0,0) scale(${1/x})`}}else if(i==="none"){const[u="50%",h="50%"]=A.split(" "),f=lr({position:u,relativeNum:r-l}),g=lr({position:h,relativeNum:t-o}),m=HA({containerHeight:o,containerWidth:l,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{top:n+g,left:e+f,width:l*m,height:o*m,transform:`translate(0,0) scale(${1/m})`}}else if(i==="fill"){const u=r/l,h=t/o,f=Math.max(u,h),g=HA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{width:r*g,height:t*g,transform:`translate(0,0) scale(${1/g})`}}else return{}},Cne=({backgroundPosition:t,backgroundSize:e,containerHeight:n,containerLeft:r,containerTop:s,containerWidth:i,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l})=>{if(e==="cover"||e==="contain"){const u=i/l,h=n/o,f=e==="cover"?Math.max(u,h):Math.min(u,h),[g="50%",m="50%"]=t.split(" "),y=lr({position:g,relativeNum:i-l*f}),C=lr({position:m,relativeNum:n-o*f}),x=HA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+C,left:r+y,width:l*f*x,height:o*f*x,transform:`translate(0,0) scale(${1/x})`}}else if(e==="auto"){const[u="50%",h="50%"]=t.split(" "),f=lr({position:u,relativeNum:i-l}),g=lr({position:h,relativeNum:n-o}),m=HA({containerHeight:o,containerWidth:l,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+g,left:r+f,width:l*m,height:o*m,transform:`translate(0,0) scale(${1/m})`}}else{const[u="50%",h="50%"]=e.split(" "),f=lr({position:u,relativeNum:i}),g=lr({position:h,relativeNum:n}),m=f/l,y=g/o,C=Math.min(m,y),[x="50%",v="50%"]=t.split(" "),w=lr({position:x,relativeNum:i-l*C}),F=lr({position:v,relativeNum:n-o*C}),Q=HA({containerHeight:o*C,containerWidth:l*C,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+F,left:r+w,width:l*C*Q,height:o*C*Q,transform:`translate(0,0) scale(${1/Q})`}}},Ene=/\.svg$/i,_ne=({hasZoomImg:t,imgSrc:e,isSvg:n,isZoomed:r,loadedImgEl:s,offset:i,shouldRefresh:A,targetEl:a})=>{var x;const o=n||((x=e==null?void 0:e.slice)==null?void 0:x.call(e,0,18))==="data:image/svg+xml"||t||!!(e&&Ene.test(e)),l=a.getBoundingClientRect(),u=window.getComputedStyle(a),h=s!=null&&rC(a),f=s!=null&&!h,g=Bne({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}),m=f?xne({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,objectFit:u.objectFit,objectPosition:u.objectPosition,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}):void 0,y=h?Cne({backgroundPosition:u.backgroundPosition,backgroundSize:u.backgroundSize,containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}):void 0,C=Object.assign({},g,m,y);if(r){const v=window.innerWidth/2,w=window.innerHeight/2,F=parseFloat(String(C.left||0))+parseFloat(String(C.width||0))/2,Q=parseFloat(String(C.top||0))+parseFloat(String(C.height||0))/2,k=v-F,I=w-Q;A&&(C.transitionDuration="0.01ms"),C.transform=`translate(${k}px,${I}px) scale(1)`}return C},H0=t=>{if(!t)return{};if(Af(t)){const e=t.parentElement,n=t.getBoundingClientRect();if(e){const r=e.getBoundingClientRect();return{height:n.height,left:r.left-n.left,top:r.top-n.top,width:n.width}}else return{height:n.height,left:n.left,width:n.width,top:n.top}}else return{height:t.offsetHeight,left:t.offsetLeft,width:t.offsetWidth,top:t.offsetTop}},bne=t=>{const e="-zoom",n=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],r=new Map;if(t.hasAttribute("id")){const s=t.id,i=s+e;r.set(s,i),t.id=i}t.querySelectorAll("[id]").forEach(s=>{const i=s.id,A=i+e;r.set(i,A),s.id=A}),r.forEach((s,i)=>{const A=`url(#${i})`,a=`url(#${s})`,o=n.map(l=>`[${l}="${A}"]`).join(", ");t.querySelectorAll(o).forEach(l=>{n.forEach(u=>{l.getAttribute(u)===A&&l.setAttribute(u,a)})})}),t.querySelectorAll("style").forEach(s=>{r.forEach((i,A)=>{s.textContent&&(s.textContent=s.textContent.replaceAll(`#${A}`,`#${i}`))})})},Ine=["img","svg",'[role="img"]',"[data-zoom]"].map(t=>`${t}:not([aria-hidden="true"])`).join(","),DT={overflow:"",width:""};function Tne(t){return pe.createElement(qR,{...t})}class qR extends pe.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=pe.createRef(),this.refDialog=pe.createRef(),this.refModalContent=pe.createRef(),this.refModalImg=pe.createRef(),this.refWrap=pe.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=DT,this.styleModalImg={},this.handleModalStateChange=e=>{var r,s,i,A;const{modalState:n}=this.state;e!=="LOADING"&&n==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):e!=="LOADED"&&n==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):e!=="UNLOADING"&&n==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):e!=="UNLOADED"&&n==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(s=(r=this.refModalImg.current)==null?void 0:r.removeEventListener)==null||s.call(r,"transitionend",this.handleImgTransitionEnd),(A=(i=this.refDialog.current)==null?void 0:i.close)==null||A.call(i))},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return e==null&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{var n,r;const e=this.refContent.current;e&&(this.imgEl=e.querySelector(Ine),this.imgEl?((r=(n=this.contentNotFoundChangeObserver)==null?void 0:n.disconnect)==null||r.call(n),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(s=>{const i=s[0];i!=null&&i.target&&(this.imgEl=i.target,this.setState({styleGhost:H0(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:H0(this.imgEl)})}),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:n}=this.props;!e&&n?this.zoom():e&&!n&&this.unzoom()},this.handleImgLoad=()=>{const e=RT(this.imgEl);if(!e)return;const n=new Image;jp(this.imgEl)&&(n.sizes=this.imgEl.sizes,n.srcset=this.imgEl.srcset),n.src=e;const r=()=>{this.setState({loadedImgEl:n,styleGhost:H0(this.imgEl)})};n.decode().then(r).catch(()=>{if(kT(n)){r();return}n.onload=r})},this.handleZoom=()=>{var e,n;this.hasImage()&&((n=(e=this.props).onZoomChange)==null||n.call(e,!0))},this.handleUnzoom=()=>{var e,n;(n=(e=this.props).onZoomChange)==null||n.call(e,!1)},this.handleBtnUnzoomClick=e=>{e.preventDefault(),e.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{(e.target===this.refModalContent.current||e.target===this.refModalImg.current)&&(e.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=e=>{e.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=e=>{(e.key==="Escape"||e.keyCode===27)&&(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{if(e.touches.length>1){this.isScaling=!0;return}e.changedTouches.length===1&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{var r;const n=((r=window.visualViewport)==null?void 0:r.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&n<=1&&this.touchYStart!=null&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const s=Math.max(this.touchYStart,this.touchYEnd),i=Math.min(this.touchYStart,this.touchYEnd);Math.abs(s-i)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||Af(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var e,n,r,s;this.bodyScrollDisable(),(n=(e=this.refDialog.current)==null?void 0:e.showModal)==null||n.call(e),(s=(r=this.refModalImg.current)==null?void 0:r.addEventListener)==null||s.call(r,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,n=parseFloat(e);if(n){const r=n*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,r)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=DT},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,n=e==null?void 0:e.src;if(n){const r=new Image;r.sizes=(e==null?void 0:e.sizes)??"",r.srcset=(e==null?void 0:e.srcSet)??"",r.src=n;const s=()=>{this.setState({isZoomImgLoaded:!0})};r.decode().then(s).catch(()=>{if(kT(r)){s();return}r.onload=s})}},this.UNSAFE_handleSvg=()=>{var s,i,A,a,o;const{imgEl:e,refModalImg:n,styleModalImg:r}=this;if(Af(e)){const l=e.cloneNode(!0);bne(l),l.style.width=`${r.width||0}px`,l.style.height=`${r.height||0}px`,l.addEventListener("click",this.handleUnzoom),(A=(i=(s=n.current)==null?void 0:s.firstChild)==null?void 0:i.remove)==null||A.call(i),(o=(a=n.current)==null?void 0:a.appendChild)==null||o.call(a,l)}}}render(){const{handleBtnUnzoomClick:e,handleDialogCancel:n,handleDialogClick:r,handleDialogClose:s,handleUnzoom:i,handleZoom:A,imgEl:a,props:{a11yNameButtonUnzoom:o,a11yNameButtonZoom:l,children:u,classDialog:h,IconUnzoom:f,IconZoom:g,isZoomed:m,wrapElement:y,ZoomContent:C,zoomImg:x,zoomMargin:v},refContent:w,refDialog:F,refModalContent:Q,refModalImg:k,refWrap:I,state:{id:E,isZoomImgLoaded:b,loadedImgEl:_,modalState:N,shouldRefresh:R,styleGhost:T}}=this,J=`rmiz-modal-${E}`,ie=`rmiz-modal-img-${E}`,V=rC(a),q=jp(a),P=Af(a),K=wne(a),z=RT(a),ge=q?a.sizes:void 0,we=q?a.srcset:void 0,Te=!!(x!=null&&x.src),Ke=this.hasImage(),tt=K?`${l}: ${K}`:l,At=N==="LOADING"||N==="LOADED",gt=Ke?"found":"not-found",hs=N==="UNLOADED"||N==="UNLOADING"?"hidden":"visible",ha={visibility:N==="UNLOADED"?"visible":"hidden"};this.styleModalImg=Ke?_ne({hasZoomImg:Te,imgSrc:z,isSvg:P,isZoomed:m&&At,loadedImgEl:_,offset:v,shouldRefresh:R,targetEl:a}):{};let fs=null;if(Ke){const Or=q||V?pe.createElement("img",{alt:K,sizes:ge,src:z,srcSet:we,...b&&N==="LOADED"?x:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:ie,ref:k,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):P?pe.createElement("div",{"data-rmiz-modal-img":!0,ref:k,style:this.styleModalImg}):null,ei=pe.createElement("button",{"aria-label":o,"data-rmiz-btn-unzoom":"",onClick:e,type:"button"},pe.createElement(f,null));fs=C?pe.createElement(C,{buttonUnzoom:ei,modalState:N,img:Or,onUnzoom:i}):pe.createElement(pe.Fragment,null,Or,ei)}return pe.createElement(y,{"aria-owns":J,"data-rmiz":"",ref:I},pe.createElement(y,{"data-rmiz-content":gt,ref:w,style:ha},u),Ke&&pe.createElement(y,{"data-rmiz-ghost":"",style:T},pe.createElement("button",{"aria-label":tt,"data-rmiz-btn-zoom":"",onClick:A,type:"button"},pe.createElement(g,null))),Ke&&J4.createPortal(pe.createElement("dialog",{"aria-labelledby":ie,"aria-modal":"true",className:h,"data-rmiz-modal":"",id:J,onClick:r,onClose:s,onCancel:n,ref:F,role:"dialog"},pe.createElement("div",{"data-rmiz-modal-overlay":hs}),pe.createElement("div",{"data-rmiz-modal-content":"",ref:Q},fs)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var e,n,r,s,i,A,a,o,l,u,h,f;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(n=(e=this.contentChangeObserver)==null?void 0:e.disconnect)==null||n.call(e),(s=(r=this.contentNotFoundChangeObserver)==null?void 0:r.disconnect)==null||s.call(r),(A=(i=this.imgElResizeObserver)==null?void 0:i.disconnect)==null||A.call(i),(o=(a=this.imgEl)==null?void 0:a.removeEventListener)==null||o.call(a,"load",this.handleImgLoad),(u=(l=this.imgEl)==null?void 0:l.removeEventListener)==null||u.call(l,"click",this.handleZoom),(f=(h=this.refModalImg.current)==null?void 0:h.removeEventListener)==null||f.call(h,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,n){this.handleModalStateChange(n.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}qR.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:gne,IconZoom:mne,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function Fne(t){const[e,n]=pe.useState(!1);return pe.createElement(Tne,{...t,isZoomed:e,onZoomChange:n})}const Une=({bookingId:t})=>{const[e,n]=S.useState([]),[r,s]=S.useState(!1),[i,A]=S.useState(null);S.useEffect(()=>{(async()=>{if(t)try{const u=await une(t);n(u)}catch{A("Errore nel caricamento della galleria"),setTimeout(()=>A(null),3e3)}})()},[t]);const a=async l=>{var h;if(!t)return;const u=(h=l.target.files)==null?void 0:h[0];if(u){s(!0);try{const f=await lne(t,u);n(g=>[...g,f])}catch{A("Errore durante il caricamento della foto"),setTimeout(()=>A(null),3e3)}finally{s(!1),l.target.value=""}}},o=async l=>{if(t)try{await cne(t,l),n(u=>u.filter(h=>h.id!==l))}catch{A("Errore durante l'eliminazione della foto"),setTimeout(()=>A(null),3e3)}};return t?c.jsxs("div",{children:[c.jsx("h2",{children:"Gestione Galleria"}),c.jsx("input",{type:"file",onChange:a,disabled:r}),i&&c.jsx("p",{className:"error-message",children:i}),c.jsx(WR,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"gallery-grid",children:e.map(l=>c.jsxs("div",{className:"gallery-item",children:[c.jsx(Fne,{children:c.jsx("img",{src:l.url,alt:l.name,className:"gallery-img"})}),c.jsx("button",{onClick:()=>o(l.id),children:"Elimina"})]},l.id))})]}):c.jsx("p",{children:"Seleziona una prenotazione per gestire la galleria"})},Sne=()=>{const[t,e]=S.useState(""),[n,r]=S.useState([]),[s,i]=S.useState([]),[A,a]=S.useState(!1),[o,l]=S.useState(null),[u,h]=S.useState(null),[f,g]=S.useState(!1);S.useEffect(()=>{(async()=>{a(!0),l(null);try{const C=sn(_e,"bookings"),x=dA(C,Do("booking_date","desc"),Do("booking_time","desc")),w=(await Tg(x)).docs.map(F=>({id:F.id,...F.data()}));r(w),i(w)}catch(C){console.error("Error loading bookings:",C),l("Errore durante il caricamento delle prenotazioni")}finally{a(!1)}})()},[]),S.useEffect(()=>{const y=n.filter(C=>C.ticket_number.toLowerCase().includes(t.toLowerCase())||C.firstName.toLowerCase().includes(t.toLowerCase())||C.lastName.toLowerCase().includes(t.toLowerCase())||C.email.toLowerCase().includes(t.toLowerCase())||C.phone.includes(t));i(y)},[t,n]);const m=y=>{h(y),g(!0)};return c.jsx("div",{className:"space-y-6",children:f?c.jsx(Une,{bookingId:u==null?void 0:u.id,isOpen:!0,onClose:()=>{g(!1),h(null),e("")}}):c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Qg,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),o&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),o]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(kg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Cerca per nome, email, telefono o ticket...",className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsx("div",{className:"space-y-4",children:A?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Caricamento prenotazioni..."}):s.length===0?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessuna prenotazione trovata"}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(y=>c.jsx(X.button,{onClick:()=>m(y),className:"bg-gray-700 p-4 rounded-lg text-left hover:bg-gray-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Po,{size:16,className:"text-[--theater-gold]"}),c.jsxs("span",{className:"text-white font-medium",children:[y.firstName," ",y.lastName]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[c.jsx(Tn,{size:14}),c.jsxs("span",{children:[$e(new Date(y.booking_date),"d MMMM yyyy",{locale:qs})," ",y.booking_time]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[c.jsx(il,{size:14}),c.jsx("span",{children:y.phone})]})]}),c.jsxs("span",{className:"px-2 py-1 bg-[--theater-gold]/10 text-[--theater-gold] rounded text-sm",children:["#",y.ticket_number]})]})},y.id))})})]})]})})},Qne=()=>{const[t,e]=S.useState("bookings"),[n,r]=S.useState(!1),[s,i]=S.useState(!1),[A,a]=S.useState([]),[o,l]=S.useState(""),[u,h]=S.useState("all"),[f,g]=S.useState("all"),[m,y]=S.useState(!0),[C,x]=S.useState(null),[v,w]=S.useState(!1),{settings:F}=fA(),{statuses:Q,getStatusColor:k}=sd(),{user:I}=Zs();S.useEffect(()=>{if(I)try{const _=dA(sn(_e,"bookings"),Do("booking_date","asc"),Do("booking_time","asc")),N=sl(_,R=>{const T=R.docs.map(J=>({id:J.id,...J.data()}));a(T),y(!1),x(null)},R=>{console.error("Error fetching bookings:",R),x("Errore nel caricamento delle prenotazioni. Verifica di avere i permessi necessari."),y(!1)});return()=>N()}catch(_){console.error("Error setting up bookings listener:",_),x("Errore nella configurazione del listener delle prenotazioni"),y(!1)}},[I]);const E=_=>{if(!(F!=null&&F.serviceTypes))return _;const N=F.serviceTypes.find(R=>R.id===_);return(N==null?void 0:N.name)||_},b=A.filter(_=>{var J,ie,V;const N=(_.firstName+" "+_.lastName).toLowerCase().includes(o.toLowerCase())||((J=_.email)==null?void 0:J.toLowerCase().includes(o.toLowerCase()))||((ie=_.phone)==null?void 0:ie.includes(o))||((V=_.ticket_number)==null?void 0:V.toLowerCase().includes(o.toLowerCase())),R=u==="all"||_.status===u,T=f==="all"||_.service_type===f;return N&&R&&T});return m?c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):C?c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:C}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"lg:hidden flex items-center justify-between bg-gray-800 p-4 sticky top-0 z-30",children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),c.jsx("button",{onClick:()=>w(!v),className:"p-2 text-gray-400 hover:text-white",children:v?c.jsx(er,{size:24}):c.jsx(F2,{size:24})})]}),c.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>e("bookings"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(Tn,{size:20}),"Prenotazioni"]}),c.jsxs("button",{onClick:()=>e("products"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(d6,{size:20}),"Prodotti"]}),c.jsxs("button",{onClick:()=>e("gallery"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(Qg,{size:20}),"Gallerie"]})]}),c.jsx("div",{className:"flex gap-4",children:t==="bookings"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(Xi,{size:20}),"Nuova Prenotazione"]}),c.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[c.jsx(Ss,{size:20}),"Impostazioni"]})]})})]}),t==="products"&&c.jsx(Zte,{}),t==="subscriptions"&&c.jsx(GR,{}),t==="gallery"&&c.jsx(Sne,{}),t==="bookings"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl text-white text-center mb-8 font-marquee",children:"Gestione Prenotazioni"}),n&&F&&c.jsx(Jte,{settings:F,onSave:bp,onClose:()=>r(!1)}),c.jsx(Fte,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(F==null?void 0:F.serviceTypes)||[],onSearchChange:l,onStatusFilterChange:h,onServiceFilterChange:g}),c.jsx(Mte,{bookings:b,serviceTypes:(F==null?void 0:F.serviceTypes)||[],bookingStatuses:Q,getServiceLabel:E,getStatusColor:k}),c.jsx(one,{isOpen:s,onClose:()=>i(!1),onSuccess:()=>{i(!1)}})]})]})},Nne=[{icon:Po,label:"Profilo",path:"/profile"},{icon:Ya,label:"Sicurezza",path:"/profile/security"}],XR=()=>{const t=oA(),e=Yo();return c.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:c.jsx("nav",{children:c.jsx("ul",{className:"space-y-2",children:Nne.map(n=>c.jsx("li",{children:c.jsxs(X.button,{whileHover:{x:4},onClick:()=>e(n.path),className:`w-full flex items-center gap-3 px-4 py-2 rounded transition-colors ${t.pathname===n.path?"bg-[--theater-gold] text-black":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[c.jsx(n.icon,{size:18}),n.label]})},n.path))})})})}),c.jsx("div",{className:"md:col-span-3",children:c.jsx(AS,{})})]})})})},YR=()=>{const{user:t}=Zs(),[e,n]=S.useState(!1),[r,s]=S.useState(null),[i,A]=S.useState(!1),[a,o]=S.useState({displayName:(t==null?void 0:t.displayName)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",customUrl:""}),l=async u=>{if(u.preventDefault(),!!t){n(!0),s(null),A(!1);try{await Nj(t,{displayName:a.displayName}),A(!0)}catch(h){console.error("Error updating profile:",h),s("Errore durante l'aggiornamento del profilo")}finally{n(!1)}}};return c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Po,{className:"text-[--theater-gold]"}),"Profilo"]}),r&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),r]}),i&&c.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6",children:"Profilo aggiornato con successo!"}),c.jsxs("form",{onSubmit:l,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Email"}),c.jsxs("div",{className:"flex items-center gap-2 text-white bg-gray-700 p-3 rounded",children:[c.jsx(ua,{className:"text-[--theater-gold]",size:20}),t==null?void 0:t.email]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",value:a.phoneNumber,onChange:u=>o({...a,phoneNumber:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il tuo numero"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Nome Azienda"}),c.jsxs("div",{className:"relative",children:[c.jsx(e6,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:a.displayName,onChange:u=>o({...a,displayName:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome della tua azienda"})]})]})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Personalizzazione Pagina Prenotazioni"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"Personalizza l'URL della tua pagina di prenotazioni."}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("input",{type:"text",value:a.customUrl,onChange:u=>o({...a,customUrl:u.target.value}),className:"flex-1 p-3 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"URL personalizzato (es: /booking/your-business)"})})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[e?c.jsx("span",{className:"animate-spin",children:"⌛"}):c.jsx(Ng,{size:20}),"Salva Modifiche"]})})]})]})})},kne=()=>{const{subscription:t}=Zs();if(!t)return c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 rounded-lg p-6 flex items-start gap-4",children:[c.jsx(Kt,{className:"w-6 h-6 text-red-500 mt-1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-red-500",children:"Nessun abbonamento attivo"}),c.jsx("p",{className:"text-gray-400 mt-1",children:"Per utilizzare tutte le funzionalità, attiva un abbonamento."})]})]});const e=t.status==="active",n=new Date(t.endDate),r=Bp(n)?Qk(n,new Date):0;return c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{className:`rounded-lg p-6 flex items-start gap-4 ${e?"bg-green-500/10 border border-green-500":"bg-red-500/10 border border-red-500"}`,children:[e?c.jsx(t6,{className:"w-6 h-6 text-green-500 mt-1"}):c.jsx(w6,{className:"w-6 h-6 text-red-500 mt-1"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h3",{className:"text-lg font-medium text-white",children:["Piano ",t.plan==="monthly"?"Mensile":"Annuale"]}),c.jsx("span",{className:`px-2 py-0.5 rounded text-sm ${e?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e?"Attivo":"Scaduto"})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[Bp(n)&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(Tn,{className:"w-4 h-4"}),c.jsxs("span",{children:["Scade il ",$e(n,"d MMMM yyyy",{locale:qs}),e&&r>0&&` (${r} giorni rimanenti)`]})]}),t.paypalSubscriptionId&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(fu,{className:"w-4 h-4"}),c.jsx("span",{children:"Rinnovo automatico attivo"})]})]})]})]}),t.plan==="trial"&&c.jsxs("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-6",children:[c.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Piano di prova"}),c.jsxs("p",{className:"text-gray-400",children:["Stai utilizzando il piano di prova gratuito. Hai ancora ",t.maxBookings-t.bookingsUsed," prenotazioni disponibili."]})]}),!e&&c.jsx(X.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Rinnova Abbonamento"})]})},Rne=()=>c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(fu,{className:"text-[--theater-gold]"}),"Abbonamento"]}),c.jsx(kne,{})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Storico Fatturazione"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Data"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Importo"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Fattura"})]})}),c.jsx("tbody",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("td",{className:"py-3 text-white",children:"01/01/2024"}),c.jsx("td",{className:"py-3 text-white",children:"€20.00"}),c.jsx("td",{className:"py-3",children:c.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Pagato"})}),c.jsx("td",{className:"py-3",children:c.jsx("button",{className:"text-[--theater-gold] hover:underline",children:"Scarica PDF"})})]})})]})})]})]}),Dne=()=>{var m,y,C;const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[A,a]=S.useState(!1),[o,l]=S.useState(null),[u,h]=S.useState(!1),f=async x=>{if(x.preventDefault(),!!fn.currentUser){if(n!==s){l("Le password non coincidono");return}a(!0),l(null),h(!1);try{await kj(fn.currentUser,n),h(!0),e(""),r(""),i("")}catch(v){console.error("Error updating password:",v),l("Errore durante l'aggiornamento della password")}finally{a(!1)}}},g=async()=>{if(fn.currentUser){a(!0),l(null),h(!1);try{await Sj(fn.currentUser),h(!0)}catch(x){console.error("Error sending verification email:",x),l("Errore durante l'invio dell'email di verifica")}finally{a(!1)}}};return c.jsxs("div",{className:"space-y-6",children:[o&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Kt,{size:20}),o]}),u&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Zn,{size:20}),(m=fn.currentUser)!=null&&m.emailVerified?"Password aggiornata con successo!":"Email di verifica inviata con successo!"]}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Password Attuale"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:t,onChange:x=>e(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuova Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:n,onChange:x=>r(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Conferma Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:s,onChange:x=>i(x.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),c.jsx("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:A?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),"Aggiornamento in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ya,{size:20}),"Aggiorna Password"]})})]}),c.jsx("div",{className:"border-t border-gray-700 pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Verifica Email"}),c.jsx("p",{className:"text-gray-400",children:(y=fn.currentUser)!=null&&y.emailVerified?"La tua email è verificata":"Verifica la tua email per accedere a tutte le funzionalità"})]}),!((C=fn.currentUser)!=null&&C.emailVerified)&&c.jsxs("button",{onClick:g,disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[A?c.jsx("span",{className:"animate-spin",children:"⌛"}):c.jsx(ua,{size:20}),"Invia Verifica"]})]})})]})},JR=()=>c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(p6,{className:"text-[--theater-gold]"}),"Sicurezza"]}),c.jsx(Dne,{})]})}),Pne=async(t,e)=>{try{const n=lt(_e,"notification_settings",t);return await Fg(n,{settings:e.reduce((r,s)=>({...r,[s.id]:{enabled:s.enabled,template:s.template}}),{}),updatedAt:new Date}),await zs(sn(_e,"notification_logs"),{userId:t,type:"settings_update",timestamp:new Date,details:{settings:e}}),!0}catch(n){throw console.error("Error saving notification settings:",n),n}},Lne=async t=>{try{const e=lt(_e,"notification_settings",t),n=await qi(e);return n.exists()?n.data():{settings:{subscription_expiring:{enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadrà tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},subscription_expired:{enabled:!0,template:{subject:"Il tuo abbonamento è scaduto",body:"Il tuo abbonamento è scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},subscription_renewed:{enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento è attivo fino al {expiry_date}."}}}}}catch(e){throw console.error("Error getting notification settings:",e),e}},Mne=[{id:"subscription_expiring",enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadrà tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},{id:"subscription_expired",enabled:!0,template:{subject:"Il tuo abbonamento è scaduto",body:"Il tuo abbonamento è scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},{id:"subscription_renewed",enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento è attivo fino al {expiry_date}."}}],One=()=>{const{user:t}=Zs(),[e,n]=S.useState(Mne),[r,s]=S.useState(null),[i,A]=S.useState(!1),[a,o]=S.useState(null),[l,u]=S.useState(!1);S.useEffect(()=>{(async()=>{if(t)try{const g=await Lne(t.uid);if(g){const m=Object.entries(g.settings).map(([y,C])=>({id:y,...C}));n(m)}}catch(g){console.error("Error loading notification settings:",g),o("Errore nel caricamento delle preferenze di notifica")}})()},[t]);const h=async()=>{if(!t){o("Utente non autenticato");return}A(!0),o(null),u(!1);try{await Pne(t.uid,e),e.some(f=>f.enabled)?await Lp(t.email,{type:"custom",message:"Questa è una notifica di test. Le tue preferenze di notifica sono state aggiornate con successo!"})?u(!0):o("Le preferenze sono state salvate ma non è stato possibile inviare la notifica di test"):u(!0),s(null)}catch(f){console.error("Error saving notification settings:",f),o("Errore durante il salvataggio delle preferenze")}finally{A(!1)}};return c.jsx(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(cv,{className:"text-[--theater-gold]"}),"Notifiche"]}),a&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Kt,{size:20}),a]}),l&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Zn,{size:20}),"Preferenze salvate con successo"]}),c.jsx("div",{className:"space-y-6",children:e.map(f=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:f.enabled,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,enabled:g.target.checked}:y);n(m)},className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[--theater-gold]"})]}),c.jsxs("h3",{className:"text-lg font-medium text-white",children:[f.id==="subscription_expiring"&&"Abbonamento in Scadenza",f.id==="subscription_expired"&&"Abbonamento Scaduto",f.id==="subscription_renewed"&&"Abbonamento Rinnovato"]})]}),c.jsx("button",{onClick:()=>s(r===f.id?null:f.id),className:"text-[--theater-gold] hover:text-yellow-500 transition-colors",children:r===f.id?"Chiudi":"Personalizza"})]}),r===f.id&&c.jsxs("div",{className:"space-y-4 mt-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Oggetto Email"}),c.jsx("input",{type:"text",value:f.template.subject,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,subject:g.target.value}}:y);n(m)},className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Testo Email"}),c.jsx("textarea",{value:f.template.body,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,body:g.target.value}}:y);n(m)},rows:4,className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{className:"text-sm text-gray-400",children:[c.jsx("p",{children:"Variabili disponibili:"}),c.jsxs("ul",{className:"list-disc list-inside mt-1",children:[f.id==="subscription_expiring"&&c.jsxs("li",{children:["{days_left}"," - Giorni rimanenti alla scadenza"]}),f.id==="subscription_renewed"&&c.jsxs("li",{children:["{expiry_date}"," - Data di scadenza del nuovo abbonamento"]})]})]})]})]},f.id))}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:h,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:"⌛"}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ng,{size:20}),"Salva Preferenze"]})})})]})})},jne=async(t,e,n,r)=>{var s;try{const i=new Date,A=new Date(i);A.setMonth(A.getMonth()+(e==="yearly"?12:1));const a=lt(_e,"subscriptions",t),o=lt(_e,"users",t),u=(s=(await qi(o)).data())==null?void 0:s.email;await Fg(a,{userId:t,plan:e,status:"active",startDate:i,endDate:A,maxBookings:e==="yearly"?1e3:100,bookingsUsed:0,...n==="stripe"&&{stripeSubscriptionId:r},...n==="paypal"&&{paypalSubscriptionId:r},updatedAt:Ln()},{merge:!0}),await Ks(o,{"subscription.status":"active","subscription.plan":e,"subscription.endDate":A,updatedAt:Ln()}),u&&await Lp(u,{type:"extension",endDate:A})}catch(i){throw console.error("Error activating subscription:",i),i}},Vne=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(""),[o,l]=S.useState("all"),[u,h]=S.useState("all"),[f,g]=S.useState(null),[m,y]=S.useState(!1);S.useEffect(()=>{const w=sn(_e,"users"),F=dA(w,Do("createdAt","desc")),Q=sl(F,k=>{const I=k.docs.map(E=>{var b,_,N,R;return{id:E.id,...E.data(),createdAt:(b=E.data().createdAt)==null?void 0:b.toDate(),updatedAt:(_=E.data().updatedAt)==null?void 0:_.toDate(),lastLoginAt:(N=E.data().lastLoginAt)==null?void 0:N.toDate(),subscription:E.data().subscription?{...E.data().subscription,endDate:(R=E.data().subscription.endDate)==null?void 0:R.toDate()}:void 0}});e(I),r(!1)},k=>{console.error("Error fetching users:",k),i("Errore nel caricamento degli utenti"),r(!1)});return()=>Q()},[]);const C=async(w,F)=>{y(!0),i(null);try{await jne(w,"monthly","admin_activation"),await Ks(lt(_e,"users",w),{subscription:{status:"active",plan:"monthly",endDate:new Date(Date.now()+30*24*60*60*1e3)},updatedAt:new Date})}catch(Q){console.error("Error activating subscription:",Q),i("Errore durante l'attivazione dell'abbonamento")}finally{y(!1)}},x=async(w,F)=>{try{await Ks(lt(_e,"users",w),{status:F,updatedAt:new Date})}catch(Q){console.error("Error updating user status:",Q),i("Errore durante l'aggiornamento dello stato utente")}},v=t.filter(w=>{var I;const F=w.email.toLowerCase().includes(A.toLowerCase())||((I=w.displayName)==null?void 0:I.toLowerCase().includes(A.toLowerCase())),Q=o==="all"||w.role===o,k=u==="all"||w.status===u;return F&&Q&&k});return n?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):c.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(ix,{className:"text-[--theater-gold]"}),"Gestione Utenti"]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:c.jsx(Q2,{size:20})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(kg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per email o nome...",value:A,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tp,{className:"text-gray-400"}),c.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti i ruoli"}),c.jsx("option",{value:"user",children:"Utenti"}),c.jsx("option",{value:"admin",children:"Admin"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(tp,{className:"text-gray-400"}),c.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),c.jsx("option",{value:"active",children:"Attivi"}),c.jsx("option",{value:"suspended",children:"Sospesi"}),c.jsx("option",{value:"pending",children:"In attesa"})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Nome"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ruolo"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Abbonamento"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ultimo Accesso"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),c.jsx("tbody",{children:v.map(w=>{var F;return c.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-4 text-white",children:w.email}),c.jsx("td",{className:"p-4 text-white",children:w.displayName||"-"}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:w.role==="admin"?"Admin":"Utente"})}),c.jsx("td",{className:"p-4",children:c.jsxs("select",{value:w.status,onChange:Q=>x(w.id,Q.target.value),className:`px-3 py-1 rounded text-sm ${w.status==="active"?"bg-green-500/20 text-green-400":w.status==="suspended"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[c.jsx("option",{value:"active",children:"Attivo"}),c.jsx("option",{value:"suspended",children:"Sospeso"}),c.jsx("option",{value:"pending",children:"In attesa"})]})}),c.jsx("td",{className:"p-4",children:w.subscription?c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.subscription.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:w.subscription.status==="active"?`${w.subscription.plan} (attivo)`:"Scaduto"}):c.jsxs("button",{onClick:()=>C(w.id,w.email),disabled:m,className:"flex items-center gap-2 px-3 py-1 bg-[--theater-gold] text-black rounded-full text-sm hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[m?c.jsx("span",{className:"animate-spin",children:"⌛"}):c.jsx(z1,{size:14}),"Attiva"]})}),c.jsx("td",{className:"p-4 text-gray-400",children:((F=w.lastLoginAt)==null?void 0:F.toLocaleDateString())||"Mai"}),c.jsx("td",{className:"p-4",children:c.jsx("button",{onClick:()=>g(w),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:c.jsx(z1,{size:18})})})]},w.id)})})]})})]})})})},Hne=()=>{const{user:t,isAdmin:e}=Zs(),n=Yo();if(!t)return c.jsx(uo,{to:"/login",replace:!0});if(!e)return c.jsx(uo,{to:"/",replace:!0});const r=async()=>{try{await fn.signOut(),n("/")}catch(s){console.error("Error signing out:",s)}};return c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(ho,{to:"/dashboard",className:"text-2xl font-marquee text-[--theater-gold]",children:"Booking Manager"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"relative group",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:[c.jsx(Po,{size:18}),c.jsx("span",{className:"max-w-[150px] truncate",children:t==null?void 0:t.email})]}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[c.jsx(ho,{to:"/dashboard/profile",className:"block px-4 py-2 text-white hover:bg-gray-600 transition-colors",children:"Profilo"}),c.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-600 transition-colors flex items-center gap-2",children:[c.jsx(l6,{size:18}),"Esci"]})]})]})})]})})}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(aS,{children:[c.jsx(Ft,{path:"/",element:c.jsx(Qne,{})}),c.jsx(Ft,{path:"users",element:c.jsx(Vne,{})}),c.jsx(Ft,{path:"subscriptions",element:c.jsx(GR,{})}),c.jsxs(Ft,{path:"profile/*",element:c.jsx(XR,{}),children:[c.jsx(Ft,{index:!0,element:c.jsx(YR,{})}),c.jsx(Ft,{path:"subscription",element:c.jsx(Rne,{})}),c.jsx(Ft,{path:"security",element:c.jsx(JR,{})}),c.jsx(Ft,{path:"notifications",element:c.jsx(One,{})})]}),c.jsx(Ft,{path:"*",element:c.jsx(uo,{to:"/dashboard",replace:!0})})]})})]})},Kne=()=>c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx(I2,{className:"w-24 h-24 text-[--theater-gold]"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Pagina non trovata"}),c.jsx("p",{className:"text-gray-400 mb-8",children:"La pagina che stai cercando non esiste o è stata spostata."}),c.jsxs(ho,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(T2,{size:20}),"Torna alla Home"]})]})}),zne=()=>{const t=Yo(),e=oA(),{user:n}=Zs(),[r,s]=S.useState(null);return S.useEffect(()=>{(async()=>{if(n)try{const a=new URLSearchParams(e.search).get("code");if(!a)throw new Error("Codice di autorizzazione mancante");await Z$(a,n.uid);const o=sessionStorage.getItem("calendarReturnTo")||"/dashboard";sessionStorage.removeItem("calendarReturnTo"),t(o)}catch(A){console.error("Error handling calendar callback:",A),s("Errore durante la connessione a Google Calendar")}})()},[n,e.search,t]),c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center",children:[c.jsx(Tn,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-6"}),r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 mb-4",children:[c.jsx(Kt,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Errore di Connessione"})]}),c.jsx("p",{className:"text-gray-400",children:r})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500 mb-4",children:[c.jsx(Zn,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Connessione in corso..."})]}),c.jsx("p",{className:"text-gray-400",children:"Stiamo connettendo il tuo Google Calendar..."})]})]})})},Gne="/carnival2025",Wne=()=>(Zs(),c.jsxs(aS,{children:[c.jsx(Ft,{path:"/",element:c.jsx(uo,{to:"/prenota",replace:!0})}),c.jsxs(Ft,{element:c.jsx(q8,{}),children:[c.jsx(Ft,{path:"/prenota",element:c.jsx(Tte,{})}),c.jsx(Ft,{path:"/dashboard/*",element:c.jsx(W1,{requireAdmin:!0,children:c.jsx(Hne,{})})}),c.jsxs(Ft,{path:"/profile",element:c.jsx(W1,{children:c.jsx(XR,{})}),children:[c.jsx(Ft,{index:!0,element:c.jsx(YR,{})}),c.jsx(Ft,{path:"security",element:c.jsx(JR,{})})]}),c.jsx(Ft,{path:"/calendar/callback",element:c.jsx(zne,{})}),c.jsx(Ft,{path:"/404",element:c.jsx(Kne,{})}),c.jsx(Ft,{path:"*",element:c.jsx(uo,{to:"/404",replace:!0})})]})]})),$ne=()=>c.jsx(B6,{children:c.jsx(Y5,{children:c.jsx(qL,{basename:Gne,children:c.jsx(G5,{children:c.jsx(Wne,{})})})})}),ZR=document.getElementById("root");if(!ZR)throw new Error("Failed to find the root element");tB(ZR).render(c.jsx(S.StrictMode,{children:c.jsx($ne,{})}));
