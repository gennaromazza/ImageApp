function FD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&r(A)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function OT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jT={exports:{}},zp={},VT={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),UD=Symbol.for("react.portal"),SD=Symbol.for("react.fragment"),QD=Symbol.for("react.strict_mode"),ND=Symbol.for("react.profiler"),kD=Symbol.for("react.provider"),RD=Symbol.for("react.context"),DD=Symbol.for("react.forward_ref"),PD=Symbol.for("react.suspense"),LD=Symbol.for("react.memo"),MD=Symbol.for("react.lazy"),ZC=Symbol.iterator;function OD(t){return t===null||typeof t!="object"?null:(t=ZC&&t[ZC]||t["@@iterator"],typeof t=="function"?t:null)}var HT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KT=Object.assign,zT={};function Go(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||HT}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GT(){}GT.prototype=Go.prototype;function lw(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||HT}var cw=lw.prototype=new GT;cw.constructor=lw;KT(cw,Go.prototype);cw.isPureReactComponent=!0;var eE=Array.isArray,WT=Object.prototype.hasOwnProperty,uw={current:null},$T={key:!0,ref:!0,__self:!0,__source:!0};function qT(t,e,n){var r,s={},i=null,A=null;if(e!=null)for(r in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)WT.call(e,r)&&!$T.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Du,type:t,key:i,ref:A,props:s,_owner:uw.current}}function jD(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function VD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tE=/\/+/g;function ym(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VD(""+t.key):e.toString(36)}function Sh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case Du:case UD:A=!0}}if(A)return A=t,s=s(A),t=r===""?"."+ym(A,0):r,eE(s)?(n="",t!=null&&(n=t.replace(tE,"$&/")+"/"),Sh(s,e,n,"",function(l){return l})):s!=null&&(dw(s)&&(s=jD(s,n+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(tE,"$&/")+"/")+t)),e.push(s)),1;if(A=0,r=r===""?".":r+":",eE(t))for(var a=0;a<t.length;a++){i=t[a];var o=r+ym(i,a);A+=Sh(i,e,n,o,s)}else if(o=OD(t),typeof o=="function")for(t=o.call(t),a=0;!(i=t.next()).done;)i=i.value,o=r+ym(i,a++),A+=Sh(i,e,n,o,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Qd(t,e,n){if(t==null)return t;var r=[],s=0;return Sh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function HD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},Qh={transition:null},KD={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Qh,ReactCurrentOwner:uw};function XT(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Qd,forEach:function(t,e,n){Qd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qd(t,function(){e++}),e},toArray:function(t){return Qd(t,function(e){return e})||[]},only:function(t){if(!dw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ue.Component=Go;Ue.Fragment=SD;Ue.Profiler=ND;Ue.PureComponent=lw;Ue.StrictMode=QD;Ue.Suspense=PD;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KD;Ue.act=XT;Ue.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KT({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=uw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(o in e)WT.call(e,o)&&!$T.hasOwnProperty(o)&&(r[o]=e[o]===void 0&&a!==void 0?a[o]:e[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var l=0;l<o;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Du,type:t.type,key:s,ref:i,props:r,_owner:A}};Ue.createContext=function(t){return t={$$typeof:RD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kD,_context:t},t.Consumer=t};Ue.createElement=qT;Ue.createFactory=function(t){var e=qT.bind(null,t);return e.type=t,e};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(t){return{$$typeof:DD,render:t}};Ue.isValidElement=dw;Ue.lazy=function(t){return{$$typeof:MD,_payload:{_status:-1,_result:t},_init:HD}};Ue.memo=function(t,e){return{$$typeof:LD,type:t,compare:e===void 0?null:e}};Ue.startTransition=function(t){var e=Qh.transition;Qh.transition={};try{t()}finally{Qh.transition=e}};Ue.unstable_act=XT;Ue.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Ue.useContext=function(t){return Sn.current.useContext(t)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Ue.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Ue.useId=function(){return Sn.current.useId()};Ue.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Ue.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Ue.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Ue.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Ue.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Ue.useRef=function(t){return Sn.current.useRef(t)};Ue.useState=function(t){return Sn.current.useState(t)};Ue.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Ue.useTransition=function(){return Sn.current.useTransition()};Ue.version="18.3.1";VT.exports=Ue;var S=VT.exports;const pe=OT(S),zD=FD({__proto__:null,default:pe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD=S,WD=Symbol.for("react.element"),$D=Symbol.for("react.fragment"),qD=Object.prototype.hasOwnProperty,XD=GD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YD={key:!0,ref:!0,__self:!0,__source:!0};function YT(t,e,n){var r,s={},i=null,A=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(r in e)qD.call(e,r)&&!YD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WD,type:t,key:i,ref:A,props:s,_owner:XD.current}}zp.Fragment=$D;zp.jsx=YT;zp.jsxs=YT;jT.exports=zp;var c=jT.exports,JT={exports:{}},rr={},ZT={exports:{}},eF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,K){var z=P.length;P.push(K);e:for(;0<z;){var ge=z-1>>>1,we=P[ge];if(0<s(we,K))P[ge]=K,P[z]=we,z=ge;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var K=P[0],z=P.pop();if(z!==K){P[0]=z;e:for(var ge=0,we=P.length,Te=we>>>1;ge<Te;){var Ke=2*(ge+1)-1,tt=P[Ke],At=Ke+1,gt=P[At];if(0>s(tt,z))At<we&&0>s(gt,tt)?(P[ge]=gt,P[At]=z,ge=At):(P[ge]=tt,P[Ke]=z,ge=Ke);else if(At<we&&0>s(gt,z))P[ge]=gt,P[At]=z,ge=At;else break e}}return K}function s(P,K){var z=P.sortIndex-K.sortIndex;return z!==0?z:P.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,a=A.now();t.unstable_now=function(){return A.now()-a}}var o=[],l=[],u=1,h=null,f=3,g=!1,m=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var K=n(l);K!==null;){if(K.callback===null)r(l);else if(K.startTime<=P)r(l),K.sortIndex=K.expirationTime,e(o,K);else break;K=n(l)}}function F(P){if(y=!1,w(P),!m)if(n(o)!==null)m=!0,V(N);else{var K=n(l);K!==null&&X(F,K.startTime-P)}}function N(P,K){m=!1,y&&(y=!1,B(E),E=-1),g=!0;var z=f;try{for(w(K),h=n(o);h!==null&&(!(h.expirationTime>K)||P&&!Q());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,f=h.priorityLevel;var we=ge(h.expirationTime<=K);K=t.unstable_now(),typeof we=="function"?h.callback=we:h===n(o)&&r(o),w(K)}else r(o);h=n(o)}if(h!==null)var Te=!0;else{var Ke=n(l);Ke!==null&&X(F,Ke.startTime-K),Te=!1}return Te}finally{h=null,f=z,g=!1}}var k=!1,I=null,E=-1,b=5,_=-1;function Q(){return!(t.unstable_now()-_<b)}function R(){if(I!==null){var P=t.unstable_now();_=P;var K=!0;try{K=I(!0,P)}finally{K?T():(k=!1,I=null)}}else k=!1}var T;if(typeof v=="function")T=function(){v(R)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ie=Y.port2;Y.port1.onmessage=R,T=function(){ie.postMessage(null)}}else T=function(){C(R,0)};function V(P){I=P,k||(k=!0,T())}function X(P,K){E=C(function(){P(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,V(N))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(o)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var z=f;f=K;try{return P()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var z=f;f=P;try{return K()}finally{f=z}},t.unstable_scheduleCallback=function(P,K,z){var ge=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ge+z:ge):z=ge,P){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=z+we,P={id:u++,callback:K,priorityLevel:P,startTime:z,expirationTime:we,sortIndex:-1},z>ge?(P.sortIndex=z,e(l,P),n(o)===null&&P===n(l)&&(y?(B(E),E=-1):y=!0,X(F,z-ge))):(P.sortIndex=we,e(o,P),m||g||(m=!0,V(N))),P},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(P){var K=f;return function(){var z=f;f=K;try{return P.apply(this,arguments)}finally{f=z}}}})(eF);ZT.exports=eF;var JD=ZT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD=S,er=JD;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tF=new Set,Lc={};function Aa(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(Lc[t]=e,t=0;t<e.length;t++)tF.add(e[t])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G0=Object.prototype.hasOwnProperty,e4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nE={},rE={};function t4(t){return G0.call(rE,t)?!0:G0.call(nE,t)?!1:e4.test(t)?rE[t]=!0:(nE[t]=!0,!1)}function n4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function r4(t,e,n,r){if(e===null||typeof e>"u"||n4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qn(t,e,n,r,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hw=/[\-:]([a-z])/g;function fw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hw,fw);nn[e]=new Qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hw,fw);nn[e]=new Qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hw,fw);nn[e]=new Qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function pw(t,e,n,r){var s=nn.hasOwnProperty(e)?nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(r4(e,n,s,r)&&(n=null),r||s===null?t4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ys=ZD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nd=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),gw=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),nF=Symbol.for("react.provider"),rF=Symbol.for("react.context"),mw=Symbol.for("react.forward_ref"),$0=Symbol.for("react.suspense"),q0=Symbol.for("react.suspense_list"),yw=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),sF=Symbol.for("react.offscreen"),sE=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=sE&&t[sE]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,vm;function Vl(t){if(vm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vm=e&&e[1]||""}return`
`+vm+t}var wm=!1;function Bm(t,e){if(!t||wm)return"";wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),A=s.length-1,a=i.length-1;1<=A&&0<=a&&s[A]!==i[a];)a--;for(;1<=A&&0<=a;A--,a--)if(s[A]!==i[a]){if(A!==1||a!==1)do if(A--,a--,0>a||s[A]!==i[a]){var o=`
`+s[A].replace(" at new "," at ");return t.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",t.displayName)),o}while(1<=A&&0<=a);break}}}finally{wm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vl(t):""}function s4(t){switch(t.tag){case 5:return Vl(t.type);case 16:return Vl("Lazy");case 13:return Vl("Suspense");case 19:return Vl("SuspenseList");case 0:case 2:case 15:return t=Bm(t.type,!1),t;case 11:return t=Bm(t.type.render,!1),t;case 1:return t=Bm(t.type,!0),t;default:return""}}function X0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case La:return"Fragment";case Pa:return"Portal";case W0:return"Profiler";case gw:return"StrictMode";case $0:return"Suspense";case q0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rF:return(t.displayName||"Context")+".Consumer";case nF:return(t._context.displayName||"Context")+".Provider";case mw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yw:return e=t.displayName||null,e!==null?e:X0(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return X0(t(e))}catch{}}return null}function i4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X0(e);case 8:return e===gw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A4(t){var e=iF(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){r=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kd(t){t._valueTracker||(t._valueTracker=A4(t))}function AF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iF(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Y0(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function iE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aF(t,e){e=e.checked,e!=null&&pw(t,"checked",e,!1)}function J0(t,e){aF(t,e);var n=Hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z0(t,e.type,n):e.hasOwnProperty("defaultValue")&&Z0(t,e.type,Hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Z0(t,e,n){(e!=="number"||lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hl=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ey(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Hl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hi(n)}}function oF(t,e){var n=Hi(e.value),r=Hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function oE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ty(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rd,cF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rd=Rd||document.createElement("div"),Rd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a4=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){a4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function uF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function dF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var o4=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ny(t,e){if(e){if(o4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function ry(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sy=null;function vw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iy=null,Ao=null,ao=null;function lE(t){if(t=Mu(t)){if(typeof iy!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Xp(e),iy(t.stateNode,t.type,e))}}function hF(t){Ao?ao?ao.push(t):ao=[t]:Ao=t}function fF(){if(Ao){var t=Ao,e=ao;if(ao=Ao=null,lE(t),e)for(t=0;t<e.length;t++)lE(e[t])}}function pF(t,e){return t(e)}function gF(){}var xm=!1;function mF(t,e,n){if(xm)return t(e,n);xm=!0;try{return pF(t,e,n)}finally{xm=!1,(Ao!==null||ao!==null)&&(gF(),fF())}}function Oc(t,e){var n=t.stateNode;if(n===null)return null;var r=Xp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Ay=!1;if(Rs)try{var El={};Object.defineProperty(El,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Ay=!1}function l4(t,e,n,r,s,i,A,a,o){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var dc=!1,cf=null,uf=!1,ay=null,c4={onError:function(t){dc=!0,cf=t}};function u4(t,e,n,r,s,i,A,a,o){dc=!1,cf=null,l4.apply(c4,arguments)}function d4(t,e,n,r,s,i,A,a,o){if(u4.apply(this,arguments),dc){if(dc){var l=cf;dc=!1,cf=null}else throw Error(q(198));uf||(uf=!0,ay=l)}}function aa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cE(t){if(aa(t)!==t)throw Error(q(188))}function h4(t){var e=t.alternate;if(!e){if(e=aa(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return cE(s),t;if(i===r)return cE(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var A=!1,a=s.child;a;){if(a===n){A=!0,n=s,r=i;break}if(a===r){A=!0,r=s,n=i;break}a=a.sibling}if(!A){for(a=i.child;a;){if(a===n){A=!0,n=i,r=s;break}if(a===r){A=!0,r=i,n=s;break}a=a.sibling}if(!A)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function vF(t){return t=h4(t),t!==null?wF(t):null}function wF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wF(t);if(e!==null)return e;t=t.sibling}return null}var BF=er.unstable_scheduleCallback,uE=er.unstable_cancelCallback,f4=er.unstable_shouldYield,p4=er.unstable_requestPaint,_t=er.unstable_now,g4=er.unstable_getCurrentPriorityLevel,ww=er.unstable_ImmediatePriority,xF=er.unstable_UserBlockingPriority,df=er.unstable_NormalPriority,m4=er.unstable_LowPriority,CF=er.unstable_IdlePriority,Gp=null,Xr=null;function y4(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Gp,t,void 0,(t.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:B4,v4=Math.log,w4=Math.LN2;function B4(t){return t>>>=0,t===0?32:31-(v4(t)/w4|0)|0}var Dd=64,Pd=4194304;function Kl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,A=n&268435455;if(A!==0){var a=A&~s;a!==0?r=Kl(a):(i&=A,i!==0&&(r=Kl(i)))}else A=n&~s,A!==0?r=Kl(A):i!==0&&(r=Kl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ur(e),s=1<<n,r|=t[n],e&=~s;return r}function x4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-Ur(i),a=1<<A,o=s[A];o===-1?(!(a&n)||a&r)&&(s[A]=x4(a,e)):o<=e&&(t.expiredLanes|=a),i&=~a}}function oy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EF(){var t=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ur(e),t[e]=n}function E4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ge=0;function _F(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bF,xw,IF,TF,FF,ly=!1,Ld=[],Ti=null,Fi=null,Ui=null,jc=new Map,Vc=new Map,hi=[],_4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dE(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":jc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function _l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mu(e),e!==null&&xw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function b4(t,e,n,r,s){switch(e){case"focusin":return Ti=_l(Ti,t,e,n,r,s),!0;case"dragenter":return Fi=_l(Fi,t,e,n,r,s),!0;case"mouseover":return Ui=_l(Ui,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jc.set(i,_l(jc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vc.set(i,_l(Vc.get(i)||null,t,e,n,r,s)),!0}return!1}function UF(t){var e=UA(t.target);if(e!==null){var n=aa(e);if(n!==null){if(e=n.tag,e===13){if(e=yF(n),e!==null){t.blockedOn=e,FF(t.priority,function(){IF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sy=r,n.target.dispatchEvent(r),sy=null}else return e=Mu(n),e!==null&&xw(e),t.blockedOn=n,!1;e.shift()}return!0}function hE(t,e,n){Nh(t)&&n.delete(e)}function I4(){ly=!1,Ti!==null&&Nh(Ti)&&(Ti=null),Fi!==null&&Nh(Fi)&&(Fi=null),Ui!==null&&Nh(Ui)&&(Ui=null),jc.forEach(hE),Vc.forEach(hE)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,ly||(ly=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,I4)))}function Hc(t){function e(s){return bl(s,t)}if(0<Ld.length){bl(Ld[0],t);for(var n=1;n<Ld.length;n++){var r=Ld[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&bl(Ti,t),Fi!==null&&bl(Fi,t),Ui!==null&&bl(Ui,t),jc.forEach(e),Vc.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)UF(n),n.blockedOn===null&&hi.shift()}var oo=Ys.ReactCurrentBatchConfig,ff=!0;function T4(t,e,n,r){var s=Ge,i=oo.transition;oo.transition=null;try{Ge=1,Cw(t,e,n,r)}finally{Ge=s,oo.transition=i}}function F4(t,e,n,r){var s=Ge,i=oo.transition;oo.transition=null;try{Ge=4,Cw(t,e,n,r)}finally{Ge=s,oo.transition=i}}function Cw(t,e,n,r){if(ff){var s=cy(t,e,n,r);if(s===null)Nm(t,e,r,pf,n),dE(t,r);else if(b4(s,t,e,n,r))r.stopPropagation();else if(dE(t,r),e&4&&-1<_4.indexOf(t)){for(;s!==null;){var i=Mu(s);if(i!==null&&bF(i),i=cy(t,e,n,r),i===null&&Nm(t,e,r,pf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Nm(t,e,r,null,n)}}var pf=null;function cy(t,e,n,r){if(pf=null,t=vw(r),t=UA(t),t!==null)if(e=aa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function SF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g4()){case ww:return 1;case xF:return 4;case df:case m4:return 16;case CF:return 536870912;default:return 16}default:return 16}}var wi=null,Ew=null,kh=null;function QF(){if(kh)return kh;var t,e=Ew,n=e.length,r,s="value"in wi?wi.value:wi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var A=n-t;for(r=1;r<=A&&e[n-r]===s[i-r];r++);return kh=s.slice(t,1<r?1-r:void 0)}function Rh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Md(){return!0}function fE(){return!1}function sr(t){function e(n,r,s,i,A){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Md:fE,this.isPropagationStopped=fE,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Md)},persist:function(){},isPersistent:Md}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_w=sr(Wo),Lu=ft({},Wo,{view:0,detail:0}),U4=sr(Lu),Em,_m,Il,Wp=ft({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Il&&(Il&&t.type==="mousemove"?(Em=t.screenX-Il.screenX,_m=t.screenY-Il.screenY):_m=Em=0,Il=t),Em)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),pE=sr(Wp),S4=ft({},Wp,{dataTransfer:0}),Q4=sr(S4),N4=ft({},Lu,{relatedTarget:0}),bm=sr(N4),k4=ft({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),R4=sr(k4),D4=ft({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P4=sr(D4),L4=ft({},Wo,{data:0}),gE=sr(L4),M4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j4[t])?!!e[t]:!1}function bw(){return V4}var H4=ft({},Lu,{key:function(t){if(t.key){var e=M4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bw,charCode:function(t){return t.type==="keypress"?Rh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),K4=sr(H4),z4=ft({},Wp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mE=sr(z4),G4=ft({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bw}),W4=sr(G4),$4=ft({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),q4=sr($4),X4=ft({},Wp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y4=sr(X4),J4=[9,13,27,32],Iw=Rs&&"CompositionEvent"in window,hc=null;Rs&&"documentMode"in document&&(hc=document.documentMode);var Z4=Rs&&"TextEvent"in window&&!hc,NF=Rs&&(!Iw||hc&&8<hc&&11>=hc),yE=" ",vE=!1;function kF(t,e){switch(t){case"keyup":return J4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function eP(t,e){switch(t){case"compositionend":return RF(e);case"keypress":return e.which!==32?null:(vE=!0,yE);case"textInput":return t=e.data,t===yE&&vE?null:t;default:return null}}function tP(t,e){if(Ma)return t==="compositionend"||!Iw&&kF(t,e)?(t=QF(),kh=Ew=wi=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NF&&e.locale!=="ko"?null:e.data;default:return null}}var nP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nP[t.type]:e==="textarea"}function DF(t,e,n,r){hF(r),e=gf(e,"onChange"),0<e.length&&(n=new _w("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fc=null,Kc=null;function rP(t){WF(t,0)}function $p(t){var e=Va(t);if(AF(e))return t}function sP(t,e){if(t==="change")return e}var PF=!1;if(Rs){var Im;if(Rs){var Tm="oninput"in document;if(!Tm){var BE=document.createElement("div");BE.setAttribute("oninput","return;"),Tm=typeof BE.oninput=="function"}Im=Tm}else Im=!1;PF=Im&&(!document.documentMode||9<document.documentMode)}function xE(){fc&&(fc.detachEvent("onpropertychange",LF),Kc=fc=null)}function LF(t){if(t.propertyName==="value"&&$p(Kc)){var e=[];DF(e,Kc,t,vw(t)),mF(rP,e)}}function iP(t,e,n){t==="focusin"?(xE(),fc=e,Kc=n,fc.attachEvent("onpropertychange",LF)):t==="focusout"&&xE()}function AP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $p(Kc)}function aP(t,e){if(t==="click")return $p(e)}function oP(t,e){if(t==="input"||t==="change")return $p(e)}function lP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:lP;function zc(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!G0.call(e,s)||!Nr(t[s],e[s]))return!1}return!0}function CE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function EE(t,e){var n=CE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=CE(n)}}function MF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OF(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lf(t.document)}return e}function Tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cP(t){var e=OF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&MF(n.ownerDocument.documentElement,n)){if(r!==null&&Tw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=EE(n,i);var A=EE(n,r);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uP=Rs&&"documentMode"in document&&11>=document.documentMode,Oa=null,uy=null,pc=null,dy=!1;function _E(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dy||Oa==null||Oa!==lf(r)||(r=Oa,"selectionStart"in r&&Tw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pc&&zc(pc,r)||(pc=r,r=gf(uy,"onSelect"),0<r.length&&(e=new _w("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oa)))}function Od(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ja={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},Fm={},jF={};Rs&&(jF=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qp(t){if(Fm[t])return Fm[t];if(!ja[t])return t;var e=ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jF)return Fm[t]=e[n];return t}var VF=qp("animationend"),HF=qp("animationiteration"),KF=qp("animationstart"),zF=qp("transitionend"),GF=new Map,bE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function iA(t,e){GF.set(t,e),Aa(e,[t])}for(var Um=0;Um<bE.length;Um++){var Sm=bE[Um],dP=Sm.toLowerCase(),hP=Sm[0].toUpperCase()+Sm.slice(1);iA(dP,"on"+hP)}iA(VF,"onAnimationEnd");iA(HF,"onAnimationIteration");iA(KF,"onAnimationStart");iA("dblclick","onDoubleClick");iA("focusin","onFocus");iA("focusout","onBlur");iA(zF,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fP=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function IE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d4(r,e,void 0,t),t.currentTarget=null}function WF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var A=r.length-1;0<=A;A--){var a=r[A],o=a.instance,l=a.currentTarget;if(a=a.listener,o!==i&&s.isPropagationStopped())break e;IE(s,a,l),i=o}else for(A=0;A<r.length;A++){if(a=r[A],o=a.instance,l=a.currentTarget,a=a.listener,o!==i&&s.isPropagationStopped())break e;IE(s,a,l),i=o}}}if(uf)throw t=ay,uf=!1,ay=null,t}function rt(t,e){var n=e[my];n===void 0&&(n=e[my]=new Set);var r=t+"__bubble";n.has(r)||($F(e,t,2,!1),n.add(r))}function Qm(t,e,n){var r=0;e&&(r|=4),$F(n,t,r,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Gc(t){if(!t[jd]){t[jd]=!0,tF.forEach(function(n){n!=="selectionchange"&&(fP.has(n)||Qm(n,!1,t),Qm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jd]||(e[jd]=!0,Qm("selectionchange",!1,e))}}function $F(t,e,n,r){switch(SF(e)){case 1:var s=T4;break;case 4:s=F4;break;default:s=Cw}n=s.bind(null,e,n,t),s=void 0,!Ay||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(A===4)for(A=r.return;A!==null;){var o=A.tag;if((o===3||o===4)&&(o=A.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;A=A.return}for(;a!==null;){if(A=UA(a),A===null)return;if(o=A.tag,o===5||o===6){r=i=A;continue e}a=a.parentNode}}r=r.return}mF(function(){var l=i,u=vw(n),h=[];e:{var f=GF.get(t);if(f!==void 0){var g=_w,m=t;switch(t){case"keypress":if(Rh(n)===0)break e;case"keydown":case"keyup":g=K4;break;case"focusin":m="focus",g=bm;break;case"focusout":m="blur",g=bm;break;case"beforeblur":case"afterblur":g=bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=pE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Q4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=W4;break;case VF:case HF:case KF:g=R4;break;case zF:g=q4;break;case"scroll":g=U4;break;case"wheel":g=Y4;break;case"copy":case"cut":case"paste":g=P4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=mE}var y=(e&4)!==0,C=!y&&t==="scroll",B=y?f!==null?f+"Capture":null:f;y=[];for(var v=l,w;v!==null;){w=v;var F=w.stateNode;if(w.tag===5&&F!==null&&(w=F,B!==null&&(F=Oc(v,B),F!=null&&y.push(Wc(v,F,w)))),C)break;v=v.return}0<y.length&&(f=new g(f,m,null,n,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==sy&&(m=n.relatedTarget||n.fromElement)&&(UA(m)||m[Ds]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=l,m=m?UA(m):null,m!==null&&(C=aa(m),m!==C||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(y=pE,F="onMouseLeave",B="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=mE,F="onPointerLeave",B="onPointerEnter",v="pointer"),C=g==null?f:Va(g),w=m==null?f:Va(m),f=new y(F,v+"leave",g,n,u),f.target=C,f.relatedTarget=w,F=null,UA(u)===l&&(y=new y(B,v+"enter",m,n,u),y.target=w,y.relatedTarget=C,F=y),C=F,g&&m)t:{for(y=g,B=m,v=0,w=y;w;w=xa(w))v++;for(w=0,F=B;F;F=xa(F))w++;for(;0<v-w;)y=xa(y),v--;for(;0<w-v;)B=xa(B),w--;for(;v--;){if(y===B||B!==null&&y===B.alternate)break t;y=xa(y),B=xa(B)}y=null}else y=null;g!==null&&TE(h,f,g,y,!1),m!==null&&C!==null&&TE(h,C,m,y,!0)}}e:{if(f=l?Va(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var N=sP;else if(wE(f))if(PF)N=oP;else{N=AP;var k=iP}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=aP);if(N&&(N=N(t,l))){DF(h,N,n,u);break e}k&&k(t,f,l),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Z0(f,"number",f.value)}switch(k=l?Va(l):window,t){case"focusin":(wE(k)||k.contentEditable==="true")&&(Oa=k,uy=l,pc=null);break;case"focusout":pc=uy=Oa=null;break;case"mousedown":dy=!0;break;case"contextmenu":case"mouseup":case"dragend":dy=!1,_E(h,n,u);break;case"selectionchange":if(uP)break;case"keydown":case"keyup":_E(h,n,u)}var I;if(Iw)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ma?kF(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(NF&&n.locale!=="ko"&&(Ma||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ma&&(I=QF()):(wi=u,Ew="value"in wi?wi.value:wi.textContent,Ma=!0)),k=gf(l,E),0<k.length&&(E=new gE(E,t,null,n,u),h.push({event:E,listeners:k}),I?E.data=I:(I=RF(n),I!==null&&(E.data=I)))),(I=Z4?eP(t,n):tP(t,n))&&(l=gf(l,"onBeforeInput"),0<l.length&&(u=new gE("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:l}),u.data=I))}WF(h,e)})}function Wc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oc(t,n),i!=null&&r.unshift(Wc(t,i,s)),i=Oc(t,e),i!=null&&r.push(Wc(t,i,s))),t=t.return}return r}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TE(t,e,n,r,s){for(var i=e._reactName,A=[];n!==null&&n!==r;){var a=n,o=a.alternate,l=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&l!==null&&(a=l,s?(o=Oc(n,i),o!=null&&A.unshift(Wc(n,o,a))):s||(o=Oc(n,i),o!=null&&A.push(Wc(n,o,a)))),n=n.return}A.length!==0&&t.push({event:e,listeners:A})}var pP=/\r\n?/g,gP=/\u0000|\uFFFD/g;function FE(t){return(typeof t=="string"?t:""+t).replace(pP,`
`).replace(gP,"")}function Vd(t,e,n){if(e=FE(e),FE(t)!==e&&n)throw Error(q(425))}function mf(){}var hy=null,fy=null;function py(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,mP=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,yP=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(t){return UE.resolve(null).then(t).catch(vP)}:gy;function vP(t){setTimeout(function(){throw t})}function km(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Hc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hc(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $o=Math.random().toString(36).slice(2),zr="__reactFiber$"+$o,$c="__reactProps$"+$o,Ds="__reactContainer$"+$o,my="__reactEvents$"+$o,wP="__reactListeners$"+$o,BP="__reactHandles$"+$o;function UA(t){var e=t[zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ds]||n[zr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=SE(t);t!==null;){if(n=t[zr])return n;t=SE(t)}return e}t=n,n=t.parentNode}return null}function Mu(t){return t=t[zr]||t[Ds],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Xp(t){return t[$c]||null}var yy=[],Ha=-1;function AA(t){return{current:t}}function st(t){0>Ha||(t.current=yy[Ha],yy[Ha]=null,Ha--)}function Ze(t,e){Ha++,yy[Ha]=t.current,t.current=e}var Ki={},vn=AA(Ki),Mn=AA(!1),zA=Ki;function Co(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function On(t){return t=t.childContextTypes,t!=null}function yf(){st(Mn),st(vn)}function QE(t,e,n){if(vn.current!==Ki)throw Error(q(168));Ze(vn,e),Ze(Mn,n)}function qF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,i4(t)||"Unknown",s));return ft({},n,r)}function vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,zA=vn.current,Ze(vn,t),Ze(Mn,Mn.current),!0}function NE(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=qF(t,e,zA),r.__reactInternalMemoizedMergedChildContext=t,st(Mn),st(vn),Ze(vn,t)):st(Mn),Ze(Mn,n)}var xs=null,Yp=!1,Rm=!1;function XF(t){xs===null?xs=[t]:xs.push(t)}function xP(t){Yp=!0,XF(t)}function aA(){if(!Rm&&xs!==null){Rm=!0;var t=0,e=Ge;try{var n=xs;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,Yp=!1}catch(s){throw xs!==null&&(xs=xs.slice(t+1)),BF(ww,aA),s}finally{Ge=e,Rm=!1}}return null}var Ka=[],za=0,wf=null,Bf=0,cr=[],ur=0,GA=null,Es=1,_s="";function CA(t,e){Ka[za++]=Bf,Ka[za++]=wf,wf=t,Bf=e}function YF(t,e,n){cr[ur++]=Es,cr[ur++]=_s,cr[ur++]=GA,GA=t;var r=Es;t=_s;var s=32-Ur(r)-1;r&=~(1<<s),n+=1;var i=32-Ur(e)+s;if(30<i){var A=s-s%5;i=(r&(1<<A)-1).toString(32),r>>=A,s-=A,Es=1<<32-Ur(e)+s|n<<s|r,_s=i+t}else Es=1<<i|n<<s|r,_s=t}function Fw(t){t.return!==null&&(CA(t,1),YF(t,1,0))}function Uw(t){for(;t===wf;)wf=Ka[--za],Ka[za]=null,Bf=Ka[--za],Ka[za]=null;for(;t===GA;)GA=cr[--ur],cr[ur]=null,_s=cr[--ur],cr[ur]=null,Es=cr[--ur],cr[ur]=null}var Xn=null,$n=null,ot=!1,br=null;function JF(t,e){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xn=t,$n=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=GA!==null?{id:Es,overflow:_s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xn=t,$n=null,!0):!1;default:return!1}}function vy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wy(t){if(ot){var e=$n;if(e){var n=e;if(!kE(t,e)){if(vy(t))throw Error(q(418));e=Si(n.nextSibling);var r=Xn;e&&kE(t,e)?JF(r,n):(t.flags=t.flags&-4097|2,ot=!1,Xn=t)}}else{if(vy(t))throw Error(q(418));t.flags=t.flags&-4097|2,ot=!1,Xn=t}}}function RE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xn=t}function Hd(t){if(t!==Xn)return!1;if(!ot)return RE(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!py(t.type,t.memoizedProps)),e&&(e=$n)){if(vy(t))throw ZF(),Error(q(418));for(;e;)JF(t,e),e=Si(e.nextSibling)}if(RE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$n=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Xn?Si(t.stateNode.nextSibling):null;return!0}function ZF(){for(var t=$n;t;)t=Si(t.nextSibling)}function Eo(){$n=Xn=null,ot=!1}function Sw(t){br===null?br=[t]:br.push(t)}var CP=Ys.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var a=s.refs;A===null?delete a[i]:a[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Kd(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DE(t){var e=t._init;return e(t._payload)}function eU(t){function e(B,v){if(t){var w=B.deletions;w===null?(B.deletions=[v],B.flags|=16):w.push(v)}}function n(B,v){if(!t)return null;for(;v!==null;)e(B,v),v=v.sibling;return null}function r(B,v){for(B=new Map;v!==null;)v.key!==null?B.set(v.key,v):B.set(v.index,v),v=v.sibling;return B}function s(B,v){return B=Ri(B,v),B.index=0,B.sibling=null,B}function i(B,v,w){return B.index=w,t?(w=B.alternate,w!==null?(w=w.index,w<v?(B.flags|=2,v):w):(B.flags|=2,v)):(B.flags|=1048576,v)}function A(B){return t&&B.alternate===null&&(B.flags|=2),B}function a(B,v,w,F){return v===null||v.tag!==6?(v=Vm(w,B.mode,F),v.return=B,v):(v=s(v,w),v.return=B,v)}function o(B,v,w,F){var N=w.type;return N===La?u(B,v,w.props.children,F,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&DE(N)===v.type)?(F=s(v,w.props),F.ref=Tl(B,v,w),F.return=B,F):(F=Vh(w.type,w.key,w.props,null,B.mode,F),F.ref=Tl(B,v,w),F.return=B,F)}function l(B,v,w,F){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Hm(w,B.mode,F),v.return=B,v):(v=s(v,w.children||[]),v.return=B,v)}function u(B,v,w,F,N){return v===null||v.tag!==7?(v=LA(w,B.mode,F,N),v.return=B,v):(v=s(v,w),v.return=B,v)}function h(B,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Vm(""+v,B.mode,w),v.return=B,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nd:return w=Vh(v.type,v.key,v.props,null,B.mode,w),w.ref=Tl(B,null,v),w.return=B,w;case Pa:return v=Hm(v,B.mode,w),v.return=B,v;case ci:var F=v._init;return h(B,F(v._payload),w)}if(Hl(v)||Cl(v))return v=LA(v,B.mode,w,null),v.return=B,v;Kd(B,v)}return null}function f(B,v,w,F){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:a(B,v,""+w,F);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nd:return w.key===N?o(B,v,w,F):null;case Pa:return w.key===N?l(B,v,w,F):null;case ci:return N=w._init,f(B,v,N(w._payload),F)}if(Hl(w)||Cl(w))return N!==null?null:u(B,v,w,F,null);Kd(B,w)}return null}function g(B,v,w,F,N){if(typeof F=="string"&&F!==""||typeof F=="number")return B=B.get(w)||null,a(v,B,""+F,N);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Nd:return B=B.get(F.key===null?w:F.key)||null,o(v,B,F,N);case Pa:return B=B.get(F.key===null?w:F.key)||null,l(v,B,F,N);case ci:var k=F._init;return g(B,v,w,k(F._payload),N)}if(Hl(F)||Cl(F))return B=B.get(w)||null,u(v,B,F,N,null);Kd(v,F)}return null}function m(B,v,w,F){for(var N=null,k=null,I=v,E=v=0,b=null;I!==null&&E<w.length;E++){I.index>E?(b=I,I=null):b=I.sibling;var _=f(B,I,w[E],F);if(_===null){I===null&&(I=b);break}t&&I&&_.alternate===null&&e(B,I),v=i(_,v,E),k===null?N=_:k.sibling=_,k=_,I=b}if(E===w.length)return n(B,I),ot&&CA(B,E),N;if(I===null){for(;E<w.length;E++)I=h(B,w[E],F),I!==null&&(v=i(I,v,E),k===null?N=I:k.sibling=I,k=I);return ot&&CA(B,E),N}for(I=r(B,I);E<w.length;E++)b=g(I,B,E,w[E],F),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?E:b.key),v=i(b,v,E),k===null?N=b:k.sibling=b,k=b);return t&&I.forEach(function(Q){return e(B,Q)}),ot&&CA(B,E),N}function y(B,v,w,F){var N=Cl(w);if(typeof N!="function")throw Error(q(150));if(w=N.call(w),w==null)throw Error(q(151));for(var k=N=null,I=v,E=v=0,b=null,_=w.next();I!==null&&!_.done;E++,_=w.next()){I.index>E?(b=I,I=null):b=I.sibling;var Q=f(B,I,_.value,F);if(Q===null){I===null&&(I=b);break}t&&I&&Q.alternate===null&&e(B,I),v=i(Q,v,E),k===null?N=Q:k.sibling=Q,k=Q,I=b}if(_.done)return n(B,I),ot&&CA(B,E),N;if(I===null){for(;!_.done;E++,_=w.next())_=h(B,_.value,F),_!==null&&(v=i(_,v,E),k===null?N=_:k.sibling=_,k=_);return ot&&CA(B,E),N}for(I=r(B,I);!_.done;E++,_=w.next())_=g(I,B,E,_.value,F),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?E:_.key),v=i(_,v,E),k===null?N=_:k.sibling=_,k=_);return t&&I.forEach(function(R){return e(B,R)}),ot&&CA(B,E),N}function C(B,v,w,F){if(typeof w=="object"&&w!==null&&w.type===La&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Nd:e:{for(var N=w.key,k=v;k!==null;){if(k.key===N){if(N=w.type,N===La){if(k.tag===7){n(B,k.sibling),v=s(k,w.props.children),v.return=B,B=v;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ci&&DE(N)===k.type){n(B,k.sibling),v=s(k,w.props),v.ref=Tl(B,k,w),v.return=B,B=v;break e}n(B,k);break}else e(B,k);k=k.sibling}w.type===La?(v=LA(w.props.children,B.mode,F,w.key),v.return=B,B=v):(F=Vh(w.type,w.key,w.props,null,B.mode,F),F.ref=Tl(B,v,w),F.return=B,B=F)}return A(B);case Pa:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(B,v.sibling),v=s(v,w.children||[]),v.return=B,B=v;break e}else{n(B,v);break}else e(B,v);v=v.sibling}v=Hm(w,B.mode,F),v.return=B,B=v}return A(B);case ci:return k=w._init,C(B,v,k(w._payload),F)}if(Hl(w))return m(B,v,w,F);if(Cl(w))return y(B,v,w,F);Kd(B,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(B,v.sibling),v=s(v,w),v.return=B,B=v):(n(B,v),v=Vm(w,B.mode,F),v.return=B,B=v),A(B)):n(B,v)}return C}var _o=eU(!0),tU=eU(!1),xf=AA(null),Cf=null,Ga=null,Qw=null;function Nw(){Qw=Ga=Cf=null}function kw(t){var e=xf.current;st(xf),t._currentValue=e}function By(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lo(t,e){Cf=t,Qw=Ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function yr(t){var e=t._currentValue;if(Qw!==t)if(t={context:t,memoizedValue:e,next:null},Ga===null){if(Cf===null)throw Error(q(308));Ga=t,Cf.dependencies={lanes:0,firstContext:t}}else Ga=Ga.next=t;return e}var SA=null;function Rw(t){SA===null?SA=[t]:SA.push(t)}function nU(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Rw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ps(t,r)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function Dw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ps(t,n)}return s=r.interleaved,s===null?(e.next=e,Rw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ps(t,n)}function Dh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bw(t,n)}}function PE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var A={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=A:i=i.next=A,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ef(t,e,n,r){var s=t.updateQueue;ui=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var o=a,l=o.next;o.next=null,A===null?i=l:A.next=l,A=o;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==A&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=o))}if(i!==null){var h=s.baseState;A=0,u=l=o=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,g=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=ft({},h,f);break e;case 2:ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=g,o=h):u=u.next=g,A|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(o=h),s.baseState=o,s.firstBaseUpdate=l,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$A|=A,t.lanes=A,t.memoizedState=h}}function LE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Ou={},Yr=AA(Ou),qc=AA(Ou),Xc=AA(Ou);function QA(t){if(t===Ou)throw Error(q(174));return t}function Pw(t,e){switch(Ze(Xc,e),Ze(qc,t),Ze(Yr,Ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ty(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ty(e,t)}st(Yr),Ze(Yr,e)}function bo(){st(Yr),st(qc),st(Xc)}function sU(t){QA(Xc.current);var e=QA(Yr.current),n=ty(e,t.type);e!==n&&(Ze(qc,t),Ze(Yr,n))}function Lw(t){qc.current===t&&(st(Yr),st(qc))}var ut=AA(0);function _f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dm=[];function Mw(){for(var t=0;t<Dm.length;t++)Dm[t]._workInProgressVersionPrimary=null;Dm.length=0}var Ph=Ys.ReactCurrentDispatcher,Pm=Ys.ReactCurrentBatchConfig,WA=0,ht=null,Rt=null,Vt=null,bf=!1,gc=!1,Yc=0,EP=0;function ln(){throw Error(q(321))}function Ow(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function jw(t,e,n,r,s,i){if(WA=i,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=t===null||t.memoizedState===null?TP:FP,t=n(r,s),gc){i=0;do{if(gc=!1,Yc=0,25<=i)throw Error(q(301));i+=1,Vt=Rt=null,e.updateQueue=null,Ph.current=UP,t=n(r,s)}while(gc)}if(Ph.current=If,e=Rt!==null&&Rt.next!==null,WA=0,Vt=Rt=ht=null,bf=!1,e)throw Error(q(300));return t}function Vw(){var t=Yc!==0;return Yc=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ht.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function vr(){if(Rt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Vt===null?ht.memoizedState:Vt.next;if(e!==null)Vt=e,Rt=t;else{if(t===null)throw Error(q(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?ht.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Jc(t,e){return typeof e=="function"?e(t):e}function Lm(t){var e=vr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=A=null,o=null,l=i;do{var u=l.lane;if((WA&u)===u)o!==null&&(o=o.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};o===null?(a=o=h,A=r):o=o.next=h,ht.lanes|=u,$A|=u}l=l.next}while(l!==null&&l!==i);o===null?A=r:o.next=a,Nr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=A,e.baseQueue=o,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ht.lanes|=i,$A|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mm(t){var e=vr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);Nr(i,e.memoizedState)||(Pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function iU(){}function AU(t,e){var n=ht,r=vr(),s=e(),i=!Nr(r.memoizedState,s);if(i&&(r.memoizedState=s,Pn=!0),r=r.queue,Hw(lU.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Zc(9,oU.bind(null,n,r,s,e),void 0,null),Kt===null)throw Error(q(349));WA&30||aU(n,e,s)}return s}function aU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oU(t,e,n,r){e.value=n,e.getSnapshot=r,cU(e)&&uU(t)}function lU(t,e,n){return n(function(){cU(e)&&uU(t)})}function cU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function uU(t){var e=Ps(t,1);e!==null&&Sr(e,t,1,-1)}function ME(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:t},e.queue=t,t=t.dispatch=IP.bind(null,ht,t),[e.memoizedState,t]}function Zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dU(){return vr().memoizedState}function Lh(t,e,n,r){var s=Hr();ht.flags|=t,s.memoizedState=Zc(1|e,n,void 0,r===void 0?null:r)}function Jp(t,e,n,r){var s=vr();r=r===void 0?null:r;var i=void 0;if(Rt!==null){var A=Rt.memoizedState;if(i=A.destroy,r!==null&&Ow(r,A.deps)){s.memoizedState=Zc(e,n,i,r);return}}ht.flags|=t,s.memoizedState=Zc(1|e,n,i,r)}function OE(t,e){return Lh(8390656,8,t,e)}function Hw(t,e){return Jp(2048,8,t,e)}function hU(t,e){return Jp(4,2,t,e)}function fU(t,e){return Jp(4,4,t,e)}function pU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gU(t,e,n){return n=n!=null?n.concat([t]):null,Jp(4,4,pU.bind(null,e,t),n)}function Kw(){}function mU(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ow(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yU(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ow(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vU(t,e,n){return WA&21?(Nr(n,e)||(n=EF(),ht.lanes|=n,$A|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function _P(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=Pm.transition;Pm.transition={};try{t(!1),e()}finally{Ge=n,Pm.transition=r}}function wU(){return vr().memoizedState}function bP(t,e,n){var r=ki(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BU(t))xU(e,n);else if(n=nU(t,e,n,r),n!==null){var s=In();Sr(n,t,r,s),CU(n,e,r)}}function IP(t,e,n){var r=ki(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BU(t))xU(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,a=i(A,n);if(s.hasEagerState=!0,s.eagerState=a,Nr(a,A)){var o=e.interleaved;o===null?(s.next=s,Rw(e)):(s.next=o.next,o.next=s),e.interleaved=s;return}}catch{}finally{}n=nU(t,e,s,r),n!==null&&(s=In(),Sr(n,t,r,s),CU(n,e,r))}}function BU(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function xU(t,e){gc=bf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bw(t,n)}}var If={readContext:yr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},TP={readContext:yr,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:yr,useEffect:OE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4194308,4,pU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lh(4,2,t,e)},useMemo:function(t,e){var n=Hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bP.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:ME,useDebugValue:Kw,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=ME(!1),e=t[0];return t=_P.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,s=Hr();if(ot){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Kt===null)throw Error(q(349));WA&30||aU(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,OE(lU.bind(null,r,i,t),[t]),r.flags|=2048,Zc(9,oU.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Hr(),e=Kt.identifierPrefix;if(ot){var n=_s,r=Es;n=(r&~(1<<32-Ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FP={readContext:yr,useCallback:mU,useContext:yr,useEffect:Hw,useImperativeHandle:gU,useInsertionEffect:hU,useLayoutEffect:fU,useMemo:yU,useReducer:Lm,useRef:dU,useState:function(){return Lm(Jc)},useDebugValue:Kw,useDeferredValue:function(t){var e=vr();return vU(e,Rt.memoizedState,t)},useTransition:function(){var t=Lm(Jc)[0],e=vr().memoizedState;return[t,e]},useMutableSource:iU,useSyncExternalStore:AU,useId:wU,unstable_isNewReconciler:!1},UP={readContext:yr,useCallback:mU,useContext:yr,useEffect:Hw,useImperativeHandle:gU,useInsertionEffect:hU,useLayoutEffect:fU,useMemo:yU,useReducer:Mm,useRef:dU,useState:function(){return Mm(Jc)},useDebugValue:Kw,useDeferredValue:function(t){var e=vr();return Rt===null?e.memoizedState=t:vU(e,Rt.memoizedState,t)},useTransition:function(){var t=Mm(Jc)[0],e=vr().memoizedState;return[t,e]},useMutableSource:iU,useSyncExternalStore:AU,useId:wU,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zp={isMounted:function(t){return(t=t._reactInternals)?aa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=In(),s=ki(t),i=Us(r,s);i.payload=e,n!=null&&(i.callback=n),e=Qi(t,i,s),e!==null&&(Sr(e,t,s,r),Dh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=In(),s=ki(t),i=Us(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qi(t,i,s),e!==null&&(Sr(e,t,s,r),Dh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=In(),r=ki(t),s=Us(n,r);s.tag=2,e!=null&&(s.callback=e),e=Qi(t,s,r),e!==null&&(Sr(e,t,r,n),Dh(e,t,r))}};function jE(t,e,n,r,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,A):e.prototype&&e.prototype.isPureReactComponent?!zc(n,r)||!zc(s,i):!0}function EU(t,e,n){var r=!1,s=Ki,i=e.contextType;return typeof i=="object"&&i!==null?i=yr(i):(s=On(e)?zA:vn.current,r=e.contextTypes,i=(r=r!=null)?Co(t,s):Ki),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function VE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zp.enqueueReplaceState(e,e.state,null)}function Cy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Dw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=yr(i):(i=On(e)?zA:vn.current,s.context=Co(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Zp.enqueueReplaceState(s,s.state,null),Ef(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=s4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Om(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ey(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function _U(t,e,n){n=Us(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ff||(Ff=!0,ky=r),Ey(t,e)},n}function bU(t,e,n){n=Us(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ey(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ey(t,e),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),n}function HE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=zP.bind(null,t,e,n),e.then(t,t))}function KE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Us(-1,1),e.tag=2,Qi(n,e,1))),n.lanes|=1),t)}var QP=Ys.ReactCurrentOwner,Pn=!1;function En(t,e,n,r){e.child=t===null?tU(e,null,n,r):_o(e,t.child,n,r)}function GE(t,e,n,r,s){n=n.render;var i=e.ref;return lo(e,s),r=jw(t,e,n,r,i,s),n=Vw(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(ot&&n&&Fw(e),e.flags|=1,En(t,e,r,s),e.child)}function WE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Jw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,IU(t,e,i,r,s)):(t=Vh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(n=n.compare,n=n!==null?n:zc,n(A,r)&&t.ref===e.ref)return Ls(t,e,s)}return e.flags|=1,t=Ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function IU(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zc(i,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Ls(t,e,s)}return _y(t,e,n,r,s)}function TU(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze($a,Wn),Wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze($a,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ze($a,Wn),Wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ze($a,Wn),Wn|=r;return En(t,e,s,n),e.child}function FU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _y(t,e,n,r,s){var i=On(n)?zA:vn.current;return i=Co(e,i),lo(e,s),n=jw(t,e,n,r,i,s),r=Vw(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(ot&&r&&Fw(e),e.flags|=1,En(t,e,n,s),e.child)}function $E(t,e,n,r,s){if(On(n)){var i=!0;vf(e)}else i=!1;if(lo(e,s),e.stateNode===null)Mh(t,e),EU(e,n,r),Cy(e,n,r,s),r=!0;else if(t===null){var A=e.stateNode,a=e.memoizedProps;A.props=a;var o=A.context,l=n.contextType;typeof l=="object"&&l!==null?l=yr(l):(l=On(n)?zA:vn.current,l=Co(e,l));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof A.getSnapshotBeforeUpdate=="function";h||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==r||o!==l)&&VE(e,A,r,l),ui=!1;var f=e.memoizedState;A.state=f,Ef(e,r,A,s),o=e.memoizedState,a!==r||f!==o||Mn.current||ui?(typeof u=="function"&&(xy(e,n,u,r),o=e.memoizedState),(a=ui||jE(e,n,a,r,f,o,l))?(h||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=o),A.props=r,A.state=o,A.context=l,r=a):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{A=e.stateNode,rU(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Er(e.type,a),A.props=l,h=e.pendingProps,f=A.context,o=n.contextType,typeof o=="object"&&o!==null?o=yr(o):(o=On(n)?zA:vn.current,o=Co(e,o));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(a!==h||f!==o)&&VE(e,A,r,o),ui=!1,f=e.memoizedState,A.state=f,Ef(e,r,A,s);var m=e.memoizedState;a!==h||f!==m||Mn.current||ui?(typeof g=="function"&&(xy(e,n,g,r),m=e.memoizedState),(l=ui||jE(e,n,l,r,f,m,o)||!1)?(u||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(r,m,o),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(r,m,o)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),A.props=r,A.state=m,A.context=o,r=l):(typeof A.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return by(t,e,n,r,i,s)}function by(t,e,n,r,s,i){FU(t,e);var A=(e.flags&128)!==0;if(!r&&!A)return s&&NE(e,n,!1),Ls(t,e,i);r=e.stateNode,QP.current=e;var a=A&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&A?(e.child=_o(e,t.child,null,i),e.child=_o(e,null,a,i)):En(t,e,a,i),e.memoizedState=r.state,s&&NE(e,n,!0),e.child}function UU(t){var e=t.stateNode;e.pendingContext?QE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&QE(t,e.context,!1),Pw(t,e.containerInfo)}function qE(t,e,n,r,s){return Eo(),Sw(s),e.flags|=256,En(t,e,n,r),e.child}var Iy={dehydrated:null,treeContext:null,retryLane:0};function Ty(t){return{baseLanes:t,cachePool:null,transitions:null}}function SU(t,e,n){var r=e.pendingProps,s=ut.current,i=!1,A=(e.flags&128)!==0,a;if((a=A)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ze(ut,s&1),t===null)return wy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=r.children,t=r.fallback,i?(r=e.mode,i=e.child,A={mode:"hidden",children:A},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=ng(A,r,0,null),t=LA(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ty(n),e.memoizedState=Iy,t):zw(e,A));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return NP(t,e,A,r,a,s,n);if(i){i=r.fallback,A=e.mode,s=t.child,a=s.sibling;var o={mode:"hidden",children:r.children};return!(A&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,e.deletions=null):(r=Ri(s,o),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ri(a,i):(i=LA(i,A,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,A=t.child.memoizedState,A=A===null?Ty(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~n,e.memoizedState=Iy,r}return i=t.child,t=i.sibling,r=Ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zw(t,e){return e=ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zd(t,e,n,r){return r!==null&&Sw(r),_o(e,t.child,null,n),t=zw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NP(t,e,n,r,s,i,A){if(n)return e.flags&256?(e.flags&=-257,r=Om(Error(q(422))),zd(t,e,A,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ng({mode:"visible",children:r.children},s,0,null),i=LA(i,s,A,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_o(e,t.child,null,A),e.child.memoizedState=Ty(A),e.memoizedState=Iy,i);if(!(e.mode&1))return zd(t,e,A,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=Om(i,r,void 0),zd(t,e,A,r)}if(a=(A&t.childLanes)!==0,Pn||a){if(r=Kt,r!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ps(t,s),Sr(r,t,s,-1))}return Yw(),r=Om(Error(q(421))),zd(t,e,A,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=GP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$n=Si(s.nextSibling),Xn=e,ot=!0,br=null,t!==null&&(cr[ur++]=Es,cr[ur++]=_s,cr[ur++]=GA,Es=t.id,_s=t.overflow,GA=e),e=zw(e,r.children),e.flags|=4096,e)}function XE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),By(t.return,e,n)}function jm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QU(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(En(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XE(t,n,e);else if(t.tag===19)XE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ut,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&_f(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_f(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jm(e,!0,n,null,i);break;case"together":jm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$A|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kP(t,e,n){switch(e.tag){case 3:UU(e),Eo();break;case 5:sU(e);break;case 1:On(e.type)&&vf(e);break;case 4:Pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ze(xf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?SU(t,e,n):(Ze(ut,ut.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);Ze(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QU(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ze(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,TU(t,e,n)}return Ls(t,e,n)}var NU,Fy,kU,RU;NU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fy=function(){};kU=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,QA(Yr.current);var i=null;switch(n){case"input":s=Y0(t,s),r=Y0(t,r),i=[];break;case"select":s=ft({},s,{value:void 0}),r=ft({},r,{value:void 0}),i=[];break;case"textarea":s=ey(t,s),r=ey(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mf)}ny(n,r);var A;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(A in a)a.hasOwnProperty(A)&&(n||(n={}),n[A]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Lc.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var o=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&o!==a&&(o!=null||a!=null))if(l==="style")if(a){for(A in a)!a.hasOwnProperty(A)||o&&o.hasOwnProperty(A)||(n||(n={}),n[A]="");for(A in o)o.hasOwnProperty(A)&&a[A]!==o[A]&&(n||(n={}),n[A]=o[A])}else n||(i||(i=[]),i.push(l,n)),n=o;else l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(i=i||[]).push(l,o)):l==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(l,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(l)?(o!=null&&l==="onScroll"&&rt("scroll",t),i||a===o||(i=[])):(i=i||[]).push(l,o))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};RU=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fl(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RP(t,e,n){var r=e.pendingProps;switch(Uw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(e),null;case 1:return On(e.type)&&yf(),cn(e),null;case 3:return r=e.stateNode,bo(),st(Mn),st(vn),Mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(Py(br),br=null))),Fy(t,e),cn(e),null;case 5:Lw(e);var s=QA(Xc.current);if(n=e.type,t!==null&&e.stateNode!=null)kU(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return cn(e),null}if(t=QA(Yr.current),Hd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[zr]=e,r[$c]=i,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(s=0;s<zl.length;s++)rt(zl[s],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":iE(r,i),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rt("invalid",r);break;case"textarea":aE(r,i),rt("invalid",r)}ny(n,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var a=i[A];A==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vd(r.textContent,a,t),s=["children",""+a]):Lc.hasOwnProperty(A)&&a!=null&&A==="onScroll"&&rt("scroll",r)}switch(n){case"input":kd(r),AE(r,i,!0);break;case"textarea":kd(r),oE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=mf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=A.createElement(n,{is:r.is}):(t=A.createElement(n),n==="select"&&(A=t,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):t=A.createElementNS(t,n),t[zr]=e,t[$c]=r,NU(t,e,!1,!1),e.stateNode=t;e:{switch(A=ry(n,r),n){case"dialog":rt("cancel",t),rt("close",t),s=r;break;case"iframe":case"object":case"embed":rt("load",t),s=r;break;case"video":case"audio":for(s=0;s<zl.length;s++)rt(zl[s],t);s=r;break;case"source":rt("error",t),s=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),s=r;break;case"details":rt("toggle",t),s=r;break;case"input":iE(t,r),s=Y0(t,r),rt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ft({},r,{value:void 0}),rt("invalid",t);break;case"textarea":aE(t,r),s=ey(t,r),rt("invalid",t);break;default:s=r}ny(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="style"?dF(t,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&cF(t,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Mc(t,o):typeof o=="number"&&Mc(t,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lc.hasOwnProperty(i)?o!=null&&i==="onScroll"&&rt("scroll",t):o!=null&&pw(t,i,o,A))}switch(n){case"input":kd(t),AE(t,r,!1);break;case"textarea":kd(t),oE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?io(t,!!r.multiple,i,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=mf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cn(e),null;case 6:if(t&&e.stateNode!=null)RU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=QA(Xc.current),QA(Yr.current),Hd(e)){if(r=e.stateNode,n=e.memoizedProps,r[zr]=e,(i=r.nodeValue!==n)&&(t=Xn,t!==null))switch(t.tag){case 3:Vd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zr]=e,e.stateNode=r}return cn(e),null;case 13:if(st(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&$n!==null&&e.mode&1&&!(e.flags&128))ZF(),Eo(),e.flags|=98560,i=!1;else if(i=Hd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[zr]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cn(e),i=!1}else br!==null&&(Py(br),br=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Pt===0&&(Pt=3):Yw())),e.updateQueue!==null&&(e.flags|=4),cn(e),null);case 4:return bo(),Fy(t,e),t===null&&Gc(e.stateNode.containerInfo),cn(e),null;case 10:return kw(e.type._context),cn(e),null;case 17:return On(e.type)&&yf(),cn(e),null;case 19:if(st(ut),i=e.memoizedState,i===null)return cn(e),null;if(r=(e.flags&128)!==0,A=i.rendering,A===null)if(r)Fl(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=_f(t),A!==null){for(e.flags|=128,Fl(i,!1),r=A.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&_t()>To&&(e.flags|=128,r=!0,Fl(i,!1),e.lanes=4194304)}else{if(!r)if(t=_f(A),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!ot)return cn(e),null}else 2*_t()-i.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,Fl(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(n=i.last,n!==null?n.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,n=ut.current,Ze(ut,r?n&1|2:n&1),e):(cn(e),null);case 22:case 23:return Xw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(cn(e),e.subtreeFlags&6&&(e.flags|=8192)):cn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function DP(t,e){switch(Uw(e),e.tag){case 1:return On(e.type)&&yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),st(Mn),st(vn),Mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lw(e),null;case 13:if(st(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ut),null;case 4:return bo(),null;case 10:return kw(e.type._context),null;case 22:case 23:return Xw(),null;case 24:return null;default:return null}}var Gd=!1,mn=!1,PP=typeof WeakSet=="function"?WeakSet:Set,le=null;function Wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Uy(t,e,n){try{n()}catch(r){vt(t,e,r)}}var YE=!1;function LP(t,e){if(hy=ff,t=OF(),Tw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var A=0,a=-1,o=-1,l=0,u=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=A+s),h!==i||r!==0&&h.nodeType!==3||(o=A+r),h.nodeType===3&&(A+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++l===s&&(a=A),f===i&&++u===r&&(o=A),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(fy={focusedElem:t,selectionRange:n},ff=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,C=m.memoizedState,B=e.stateNode,v=B.getSnapshotBeforeUpdate(e.elementType===e.type?y:Er(e.type,y),C);B.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(F){vt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=YE,YE=!1,m}function mc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uy(e,n,i)}s=s.next}while(s!==r)}}function eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DU(t){var e=t.alternate;e!==null&&(t.alternate=null,DU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zr],delete e[$c],delete e[my],delete e[wP],delete e[BP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PU(t){return t.tag===5||t.tag===3||t.tag===4}function JE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mf));else if(r!==4&&(t=t.child,t!==null))for(Qy(t,e,n),t=t.sibling;t!==null;)Qy(t,e,n),t=t.sibling}function Ny(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ny(t,e,n),t=t.sibling;t!==null;)Ny(t,e,n),t=t.sibling}var Gt=null,_r=!1;function si(t,e,n){for(n=n.child;n!==null;)LU(t,e,n),n=n.sibling}function LU(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Gp,n)}catch{}switch(n.tag){case 5:mn||Wa(n,e);case 6:var r=Gt,s=_r;Gt=null,si(t,e,n),Gt=r,_r=s,Gt!==null&&(_r?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(_r?(t=Gt,n=n.stateNode,t.nodeType===8?km(t.parentNode,n):t.nodeType===1&&km(t,n),Hc(t)):km(Gt,n.stateNode));break;case 4:r=Gt,s=_r,Gt=n.stateNode.containerInfo,_r=!0,si(t,e,n),Gt=r,_r=s;break;case 0:case 11:case 14:case 15:if(!mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Uy(n,e,A),s=s.next}while(s!==r)}si(t,e,n);break;case 1:if(!mn&&(Wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}si(t,e,n);break;case 21:si(t,e,n);break;case 22:n.mode&1?(mn=(r=mn)||n.memoizedState!==null,si(t,e,n),mn=r):si(t,e,n);break;default:si(t,e,n)}}function ZE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PP),e.forEach(function(r){var s=WP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Br(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,A=e,a=A;e:for(;a!==null;){switch(a.tag){case 5:Gt=a.stateNode,_r=!1;break e;case 3:Gt=a.stateNode.containerInfo,_r=!0;break e;case 4:Gt=a.stateNode.containerInfo,_r=!0;break e}a=a.return}if(Gt===null)throw Error(q(160));LU(i,A,s),Gt=null,_r=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(l){vt(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MU(e,t),e=e.sibling}function MU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(e,t),jr(t),r&4){try{mc(3,t,t.return),eg(3,t)}catch(y){vt(t,t.return,y)}try{mc(5,t,t.return)}catch(y){vt(t,t.return,y)}}break;case 1:Br(e,t),jr(t),r&512&&n!==null&&Wa(n,n.return);break;case 5:if(Br(e,t),jr(t),r&512&&n!==null&&Wa(n,n.return),t.flags&32){var s=t.stateNode;try{Mc(s,"")}catch(y){vt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=n!==null?n.memoizedProps:i,a=t.type,o=t.updateQueue;if(t.updateQueue=null,o!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&aF(s,i),ry(a,A);var l=ry(a,i);for(A=0;A<o.length;A+=2){var u=o[A],h=o[A+1];u==="style"?dF(s,h):u==="dangerouslySetInnerHTML"?cF(s,h):u==="children"?Mc(s,h):pw(s,u,h,l)}switch(a){case"input":J0(s,i);break;case"textarea":oF(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?io(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?io(s,!!i.multiple,i.defaultValue,!0):io(s,!!i.multiple,i.multiple?[]:"",!1))}s[$c]=i}catch(y){vt(t,t.return,y)}}break;case 6:if(Br(e,t),jr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){vt(t,t.return,y)}}break;case 3:if(Br(e,t),jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hc(e.containerInfo)}catch(y){vt(t,t.return,y)}break;case 4:Br(e,t),jr(t);break;case 13:Br(e,t),jr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($w=_t())),r&4&&ZE(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mn=(l=mn)||u,Br(e,t),mn=l):Br(e,t),jr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(le=t,u=t.child;u!==null;){for(h=le=u;le!==null;){switch(f=le,g=f.child,f.tag){case 0:case 11:case 14:case 15:mc(4,f,f.return);break;case 1:Wa(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){vt(r,n,y)}}break;case 5:Wa(f,f.return);break;case 22:if(f.memoizedState!==null){t_(h);continue}}g!==null?(g.return=f,le=g):t_(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,o=h.memoizedProps.style,A=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=uF("display",A))}catch(y){vt(t,t.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){vt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Br(e,t),jr(t),r&4&&ZE(t);break;case 21:break;default:Br(e,t),jr(t)}}function jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PU(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mc(s,""),r.flags&=-33);var i=JE(t);Ny(t,i,s);break;case 3:case 4:var A=r.stateNode.containerInfo,a=JE(t);Qy(t,a,A);break;default:throw Error(q(161))}}catch(o){vt(t,t.return,o)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MP(t,e,n){le=t,OU(t)}function OU(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var s=le,i=s.child;if(s.tag===22&&r){var A=s.memoizedState!==null||Gd;if(!A){var a=s.alternate,o=a!==null&&a.memoizedState!==null||mn;a=Gd;var l=mn;if(Gd=A,(mn=o)&&!l)for(le=s;le!==null;)A=le,o=A.child,A.tag===22&&A.memoizedState!==null?n_(s):o!==null?(o.return=A,le=o):n_(s);for(;i!==null;)le=i,OU(i),i=i.sibling;le=s,Gd=a,mn=l}e_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,le=i):e_(t)}}function e_(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mn||eg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Er(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&LE(e,i,r);break;case 3:var A=e.updateQueue;if(A!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LE(e,A,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var o=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Hc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}mn||e.flags&512&&Sy(e)}catch(f){vt(e,e.return,f)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function t_(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function n_(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{eg(4,e)}catch(o){vt(e,n,o)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(o){vt(e,s,o)}}var i=e.return;try{Sy(e)}catch(o){vt(e,i,o)}break;case 5:var A=e.return;try{Sy(e)}catch(o){vt(e,A,o)}}}catch(o){vt(e,e.return,o)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var OP=Math.ceil,Tf=Ys.ReactCurrentDispatcher,Gw=Ys.ReactCurrentOwner,gr=Ys.ReactCurrentBatchConfig,Le=0,Kt=null,Qt=null,Zt=0,Wn=0,$a=AA(0),Pt=0,eu=null,$A=0,tg=0,Ww=0,yc=null,Dn=null,$w=0,To=1/0,Bs=null,Ff=!1,ky=null,Ni=null,Wd=!1,Bi=null,Uf=0,vc=0,Ry=null,Oh=-1,jh=0;function In(){return Le&6?_t():Oh!==-1?Oh:Oh=_t()}function ki(t){return t.mode&1?Le&2&&Zt!==0?Zt&-Zt:CP.transition!==null?(jh===0&&(jh=EF()),jh):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:SF(t.type)),t):1}function Sr(t,e,n,r){if(50<vc)throw vc=0,Ry=null,Error(q(185));Pu(t,n,r),(!(Le&2)||t!==Kt)&&(t===Kt&&(!(Le&2)&&(tg|=n),Pt===4&&fi(t,Zt)),jn(t,r),n===1&&Le===0&&!(e.mode&1)&&(To=_t()+500,Yp&&aA()))}function jn(t,e){var n=t.callbackNode;C4(t,e);var r=hf(t,t===Kt?Zt:0);if(r===0)n!==null&&uE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uE(n),e===1)t.tag===0?xP(r_.bind(null,t)):XF(r_.bind(null,t)),yP(function(){!(Le&6)&&aA()}),n=null;else{switch(_F(r)){case 1:n=ww;break;case 4:n=xF;break;case 16:n=df;break;case 536870912:n=CF;break;default:n=df}n=$U(n,jU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jU(t,e){if(Oh=-1,jh=0,Le&6)throw Error(q(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=hf(t,t===Kt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sf(t,r);else{e=r;var s=Le;Le|=2;var i=HU();(Kt!==t||Zt!==e)&&(Bs=null,To=_t()+500,PA(t,e));do try{HP();break}catch(a){VU(t,a)}while(!0);Nw(),Tf.current=i,Le=s,Qt!==null?e=0:(Kt=null,Zt=0,e=Pt)}if(e!==0){if(e===2&&(s=oy(t),s!==0&&(r=s,e=Dy(t,s))),e===1)throw n=eu,PA(t,0),fi(t,r),jn(t,_t()),n;if(e===6)fi(t,r);else{if(s=t.current.alternate,!(r&30)&&!jP(s)&&(e=Sf(t,r),e===2&&(i=oy(t),i!==0&&(r=i,e=Dy(t,i))),e===1))throw n=eu,PA(t,0),fi(t,r),jn(t,_t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:EA(t,Dn,Bs);break;case 3:if(fi(t,r),(r&130023424)===r&&(e=$w+500-_t(),10<e)){if(hf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){In(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gy(EA.bind(null,t,Dn,Bs),e);break}EA(t,Dn,Bs);break;case 4:if(fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var A=31-Ur(r);i=1<<A,A=e[A],A>s&&(s=A),r&=~i}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OP(r/1960))-r,10<r){t.timeoutHandle=gy(EA.bind(null,t,Dn,Bs),r);break}EA(t,Dn,Bs);break;case 5:EA(t,Dn,Bs);break;default:throw Error(q(329))}}}return jn(t,_t()),t.callbackNode===n?jU.bind(null,t):null}function Dy(t,e){var n=yc;return t.current.memoizedState.isDehydrated&&(PA(t,e).flags|=256),t=Sf(t,e),t!==2&&(e=Dn,Dn=n,e!==null&&Py(e)),t}function Py(t){Dn===null?Dn=t:Dn.push.apply(Dn,t)}function jP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fi(t,e){for(e&=~Ww,e&=~tg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ur(e),r=1<<n;t[n]=-1,e&=~r}}function r_(t){if(Le&6)throw Error(q(327));co();var e=hf(t,0);if(!(e&1))return jn(t,_t()),null;var n=Sf(t,e);if(t.tag!==0&&n===2){var r=oy(t);r!==0&&(e=r,n=Dy(t,r))}if(n===1)throw n=eu,PA(t,0),fi(t,e),jn(t,_t()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,EA(t,Dn,Bs),jn(t,_t()),null}function qw(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(To=_t()+500,Yp&&aA())}}function qA(t){Bi!==null&&Bi.tag===0&&!(Le&6)&&co();var e=Le;Le|=1;var n=gr.transition,r=Ge;try{if(gr.transition=null,Ge=1,t)return t()}finally{Ge=r,gr.transition=n,Le=e,!(Le&6)&&aA()}}function Xw(){Wn=$a.current,st($a)}function PA(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mP(n)),Qt!==null)for(n=Qt.return;n!==null;){var r=n;switch(Uw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yf();break;case 3:bo(),st(Mn),st(vn),Mw();break;case 5:Lw(r);break;case 4:bo();break;case 13:st(ut);break;case 19:st(ut);break;case 10:kw(r.type._context);break;case 22:case 23:Xw()}n=n.return}if(Kt=t,Qt=t=Ri(t.current,null),Zt=Wn=e,Pt=0,eu=null,Ww=tg=$A=0,Dn=yc=null,SA!==null){for(e=0;e<SA.length;e++)if(n=SA[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var A=i.next;i.next=s,r.next=A}n.pending=r}SA=null}return t}function VU(t,e){do{var n=Qt;try{if(Nw(),Ph.current=If,bf){for(var r=ht.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bf=!1}if(WA=0,Vt=Rt=ht=null,gc=!1,Yc=0,Gw.current=null,n===null||n.return===null){Pt=1,eu=e,Qt=null;break}e:{var i=t,A=n.return,a=n,o=e;if(e=Zt,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var l=o,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=KE(A);if(g!==null){g.flags&=-257,zE(g,A,a,i,e),g.mode&1&&HE(i,l,e),e=g,o=l;var m=e.updateQueue;if(m===null){var y=new Set;y.add(o),e.updateQueue=y}else m.add(o);break e}else{if(!(e&1)){HE(i,l,e),Yw();break e}o=Error(q(426))}}else if(ot&&a.mode&1){var C=KE(A);if(C!==null){!(C.flags&65536)&&(C.flags|=256),zE(C,A,a,i,e),Sw(Io(o,a));break e}}i=o=Io(o,a),Pt!==4&&(Pt=2),yc===null?yc=[i]:yc.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var B=_U(i,o,e);PE(i,B);break e;case 1:a=o;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ni===null||!Ni.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var F=bU(i,a,e);PE(i,F);break e}}i=i.return}while(i!==null)}zU(n)}catch(N){e=N,Qt===n&&n!==null&&(Qt=n=n.return);continue}break}while(!0)}function HU(){var t=Tf.current;return Tf.current=If,t===null?If:t}function Yw(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Kt===null||!($A&268435455)&&!(tg&268435455)||fi(Kt,Zt)}function Sf(t,e){var n=Le;Le|=2;var r=HU();(Kt!==t||Zt!==e)&&(Bs=null,PA(t,e));do try{VP();break}catch(s){VU(t,s)}while(!0);if(Nw(),Le=n,Tf.current=r,Qt!==null)throw Error(q(261));return Kt=null,Zt=0,Pt}function VP(){for(;Qt!==null;)KU(Qt)}function HP(){for(;Qt!==null&&!f4();)KU(Qt)}function KU(t){var e=WU(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?zU(t):Qt=e,Gw.current=null}function zU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DP(n,e),n!==null){n.flags&=32767,Qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,Qt=null;return}}else if(n=RP(n,e,Wn),n!==null){Qt=n;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);Pt===0&&(Pt=5)}function EA(t,e,n){var r=Ge,s=gr.transition;try{gr.transition=null,Ge=1,KP(t,e,n,r)}finally{gr.transition=s,Ge=r}return null}function KP(t,e,n,r){do co();while(Bi!==null);if(Le&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(E4(t,i),t===Kt&&(Qt=Kt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wd||(Wd=!0,$U(df,function(){return co(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gr.transition,gr.transition=null;var A=Ge;Ge=1;var a=Le;Le|=4,Gw.current=null,LP(t,n),MU(n,t),cP(fy),ff=!!hy,fy=hy=null,t.current=n,MP(n),p4(),Le=a,Ge=A,gr.transition=i}else t.current=n;if(Wd&&(Wd=!1,Bi=t,Uf=s),i=t.pendingLanes,i===0&&(Ni=null),y4(n.stateNode),jn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ff)throw Ff=!1,t=ky,ky=null,t;return Uf&1&&t.tag!==0&&co(),i=t.pendingLanes,i&1?t===Ry?vc++:(vc=0,Ry=t):vc=0,aA(),null}function co(){if(Bi!==null){var t=_F(Uf),e=gr.transition,n=Ge;try{if(gr.transition=null,Ge=16>t?16:t,Bi===null)var r=!1;else{if(t=Bi,Bi=null,Uf=0,Le&6)throw Error(q(331));var s=Le;for(Le|=4,le=t.current;le!==null;){var i=le,A=i.child;if(le.flags&16){var a=i.deletions;if(a!==null){for(var o=0;o<a.length;o++){var l=a[o];for(le=l;le!==null;){var u=le;switch(u.tag){case 0:case 11:case 15:mc(8,u,i)}var h=u.child;if(h!==null)h.return=u,le=h;else for(;le!==null;){u=le;var f=u.sibling,g=u.return;if(DU(u),u===l){le=null;break}if(f!==null){f.return=g,le=f;break}le=g}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}le=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,le=A;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mc(9,i,i.return)}var B=i.sibling;if(B!==null){B.return=i.return,le=B;break e}le=i.return}}var v=t.current;for(le=v;le!==null;){A=le;var w=A.child;if(A.subtreeFlags&2064&&w!==null)w.return=A,le=w;else e:for(A=v;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:eg(9,a)}}catch(N){vt(a,a.return,N)}if(a===A){le=null;break e}var F=a.sibling;if(F!==null){F.return=a.return,le=F;break e}le=a.return}}if(Le=s,aA(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Gp,t)}catch{}r=!0}return r}finally{Ge=n,gr.transition=e}}return!1}function s_(t,e,n){e=Io(n,e),e=_U(t,e,1),t=Qi(t,e,1),e=In(),t!==null&&(Pu(t,1,e),jn(t,e))}function vt(t,e,n){if(t.tag===3)s_(t,t,n);else for(;e!==null;){if(e.tag===3){s_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){t=Io(n,t),t=bU(e,t,1),e=Qi(e,t,1),t=In(),e!==null&&(Pu(e,1,t),jn(e,t));break}}e=e.return}}function zP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=In(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(Zt&n)===n&&(Pt===4||Pt===3&&(Zt&130023424)===Zt&&500>_t()-$w?PA(t,0):Ww|=n),jn(t,e)}function GU(t,e){e===0&&(t.mode&1?(e=Pd,Pd<<=1,!(Pd&130023424)&&(Pd=4194304)):e=1);var n=In();t=Ps(t,e),t!==null&&(Pu(t,e,n),jn(t,n))}function GP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GU(t,n)}function WP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),GU(t,n)}var WU;WU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,kP(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,ot&&e.flags&1048576&&YF(e,Bf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mh(t,e),t=e.pendingProps;var s=Co(e,vn.current);lo(e,n),s=jw(null,e,r,t,s,n);var i=Vw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(r)?(i=!0,vf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dw(e),s.updater=Zp,e.stateNode=s,s._reactInternals=e,Cy(e,r,t,n),e=by(null,e,r,!0,i,n)):(e.tag=0,ot&&i&&Fw(e),En(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=qP(r),t=Er(r,t),s){case 0:e=_y(null,e,r,t,n);break e;case 1:e=$E(null,e,r,t,n);break e;case 11:e=GE(null,e,r,t,n);break e;case 14:e=WE(null,e,r,Er(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),_y(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),$E(t,e,r,s,n);case 3:e:{if(UU(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,rU(t,e),Ef(e,r,null,n);var A=e.memoizedState;if(r=A.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Io(Error(q(423)),e),e=qE(t,e,r,n,s);break e}else if(r!==s){s=Io(Error(q(424)),e),e=qE(t,e,r,n,s);break e}else for($n=Si(e.stateNode.containerInfo.firstChild),Xn=e,ot=!0,br=null,n=tU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===s){e=Ls(t,e,n);break e}En(t,e,r,n)}e=e.child}return e;case 5:return sU(e),t===null&&wy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,py(r,s)?A=null:i!==null&&py(r,i)&&(e.flags|=32),FU(t,e),En(t,e,A,n),e.child;case 6:return t===null&&wy(e),null;case 13:return SU(t,e,n);case 4:return Pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):En(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),GE(t,e,r,s,n);case 7:return En(t,e,e.pendingProps,n),e.child;case 8:return En(t,e,e.pendingProps.children,n),e.child;case 12:return En(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,Ze(xf,r._currentValue),r._currentValue=A,i!==null)if(Nr(i.value,A)){if(i.children===s.children&&!Mn.current){e=Ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){A=i.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(i.tag===1){o=Us(-1,n&-n),o.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?o.next=o:(o.next=u.next,u.next=o),l.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),By(i.return,n,e),a.lanes|=n;break}o=o.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(q(341));A.lanes|=n,a=A.alternate,a!==null&&(a.lanes|=n),By(A,n,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}En(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,lo(e,n),s=yr(s),r=r(s),e.flags|=1,En(t,e,r,n),e.child;case 14:return r=e.type,s=Er(r,e.pendingProps),s=Er(r.type,s),WE(t,e,r,s,n);case 15:return IU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Er(r,s),Mh(t,e),e.tag=1,On(r)?(t=!0,vf(e)):t=!1,lo(e,n),EU(e,r,s),Cy(e,r,s,n),by(null,e,r,!0,t,n);case 19:return QU(t,e,n);case 22:return TU(t,e,n)}throw Error(q(156,e.tag))};function $U(t,e){return BF(t,e)}function $P(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,n,r){return new $P(t,e,n,r)}function Jw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qP(t){if(typeof t=="function")return Jw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mw)return 11;if(t===yw)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vh(t,e,n,r,s,i){var A=2;if(r=t,typeof t=="function")Jw(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case La:return LA(n.children,s,i,e);case gw:A=8,s|=8;break;case W0:return t=hr(12,n,e,s|2),t.elementType=W0,t.lanes=i,t;case $0:return t=hr(13,n,e,s),t.elementType=$0,t.lanes=i,t;case q0:return t=hr(19,n,e,s),t.elementType=q0,t.lanes=i,t;case sF:return ng(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nF:A=10;break e;case rF:A=9;break e;case mw:A=11;break e;case yw:A=14;break e;case ci:A=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=hr(A,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function LA(t,e,n,r){return t=hr(7,t,r,e),t.lanes=n,t}function ng(t,e,n,r){return t=hr(22,t,r,e),t.elementType=sF,t.lanes=n,t.stateNode={isHidden:!1},t}function Vm(t,e,n){return t=hr(6,t,null,e),t.lanes=n,t}function Hm(t,e,n){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zw(t,e,n,r,s,i,A,a,o){return t=new XP(t,e,n,a,o),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dw(i),t}function YP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qU(t){if(!t)return Ki;t=t._reactInternals;e:{if(aa(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(On(n))return qF(t,n,e)}return e}function XU(t,e,n,r,s,i,A,a,o){return t=Zw(n,r,!0,t,s,i,A,a,o),t.context=qU(null),n=t.current,r=In(),s=ki(n),i=Us(r,s),i.callback=e??null,Qi(n,i,s),t.current.lanes=s,Pu(t,s,r),jn(t,r),t}function rg(t,e,n,r){var s=e.current,i=In(),A=ki(s);return n=qU(n),e.context===null?e.context=n:e.pendingContext=n,e=Us(i,A),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qi(s,e,A),t!==null&&(Sr(t,s,A,i),Dh(t,s,A)),A}function Qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function i_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function eB(t,e){i_(t,e),(t=t.alternate)&&i_(t,e)}function JP(){return null}var YU=typeof reportError=="function"?reportError:function(t){console.error(t)};function tB(t){this._internalRoot=t}sg.prototype.render=tB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));rg(t,e,null,null)};sg.prototype.unmount=tB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qA(function(){rg(null,t,null,null)}),e[Ds]=null}};function sg(t){this._internalRoot=t}sg.prototype.unstable_scheduleHydration=function(t){if(t){var e=TF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&UF(t)}};function nB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A_(){}function ZP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=Qf(A);i.call(l)}}var A=XU(e,r,t,0,null,!1,!1,"",A_);return t._reactRootContainer=A,t[Ds]=A.current,Gc(t.nodeType===8?t.parentNode:t),qA(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=Qf(o);a.call(l)}}var o=Zw(t,0,!1,null,null,!1,!1,"",A_);return t._reactRootContainer=o,t[Ds]=o.current,Gc(t.nodeType===8?t.parentNode:t),qA(function(){rg(e,o,n,r)}),o}function Ag(t,e,n,r,s){var i=n._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var a=s;s=function(){var o=Qf(A);a.call(o)}}rg(e,A,t,s)}else A=ZP(n,e,t,s,r);return Qf(A)}bF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kl(e.pendingLanes);n!==0&&(Bw(e,n|1),jn(e,_t()),!(Le&6)&&(To=_t()+500,aA()))}break;case 13:qA(function(){var r=Ps(t,1);if(r!==null){var s=In();Sr(r,t,1,s)}}),eB(t,1)}};xw=function(t){if(t.tag===13){var e=Ps(t,134217728);if(e!==null){var n=In();Sr(e,t,134217728,n)}eB(t,134217728)}};IF=function(t){if(t.tag===13){var e=ki(t),n=Ps(t,e);if(n!==null){var r=In();Sr(n,t,e,r)}eB(t,e)}};TF=function(){return Ge};FF=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};iy=function(t,e,n){switch(e){case"input":if(J0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xp(r);if(!s)throw Error(q(90));AF(r),J0(r,s)}}}break;case"textarea":oF(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};pF=qw;gF=qA;var eL={usingClientEntryPoint:!1,Events:[Mu,Va,Xp,hF,fF,qw]},Ul={findFiberByHostInstance:UA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tL={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vF(t),t===null?null:t.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||JP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Gp=$d.inject(tL),Xr=$d}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eL;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nB(e))throw Error(q(200));return YP(t,e,null,n)};rr.createRoot=function(t,e){if(!nB(t))throw Error(q(299));var n=!1,r="",s=YU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zw(t,1,!1,null,null,n,!1,r,s),t[Ds]=e.current,Gc(t.nodeType===8?t.parentNode:t),new tB(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=vF(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return qA(t)};rr.hydrate=function(t,e,n){if(!ig(e))throw Error(q(200));return Ag(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!nB(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",A=YU;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),e=XU(e,null,t,1,n??null,s,!1,i,A),t[Ds]=e.current,Gc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new sg(e)};rr.render=function(t,e,n){if(!ig(e))throw Error(q(200));return Ag(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!ig(t))throw Error(q(40));return t._reactRootContainer?(qA(function(){Ag(null,null,t,!1,function(){t._reactRootContainer=null,t[Ds]=null})}),!0):!1};rr.unstable_batchedUpdates=qw;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ig(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Ag(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function JU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JU)}catch(t){console.error(t)}}JU(),JT.exports=rr;var ZU=JT.exports;const nL=OT(ZU);var rB,a_=ZU;rB=a_.createRoot,a_.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const o_="popstate";function rL(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:A,hash:a}=r.location;return Ly("",{pathname:i,search:A,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Nf(s)}return iL(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sL(){return Math.random().toString(36).substr(2,8)}function l_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ly(t,e,n,r){return n===void 0&&(n=null),tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:n,key:e&&e.key||r||sL()})}function Nf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,A=s.history,a=xi.Pop,o=null,l=u();l==null&&(l=0,A.replaceState(tu({},A.state,{idx:l}),""));function u(){return(A.state||{idx:null}).idx}function h(){a=xi.Pop;let C=u(),B=C==null?null:C-l;l=C,o&&o({action:a,location:y.location,delta:B})}function f(C,B){a=xi.Push;let v=Ly(y.location,C,B);l=u()+1;let w=l_(v,l),F=y.createHref(v);try{A.pushState(w,"",F)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(F)}i&&o&&o({action:a,location:y.location,delta:1})}function g(C,B){a=xi.Replace;let v=Ly(y.location,C,B);l=u();let w=l_(v,l),F=y.createHref(v);A.replaceState(w,"",F),i&&o&&o({action:a,location:y.location,delta:0})}function m(C){let B=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof C=="string"?C:Nf(C);return v=v.replace(/ $/,"%20"),bt(B,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,B)}let y={get action(){return a},get location(){return t(s,A)},listen(C){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(o_,h),o=C,()=>{s.removeEventListener(o_,h),o=null}},createHref(C){return e(s,C)},createURL:m,encodeLocation(C){let B=m(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:f,replace:g,go(C){return A.go(C)}};return y}var c_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(c_||(c_={}));function AL(t,e,n){return n===void 0&&(n="/"),aL(t,e,n,!1)}function aL(t,e,n,r){let s=typeof e=="string"?qo(e):e,i=sB(s.pathname||"/",n);if(i==null)return null;let A=tS(t);oL(A);let a=null;for(let o=0;a==null&&o<A.length;++o){let l=vL(i);a=mL(A[o],l,r)}return a}function tS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,A,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:A,route:i};o.relativePath.startsWith("/")&&(bt(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let l=Di([r,o.relativePath]),u=n.concat(o);i.children&&i.children.length>0&&(bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),tS(i.children,e,u,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:pL(l,i.index),routesMeta:u})};return t.forEach((i,A)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,A);else for(let o of nS(i.path))s(i,A,o)}),e}function nS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let A=nS(r.join("/")),a=[];return a.push(...A.map(o=>o===""?i:[i,o].join("/"))),s&&a.push(...A),a.map(o=>t.startsWith("/")&&o===""?"/":o)}function oL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lL=/^:[\w-]+$/,cL=3,uL=2,dL=1,hL=10,fL=-2,u_=t=>t==="*";function pL(t,e){let n=t.split("/"),r=n.length;return n.some(u_)&&(r+=fL),e&&(r+=uL),n.filter(s=>!u_(s)).reduce((s,i)=>s+(lL.test(i)?cL:i===""?dL:hL),r)}function gL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function mL(t,e,n){let{routesMeta:r}=t,s={},i="/",A=[];for(let a=0;a<r.length;++a){let o=r[a],l=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=d_({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u),f=o.route;if(!h&&l&&n&&!r[r.length-1].route.index&&(h=d_({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),A.push({params:s,pathname:Di([i,h.pathname]),pathnameBase:CL(Di([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Di([i,h.pathnameBase]))}return A}function d_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=yL(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],A=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,h)=>{let{paramName:f,isOptional:g}=u;if(f==="*"){let y=a[h]||"";A=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[h];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:A,pattern:t}}function yL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),eS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(A,a,o)=>(r.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function vL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sB(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:BL(n,e):e,search:EL(r),hash:_L(s)}}function BL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Km(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iB(t,e){let n=xL(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function AB(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=qo(t):(s=tu({},t),bt(!s.pathname||!s.pathname.includes("?"),Km("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Km("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Km("#","search","hash",s)));let i=t===""||s.pathname==="",A=i?"/":s.pathname,a;if(A==null)a=n;else{let h=e.length-1;if(!r&&A.startsWith("..")){let f=A.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let o=wL(s,a),l=A&&A!=="/"&&A.endsWith("/"),u=(i||A===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(l||u)&&(o.pathname+="/"),o}const Di=t=>t.join("/").replace(/\/\/+/g,"/"),CL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),EL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_L=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rS=["post","put","patch","delete"];new Set(rS);const IL=["get",...rS];new Set(IL);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}const aB=S.createContext(null),TL=S.createContext(null),oA=S.createContext(null),ag=S.createContext(null),Js=S.createContext({outlet:null,matches:[],isDataRoute:!1}),sS=S.createContext(null);function FL(t,e){let{relative:n}=e===void 0?{}:e;Xo()||bt(!1);let{basename:r,navigator:s}=S.useContext(oA),{hash:i,pathname:A,search:a}=AS(t,{relative:n}),o=A;return r!=="/"&&(o=A==="/"?r:Di([r,A])),s.createHref({pathname:o,search:a,hash:i})}function Xo(){return S.useContext(ag)!=null}function lA(){return Xo()||bt(!1),S.useContext(ag).location}function iS(t){S.useContext(oA).static||S.useLayoutEffect(t)}function Yo(){let{isDataRoute:t}=S.useContext(Js);return t?KL():UL()}function UL(){Xo()||bt(!1);let t=S.useContext(aB),{basename:e,future:n,navigator:r}=S.useContext(oA),{matches:s}=S.useContext(Js),{pathname:i}=lA(),A=JSON.stringify(iB(s,n.v7_relativeSplatPath)),a=S.useRef(!1);return iS(()=>{a.current=!0}),S.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=AB(l,JSON.parse(A),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Di([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,A,i,t])}const SL=S.createContext(null);function QL(t){let e=S.useContext(Js).outlet;return e&&S.createElement(SL.Provider,{value:t},e)}function AS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(oA),{matches:s}=S.useContext(Js),{pathname:i}=lA(),A=JSON.stringify(iB(s,r.v7_relativeSplatPath));return S.useMemo(()=>AB(t,JSON.parse(A),i,n==="path"),[t,A,i,n])}function NL(t,e){return kL(t,e)}function kL(t,e,n,r){Xo()||bt(!1);let{navigator:s,static:i}=S.useContext(oA),{matches:A}=S.useContext(Js),a=A[A.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=lA(),h;if(e){var f;let B=typeof e=="string"?qo(e):e;l==="/"||(f=B.pathname)!=null&&f.startsWith(l)||bt(!1),h=B}else h=u;let g=h.pathname||"/",m=g;if(l!=="/"){let B=l.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(B.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:AL(t,{pathname:m}),C=ML(y&&y.map(B=>Object.assign({},B,{params:Object.assign({},o,B.params),pathname:Di([l,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?l:Di([l,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),A,n,r);return e&&C?S.createElement(ag.Provider,{value:{location:nu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xi.Pop}},C):C}function RL(){let t=HL(),e=bL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:s},n):null,null)}const DL=S.createElement(RL,null);class PL extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Js.Provider,{value:this.props.routeContext},S.createElement(sS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LL(t){let{routeContext:e,match:n,children:r}=t,s=S.useContext(aB);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Js.Provider,{value:e},r)}function ML(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let A=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=A.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||bt(!1),A=A.slice(0,Math.min(A.length,u+1))}let o=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<A.length;u++){let h=A[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:g}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){o=!0,l>=0?A=A.slice(0,l+1):A=[A[0]];break}}}return A.reduceRight((u,h,f)=>{let g,m=!1,y=null,C=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||DL,o&&(l<0&&f===0?(m=!0,C=null):l===f&&(m=!0,C=h.route.hydrateFallbackElement||null)));let B=e.concat(A.slice(0,f+1)),v=()=>{let w;return g?w=y:m?w=C:h.route.Component?w=S.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,S.createElement(LL,{match:h,routeContext:{outlet:u,matches:B,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(PL,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:v(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):v()},null)}var aS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aS||{}),kf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kf||{});function OL(t){let e=S.useContext(aB);return e||bt(!1),e}function jL(t){let e=S.useContext(TL);return e||bt(!1),e}function VL(t){let e=S.useContext(Js);return e||bt(!1),e}function oS(t){let e=VL(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function HL(){var t;let e=S.useContext(sS),n=jL(kf.UseRouteError),r=oS(kf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KL(){let{router:t}=OL(aS.UseNavigateStable),e=oS(kf.UseNavigateStable),n=S.useRef(!1);return iS(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,nu({fromRouteId:e},i)))},[t,e])}function zL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function uo(t){let{to:e,replace:n,state:r,relative:s}=t;Xo()||bt(!1);let{future:i,static:A}=S.useContext(oA),{matches:a}=S.useContext(Js),{pathname:o}=lA(),l=Yo(),u=AB(e,iB(a,i.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(u);return S.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:s}),[l,h,s,n,r]),null}function lS(t){return QL(t.context)}function Ft(t){bt(!1)}function GL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xi.Pop,navigator:i,static:A=!1,future:a}=t;Xo()&&bt(!1);let o=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:o,navigator:i,static:A,future:nu({v7_relativeSplatPath:!1},a)}),[o,a,i,A]);typeof r=="string"&&(r=qo(r));let{pathname:u="/",search:h="",hash:f="",state:g=null,key:m="default"}=r,y=S.useMemo(()=>{let C=sB(u,o);return C==null?null:{location:{pathname:C,search:h,hash:f,state:g,key:m},navigationType:s}},[o,u,h,f,g,m,s]);return y==null?null:S.createElement(oA.Provider,{value:l},S.createElement(ag.Provider,{children:n,value:y}))}function cS(t){let{children:e,location:n}=t;return NL(My(e),n)}new Promise(()=>{});function My(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,s)=>{if(!S.isValidElement(r))return;let i=[...e,s];if(r.type===S.Fragment){n.push.apply(n,My(r.props.children,i));return}r.type!==Ft&&bt(!1),!r.props.index||!r.props.children||bt(!1);let A={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(A.children=My(r.props.children,i)),n.push(A)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function WL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $L(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qL(t,e){return t.button===0&&(!e||e==="_self")&&!$L(t)}const XL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YL="6";try{window.__reactRouterVersion=YL}catch{}const JL="startTransition",h_=zD[JL];function ZL(t){let{basename:e,children:n,future:r,window:s}=t,i=S.useRef();i.current==null&&(i.current=rL({window:s,v5Compat:!0}));let A=i.current,[a,o]=S.useState({action:A.action,location:A.location}),{v7_startTransition:l}=r||{},u=S.useCallback(h=>{l&&h_?h_(()=>o(h)):o(h)},[o,l]);return S.useLayoutEffect(()=>A.listen(u),[A,u]),S.useEffect(()=>zL(r),[r]),S.createElement(GL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:A,future:r})}const eM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ho=S.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:A,state:a,target:o,to:l,preventScrollReset:u,viewTransition:h}=e,f=WL(e,XL),{basename:g}=S.useContext(oA),m,y=!1;if(typeof l=="string"&&tM.test(l)&&(m=l,eM))try{let w=new URL(window.location.href),F=l.startsWith("//")?new URL(w.protocol+l):new URL(l),N=sB(F.pathname,g);F.origin===w.origin&&N!=null?l=N+F.search+F.hash:y=!0}catch{}let C=FL(l,{relative:s}),B=nM(l,{replace:A,state:a,target:o,preventScrollReset:u,relative:s,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||B(w)}return S.createElement("a",Oy({},f,{href:m||C,onClick:y||i?r:v,ref:n,target:o}))});var f_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(f_||(f_={}));var p_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(p_||(p_={}));function nM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:A,viewTransition:a}=e===void 0?{}:e,o=Yo(),l=lA(),u=AS(t,{relative:A});return S.useCallback(h=>{if(qL(h,n)){h.preventDefault();let f=r!==void 0?r:Nf(l)===Nf(u);o(t,{replace:f,state:s,preventScrollReset:i,relative:A,viewTransition:a})}},[l,o,u,r,s,n,t,i,A,a])}var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],A=t[n++],a=t[n++],o=((s&7)<<18|(i&63)<<12|(A&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(o&1023))}else{const i=t[n++],A=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|A&63)}}return e.join("")},dS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],A=s+1<t.length,a=A?t[s+1]:0,o=s+2<t.length,l=o?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,g=l&63;o||(g=64,A||(f=64)),r.push(n[u],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new sM;const f=i<<2|a>>4;if(r.push(f),l!==64){const g=a<<4&240|l>>2;if(r.push(g),h!==64){const m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iM=function(t){const e=uS(t);return dS.encodeByteArray(e,!0)},Rf=function(t){return iM(t).replace(/\./g,"")},hS=function(t){try{return dS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=()=>AM().__FIREBASE_DEFAULTS__,oM=()=>{if(typeof process>"u"||typeof g_>"u")return;const t=g_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hS(t[1]);return e&&JSON.parse(e)},og=()=>{try{return aM()||oM()||lM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fS=t=>{var e,n;return(n=(e=og())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oB=t=>{const e=fS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pS=()=>{var t;return(t=og())===null||t===void 0?void 0:t.config},gS=t=>{var e;return(e=og())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const A=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rf(JSON.stringify(n)),Rf(JSON.stringify(A)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function dM(){var t;const e=(t=og())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gM(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mM(){return!dM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yM(){try{return typeof indexedDB=="object"}catch{return!1}}function vM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wM,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],A=i?BM(i,r):"Error",a=`${this.serviceName}: ${A} (${s}).`;return new Pr(s,a,r)}}function BM(t,e){return t.replace(xM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xM=/\{\$([^}]+)}/g;function CM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Df(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],A=e[s];if(m_(i)&&m_(A)){if(!Df(i,A))return!1}else if(i!==A)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function m_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EM(t,e){const n=new _M(t,e);return n.subscribe.bind(n)}class _M{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zm),s.error===void 0&&(s.error=zm),s.complete===void 0&&(s.complete=zm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FM(e))try{this.getOrInitializeService({instanceIdentifier:_A})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_A){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_A){return this.instances.has(e)}getOptions(e=_A){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,A]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&A.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const A=this.instances.get(s);return A&&e(A,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_A){return this.component?this.component.multipleInstances?e:_A:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TM(t){return t===_A?void 0:t}function FM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const SM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},QM=ke.INFO,NM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},kM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=NM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let lB=class{constructor(e){this.name=e,this._logLevel=QM,this._logHandler=kM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};const RM=(t,e)=>e.some(n=>t instanceof n);let y_,v_;function DM(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PM(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yS=new WeakMap,jy=new WeakMap,vS=new WeakMap,Gm=new WeakMap,cB=new WeakMap;function LM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",A)},i=()=>{n(Pi(t.result)),s()},A=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",A)});return e.then(n=>{n instanceof IDBCursor&&yS.set(n,t)}).catch(()=>{}),cB.set(e,t),e}function MM(t){if(jy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",A),t.removeEventListener("abort",A)},i=()=>{n(),s()},A=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",A),t.addEventListener("abort",A)});jy.set(t,e)}let Vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OM(t){Vy=t(Vy)}function jM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wm(this),e,...n);return vS.set(r,e.sort?e.sort():[e]),Pi(r)}:PM().includes(t)?function(...e){return t.apply(Wm(this),e),Pi(yS.get(this))}:function(...e){return Pi(t.apply(Wm(this),e))}}function VM(t){return typeof t=="function"?jM(t):(t instanceof IDBTransaction&&MM(t),RM(t,DM())?new Proxy(t,Vy):t)}function Pi(t){if(t instanceof IDBRequest)return LM(t);if(Gm.has(t))return Gm.get(t);const e=VM(t);return e!==t&&(Gm.set(t,e),cB.set(e,t)),e}const Wm=t=>cB.get(t);function HM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const A=indexedDB.open(t,e),a=Pi(A);return r&&A.addEventListener("upgradeneeded",o=>{r(Pi(A.result),o.oldVersion,o.newVersion,Pi(A.transaction),o)}),n&&A.addEventListener("blocked",o=>n(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),s&&o.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const KM=["get","getKey","getAll","getAllKeys","count"],zM=["put","add","delete","clear"],$m=new Map;function w_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=zM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||KM.includes(n)))return;const i=async function(A,...a){const o=this.transaction(A,s?"readwrite":"readonly");let l=o.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&o.done]))[0]};return $m.set(e,i),i}OM(t=>({...t,get:(e,n,r)=>w_(e,n)||t.get(e,n,r),has:(e,n)=>!!w_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hy="@firebase/app",B_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new lB("@firebase/app"),$M="@firebase/app-compat",qM="@firebase/analytics-compat",XM="@firebase/analytics",YM="@firebase/app-check-compat",JM="@firebase/app-check",ZM="@firebase/auth",eO="@firebase/auth-compat",tO="@firebase/database",nO="@firebase/data-connect",rO="@firebase/database-compat",sO="@firebase/functions",iO="@firebase/functions-compat",AO="@firebase/installations",aO="@firebase/installations-compat",oO="@firebase/messaging",lO="@firebase/messaging-compat",cO="@firebase/performance",uO="@firebase/performance-compat",dO="@firebase/remote-config",hO="@firebase/remote-config-compat",fO="@firebase/storage",pO="@firebase/storage-compat",gO="@firebase/firestore",mO="@firebase/vertexai-preview",yO="@firebase/firestore-compat",vO="firebase",wO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="[DEFAULT]",BO={[Hy]:"fire-core",[$M]:"fire-core-compat",[XM]:"fire-analytics",[qM]:"fire-analytics-compat",[JM]:"fire-app-check",[YM]:"fire-app-check-compat",[ZM]:"fire-auth",[eO]:"fire-auth-compat",[tO]:"fire-rtdb",[nO]:"fire-data-connect",[rO]:"fire-rtdb-compat",[sO]:"fire-fn",[iO]:"fire-fn-compat",[AO]:"fire-iid",[aO]:"fire-iid-compat",[oO]:"fire-fcm",[lO]:"fire-fcm-compat",[cO]:"fire-perf",[uO]:"fire-perf-compat",[dO]:"fire-rc",[hO]:"fire-rc-compat",[fO]:"fire-gcs",[pO]:"fire-gcs-compat",[gO]:"fire-fst",[yO]:"fire-fst-compat",[mO]:"fire-vertex","fire-js":"fire-js",[vO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,xO=new Map,zy=new Map;function x_(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){const e=t.name;if(zy.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;zy.set(e,t);for(const n of Pf.values())x_(n,t);for(const n of xO.values())x_(n,t);return!0}function Hu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new ju("app","Firebase",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=wO;function wS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ky,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Li.create("bad-app-name",{appName:String(s)});if(n||(n=pS()),!n)throw Li.create("no-options");const i=Pf.get(s);if(i){if(Df(n,i.options)&&Df(r,i.config))return i;throw Li.create("duplicate-app",{appName:s})}const A=new UM(s);for(const o of zy.values())A.addComponent(o);const a=new EO(n,r,A);return Pf.set(s,a),a}function lg(t=Ky){const e=Pf.get(t);if(!e&&t===Ky&&pS())return wS();if(!e)throw Li.create("no-app",{appName:t});return e}function mr(t,e,n){var r;let s=(r=BO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),A=e.match(/\s|\//);if(i||A){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&A&&a.push("and"),A&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(a.join(" "));return}zi(new Ms(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="firebase-heartbeat-database",bO=1,ru="firebase-heartbeat-store";let qm=null;function BS(){return qm||(qm=HM(_O,bO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),qm}async function IO(t){try{const n=(await BS()).transaction(ru),r=await n.objectStore(ru).get(xS(t));return await n.done,r}catch(e){if(e instanceof Pr)Os.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(n.message)}}}async function C_(t,e){try{const r=(await BS()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,xS(t)),await r.done}catch(n){if(n instanceof Pr)Os.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Os.warn(r.message)}}}function xS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=1024,FO=30*24*60*60*1e3;class UO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=E_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(A=>A.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(A=>{const a=new Date(A.date).valueOf();return Date.now()-a<=FO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E_(),{heartbeatsToSend:r,unsentEntries:s}=SO(this._heartbeatsCache.heartbeats),i=Rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Os.warn(n),""}}}function E_(){return new Date().toISOString().substring(0,10)}function SO(t,e=TO){const n=[];let r=t.slice();for(const s of t){const i=n.find(A=>A.agent===s.agent);if(i){if(i.dates.push(s.date),__(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),__(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yM()?vM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return C_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function __(t){return Rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){zi(new Ms("platform-logger",e=>new GM(e),"PRIVATE")),zi(new Ms("heartbeat",e=>new UO(e),"PRIVATE")),mr(Hy,B_,t),mr(Hy,B_,"esm2017"),mr("fire-js","")}NO("");var kO="firebase",RO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(kO,RO,"app");function uB(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function CS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DO=CS,ES=new ju("auth","Firebase",CS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new lB("@firebase/auth");function PO(t,...e){Lf.logLevel<=ke.WARN&&Lf.warn(`Auth (${oa}): ${t}`,...e)}function Hh(t,...e){Lf.logLevel<=ke.ERROR&&Lf.error(`Auth (${oa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw dB(t,...e)}function Jr(t,...e){return dB(t,...e)}function _S(t,e,n){const r=Object.assign(Object.assign({},DO()),{[e]:n});return new ju("auth","Firebase",r).create(e,{appName:t.name})}function Mi(t){return _S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dB(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ES.create(t,...e)}function xe(t,e,...n){if(!t)throw dB(e,...n)}function Is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hh(e),new Error(e)}function js(t,e){t||Is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LO(){return b_()==="http:"||b_()==="https:"}function b_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LO()||fM()||"connection"in navigator)?navigator.onLine:!0}function OO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.shortDelay=e,this.longDelay=n,js(n>e,"Short delay should be less than long delay!"),this.isMobile=uM()||pM()}get(){return MO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t,e){js(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Ku(3e4,6e4);function cA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lr(t,e,n,r,s={}){return IS(t,s,async()=>{let i={},A={};r&&(e==="GET"?A=r:i={body:JSON.stringify(r)});const a=Vu(Object.assign({key:t.config.apiKey},A)).slice(1),o=await t._getAdditionalHeaders();o["Content-Type"]="application/json",t.languageCode&&(o["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:o},i);return hM()||(l.referrerPolicy="no-referrer"),bS.fetch()(TS(t,t.config.apiHost,n,a),l)})}async function IS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jO),e);try{const s=new KO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const A=await i.json();if("needConfirmation"in A)throw qd(t,"account-exists-with-different-credential",A);if(i.ok&&!("errorMessage"in A))return A;{const a=i.ok?A.errorMessage:A.error.message,[o,l]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(t,"credential-already-in-use",A);if(o==="EMAIL_EXISTS")throw qd(t,"email-already-in-use",A);if(o==="USER_DISABLED")throw qd(t,"user-disabled",A);const u=r[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _S(t,u,l);kr(t,u)}}catch(s){if(s instanceof Pr)throw s;kr(t,"network-request-failed",{message:String(s)})}}async function cg(t,e,n,r,s={}){const i=await Lr(t,e,n,r,s);return"mfaPendingCredential"in i&&kr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function TS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?hB(t.config,s):`${t.config.apiScheme}://${s}`}function HO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),VO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Jr(t,e,r);return s.customData._tokenResponse=n,s}function I_(t){return t!==void 0&&t.enterprise!==void 0}class zO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function GO(t,e){return Lr(t,"GET","/v2/recaptchaConfig",cA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return Lr(t,"POST","/v1/accounts:delete",e)}async function FS(t,e){return Lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $O(t,e=!1){const n=et(t),r=await n.getIdToken(e),s=fB(r);xe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,A=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:wc(Xm(s.auth_time)),issuedAtTime:wc(Xm(s.iat)),expirationTime:wc(Xm(s.exp)),signInProvider:A||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Xm(t){return Number(t)*1e3}function fB(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=hS(n);return s?JSON.parse(s):(Hh("Failed to decode base64 JWT payload"),null)}catch(s){return Hh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function T_(t){const e=fB(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&qO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await XA(t,FS(n,{idToken:r}));xe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const A=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?US(i.providerUserInfo):[],a=JO(t.providerData,A),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Wy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function YO(t){const e=et(t);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function US(t){return t.map(e=>{var{providerId:n}=e,r=uB(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){const n=await IS(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,A=TS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bS.fetch()(A,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ej(t,e){return Lr(t,"POST","/v2/accounts:revokeToken",cA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=T_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ZO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,A=new fo;return r&&(xe(typeof r=="string","internal-error",{appName:e}),A.refreshToken=r),s&&(xe(typeof s=="string","internal-error",{appName:e}),A.accessToken=s),i&&(xe(typeof i=="number","internal-error",{appName:e}),A.expirationTime=i),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ts{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=uB(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await XA(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $O(this,e)}reload(){return YO(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bs(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await XA(this,WO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,A,a,o,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(A=n.photoURL)!==null&&A!==void 0?A:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(o=n._redirectEventId)!==null&&o!==void 0?o:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:F,isAnonymous:N,providerData:k,stsTokenManager:I}=n;xe(w&&I,e,"internal-error");const E=fo.fromJSON(this.name,I);xe(typeof w=="string",e,"internal-error"),ii(h,e.name),ii(f,e.name),xe(typeof F=="boolean",e,"internal-error"),xe(typeof N=="boolean",e,"internal-error"),ii(g,e.name),ii(m,e.name),ii(y,e.name),ii(C,e.name),ii(B,e.name),ii(v,e.name);const b=new Ts({uid:w,auth:e,email:f,emailVerified:F,displayName:h,isAnonymous:N,photoURL:m,phoneNumber:g,tenantId:y,stsTokenManager:E,createdAt:B,lastLoginAt:v});return k&&Array.isArray(k)&&(b.providerData=k.map(_=>Object.assign({},_))),C&&(b._redirectEventId=C),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new fo;s.updateFromServerResponse(n);const i=new Ts({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Mf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];xe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?US(s.providerUserInfo):[],A=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new fo;a.updateFromIdToken(r);const o=new Ts({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:A}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function Fs(t){js(t instanceof Function,"Expected a class definition");let e=F_.get(t);return e?(js(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SS.type="NONE";const U_=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Kh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Kh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(Fs(U_),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Fs(U_);const A=Kh(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(A);if(u){const h=Ts._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const o=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new po(i,e,r):(i=o[0],a&&await i._set(A,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(A)}catch{}})),new po(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PS(e))return"Blackberry";if(LS(e))return"Webos";if(NS(e))return"Safari";if((e.includes("chrome/")||kS(e))&&!e.includes("edge/"))return"Chrome";if(DS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QS(t=wn()){return/firefox\//i.test(t)}function NS(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kS(t=wn()){return/crios\//i.test(t)}function RS(t=wn()){return/iemobile/i.test(t)}function DS(t=wn()){return/android/i.test(t)}function PS(t=wn()){return/blackberry/i.test(t)}function LS(t=wn()){return/webos/i.test(t)}function pB(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tj(t=wn()){var e;return pB(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nj(){return gM()&&document.documentMode===10}function MS(t=wn()){return pB(t)||DS(t)||LS(t)||PS(t)||/windows phone/i.test(t)||RS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e=[]){let n;switch(t){case"Browser":n=S_(wn());break;case"Worker":n=`${S_(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((A,a)=>{try{const o=e(i);A(o)}catch(o){a(o)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",cA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=6;class Aj{constructor(e){var n,r,s,i;const A=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=A.minPasswordLength)!==null&&n!==void 0?n:ij,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),A.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),A.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),A.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),A.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,A,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(n=o.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(r=o.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),o.isValid&&(o.isValid=(s=o.containsLowercaseLetter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(A=o.containsNumericCharacter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q_(this),this.idTokenSubscription=new Q_(this),this.beforeStateQueue=new rj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await FS(this,{idToken:e}),r=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bs(this.app)){const A=this.app.settings.authIdToken;return A?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(A).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const A=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,o=await this.tryRedirectSignIn(e);(!A||A===a)&&(o!=null&&o.user)&&(s=o.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(A){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(A))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bs(this.app))return Promise.reject(Mi(this));const n=e?et(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bs(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bs(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sj(this),n=new Aj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ej(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fs(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let A=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(a,this,"internal-error"),a.then(()=>{A||i(this.currentUser)}),typeof n=="function"){const o=e.addObserver(n,r,s);return()=>{A=!0,o()}}else{const o=e.addObserver(n);return()=>{A=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Jo(t){return et(t)}class Q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=EM(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oj(t){ug=t}function jS(t){return ug.loadJS(t)}function lj(){return ug.recaptchaEnterpriseScript}function cj(){return ug.gapiScript}function uj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dj="recaptcha-enterprise",hj="NO_RECAPTCHA";class fj{constructor(e){this.type=dj,this.auth=Jo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(A,a)=>{GO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new zO(o);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,A(l.siteKey)}}).catch(o=>{a(o)})})}function s(i,A,a){const o=window.grecaptcha;I_(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:e}).then(l=>{A(l)}).catch(()=>{A(hj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,A)=>{r(this.auth).then(a=>{if(!n&&I_(window.grecaptcha))s(a,i,A);else{if(typeof window>"u"){A(new Error("RecaptchaVerifier is only supported in browser"));return}let o=lj();o.length!==0&&(o+=a),jS(o).then(()=>{s(a,i,A)}).catch(l=>{A(l)})}}).catch(a=>{A(a)})})}}async function N_(t,e,n,r=!1){const s=new fj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const A=Object.assign({},e);return r?Object.assign(A,{captchaResp:i}):Object.assign(A,{captchaResponse:i}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A}async function k_(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await N_(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const A=await N_(t,e,n,n==="getOobCode");return r(t,A)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t,e){const n=Hu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Df(i,e??{}))return s;kr(s,"already-initialized")}return n.initialize({options:e})}function gj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mj(t,e,n){const r=Jo(t);xe(r._canInitEmulator,r,"emulator-config-failed"),xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=VS(e),{host:A,port:a}=yj(e),o=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${A}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:A,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),vj()}function VS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yj(t){const e=VS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:R_(r.substr(i.length+1))}}else{const[i,A]=r.split(":");return{host:i,port:R_(A)}}}function R_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Is("not implemented")}_getIdTokenResponse(e){return Is("not implemented")}_linkToIdToken(e,n){return Is("not implemented")}_getReauthenticationResolver(e){return Is("not implemented")}}async function wj(t,e){return Lr(t,"POST","/v1/accounts:update",e)}async function Bj(t,e){return Lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){return cg(t,"POST","/v1/accounts:signInWithPassword",cA(t,e))}async function Cj(t,e){return Lr(t,"POST","/v1/accounts:sendOobCode",cA(t,e))}async function Ej(t,e){return Cj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return cg(t,"POST","/v1/accounts:signInWithEmailLink",cA(t,e))}async function bj(t,e){return cg(t,"POST","/v1/accounts:signInWithEmailLink",cA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends gB{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k_(e,n,"signInWithPassword",xj);case"emailLink":return _j(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return k_(e,r,"signUpPassword",Bj);case"emailLink":return bj(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return cg(t,"POST","/v1/accounts:signInWithIdp",cA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="http://localhost";class YA extends gB{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new YA(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=uB(n,["providerId","signInMethod"]);if(!r||!s)return null;const A=new YA(r,s);return A.idToken=i.idToken||void 0,A.accessToken=i.accessToken||void 0,A.secret=i.secret,A.nonce=i.nonce,A.pendingToken=i.pendingToken||null,A}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:Ij,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fj(t){const e=Gl(Wl(t)).link,n=e?Gl(Wl(e)).deep_link_id:null,r=Gl(Wl(t)).deep_link_id;return(r?Gl(Wl(r)).link:null)||r||n||e||t}class mB{constructor(e){var n,r,s,i,A,a;const o=Gl(Wl(e)),l=(n=o.apiKey)!==null&&n!==void 0?n:null,u=(r=o.oobCode)!==null&&r!==void 0?r:null,h=Tj((s=o.mode)!==null&&s!==void 0?s:null);xe(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(A=o.languageCode)!==null&&A!==void 0?A:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Fj(e);try{return new mB(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mB.parseLink(n);return xe(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends HS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends zu{constructor(){super("facebook.com")}static credential(e){return YA._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return YA._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends zu{constructor(){super("github.com")}static credential(e){return YA._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends zu{constructor(){super("twitter.com")}static credential(e,n){return YA._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return yi.credential(n,r)}catch{return null}}}yi.TWITTER_SIGN_IN_METHOD="twitter.com";yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ts._fromIdTokenResponse(e,r,s),A=D_(r);return new Fo({user:i,providerId:A,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=D_(r);return new Fo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function D_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends Pr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Of.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Of(e,n,r,s)}}function KS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Of._fromErrorAndOperation(t,i,e,r):i})}async function Uj(t,e,n=!1){const r=await XA(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e,n=!1){const{auth:r}=t;if(bs(r.app))return Promise.reject(Mi(r));const s="reauthenticate";try{const i=await XA(t,KS(r,s,e,t),n);xe(i.idToken,r,"internal-error");const A=fB(i.idToken);xe(A,r,"internal-error");const{sub:a}=A;return xe(t.uid===a,r,"user-mismatch"),Fo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zS(t,e,n=!1){if(bs(t.app))return Promise.reject(Mi(t));const r="signIn",s=await KS(t,r,e),i=await Fo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Qj(t,e){return zS(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function kj(t,e,n){return bs(t.app)?Promise.reject(Mi(t)):Qj(et(t),Zo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Nj(t),r})}async function Rj(t,e){const n=et(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await Ej(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj(t,e){return Lr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=et(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},A=await XA(r,Dj(r.auth,i));r.displayName=A.displayName||null,r.photoURL=A.photoUrl||null;const a=r.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(A)}function Lj(t,e){return Mj(et(t),null,e)}async function Mj(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const A=await XA(t,wj(r,i));await t._updateTokensIfNecessary(A,!0)}function Oj(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function jj(t,e,n){return et(t).beforeAuthStateChanged(e,n)}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=1e3,Hj=10;class WS extends GS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((A,a,o)=>{this.notifyListeners(A,o)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const A=this.storage.getItem(r);!n&&this.localCache[r]===A||this.notifyListeners(r,A)},i=this.storage.getItem(r);nj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Hj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}WS.type="LOCAL";const Kj=WS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends GS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$S.type="SESSION";const qS=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,A=this.handlersMap[s];if(!(A!=null&&A.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(A).map(async l=>l(n.origin,i)),o=await zj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:o})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,A;return new Promise((a,o)=>{const l=yB("",20);s.port1.start();const u=setTimeout(()=>{o(new Error("unsupported_event"))},r);A={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(A),s.port1.addEventListener("message",A.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{A&&this.removeMessageHandler(A)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function Wj(t){Zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function $j(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Xj(){return XS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebaseLocalStorageDb",Yj=1,Vf="firebaseLocalStorage",JS="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hg(t,e){return t.transaction([Vf],e?"readwrite":"readonly").objectStore(Vf)}function Jj(){const t=indexedDB.deleteDatabase(YS);return new Gu(t).toPromise()}function $y(){const t=indexedDB.open(YS,Yj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vf,{keyPath:JS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vf)?e(r):(r.close(),await Jj(),e(await $y()))})})}async function P_(t,e,n){const r=hg(t,!0).put({[JS]:e,value:n});return new Gu(r).toPromise()}async function Zj(t,e){const n=hg(t,!1).get(e),r=await new Gu(n).toPromise();return r===void 0?null:r.value}function L_(t,e){const n=hg(t,!0).delete(e);return new Gu(n).toPromise()}const eV=800,tV=3;class ZS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dg._getInstance(Xj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $j(),!this.activeServiceWorker)return;this.sender=new Gj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $y();return await P_(e,jf,"1"),await L_(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Zj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hg(s,!1).getAll();return new Gu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZS.type="LOCAL";const nV=ZS;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e){return e?Fs(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB extends gB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sV(t){return zS(t.auth,new vB(t),t.bypassAuthState)}function iV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Sj(n,new vB(t),t.bypassAuthState)}async function AV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),Uj(n,new vB(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:A,type:a}=e;if(A){this.reject(A);return}const o={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sV;case"linkViaPopup":case"linkViaRedirect":return AV;case"reauthViaPopup":case"reauthViaRedirect":return iV;default:kr(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Ku(2e3,1e4);class qa extends eQ{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=yB();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aV.get())};e()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="pendingRedirect",zh=new Map;class lV extends eQ{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await cV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cV(t,e){const n=hV(e),r=dV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function uV(t,e){zh.set(t._key(),e)}function dV(t){return Fs(t._redirectPersistence)}function hV(t){return Kh(oV,t.config.apiKey,t.name)}async function fV(t,e,n=!1){if(bs(t.app))return Promise.reject(Mi(t));const r=Jo(t),s=rV(r,e),A=await new lV(r,s,n).execute();return A&&!n&&(delete A.user._redirectEventId,await r._persistUserIfCurrent(A.user),await r._setRedirectUser(null,e)),A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=10*60*1e3;class gV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tQ(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pV&&this.cachedEventUids.clear(),this.cachedEventUids.has(M_(e))}saveEventToCache(e){this.cachedEventUids.add(M_(e)),this.lastProcessedEventTime=Date.now()}}function M_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tQ({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tQ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e={}){return Lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wV=/^https?/;async function BV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yV(t);for(const n of e)try{if(xV(n))return}catch{}kr(t,"unauthorized-domain")}function xV(t){const e=Gy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const A=new URL(t);return A.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&A.hostname===r}if(!wV.test(n))return!1;if(vV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Ku(3e4,6e4);function O_(){const t=Zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EV(t){return new Promise((e,n)=>{var r,s,i;function A(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),n(Jr(t,"network-request-failed"))},timeout:CV.get()})}if(!((s=(r=Zr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Zr().gapi)===null||i===void 0)&&i.load)A();else{const a=uj("iframefcb");return Zr()[a]=()=>{gapi.load?A():n(Jr(t,"network-request-failed"))},jS(`${cj()}?onload=${a}`).catch(o=>n(o))}}).catch(e=>{throw Gh=null,e})}let Gh=null;function _V(t){return Gh=Gh||EV(t),Gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new Ku(5e3,15e3),IV="__/auth/iframe",TV="emulator/auth/iframe",FV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SV(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hB(e,TV):`https://${t.config.authDomain}/${IV}`,r={apiKey:e.apiKey,appName:t.name,v:oa},s=UV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vu(r).slice(1)}`}async function QV(t){const e=await _V(t),n=Zr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:SV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const A=Jr(t,"network-request-failed"),a=Zr().setTimeout(()=>{i(A)},bV.get());function o(){Zr().clearTimeout(a),s(r)}r.ping(o).then(o,()=>{i(A)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kV=500,RV=600,DV="_blank",PV="http://localhost";class j_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LV(t,e,n,r=kV,s=RV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),A=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const o=Object.assign(Object.assign({},NV),{width:r.toString(),height:s.toString(),top:i,left:A}),l=wn().toLowerCase();n&&(a=kS(l)?DV:n),QS(l)&&(e=e||PV,o.scrollbars="yes");const u=Object.entries(o).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(tj(l)&&a!=="_self")return MV(e||"",a),new j_(null);const h=window.open(e||"",a,u);xe(h,t,"popup-blocked");try{h.focus()}catch{}return new j_(h)}function MV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="__/auth/handler",jV="emulator/auth/handler",VV=encodeURIComponent("fac");async function V_(t,e,n,r,s,i){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const A={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oa,eventId:s};if(e instanceof HS){e.setDefaultLanguage(t.languageCode),A.providerId=e.providerId||"",CM(e.getCustomParameters())||(A.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))A[u]=h}if(e instanceof zu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(A.scopes=u.join(","))}t.tenantId&&(A.tid=t.tenantId);const a=A;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const o=await t._getAppCheckToken(),l=o?`#${VV}=${encodeURIComponent(o)}`:"";return`${HV(t)}?${Vu(a).slice(1)}${l}`}function HV({config:t}){return t.emulator?hB(t,jV):`https://${t.authDomain}/${OV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class KV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qS,this._completeRedirectFn=fV,this._overrideRedirectResult=uV}async _openPopup(e,n,r,s){var i;js((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const A=await V_(e,n,r,Gy(),s);return LV(e,A,yB())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await V_(e,n,r,Gy(),s);return Wj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(js(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QV(e),r=new gV(e);return n.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},s=>{var i;const A=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ym];A!==void 0&&n(!!A),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MS()||NS()||pB()}}const zV=KV;var H_="@firebase/auth",K_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $V(t){zi(new Ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:A,authDomain:a}=r.options;xe(A&&!A.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:A,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OS(t)},l=new aj(r,s,i,o);return gj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new Ms("auth-internal",e=>{const n=Jo(e.getProvider("auth").getImmediate());return(r=>new GV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(H_,K_,WV(t)),mr(H_,K_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=5*60,XV=gS("authIdTokenMaxAge")||qV;let z_=null;const YV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XV)return;const s=n==null?void 0:n.token;z_!==s&&(z_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JV(t=lg()){const e=Hu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=pj(t,{popupRedirectResolver:zV,persistence:[nV,Kj,qS]}),r=gS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const A=YV(i.toString());jj(n,A,()=>A(n.currentUser)),Oj(n,a=>A(a))}}const s=fS("auth");return s&&mj(n,`http://${s}`),n}function ZV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Jr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ZV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$V("Browser");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MA,nQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function b(){}b.prototype=E.prototype,I.D=E.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(_,Q,R){for(var T=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)T[Y-2]=arguments[Y];return E.prototype[Q].apply(_,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,E,b){b||(b=0);var _=Array(16);if(typeof E=="string")for(var Q=0;16>Q;++Q)_[Q]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(Q=0;16>Q;++Q)_[Q]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=I.g[0],b=I.g[1],Q=I.g[2];var R=I.g[3],T=E+(R^b&(Q^R))+_[0]+3614090360&4294967295;E=b+(T<<7&4294967295|T>>>25),T=R+(Q^E&(b^Q))+_[1]+3905402710&4294967295,R=E+(T<<12&4294967295|T>>>20),T=Q+(b^R&(E^b))+_[2]+606105819&4294967295,Q=R+(T<<17&4294967295|T>>>15),T=b+(E^Q&(R^E))+_[3]+3250441966&4294967295,b=Q+(T<<22&4294967295|T>>>10),T=E+(R^b&(Q^R))+_[4]+4118548399&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(Q^E&(b^Q))+_[5]+1200080426&4294967295,R=E+(T<<12&4294967295|T>>>20),T=Q+(b^R&(E^b))+_[6]+2821735955&4294967295,Q=R+(T<<17&4294967295|T>>>15),T=b+(E^Q&(R^E))+_[7]+4249261313&4294967295,b=Q+(T<<22&4294967295|T>>>10),T=E+(R^b&(Q^R))+_[8]+1770035416&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(Q^E&(b^Q))+_[9]+2336552879&4294967295,R=E+(T<<12&4294967295|T>>>20),T=Q+(b^R&(E^b))+_[10]+4294925233&4294967295,Q=R+(T<<17&4294967295|T>>>15),T=b+(E^Q&(R^E))+_[11]+2304563134&4294967295,b=Q+(T<<22&4294967295|T>>>10),T=E+(R^b&(Q^R))+_[12]+1804603682&4294967295,E=b+(T<<7&4294967295|T>>>25),T=R+(Q^E&(b^Q))+_[13]+4254626195&4294967295,R=E+(T<<12&4294967295|T>>>20),T=Q+(b^R&(E^b))+_[14]+2792965006&4294967295,Q=R+(T<<17&4294967295|T>>>15),T=b+(E^Q&(R^E))+_[15]+1236535329&4294967295,b=Q+(T<<22&4294967295|T>>>10),T=E+(Q^R&(b^Q))+_[1]+4129170786&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^Q&(E^b))+_[6]+3225465664&4294967295,R=E+(T<<9&4294967295|T>>>23),T=Q+(E^b&(R^E))+_[11]+643717713&4294967295,Q=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(Q^R))+_[0]+3921069994&4294967295,b=Q+(T<<20&4294967295|T>>>12),T=E+(Q^R&(b^Q))+_[5]+3593408605&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^Q&(E^b))+_[10]+38016083&4294967295,R=E+(T<<9&4294967295|T>>>23),T=Q+(E^b&(R^E))+_[15]+3634488961&4294967295,Q=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(Q^R))+_[4]+3889429448&4294967295,b=Q+(T<<20&4294967295|T>>>12),T=E+(Q^R&(b^Q))+_[9]+568446438&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^Q&(E^b))+_[14]+3275163606&4294967295,R=E+(T<<9&4294967295|T>>>23),T=Q+(E^b&(R^E))+_[3]+4107603335&4294967295,Q=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(Q^R))+_[8]+1163531501&4294967295,b=Q+(T<<20&4294967295|T>>>12),T=E+(Q^R&(b^Q))+_[13]+2850285829&4294967295,E=b+(T<<5&4294967295|T>>>27),T=R+(b^Q&(E^b))+_[2]+4243563512&4294967295,R=E+(T<<9&4294967295|T>>>23),T=Q+(E^b&(R^E))+_[7]+1735328473&4294967295,Q=R+(T<<14&4294967295|T>>>18),T=b+(R^E&(Q^R))+_[12]+2368359562&4294967295,b=Q+(T<<20&4294967295|T>>>12),T=E+(b^Q^R)+_[5]+4294588738&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^Q)+_[8]+2272392833&4294967295,R=E+(T<<11&4294967295|T>>>21),T=Q+(R^E^b)+_[11]+1839030562&4294967295,Q=R+(T<<16&4294967295|T>>>16),T=b+(Q^R^E)+_[14]+4259657740&4294967295,b=Q+(T<<23&4294967295|T>>>9),T=E+(b^Q^R)+_[1]+2763975236&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^Q)+_[4]+1272893353&4294967295,R=E+(T<<11&4294967295|T>>>21),T=Q+(R^E^b)+_[7]+4139469664&4294967295,Q=R+(T<<16&4294967295|T>>>16),T=b+(Q^R^E)+_[10]+3200236656&4294967295,b=Q+(T<<23&4294967295|T>>>9),T=E+(b^Q^R)+_[13]+681279174&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^Q)+_[0]+3936430074&4294967295,R=E+(T<<11&4294967295|T>>>21),T=Q+(R^E^b)+_[3]+3572445317&4294967295,Q=R+(T<<16&4294967295|T>>>16),T=b+(Q^R^E)+_[6]+76029189&4294967295,b=Q+(T<<23&4294967295|T>>>9),T=E+(b^Q^R)+_[9]+3654602809&4294967295,E=b+(T<<4&4294967295|T>>>28),T=R+(E^b^Q)+_[12]+3873151461&4294967295,R=E+(T<<11&4294967295|T>>>21),T=Q+(R^E^b)+_[15]+530742520&4294967295,Q=R+(T<<16&4294967295|T>>>16),T=b+(Q^R^E)+_[2]+3299628645&4294967295,b=Q+(T<<23&4294967295|T>>>9),T=E+(Q^(b|~R))+_[0]+4096336452&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~Q))+_[7]+1126891415&4294967295,R=E+(T<<10&4294967295|T>>>22),T=Q+(E^(R|~b))+_[14]+2878612391&4294967295,Q=R+(T<<15&4294967295|T>>>17),T=b+(R^(Q|~E))+_[5]+4237533241&4294967295,b=Q+(T<<21&4294967295|T>>>11),T=E+(Q^(b|~R))+_[12]+1700485571&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~Q))+_[3]+2399980690&4294967295,R=E+(T<<10&4294967295|T>>>22),T=Q+(E^(R|~b))+_[10]+4293915773&4294967295,Q=R+(T<<15&4294967295|T>>>17),T=b+(R^(Q|~E))+_[1]+2240044497&4294967295,b=Q+(T<<21&4294967295|T>>>11),T=E+(Q^(b|~R))+_[8]+1873313359&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~Q))+_[15]+4264355552&4294967295,R=E+(T<<10&4294967295|T>>>22),T=Q+(E^(R|~b))+_[6]+2734768916&4294967295,Q=R+(T<<15&4294967295|T>>>17),T=b+(R^(Q|~E))+_[13]+1309151649&4294967295,b=Q+(T<<21&4294967295|T>>>11),T=E+(Q^(b|~R))+_[4]+4149444226&4294967295,E=b+(T<<6&4294967295|T>>>26),T=R+(b^(E|~Q))+_[11]+3174756917&4294967295,R=E+(T<<10&4294967295|T>>>22),T=Q+(E^(R|~b))+_[2]+718787259&4294967295,Q=R+(T<<15&4294967295|T>>>17),T=b+(R^(Q|~E))+_[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(Q+(T<<21&4294967295|T>>>11))&4294967295,I.g[2]=I.g[2]+Q&4294967295,I.g[3]=I.g[3]+R&4294967295}r.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var b=E-this.blockSize,_=this.B,Q=this.h,R=0;R<E;){if(Q==0)for(;R<=b;)s(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<E;)if(_[Q++]=I.charCodeAt(R++),Q==this.blockSize){s(this,_),Q=0;break}}else for(;R<E;)if(_[Q++]=I[R++],Q==this.blockSize){s(this,_),Q=0;break}}this.h=Q,this.o+=E},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var b=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=b&255,b/=256;for(this.u(I),I=Array(16),E=b=0;4>E;++E)for(var _=0;32>_;_+=8)I[b++]=this.g[E]>>>_&255;return I};function i(I,E){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=E(I)}function A(I,E){this.h=E;for(var b=[],_=!0,Q=I.length-1;0<=Q;Q--){var R=I[Q]|0;_&&R==E||(b[Q]=R,_=!1)}this.g=b}var a={};function o(I){return-128<=I&&128>I?i(I,function(E){return new A([E|0],0>E?-1:0)}):new A([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return C(l(-I));for(var E=[],b=1,_=0;I>=b;_++)E[_]=I/b|0,b*=4294967296;return new A(E,0)}function u(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return C(u(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=l(Math.pow(E,8)),_=h,Q=0;Q<I.length;Q+=8){var R=Math.min(8,I.length-Q),T=parseInt(I.substring(Q,Q+R),E);8>R?(R=l(Math.pow(E,R)),_=_.j(R).add(l(T))):(_=_.j(b),_=_.add(l(T)))}return _}var h=o(0),f=o(1),g=o(16777216);t=A.prototype,t.m=function(){if(y(this))return-C(this).m();for(var I=0,E=1,b=0;b<this.g.length;b++){var _=this.i(b);I+=(0<=_?_:4294967296+_)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(m(this))return"0";if(y(this))return"-"+C(this).toString(I);for(var E=l(Math.pow(I,6)),b=this,_="";;){var Q=F(b,E).g;b=B(b,Q.j(E));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=Q,m(b))return R+_;for(;6>R.length;)R="0"+R;_=R+_}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function m(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=B(this,I),y(I)?-1:m(I)?0:1};function C(I){for(var E=I.g.length,b=[],_=0;_<E;_++)b[_]=~I.g[_];return new A(b,~I.h).add(f)}t.abs=function(){return y(this)?C(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0,Q=0;Q<=E;Q++){var R=_+(this.i(Q)&65535)+(I.i(Q)&65535),T=(R>>>16)+(this.i(Q)>>>16)+(I.i(Q)>>>16);_=T>>>16,R&=65535,T&=65535,b[Q]=T<<16|R}return new A(b,b[b.length-1]&-2147483648?-1:0)};function B(I,E){return I.add(C(E))}t.j=function(I){if(m(this)||m(I))return h;if(y(this))return y(I)?C(this).j(C(I)):C(C(this).j(I));if(y(I))return C(this.j(C(I)));if(0>this.l(g)&&0>I.l(g))return l(this.m()*I.m());for(var E=this.g.length+I.g.length,b=[],_=0;_<2*E;_++)b[_]=0;for(_=0;_<this.g.length;_++)for(var Q=0;Q<I.g.length;Q++){var R=this.i(_)>>>16,T=this.i(_)&65535,Y=I.i(Q)>>>16,ie=I.i(Q)&65535;b[2*_+2*Q]+=T*ie,v(b,2*_+2*Q),b[2*_+2*Q+1]+=R*ie,v(b,2*_+2*Q+1),b[2*_+2*Q+1]+=T*Y,v(b,2*_+2*Q+1),b[2*_+2*Q+2]+=R*Y,v(b,2*_+2*Q+2)}for(_=0;_<E;_++)b[_]=b[2*_+1]<<16|b[2*_];for(_=E;_<2*E;_++)b[_]=0;return new A(b,0)};function v(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function w(I,E){this.g=I,this.h=E}function F(I,E){if(m(E))throw Error("division by zero");if(m(I))return new w(h,h);if(y(I))return E=F(C(I),E),new w(C(E.g),C(E.h));if(y(E))return E=F(I,C(E)),new w(C(E.g),E.h);if(30<I.g.length){if(y(I)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var b=f,_=E;0>=_.l(I);)b=N(b),_=N(_);var Q=k(b,1),R=k(_,1);for(_=k(_,2),b=k(b,2);!m(_);){var T=R.add(_);0>=T.l(I)&&(Q=Q.add(b),R=T),_=k(_,1),b=k(b,1)}return E=B(I,Q.j(E)),new w(Q,E)}for(Q=h;0<=I.l(E);){for(b=Math.max(1,Math.floor(I.m()/E.m())),_=Math.ceil(Math.log(b)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),R=l(b),T=R.j(E);y(T)||0<T.l(I);)b-=_,R=l(b),T=R.j(E);m(R)&&(R=f),Q=Q.add(R),I=B(I,T)}return new w(Q,I)}t.A=function(I){return F(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)&I.i(_);return new A(b,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)|I.i(_);return new A(b,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),b=[],_=0;_<E;_++)b[_]=this.i(_)^I.i(_);return new A(b,this.h^I.h)};function N(I){for(var E=I.g.length+1,b=[],_=0;_<E;_++)b[_]=I.i(_)<<1|I.i(_-1)>>>31;return new A(b,I.h)}function k(I,E){var b=E>>5;E%=32;for(var _=I.g.length-b,Q=[],R=0;R<_;R++)Q[R]=0<E?I.i(R+b)>>>E|I.i(R+b+1)<<32-E:I.i(R+b);return new A(Q,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nQ=r,A.prototype.add=A.prototype.add,A.prototype.multiply=A.prototype.j,A.prototype.modulo=A.prototype.A,A.prototype.compare=A.prototype.l,A.prototype.toNumber=A.prototype.m,A.prototype.toString=A.prototype.toString,A.prototype.getBits=A.prototype.i,A.fromNumber=l,A.fromString=u,MA=A}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var Xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rQ,$l,sQ,Wh,qy,iQ,AQ,aQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,p,x){return d==Array.prototype||d==Object.prototype||(d[p]=x.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xd=="object"&&Xd];for(var p=0;p<d.length;++p){var x=d[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(d,p){if(p)e:{var x=r;d=d.split(".");for(var U=0;U<d.length-1;U++){var L=d[U];if(!(L in x))break e;x=x[L]}d=d[d.length-1],U=x[d],p=p(U),p!=U&&p!=null&&e(x,d,{configurable:!0,writable:!0,value:p})}}function i(d,p){d instanceof String&&(d+="");var x=0,U=!1,L={next:function(){if(!U&&x<d.length){var O=x++;return{value:p(O,d[O]),done:!1}}return U=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(d){return d||function(){return i(this,function(p,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var A=A||{},a=this||self;function o(d){var p=typeof d;return p=p!="object"?p:d?Array.isArray(d)?"array":p:"null",p=="array"||p=="object"&&typeof d.length=="number"}function l(d){var p=typeof d;return p=="object"&&d!=null||p=="function"}function u(d,p,x){return d.call.apply(d.bind,arguments)}function h(d,p,x){if(!d)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,U),d.apply(p,L)}}return function(){return d.apply(p,arguments)}}function f(d,p,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function g(d,p){var x=Array.prototype.slice.call(arguments,1);return function(){var U=x.slice();return U.push.apply(U,arguments),d.apply(this,U)}}function m(d,p){function x(){}x.prototype=p.prototype,d.aa=p.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(U,L,O){for(var Z=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)Z[Xe-2]=arguments[Xe];return p.prototype[L].apply(U,Z)}}function y(d){const p=d.length;if(0<p){const x=Array(p);for(let U=0;U<p;U++)x[U]=d[U];return x}return[]}function C(d,p){for(let x=1;x<arguments.length;x++){const U=arguments[x];if(o(U)){const L=d.length||0,O=U.length||0;d.length=L+O;for(let Z=0;Z<O;Z++)d[L+Z]=U[Z]}else d.push(U)}}class B{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function F(d){return F[" "](d),d}F[" "]=function(){};var N=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function k(d,p,x){for(const U in d)p.call(x,d[U],U,d)}function I(d,p){for(const x in d)p.call(void 0,d[x],x,d)}function E(d){const p={};for(const x in d)p[x]=d[x];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(d,p){let x,U;for(let L=1;L<arguments.length;L++){U=arguments[L];for(x in U)d[x]=U[x];for(let O=0;O<b.length;O++)x=b[O],Object.prototype.hasOwnProperty.call(U,x)&&(d[x]=U[x])}}function Q(d){var p=1;d=d.split(":");const x=[];for(;0<p&&d.length;)x.push(d.shift()),p--;return d.length&&x.push(d.join(":")),x}function R(d){a.setTimeout(()=>{throw d},0)}function T(){var d=K;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}class Y{constructor(){this.h=this.g=null}add(p,x){const U=ie.get();U.set(p,x),this.h?this.h.next=U:this.g=U,this.h=U}}var ie=new B(()=>new V,d=>d.reset());class V{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let X,P=!1,K=new Y,z=()=>{const d=a.Promise.resolve(void 0);X=()=>{d.then(ge)}};var ge=()=>{for(var d;d=T();){try{d.h.call(d.g)}catch(x){R(x)}var p=ie;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}P=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};a.addEventListener("test",x,p),a.removeEventListener("test",x,p)}catch{}return d}();function tt(d,p){if(Te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,U=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(N){e:{try{F(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else x=="mouseover"?p=d.fromElement:x=="mouseout"&&(p=d.toElement);this.relatedTarget=p,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:At[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&tt.aa.h.call(this)}}m(tt,Te);var At={2:"touch",3:"pen",4:"mouse"};tt.prototype.h=function(){tt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),hs=0;function ha(d,p,x,U,L){this.listener=d,this.proxy=null,this.src=p,this.type=x,this.capture=!!U,this.ha=L,this.key=++hs,this.da=this.fa=!1}function fs(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Or(d){this.src=d,this.g={},this.h=0}Or.prototype.add=function(d,p,x,U,L){var O=d.toString();d=this.g[O],d||(d=this.g[O]=[],this.h++);var Z=fa(d,p,U,L);return-1<Z?(p=d[Z],x||(p.fa=!1)):(p=new ha(p,this.src,O,!!U,L),p.fa=x,d.push(p)),p};function ei(d,p){var x=p.type;if(x in d.g){var U=d.g[x],L=Array.prototype.indexOf.call(U,p,void 0),O;(O=0<=L)&&Array.prototype.splice.call(U,L,1),O&&(fs(p),d.g[x].length==0&&(delete d.g[x],d.h--))}}function fa(d,p,x,U){for(var L=0;L<d.length;++L){var O=d[L];if(!O.da&&O.listener==p&&O.capture==!!x&&O.ha==U)return L}return-1}var pa="closure_lm_"+(1e6*Math.random()|0),fd={};function nm(d,p,x,U,L){if(Array.isArray(p)){for(var O=0;O<p.length;O++)nm(d,p[O],x,U,L);return null}return x=Ie(x),d&&d[gt]?d.K(p,x,l(U)?!!U.capture:!!U,L):aC(d,p,x,!1,U,L)}function aC(d,p,x,U,L,O){if(!p)throw Error("Invalid event type");var Z=l(L)?!!L.capture:!!L,Xe=J(d);if(Xe||(d[pa]=Xe=new Or(d)),x=Xe.add(p,x,U,Z,O),x.proxy)return x;if(U=D(),x.proxy=U,U.src=d,U.listener=x,d.addEventListener)Ke||(L=Z),L===void 0&&(L=!1),d.addEventListener(p.toString(),U,L);else if(d.attachEvent)d.attachEvent(ne(p.toString()),U);else if(d.addListener&&d.removeListener)d.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return x}function D(){function d(x){return p.call(d.src,d.listener,x)}const p=ee;return d}function M(d,p,x,U,L){if(Array.isArray(p))for(var O=0;O<p.length;O++)M(d,p[O],x,U,L);else U=l(U)?!!U.capture:!!U,x=Ie(x),d&&d[gt]?(d=d.i,p=String(p).toString(),p in d.g&&(O=d.g[p],x=fa(O,x,U,L),-1<x&&(fs(O[x]),Array.prototype.splice.call(O,x,1),O.length==0&&(delete d.g[p],d.h--)))):d&&(d=J(d))&&(p=d.g[p.toString()],d=-1,p&&(d=fa(p,x,U,L)),(x=-1<d?p[d]:null)&&j(x))}function j(d){if(typeof d!="number"&&d&&!d.da){var p=d.src;if(p&&p[gt])ei(p.i,d);else{var x=d.type,U=d.proxy;p.removeEventListener?p.removeEventListener(x,U,d.capture):p.detachEvent?p.detachEvent(ne(x),U):p.addListener&&p.removeListener&&p.removeListener(U),(x=J(p))?(ei(x,d),x.h==0&&(x.src=null,p[pa]=null)):fs(d)}}}function ne(d){return d in fd?fd[d]:fd[d]="on"+d}function ee(d,p){if(d.da)d=!0;else{p=new tt(p,this);var x=d.listener,U=d.ha||d.src;d.fa&&j(d),d=x.call(U,p)}return d}function J(d){return d=d[pa],d instanceof Or?d:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(d){return typeof d=="function"?d:(d[he]||(d[he]=function(p){return d.handleEvent(p)}),d[he])}function Ne(){we.call(this),this.i=new Or(this),this.M=this,this.F=null}m(Ne,we),Ne.prototype[gt]=!0,Ne.prototype.removeEventListener=function(d,p,x,U){M(this,d,p,x,U)};function Re(d,p){var x,U=d.F;if(U)for(x=[];U;U=U.F)x.push(U);if(d=d.M,U=p.type||p,typeof p=="string")p=new Te(p,d);else if(p instanceof Te)p.target=p.target||d;else{var L=p;p=new Te(U,d),_(p,L)}if(L=!0,x)for(var O=x.length-1;0<=O;O--){var Z=p.g=x[O];L=Kn(Z,U,!0,p)&&L}if(Z=p.g=d,L=Kn(Z,U,!0,p)&&L,L=Kn(Z,U,!1,p)&&L,x)for(O=0;O<x.length;O++)Z=p.g=x[O],L=Kn(Z,U,!1,p)&&L}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var d=this.i,p;for(p in d.g){for(var x=d.g[p],U=0;U<x.length;U++)fs(x[U]);delete d.g[p],d.h--}}this.F=null},Ne.prototype.K=function(d,p,x,U){return this.i.add(String(d),p,!1,x,U)},Ne.prototype.L=function(d,p,x,U){return this.i.add(String(d),p,!0,x,U)};function Kn(d,p,x,U){if(p=d.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,O=0;O<p.length;++O){var Z=p[O];if(Z&&!Z.da&&Z.capture==x){var Xe=Z.listener,zt=Z.ha||Z.src;Z.fa&&ei(d.i,Z),L=Xe.call(zt,U)!==!1&&L}}return L&&!U.defaultPrevented}function pd(d,p,x){if(typeof d=="function")x&&(d=f(d,x));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function ga(d){d.g=pd(()=>{d.g=null,d.i&&(d.i=!1,ga(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}class ll extends we{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ga(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gA(d){we.call(this),this.h=d,this.g={}}m(gA,we);var cl=[];function gd(d){k(d.g,function(p,x){this.g.hasOwnProperty(x)&&j(p)},d),d.g={}}gA.prototype.N=function(){gA.aa.N.call(this),gd(this)},gA.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=a.JSON.stringify,sD=a.JSON.parse,iD=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function rm(){}rm.prototype.h=null;function oC(d){return d.h||(d.h=d.i())}function lC(){}var ul={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sm(){Te.call(this,"d")}m(sm,Te);function im(){Te.call(this,"c")}m(im,Te);var mA={},cC=null;function md(){return cC=cC||new Ne}mA.La="serverreachability";function uC(d){Te.call(this,mA.La,d)}m(uC,Te);function dl(d){const p=md();Re(p,new uC(p))}mA.STAT_EVENT="statevent";function dC(d,p){Te.call(this,mA.STAT_EVENT,d),this.stat=p}m(dC,Te);function xn(d){const p=md();Re(p,new dC(p,d))}mA.Ma="timingevent";function hC(d,p){Te.call(this,mA.Ma,d),this.size=p}m(hC,Te);function hl(d,p){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function fl(){this.g=!0}fl.prototype.xa=function(){this.g=!1};function AD(d,p,x,U,L,O){d.info(function(){if(d.g)if(O)for(var Z="",Xe=O.split("&"),zt=0;zt<Xe.length;zt++){var Oe=Xe[zt].split("=");if(1<Oe.length){var an=Oe[0];Oe=Oe[1];var on=an.split("_");Z=2<=on.length&&on[1]=="type"?Z+(an+"="+Oe+"&"):Z+(an+"=redacted&")}}else Z=null;else Z=O;return"XMLHTTP REQ ("+U+") [attempt "+L+"]: "+p+`
`+x+`
`+Z})}function aD(d,p,x,U,L,O,Z){d.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+L+"]: "+p+`
`+x+`
`+O+" "+Z})}function ya(d,p,x,U){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+lD(d,x)+(U?" "+U:"")})}function oD(d,p){d.info(function(){return"TIMEOUT: "+p})}fl.prototype.info=function(){};function lD(d,p){if(!d.g)return p;if(!p)return null;try{var x=JSON.parse(p);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var U=x[d];if(!(2>U.length)){var L=U[1];if(Array.isArray(L)&&!(1>L.length)){var O=L[0];if(O!="noop"&&O!="stop"&&O!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return ma(x)}catch{return p}}var yd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Am;function vd(){}m(vd,rm),vd.prototype.g=function(){return new XMLHttpRequest},vd.prototype.i=function(){return{}},Am=new vd;function ti(d,p,x,U){this.j=d,this.i=p,this.l=x,this.R=U||1,this.U=new gA(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pC}function pC(){this.i=null,this.g="",this.h=!1}var gC={},am={};function om(d,p,x){d.L=1,d.v=Cd(ps(p)),d.m=x,d.P=!0,mC(d,null)}function mC(d,p){d.F=Date.now(),wd(d),d.A=ps(d.v);var x=d.A,U=d.R;Array.isArray(U)||(U=[String(U)]),SC(x.i,"t",U),d.C=0,x=d.j.J,d.h=new pC,d.g=qC(d.j,x?p:null,!d.m),0<d.O&&(d.M=new ll(f(d.Y,d,d.g),d.O)),p=d.U,x=d.g,U=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(cl[0]=L.toString()),L=cl);for(var O=0;O<L.length;O++){var Z=nm(x,L[O],U||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),dl(),AD(d.i,d.u,d.A,d.l,d.R,d.m)}ti.prototype.ca=function(d){d=d.target;const p=this.M;p&&gs(d)==3?p.j():this.Y(d)},ti.prototype.Y=function(d){try{if(d==this.g)e:{const on=gs(this.g);var p=this.g.Ba();const Ba=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||LC(this.g)))){this.J||on!=4||p==7||(p==8||0>=Ba?dl(3):dl(2)),lm(this);var x=this.g.Z();this.X=x;t:if(yC(this)){var U=LC(this.g);d="";var L=U.length,O=gs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yA(this),pl(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,d+=this.h.i.decode(U[p],{stream:!(O&&p==L-1)});U.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=x==200,aD(this.i,this.u,this.A,this.l,this.R,on,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,zt=this.g;if((Xe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Xe)){var Oe=Xe;break t}}Oe=null}if(x=Oe)ya(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cm(this,x);else{this.o=!1,this.s=3,xn(12),yA(this),pl(this);break e}}if(this.P){x=!0;let wr;for(;!this.J&&this.C<Z.length;)if(wr=cD(this,Z),wr==am){on==4&&(this.s=4,xn(14),x=!1),ya(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==gC){this.s=4,xn(15),ya(this.i,this.l,Z,"[Invalid Chunk]"),x=!1;break}else ya(this.i,this.l,wr,null),cm(this,wr);if(yC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||Z.length!=0||this.h.h||(this.s=1,xn(16),x=!1),this.o=this.o&&x,!x)ya(this.i,this.l,Z,"[Invalid Chunked Response]"),yA(this),pl(this);else if(0<Z.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),gm(an),an.M=!0,xn(11))}}else ya(this.i,this.l,Z,null),cm(this,Z);on==4&&yA(this),this.o&&!this.J&&(on==4?zC(this.j,this):(this.o=!1,wd(this)))}else ID(this.g),x==400&&0<Z.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),yA(this),pl(this)}}}catch{}finally{}};function yC(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function cD(d,p){var x=d.C,U=p.indexOf(`
`,x);return U==-1?am:(x=Number(p.substring(x,U)),isNaN(x)?gC:(U+=1,U+x>p.length?am:(p=p.slice(U,U+x),d.C=U+x,p)))}ti.prototype.cancel=function(){this.J=!0,yA(this)};function wd(d){d.S=Date.now()+d.I,vC(d,d.I)}function vC(d,p){if(d.B!=null)throw Error("WatchDog timer not null");d.B=hl(f(d.ba,d),p)}function lm(d){d.B&&(a.clearTimeout(d.B),d.B=null)}ti.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(oD(this.i,this.A),this.L!=2&&(dl(),xn(17)),yA(this),this.s=2,pl(this)):vC(this,this.S-d)};function pl(d){d.j.G==0||d.J||zC(d.j,d)}function yA(d){lm(d);var p=d.M;p&&typeof p.ma=="function"&&p.ma(),d.M=null,gd(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function cm(d,p){try{var x=d.j;if(x.G!=0&&(x.g==d||um(x.h,d))){if(!d.K&&um(x.h,d)&&x.G==3){try{var U=x.Da.g.parse(p)}catch{U=null}if(Array.isArray(U)&&U.length==3){var L=U;if(L[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)Fd(x),Id(x);else break e;pm(x),xn(18)}}else x.za=L[1],0<x.za-x.T&&37500>L[2]&&x.F&&x.v==0&&!x.C&&(x.C=hl(f(x.Za,x),6e3));if(1>=xC(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else wA(x,11)}else if((d.K||x.g==d)&&Fd(x),!v(p))for(L=x.Da.g.parse(p),p=0;p<L.length;p++){let Oe=L[p];if(x.T=Oe[0],Oe=Oe[1],x.G==2)if(Oe[0]=="c"){x.K=Oe[1],x.ia=Oe[2];const an=Oe[3];an!=null&&(x.la=an,x.j.info("VER="+x.la));const on=Oe[4];on!=null&&(x.Aa=on,x.j.info("SVER="+x.Aa));const Ba=Oe[5];Ba!=null&&typeof Ba=="number"&&0<Ba&&(U=1.5*Ba,x.L=U,x.j.info("backChannelRequestTimeoutMs_="+U)),U=x;const wr=d.g;if(wr){const Sd=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sd){var O=U.h;O.g||Sd.indexOf("spdy")==-1&&Sd.indexOf("quic")==-1&&Sd.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(dm(O,O.h),O.h=null))}if(U.D){const mm=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;mm&&(U.ya=mm,nt(U.I,U.D,mm))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),U=x;var Z=d;if(U.qa=$C(U,U.J?U.ia:null,U.W),Z.K){CC(U.h,Z);var Xe=Z,zt=U.L;zt&&(Xe.I=zt),Xe.B&&(lm(Xe),wd(Xe)),U.g=Z}else HC(U);0<x.i.length&&Td(x)}else Oe[0]!="stop"&&Oe[0]!="close"||wA(x,7);else x.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?wA(x,7):fm(x):Oe[0]!="noop"&&x.l&&x.l.ta(Oe),x.v=0)}}dl(4)}catch{}}var uD=class{constructor(d,p){this.g=d,this.map=p}};function wC(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BC(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xC(d){return d.h?1:d.g?d.g.size:0}function um(d,p){return d.h?d.h==p:d.g?d.g.has(p):!1}function dm(d,p){d.g?d.g.add(p):d.h=p}function CC(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}wC.prototype.cancel=function(){if(this.i=EC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function EC(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let p=d.i;for(const x of d.g.values())p=p.concat(x.D);return p}return y(d.i)}function dD(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(o(d)){for(var p=[],x=d.length,U=0;U<x;U++)p.push(d[U]);return p}p=[],x=0;for(U in d)p[x++]=d[U];return p}function hD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(o(d)||typeof d=="string"){var p=[];d=d.length;for(var x=0;x<d;x++)p.push(x);return p}p=[],x=0;for(const U in d)p[x++]=U;return p}}}function _C(d,p){if(d.forEach&&typeof d.forEach=="function")d.forEach(p,void 0);else if(o(d)||typeof d=="string")Array.prototype.forEach.call(d,p,void 0);else for(var x=hD(d),U=dD(d),L=U.length,O=0;O<L;O++)p.call(void 0,U[O],x&&x[O],d)}var bC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fD(d,p){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var U=d[x].indexOf("="),L=null;if(0<=U){var O=d[x].substring(0,U);L=d[x].substring(U+1)}else O=d[x];p(O,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function vA(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof vA){this.h=d.h,Bd(this,d.j),this.o=d.o,this.g=d.g,xd(this,d.s),this.l=d.l;var p=d.i,x=new yl;x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),IC(this,x),this.m=d.m}else d&&(p=String(d).match(bC))?(this.h=!1,Bd(this,p[1]||"",!0),this.o=gl(p[2]||""),this.g=gl(p[3]||"",!0),xd(this,p[4]),this.l=gl(p[5]||"",!0),IC(this,p[6]||"",!0),this.m=gl(p[7]||"")):(this.h=!1,this.i=new yl(null,this.h))}vA.prototype.toString=function(){var d=[],p=this.j;p&&d.push(ml(p,TC,!0),":");var x=this.g;return(x||p=="file")&&(d.push("//"),(p=this.o)&&d.push(ml(p,TC,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(ml(x,x.charAt(0)=="/"?mD:gD,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",ml(x,vD)),d.join("")};function ps(d){return new vA(d)}function Bd(d,p,x){d.j=x?gl(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function xd(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function IC(d,p,x){p instanceof yl?(d.i=p,wD(d.i,d.h)):(x||(p=ml(p,yD)),d.i=new yl(p,d.h))}function nt(d,p,x){d.i.set(p,x)}function Cd(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function gl(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ml(d,p,x){return typeof d=="string"?(d=encodeURI(d).replace(p,pD),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var TC=/[#\/\?@]/g,gD=/[#\?:]/g,mD=/[#\?]/g,yD=/[#\?@]/g,vD=/#/g;function yl(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function ni(d){d.g||(d.g=new Map,d.h=0,d.i&&fD(d.i,function(p,x){d.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}t=yl.prototype,t.add=function(d,p){ni(this),this.i=null,d=va(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(p),this.h+=1,this};function FC(d,p){ni(d),p=va(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function UC(d,p){return ni(d),p=va(d,p),d.g.has(p)}t.forEach=function(d,p){ni(this),this.g.forEach(function(x,U){x.forEach(function(L){d.call(p,L,U,this)},this)},this)},t.na=function(){ni(this);const d=Array.from(this.g.values()),p=Array.from(this.g.keys()),x=[];for(let U=0;U<p.length;U++){const L=d[U];for(let O=0;O<L.length;O++)x.push(p[U])}return x},t.V=function(d){ni(this);let p=[];if(typeof d=="string")UC(this,d)&&(p=p.concat(this.g.get(va(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)p=p.concat(d[x])}return p},t.set=function(d,p){return ni(this),this.i=null,d=va(this,d),UC(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},t.get=function(d,p){return d?(d=this.V(d),0<d.length?String(d[0]):p):p};function SC(d,p,x){FC(d,p),0<x.length&&(d.i=null,d.g.set(va(d,p),y(x)),d.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(var x=0;x<p.length;x++){var U=p[x];const O=encodeURIComponent(String(U)),Z=this.V(U);for(U=0;U<Z.length;U++){var L=O;Z[U]!==""&&(L+="="+encodeURIComponent(String(Z[U]))),d.push(L)}}return this.i=d.join("&")};function va(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function wD(d,p){p&&!d.j&&(ni(d),d.i=null,d.g.forEach(function(x,U){var L=U.toLowerCase();U!=L&&(FC(this,U),SC(this,L,x))},d)),d.j=p}function BD(d,p){const x=new fl;if(a.Image){const U=new Image;U.onload=g(ri,x,"TestLoadImage: loaded",!0,p,U),U.onerror=g(ri,x,"TestLoadImage: error",!1,p,U),U.onabort=g(ri,x,"TestLoadImage: abort",!1,p,U),U.ontimeout=g(ri,x,"TestLoadImage: timeout",!1,p,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=d}else p(!1)}function xD(d,p){const x=new fl,U=new AbortController,L=setTimeout(()=>{U.abort(),ri(x,"TestPingServer: timeout",!1,p)},1e4);fetch(d,{signal:U.signal}).then(O=>{clearTimeout(L),O.ok?ri(x,"TestPingServer: ok",!0,p):ri(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),ri(x,"TestPingServer: error",!1,p)})}function ri(d,p,x,U,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),U(x)}catch{}}function CD(){this.g=new iD}function ED(d,p,x){const U=x||"";try{_C(d,function(L,O){let Z=L;l(L)&&(Z=ma(L)),p.push(U+O+"="+encodeURIComponent(Z))})}catch(L){throw p.push(U+"type="+encodeURIComponent("_badmap")),L}}function Ed(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Ed,rm),Ed.prototype.g=function(){return new _d(this.l,this.j)},Ed.prototype.i=function(d){return function(){return d}}({});function _d(d,p){Ne.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(_d,Ne),t=_d.prototype,t.open=function(d,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,wl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vl(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;QC(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function QC(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?vl(this):wl(this),this.readyState==3&&QC(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,vl(this))},t.Qa=function(d){this.g&&(this.response=d,vl(this))},t.ga=function(){this.g&&vl(this)};function vl(d){d.readyState=4,d.l=null,d.j=null,d.v=null,wl(d)}t.setRequestHeader=function(d,p){this.u.append(d,p)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=p.next();return d.join(`\r
`)};function wl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function NC(d){let p="";return k(d,function(x,U){p+=U,p+=":",p+=x,p+=`\r
`}),p}function hm(d,p,x){e:{for(U in x){var U=!1;break e}U=!0}U||(x=NC(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):nt(d,p,x))}function mt(d){Ne.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(mt,Ne);var _D=/^https?$/i,bD=["POST","PUT"];t=mt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,p,x,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Am.g(),this.v=this.o?oC(this.o):oC(Am),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(O){kC(this,O);return}if(d=x||"",x=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var L in U)x.set(L,U[L]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const O of U.keys())x.set(O,U.get(O));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(x.keys()).find(O=>O.toLowerCase()=="content-type"),L=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(bD,p,void 0))||U||L||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,Z]of x)this.g.setRequestHeader(O,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{PC(this),this.u=!0,this.g.send(d),this.u=!1}catch(O){kC(this,O)}};function kC(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,RC(d),bd(d)}function RC(d){d.A||(d.A=!0,Re(d,"complete"),Re(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Re(this,"complete"),Re(this,"abort"),bd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bd(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DC(this):this.bb())},t.bb=function(){DC(this)};function DC(d){if(d.h&&typeof A<"u"&&(!d.v[1]||gs(d)!=4||d.Z()!=2)){if(d.u&&gs(d)==4)pd(d.Ea,0,d);else if(Re(d,"readystatechange"),gs(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var U;if(U=Z===0){var L=String(d.D).match(bC)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),U=!_D.test(L?L.toLowerCase():"")}x=U}if(x)Re(d,"complete"),Re(d,"success");else{d.m=6;try{var O=2<gs(d)?d.g.statusText:""}catch{O=""}d.l=O+" ["+d.Z()+"]",RC(d)}}finally{bd(d)}}}}function bd(d,p){if(d.g){PC(d);const x=d.g,U=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||Re(d,"ready");try{x.onreadystatechange=U}catch{}}}function PC(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function gs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<gs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&p.indexOf(d)==0&&(p=p.substring(d.length)),sD(p)}};function LC(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ID(d){const p={};d=(d.g&&2<=gs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<d.length;U++){if(v(d[U]))continue;var x=Q(d[U]);const L=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const O=p[L]||[];p[L]=O,O.push(x)}I(p,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bl(d,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||p}function MC(d){this.Aa=0,this.i=[],this.j=new fl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bl("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bl("baseRetryDelayMs",5e3,d),this.cb=Bl("retryDelaySeedMs",1e4,d),this.Wa=Bl("forwardChannelMaxRetries",2,d),this.wa=Bl("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new wC(d&&d.concurrentRequestLimit),this.Da=new CD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=MC.prototype,t.la=8,t.G=1,t.connect=function(d,p,x,U){xn(0),this.W=d,this.H=p||{},x&&U!==void 0&&(this.H.OSID=x,this.H.OAID=U),this.F=this.X,this.I=$C(this,null,this.W),Td(this)};function fm(d){if(OC(d),d.G==3){var p=d.U++,x=ps(d.I);if(nt(x,"SID",d.K),nt(x,"RID",p),nt(x,"TYPE","terminate"),xl(d,x),p=new ti(d,d.j,p),p.L=2,p.v=Cd(ps(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=p.v,x=!0),x||(p.g=qC(p.j,null),p.g.ea(p.v)),p.F=Date.now(),wd(p)}WC(d)}function Id(d){d.g&&(gm(d),d.g.cancel(),d.g=null)}function OC(d){Id(d),d.u&&(a.clearTimeout(d.u),d.u=null),Fd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Td(d){if(!BC(d.h)&&!d.s){d.s=!0;var p=d.Ga;X||z(),P||(X(),P=!0),K.add(p,d),d.B=0}}function TD(d,p){return xC(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=p.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=hl(f(d.Ga,d,p),GC(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new ti(this,this.j,d);let O=this.o;if(this.S&&(O?(O=E(O),_(O,this.S)):O=this.S),this.m!==null||this.O||(L.H=O,O=null),this.P)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var U=this.i[x];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(p+=U,4096<p){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=VC(this,L,p),x=ps(this.I),nt(x,"RID",d),nt(x,"CVER",22),this.D&&nt(x,"X-HTTP-Session-Id",this.D),xl(this,x),O&&(this.O?p="headers="+encodeURIComponent(String(NC(O)))+"&"+p:this.m&&hm(x,this.m,O)),dm(this.h,L),this.Ua&&nt(x,"TYPE","init"),this.P?(nt(x,"$req",p),nt(x,"SID","null"),L.T=!0,om(L,x,null)):om(L,x,p),this.G=2}}else this.G==3&&(d?jC(this,d):this.i.length==0||BC(this.h)||jC(this))};function jC(d,p){var x;p?x=p.l:x=d.U++;const U=ps(d.I);nt(U,"SID",d.K),nt(U,"RID",x),nt(U,"AID",d.T),xl(d,U),d.m&&d.o&&hm(U,d.m,d.o),x=new ti(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),p&&(d.i=p.D.concat(d.i)),p=VC(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),dm(d.h,x),om(x,U,p)}function xl(d,p){d.H&&k(d.H,function(x,U){nt(p,U,x)}),d.l&&_C({},function(x,U){nt(p,U,x)})}function VC(d,p,x){x=Math.min(d.i.length,x);var U=d.l?f(d.l.Na,d.l,d):null;e:{var L=d.i;let O=-1;for(;;){const Z=["count="+x];O==-1?0<x?(O=L[0].g,Z.push("ofs="+O)):O=0:Z.push("ofs="+O);let Xe=!0;for(let zt=0;zt<x;zt++){let Oe=L[zt].g;const an=L[zt].map;if(Oe-=O,0>Oe)O=Math.max(0,L[zt].g-100),Xe=!1;else try{ED(an,Z,"req"+Oe+"_")}catch{U&&U(an)}}if(Xe){U=Z.join("&");break e}}}return d=d.i.splice(0,x),p.D=d,U}function HC(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;X||z(),P||(X(),P=!0),K.add(p,d),d.v=0}}function pm(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=hl(f(d.Fa,d),GC(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,KC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=hl(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),Id(this),KC(this))};function gm(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function KC(d){d.g=new ti(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var p=ps(d.qa);nt(p,"RID","rpc"),nt(p,"SID",d.K),nt(p,"AID",d.T),nt(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(p,"TO",d.ja),nt(p,"TYPE","xmlhttp"),xl(d,p),d.m&&d.o&&hm(p,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=Cd(ps(p)),x.m=null,x.P=!0,mC(x,d)}t.Za=function(){this.C!=null&&(this.C=null,Id(this),pm(this),xn(19))};function Fd(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function zC(d,p){var x=null;if(d.g==p){Fd(d),gm(d),d.g=null;var U=2}else if(um(d.h,p))x=p.D,CC(d.h,p),U=1;else return;if(d.G!=0){if(p.o)if(U==1){x=p.m?p.m.length:0,p=Date.now()-p.F;var L=d.B;U=md(),Re(U,new hC(U,x)),Td(d)}else HC(d);else if(L=p.s,L==3||L==0&&0<p.X||!(U==1&&TD(d,p)||U==2&&pm(d)))switch(x&&0<x.length&&(p=d.h,p.i=p.i.concat(x)),L){case 1:wA(d,5);break;case 4:wA(d,10);break;case 3:wA(d,6);break;default:wA(d,2)}}}function GC(d,p){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*p}function wA(d,p){if(d.j.info("Error code "+p),p==2){var x=f(d.fb,d),U=d.Xa;const L=!U;U=new vA(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Bd(U,"https"),Cd(U),L?BD(U.toString(),x):xD(U.toString(),x)}else xn(2);d.G=0,d.l&&d.l.sa(p),WC(d),OC(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function WC(d){if(d.G=0,d.ka=[],d.l){const p=EC(d.h);(p.length!=0||d.i.length!=0)&&(C(d.ka,p),C(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function $C(d,p,x){var U=x instanceof vA?ps(x):new vA(x);if(U.g!="")p&&(U.g=p+"."+U.g),xd(U,U.s);else{var L=a.location;U=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var O=new vA(null);U&&Bd(O,U),p&&(O.g=p),L&&xd(O,L),x&&(O.l=x),U=O}return x=d.D,p=d.ya,x&&p&&nt(U,x,p),nt(U,"VER",d.la),xl(d,U),U}function qC(d,p,x){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=d.Ca&&!d.pa?new mt(new Ed({eb:x})):new mt(d.pa),p.Ha(d.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function XC(){}t=XC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ud(){}Ud.prototype.g=function(d,p){return new zn(d,p)};function zn(d,p){Ne.call(this),this.g=new MC(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!v(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,d=this.h,d!==null&&p in d&&(d=this.h,p in d&&delete d[p])),this.j=new wa(this)}m(zn,Ne),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){fm(this.g)},zn.prototype.o=function(d){var p=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=ma(d),d=x);p.i.push(new uD(p.Ya++,d)),p.G==3&&Td(p)},zn.prototype.N=function(){this.g.l=null,delete this.j,fm(this.g),delete this.g,zn.aa.N.call(this)};function YC(d){sm.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const x in p){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,p=p!==null&&d in p?p[d]:void 0),this.data=p}else this.data=d}m(YC,sm);function JC(){im.call(this),this.status=1}m(JC,im);function wa(d){this.g=d}m(wa,XC),wa.prototype.ua=function(){Re(this.g,"a")},wa.prototype.ta=function(d){Re(this.g,new YC(d))},wa.prototype.sa=function(d){Re(this.g,new JC)},wa.prototype.ra=function(){Re(this.g,"b")},Ud.prototype.createWebChannel=Ud.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,aQ=function(){return new Ud},AQ=function(){return md()},iQ=mA,qy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yd.NO_ERROR=0,yd.TIMEOUT=8,yd.HTTP_ERROR=6,Wh=yd,fC.COMPLETE="complete",sQ=fC,lC.EventType=ul,ul.OPEN="a",ul.CLOSE="b",ul.ERROR="c",ul.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,$l=lC,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,rQ=mt}).apply(typeof Xd<"u"?Xd:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new lB("@firebase/firestore");function Sl(){return JA.logLevel}function ce(t,...e){if(JA.logLevel<=ke.DEBUG){const n=e.map(wB);JA.debug(`Firestore (${el}): ${t}`,...n)}}function Vs(t,...e){if(JA.logLevel<=ke.ERROR){const n=e.map(wB);JA.error(`Firestore (${el}): ${t}`,...n)}}function Uo(t,...e){if(JA.logLevel<=ke.WARN){const n=e.map(wB);JA.warn(`Firestore (${el}): ${t}`,...n)}}function wB(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+t;throw Vs(e),new Error(e)}function Me(t,e){t||ye()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class tH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nH{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let r=this.i;const s=o=>this.i!==r?(r=this.i,n(o)):Promise.resolve();let i=new es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new es,e.enqueueRetryable(()=>s(this.currentUser))};const A=()=>{const o=i;e.enqueueRetryable(async()=>{await o.promise,await s(this.currentUser)})},a=o=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),A())};this.t.onInit(o=>a(o)),setTimeout(()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new es)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new oQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new fn(e)}}class rH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const r=i=>{i.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const A=i.token!==this.R;return this.R=i.token,ce("FirebaseAppCheckTokenProvider",`Received ${A?"new":"existing"} token.`),A?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new iH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=aH(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function So(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Lt(0,0))}static max(){return new Be(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),A=n.get(s);if(i<A)return-1;if(i>A)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends iu{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const oH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends iu{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return oH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let A=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[s+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=o,s+=2}else a==="`"?(A=!A,s++):a!=="."||A?(r+=a,s++):(i(),s++)}if(i(),A)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ye.fromString(e))}static fromName(e){return new fe(Ye.fromString(e).popFirst(5))}static empty(){return new fe(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ye(e.slice()))}}function lH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Gi(s,fe.empty(),e)}function cH(t){return new Gi(t.readTime,t.key,-1)}class Gi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gi(Be.min(),fe.empty(),-1)}static max(){return new Gi(Be.max(),fe.empty(),-1)}}function uH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==dH)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,A=!1;e.forEach(a=>{++s,a.next(()=>{++i,A&&i===s&&n()},o=>r(o))}),A=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,A=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;n(e[l]).next(u=>{A[l]=u,++a,a===i&&r(A)},u=>s(u))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function fH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $u(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}BB.oe=-1;function qu(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function pH(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qt.RED,this.left=s??qt.EMPTY,this.right=i??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,s,i){return this}insert(e,n,r){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new qn([])}unionWith(e){let n=new en(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uQ("Invalid base64 string: "+i):i}}(e);return new rn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let A=0;A<s.length;++A)i+=String.fromCharCode(s[A]);return i}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const gH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(Me(!!t),typeof t=="string"){let e=0;const n=gH.exec(t);if(Me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ZA(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CB(t){const e=t.mapValue.fields.__previous_value__;return xB(e)?CB(e):e}function Au(t){const e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n,r,s,i,A,a,o,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=A,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xB(t)?4:vH(t)?9007199254740991:yH(t)?10:11:ye()}function is(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Au(t).isEqual(Au(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const A=Wi(s.timestampValue),a=Wi(i.timestampValue);return A.seconds===a.seconds&&A.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ZA(s.bytesValue).isEqual(ZA(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Et(s.geoPointValue.latitude)===Et(i.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Et(s.integerValue)===Et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const A=Et(s.doubleValue),a=Et(i.doubleValue);return A===a?Hf(A)===Hf(a):isNaN(A)&&isNaN(a)}return!1}(t,e);case 9:return So(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(s,i){const A=s.mapValue.fields||{},a=i.mapValue.fields||{};if($_(A)!==$_(a))return!1;for(const o in A)if(A.hasOwnProperty(o)&&(a[o]===void 0||!is(A[o],a[o])))return!1;return!0}(t,e);default:return ye()}}function ou(t,e){return(t.values||[]).find(n=>is(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,A){const a=Et(i.integerValue||i.doubleValue),o=Et(A.integerValue||A.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(t,e);case 3:return X_(t.timestampValue,e.timestampValue);case 4:return X_(Au(t),Au(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,A){const a=ZA(i),o=ZA(A);return a.compareTo(o)}(t.bytesValue,e.bytesValue);case 7:return function(i,A){const a=i.split("/"),o=A.split("/");for(let l=0;l<a.length&&l<o.length;l++){const u=je(a[l],o[l]);if(u!==0)return u}return je(a.length,o.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,A){const a=je(Et(i.latitude),Et(A.latitude));return a!==0?a:je(Et(i.longitude),Et(A.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y_(t.arrayValue,e.arrayValue);case 10:return function(i,A){var a,o,l,u;const h=i.fields||{},f=A.fields||{},g=(a=h.value)===null||a===void 0?void 0:a.arrayValue,m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=je(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:Y_(g,m)}(t.mapValue,e.mapValue);case 11:return function(i,A){if(i===Jd.mapValue&&A===Jd.mapValue)return 0;if(i===Jd.mapValue)return 1;if(A===Jd.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),l=A.fields||{},u=Object.keys(l);o.sort(),u.sort();for(let h=0;h<o.length&&h<u.length;++h){const f=je(o[h],u[h]);if(f!==0)return f;const g=Qo(a[o[h]],l[u[h]]);if(g!==0)return g}return je(o.length,u.length)}(t.mapValue,e.mapValue);default:throw ye()}}function X_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Wi(t),r=Wi(e),s=je(n.seconds,r.seconds);return s!==0?s:je(n.nanos,r.nanos)}function Y_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qo(n[s],r[s]);if(i)return i}return je(n.length,r.length)}function No(t){return Xy(t)}function Xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ZA(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Xy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const A of r)i?i=!1:s+=",",s+=`${A}:${Xy(n.fields[A])}`;return s+"}"}(t.mapValue):ye()}function J_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yy(t){return!!t&&"integerValue"in t}function EB(t){return!!t&&"arrayValue"in t}function Z_(t){return!!t&&"nullValue"in t}function e1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $h(t){return!!t&&"mapValue"in t}function yH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=Xt.emptyPath(),r={},s=[];e.forEach((A,a)=>{if(!n.isImmediateParentOf(a)){const o=this.getFieldsMap(n);this.applyChanges(o,r,s),r={},s=[],n=a.popLast()}A?r[a.lastSegment()]=Bc(A):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$h(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){la(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new bn(Bc(this.value))}}function dQ(t){const e=[];return la(t.fields,(n,r)=>{const s=new Xt([n]);if($h(r)){const i=dQ(r.mapValue).fields;if(i.length===0)e.push(s);else for(const A of i)e.push(s.child(A))}else e.push(s)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,A,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=A,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,Be.min(),Be.min(),Be.min(),bn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,Be.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,Be.min(),Be.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Be.min(),Be.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n){this.position=e,this.inclusive=n}}function t1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],A=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(A.referenceValue),n.key):r=Qo(A,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function n1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!is(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function wH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hQ=class{};class Nt extends hQ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xH(e,n,r):n==="array-contains"?new _H(e,r):n==="in"?new bH(e,r):n==="not-in"?new IH(e,r):n==="array-contains-any"?new TH(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CH(e,r):new EH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends hQ{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rr(e,n)}matches(e){return fQ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fQ(t){return t.op==="and"}function pQ(t){return BH(t)&&fQ(t)}function BH(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function Jy(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(pQ(t))return t.filters.map(e=>Jy(e)).join(",");{const e=t.filters.map(n=>Jy(n)).join(",");return`${t.op}(${e})`}}function gQ(t,e){return t instanceof Nt?function(r,s){return s instanceof Nt&&r.op===s.op&&r.field.isEqual(s.field)&&is(r.value,s.value)}(t,e):t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,A,a)=>i&&gQ(A,s.filters[a]),!0):!1}(t,e):void ye()}function mQ(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(mQ).join(" ,")+"}"}(t):"Filter"}class xH extends Nt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class CH extends Nt{constructor(e,n){super(e,"in",n),this.keys=yQ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EH extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=yQ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yQ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class _H extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return EB(n)&&ou(n.arrayValue,this.value)}}class bH extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class IH extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class TH extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!EB(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,n=null,r=[],s=[],i=null,A=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=A,this.endAt=a,this.ue=null}}function r1(t,e=null,n=[],r=[],s=null,i=null,A=null){return new FH(t,e,n,r,s,i,A)}function _B(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ue=n}return e.ue}function bB(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gQ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n1(t.startAt,e.startAt)&&n1(t.endAt,e.endAt)}function Zy(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n=null,r=[],s=[],i=null,A="F",a=null,o=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=A,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UH(t,e,n,r,s,i,A,a){return new tl(t,e,n,r,s,i,A,a)}function fg(t){return new tl(t)}function s1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vQ(t){return t.collectionGroup!==null}function xc(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(A){let a=new en(Xt.comparator);return A.filters.forEach(o=>{o.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new lu(i,r))}),n.has(Xt.keyField().canonicalString())||e.ce.push(new lu(Xt.keyField(),r))}return e.ce}function ts(t){const e=Ee(t);return e.le||(e.le=SH(e,xc(t))),e.le}function SH(t,e){if(t.limitType==="F")return r1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new lu(s.field,i)});const n=t.endAt?new Kf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kf(t.startAt.position,t.startAt.inclusive):null;return r1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tv(t,e,n){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pg(t,e){return bB(ts(t),ts(e))&&t.limitType===e.limitType}function wQ(t){return`${_B(ts(t))}|lt:${t.limitType}`}function Sa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mQ(s)).join(", ")}]`),qu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(A){return`${A.field.canonicalString()} (${A.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>No(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>No(s)).join(",")),`Target(${r})`}(ts(t))}; limitType=${t.limitType})`}function gg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(A,a,o){const l=t1(A,a,o);return A.inclusive?l<=0:l<0}(r.startAt,xc(r),s)||r.endAt&&!function(A,a,o){const l=t1(A,a,o);return A.inclusive?l>=0:l>0}(r.endAt,xc(r),s))}(t,e)}function QH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BQ(t){return(e,n)=>{let r=!1;for(const s of xc(t)){const i=NH(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function NH(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,A,a){const o=A.data.field(i),l=a.data.field(i);return o!==null&&l!==null?Qo(o,l):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=new pt(fe.comparator);function Hs(){return kH}const xQ=new pt(fe.comparator);function ql(...t){let e=xQ;for(const n of t)e=e.insert(n.key,n);return e}function CQ(t){let e=xQ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function NA(){return Cc()}function EQ(){return Cc()}function Cc(){return new nl(t=>t.toString(),(t,e)=>t.isEqual(e))}const RH=new pt(fe.comparator),DH=new en(fe.comparator);function Qe(...t){let e=DH;for(const n of t)e=e.add(n);return e}const PH=new en(je);function LH(){return PH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function _Q(t){return{integerValue:""+t}}function MH(t,e){return pH(e)?_Q(e):IB(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this._=void 0}}function OH(t,e,n){return t instanceof cu?function(s,i){const A={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&xB(i)&&(i=CB(i)),i&&(A.fields.__previous_value__=i),{mapValue:A}}(n,e):t instanceof uu?IQ(t,e):t instanceof du?TQ(t,e):function(s,i){const A=bQ(s,i),a=i1(A)+i1(s.Pe);return Yy(A)&&Yy(s.Pe)?_Q(a):IB(s.serializer,a)}(t,e)}function jH(t,e,n){return t instanceof uu?IQ(t,e):t instanceof du?TQ(t,e):n}function bQ(t,e){return t instanceof zf?function(r){return Yy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class cu extends mg{}class uu extends mg{constructor(e){super(),this.elements=e}}function IQ(t,e){const n=FQ(e);for(const r of t.elements)n.some(s=>is(s,r))||n.push(r);return{arrayValue:{values:n}}}class du extends mg{constructor(e){super(),this.elements=e}}function TQ(t,e){let n=FQ(e);for(const r of t.elements)n=n.filter(s=>!is(s,r));return{arrayValue:{values:n}}}class zf extends mg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function i1(t){return Et(t.integerValue||t.doubleValue)}function FQ(t){return EB(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n){this.field=e,this.transform=n}}function HH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uu&&s instanceof uu||r instanceof du&&s instanceof du?So(r.elements,s.elements,is):r instanceof zf&&s instanceof zf?is(r.Pe,s.Pe):r instanceof cu&&s instanceof cu}(t.transform,e.transform)}class KH{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yg{}function UQ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vg(t.key,Yt.none()):new Xu(t.key,t.data,Yt.none());{const n=t.data,r=bn.empty();let s=new en(Xt.comparator);for(let i of e.fields)if(!s.has(i)){let A=n.field(i);A===null&&i.length>1&&(i=i.popLast(),A=n.field(i)),A===null?r.delete(i):r.set(i,A),s=s.add(i)}return new uA(t.key,r,new qn(s.toArray()),Yt.none())}}function zH(t,e,n){t instanceof Xu?function(s,i,A){const a=s.value.clone(),o=a1(s.fieldTransforms,i,A.transformResults);a.setAll(o),i.convertToFoundDocument(A.version,a).setHasCommittedMutations()}(t,e,n):t instanceof uA?function(s,i,A){if(!qh(s.precondition,i))return void i.convertToUnknownDocument(A.version);const a=a1(s.fieldTransforms,i,A.transformResults),o=i.data;o.setAll(SQ(s)),o.setAll(a),i.convertToFoundDocument(A.version,o).setHasCommittedMutations()}(t,e,n):function(s,i,A){i.convertToNoDocument(A.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Xu?function(i,A,a,o){if(!qh(i.precondition,A))return a;const l=i.value.clone(),u=o1(i.fieldTransforms,o,A);return l.setAll(u),A.convertToFoundDocument(A.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof uA?function(i,A,a,o){if(!qh(i.precondition,A))return a;const l=o1(i.fieldTransforms,o,A),u=A.data;return u.setAll(SQ(i)),u.setAll(l),A.convertToFoundDocument(A.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,A,a){return qh(i.precondition,A)?(A.convertToNoDocument(A.version).setHasLocalMutations(),null):a}(t,e,n)}function GH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=bQ(r.transform,s||null);i!=null&&(n===null&&(n=bn.empty()),n.set(r.field,i))}return n||null}function A1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&So(r,s,(i,A)=>HH(i,A))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xu extends yg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class uA extends yg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function SQ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a1(t,e,n){const r=new Map;Me(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],A=i.transform,a=e.data.field(i.field);r.set(i.field,jH(A,a,n[s]))}return r}function o1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,A=n.data.field(s.field);r.set(s.field,OH(i,A,e))}return r}class vg extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QQ extends yg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&zH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EQ();return this.mutations.forEach(s=>{const i=e.get(s.key),A=i.overlayedDocument;let a=this.applyToLocalView(A,i.mutatedFields);a=n.has(s.key)?null:a;const o=UQ(A,a);o!==null&&r.set(s.key,o),A.isValidDocument()||A.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(n,r)=>A1(n,r))&&So(this.baseMutations,e.baseMutations,(n,r)=>A1(n,r))}}class TB{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length);let s=function(){return RH}();const i=e.mutations;for(let A=0;A<i.length;A++)s=s.insert(i[A].key,r[A].version);return new TB(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,De;function NQ(t){switch(t){default:return ye();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function kQ(t){if(t===void 0)return Vs("GRPC error has no .code"),H.UNKNOWN;switch(t){case Tt.OK:return H.OK;case Tt.CANCELLED:return H.CANCELLED;case Tt.UNKNOWN:return H.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return H.INTERNAL;case Tt.UNAVAILABLE:return H.UNAVAILABLE;case Tt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Tt.NOT_FOUND:return H.NOT_FOUND;case Tt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Tt.ABORTED:return H.ABORTED;case Tt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Tt.DATA_LOSS:return H.DATA_LOSS;default:return ye()}}(De=Tt||(Tt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new MA([4294967295,4294967295],0);function l1(t){const e=XH().encode(t),n=new nQ;return n.update(e),new Uint8Array(n.digest())}function c1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new MA([n,r],0),new MA([s,i],0)]}class FB{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=MA.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(MA.fromNumber(r)));return s.compare(YH)===1&&(s=new MA([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=l1(e),[r,s]=c1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);if(!this.de(A))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),A=new FB(i,s,n);return r.forEach(a=>A.insert(a)),A}insert(e){if(this.Ie===0)return;const n=l1(e),[r,s]=c1(n);for(let i=0;i<this.hashCount;i++){const A=this.Ee(r,s,i);this.Ae(A)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wg(Be.min(),s,new pt(je),Hs(),Qe())}}class Yu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Yu(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class RQ{constructor(e,n){this.targetId=e,this.me=n}}class DQ{constructor(e,n,r=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class u1{constructor(){this.fe=0,this.ge=h1(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new Yu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=h1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JH{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hs(),this.qe=d1(),this.Qe=new pt(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Zy(i))if(r===0){const A=new fe(i.path);this.Ue(n,A,Ht.newNoDocument(A,Be.min()))}else Me(r===1);else{const A=this.Ye(n);if(A!==r){const a=this.Ze(e),o=a?this.Xe(a,e,A):1;if(o!==0){this.je(n);const l=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let A,a;try{A=ZA(r).toUint8Array()}catch(o){if(o instanceof uQ)return Uo("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new FB(A,s,i)}catch(o){return Uo(o instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const A=this.Le.tt(),a=`projects/${A.projectId}/databases/${A.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,A)=>{const a=this.Je(A);if(a){if(i.current&&Zy(a.target)){const o=new fe(a.target.path);this.ke.get(o)!==null||this.it(A,o)||this.Ue(A,o,Ht.newNoDocument(o,e))}i.be&&(n.set(A,i.ve()),i.Ce())}});let r=Qe();this.qe.forEach((i,A)=>{let a=!0;A.forEachWhile(o=>{const l=this.Je(o);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,A)=>A.setReadTime(e));const s=new wg(e,n,this.Qe,this.ke,r);return this.ke=Hs(),this.qe=d1(),this.Qe=new pt(je),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new u1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new en(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new u1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function d1(){return new pt(fe.comparator)}function h1(){return new pt(fe.comparator)}const ZH={asc:"ASCENDING",desc:"DESCENDING"},e3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t3={and:"AND",or:"OR"};class n3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nv(t,e){return t.useProto3Json||qu(e)?e:{value:e}}function Gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r3(t,e){return Gf(t,e.toTimestamp())}function Yn(t){return Me(!!t),Be.fromTimestamp(function(n){const r=Wi(n);return new Lt(r.seconds,r.nanos)}(t))}function UB(t,e){return rv(t,e).canonicalString()}function rv(t,e){const n=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LQ(t){const e=Ye.fromString(t);return Me(KQ(e)),e}function Wf(t,e){return UB(t.databaseId,e.path)}function _c(t,e){const n=LQ(e);if(n.get(1)!==t.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(OQ(n))}function MQ(t,e){return UB(t.databaseId,e)}function s3(t){const e=LQ(t);return e.length===4?Ye.emptyPath():OQ(e)}function sv(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OQ(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function f1(t,e,n){return{name:Wf(t,e),fields:n.value.mapValue.fields}}function i3(t,e){return"found"in e?function(r,s){Me(!!s.found),s.found.name,s.found.updateTime;const i=_c(r,s.found.name),A=Yn(s.found.updateTime),a=s.found.createTime?Yn(s.found.createTime):Be.min(),o=new bn({mapValue:{fields:s.found.fields}});return Ht.newFoundDocument(i,A,a,o)}(t,e):"missing"in e?function(r,s){Me(!!s.missing),Me(!!s.readTime);const i=_c(r,s.missing),A=Yn(s.readTime);return Ht.newNoDocument(i,A)}(t,e):ye()}function A3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Me(u===void 0||typeof u=="string"),rn.fromBase64String(u||"")):(Me(u===void 0||u instanceof Buffer||u instanceof Uint8Array),rn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),A=e.targetChange.cause,a=A&&function(l){const u=l.code===void 0?H.UNKNOWN:kQ(l.code);return new re(u,l.message||"")}(A);n=new DQ(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=_c(t,r.document.name),i=Yn(r.document.updateTime),A=r.document.createTime?Yn(r.document.createTime):Be.min(),a=new bn({mapValue:{fields:r.document.fields}}),o=Ht.newFoundDocument(s,i,A,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Xh(l,u,o.key,o)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=_c(t,r.document),i=r.readTime?Yn(r.readTime):Be.min(),A=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xh([],a,A.key,A)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=_c(t,r.document),i=r.removedTargetIds||[];n=new Xh([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,A=new qH(s,i),a=r.targetId;n=new RQ(a,A)}}return n}function jQ(t,e){let n;if(e instanceof Xu)n={update:f1(t,e.key,e.value)};else if(e instanceof vg)n={delete:Wf(t,e.key)};else if(e instanceof uA)n={update:f1(t,e.key,e.data),updateMask:p3(e.fieldMask)};else{if(!(e instanceof QQ))return ye();n={verify:Wf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,A){const a=A.transform;if(a instanceof cu)return{fieldPath:A.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:A.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof du)return{fieldPath:A.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zf)return{fieldPath:A.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:r3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ye()}(t,e.precondition)),n}function a3(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(s,i){let A=s.updateTime?Yn(s.updateTime):Yn(i);return A.isEqual(Be.min())&&(A=Yn(i)),new KH(A,s.transformResults||[])}(n,e))):[]}function o3(t,e){return{documents:[MQ(t,e.path)]}}function l3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MQ(t,s);const i=function(l){if(l.length!==0)return HQ(Rr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const A=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Qa(f.field),direction:d3(f.dir)}}(u))}(e.orderBy);A&&(n.structuredQuery.orderBy=A);const a=nv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:s}}function c3(t){let e=s3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=VQ(h);return f instanceof Rr&&pQ(f)?f.getFilters():[f]}(n.where));let A=[];n.orderBy&&(A=function(h){return h.map(f=>function(m){return new lu(Na(m.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,qu(f)?null:f}(n.limit));let o=null;n.startAt&&(o=function(h){const f=!!h.before,g=h.values||[];return new Kf(g,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,g=h.values||[];return new Kf(g,f)}(n.endAt)),UH(e,s,A,i,a,"F",o,l)}function u3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VQ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Na(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Na(n.unaryFilter.field);return Nt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Na(n.unaryFilter.field);return Nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=Na(n.unaryFilter.field);return Nt.create(A,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(Na(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>VQ(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function d3(t){return ZH[t]}function h3(t){return e3[t]}function f3(t){return t3[t]}function Qa(t){return{fieldPath:t.canonicalString()}}function Na(t){return Xt.fromServerFormat(t.fieldPath)}function HQ(t){return t instanceof Nt?function(n){if(n.op==="=="){if(e1(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(Z_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e1(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(Z_(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:h3(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(s=>HQ(s));return r.length===1?r[0]:{compositeFilter:{op:f3(n.op),filters:r}}}(t):ye()}function p3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KQ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n,r,s,i=Be.min(),A=Be.min(),a=rn.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.ct=e}}function m3(t){const e=c3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.un=new v3}addToCollectionParentIndex(e,n){return this.un.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Gi.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class v3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new en(Ye.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ko(0)}static kn(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.changes=new nl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ec(r.mutation,s,qn.empty(),Lt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const s=NA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let A=ql();return i.forEach((a,o)=>{A=A.insert(a,o.overlayedDocument)}),A}))}getOverlayedDocuments(e,n){const r=NA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((A,a)=>{n.set(A,a)})})}computeViews(e,n,r,s){let i=Hs();const A=Cc(),a=function(){return Cc()}();return n.forEach((o,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof uA)?i=i.insert(l.key,l):u!==void 0?(A.set(l.key,u.mutation.getFieldMask()),Ec(u.mutation,l,u.mutation.getFieldMask(),Lt.now())):A.set(l.key,qn.empty())}),this.recalculateAndSaveOverlays(e,i).next(o=>(o.forEach((l,u)=>A.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new B3(u,(h=A.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new pt((A,a)=>A-a),i=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(A=>{for(const a of A)a.keys().forEach(o=>{const l=n.get(o);if(l===null)return;let u=r.get(o)||qn.empty();u=a.applyToLocalView(l,u),r.set(o,u);const h=(s.get(a.batchId)||Qe()).add(o);s=s.insert(a.batchId,h)})}).next(()=>{const A=[],a=s.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),l=o.key,u=o.value,h=EQ();u.forEach(f=>{if(!i.has(f)){const g=UQ(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),A.push(this.documentOverlayCache.saveOverlays(e,l,h))}return G.waitFor(A)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(A){return fe.isDocumentKey(A.path)&&A.collectionGroup===null&&A.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const A=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(NA());let a=-1,o=i;return A.next(l=>G.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?G.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{o=o.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,o,l,Qe())).next(u=>({batchId:a,changes:CQ(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=ql();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let A=ql();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,o=>{const l=function(h,f){return new tl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,f)=>{A=A.insert(h,f)})})}).next(()=>A))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(A=>(i=A,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(A=>{i.forEach((o,l)=>{const u=l.getKey();A.get(u)===null&&(A=A.insert(u,Ht.newInvalidDocument(u)))});let a=ql();return A.forEach((o,l)=>{const u=i.get(o);u!==void 0&&Ec(u.mutation,l,qn.empty(),Lt.now()),gg(n,l)&&(a=a.insert(o,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return G.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Yn(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:m3(s.bundledQuery),readTime:Yn(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.overlays=new pt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=NA();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=NA(),i=n.length+1,A=new fe(n.child("")),a=this.overlays.getIteratorFrom(A);for(;a.hasNext();){const o=a.getNext().value,l=o.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&o.largestBatchId>r&&s.set(o.getKey(),o)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((l,u)=>l-u);const A=this.overlays.getIterator();for(;A.hasNext();){const l=A.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=NA(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=NA(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return G.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const A=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,A)}this.overlays=this.overlays.insert(r.key,new $H(n,r));let i=this.Ir.get(n);i===void 0&&(i=Qe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.Tr=new en(jt.Er),this.dr=new en(jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new jt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new Ye([])),r=new jt(n,e),s=new jt(n,e+1),i=[];return this.dr.forEachInRange([r,s],A=>{this.Vr(A),i.push(A.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new Ye([])),r=new jt(n,e),s=new jt(n,e+1);let i=Qe();return this.dr.forEachInRange([r,s],A=>{i=i.add(A.key)}),i}containsKey(e){const n=new jt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new en(jt.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const A=new WH(i,n,r,s);this.mutationQueue.push(A);for(const a of s)this.br=this.br.add(new jt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(A)}lookupMutationBatch(e,n){return G.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],A=>{const a=this.Dr(A.wr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(je);return n.forEach(s=>{const i=new jt(s,0),A=new jt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,A],a=>{r=r.add(a.wr)})}),G.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const A=new jt(new fe(i),0);let a=new en(je);return this.br.forEachWhile(o=>{const l=o.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(o.wr)),!0)},A),G.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return G.forEach(n.mutations,s=>{const i=new jt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new jt(n,0),s=this.br.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.Mr=e,this.docs=function(){return new pt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,A=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:A}),this.size+=A-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hs();const A=n.path,a=new fe(A.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:l,value:{document:u}}=o.getNext();if(!A.isPrefixOf(l.path))break;l.path.length>A.length+1||uH(cH(u),r)<=0||(s.has(u.key)||gg(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ye()}Or(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T3(this)}getSize(e){return G.resolve(this.size)}}class T3 extends w3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.persistence=e,this.Nr=new nl(n=>_B(n),bB),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new SB,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),G.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.Kn(n),G.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((A,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(A),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(A=>{i.push(s.markPotentiallyOrphaned(e,A))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new BB(0),this.Kr=!1,this.Kr=!0,this.$r=new _3,this.referenceDelegate=e(this),this.Ur=new F3(this),this.indexManager=new y3,this.remoteDocumentCache=function(s){return new I3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new g3(n),this.Gr=new C3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new b3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new S3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return G.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class S3 extends hH{constructor(e){super(),this.currentSequenceNumber=e}}class QB{constructor(e){this.persistence=e,this.Jr=new SB,this.Yr=null}static Zr(e){return new QB(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),G.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,r=>{const s=fe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return G.or([()=>G.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Qe(),s=Qe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new NB(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return mM()?8:fH(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(A=>{i.result=A}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(A=>{i.result=A})}).next(()=>{if(i.result)return;const A=new Q3;return this.Xi(e,n,A).next(a=>{if(i.result=a,this.zi)return this.es(e,n,A,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Sl()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Sl()<=ke.DEBUG&&ce("QueryEngine","Query:",Sa(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Sl()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(n))):G.resolve())}Yi(e,n){if(s1(n))return G.resolve(null);let r=ts(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=tv(n,null,"F"),r=ts(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const A=Qe(...i);return this.Ji.getDocuments(e,A).next(a=>this.indexManager.getMinOffset(e,r).next(o=>{const l=this.ts(n,a);return this.ns(n,l,A,o.readTime)?this.Yi(e,tv(n,null,"F")):this.rs(e,l,n,o)}))})))}Zi(e,n,r,s){return s1(n)||s.isEqual(Be.min())?G.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const A=this.ts(n,i);return this.ns(n,A,r,s)?G.resolve(null):(Sl()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Sa(n)),this.rs(e,A,n,lH(s,-1)).next(a=>a))})}ts(e,n){let r=new en(BQ(e));return n.forEach((s,i)=>{gg(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Sl()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Sa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Gi.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(A=>{i=i.insert(A.key,A)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new pt(je),this._s=new nl(i=>_B(i),bB),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function R3(t,e,n,r){return new k3(t,e,n,r)}async function zQ(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const A=[],a=[];let o=Qe();for(const l of s){A.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)o=o.add(u.key)}return n.localDocuments.getDocuments(r,o).next(l=>({hs:l,removedBatchIds:A,addedBatchIds:a}))})})}function D3(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,o,l,u){const h=l.batch,f=h.keys();let g=G.resolve();return f.forEach(m=>{g=g.next(()=>u.getEntry(o,m)).next(y=>{const C=l.docVersions.get(m);Me(C!==null),y.version.compareTo(C)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(o,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=Qe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GQ(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function P3(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const A=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(rn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,r)),s=s.insert(h,g),function(y,C,B){return y.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(f,g,u)&&a.push(n.Ur.updateTargetData(i,g))});let o=Hs(),l=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(L3(i,A,e.documentUpdates).next(u=>{o=u.Ps,l=u.Is})),!r.isEqual(Be.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return G.waitFor(a).next(()=>A.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,o,l)).next(()=>o)}).then(i=>(n.os=s,i))}function L3(t,e,n){let r=Qe(),s=Qe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let A=Hs();return n.forEach((a,o)=>{const l=i.get(a);o.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),o.isNoDocument()&&o.version.isEqual(Be.min())?(e.removeEntry(a,o.readTime),A=A.insert(a,o)):!l.isValidDocument()||o.version.compareTo(l.version)>0||o.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(o),A=A.insert(a,o)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",o.version)}),{Ps:A,Is:s}})}function M3(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O3(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.Ur.allocateTargetId(r).next(A=>(s=new Ci(e,A,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function iv(t,e,n){const r=Ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,A=>r.persistence.referenceDelegate.removeTarget(A,s))}catch(A){if(!$u(A))throw A;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${A}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function p1(t,e,n){const r=Ee(t);let s=Be.min(),i=Qe();return r.persistence.runTransaction("Execute query","readwrite",A=>function(o,l,u){const h=Ee(o),f=h._s.get(u);return f!==void 0?G.resolve(h.os.get(f)):h.Ur.getTargetData(l,u)}(r,A,ts(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(A,a.targetId).next(o=>{i=o})}).next(()=>r.ss.getDocumentsMatchingQuery(A,e,n?s:Be.min(),n?i:Qe())).next(a=>(j3(r,QH(e),a),{documents:a,Ts:i})))}function j3(t,e,n){let r=t.us.get(e)||Be.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class g1{constructor(){this.activeTargetIds=LH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V3{constructor(){this.so=new g1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new g1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=null;function Jm(){return Zd===null?Zd=function(){return 268435456+Math.round(2147483648*Math.random())}():Zd++,"0x"+Zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class G3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,A){const a=Jm(),o=this.xo(n,r.toUriEncodedString());ce("RestConnection",`Sending RPC '${n}' ${a}:`,o,s);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,i,A),this.No(n,o,l,s).then(u=>(ce("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Uo("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",o,"request:",s),u})}Lo(n,r,s,i,A,a){return this.Mo(n,r,s,i,A)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,A)=>n[A]=i),s&&s.headers.forEach((i,A)=>n[A]=i)}xo(n,r){const s=K3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Jm();return new Promise((A,a)=>{const o=new rQ;o.setWithCredentials(!0),o.listenOnce(sQ.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Wh.NO_ERROR:const u=o.getResponseJson();ce(un,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),A(u);break;case Wh.TIMEOUT:ce(un,`RPC '${e}' ${i} timed out`),a(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const h=o.getStatus();if(ce(un,`RPC '${e}' ${i} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(C){const B=C.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(B)>=0?B:H.UNKNOWN}(g.status);a(new re(m,g.message))}else a(new re(H.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new re(H.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ce(un,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);ce(un,`RPC '${e}' ${i} sending request:`,s),o.send(n,"POST",l,r,15)})}Bo(e,n,r){const s=Jm(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],A=aQ(),a=AQ(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const u=i.join("");ce(un,`Creating RPC '${e}' stream ${s}: ${u}`,o);const h=A.createWebChannel(u,o);let f=!1,g=!1;const m=new z3({Io:C=>{g?ce(un,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||(ce(un,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),ce(un,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},To:()=>h.close()}),y=(C,B,v)=>{C.listen(B,w=>{try{v(w)}catch(F){setTimeout(()=>{throw F},0)}})};return y(h,$l.EventType.OPEN,()=>{g||(ce(un,`RPC '${e}' stream ${s} transport opened.`),m.yo())}),y(h,$l.EventType.CLOSE,()=>{g||(g=!0,ce(un,`RPC '${e}' stream ${s} transport closed`),m.So())}),y(h,$l.EventType.ERROR,C=>{g||(g=!0,Uo(un,`RPC '${e}' stream ${s} transport errored:`,C),m.So(new re(H.UNAVAILABLE,"The operation could not be completed")))}),y(h,$l.EventType.MESSAGE,C=>{var B;if(!g){const v=C.data[0];Me(!!v);const w=v,F=w.error||((B=w[0])===null||B===void 0?void 0:B.error);if(F){ce(un,`RPC '${e}' stream ${s} received error:`,F);const N=F.status;let k=function(b){const _=Tt[b];if(_!==void 0)return kQ(_)}(N),I=F.message;k===void 0&&(k=H.INTERNAL,I="Unknown error status: "+N+" with message "+F.message),g=!0,m.So(new re(k,I)),h.close()}else ce(un,`RPC '${e}' stream ${s} received:`,v),m.bo(v)}}),y(a,iQ.STAT_EVENT,C=>{C.stat===qy.PROXY?ce(un,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===qy.NOPROXY&&ce(un,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){return new n3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,n,r,s,i,A,a,o){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=A,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kB(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Vs(n.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W3 extends WQ{constructor(e,n,r,s,i,A){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=A3(this.serializer,e),r=function(i){if(!("targetChange"in i))return Be.min();const A=i.targetChange;return A.targetIds&&A.targetIds.length?Be.min():A.readTime?Yn(A.readTime):Be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=sv(this.serializer),n.addTarget=function(i,A){let a;const o=A.target;if(a=Zy(o)?{documents:o3(i,o)}:{query:l3(i,o)._t},a.targetId=A.targetId,A.resumeToken.approximateByteSize()>0){a.resumeToken=PQ(i,A.resumeToken);const l=nv(i,A.expectedCount);l!==null&&(a.expectedCount=l)}else if(A.snapshotVersion.compareTo(Be.min())>0){a.readTime=Gf(i,A.snapshotVersion.toTimestamp());const l=nv(i,A.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=u3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=sv(this.serializer),n.removeTarget=e,this.a_(n)}}class $3 extends WQ{constructor(e,n,r,s,i,A){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,A),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=a3(e.writeResults,e.commitTime),r=Yn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jQ(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,A])=>this.connection.Mo(e,rv(n,r),s,i,A)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(H.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,a])=>this.connection.Lo(e,rv(n,r),s,A,a,i)).catch(A=>{throw A.name==="FirebaseError"?(A.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new re(H.UNKNOWN,A.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class X3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vs(n),this.D_=!1):ce("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(A=>{r.enqueueAndForget(async()=>{ca(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=Ee(o);l.L_.add(4),await Ju(l),l.q_.set("Unknown"),l.L_.delete(4),await xg(l)}(this))})}),this.q_=new X3(r,s)}}async function xg(t){if(ca(t))for(const e of t.B_)await e(!0)}async function Ju(t){for(const e of t.B_)await e(!1)}function $Q(t,e){const n=Ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),LB(n)?PB(n):rl(n).r_()&&DB(n,e))}function RB(t,e){const n=Ee(t),r=rl(n);n.N_.delete(e),r.r_()&&qQ(n,e),n.N_.size===0&&(r.r_()?r.o_():ca(n)&&n.q_.set("Unknown"))}function DB(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).A_(e)}function qQ(t,e){t.Q_.xe(e),rl(t).R_(e)}function PB(t){t.Q_=new JH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.q_.v_()}function LB(t){return ca(t)&&!rl(t).n_()&&t.N_.size>0}function ca(t){return Ee(t).L_.size===0}function XQ(t){t.Q_=void 0}async function J3(t){t.q_.set("Online")}async function Z3(t){t.N_.forEach((e,n)=>{DB(t,e)})}async function eK(t,e){XQ(t),LB(t)?(t.q_.M_(e),PB(t)):t.q_.set("Unknown")}async function tK(t,e,n){if(t.q_.set("Online"),e instanceof DQ&&e.state===2&&e.cause)try{await async function(s,i){const A=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,A),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $f(t,r)}else if(e instanceof Xh?t.Q_.Ke(e):e instanceof RQ?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Be.min()))try{const r=await GQ(t.localStore);n.compareTo(r)>=0&&await function(i,A){const a=i.Q_.rt(A);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const u=i.N_.get(l);u&&i.N_.set(l,u.withResumeToken(o.resumeToken,A))}}),a.targetMismatches.forEach((o,l)=>{const u=i.N_.get(o);if(!u)return;i.N_.set(o,u.withResumeToken(rn.EMPTY_BYTE_STRING,u.snapshotVersion)),qQ(i,o);const h=new Ci(u.target,o,l,u.sequenceNumber);DB(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ce("RemoteStore","Failed to raise snapshot:",r),await $f(t,r)}}async function $f(t,e,n){if(!$u(e))throw e;t.L_.add(1),await Ju(t),t.q_.set("Offline"),n||(n=()=>GQ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await xg(t)})}function YQ(t,e){return e().catch(n=>$f(t,n,e))}async function Cg(t){const e=Ee(t),n=$i(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nK(e);)try{const s=await M3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,rK(e,s)}catch(s){await $f(e,s)}JQ(e)&&ZQ(e)}function nK(t){return ca(t)&&t.O_.length<10}function rK(t,e){t.O_.push(e);const n=$i(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JQ(t){return ca(t)&&!$i(t).n_()&&t.O_.length>0}function ZQ(t){$i(t).start()}async function sK(t){$i(t).p_()}async function iK(t){const e=$i(t);for(const n of t.O_)e.m_(n.mutations)}async function AK(t,e,n){const r=t.O_.shift(),s=TB.from(r,e,n);await YQ(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cg(t)}async function aK(t,e){e&&$i(t).V_&&await async function(r,s){if(function(A){return NQ(A)&&A!==H.ABORTED}(s.code)){const i=r.O_.shift();$i(r).s_(),await YQ(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Cg(r)}}(t,e),JQ(t)&&ZQ(t)}async function y1(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const r=ca(n);n.L_.add(3),await Ju(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await xg(n)}async function oK(t,e){const n=Ee(t);e?(n.L_.delete(2),await xg(n)):e||(n.L_.add(2),await Ju(n),n.q_.set("Unknown"))}function rl(t){return t.K_||(t.K_=function(n,r,s){const i=Ee(n);return i.w_(),new W3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:J3.bind(null,t),Ro:Z3.bind(null,t),mo:eK.bind(null,t),d_:tK.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),LB(t)?PB(t):t.q_.set("Unknown")):(await t.K_.stop(),XQ(t))})),t.K_}function $i(t){return t.U_||(t.U_=function(n,r,s){const i=Ee(n);return i.w_(),new $3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sK.bind(null,t),mo:aK.bind(null,t),f_:iK.bind(null,t),g_:AK.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Cg(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const A=Date.now()+r,a=new MB(e,n,A,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OB(t,e){if(Vs("AsyncQueue",`${e}: ${t}`),$u(t))return new re(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.W_=new pt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ro{constructor(e,n,r,s,i,A,a,o,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=A,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const A=[];return n.forEach(a=>{A.push({type:0,doc:a})}),new Ro(e,n,mo.emptySet(n),A,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class cK{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ee(n),i=s.queries;s.queries=w1(),i.forEach((A,a)=>{for(const o of a.j_)o.onError(r)})})(this,new re(H.ABORTED,"Firestore shutting down"))}}function w1(){return new nl(t=>wQ(t),pg)}async function jB(t,e){const n=Ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new lK,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(A){const a=OB(A,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&HB(n)}async function VB(t,e){const n=Ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const A=i.j_.indexOf(e);A>=0&&(i.j_.splice(A,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uK(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,A=n.queries.get(i);if(A){for(const a of A.j_)a.X_(s)&&(r=!0);A.z_=s}}r&&HB(n)}function dK(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function HB(t){t.Y_.forEach(e=>{e.next()})}var Av,B1;(B1=Av||(Av={})).ea="default",B1.Cache="cache";class KB{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Av.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.key=e}}class t2{constructor(e){this.key=e}}class hK{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=BQ(e),this.Ra=new mo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new v1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,A=s,a=!1;const o=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),g=gg(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;f&&g?f.data.isEqual(g.data)?m!==y&&(r.track({type:3,doc:g}),C=!0):this.ga(f,g)||(r.track({type:2,doc:g}),C=!0,(o&&this.Aa(g,o)>0||l&&this.Aa(g,l)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),C=!0):f&&!g&&(r.track({type:1,doc:f}),C=!0,(o||l)&&(a=!0)),C&&(g?(A=A.add(g),i=y?i.add(u):i.delete(u)):(A=A.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;A.size>this.query.limit;){const u=this.query.limitType==="F"?A.last():A.first();A=A.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:A,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const A=e.fa.G_();A.sort((u,h)=>function(g,m){const y=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return y(g)-y(m)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],o=this.da.size===0&&this.current&&!s?1:0,l=o!==this.Ea;return this.Ea=o,A.length!==0||l?{snapshot:new Ro(this.query,e.Ra,i,A,e.mutatedKeys,o===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new v1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new t2(r))}),this.da.forEach(r=>{e.has(r)||n.push(new e2(r))}),n}ba(e){this.Ta=e.Ts,this.da=Qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ro.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pK{constructor(e){this.key=e,this.va=!1}}class gK{constructor(e,n,r,s,i,A){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=A,this.Ca={},this.Fa=new nl(a=>wQ(a),pg),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(fe.comparator),this.Na=new Map,this.La=new SB,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mK(t,e,n=!0){const r=a2(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await n2(r,e,n,!0),s}async function yK(t,e){const n=a2(t);await n2(n,e,!0,!1)}async function n2(t,e,n,r){const s=await O3(t.localStore,ts(e)),i=s.targetId,A=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await vK(t,e,i,A==="current",s.resumeToken)),t.isPrimaryClient&&n&&$Q(t.remoteStore,s),a}async function vK(t,e,n,r,s){t.Ka=(h,f,g)=>async function(y,C,B,v){let w=C.view.ma(B);w.ns&&(w=await p1(y.localStore,C.query,!1).then(({documents:I})=>C.view.ma(I,w)));const F=v&&v.targetChanges.get(C.targetId),N=v&&v.targetMismatches.get(C.targetId)!=null,k=C.view.applyChanges(w,y.isPrimaryClient,F,N);return C1(y,C.targetId,k.wa),k.snapshot}(t,h,f,g);const i=await p1(t.localStore,e,!0),A=new hK(e,i.Ts),a=A.ma(i.documents),o=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=A.applyChanges(a,t.isPrimaryClient,o);C1(t,n,l.wa);const u=new fK(e,n,A);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot}async function wK(t,e,n){const r=Ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(A=>!pg(A,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await iv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&RB(r.remoteStore,s.targetId),av(r,s.targetId)}).catch(Wu)):(av(r,s.targetId),await iv(r.localStore,s.targetId,!0))}async function BK(t,e){const n=Ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RB(n.remoteStore,r.targetId))}async function xK(t,e,n){const r=FK(t);try{const s=await function(A,a){const o=Ee(A),l=Lt.now(),u=a.reduce((g,m)=>g.add(m.key),Qe());let h,f;return o.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=Hs(),y=Qe();return o.cs.getEntries(g,u).next(C=>{m=C,m.forEach((B,v)=>{v.isValidDocument()||(y=y.add(B))})}).next(()=>o.localDocuments.getOverlayedDocuments(g,m)).next(C=>{h=C;const B=[];for(const v of a){const w=GH(v,h.get(v.key).overlayedDocument);w!=null&&B.push(new uA(v.key,w,dQ(w.value.mapValue),Yt.exists(!0)))}return o.mutationQueue.addMutationBatch(g,l,B,a)}).next(C=>{f=C;const B=C.applyToLocalDocumentSet(h,y);return o.documentOverlayCache.saveOverlays(g,C.batchId,B)})}).then(()=>({batchId:f.batchId,changes:CQ(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(A,a,o){let l=A.Ba[A.currentUser.toKey()];l||(l=new pt(je)),l=l.insert(a,o),A.Ba[A.currentUser.toKey()]=l}(r,s.batchId,n),await Zu(r,s.changes),await Cg(r.remoteStore)}catch(s){const i=OB(s,"Failed to persist write");n.reject(i)}}async function r2(t,e){const n=Ee(t);try{const r=await P3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const A=n.Na.get(i);A&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?A.va=!0:s.modifiedDocuments.size>0?Me(A.va):s.removedDocuments.size>0&&(Me(A.va),A.va=!1))}),await Zu(n,r,e)}catch(r){await Wu(r)}}function x1(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,A)=>{const a=A.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(A,a){const o=Ee(A);o.onlineState=a;let l=!1;o.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(l=!0)}),l&&HB(o)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CK(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let A=new pt(fe.comparator);A=A.insert(i,Ht.newNoDocument(i,Be.min()));const a=Qe().add(i),o=new wg(Be.min(),new Map,new pt(je),A,a);await r2(r,o),r.Oa=r.Oa.remove(i),r.Na.delete(e),zB(r)}else await iv(r.localStore,e,!1).then(()=>av(r,e,n)).catch(Wu)}async function EK(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await D3(n.localStore,e);i2(n,r,null),s2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zu(n,s)}catch(s){await Wu(s)}}async function _K(t,e,n){const r=Ee(t);try{const s=await function(A,a){const o=Ee(A);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return o.mutationQueue.lookupMutationBatch(l,a).next(h=>(Me(h!==null),u=h.keys(),o.mutationQueue.removeMutationBatch(l,h))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>o.localDocuments.getDocuments(l,u))})}(r.localStore,e);i2(r,e,n),s2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zu(r,s)}catch(s){await Wu(s)}}function s2(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function i2(t,e,n){const r=Ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||A2(t,r)})}function A2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(RB(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),zB(t))}function C1(t,e,n){for(const r of n)r instanceof e2?(t.La.addReference(r.key,e),bK(t,r)):r instanceof t2?(ce("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||A2(t,r.key)):ye()}function bK(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ce("SyncEngine","New document in limbo: "+n),t.xa.add(r),zB(t))}function zB(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(Ye.fromString(e)),r=t.qa.next();t.Na.set(r,new pK(n)),t.Oa=t.Oa.insert(n,r),$Q(t.remoteStore,new Ci(ts(fg(n.path)),r,"TargetPurposeLimboResolution",BB.oe))}}async function Zu(t,e,n){const r=Ee(t),s=[],i=[],A=[];r.Fa.isEmpty()||(r.Fa.forEach((a,o)=>{A.push(r.Ka(o,e,n).then(l=>{var u;if((l||n)&&r.isPrimaryClient){const h=l?!l.fromCache:(u=n==null?void 0:n.targetChanges.get(o.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(o.targetId,h?"current":"not-current")}if(l){s.push(l);const h=NB.Wi(o.targetId,l);i.push(h)}}))}),await Promise.all(A),r.Ca.d_(s),await async function(o,l){const u=Ee(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>G.forEach(l,f=>G.forEach(f.$i,g=>u.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>G.forEach(f.Ui,g=>u.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!$u(h))throw h;ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const g=u.os.get(f),m=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(m);u.os=u.os.insert(f,y)}}}(r.localStore,i))}async function IK(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const r=await zQ(n.localStore,e);n.currentUser=e,function(i,A){i.ka.forEach(a=>{a.forEach(o=>{o.reject(new re(H.CANCELLED,A))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zu(n,r.hs)}}function TK(t,e){const n=Ee(t),r=n.Na.get(e);if(r&&r.va)return Qe().add(r.key);{let s=Qe();const i=n.Ma.get(e);if(!i)return s;for(const A of i){const a=n.Fa.get(A);s=s.unionWith(a.view.Va)}return s}}function a2(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CK.bind(null,e),e.Ca.d_=uK.bind(null,e.eventManager),e.Ca.$a=dK.bind(null,e.eventManager),e}function FK(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_K.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return R3(this.persistence,new N3,e.initialUser,this.serializer)}Ga(e){return new U3(QB.Zr,this.serializer)}Wa(e){return new V3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class ov{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IK.bind(null,this.syncEngine),await oK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cK}()}createDatastore(e){const n=Bg(e.databaseInfo.databaseId),r=function(i){return new G3(i)}(e.databaseInfo);return function(i,A,a,o){return new q3(i,A,a,o)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,A,a){return new Y3(r,s,i,A,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x1(this.syncEngine,n,0),function(){return m1.D()?new m1:new H3}())}createSyncEngine(e,n){return function(s,i,A,a,o,l,u){const h=new gK(s,i,A,a,o,l);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ee(s);ce("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ju(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ov.provider={build:()=>new ov};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const A=Ee(s),a={documents:i.map(h=>Wf(A.serializer,h))},o=await A.Lo("BatchGetDocuments",A.serializer.databaseId,Ye.emptyPath(),a,i.length),l=new Map;o.forEach(h=>{const f=i3(A.serializer,h);l.set(f.key.toString(),f)});const u=[];return i.forEach(h=>{const f=l.get(h.toString());Me(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new vg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=fe.fromPath(r);this.mutations.push(new QQ(s,this.precondition(s)))}),await async function(r,s){const i=Ee(r),A={writes:s.map(a=>jQ(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,Ye.emptyPath(),A)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ye();n=Be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new re(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Be.min())?Yt.exists(!1):Yt.updateTime(n):Yt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Be.min()))throw new re(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yt.updateTime(n)}return Yt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new kB(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new UK(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!qu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!NQ(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=lQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async A=>{ce("FirestoreClient","Received user=",A.uid),await this.authCredentialListener(A),this.user=A}),this.appCheckCredentials.start(r,A=>(ce("FirestoreClient","Received new app check token=",A),this.appCheckCredentialListener(A,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=OB(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function e0(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zQ(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NK(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>y1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>y1(e.remoteStore,s)),t._onlineComponents=e}async function NK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await e0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await e0(t,new qf)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await e0(t,new qf);return t._offlineComponents}async function WB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await E1(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await E1(t,new ov))),t._onlineComponents}function kK(t){return WB(t).then(e=>e.syncEngine)}function RK(t){return WB(t).then(e=>e.datastore)}async function Xf(t){const e=await WB(t),n=e.eventManager;return n.onListen=mK.bind(null,e.syncEngine),n.onUnlisten=wK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BK.bind(null,e.syncEngine),n}function DK(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,l){const u=new GB({next:f=>{u.Za(),A.enqueueAndForget(()=>VB(i,h));const g=f.docs.has(a);!g&&f.fromCache?l.reject(new re(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&o&&o.source==="server"?l.reject(new re(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new KB(fg(a.path),u,{includeMetadataChanges:!0,_a:!0});return jB(i,h)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}function PK(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,A,a,o,l){const u=new GB({next:f=>{u.Za(),A.enqueueAndForget(()=>VB(i,h)),f.fromCache&&o.source==="server"?l.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new KB(a,u,{includeMetadataChanges:!0,_a:!0});return jB(i,h)}(await Xf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e,n){if(!n)throw new re(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LK(t,e,n,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b1(t){if(!fe.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I1(t){if(fe.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Eg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function Tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eg(t);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _g{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eH;switch(r.type){case"firstParty":return new sH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_1.get(n);r&&(ce("ComponentProvider","Removing Datastore"),_1.delete(n),r.terminate())}(this),Promise.resolve()}}function MK(t,e,n,r={}){var s;const i=(t=Tn(t,_g))._getSettings(),A=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==A&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:A,ssl:!1})),r.mockUserToken){let a,o;if(typeof r.mockUserToken=="string")a=r.mockUserToken,o=fn.MOCK_USER;else{a=mS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new fn(l)}t._authCredentials=new tH(new oQ(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dA(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Oi extends dA{constructor(e,n,r){super(e,n,fg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new fe(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function sn(t,e,...n){if(t=et(t),l2("collection","path",e),t instanceof _g){const r=Ye.fromString(e,...n);return I1(r),new Oi(t,null,r)}{if(!(t instanceof tn||t instanceof Oi))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return I1(r),new Oi(t.firestore,null,r)}}function lt(t,e,...n){if(t=et(t),arguments.length===1&&(e=lQ.newId()),l2("doc","path",e),t instanceof _g){const r=Ye.fromString(e,...n);return b1(r),new tn(t,null,new fe(r))}{if(!(t instanceof tn||t instanceof Oi))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return b1(r),new tn(t.firestore,t instanceof Oi?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new kB(this,"async_queue_retry"),this.Vu=()=>{const r=Zm();r&&ce("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new es;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$u(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(A){let a=A.message||"";return A.stack&&(a=A.stack.includes(A.message)?A.stack:A.message+`
`+A.stack),a}(r);throw Vs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=MB.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function U1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class As extends _g{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function OK(t,e){const n=typeof t=="object"?t:lg(),r=typeof t=="string"?t:"(default)",s=Hu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=oB("firestore");i&&MK(s,...i)}return s}function ed(t){if(t._terminated)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jK(t),t._firestoreClient}function jK(t){var e,n,r;const s=t._freezeSettings(),i=function(a,o,l,u){return new mH(a,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,o2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new QK(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const o=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(rn.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ta(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=/^__.*__$/;class HK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uA(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}class c2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uA(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class XB{constructor(e,n,r,s,i,A){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new XB(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(u2(this.Cu)&&VK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class KK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bg(e)}Qu(e,n,r,s=!1){return new XB({Cu:e,methodName:n,qu:r,path:Xt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nd(t){const e=t._freezeSettings(),n=Bg(t._databaseId);return new KK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YB(t,e,n,r,s,i={}){const A=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);ZB("Data must be an object, but it was:",A,r);const a=f2(r,A);let o,l;if(i.merge)o=new qn(A.fieldMask),l=A.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=lv(e,h,n);if(!A.contains(f))throw new re(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);g2(u,f)||u.push(f)}o=new qn(u),l=A.fieldTransforms.filter(h=>o.covers(h.field))}else o=null,l=A.fieldTransforms;return new HK(new bn(a),o,l)}class Ig extends bg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ig}}class JB extends bg{_toFieldTransform(e){return new VH(e.path,new cu)}isEqual(e){return e instanceof JB}}function d2(t,e,n,r){const s=t.Qu(1,e,n);ZB("Data must be an object, but it was:",s,r);const i=[],A=bn.empty();la(r,(o,l)=>{const u=ex(e,o,n);l=et(l);const h=s.Nu(u);if(l instanceof Ig)i.push(u);else{const f=rd(l,h);f!=null&&(i.push(u),A.set(u,f))}});const a=new qn(i);return new c2(A,a,s.fieldTransforms)}function h2(t,e,n,r,s,i){const A=t.Qu(1,e,n),a=[lv(e,r,n)],o=[s];if(i.length%2!=0)throw new re(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(lv(e,i[f])),o.push(i[f+1]);const l=[],u=bn.empty();for(let f=a.length-1;f>=0;--f)if(!g2(l,a[f])){const g=a[f];let m=o[f];m=et(m);const y=A.Nu(g);if(m instanceof Ig)l.push(g);else{const C=rd(m,y);C!=null&&(l.push(g),u.set(g,C))}}const h=new qn(l);return new c2(u,h,A.fieldTransforms)}function zK(t,e,n,r=!1){return rd(n,t.Qu(r?4:3,e))}function rd(t,e){if(p2(t=et(t)))return ZB("Unsupported field value:",e,t),f2(t,e);if(t instanceof bg)return function(r,s){if(!u2(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let A=0;for(const a of r){let o=rd(a,s.Lu(A));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),A++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:Gf(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gf(s.serializer,i)}}if(r instanceof $B)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ta)return{bytesValue:PQ(s.serializer,r._byteString)};if(r instanceof tn){const i=s.databaseId,A=r.firestore._databaseId;if(!A.isEqual(i))throw s.Bu(`Document reference is for database ${A.projectId}/${A.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:UB(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof qB)return function(A,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:A.toArray().map(o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return IB(a.serializer,o)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Eg(r)}`)}(t,e)}function f2(t,e){const n={};return cQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,(r,s)=>{const i=rd(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function p2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof $B||t instanceof ta||t instanceof tn||t instanceof bg||t instanceof qB)}function ZB(t,e,n){if(!p2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Eg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function lv(t,e,n){if((e=et(e))instanceof td)return e._internalPath;if(typeof e=="string")return ex(t,e);throw Yf("Field path arguments must be of type string or ",t,!1,void 0,n)}const GK=new RegExp("[~\\*/\\[\\]]");function ex(t,e,n){if(e.search(GK)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new td(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yf(t,e,n,r,s){const i=r&&!r.isEmpty(),A=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||A)&&(o+=" (found",i&&(o+=` in field ${r}`),A&&(o+=` in document ${s}`),o+=")"),new re(H.INVALID_ARGUMENT,a+t+o)}function g2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WK extends Jf{data(){return super.data()}}function Tg(t,e){return typeof e=="string"?ex(t,e):e instanceof td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tx{}class y2 extends tx{}function hA(t,e,...n){let r=[];e instanceof tx&&r.push(e),r=r.concat(n),function(i){const A=i.filter(o=>o instanceof nx).length,a=i.filter(o=>o instanceof Fg).length;if(A>1||A>0&&a>0)throw new re(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Fg extends y2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fg(e,n,r)}_apply(e){const n=this._parse(e);return v2(e._query,n),new dA(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=nd(e.firestore);return function(i,A,a,o,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new re(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Q1(h,u);const g=[];for(const m of h)g.push(S1(o,i,m));f={arrayValue:{values:g}}}else f=S1(o,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Q1(h,u),f=zK(a,A,h,u==="in"||u==="not-in");return Nt.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hu(t,e,n){const r=e,s=Tg("where",t);return Fg._create(s,r,n)}class nx extends tx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let A=s;const a=i.getFlattenedFilters();for(const o of a)v2(A,o),A=ev(A,o)}(e._query,n),new dA(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rx extends y2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rx(e,n)}_apply(e){const n=function(s,i,A){if(s.startAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new re(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(i,A)}(e._query,this._field,this._direction);return new dA(e.firestore,e.converter,function(s,i){const A=s.explicitOrderBy.concat([i]);return new tl(s.path,s.collectionGroup,A,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Do(t,e="asc"){const n=e,r=Tg("orderBy",t);return rx._create(r,n)}function S1(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new re(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vQ(e)&&n.indexOf("/")!==-1)throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ye.fromString(n));if(!fe.isDocumentKey(r))throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return J_(t,new fe(r))}if(n instanceof tn)return J_(t,n._key);throw new re(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eg(n)}.`)}function Q1(t,e){if(!Array.isArray(t)||t.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v2(t,e){const n=function(s,i){for(const A of s)for(const a of A.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w2{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ZA(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return la(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(A=>Et(A.doubleValue));return new qB(i)}convertGeoPoint(e){return new $B(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=CB(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Me(KQ(r));const s=new au(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||Vs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class $K extends w2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ix extends Jf{constructor(e,n,r,s,i,A){super(e,n,r,s,A),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yh extends ix{data(e={}){return super.data(e)}}class B2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Xa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yh(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let A=0;return s._snapshot.docChanges.map(a=>{const o=new Yh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Xa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:A++}})}{let A=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new Yh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Xa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=A.indexOf(a.doc.key),A=A.delete(a.doc.key)),a.type!==1&&(A=A.add(a.doc),u=A.indexOf(a.doc.key)),{type:qK(a.type),doc:o,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){t=Tn(t,tn);const e=Tn(t.firestore,As);return DK(ed(e),t._key).then(n=>C2(e,t,n))}class Ug extends w2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Sg(t){t=Tn(t,dA);const e=Tn(t.firestore,As),n=ed(e),r=new Ug(e);return m2(t._query),PK(n,t._query).then(s=>new B2(e,r,t,s))}function Qg(t,e,n){t=Tn(t,tn);const r=Tn(t.firestore,As),s=sx(t.converter,e,n);return Ng(r,[YB(nd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yt.none())])}function Ks(t,e,n,...r){t=Tn(t,tn);const s=Tn(t.firestore,As),i=nd(s);let A;return A=typeof(e=et(e))=="string"||e instanceof td?h2(i,"updateDoc",t._key,e,n,r):d2(i,"updateDoc",t._key,e),Ng(s,[A.toMutation(t._key,Yt.exists(!0))])}function x2(t){return Ng(Tn(t.firestore,As),[new vg(t._key,Yt.none())])}function zs(t,e){const n=Tn(t.firestore,As),r=lt(t),s=sx(t.converter,e);return Ng(n,[YB(nd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function sl(t,...e){var n,r,s;t=et(t);let i={includeMetadataChanges:!1,source:"default"},A=0;typeof e[A]!="object"||U1(e[A])||(i=e[A],A++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(U1(e[A])){const h=e[A];e[A]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[A+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[A+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let o,l,u;if(t instanceof tn)l=Tn(t.firestore,As),u=fg(t._key.path),o={next:h=>{e[A]&&e[A](C2(l,t,h))},error:e[A+1],complete:e[A+2]};else{const h=Tn(t,dA);l=Tn(h.firestore,As),u=h._query;const f=new Ug(l);o={next:g=>{e[A]&&e[A](new B2(l,f,h,g))},error:e[A+1],complete:e[A+2]},m2(t._query)}return function(f,g,m,y){const C=new GB(y),B=new KB(g,C,m);return f.asyncQueue.enqueueAndForget(async()=>jB(await Xf(f),B)),()=>{C.Za(),f.asyncQueue.enqueueAndForget(async()=>VB(await Xf(f),B))}}(ed(l),u,a,o)}function Ng(t,e){return function(r,s){const i=new es;return r.asyncQueue.enqueueAndForget(async()=>xK(await kK(r),s,i)),i.promise}(ed(t),e)}function C2(t,e,n){const r=n.docs.get(e._key),s=new Ug(t);return new ix(t,s,e._key,r,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK={maxAttempts:5};function Ql(t,e){if((t=et(t)).firestore!==e)throw new re(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=nd(n)}get(n){const r=Ql(n,this._firestore),s=new $K(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ye();const A=i[0];if(A.isFoundDocument())return new Jf(this._firestore,s,A.key,A,r.converter);if(A.isNoDocument())return new Jf(this._firestore,s,r._key,null,r.converter);throw ye()})}set(n,r,s){const i=Ql(n,this._firestore),A=sx(i.converter,r,s),a=YB(this._dataReader,"Transaction.set",i._key,A,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const A=Ql(n,this._firestore);let a;return a=typeof(r=et(r))=="string"||r instanceof td?h2(this._dataReader,"Transaction.update",A._key,r,s,i):d2(this._dataReader,"Transaction.update",A._key,r),this._transaction.update(A._key,a),this}delete(n){const r=Ql(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ql(e,this._firestore),r=new Ug(this._firestore);return super.get(e).then(s=>new ix(this._firestore,r,n._key,s._document,new Xa(!1,!1),n.converter))}}function N1(t,e,n){t=Tn(t,As);const r=Object.assign(Object.assign({},XK),n);return function(i){if(i.maxAttempts<1)throw new re(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,A,a){const o=new es;return i.asyncQueue.enqueueAndForget(async()=>{const l=await RK(i);new SK(i.asyncQueue,l,a,A,o).au()}),o.promise}(ed(t),s=>e(new YK(t,s)),r)}function Ln(){return new JB("serverTimestamp")}(function(e,n=!0){(function(s){el=s})(oa),zi(new Ms("firestore",(r,{instanceIdentifier:s,options:i})=>{const A=r.getProvider("app").getImmediate(),a=new As(new nH(r.getProvider("auth-internal")),new AH(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(l.options.projectId,u)}(A,s),A);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),mr(W_,"4.7.3",e),mr(W_,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK="type.googleapis.com/google.protobuf.Int64Value",ZK="type.googleapis.com/google.protobuf.UInt64Value";function E2(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function cv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>cv(e));if(typeof t=="function"||typeof t=="object")return E2(t,e=>cv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Zf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case JK:case ZK:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Zf(e)):typeof t=="function"||typeof t=="object"?E2(t,e=>Zf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yo extends Pr{constructor(e,n,r){super(`${Ax}/${e}`,n||""),this.details=r}}function e5(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function t5(t,e){let n=e5(t),r=n,s;try{const i=e&&e.error;if(i){const A=i.status;if(typeof A=="string"){if(!k1[A])return new yo("internal","internal");n=k1[A],r=A}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=Zf(s))}}catch{}return n==="ok"?null:new yo(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="us-central1";function r5(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new yo("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class s5{constructor(e,n,r,s,i=uv,A){this.app=e,this.fetchImpl=A,this.emulatorOrigin=null,this.contextProvider=new n5(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=uv}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function i5(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function A5(t,e,n){return r=>o5(t,e,r,{})}async function a5(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function o5(t,e,n,r){const s=t._url(e);return l5(t,s,n,r)}async function l5(t,e,n,r){n=cv(n);const s={data:n},i={},A=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);A.authToken&&(i.Authorization="Bearer "+A.authToken),A.messagingToken&&(i["Firebase-Instance-ID-Token"]=A.messagingToken),A.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=A.appCheckToken);const a=r.timeout||7e4,o=r5(a),l=await Promise.race([a5(e,s,i,t.fetchImpl),o.promise,t.cancelAllRequests]);if(o.cancel(),!l)throw new yo("cancelled","Firebase Functions instance was deleted.");const u=t5(l.status,l.json);if(u)throw u;if(!l.json)throw new yo("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new yo("internal","Response is missing data field.");return{data:Zf(h)}}const R1="@firebase/functions",D1="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5="auth-internal",u5="app-check-internal",d5="messaging-internal";function h5(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),A=r.getProvider(c5),a=r.getProvider(d5),o=r.getProvider(u5);return new s5(i,A,a,o,s,t)};zi(new Ms(Ax,n,"PUBLIC").setMultipleInstances(!0)),mr(R1,D1,e),mr(R1,D1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t=lg(),e=uv){const r=Hu(et(t),Ax).getImmediate({identifier:e}),s=oB("functions");return s&&p5(r,...s),r}function p5(t,e,n){i5(et(t),e,n)}function g5(t,e,n){return A5(et(t),e)}h5(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebasestorage.googleapis.com",m5="storageBucket",y5=2*60*1e3,v5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Pr{constructor(e,n,r=0){super(t0(e),`Firebase Storage: ${n} (${t0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return t0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var as;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(as||(as={}));function t0(t){return"storage/"+t}function w5(){const t="An unknown error occurred, please check the error payload for server response.";return new cs(as.UNKNOWN,t)}function B5(){return new cs(as.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x5(){return new cs(as.CANCELED,"User canceled the upload/download.")}function C5(t){return new cs(as.INVALID_URL,"Invalid URL '"+t+"'.")}function E5(t){return new cs(as.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function P1(t){return new cs(as.INVALID_ARGUMENT,t)}function b2(){return new cs(as.APP_DELETED,"The Firebase app was deleted.")}function _5(t){return new cs(as.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(r.path==="")return r;throw E5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const A="(/(.*))?$",a=new RegExp("^gs://"+s+A,"i"),o={bucket:1,path:3};function l(F){F.path_=decodeURIComponent(F.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},y=n===_2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",B=new RegExp(`^https?://${y}/${s}/${C}`,"i"),w=[{regex:a,indices:o,postModify:i},{regex:g,indices:m,postModify:l},{regex:B,indices:{bucket:1,path:2},postModify:l}];for(let F=0;F<w.length;F++){const N=w[F],k=N.regex.exec(e);if(k){const I=k[N.indices.bucket];let E=k[N.indices.path];E||(E=""),r=new Tr(I,E),N.postModify(r);break}}if(r==null)throw C5(e);return r}}class b5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e,n){let r=1,s=null,i=null,A=!1,a=0;function o(){return a===2}let l=!1;function u(...C){l||(l=!0,e.apply(null,C))}function h(C){s=setTimeout(()=>{s=null,t(g,o())},C)}function f(){i&&clearTimeout(i)}function g(C,...B){if(l){f();return}if(C){f(),u.call(null,C,...B);return}if(o()||A){f(),u.call(null,C,...B);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let m=!1;function y(C){m||(m=!0,f(),!l&&(s!==null?(C||(a=2),clearTimeout(s),h(0)):C||(a=1)))}return h(0),i=setTimeout(()=>{A=!0,y(!0)},n),y}function T5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){return t!==void 0}function L1(t,e,n,r){if(r<e)throw P1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw P1(`Invalid value for '${t}'. Expected ${n} or less.`)}function U5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ep;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ep||(ep={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,s,i,A,a,o,l,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=A,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,m)=>{this.resolve_=g,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new eh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const A=a=>{const o=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(o,l)};this.progressCallback_!==null&&i.addUploadProgressListener(A),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(A),this.pendingConnection_=null;const a=i.getErrorCode()===ep.NO_ERROR,o=i.getStatus();if(!a||S5(o,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===ep.ABORT;r(!1,new eh(!1,null,u));return}const l=this.successCodes_.indexOf(o)!==-1;r(!0,new eh(l,i))})},n=(r,s)=>{const i=this.resolve_,A=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const o=this.callback_(a,a.getResponse());F5(o)?i(o):i()}catch(o){A(o)}else if(a!==null){const o=w5();o.serverResponse=a.getErrorText(),this.errorCallback_?A(this.errorCallback_(a,o)):A(o)}else if(s.canceled){const o=this.appDelete_?b2():x5();A(o)}else{const o=B5();A(o)}};this.canceled_?n(!1,new eh(!1,null,!0)):this.backoffId_=I5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&T5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function N5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function P5(t,e,n,r,s,i,A=!0){const a=U5(t.urlParams),o=t.url+a,l=Object.assign({},t.headers);return R5(l,e),N5(l,n),k5(l,i),D5(l,r),new Q5(o,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,A)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function M5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tp(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M5(this._location.path)}get storage(){return this._service}get parent(){const e=L5(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new tp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw _5(e)}}function M1(t,e){const n=e==null?void 0:e[m5];return n==null?null:Tr.makeFromBucketSpec(n,t)}function O5(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:mS(s,t.app.options.projectId))}class j5{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=_2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y5,this._maxUploadRetryTime=v5,this._requests=new Set,s!=null?this._bucket=Tr.makeFromBucketSpec(s,this._host):this._bucket=M1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=M1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tp(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new b5(b2());{const A=P5(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(A),A.getPromise().then(()=>this._requests.delete(A),()=>this._requests.delete(A)),A}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const O1="@firebase/storage",j1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="storage";function V5(t=lg(),e){t=et(t);const r=Hu(t,I2).getImmediate({identifier:e}),s=oB("storage");return s&&H5(r,...s),r}function H5(t,e,n,r={}){O5(t,e,n,r)}function K5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new j5(n,r,s,e,oa)}function z5(){zi(new Ms(I2,K5,"PUBLIC").setMultipleInstances(!0)),mr(O1,j1,""),mr(O1,j1,"esm2017")}z5();const G5={apiKey:"AIzaSyCjm6MOIuRFXQkTKwREvVWo8zogfNA6HPg",authDomain:"cinema-70fbc.firebaseapp.com",projectId:"cinema-70fbc",storageBucket:"cinema-70fbc.appspot.com",messagingSenderId:"508764987276",appId:"1:508764987276:web:878a0e32d806071bf380a9",measurementId:"G-E9KFW2B3BW"},kg=wS(G5),pn=JV(kg),_e=OK(kg),W5=f5(kg,"europe-west1");V5(kg);let V1=new Map;const $5=t=>{V1.clear(),t.forEach(e=>V1.set(e.id,e))},q5=t=>{const e=lt(_e,"settings","event-settings");return sl(e,n=>{if(n.exists()){const r=n.data(),s=(r==null?void 0:r.bookingStatuses)||[];$5(s),t(s)}else t([])})},T2=S.createContext(void 0),X5=({children:t})=>{const[e,n]=S.useState([]),[r,s]=S.useState(!0),[i,A]=S.useState(null),[a,o]=S.useState(0);S.useEffect(()=>{const g=q5(m=>{n(m),s(!1),A(null)});return()=>g()},[a]);const l=g=>e.find(m=>m.id===g),u=g=>{var m;return((m=l(g))==null?void 0:m.color)||"#718096"},h=g=>{var m;return((m=l(g))==null?void 0:m.name)||g},f=()=>o(g=>g+1);return c.jsx(T2.Provider,{value:{statuses:e,loading:r,error:i,getStatusById:l,getStatusColor:u,getStatusName:h,refreshStatuses:f},children:t})},sd=()=>{const t=S.useContext(T2);if(!t)throw new Error("useBookingStatus must be used within a BookingStatusProvider");return t},np="gennaro.mazzacane@gmail.com",Y5="_1500Napoli500_",J5=t=>t===np,Z5=async(t,e)=>{try{if(t!==np)throw new Error("Accesso non autorizzato");return{success:!0,user:(await kj(pn,np,Y5)).user}}catch(n){throw console.error("Error logging in:",n),n}},e6=t=>t.code&&{"auth/invalid-credential":"Email o password non corretti","auth/user-not-found":"Utente non trovato","auth/wrong-password":"Password non corretta","auth/email-already-in-use":"Email gi in uso","auth/weak-password":"Password troppo debole","auth/invalid-email":"Email non valida","auth/too-many-requests":"Troppi tentativi. Riprova pi tardi.","auth/network-request-failed":"Errore di connessione. Verifica la tua connessione internet.","auth/requires-recent-login":"Per favore, effettua nuovamente il login per completare questa operazione"}[t.code]||"Errore durante l'autenticazione",F2=S.createContext(void 0),t6=({children:t})=>{const[e,n]=S.useState(null),[r,s]=S.useState(!0),[i,A]=S.useState(!1);return S.useEffect(()=>{const a=pn.onAuthStateChanged(o=>{n(o),A(o?J5(o.email||""):!1),s(!1)});return()=>a()},[]),c.jsx(F2.Provider,{value:{user:e,loading:r,isAdmin:i},children:t})},Zs=()=>{const t=S.useContext(F2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(t,e)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:A,className:a="",children:o,...l},u)=>S.createElement("svg",{ref:u,...n6,width:s,height:s,stroke:r,strokeWidth:A?Number(i)*24/Number(s):i,className:["lucide",`lucide-${r6(t)}`,a].join(" "),...l},[...e.map(([h,f])=>S.createElement(h,f)),...Array.isArray(o)?o:[o]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=de("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=de("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=de("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=de("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=de("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=de("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=de("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=de("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=de("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=de("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=de("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=de("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=de("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=de("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=de("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=de("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class b6 extends S.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-6 max-w-md w-full",children:[c.jsxs("div",{className:"flex items-center gap-3 text-red-500 mb-4",children:[c.jsx(U2,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Qualcosa  andato storto"})]}),c.jsx("p",{className:"text-gray-300 mb-4",children:"Si  verificato un errore imprevisto. Ricarica la pagina o prova pi tardi."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Ricarica la pagina"}),this.state.error&&c.jsx("pre",{className:"mt-4 p-4 bg-gray-800 rounded text-sm text-gray-400 overflow-auto",children:this.state.error.message})]})}):this.props.children}}const X1=({children:t,requireAdmin:e=!1})=>{const{user:n,loading:r,isAdmin:s}=Zs();return r?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):!n||e&&!s?c.jsx(uo,{to:"/",replace:!0}):c.jsx(c.Fragment,{children:t})},lx=S.createContext({});function cx(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Pg=S.createContext(null),ux=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class I6 extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T6({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=S.useContext(ux);return S.useInsertionEffect(()=>{const{width:A,height:a,top:o,left:l}=s.current;if(e||!r.current||!A||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),c.jsx(I6,{isPresent:e,childRef:r,sizeRef:s,children:S.cloneElement(t,{ref:r})})}const F6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:A})=>{const a=cx(U6),o=S.useId(),l=S.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),u=S.useMemo(()=>({id:o,initial:e,isPresent:n,custom:s,onExitComplete:l,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),l]:[n,l]);return S.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),A==="popLayout"&&(t=c.jsx(T6,{isPresent:n,children:t})),c.jsx(Pg.Provider,{value:u,children:t})};function U6(){return new Map}function D2(t=!0){const e=S.useContext(Pg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=S.useId();S.useEffect(()=>{t&&s(i)},[t]);const A=S.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,A]:[!0]}const th=t=>t.key||"";function Y1(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const dx=typeof window<"u",P2=dx?S.useLayoutEffect:S.useEffect,An=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:A=!1})=>{const[a,o]=D2(A),l=S.useMemo(()=>Y1(t),[t]),u=A&&!a?[]:l.map(th),h=S.useRef(!0),f=S.useRef(l),g=cx(()=>new Map),[m,y]=S.useState(l),[C,B]=S.useState(l);P2(()=>{h.current=!1,f.current=l;for(let F=0;F<C.length;F++){const N=th(C[F]);u.includes(N)?g.delete(N):g.get(N)!==!0&&g.set(N,!1)}},[C,u.length,u.join("-")]);const v=[];if(l!==m){let F=[...l];for(let N=0;N<C.length;N++){const k=C[N],I=th(k);u.includes(I)||(F.splice(N,0,k),v.push(k))}i==="wait"&&v.length&&(F=v),B(Y1(F)),y(l);return}const{forceRender:w}=S.useContext(lx);return c.jsx(c.Fragment,{children:C.map(F=>{const N=th(F),k=A&&!a?!1:l===C||u.includes(N),I=()=>{if(g.has(N))g.set(N,!0);else return;let E=!0;g.forEach(b=>{b||(E=!1)}),E&&(w==null||w(),B(f.current),A&&(o==null||o()),r&&r())};return c.jsx(F6,{isPresent:k,initial:!h.current||n?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:k?void 0:I,children:F},N)})})},Jn=t=>t;let fv=Jn;function hx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Qs=t=>t*1e3,Ns=t=>t/1e3,S6={skipAnimations:!1,useManualTiming:!1};function Q6(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1};function a(l){i.has(l)&&(o.schedule(l),t()),l(A)}const o={schedule:(l,u=!1,h=!1)=>{const g=h&&r?e:n;return u&&i.add(l),g.has(l)||g.add(l),l},cancel:l=>{n.delete(l),i.delete(l)},process:l=>{if(A=l,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,o.process(l))}};return o}const nh=["read","resolveKeyframes","update","preRender","render","postRender"],N6=40;function L2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,A=nh.reduce((B,v)=>(B[v]=Q6(i),B),{}),{read:a,resolveKeyframes:o,update:l,preRender:u,render:h,postRender:f}=A,g=()=>{const B=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(B-s.timestamp,N6),1),s.timestamp=B,s.isProcessing=!0,a.process(s),o.process(s),l.process(s),u.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(g))},m=()=>{n=!0,r=!0,s.isProcessing||t(g)};return{schedule:nh.reduce((B,v)=>{const w=A[v];return B[v]=(F,N=!1,k=!1)=>(n||m(),w.schedule(F,N,k)),B},{}),cancel:B=>{for(let v=0;v<nh.length;v++)A[nh[v]].cancel(B)},state:s,steps:A}}const{schedule:it,cancel:Ji,state:Wt,steps:n0}=L2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0),M2=S.createContext({strict:!1}),J1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const t in J1)Mo[t]={isEnabled:e=>J1[t].some(n=>!!e[n])};function k6(t){for(const e in t)Mo[e]={...Mo[e],...t[e]}}const R6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R6.has(t)}let O2=t=>!sp(t);function D6(t){t&&(O2=e=>e.startsWith("on")?!sp(e):t(e))}try{D6(require("@emotion/is-prop-valid").default)}catch{}function P6(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(O2(s)||n===!0&&sp(s)||!e&&!sp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function L6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Lg=S.createContext({});function pu(t){return typeof t=="string"||Array.isArray(t)}function Mg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],px=["initial",...fx];function Og(t){return Mg(t.animate)||px.some(e=>pu(t[e]))}function j2(t){return!!(Og(t)||t.variants)}function M6(t,e){if(Og(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pu(n)?n:void 0,animate:pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function O6(t){const{initial:e,animate:n}=M6(t,S.useContext(Lg));return S.useMemo(()=>({initial:e,animate:n}),[Z1(e),Z1(n)])}function Z1(t){return Array.isArray(t)?t.join(" "):t}const j6=Symbol.for("motionComponentSymbol");function Ja(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function V6(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ja(n)&&(n.current=r))},[e])}const gx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H6="framerAppearId",V2="data-"+gx(H6),{schedule:mx,cancel:are}=L2(queueMicrotask,!1),H2=S.createContext({});function K6(t,e,n,r,s){var i,A;const{visualElement:a}=S.useContext(Lg),o=S.useContext(M2),l=S.useContext(Pg),u=S.useContext(ux).reducedMotion,h=S.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=S.useContext(H2);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&z6(h.current,n,s,g);const m=S.useRef(!1);S.useInsertionEffect(()=>{f&&m.current&&f.update(n,l)});const y=n[V2],C=S.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((A=window.MotionHasOptimisedAnimation)===null||A===void 0?void 0:A.call(window,y)));return P2(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),mx.render(f.render),C.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!C.current&&f.animationState&&f.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)===null||B===void 0||B.call(window,y)}),C.current=!1))}),f}function z6(t,e,n,r){const{layoutId:s,layout:i,drag:A,dragConstraints:a,layoutScroll:o,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:K2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!A||a&&Ja(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:l})}function K2(t){if(t)return t.options.allowProjection!==!1?t.projection:K2(t.parent)}function G6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,A;t&&k6(t);function a(l,u){let h;const f={...S.useContext(ux),...l,layoutId:W6(l)},{isStatic:g}=f,m=O6(l),y=r(l,g);if(!g&&dx){$6();const C=q6(f);h=C.MeasureLayout,m.visualElement=K6(s,y,f,e,C.ProjectionNode)}return c.jsxs(Lg.Provider,{value:m,children:[h&&m.visualElement?c.jsx(h,{visualElement:m.visualElement,...f}):null,n(s,l,V6(y,m.visualElement,u),y,g,m.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(A=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&A!==void 0?A:""})`}`;const o=S.forwardRef(a);return o[j6]=s,o}function W6({layoutId:t}){const e=S.useContext(lx).id;return e&&t!==void 0?e+"-"+t:t}function $6(t,e){S.useContext(M2).strict}function q6(t){const{drag:e,layout:n}=Mo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const X6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yx(t){return typeof t!="string"||t.includes("-")?!1:!!(X6.indexOf(t)>-1||/[A-Z]/u.test(t))}function eb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vx(t,e,n,r){if(typeof e=="function"){const[s,i]=eb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=eb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const pv=t=>Array.isArray(t),Y6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),J6=t=>pv(t)?t[t.length-1]||0:t,yn=t=>!!(t&&t.getVelocity);function Jh(t){const e=yn(t)?t.get():t;return Y6(e)?e.toValue():e}function Z6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const A={latestValues:ez(r,s,i,t),renderState:e()};return n&&(A.onMount=a=>n({props:r,current:a,...A}),A.onUpdate=a=>n(a)),A}const z2=t=>(e,n)=>{const r=S.useContext(Lg),s=S.useContext(Pg),i=()=>Z6(t,e,r,s);return n?i():cx(i)};function ez(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Jh(i[f]);let{initial:A,animate:a}=t;const o=Og(t),l=j2(t);e&&l&&!o&&t.inherit!==!1&&(A===void 0&&(A=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||A===!1;const h=u?a:A;if(h&&typeof h!="boolean"&&!Mg(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const m=vx(t,f[g]);if(m){const{transitionEnd:y,transition:C,...B}=m;for(const v in B){let w=B[v];if(Array.isArray(w)){const F=u?w.length-1:0;w=w[F]}w!==null&&(s[v]=w)}for(const v in y)s[v]=y[v]}}}return s}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],da=new Set(Al),G2=t=>e=>typeof e=="string"&&e.startsWith(t),W2=G2("--"),tz=G2("var(--"),wx=t=>tz(t)?nz.test(t.split("/*")[0].trim()):!1,nz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ws=(t,e,n)=>n>e?e:n<t?t:n,al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gu={...al,transform:t=>Ws(0,1,t)},rh={...al,default:1},Ad=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ai=Ad("deg"),ns=Ad("%"),me=Ad("px"),rz=Ad("vh"),sz=Ad("vw"),tb={...ns,parse:t=>ns.parse(t)/100,transform:t=>ns.transform(t*100)},iz={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me},Az={rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:rh,scaleX:rh,scaleY:rh,scaleZ:rh,skew:ai,skewX:ai,skewY:ai,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:gu,originX:tb,originY:tb,originZ:me},nb={...al,transform:Math.round},Bx={...iz,...Az,zIndex:nb,size:me,fillOpacity:gu,strokeOpacity:gu,numOctaves:nb},az={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oz=Al.length;function lz(t,e,n){let r="",s=!0;for(let i=0;i<oz;i++){const A=Al[i],a=t[A];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(A.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||n){const l=$2(a,Bx[A]);if(!o){s=!1;const u=az[A]||A;r+=`${u}(${l}) `}n&&(e[A]=l)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function xx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let A=!1,a=!1;for(const o in e){const l=e[o];if(da.has(o)){A=!0;continue}else if(W2(o)){s[o]=l;continue}else{const u=$2(l,Bx[o]);o.startsWith("origin")?(a=!0,i[o]=u):r[o]=u}}if(e.transform||(A||n?r.transform=lz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:o="50%",originY:l="50%",originZ:u=0}=i;r.transformOrigin=`${o} ${l} ${u}`}}const cz={offset:"stroke-dashoffset",array:"stroke-dasharray"},uz={offset:"strokeDashoffset",array:"strokeDasharray"};function dz(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?cz:uz;t[i.offset]=me.transform(-r);const A=me.transform(e),a=me.transform(n);t[i.array]=`${A} ${a}`}function rb(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function hz(t,e,n){const r=rb(e,t.x,t.width),s=rb(n,t.y,t.height);return`${r} ${s}`}function Cx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:A,pathSpacing:a=1,pathOffset:o=0,...l},u,h){if(xx(t,l,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g,dimensions:m}=t;f.transform&&(m&&(g.transform=f.transform),delete f.transform),m&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=hz(m,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),A!==void 0&&dz(f,A,a,o,!1)}const Ex=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),q2=()=>({...Ex(),attrs:{}}),_x=t=>typeof t=="string"&&t.toLowerCase()==="svg";function X2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Y2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function J2(t,e,n,r){X2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Y2.has(s)?s:gx(s),e.attrs[s])}const ip={};function fz(t){Object.assign(ip,t)}function Z2(t,{layout:e,layoutId:n}){return da.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ip[t]||t==="opacity")}function bx(t,e,n){var r;const{style:s}=t,i={};for(const A in s)(yn(s[A])||e.style&&yn(e.style[A])||Z2(A,t)||((r=n==null?void 0:n.getValue(A))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[A]=s[A]);return i}function eN(t,e,n){const r=bx(t,e,n);for(const s in t)if(yn(t[s])||yn(e[s])){const i=Al.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function pz(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const sb=["x","y","width","height","cx","cy","r"],gz={useVisualState:z2({scrapeMotionValuesFromProps:eN,createRenderState:q2,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(da.has(a)){i=!0;break}}if(!i)return;let A=!e;if(e)for(let a=0;a<sb.length;a++){const o=sb[a];t[o]!==e[o]&&(A=!0)}A&&it.read(()=>{pz(n,r),it.render(()=>{Cx(r,s,_x(n.tagName),t.transformTemplate),J2(n,r)})})}})},mz={useVisualState:z2({scrapeMotionValuesFromProps:bx,createRenderState:Ex})};function tN(t,e,n){for(const r in e)!yn(e[r])&&!Z2(r,n)&&(t[r]=e[r])}function yz({transformTemplate:t},e){return S.useMemo(()=>{const n=Ex();return xx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vz(t,e){const n=t.style||{},r={};return tN(r,n,t),Object.assign(r,yz(t,e)),r}function wz(t,e){const n={},r=vz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Bz(t,e,n,r){const s=S.useMemo(()=>{const i=q2();return Cx(i,e,_x(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};tN(i,t.style,t),s.style={...i,...s.style}}return s}function xz(t=!1){return(n,r,s,{latestValues:i},A)=>{const o=(yx(n)?Bz:wz)(r,i,A,n),l=P6(r,typeof n=="string",t),u=n!==S.Fragment?{...l,...o,ref:s}:{},{children:h}=r,f=S.useMemo(()=>yn(h)?h.get():h,[h]);return S.createElement(n,{...u,children:f})}}function Cz(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const A={...yx(r)?gz:mz,preloadedFeatures:t,useRender:xz(s),createVisualElement:e,Component:r};return G6(A)}}function nN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function jg(t,e,n){const r=t.getProps();return vx(r,e,n!==void 0?n:r.custom,t)}const Ez=hx(()=>window.ScrollTimeline!==void 0);class _z{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(Ez()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class bz extends _z{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Ix(t,e){return t?t[e]||t.default||t:void 0}const gv=2e4;function rN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<gv;)e+=n,r=t.next(e);return e>=gv?1/0:e}function Tx(t){return typeof t=="function"}function ib(t,e){t.timeline=e,t.onfinish=null}const Fx=t=>Array.isArray(t)&&typeof t[0]=="number",Iz={linearEasing:void 0};function Tz(t,e){const n=hx(t);return()=>{var r;return(r=Iz[e])!==null&&r!==void 0?r:n()}}const Ap=Tz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sN=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Lo(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function iN(t){return!!(typeof t=="function"&&Ap()||!t||typeof t=="string"&&(t in mv||Ap())||Fx(t)||Array.isArray(t)&&t.every(iN))}const Jl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jl([0,.65,.55,1]),circOut:Jl([.55,0,1,.45]),backIn:Jl([.31,.01,.66,-.59]),backOut:Jl([.33,1.53,.69,.99])};function AN(t,e){if(t)return typeof t=="function"&&Ap()?sN(t,e):Fx(t)?Jl(t):Array.isArray(t)?t.map(n=>AN(n,e)||mv.easeOut):mv[t]}const Cr={x:!1,y:!1};function aN(){return Cr.x||Cr.y}function Fz(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function oN(t,e){const n=Fz(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ab(t){return e=>{e.pointerType==="touch"||aN()||t(e)}}function Uz(t,e,n={}){const[r,s,i]=oN(t,n),A=Ab(a=>{const{target:o}=a,l=e(a);if(typeof l!="function"||!o)return;const u=Ab(h=>{l(h),o.removeEventListener("pointerleave",u)});o.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",A,s)}),i}const lN=(t,e)=>e?t===e?!0:lN(t,e.parentElement):!1,Ux=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Sz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qz(t){return Sz.has(t.tagName)||t.tabIndex!==-1}const Zl=new WeakSet;function ab(t){return e=>{e.key==="Enter"&&t(e)}}function r0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Nz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ab(()=>{if(Zl.has(n))return;r0(n,"down");const s=ab(()=>{r0(n,"up")}),i=()=>r0(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ob(t){return Ux(t)&&!aN()}function kz(t,e,n={}){const[r,s,i]=oN(t,n),A=a=>{const o=a.currentTarget;if(!ob(a)||Zl.has(o))return;Zl.add(o);const l=e(a),u=(g,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!ob(g)||!Zl.has(o))&&(Zl.delete(o),typeof l=="function"&&l(g,{success:m}))},h=g=>{u(g,n.useGlobalTarget||lN(o,g.target))},f=g=>{u(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!Qz(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",A,s),a.addEventListener("focus",l=>Nz(l,s),s)}),i}function Rz(t){return t==="x"||t==="y"?Cr[t]?null:(Cr[t]=!0,()=>{Cr[t]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}const cN=new Set(["width","height","top","left","right","bottom",...Al]);let Zh;function Dz(){Zh=void 0}const rs={now:()=>(Zh===void 0&&rs.set(Wt.isProcessing||S6.useManualTiming?Wt.timestamp:performance.now()),Zh),set:t=>{Zh=t,queueMicrotask(Dz)}};function Sx(t,e){t.indexOf(e)===-1&&t.push(e)}function Qx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Nx{constructor(){this.subscriptions=[]}add(e){return Sx(this.subscriptions,e),()=>Qx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const A=this.subscriptions[i];A&&A(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function uN(t,e){return e?t*(1e3/e):0}const lb=30,Pz=t=>!isNaN(parseFloat(t));class Lz{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=rs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Pz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Nx);const r=this.events[e].add(n);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lb);return uN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(t,e){return new Lz(t,e)}function Mz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,mu(n))}function Oz(t,e){const n=jg(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const A in i){const a=J6(i[A]);Mz(t,A,a)}}function jz(t){return!!(yn(t)&&t.add)}function yv(t,e){const n=t.getValue("willChange");if(jz(n))return n.add(e)}function dN(t){return t.props[V2]}const hN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Vz=1e-7,Hz=12;function Kz(t,e,n,r,s){let i,A,a=0;do A=e+(n-e)/2,i=hN(A,r,s)-t,i>0?n=A:e=A;while(Math.abs(i)>Vz&&++a<Hz);return A}function ad(t,e,n,r){if(t===e&&n===r)return Jn;const s=i=>Kz(i,0,1,t,n);return i=>i===0||i===1?i:hN(s(i),e,r)}const fN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pN=t=>e=>1-t(1-e),gN=ad(.33,1.53,.69,.99),kx=pN(gN),mN=fN(kx),yN=t=>(t*=2)<1?.5*kx(t):.5*(2-Math.pow(2,-10*(t-1))),Rx=t=>1-Math.sin(Math.acos(t)),vN=pN(Rx),wN=fN(Rx),BN=t=>/^0[^.\s]+$/u.test(t);function zz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BN(t):!0}const Tc=t=>Math.round(t*1e5)/1e5,Dx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gz(t){return t==null}const Wz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Px=(t,e)=>n=>!!(typeof n=="string"&&Wz.test(n)&&n.startsWith(t)||e&&!Gz(n)&&Object.prototype.hasOwnProperty.call(n,e)),xN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,A,a]=r.match(Dx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(A),alpha:a!==void 0?parseFloat(a):1}},$z=t=>Ws(0,255,t),s0={...al,transform:t=>Math.round($z(t))},kA={test:Px("rgb","red"),parse:xN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+s0.transform(t)+", "+s0.transform(e)+", "+s0.transform(n)+", "+Tc(gu.transform(r))+")"};function qz(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const vv={test:Px("#"),parse:qz,transform:kA.transform},Za={test:Px("hsl","hue"),parse:xN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ns.transform(Tc(e))+", "+ns.transform(Tc(n))+", "+Tc(gu.transform(r))+")"},hn={test:t=>kA.test(t)||vv.test(t)||Za.test(t),parse:t=>kA.test(t)?kA.parse(t):Za.test(t)?Za.parse(t):vv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?kA.transform(t):Za.transform(t)},Xz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Dx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Xz))===null||n===void 0?void 0:n.length)||0)>0}const CN="number",EN="color",Jz="var",Zz="var(",cb="${}",e9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(e9,o=>(hn.test(o)?(r.color.push(i),s.push(EN),n.push(hn.parse(o))):o.startsWith(Zz)?(r.var.push(i),s.push(Jz),n.push(o)):(r.number.push(i),s.push(CN),n.push(parseFloat(o))),++i,cb)).split(cb);return{values:n,split:a,indexes:r,types:s}}function _N(t){return yu(t).values}function bN(t){const{split:e,types:n}=yu(t),r=e.length;return s=>{let i="";for(let A=0;A<r;A++)if(i+=e[A],s[A]!==void 0){const a=n[A];a===CN?i+=Tc(s[A]):a===EN?i+=hn.transform(s[A]):i+=s[A]}return i}}const t9=t=>typeof t=="number"?0:t;function n9(t){const e=_N(t);return bN(t)(e.map(t9))}const Zi={test:Yz,parse:_N,createTransformer:bN,getAnimatableNone:n9},r9=new Set(["brightness","contrast","saturate","opacity"]);function s9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Dx)||[];if(!r)return t;const s=n.replace(r,"");let i=r9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const i9=/\b([a-z-]*)\(.*?\)/gu,wv={...Zi,getAnimatableNone:t=>{const e=t.match(i9);return e?e.map(s9).join(" "):t}},A9={...Bx,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:wv,WebkitFilter:wv},Lx=t=>A9[t];function IN(t,e){let n=Lx(t);return n!==wv&&(n=Zi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const a9=new Set(["auto","none","0"]);function o9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!a9.has(i)&&yu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=IN(n,s)}const ub=t=>t===al||t===me,db=(t,e)=>parseFloat(t.split(", ")[e]),hb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return db(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?db(i[1],t):0}},l9=new Set(["x","y","z"]),c9=Al.filter(t=>!l9.has(t));function u9(t){const e=[];return c9.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:hb(4,13),y:hb(5,14)};Oo.translateX=Oo.x;Oo.translateY=Oo.y;const OA=new Set;let Bv=!1,xv=!1;function TN(){if(xv){const t=Array.from(OA).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=u9(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,A])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(A)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}xv=!1,Bv=!1,OA.forEach(t=>t.complete()),OA.clear()}function FN(){OA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xv=!0)})}function d9(){FN(),TN()}class Mx{constructor(e,n,r,s,i,A=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=A}scheduleResolve(){this.isScheduled=!0,this.isAsync?(OA.add(this),Bv||(Bv=!0,it.read(FN),it.resolveKeyframes(TN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const A=s==null?void 0:s.get(),a=e[e.length-1];if(A!==void 0)e[0]=A;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&A===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),OA.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,OA.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const UN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),h9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f9(t){const e=h9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function SN(t,e,n=1){const[r,s]=f9(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const A=i.trim();return UN(A)?parseFloat(A):A}return wx(s)?SN(s,e,n+1):s}const QN=t=>e=>e.test(t),p9={test:t=>t==="auto",parse:t=>t},NN=[al,me,ns,ai,sz,rz,p9],fb=t=>NN.find(QN(t));class kN extends Mx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let l=e[o];if(typeof l=="string"&&(l=l.trim(),wx(l))){const u=SN(l,n.current);u!==void 0&&(e[o]=u),o===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!cN.has(r)||e.length!==2)return;const[s,i]=e,A=fb(s),a=fb(i);if(A!==a)if(ub(A)&&ub(a))for(let o=0;o<e.length;o++){const l=e[o];typeof l=="string"&&(e[o]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)zz(e[s])&&r.push(s);r.length&&o9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const A=s.length-1,a=s[A];s[A]=Oo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([o,l])=>{n.getValue(o).set(l)}),this.resolveNoneKeyframes()}}const pb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zi.test(t)||t==="0")&&!t.startsWith("url("));function g9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function m9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],A=pb(s,e),a=pb(i,e);return!A||!a?!1:g9(t)||(n==="spring"||Tx(n))&&r}const y9=t=>t!==null;function Vg(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(y9),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const v9=40;class RN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:A="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=rs.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:A,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>v9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&d9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=rs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:A,onComplete:a,onUpdate:o,isGenerator:l}=this.options;if(!l&&!m9(e,r,s,i))if(A)this.options.duration=0;else{o&&o(Vg(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function i0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function w9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,A=0;if(!e)s=i=A=n;else{const a=n<.5?n*(1+e):n+e-n*e,o=2*n-a;s=i0(o,a,t+1/3),i=i0(o,a,t),A=i0(o,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(A*255),alpha:r}}function ap(t,e){return n=>n>0?e:t}const A0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},B9=[vv,kA,Za],x9=t=>B9.find(e=>e.test(t));function gb(t){const e=x9(t);if(!e)return!1;let n=e.parse(t);return e===Za&&(n=w9(n)),n}const mb=(t,e)=>{const n=gb(t),r=gb(e);if(!n||!r)return ap(t,e);const s={...n};return i=>(s.red=A0(n.red,r.red,i),s.green=A0(n.green,r.green,i),s.blue=A0(n.blue,r.blue,i),s.alpha=dt(n.alpha,r.alpha,i),kA.transform(s))},C9=(t,e)=>n=>e(t(n)),od=(...t)=>t.reduce(C9),Cv=new Set(["none","hidden"]);function E9(t,e){return Cv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _9(t,e){return n=>dt(t,e,n)}function Ox(t){return typeof t=="number"?_9:typeof t=="string"?wx(t)?ap:hn.test(t)?mb:T9:Array.isArray(t)?DN:typeof t=="object"?hn.test(t)?mb:b9:ap}function DN(t,e){const n=[...t],r=n.length,s=t.map((i,A)=>Ox(i)(i,e[A]));return i=>{for(let A=0;A<r;A++)n[A]=s[A](i);return n}}function b9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Ox(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function I9(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const A=e.types[i],a=t.indexes[A][s[A]],o=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=o,s[A]++}return r}const T9=(t,e)=>{const n=Zi.createTransformer(e),r=yu(t),s=yu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Cv.has(t)&&!s.values.length||Cv.has(e)&&!r.values.length?E9(t,e):od(DN(I9(r,s),s.values),n):ap(t,e)};function PN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Ox(t)(t,e)}const F9=5;function LN(t,e,n){const r=Math.max(e-F9,0);return uN(n-t(r),e-r)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},a0=.001;function U9({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:r=yt.mass}){let s,i,A=1-e;A=Ws(yt.minDamping,yt.maxDamping,A),t=Ws(yt.minDuration,yt.maxDuration,Ns(t)),A<1?(s=l=>{const u=l*A,h=u*t,f=u-n,g=Ev(l,A),m=Math.exp(-h);return a0-f/g*m},i=l=>{const h=l*A*t,f=h*n+n,g=Math.pow(A,2)*Math.pow(l,2)*t,m=Math.exp(-h),y=Ev(Math.pow(l,2),A);return(-s(l)+a0>0?-1:1)*((f-g)*m)/y}):(s=l=>{const u=Math.exp(-l*t),h=(l-n)*t+1;return-a0+u*h},i=l=>{const u=Math.exp(-l*t),h=(n-l)*(t*t);return u*h});const a=5/t,o=Q9(s,i,a);if(t=Qs(t),isNaN(o))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const l=Math.pow(o,2)*r;return{stiffness:l,damping:A*2*Math.sqrt(r*l),duration:t}}}const S9=12;function Q9(t,e,n){let r=n;for(let s=1;s<S9;s++)r=r-t(r)/e(r);return r}function Ev(t,e){return t*Math.sqrt(1-e*e)}const N9=["duration","bounce"],k9=["stiffness","damping","mass"];function yb(t,e){return e.some(n=>t[n]!==void 0)}function R9(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!yb(t,k9)&&yb(t,N9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:yt.mass,stiffness:s,damping:i}}else{const n=U9(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function MN(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],A=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=R9({...n,velocity:-Ns(n.velocity||0)}),m=f||0,y=l/(2*Math.sqrt(o*u)),C=A-i,B=Ns(Math.sqrt(o/u)),v=Math.abs(C)<5;r||(r=v?yt.restSpeed.granular:yt.restSpeed.default),s||(s=v?yt.restDelta.granular:yt.restDelta.default);let w;if(y<1){const N=Ev(B,y);w=k=>{const I=Math.exp(-y*B*k);return A-I*((m+y*B*C)/N*Math.sin(N*k)+C*Math.cos(N*k))}}else if(y===1)w=N=>A-Math.exp(-B*N)*(C+(m+B*C)*N);else{const N=B*Math.sqrt(y*y-1);w=k=>{const I=Math.exp(-y*B*k),E=Math.min(N*k,300);return A-I*((m+y*B*C)*Math.sinh(E)+N*C*Math.cosh(E))/N}}const F={calculatedDuration:g&&h||null,next:N=>{const k=w(N);if(g)a.done=N>=h;else{let I=0;y<1&&(I=N===0?Qs(m):LN(w,N,k));const E=Math.abs(I)<=r,b=Math.abs(A-k)<=s;a.done=E&&b}return a.value=a.done?A:k,a},toString:()=>{const N=Math.min(rN(F),gv),k=sN(I=>F.next(N*I).value,N,30);return N+"ms "+k}};return F}function vb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:A,min:a,max:o,restDelta:l=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},g=E=>a!==void 0&&E<a||o!==void 0&&E>o,m=E=>a===void 0?o:o===void 0||Math.abs(a-E)<Math.abs(o-E)?a:o;let y=n*e;const C=h+y,B=A===void 0?C:A(C);B!==C&&(y=B-h);const v=E=>-y*Math.exp(-E/r),w=E=>B+v(E),F=E=>{const b=v(E),_=w(E);f.done=Math.abs(b)<=l,f.value=f.done?B:_};let N,k;const I=E=>{g(f.value)&&(N=E,k=MN({keyframes:[f.value,m(f.value)],velocity:LN(w,E,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return I(0),{calculatedDuration:null,next:E=>{let b=!1;return!k&&N===void 0&&(b=!0,F(E),I(E)),N!==void 0&&E>=N?k.next(E-N):(!b&&F(E),f)}}}const D9=ad(.42,0,1,1),P9=ad(0,0,.58,1),ON=ad(.42,0,.58,1),L9=t=>Array.isArray(t)&&typeof t[0]!="number",wb={linear:Jn,easeIn:D9,easeInOut:ON,easeOut:P9,circIn:Rx,circInOut:wN,circOut:vN,backIn:kx,backInOut:mN,backOut:gN,anticipate:yN},Bb=t=>{if(Fx(t)){fv(t.length===4);const[e,n,r,s]=t;return ad(e,n,r,s)}else if(typeof t=="string")return fv(wb[t]!==void 0),wb[t];return t};function M9(t,e,n){const r=[],s=n||PN,i=t.length-1;for(let A=0;A<i;A++){let a=s(t[A],t[A+1]);if(e){const o=Array.isArray(e)?e[A]||Jn:e;a=od(o,a)}r.push(a)}return r}function O9(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(fv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const A=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=M9(e,r,s),o=a.length,l=u=>{if(A&&u<t[0])return e[0];let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=Lo(t[h],t[h+1],u);return a[h](f)};return n?u=>l(Ws(t[0],t[i-1],u)):l}function j9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Lo(0,e,r);t.push(dt(n,1,s))}}function V9(t){const e=[0];return j9(e,t.length-1),e}function H9(t,e){return t.map(n=>n*e)}function K9(t,e){return t.map(()=>e||ON).splice(0,t.length-1)}function op({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=L9(r)?r.map(Bb):Bb(r),i={done:!1,value:e[0]},A=H9(n&&n.length===e.length?n:V9(e),t),a=O9(A,e,{ease:Array.isArray(s)?s:K9(e,s)});return{calculatedDuration:t,next:o=>(i.value=a(o),i.done=o>=t,i)}}const z9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>Ji(e),now:()=>Wt.isProcessing?Wt.timestamp:rs.now()}},G9={decay:vb,inertia:vb,tween:op,keyframes:op,spring:MN},W9=t=>t/100;class jx extends RN{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,A=(s==null?void 0:s.KeyframeResolver)||Mx,a=(o,l)=>this.onKeyframesResolved(o,l);this.resolver=new A(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:A=0}=this.options,a=Tx(n)?n:G9[n]||op;let o,l;a!==op&&typeof e[0]!="number"&&(o=od(W9,PN(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-A})),u.calculatedDuration===null&&(u.calculatedDuration=rN(u));const{calculatedDuration:h}=u,f=h+s,g=f*(r+1)-s;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:o,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:A,mapPercentToKeyframes:a,keyframes:o,calculatedDuration:l,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:m,repeatDelay:y,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const B=this.currentTime-f*(this.speed>=0?1:-1),v=this.speed>=0?B<0:B>u;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,F=i;if(g){const E=Math.min(this.currentTime,u)/h;let b=Math.floor(E),_=E%1;!_&&E>=1&&(_=1),_===1&&b--,b=Math.min(b,g+1),!!(b%2)&&(m==="reverse"?(_=1-_,y&&(_-=y/h)):m==="mirror"&&(F=A)),w=Ws(0,1,_)*h}const N=v?{done:!1,value:o[0]}:F.next(w);a&&(N.value=a(N.value));let{done:k}=N;!v&&l!==null&&(k=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return I&&s!==void 0&&(N.value=Vg(o,this.options,s)),C&&C(N.value),I&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Ns(e.calculatedDuration):0}get time(){return Ns(this.currentTime)}set time(e){e=Qs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=z9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const $9=new Set(["opacity","clipPath","filter","transform"]);function q9(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:A="loop",ease:a="easeInOut",times:o}={}){const l={[e]:n};o&&(l.offset=o);const u=AN(a,s);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:A==="reverse"?"alternate":"normal"})}const X9=hx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lp=10,Y9=2e4;function J9(t){return Tx(t.type)||t.type==="spring"||!iN(t.ease)}function Z9(t,e){const n=new jx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<Y9;)r=n.sample(i),s.push(r.value),i+=lp;return{times:void 0,keyframes:s,duration:i-lp,ease:"linear"}}const jN={anticipate:yN,backInOut:mN,circInOut:wN};function eG(t){return t in jN}class xb extends RN{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new kN(i,(A,a)=>this.onKeyframesResolved(A,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:A,motionValue:a,name:o,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Ap()&&eG(i)&&(i=jN[i]),J9(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,element:m,...y}=this.options,C=Z9(e,y);e=C.keyframes,e.length===1&&(e[1]=e[0]),r=C.duration,s=C.times,i=C.ease,A="keyframes"}const u=q9(a.owner.current,o,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(ib(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(Vg(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:A,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ns(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ns(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Jn;const{animation:r}=n;ib(r,e)}return Jn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:A,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:h,element:f,...g}=this.options,m=new jx({...g,keyframes:r,duration:s,type:i,ease:A,times:a,isGenerator:!0}),y=Qs(this.time);l.setWithVelocity(m.sample(y-lp).value,m.sample(y).value,lp)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:A,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=n.owner.getProps();return X9()&&r&&$9.has(r)&&!o&&!l&&!s&&i!=="mirror"&&A!==0&&a!=="inertia"}}const tG={type:"spring",stiffness:500,damping:25,restSpeed:10},nG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rG={type:"keyframes",duration:.8},sG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iG=(t,{keyframes:e})=>e.length>2?rG:da.has(t)?t.startsWith("scale")?nG(e[1]):tG:sG;function AG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:A,repeatDelay:a,from:o,elapsed:l,...u}){return!!Object.keys(u).length}const Vx=(t,e,n,r={},s,i)=>A=>{const a=Ix(r,t)||{},o=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Qs(o);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{A(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};AG(a)||(u={...u,...iG(t,u)}),u.duration&&(u.duration=Qs(u.duration)),u.repeatDelay&&(u.repeatDelay=Qs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const f=Vg(u.keyframes,a);if(f!==void 0)return it.update(()=>{u.onUpdate(f),u.onComplete()}),new bz([])}return!i&&xb.supports(u)?new xb(u):new jx(u)};function aG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function VN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:A=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(A=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in o){const f=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=o[h];if(g===void 0||u&&aG(u,h))continue;const m={delay:n,...Ix(A||{},h)};let y=!1;if(window.MotionHandoffAnimation){const B=dN(t);if(B){const v=window.MotionHandoffAnimation(B,h,it);v!==null&&(m.startTime=v,y=!0)}}yv(t,h),f.start(Vx(h,f,g,t.shouldReduceMotion&&cN.has(h)?{type:!1}:m,t,y));const C=f.animation;C&&l.push(C)}return a&&Promise.all(l).then(()=>{it.update(()=>{a&&Oz(t,a)})}),l}function _v(t,e,n={}){var r;const s=jg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const A=s?()=>Promise.all(VN(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return oG(t,e,u+l,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[A,a]:[a,A];return l().then(()=>u())}else return Promise.all([A(),a(n.delay)])}function oG(t,e,n=0,r=0,s=1,i){const A=[],a=(t.variantChildren.size-1)*r,o=s===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(t.variantChildren).sort(lG).forEach((l,u)=>{l.notify("AnimationStart",e),A.push(_v(l,e,{...i,delay:n+o(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(A)}function lG(t,e){return t.sortNodePosition(e)}function cG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>_v(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=_v(t,e,n);else{const s=typeof e=="function"?jg(t,e,n.custom):e;r=Promise.all(VN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const uG=px.length;function HN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<uG;n++){const r=px[n],s=t.props[r];(pu(s)||s===!1)&&(e[r]=s)}return e}const dG=[...fx].reverse(),hG=fx.length;function fG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cG(t,n,r)))}function pG(t){let e=fG(t),n=Cb(),r=!0;const s=o=>(l,u)=>{var h;const f=jg(t,u,o==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:m,...y}=f;l={...l,...y,...m}}return l};function i(o){e=o(t)}function A(o){const{props:l}=t,u=HN(t.parent)||{},h=[],f=new Set;let g={},m=1/0;for(let C=0;C<hG;C++){const B=dG[C],v=n[B],w=l[B]!==void 0?l[B]:u[B],F=pu(w),N=B===o?v.isActive:null;N===!1&&(m=C);let k=w===u[B]&&w!==l[B]&&F;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),v.protectedKeys={...g},!v.isActive&&N===null||!w&&!v.prevProp||Mg(w)||typeof w=="boolean")continue;const I=gG(v.prevProp,w);let E=I||B===o&&v.isActive&&!k&&F||C>m&&F,b=!1;const _=Array.isArray(w)?w:[w];let Q=_.reduce(s(B),{});N===!1&&(Q={});const{prevResolvedValues:R={}}=v,T={...R,...Q},Y=X=>{E=!0,f.has(X)&&(b=!0,f.delete(X)),v.needsAnimating[X]=!0;const P=t.getValue(X);P&&(P.liveStyle=!1)};for(const X in T){const P=Q[X],K=R[X];if(g.hasOwnProperty(X))continue;let z=!1;pv(P)&&pv(K)?z=!nN(P,K):z=P!==K,z?P!=null?Y(X):f.add(X):P!==void 0&&f.has(X)?Y(X):v.protectedKeys[X]=!0}v.prevProp=w,v.prevResolvedValues=Q,v.isActive&&(g={...g,...Q}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(k&&I)||b)&&h.push(..._.map(X=>({animation:X,options:{type:B}})))}if(f.size){const C={};f.forEach(B=>{const v=t.getBaseTarget(B),w=t.getValue(B);w&&(w.liveStyle=!0),C[B]=v??null}),h.push({animation:C})}let y=!!h.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(o,l){var u;if(n[o].isActive===l)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(o,l)}),n[o].isActive=l;const h=A(o);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:A,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Cb(),r=!0}}}function gG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nN(e,t):!1}function BA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cb(){return{animate:BA(!0),whileInView:BA(),whileHover:BA(),whileTap:BA(),whileDrag:BA(),whileFocus:BA(),exit:BA()}}class fA{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mG extends fA{constructor(e){super(e),e.animationState||(e.animationState=pG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let yG=0;class vG extends fA{constructor(){super(...arguments),this.id=yG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wG={animation:{Feature:mG},exit:{Feature:vG}};function vu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ld(t){return{point:{x:t.pageX,y:t.pageY}}}const BG=t=>e=>Ux(e)&&t(e,ld(e));function Fc(t,e,n,r){return vu(t,e,BG(n),r)}const Eb=(t,e)=>Math.abs(t-e);function xG(t,e){const n=Eb(t.x,e.x),r=Eb(t.y,e.y);return Math.sqrt(n**2+r**2)}class KN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=l0(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=xG(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:m}=h,{timestamp:y}=Wt;this.history.push({...m,timestamp:y});const{onStart:C,onMove:B}=this.handlers;f||(C&&C(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=o0(f,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=l0(h.type==="pointercancel"?this.lastMoveEventInfo:o0(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,C),m&&m(h,C)},!Ux(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const A=ld(e),a=o0(A,this.transformPagePoint),{point:o}=a,{timestamp:l}=Wt;this.history=[{...o,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,l0(a,this.history)),this.removeListeners=od(Fc(this.contextWindow,"pointermove",this.handlePointerMove),Fc(this.contextWindow,"pointerup",this.handlePointerUp),Fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ji(this.updatePoint)}}function o0(t,e){return e?{point:e(t.point)}:t}function _b(t,e){return{x:t.x-e.x,y:t.y-e.y}}function l0({point:t},e){return{point:t,delta:_b(t,zN(e)),offset:_b(t,CG(e)),velocity:EG(e,.1)}}function CG(t){return t[0]}function zN(t){return t[t.length-1]}function EG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=zN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Qs(e)));)n--;if(!r)return{x:0,y:0};const i=Ns(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const A={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return A.x===1/0&&(A.x=0),A.y===1/0&&(A.y=0),A}const GN=1e-4,_G=1-GN,bG=1+GN,WN=.01,IG=0-WN,TG=0+WN;function tr(t){return t.max-t.min}function FG(t,e,n){return Math.abs(t-e)<=n}function bb(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=tr(n)/tr(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_G&&t.scale<=bG||isNaN(t.scale))&&(t.scale=1),(t.translate>=IG&&t.translate<=TG||isNaN(t.translate))&&(t.translate=0)}function Uc(t,e,n,r){bb(t.x,e.x,n.x,r?r.originX:void 0),bb(t.y,e.y,n.y,r?r.originY:void 0)}function Ib(t,e,n){t.min=n.min+e.min,t.max=t.min+tr(e)}function UG(t,e,n){Ib(t.x,e.x,n.x),Ib(t.y,e.y,n.y)}function Tb(t,e,n){t.min=e.min-n.min,t.max=t.min+tr(e)}function Sc(t,e,n){Tb(t.x,e.x,n.x),Tb(t.y,e.y,n.y)}function SG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function Fb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QG(t,{top:e,left:n,bottom:r,right:s}){return{x:Fb(t.x,n,s),y:Fb(t.y,e,r)}}function Ub(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NG(t,e){return{x:Ub(t.x,e.x),y:Ub(t.y,e.y)}}function kG(t,e){let n=.5;const r=tr(t),s=tr(e);return s>r?n=Lo(e.min,e.max-r,t.min):r>s&&(n=Lo(t.min,t.max-s,e.min)),Ws(0,1,n)}function RG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bv=.35;function DG(t=bv){return t===!1?t=0:t===!0&&(t=bv),{x:Sb(t,"left","right"),y:Sb(t,"top","bottom")}}function Sb(t,e,n){return{min:Qb(t,e),max:Qb(t,n)}}function Qb(t,e){return typeof t=="number"?t:t[e]||0}const Nb=()=>({translate:0,scale:1,origin:0,originPoint:0}),eo=()=>({x:Nb(),y:Nb()}),kb=()=>({min:0,max:0}),xt=()=>({x:kb(),y:kb()});function ar(t){return[t("x"),t("y")]}function $N({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function c0(t){return t===void 0||t===1}function Iv({scale:t,scaleX:e,scaleY:n}){return!c0(t)||!c0(e)||!c0(n)}function bA(t){return Iv(t)||qN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qN(t){return Rb(t.x)||Rb(t.y)}function Rb(t){return t&&t!=="0%"}function cp(t,e,n){const r=t-n,s=e*r;return n+s}function Db(t,e,n,r,s){return s!==void 0&&(t=cp(t,s,r)),cp(t,n,r)+e}function Tv(t,e=0,n=1,r,s){t.min=Db(t.min,e,n,r,s),t.max=Db(t.max,e,n,r,s)}function XN(t,{x:e,y:n}){Tv(t.x,e.translate,e.scale,e.originPoint),Tv(t.y,n.translate,n.scale,n.originPoint)}const Pb=.999999999999,Lb=1.0000000000001;function MG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,A;for(let a=0;a<s;a++){i=n[a],A=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&no(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),A&&(e.x*=A.x.scale,e.y*=A.y.scale,XN(t,A)),r&&bA(i.latestValues)&&no(t,i.latestValues))}e.x<Lb&&e.x>Pb&&(e.x=1),e.y<Lb&&e.y>Pb&&(e.y=1)}function to(t,e){t.min=t.min+e,t.max=t.max+e}function Mb(t,e,n,r,s=.5){const i=dt(t.min,t.max,s);Tv(t,e,n,i,r)}function no(t,e){Mb(t.x,e.x,e.scaleX,e.scale,e.originX),Mb(t.y,e.y,e.scaleY,e.scale,e.originY)}function YN(t,e){return $N(LG(t.getBoundingClientRect(),e))}function OG(t,e,n){const r=YN(t,n),{scroll:s}=e;return s&&(to(r.x,s.offset.x),to(r.y,s.offset.y)),r}const JN=({current:t})=>t?t.ownerDocument.defaultView:null,jG=new WeakMap;class VG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ld(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Rz(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ar(C=>{let B=this.getAxisMotionValue(C).get()||0;if(ns.test(B)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[C];w&&(B=tr(w)*(parseFloat(B)/100))}}this.originPoint[C]=B}),m&&it.postRender(()=>m(u,h)),yv(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},A=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:y}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:C}=h;if(g&&this.currentDirection===null){this.currentDirection=HG(C),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),y&&y(u,h)},a=(u,h)=>this.stop(u,h),o=()=>ar(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new KN(e,{onSessionStart:s,onStart:i,onMove:A,onSessionEnd:a,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:JN(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&it.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!sh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let A=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(A=SG(A,this.constraints[e],this.elastic[e])),i.set(A)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ja(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=QG(s.layoutBox,n):this.constraints=!1,this.elastic=DG(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ar(A=>{this.constraints!==!1&&this.getAxisMotionValue(A)&&(this.constraints[A]=RG(s.layoutBox[A],this.constraints[A]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ja(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=OG(r,s.root,this.visualElement.getTransformPagePoint());let A=NG(s.layout.layoutBox,i);if(n){const a=n(PG(A));this.hasMutatedConstraints=!!a,a&&(A=$N(a))}return A}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:A,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=ar(u=>{if(!sh(u,n,this.currentDirection))return;let h=o&&o[u]||{};A&&(h={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return yv(this.visualElement,e),r.start(Vx(e,r,0,n,this.visualElement,!1))}stopAnimation(){ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ar(n=>{const{drag:r}=this.getProps();if(!sh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:A,max:a}=s.layout.layoutBox[n];i.set(e[n]-dt(A,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ja(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ar(A=>{const a=this.getAxisMotionValue(A);if(a&&this.constraints!==!1){const o=a.get();s[A]=kG({min:o,max:o},this.constraints[A])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ar(A=>{if(!sh(A,e,null))return;const a=this.getAxisMotionValue(A),{min:o,max:l}=this.constraints[A];a.set(dt(o,l,s[A]))})}addListeners(){if(!this.visualElement.current)return;jG.set(this.visualElement,this);const e=this.visualElement.current,n=Fc(e,"pointerdown",o=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();Ja(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),it.read(r);const A=vu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:o,hasLayoutChanged:l})=>{this.isDragging&&l&&(ar(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=o[u].translate,h.set(h.get()+o[u].translate))}),this.visualElement.render())});return()=>{A(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:A=bv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:A,dragMomentum:a}}}function sh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KG extends fA{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new VG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ob=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class zG extends fA{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new KN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ob(e),onStart:Ob(n),onMove:r,onEnd:(i,A)=>{delete this.session,s&&it.postRender(()=>s(i,A))}}}mount(){this.removePointerDownListener=Fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=jb(t,e.target.x),r=jb(t,e.target.y);return`${n}% ${r}%`}},GG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Zi.parse(t);if(s.length>5)return r;const i=Zi.createTransformer(t),A=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,o=n.y.scale*e.y;s[0+A]/=a,s[1+A]/=o;const l=dt(a,o,.5);return typeof s[2+A]=="number"&&(s[2+A]/=l),typeof s[3+A]=="number"&&(s[3+A]/=l),i(s)}};class WG extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;fz($G),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,A=r.projection;return A&&(A.isPresent=i,s||e.layoutDependency!==n||n===void 0?A.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?A.promote():A.relegate()||it.postRender(()=>{const a=A.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZN(t){const[e,n]=D2(),r=S.useContext(lx);return c.jsx(WG,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(H2),isPresent:e,safeToRemove:n})}const $G={borderRadius:{...Nl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nl,borderTopRightRadius:Nl,borderBottomLeftRadius:Nl,borderBottomRightRadius:Nl,boxShadow:GG};function qG(t,e,n){const r=yn(t)?t:mu(t);return r.start(Vx("",r,e,n)),r.animation}function XG(t){return t instanceof SVGElement&&t.tagName!=="svg"}const YG=(t,e)=>t.depth-e.depth;class JG{constructor(){this.children=[],this.isDirty=!1}add(e){Sx(this.children,e),this.isDirty=!0}remove(e){Qx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YG),this.isDirty=!1,this.children.forEach(e)}}function ZG(t,e){const n=rs.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ji(r),t(i-e))};return it.read(r,!0),()=>Ji(r)}const ek=["TopLeft","TopRight","BottomLeft","BottomRight"],e8=ek.length,Vb=t=>typeof t=="string"?parseFloat(t):t,Hb=t=>typeof t=="number"||me.test(t);function t8(t,e,n,r,s,i){s?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,n8(r)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,r8(r))):i&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let A=0;A<e8;A++){const a=`border${ek[A]}Radius`;let o=Kb(e,a),l=Kb(n,a);if(o===void 0&&l===void 0)continue;o||(o=0),l||(l=0),o===0||l===0||Hb(o)===Hb(l)?(t[a]=Math.max(dt(Vb(o),Vb(l),r),0),(ns.test(l)||ns.test(o))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function Kb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const n8=tk(0,.5,vN),r8=tk(.5,.95,Jn);function tk(t,e,n){return r=>r<t?0:r>e?1:n(Lo(t,e,r))}function zb(t,e){t.min=e.min,t.max=e.max}function ir(t,e){zb(t.x,e.x),zb(t.y,e.y)}function Gb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Wb(t,e,n,r,s){return t-=e,t=cp(t,1/n,r),s!==void 0&&(t=cp(t,1/s,r)),t}function s8(t,e=0,n=1,r=.5,s,i=t,A=t){if(ns.test(e)&&(e=parseFloat(e),e=dt(A.min,A.max,e/100)-A.min),typeof e!="number")return;let a=dt(i.min,i.max,r);t===i&&(a-=e),t.min=Wb(t.min,e,n,a,s),t.max=Wb(t.max,e,n,a,s)}function $b(t,e,[n,r,s],i,A){s8(t,e[n],e[r],e[s],e.scale,i,A)}const i8=["x","scaleX","originX"],A8=["y","scaleY","originY"];function qb(t,e,n,r){$b(t.x,e,i8,n?n.x:void 0,r?r.x:void 0),$b(t.y,e,A8,n?n.y:void 0,r?r.y:void 0)}function Xb(t){return t.translate===0&&t.scale===1}function nk(t){return Xb(t.x)&&Xb(t.y)}function Yb(t,e){return t.min===e.min&&t.max===e.max}function a8(t,e){return Yb(t.x,e.x)&&Yb(t.y,e.y)}function Jb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rk(t,e){return Jb(t.x,e.x)&&Jb(t.y,e.y)}function Zb(t){return tr(t.x)/tr(t.y)}function eI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class o8{constructor(){this.members=[]}add(e){Sx(this.members,e),e.scheduleRender()}remove(e){if(Qx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function l8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,A=(n==null?void 0:n.z)||0;if((s||i||A)&&(r=`translate3d(${s}px, ${i}px, ${A}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:m}=n;l&&(r=`perspective(${l}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const IA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ec=typeof window<"u"&&window.MotionDebug!==void 0,u0=["","X","Y","Z"],c8={visibility:"hidden"},tI=1e3;let u8=0;function d0(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sk(r)}function ik({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(A={},a=e==null?void 0:e()){this.id=u8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ec&&(IA.totalNodes=IA.resolvedTargetDeltas=IA.recalculatedProjection=0),this.nodes.forEach(f8),this.nodes.forEach(v8),this.nodes.forEach(w8),this.nodes.forEach(p8),ec&&window.MotionDebug.record(IA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=A,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new JG)}addEventListener(A,a){return this.eventHandlers.has(A)||this.eventHandlers.set(A,new Nx),this.eventHandlers.get(A).add(a)}notifyListeners(A,...a){const o=this.eventHandlers.get(A);o&&o.notify(...a)}hasListeners(A){return this.eventHandlers.has(A)}mount(A,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XG(A),this.instance=A;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(A),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||o)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(A,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=ZG(f,250),ef.hasAnimatedSinceResize&&(ef.hasAnimatedSinceResize=!1,this.nodes.forEach(rI))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||_8,{onLayoutAnimationStart:C,onLayoutAnimationComplete:B}=u.getProps(),v=!this.targetLayout||!rk(this.targetLayout,m)||g,w=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const F={...Ix(y,"layout"),onPlay:C,onComplete:B};(u.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else f||rI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const A=this.getStack();A&&A.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B8),this.animationId++)}getTransformTemplate(){const{visualElement:A}=this.options;return A&&A.getProps().transformTemplate}willUpdate(A=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),A&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nI);return}this.isUpdating||this.nodes.forEach(m8),this.isUpdating=!1,this.nodes.forEach(y8),this.nodes.forEach(d8),this.nodes.forEach(h8),this.clearAllSnapshots();const a=rs.now();Wt.delta=Ws(0,1e3/60,a-Wt.timestamp),Wt.timestamp=a,Wt.isProcessing=!0,n0.update.process(Wt),n0.preRender.process(Wt),n0.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(g8),this.sharedNodes.forEach(x8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const A=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,A?A.layoutBox:void 0)}updateScroll(A="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===A&&(a=!1),a){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:A,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!s)return;const A=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!nk(this.projectionDelta),o=this.getTransformTemplate(),l=o?o(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;A&&(a||bA(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(A=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return A&&(o=this.removeTransform(o)),b8(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var A;const{visualElement:a}=this.options;if(!a)return xt();const o=a.measureViewportBox();if(!(((A=this.scroll)===null||A===void 0?void 0:A.wasRoot)||this.path.some(I8))){const{scroll:u}=this.root;u&&(to(o.x,u.offset.x),to(o.y,u.offset.y))}return o}removeElementScroll(A){var a;const o=xt();if(ir(o,A),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return o;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ir(o,A),to(o.x,h.offset.x),to(o.y,h.offset.y))}return o}applyTransform(A,a=!1){const o=xt();ir(o,A);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&no(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),bA(u.latestValues)&&no(o,u.latestValues)}return bA(this.latestValues)&&no(o,this.latestValues),o}removeTransform(A){const a=xt();ir(a,A);for(let o=0;o<this.path.length;o++){const l=this.path[o];if(!l.instance||!bA(l.latestValues))continue;Iv(l.latestValues)&&l.updateSnapshot();const u=xt(),h=l.measurePageBox();ir(u,h),qb(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return bA(this.latestValues)&&qb(a,this.latestValues),a}setTargetDelta(A){this.targetDelta=A,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(A){this.options={...this.options,...A,crossfade:A.crossfade!==void 0?A.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(A=!1){var a;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(A||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),Sc(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ir(this.target,this.layout.layoutBox),XN(this.target,this.targetDelta)):ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),Sc(this.relativeTargetOrigin,this.target,g.target),ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ec&&IA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Iv(this.parent.latestValues)||qN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((A=this.parent)===null||A===void 0)&&A.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;ir(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;MG(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gb(this.prevProjectionDelta.x,this.projectionDelta.x),Gb(this.prevProjectionDelta.y,this.projectionDelta.y)),Uc(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!eI(this.projectionDelta.x,this.prevProjectionDelta.x)||!eI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ec&&IA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(A=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),A){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eo(),this.projectionDelta=eo(),this.projectionDeltaWithTransform=eo()}setAnimationOrigin(A,a=!1){const o=this.snapshot,l=o?o.latestValues:{},u={...this.latestValues},h=eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=xt(),g=o?o.source:void 0,m=this.layout?this.layout.source:void 0,y=g!==m,C=this.getStack(),B=!C||C.members.length<=1,v=!!(y&&!B&&this.options.crossfade===!0&&!this.path.some(E8));this.animationProgress=0;let w;this.mixTargetDelta=F=>{const N=F/1e3;sI(h.x,A.x,N),sI(h.y,A.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C8(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&a8(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=xt()),ir(w,this.relativeTarget)),y&&(this.animationValues=u,t8(u,l,this.latestValues,N,v,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(A){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{ef.hasAnimatedSinceResize=!0,this.currentAnimation=qG(0,tI,{...A,onUpdate:a=>{this.mixTargetDelta(a),A.onUpdate&&A.onUpdate(a)},onComplete:()=>{A.onComplete&&A.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const A=this.getStack();A&&A.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const A=this.getLead();let{targetWithTransforms:a,target:o,layout:l,latestValues:u}=A;if(!(!a||!o||!l)){if(this!==A&&this.layout&&l&&Ak(this.options.animationType,this.layout.layoutBox,l.layoutBox)){o=this.target||xt();const h=tr(this.layout.layoutBox.x);o.x.min=A.target.x.min,o.x.max=o.x.min+h;const f=tr(this.layout.layoutBox.y);o.y.min=A.target.y.min,o.y.max=o.y.min+f}ir(a,o),no(a,u),Uc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(A,a){this.sharedNodes.has(A)||this.sharedNodes.set(A,new o8),this.sharedNodes.get(A).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const A=this.getStack();return A?A.lead===this:!0}getLead(){var A;const{layoutId:a}=this.options;return a?((A=this.getStack())===null||A===void 0?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:a}=this.options;return a?(A=this.getStack())===null||A===void 0?void 0:A.prevLead:void 0}getStack(){const{layoutId:A}=this.options;if(A)return this.root.sharedNodes.get(A)}promote({needsReset:A,transition:a,preserveFollowOpacity:o}={}){const l=this.getStack();l&&l.promote(this,o),A&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const A=this.getStack();return A?A.relegate(this):!1}resetSkewAndRotation(){const{visualElement:A}=this.options;if(!A)return;let a=!1;const{latestValues:o}=A;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const l={};o.z&&d0("z",A,l,this.animationValues);for(let u=0;u<u0.length;u++)d0(`rotate${u0[u]}`,A,l,this.animationValues),d0(`skew${u0[u]}`,A,l,this.animationValues);A.render();for(const u in l)A.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);A.scheduleRender()}getProjectionStyles(A){var a,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return c8;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Jh(A==null?void 0:A.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Jh(A==null?void 0:A.pointerEvents)||""),this.hasProjected&&!bA(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=l8(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:g,y:m}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(o=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in ip){if(f[y]===void 0)continue;const{correct:C,applyTo:B}=ip[y],v=l.transform==="none"?f[y]:C(f[y],h);if(B){const w=B.length;for(let F=0;F<w;F++)l[B[F]]=v}else l[y]=v}return this.options.layoutId&&(l.pointerEvents=h===this?Jh(A==null?void 0:A.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(A=>{var a;return(a=A.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(nI),this.root.sharedNodes.clear()}}}function d8(t){t.updateLayout()}function h8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,A=n.source!==t.layout.source;i==="size"?ar(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=tr(f);f.min=r[h].min,f.max=f.min+g}):Ak(i,n.layoutBox,r)&&ar(h=>{const f=A?n.measuredBox[h]:n.layoutBox[h],g=tr(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=eo();Uc(a,r,n.layoutBox);const o=eo();A?Uc(o,t.applyTransform(s,!0),n.measuredBox):Uc(o,r,n.layoutBox);const l=!nk(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const m=xt();Sc(m,n.layoutBox,f.layoutBox);const y=xt();Sc(y,r,g.layoutBox),rk(m,y)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function f8(t){ec&&IA.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function p8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function g8(t){t.clearSnapshot()}function nI(t){t.clearMeasurements()}function m8(t){t.isLayoutDirty=!1}function y8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v8(t){t.resolveTargetDelta()}function w8(t){t.calcProjection()}function B8(t){t.resetSkewAndRotation()}function x8(t){t.removeLeadSnapshot()}function sI(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iI(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function C8(t,e,n,r){iI(t.x,e.x,n.x,r),iI(t.y,e.y,n.y,r)}function E8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _8={duration:.45,ease:[.4,0,.1,1]},AI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aI=AI("applewebkit/")&&!AI("chrome/")?Math.round:Jn;function oI(t){t.min=aI(t.min),t.max=aI(t.max)}function b8(t){oI(t.x),oI(t.y)}function Ak(t,e,n){return t==="position"||t==="preserve-aspect"&&!FG(Zb(e),Zb(n),.2)}function I8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const T8=ik({attachResizeListener:(t,e)=>vu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h0={current:void 0},ak=ik({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!h0.current){const t=new T8({});t.mount(window),t.setOptions({layoutScroll:!0}),h0.current=t}return h0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),F8={pan:{Feature:zG},drag:{Feature:KG,ProjectionNode:ak,MeasureLayout:ZN}};function lI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&it.postRender(()=>i(e,ld(e)))}class U8 extends fA{mount(){const{current:e}=this.node;e&&(this.unmount=Uz(e,n=>(lI(this.node,n,"Start"),r=>lI(this.node,r,"End"))))}unmount(){}}class S8 extends fA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=od(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cI(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&it.postRender(()=>i(e,ld(e)))}class Q8 extends fA{mount(){const{current:e}=this.node;e&&(this.unmount=kz(e,n=>(cI(this.node,n,"Start"),(r,{success:s})=>cI(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fv=new WeakMap,f0=new WeakMap,N8=t=>{const e=Fv.get(t.target);e&&e(t)},k8=t=>{t.forEach(N8)};function R8({root:t,...e}){const n=t||document;f0.has(n)||f0.set(n,{});const r=f0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(k8,{root:t,...e})),r[s]}function D8(t,e,n){const r=R8(e);return Fv.set(t,n),r.observe(t),()=>{Fv.delete(t),r.unobserve(t)}}const P8={some:0,all:1};class L8 extends fA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,A={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:P8[s]},a=o=>{const{isIntersecting:l}=o;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=l?u:h;f&&f(o)};return D8(this.node.current,A,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(M8(e,n))&&this.startObserver()}unmount(){}}function M8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const O8={inView:{Feature:L8},tap:{Feature:Q8},focus:{Feature:S8},hover:{Feature:U8}},j8={layout:{ProjectionNode:ak,MeasureLayout:ZN}},Uv={current:null},ok={current:!1};function V8(){if(ok.current=!0,!!dx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uv.current=t.matches;t.addListener(e),e()}else Uv.current=!1}const H8=[...NN,hn,Zi],K8=t=>H8.find(QN(t)),uI=new WeakMap;function z8(t,e,n){for(const r in e){const s=e[r],i=n[r];if(yn(s))t.addValue(r,s);else if(yn(i))t.addValue(r,mu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const A=t.getValue(r);A.liveStyle===!0?A.jump(s):A.hasAnimated||A.set(s)}else{const A=t.getStaticValue(r);t.addValue(r,mu(A!==void 0?A:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:A},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=rs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,it.render(this.render,!1,!0))};const{latestValues:o,renderState:l,onUpdate:u}=A;this.onUpdate=u,this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Og(n),this.isVariantNode=j2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];o[g]!==void 0&&yn(m)&&m.set(o[g],!1)}}mount(e){this.current=e,uI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ok.current||V8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uI.delete(this.current),this.projection&&this.projection.unmount(),Ji(this.notifyUpdate),Ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=da.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&it.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let A;window.MotionCheckAppearSync&&(A=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),A&&A(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Mo){const n=Mo[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dI.length;r++){const s=dI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,A=e[i];A&&(this.propEventSubscriptions[s]=this.on(s,A))}this.prevMotionValues=z8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=mu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(UN(s)||BN(s))?s=parseFloat(s):!K8(s)&&Zi.test(n)&&(s=IN(e,n)),this.setBaseTarget(e,yn(s)?s.get():s)),yn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const A=vx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);A&&(s=A[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!yn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Nx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class lk extends G8{constructor(){super(...arguments),this.KeyframeResolver=kN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W8(t){return window.getComputedStyle(t)}class $8 extends lk{constructor(){super(...arguments),this.type="html",this.renderInstance=X2}readValueFromInstance(e,n){if(da.has(n)){const r=Lx(n);return r&&r.default||0}else{const r=W8(e),s=(W2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YN(e,n)}build(e,n,r){xx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return bx(e,n,r)}}class q8 extends lk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(da.has(n)){const r=Lx(n);return r&&r.default||0}return n=Y2.has(n)?n:gx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return eN(e,n,r)}build(e,n,r){Cx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){J2(e,n,r,s)}mount(e){this.isSVGTag=_x(e.tagName),super.mount(e)}}const X8=(t,e)=>yx(t)?new q8(e):new $8(e,{allowProjection:t!==S.Fragment}),Y8=Cz({...wG,...O8,...F8,...j8},X8),$=L6(Y8),J8=({isOpen:t,onClose:e,onSuccess:n})=>{const r=Yo(),[s,i]=S.useState(np),[A,a]=S.useState(""),[o,l]=S.useState(!1),[u,h]=S.useState(null),f=async g=>{g.preventDefault(),l(!0),h(null);try{await Z5(s,A),n&&n(),e(),r("/dashboard")}catch(m){console.error("Auth error:",m),h(e6(m))}finally{l(!1)}};return c.jsx(An,{children:t&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(Hn,{size:24})}),c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(W1,{className:"text-[--theater-gold]"}),"Admin Login"]}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 rounded flex items-center gap-2",children:[c.jsx(Mt,{size:20}),u]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{id:"email",type:"email",value:s,readOnly:!0,className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white opacity-50"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{id:"password",type:"password",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Accesso in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(W1,{size:20}),"Accedi"]})})]})]})})})},Z8=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),s=lA(),{user:i,isAdmin:A}=Zs(),a=[{path:"/",label:"Home",icon:S2,public:!0},{path:"/prenota",label:"Prenotazioni",icon:Fn,public:!0},{path:"/dashboard",label:"Dashboard",icon:Ei,adminOnly:!0}].filter(o=>o.public||o.adminOnly&&A);return c.jsxs(c.Fragment,{children:[c.jsxs("nav",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:[c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx(ho,{to:"/",className:"text-2xl font-marquee text-[--theater-gold]",children:"Carnevale"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.map(({path:o,label:l,icon:u})=>c.jsxs(ho,{to:o,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${s.pathname===o?"bg-[--theater-gold] text-black":"text-gray-300 hover:bg-gray-700"}`,children:[c.jsx(u,{size:18}),c.jsx("span",{children:l})]},o)),!i&&c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(Ei,{size:18}),c.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})]}),c.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-400 hover:text-white",children:t?c.jsx(Hn,{size:24}):c.jsx(Q2,{size:24})})]})]})}),c.jsx(An,{children:t&&c.jsx($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-gray-800 border-t border-gray-700",children:c.jsx("div",{className:"container mx-auto px-4 py-2",children:a.map(({path:o,label:l,icon:u})=>c.jsxs(ho,{to:o,onClick:()=>e(!1),className:"flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-gray-700 rounded-lg",children:[c.jsx(u,{size:20}),c.jsx("span",{children:l})]},o))})})})]}),c.jsx(J8,{isOpen:n,onClose:()=>r(!1)})]})},e7=()=>c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx(Z8,{}),c.jsx($.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"container mx-auto px-4 py-8",children:c.jsx(lS,{})})]});var cd=t=>t.type==="checkbox",RA=t=>t instanceof Date,_n=t=>t==null;const ck=t=>typeof t=="object";var It=t=>!_n(t)&&!Array.isArray(t)&&ck(t)&&!RA(t),t7=t=>It(t)&&t.target?cd(t.target)?t.target.checked:t.target.value:t,n7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,r7=(t,e)=>t.has(n7(e)),s7=t=>{const e=t.constructor&&t.constructor.prototype;return It(e)&&e.hasOwnProperty("isPrototypeOf")},Hx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ar(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Hx&&(t instanceof Blob||r))&&(n||It(t)))if(e=n?[]:{},!n&&!s7(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Ar(t[s]));else return t;return e}var Hg=t=>Array.isArray(t)?t.filter(Boolean):[],Ut=t=>t===void 0,oe=(t,e,n)=>{if(!e||!It(t))return n;const r=Hg(e.split(/[,[\].]+?/)).reduce((s,i)=>_n(s)?s:s[i],t);return Ut(r)||r===t?Ut(t[e])?n:t[e]:r},Kr=t=>typeof t=="boolean",Kx=t=>/^\w*$/.test(t),uk=t=>Hg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),We=(t,e,n)=>{let r=-1;const s=Kx(e)?[e]:uk(e),i=s.length,A=i-1;for(;++r<i;){const a=s[r];let o=n;if(r!==A){const l=t[a];o=It(l)||Array.isArray(l)?l:isNaN(+s[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=o,t=t[a]}return t};const hI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};pe.createContext(null);var i7=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const A=i;return e._proxyFormState[A]!==Ir.all&&(e._proxyFormState[A]=!r||Ir.all),t[A]}});return s},Nn=t=>It(t)&&!Object.keys(t).length,A7=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Nn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(A=>e[A]===Ir.all)},tf=t=>Array.isArray(t)?t:[t];function a7(t){const e=pe.useRef(t);e.current=t,pe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var qr=t=>typeof t=="string",o7=(t,e,n,r,s)=>qr(t)?(r&&e.watch.add(t),oe(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),oe(n,i))):(r&&(e.watchAll=!0),n),dk=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},fI=t=>({isOnSubmit:!t||t===Ir.onSubmit,isOnBlur:t===Ir.onBlur,isOnChange:t===Ir.onChange,isOnAll:t===Ir.all,isOnTouch:t===Ir.onTouched}),pI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Qc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=oe(t,s);if(i){const{_f:A,...a}=i;if(A){if(A.refs&&A.refs[0]&&e(A.refs[0],s)&&!r)return!0;if(A.ref&&e(A.ref,A.name)&&!r)return!0;if(Qc(a,e))break}else if(It(a)&&Qc(a,e))break}}};var l7=(t,e,n)=>{const r=tf(oe(t,n));return We(r,"root",e[n]),We(t,n,r),t},zx=t=>t.type==="file",Gr=t=>typeof t=="function",up=t=>{if(!Hx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},nf=t=>qr(t),Gx=t=>t.type==="radio",dp=t=>t instanceof RegExp;const gI={value:!1,isValid:!1},mI={value:!0,isValid:!0};var hk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ut(t[0].attributes.value)?Ut(t[0].value)||t[0].value===""?mI:{value:t[0].value,isValid:!0}:mI:gI}return gI};const yI={isValid:!1,value:null};var fk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,yI):yI;function vI(t,e,n="validate"){if(nf(t)||Array.isArray(t)&&t.every(nf)||Kr(t)&&!t)return{type:n,message:nf(t)?t:"",ref:e}}var Ca=t=>It(t)&&!dp(t)?t:{value:t,message:""},wI=async(t,e,n,r,s,i)=>{const{ref:A,refs:a,required:o,maxLength:l,minLength:u,min:h,max:f,pattern:g,validate:m,name:y,valueAsNumber:C,mount:B}=t._f,v=oe(n,y);if(!B||e.has(y))return{};const w=a?a[0]:A,F=R=>{s&&w.reportValidity&&(w.setCustomValidity(Kr(R)?"":R||""),w.reportValidity())},N={},k=Gx(A),I=cd(A),E=k||I,b=(C||zx(A))&&Ut(A.value)&&Ut(v)||up(A)&&A.value===""||v===""||Array.isArray(v)&&!v.length,_=dk.bind(null,y,r,N),Q=(R,T,Y,ie=ms.maxLength,V=ms.minLength)=>{const X=R?T:Y;N[y]={type:R?ie:V,message:X,ref:A,..._(R?ie:V,X)}};if(i?!Array.isArray(v)||!v.length:o&&(!E&&(b||_n(v))||Kr(v)&&!v||I&&!hk(a).isValid||k&&!fk(a).isValid)){const{value:R,message:T}=nf(o)?{value:!!o,message:o}:Ca(o);if(R&&(N[y]={type:ms.required,message:T,ref:w,..._(ms.required,T)},!r))return F(T),N}if(!b&&(!_n(h)||!_n(f))){let R,T;const Y=Ca(f),ie=Ca(h);if(!_n(v)&&!isNaN(v)){const V=A.valueAsNumber||v&&+v;_n(Y.value)||(R=V>Y.value),_n(ie.value)||(T=V<ie.value)}else{const V=A.valueAsDate||new Date(v),X=z=>new Date(new Date().toDateString()+" "+z),P=A.type=="time",K=A.type=="week";qr(Y.value)&&v&&(R=P?X(v)>X(Y.value):K?v>Y.value:V>new Date(Y.value)),qr(ie.value)&&v&&(T=P?X(v)<X(ie.value):K?v<ie.value:V<new Date(ie.value))}if((R||T)&&(Q(!!R,Y.message,ie.message,ms.max,ms.min),!r))return F(N[y].message),N}if((l||u)&&!b&&(qr(v)||i&&Array.isArray(v))){const R=Ca(l),T=Ca(u),Y=!_n(R.value)&&v.length>+R.value,ie=!_n(T.value)&&v.length<+T.value;if((Y||ie)&&(Q(Y,R.message,T.message),!r))return F(N[y].message),N}if(g&&!b&&qr(v)){const{value:R,message:T}=Ca(g);if(dp(R)&&!v.match(R)&&(N[y]={type:ms.pattern,message:T,ref:A,..._(ms.pattern,T)},!r))return F(T),N}if(m){if(Gr(m)){const R=await m(v,n),T=vI(R,w);if(T&&(N[y]={...T,..._(ms.validate,T.message)},!r))return F(T.message),N}else if(It(m)){let R={};for(const T in m){if(!Nn(R)&&!r)break;const Y=vI(await m[T](v,n),w,T);Y&&(R={...Y,..._(T,Y.message)},F(Y.message),r&&(N[y]=R))}if(!Nn(R)&&(N[y]={ref:w,...R},!r))return N}}return F(!0),N};function c7(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ut(t)?r++:t[e[r++]];return t}function u7(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ut(t[e]))return!1;return!0}function kt(t,e){const n=Array.isArray(e)?e:Kx(e)?[e]:uk(e),r=n.length===1?t:c7(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(It(r)&&Nn(r)||Array.isArray(r)&&u7(r))&&kt(t,n.slice(0,-1)),t}var p0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Sv=t=>_n(t)||!ck(t);function vi(t,e){if(Sv(t)||Sv(e))return t===e;if(RA(t)&&RA(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const A=e[s];if(RA(i)&&RA(A)||It(i)&&It(A)||Array.isArray(i)&&Array.isArray(A)?!vi(i,A):i!==A)return!1}}return!0}var pk=t=>t.type==="select-multiple",d7=t=>Gx(t)||cd(t),g0=t=>up(t)&&t.isConnected,gk=t=>{for(const e in t)if(Gr(t[e]))return!0;return!1};function hp(t,e={}){const n=Array.isArray(t);if(It(t)||n)for(const r in t)Array.isArray(t[r])||It(t[r])&&!gk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},hp(t[r],e[r])):_n(t[r])||(e[r]=!0);return e}function mk(t,e,n){const r=Array.isArray(t);if(It(t)||r)for(const s in t)Array.isArray(t[s])||It(t[s])&&!gk(t[s])?Ut(e)||Sv(n[s])?n[s]=Array.isArray(t[s])?hp(t[s],[]):{...hp(t[s])}:mk(t[s],_n(e)?{}:e[s],n[s]):n[s]=!vi(t[s],e[s]);return n}var kl=(t,e)=>mk(t,e,hp(e)),yk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ut(t)?t:e?t===""?NaN:t&&+t:n&&qr(t)?new Date(t):r?r(t):t;function m0(t){const e=t.ref;return zx(e)?e.files:Gx(e)?fk(t.refs).value:pk(e)?[...e.selectedOptions].map(({value:n})=>n):cd(e)?hk(t.refs).value:yk(Ut(e.value)?t.ref.value:e.value,t)}var h7=(t,e,n,r)=>{const s={};for(const i of t){const A=oe(e,i);A&&We(s,i,A._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Rl=t=>Ut(t)?t:dp(t)?t.source:It(t)?dp(t.value)?t.value.source:t.value:t;const BI="AsyncFunction";var f7=t=>!!t&&!!t.validate&&!!(Gr(t.validate)&&t.validate.constructor.name===BI||It(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===BI)),p7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function xI(t,e,n){const r=oe(t,n);if(r||Kx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),A=oe(e,i),a=oe(t,i);if(A&&!Array.isArray(A)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var g7=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,m7=(t,e)=>!Hg(oe(t,e)).length&&kt(t,e);const y7={mode:Ir.onSubmit,reValidateMode:Ir.onChange,shouldFocusError:!0};function v7(t={}){let e={...y7,...t},n={submitCount:0,isDirty:!1,isLoading:Gr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=It(e.defaultValues)||It(e.values)?Ar(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ar(s),A={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o,l=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:p0(),array:p0(),state:p0()},f=fI(e.mode),g=fI(e.reValidateMode),m=e.criteriaMode===Ir.all,y=D=>M=>{clearTimeout(l),l=setTimeout(D,M)},C=async D=>{if(!e.disabled&&(u.isValid||D)){const M=e.resolver?Nn((await E()).errors):await _(r,!0);M!==n.isValid&&h.state.next({isValid:M})}},B=(D,M)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((D||Array.from(a.mount)).forEach(j=>{j&&(M?We(n.validatingFields,j,M):kt(n.validatingFields,j))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Nn(n.validatingFields)}))},v=(D,M=[],j,ne,ee=!0,J=!0)=>{if(ne&&j&&!e.disabled){if(A.action=!0,J&&Array.isArray(oe(r,D))){const he=j(oe(r,D),ne.argA,ne.argB);ee&&We(r,D,he)}if(J&&Array.isArray(oe(n.errors,D))){const he=j(oe(n.errors,D),ne.argA,ne.argB);ee&&We(n.errors,D,he),m7(n.errors,D)}if(u.touchedFields&&J&&Array.isArray(oe(n.touchedFields,D))){const he=j(oe(n.touchedFields,D),ne.argA,ne.argB);ee&&We(n.touchedFields,D,he)}u.dirtyFields&&(n.dirtyFields=kl(s,i)),h.state.next({name:D,isDirty:R(D,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else We(i,D,M)},w=(D,M)=>{We(n.errors,D,M),h.state.next({errors:n.errors})},F=D=>{n.errors=D,h.state.next({errors:n.errors,isValid:!1})},N=(D,M,j,ne)=>{const ee=oe(r,D);if(ee){const J=oe(i,D,Ut(j)?oe(s,D):j);Ut(J)||ne&&ne.defaultChecked||M?We(i,D,M?J:m0(ee._f)):ie(D,J),A.mount&&C()}},k=(D,M,j,ne,ee)=>{let J=!1,he=!1;const Ie={name:D};if(!e.disabled){const Ne=!!(oe(r,D)&&oe(r,D)._f&&oe(r,D)._f.disabled);if(!j||ne){u.isDirty&&(he=n.isDirty,n.isDirty=Ie.isDirty=R(),J=he!==Ie.isDirty);const Re=Ne||vi(oe(s,D),M);he=!!(!Ne&&oe(n.dirtyFields,D)),Re||Ne?kt(n.dirtyFields,D):We(n.dirtyFields,D,!0),Ie.dirtyFields=n.dirtyFields,J=J||u.dirtyFields&&he!==!Re}if(j){const Re=oe(n.touchedFields,D);Re||(We(n.touchedFields,D,j),Ie.touchedFields=n.touchedFields,J=J||u.touchedFields&&Re!==j)}J&&ee&&h.state.next(Ie)}return J?Ie:{}},I=(D,M,j,ne)=>{const ee=oe(n.errors,D),J=u.isValid&&Kr(M)&&n.isValid!==M;if(e.delayError&&j?(o=y(()=>w(D,j)),o(e.delayError)):(clearTimeout(l),o=null,j?We(n.errors,D,j):kt(n.errors,D)),(j?!vi(ee,j):ee)||!Nn(ne)||J){const he={...ne,...J&&Kr(M)?{isValid:M}:{},errors:n.errors,name:D};n={...n,...he},h.state.next(he)}},E=async D=>{B(D,!0);const M=await e.resolver(i,e.context,h7(D||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return B(D),M},b=async D=>{const{errors:M}=await E(D);if(D)for(const j of D){const ne=oe(M,j);ne?We(n.errors,j,ne):kt(n.errors,j)}else n.errors=M;return M},_=async(D,M,j={valid:!0})=>{for(const ne in D){const ee=D[ne];if(ee){const{_f:J,...he}=ee;if(J){const Ie=a.array.has(J.name),Ne=ee._f&&f7(ee._f);Ne&&u.validatingFields&&B([ne],!0);const Re=await wI(ee,a.disabled,i,m,e.shouldUseNativeValidation&&!M,Ie);if(Ne&&u.validatingFields&&B([ne]),Re[J.name]&&(j.valid=!1,M))break;!M&&(oe(Re,J.name)?Ie?l7(n.errors,Re,J.name):We(n.errors,J.name,Re[J.name]):kt(n.errors,J.name))}!Nn(he)&&await _(he,M,j)}}return j.valid},Q=()=>{for(const D of a.unMount){const M=oe(r,D);M&&(M._f.refs?M._f.refs.every(j=>!g0(j)):!g0(M._f.ref))&&At(D)}a.unMount=new Set},R=(D,M)=>!e.disabled&&(D&&M&&We(i,D,M),!vi(ge(),s)),T=(D,M,j)=>o7(D,a,{...A.mount?i:Ut(M)?s:qr(D)?{[D]:M}:M},j,M),Y=D=>Hg(oe(A.mount?i:s,D,e.shouldUnregister?oe(s,D,[]):[])),ie=(D,M,j={})=>{const ne=oe(r,D);let ee=M;if(ne){const J=ne._f;J&&(!J.disabled&&We(i,D,yk(M,J)),ee=up(J.ref)&&_n(M)?"":M,pk(J.ref)?[...J.ref.options].forEach(he=>he.selected=ee.includes(he.value)):J.refs?cd(J.ref)?J.refs.length>1?J.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(ee)?!!ee.find(Ie=>Ie===he.value):ee===he.value)):J.refs[0]&&(J.refs[0].checked=!!ee):J.refs.forEach(he=>he.checked=he.value===ee):zx(J.ref)?J.ref.value="":(J.ref.value=ee,J.ref.type||h.values.next({name:D,values:{...i}})))}(j.shouldDirty||j.shouldTouch)&&k(D,ee,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&z(D)},V=(D,M,j)=>{for(const ne in M){const ee=M[ne],J=`${D}.${ne}`,he=oe(r,J);(a.array.has(D)||It(ee)||he&&!he._f)&&!RA(ee)?V(J,ee,j):ie(J,ee,j)}},X=(D,M,j={})=>{const ne=oe(r,D),ee=a.array.has(D),J=Ar(M);We(i,D,J),ee?(h.array.next({name:D,values:{...i}}),(u.isDirty||u.dirtyFields)&&j.shouldDirty&&h.state.next({name:D,dirtyFields:kl(s,i),isDirty:R(D,J)})):ne&&!ne._f&&!_n(J)?V(D,J,j):ie(D,J,j),pI(D,a)&&h.state.next({...n}),h.values.next({name:A.mount?D:void 0,values:{...i}})},P=async D=>{A.mount=!0;const M=D.target;let j=M.name,ne=!0;const ee=oe(r,j),J=()=>M.type?m0(ee._f):t7(D),he=Ie=>{ne=Number.isNaN(Ie)||RA(Ie)&&isNaN(Ie.getTime())||vi(Ie,oe(i,j,Ie))};if(ee){let Ie,Ne;const Re=J(),Kn=D.type===hI.BLUR||D.type===hI.FOCUS_OUT,pd=!p7(ee._f)&&!e.resolver&&!oe(n.errors,j)&&!ee._f.deps||g7(Kn,oe(n.touchedFields,j),n.isSubmitted,g,f),ga=pI(j,a,Kn);We(i,j,Re),Kn?(ee._f.onBlur&&ee._f.onBlur(D),o&&o(0)):ee._f.onChange&&ee._f.onChange(D);const ll=k(j,Re,Kn,!1),gA=!Nn(ll)||ga;if(!Kn&&h.values.next({name:j,type:D.type,values:{...i}}),pd)return u.isValid&&(e.mode==="onBlur"&&Kn?C():Kn||C()),gA&&h.state.next({name:j,...ga?{}:ll});if(!Kn&&ga&&h.state.next({...n}),e.resolver){const{errors:cl}=await E([j]);if(he(Re),ne){const gd=xI(n.errors,r,j),ma=xI(cl,r,gd.name||j);Ie=ma.error,j=ma.name,Ne=Nn(cl)}}else B([j],!0),Ie=(await wI(ee,a.disabled,i,m,e.shouldUseNativeValidation))[j],B([j]),he(Re),ne&&(Ie?Ne=!1:u.isValid&&(Ne=await _(r,!0)));ne&&(ee._f.deps&&z(ee._f.deps),I(j,Ne,Ie,ll))}},K=(D,M)=>{if(oe(n.errors,M)&&D.focus)return D.focus(),1},z=async(D,M={})=>{let j,ne;const ee=tf(D);if(e.resolver){const J=await b(Ut(D)?D:ee);j=Nn(J),ne=D?!ee.some(he=>oe(J,he)):j}else D?(ne=(await Promise.all(ee.map(async J=>{const he=oe(r,J);return await _(he&&he._f?{[J]:he}:he)}))).every(Boolean),!(!ne&&!n.isValid)&&C()):ne=j=await _(r);return h.state.next({...!qr(D)||u.isValid&&j!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:j}:{},errors:n.errors}),M.shouldFocus&&!ne&&Qc(r,K,D?ee:a.mount),ne},ge=D=>{const M={...A.mount?i:s};return Ut(D)?M:qr(D)?oe(M,D):D.map(j=>oe(M,j))},we=(D,M)=>({invalid:!!oe((M||n).errors,D),isDirty:!!oe((M||n).dirtyFields,D),error:oe((M||n).errors,D),isValidating:!!oe(n.validatingFields,D),isTouched:!!oe((M||n).touchedFields,D)}),Te=D=>{D&&tf(D).forEach(M=>kt(n.errors,M)),h.state.next({errors:D?n.errors:{}})},Ke=(D,M,j)=>{const ne=(oe(r,D,{_f:{}})._f||{}).ref,ee=oe(n.errors,D)||{},{ref:J,message:he,type:Ie,...Ne}=ee;We(n.errors,D,{...Ne,...M,ref:ne}),h.state.next({name:D,errors:n.errors,isValid:!1}),j&&j.shouldFocus&&ne&&ne.focus&&ne.focus()},tt=(D,M)=>Gr(D)?h.values.subscribe({next:j=>D(T(void 0,M),j)}):T(D,M,!0),At=(D,M={})=>{for(const j of D?tf(D):a.mount)a.mount.delete(j),a.array.delete(j),M.keepValue||(kt(r,j),kt(i,j)),!M.keepError&&kt(n.errors,j),!M.keepDirty&&kt(n.dirtyFields,j),!M.keepTouched&&kt(n.touchedFields,j),!M.keepIsValidating&&kt(n.validatingFields,j),!e.shouldUnregister&&!M.keepDefaultValue&&kt(s,j);h.values.next({values:{...i}}),h.state.next({...n,...M.keepDirty?{isDirty:R()}:{}}),!M.keepIsValid&&C()},gt=({disabled:D,name:M,field:j,fields:ne})=>{(Kr(D)&&A.mount||D||a.disabled.has(M))&&(D?a.disabled.add(M):a.disabled.delete(M),k(M,m0(j?j._f:oe(ne,M)._f),!1,!1,!0))},hs=(D,M={})=>{let j=oe(r,D);const ne=Kr(M.disabled)||Kr(e.disabled);return We(r,D,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:D}},name:D,mount:!0,...M}}),a.mount.add(D),j?gt({field:j,disabled:Kr(M.disabled)?M.disabled:e.disabled,name:D}):N(D,!0,M.value),{...ne?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Rl(M.min),max:Rl(M.max),minLength:Rl(M.minLength),maxLength:Rl(M.maxLength),pattern:Rl(M.pattern)}:{},name:D,onChange:P,onBlur:P,ref:ee=>{if(ee){hs(D,M),j=oe(r,D);const J=Ut(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,he=d7(J),Ie=j._f.refs||[];if(he?Ie.find(Ne=>Ne===J):J===j._f.ref)return;We(r,D,{_f:{...j._f,...he?{refs:[...Ie.filter(g0),J,...Array.isArray(oe(s,D))?[{}]:[]],ref:{type:J.type,name:D}}:{ref:J}}}),N(D,!1,void 0,J)}else j=oe(r,D,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(r7(a.array,D)&&A.action)&&a.unMount.add(D)}}},ha=()=>e.shouldFocusError&&Qc(r,K,a.mount),fs=D=>{Kr(D)&&(h.state.next({disabled:D}),Qc(r,(M,j)=>{const ne=oe(r,j);ne&&(M.disabled=ne._f.disabled||D,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(ee=>{ee.disabled=ne._f.disabled||D}))},0,!1))},Or=(D,M)=>async j=>{let ne;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let ee=Ar(i);if(a.disabled.size)for(const J of a.disabled)We(ee,J,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:J,values:he}=await E();n.errors=J,ee=he}else await _(r);if(kt(n.errors,"root"),Nn(n.errors)){h.state.next({errors:{}});try{await D(ee,j)}catch(J){ne=J}}else M&&await M({...n.errors},j),ha(),setTimeout(ha);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nn(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},ei=(D,M={})=>{oe(r,D)&&(Ut(M.defaultValue)?X(D,Ar(oe(s,D))):(X(D,M.defaultValue),We(s,D,Ar(M.defaultValue))),M.keepTouched||kt(n.touchedFields,D),M.keepDirty||(kt(n.dirtyFields,D),n.isDirty=M.defaultValue?R(D,Ar(oe(s,D))):R()),M.keepError||(kt(n.errors,D),u.isValid&&C()),h.state.next({...n}))},fa=(D,M={})=>{const j=D?Ar(D):s,ne=Ar(j),ee=Nn(D),J=ee?s:ne;if(M.keepDefaultValues||(s=j),!M.keepValues){if(M.keepDirtyValues){const he=new Set([...a.mount,...Object.keys(kl(s,i))]);for(const Ie of Array.from(he))oe(n.dirtyFields,Ie)?We(J,Ie,oe(i,Ie)):X(Ie,oe(J,Ie))}else{if(Hx&&Ut(D))for(const he of a.mount){const Ie=oe(r,he);if(Ie&&Ie._f){const Ne=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(up(Ne)){const Re=Ne.closest("form");if(Re){Re.reset();break}}}}r={}}i=e.shouldUnregister?M.keepDefaultValues?Ar(s):{}:Ar(J),h.array.next({values:{...J}}),h.values.next({values:{...J}})}a={mount:M.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},A.mount=!u.isValid||!!M.keepIsValid||!!M.keepDirtyValues,A.watch=!!e.shouldUnregister,h.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!vi(D,s)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:M.keepDirtyValues?M.keepDefaultValues&&i?kl(s,i):n.dirtyFields:M.keepDefaultValues&&D?kl(s,D):M.keepDirty?n.dirtyFields:{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},pa=(D,M)=>fa(Gr(D)?D(i):D,M);return{control:{register:hs,unregister:At,getFieldState:we,handleSubmit:Or,setError:Ke,_executeSchema:E,_getWatch:T,_getDirty:R,_updateValid:C,_removeUnmounted:Q,_updateFieldArray:v,_updateDisabledField:gt,_getFieldArray:Y,_reset:fa,_resetDefaultValues:()=>Gr(e.defaultValues)&&e.defaultValues().then(D=>{pa(D,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:D=>{n={...n,...D}},_disableForm:fs,_subjects:h,_proxyFormState:u,_setErrors:F,get _fields(){return r},get _formValues(){return i},get _state(){return A},set _state(D){A=D},get _defaultValues(){return s},get _names(){return a},set _names(D){a=D},get _formState(){return n},set _formState(D){n=D},get _options(){return e},set _options(D){e={...e,...D}}},trigger:z,register:hs,handleSubmit:Or,watch:tt,setValue:X,getValues:ge,reset:pa,resetField:ei,clearErrors:Te,unregister:At,setError:Ke,setFocus:(D,M={})=>{const j=oe(r,D),ne=j&&j._f;if(ne){const ee=ne.refs?ne.refs[0]:ne.ref;ee.focus&&(ee.focus(),M.shouldSelect&&Gr(ee.select)&&ee.select())}},getFieldState:we}}function vk(t={}){const e=pe.useRef(void 0),n=pe.useRef(void 0),[r,s]=pe.useState({isDirty:!1,isValidating:!1,isLoading:Gr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Gr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...v7(t),formState:r});const i=e.current.control;return i._options=t,a7({subject:i._subjects.state,next:A=>{A7(A,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),pe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),pe.useEffect(()=>{if(i._proxyFormState.isDirty){const A=i._getDirty();A!==r.isDirty&&i._subjects.state.next({isDirty:A})}},[i,r.isDirty]),pe.useEffect(()=>{t.values&&!vi(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(A=>({...A}))):i._resetDefaultValues()},[t.values,i]),pe.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),pe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),pe.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=i7(r,i),e.current}const CI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=oe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},wk=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?CI(r.ref,n,t):r.refs&&r.refs.forEach(s=>CI(s,n,t))}},w7=(t,e)=>{e.shouldUseNativeValidation&&wk(t,e);const n={};for(const r in t){const s=oe(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(B7(e.names||Object.keys(t),r)){const A=Object.assign({},oe(n,r));We(A,"root",i),We(n,r,A)}else We(n,r,i)}return n},B7=(t,e)=>t.some(n=>n.startsWith(e+"."));var x7=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,A=r.path.join(".");if(!n[A])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[A]={message:a.message,type:a.code}}else n[A]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var o=n[A].types,l=o&&o[r.code];n[A]=dk(A,e,n,s,l?[].concat(l,r.message):r.message)}t.shift()}return n},Bk=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(A,a){try{var o=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return i.shouldUseNativeValidation&&wk({},i),{errors:{},values:n.raw?r:l}})}catch(l){return a(l)}return o&&o.then?o.then(void 0,a):o}(0,function(A){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(A))return{values:{},errors:w7(x7(A.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw A}))}catch(A){return Promise.reject(A)}}},Pe;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const A of s)i[A]=A;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),A={};for(const a of i)A[a]=s[a];return t.objectValues(A)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const A in s)Object.prototype.hasOwnProperty.call(s,A)&&i.push(A);return i},t.find=(s,i)=>{for(const A of s)if(i(A))return A},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(A=>typeof A=="string"?`'${A}'`:A).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Pe||(Pe={}));var Qv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Qv||(Qv={}));const ae=Pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cs=t=>{switch(typeof t){case"undefined":return ae.undefined;case"string":return ae.string;case"number":return isNaN(t)?ae.nan:ae.number;case"boolean":return ae.boolean;case"function":return ae.function;case"bigint":return ae.bigint;case"symbol":return ae.symbol;case"object":return Array.isArray(t)?ae.array:t===null?ae.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ae.promise:typeof Map<"u"&&t instanceof Map?ae.map:typeof Set<"u"&&t instanceof Set?ae.set:typeof Date<"u"&&t instanceof Date?ae.date:ae.object;default:return ae.unknown}},W=Pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),C7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Zn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const A of i.issues)if(A.code==="invalid_union")A.unionErrors.map(s);else if(A.code==="invalid_return_type")s(A.returnTypeError);else if(A.code==="invalid_arguments")s(A.argumentsError);else if(A.path.length===0)r._errors.push(n(A));else{let a=r,o=0;for(;o<A.path.length;){const l=A.path[o];o===A.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(A))):a[l]=a[l]||{_errors:[]},a=a[l],o++}}};return s(this),r}static assert(e){if(!(e instanceof Zn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Zn.create=t=>new Zn(t);const jo=(t,e)=>{let n;switch(t.code){case W.invalid_type:t.received===ae.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case W.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pe.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pe.joinValues(t.keys,", ")}`;break;case W.invalid_union:n="Invalid input";break;case W.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pe.joinValues(t.options)}`;break;case W.invalid_enum_value:n=`Invalid enum value. Expected ${Pe.joinValues(t.options)}, received '${t.received}'`;break;case W.invalid_arguments:n="Invalid function arguments";break;case W.invalid_return_type:n="Invalid function return type";break;case W.invalid_date:n="Invalid date";break;case W.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pe.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case W.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case W.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case W.custom:n="Invalid input";break;case W.invalid_intersection_types:n="Intersection results could not be merged";break;case W.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case W.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pe.assertNever(t)}return{message:n}};let xk=jo;function E7(t){xk=t}function fp(){return xk}const pp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],A={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const o=r.filter(l=>!!l).slice().reverse();for(const l of o)a=l(A,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},_7=[];function te(t,e){const n=fp(),r=pp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===jo?void 0:jo].filter(s=>!!s)});t.common.issues.push(r)}class Bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Ce;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,A=await s.value;r.push({key:i,value:A})}return Bn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:A}=s;if(i.status==="aborted"||A.status==="aborted")return Ce;i.status==="dirty"&&e.dirty(),A.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof A.value<"u"||s.alwaysSet)&&(r[i.value]=A.value)}return{status:e.value,value:r}}}const Ce=Object.freeze({status:"aborted"}),ro=t=>({status:"dirty",value:t}),Un=t=>({status:"valid",value:t}),Nv=t=>t.status==="aborted",kv=t=>t.status==="dirty",na=t=>t.status==="valid",wu=t=>typeof Promise<"u"&&t instanceof Promise;function gp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Ck(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ue;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ue||(ue={}));var tc,nc;class os{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const EI=(t,e)=>{if(na(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Zn(t.common.issues);return this._error=n,this._error}}};function be(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(A,a)=>{var o,l;const{message:u}=t;return A.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(o=u??r)!==null&&o!==void 0?o:a.defaultError}:A.code!=="invalid_type"?{message:a.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:a.defaultError}},description:s}}class Fe{get description(){return this._def.description}_getType(e){return Cs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Cs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Bn,ctx:{common:e.parent.common,data:e.data,parsedType:Cs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(wu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return EI(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return na(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>na(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(wu(s)?s:Promise.resolve(s));return EI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const A=e(s),a=()=>i.addIssue({code:W.custom,...r(s)});return typeof Promise<"u"&&A instanceof Promise?A.then(o=>o?!0:(a(),!1)):A?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Dr({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ss.create(this,this._def)}nullable(){return rA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qr.create(this)}promise(){return Ho.create(this,this._def)}or(e){return Eu.create([this,e],this._def)}and(e){return _u.create(this,e,this._def)}transform(e){return new Dr({...be(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Uu({...be(this._def),innerType:this,defaultValue:n,typeName:ve.ZodDefault})}brand(){return new Wx({typeName:ve.ZodBranded,type:this,...be(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Su({...be(this._def),innerType:this,catchValue:n,typeName:ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ud.create(this,e)}readonly(){return Qu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const b7=/^c[^\s-]{8,}$/i,I7=/^[0-9a-z]+$/,T7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,F7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U7=/^[a-z0-9_-]{21}$/i,S7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Q7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,N7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,k7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let y0;const R7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,D7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,P7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,L7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M7=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,O7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ek="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",j7=new RegExp(`^${Ek}$`);function _k(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function V7(t){return new RegExp(`^${_k(t)}$`)}function bk(t){let e=`${Ek}T${_k(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function H7(t,e){return!!((e==="v4"||!e)&&R7.test(t)||(e==="v6"||!e)&&P7.test(t))}function K7(t,e){if(!S7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function z7(t,e){return!!((e==="v4"||!e)&&D7.test(t)||(e==="v6"||!e)&&L7.test(t))}class Fr extends Fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ae.string){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_type,expected:ae.string,received:i.parsedType}),Ce}const r=new Bn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const A=e.data.length>i.value,a=e.data.length<i.value;(A||a)&&(s=this._getOrReturnCtx(e,s),A?te(s,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&te(s,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")N7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"email",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")y0||(y0=new RegExp(k7,"u")),y0.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"emoji",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")F7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"uuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")U7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"nanoid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")b7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")I7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cuid2",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")T7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ulid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),te(s,{validation:"url",code:W.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"regex",code:W.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?bk(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?j7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?V7(i).test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{code:W.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Q7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"duration",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?H7(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"ip",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?K7(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"jwt",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?z7(e.data,i.version)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"cidr",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?M7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64",code:W.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?O7.test(e.data)||(s=this._getOrReturnCtx(e,s),te(s,{validation:"base64url",code:W.invalid_string,message:i.message}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:W.invalid_string,...ue.errToObj(r)})}_addCheck(e){return new Fr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ue.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ue.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ue.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ue.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ue.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ue.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ue.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ue.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ue.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ue.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ue.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ue.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ue.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ue.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ue.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ue.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ue.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ue.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ue.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ue.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ue.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ue.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ue.errToObj(n)})}nonempty(e){return this.min(1,ue.errToObj(e))}trim(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fr.create=t=>{var e;return new Fr({checks:[],typeName:ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};function G7(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),A=parseInt(e.toFixed(s).replace(".",""));return i%A/Math.pow(10,s)}class eA extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ae.number){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_type,expected:ae.number,received:i.parsedType}),Ce}let r;const s=new Bn;for(const i of this._def.checks)i.kind==="int"?Pe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:W.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?G7(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),te(r,{code:W.not_finite,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new eA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new eA({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ue.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ue.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ue.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ue.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pe.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}eA.create=t=>new eA({checks:[],typeName:ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class tA extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ae.bigint)return this._getInvalidInput(e);let r;const s=new Bn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),te(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Pe.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return te(n,{code:W.invalid_type,expected:ae.bigint,received:n.parsedType}),Ce}gte(e,n){return this.setLimit("min",e,!0,ue.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ue.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ue.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ue.toString(n))}setLimit(e,n,r,s){return new tA({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ue.toString(s)}]})}_addCheck(e){return new tA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ue.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ue.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ue.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}tA.create=t=>{var e;return new tA({checks:[],typeName:ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...be(t)})};class Bu extends Fe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ae.boolean){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.boolean,received:r.parsedType}),Ce}return Un(e.data)}}Bu.create=t=>new Bu({typeName:ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...be(t)});class ra extends Fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ae.date){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_type,expected:ae.date,received:i.parsedType}),Ce}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return te(i,{code:W.invalid_date}),Ce}const r=new Bn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),te(s,{code:W.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Pe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ra({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ue.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ue.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ra.create=t=>new ra({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ve.ZodDate,...be(t)});class mp extends Fe{_parse(e){if(this._getType(e)!==ae.symbol){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.symbol,received:r.parsedType}),Ce}return Un(e.data)}}mp.create=t=>new mp({typeName:ve.ZodSymbol,...be(t)});class xu extends Fe{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.undefined,received:r.parsedType}),Ce}return Un(e.data)}}xu.create=t=>new xu({typeName:ve.ZodUndefined,...be(t)});class Cu extends Fe{_parse(e){if(this._getType(e)!==ae.null){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.null,received:r.parsedType}),Ce}return Un(e.data)}}Cu.create=t=>new Cu({typeName:ve.ZodNull,...be(t)});class Vo extends Fe{constructor(){super(...arguments),this._any=!0}_parse(e){return Un(e.data)}}Vo.create=t=>new Vo({typeName:ve.ZodAny,...be(t)});class jA extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Un(e.data)}}jA.create=t=>new jA({typeName:ve.ZodUnknown,...be(t)});class $s extends Fe{_parse(e){const n=this._getOrReturnCtx(e);return te(n,{code:W.invalid_type,expected:ae.never,received:n.parsedType}),Ce}}$s.create=t=>new $s({typeName:ve.ZodNever,...be(t)});class yp extends Fe{_parse(e){if(this._getType(e)!==ae.undefined){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.void,received:r.parsedType}),Ce}return Un(e.data)}}yp.create=t=>new yp({typeName:ve.ZodVoid,...be(t)});class Qr extends Fe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ae.array)return te(n,{code:W.invalid_type,expected:ae.array,received:n.parsedType}),Ce;if(s.exactLength!==null){const A=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(A||a)&&(te(n,{code:A?W.too_big:W.too_small,minimum:a?s.exactLength.value:void 0,maximum:A?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(te(n,{code:W.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(te(n,{code:W.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((A,a)=>s.type._parseAsync(new os(n,A,n.path,a)))).then(A=>Bn.mergeArray(r,A));const i=[...n.data].map((A,a)=>s.type._parseSync(new os(n,A,n.path,a)));return Bn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Qr({...this._def,minLength:{value:e,message:ue.toString(n)}})}max(e,n){return new Qr({...this._def,maxLength:{value:e,message:ue.toString(n)}})}length(e,n){return new Qr({...this._def,exactLength:{value:e,message:ue.toString(n)}})}nonempty(e){return this.min(1,e)}}Qr.create=(t,e)=>new Qr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...be(e)});function ka(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ss.create(ka(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof Qr?new Qr({...t._def,type:ka(t.element)}):t instanceof ss?ss.create(ka(t.unwrap())):t instanceof rA?rA.create(ka(t.unwrap())):t instanceof ls?ls.create(t.items.map(e=>ka(e))):t}class ct extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pe.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ae.object){const l=this._getOrReturnCtx(e);return te(l,{code:W.invalid_type,expected:ae.object,received:l.parsedType}),Ce}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:A}=this._getCached(),a=[];if(!(this._def.catchall instanceof $s&&this._def.unknownKeys==="strip"))for(const l in s.data)A.includes(l)||a.push(l);const o=[];for(const l of A){const u=i[l],h=s.data[l];o.push({key:{status:"valid",value:l},value:u._parse(new os(s,h,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof $s){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)o.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(l==="strict")a.length>0&&(te(s,{code:W.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const h=s.data[u];o.push({key:{status:"valid",value:u},value:l._parse(new os(s,h,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of o){const h=await u.key,f=await u.value;l.push({key:h,value:f,alwaysSet:u.alwaysSet})}return l}).then(l=>Bn.mergeObjectSync(r,l)):Bn.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return ue.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,A,a;const o=(A=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&A!==void 0?A:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ue.errToObj(e).message)!==null&&a!==void 0?a:o}:{message:o}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};return Pe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}omit(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}deepPartial(){return ka(this)}partial(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new ct({...this._def,shape:()=>n})}required(e){const n={};return Pe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ss;)i=i._def.innerType;n[r]=i}}),new ct({...this._def,shape:()=>n})}keyof(){return Ik(Pe.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:$s.create(),typeName:ve.ZodObject,...be(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:$s.create(),typeName:ve.ZodObject,...be(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:$s.create(),typeName:ve.ZodObject,...be(e)});class Eu extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const A=i.map(a=>new Zn(a.ctx.common.issues));return te(n,{code:W.invalid_union,unionErrors:A}),Ce}if(n.common.async)return Promise.all(r.map(async i=>{const A={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:A}),ctx:A}})).then(s);{let i;const A=[];for(const o of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=o._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&A.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=A.map(o=>new Zn(o));return te(n,{code:W.invalid_union,unionErrors:a}),Ce}}get options(){return this._def.options}}Eu.create=(t,e)=>new Eu({options:t,typeName:ve.ZodUnion,...be(e)});const ws=t=>t instanceof Iu?ws(t.schema):t instanceof Dr?ws(t.innerType()):t instanceof Tu?[t.value]:t instanceof nA?t.options:t instanceof Fu?Pe.objectValues(t.enum):t instanceof Uu?ws(t._def.innerType):t instanceof xu?[void 0]:t instanceof Cu?[null]:t instanceof ss?[void 0,...ws(t.unwrap())]:t instanceof rA?[null,...ws(t.unwrap())]:t instanceof Wx||t instanceof Qu?ws(t.unwrap()):t instanceof Su?ws(t._def.innerType):[];class Kg extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.object)return te(n,{code:W.invalid_type,expected:ae.object,received:n.parsedType}),Ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(te(n,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const A=ws(i.shape[e]);if(!A.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of A){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Kg({typeName:ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...be(r)})}}function Rv(t,e){const n=Cs(t),r=Cs(e);if(t===e)return{valid:!0,data:t};if(n===ae.object&&r===ae.object){const s=Pe.objectKeys(e),i=Pe.objectKeys(t).filter(a=>s.indexOf(a)!==-1),A={...t,...e};for(const a of i){const o=Rv(t[a],e[a]);if(!o.valid)return{valid:!1};A[a]=o.data}return{valid:!0,data:A}}else if(n===ae.array&&r===ae.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const A=t[i],a=e[i],o=Rv(A,a);if(!o.valid)return{valid:!1};s.push(o.data)}return{valid:!0,data:s}}else return n===ae.date&&r===ae.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _u extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,A)=>{if(Nv(i)||Nv(A))return Ce;const a=Rv(i.value,A.value);return a.valid?((kv(i)||kv(A))&&n.dirty(),{status:n.value,value:a.data}):(te(r,{code:W.invalid_intersection_types}),Ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,A])=>s(i,A)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_u.create=(t,e,n)=>new _u({left:t,right:e,typeName:ve.ZodIntersection,...be(n)});class ls extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.array)return te(r,{code:W.invalid_type,expected:ae.array,received:r.parsedType}),Ce;if(r.data.length<this._def.items.length)return te(r,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&r.data.length>this._def.items.length&&(te(r,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((A,a)=>{const o=this._def.items[a]||this._def.rest;return o?o._parse(new os(r,A,r.path,a)):null}).filter(A=>!!A);return r.common.async?Promise.all(i).then(A=>Bn.mergeArray(n,A)):Bn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ls({...this._def,rest:e})}}ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ls({items:t,typeName:ve.ZodTuple,rest:null,...be(e)})};class bu extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.object)return te(r,{code:W.invalid_type,expected:ae.object,received:r.parsedType}),Ce;const s=[],i=this._def.keyType,A=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new os(r,a,r.path,a)),value:A._parse(new os(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Bn.mergeObjectAsync(n,s):Bn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Fe?new bu({keyType:e,valueType:n,typeName:ve.ZodRecord,...be(r)}):new bu({keyType:Fr.create(),valueType:e,typeName:ve.ZodRecord,...be(n)})}}class vp extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.map)return te(r,{code:W.invalid_type,expected:ae.map,received:r.parsedType}),Ce;const s=this._def.keyType,i=this._def.valueType,A=[...r.data.entries()].map(([a,o],l)=>({key:s._parse(new os(r,a,r.path,[l,"key"])),value:i._parse(new os(r,o,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const o of A){const l=await o.key,u=await o.value;if(l.status==="aborted"||u.status==="aborted")return Ce;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const o of A){const l=o.key,u=o.value;if(l.status==="aborted"||u.status==="aborted")return Ce;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}vp.create=(t,e,n)=>new vp({valueType:e,keyType:t,typeName:ve.ZodMap,...be(n)});class sa extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ae.set)return te(r,{code:W.invalid_type,expected:ae.set,received:r.parsedType}),Ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(te(r,{code:W.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(te(r,{code:W.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function A(o){const l=new Set;for(const u of o){if(u.status==="aborted")return Ce;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((o,l)=>i._parse(new os(r,o,r.path,l)));return r.common.async?Promise.all(a).then(o=>A(o)):A(a)}min(e,n){return new sa({...this._def,minSize:{value:e,message:ue.toString(n)}})}max(e,n){return new sa({...this._def,maxSize:{value:e,message:ue.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}sa.create=(t,e)=>new sa({valueType:t,minSize:null,maxSize:null,typeName:ve.ZodSet,...be(e)});class vo extends Fe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.function)return te(n,{code:W.invalid_type,expected:ae.function,received:n.parsedType}),Ce;function r(a,o){return pp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,fp(),jo].filter(l=>!!l),issueData:{code:W.invalid_arguments,argumentsError:o}})}function s(a,o){return pp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,fp(),jo].filter(l=>!!l),issueData:{code:W.invalid_return_type,returnTypeError:o}})}const i={errorMap:n.common.contextualErrorMap},A=n.data;if(this._def.returns instanceof Ho){const a=this;return Un(async function(...o){const l=new Zn([]),u=await a._def.args.parseAsync(o,i).catch(g=>{throw l.addIssue(r(o,g)),l}),h=await Reflect.apply(A,this,u);return await a._def.returns._def.type.parseAsync(h,i).catch(g=>{throw l.addIssue(s(h,g)),l})})}else{const a=this;return Un(function(...o){const l=a._def.args.safeParse(o,i);if(!l.success)throw new Zn([r(o,l.error)]);const u=Reflect.apply(A,this,l.data),h=a._def.returns.safeParse(u,i);if(!h.success)throw new Zn([s(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new vo({...this._def,args:ls.create(e).rest(jA.create())})}returns(e){return new vo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new vo({args:e||ls.create([]).rest(jA.create()),returns:n||jA.create(),typeName:ve.ZodFunction,...be(r)})}}class Iu extends Fe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Iu.create=(t,e)=>new Iu({getter:t,typeName:ve.ZodLazy,...be(e)});class Tu extends Fe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return te(n,{received:n.data,code:W.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tu.create=(t,e)=>new Tu({value:t,typeName:ve.ZodLiteral,...be(e)});function Ik(t,e){return new nA({values:t,typeName:ve.ZodEnum,...be(e)})}class nA extends Fe{constructor(){super(...arguments),tc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{expected:Pe.joinValues(r),received:n.parsedType,code:W.invalid_type}),Ce}if(gp(this,tc)||Ck(this,tc,new Set(this._def.values)),!gp(this,tc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return te(n,{received:n.data,code:W.invalid_enum_value,options:r}),Ce}return Un(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return nA.create(e,{...this._def,...n})}exclude(e,n=this._def){return nA.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}tc=new WeakMap;nA.create=Ik;class Fu extends Fe{constructor(){super(...arguments),nc.set(this,void 0)}_parse(e){const n=Pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ae.string&&r.parsedType!==ae.number){const s=Pe.objectValues(n);return te(r,{expected:Pe.joinValues(s),received:r.parsedType,code:W.invalid_type}),Ce}if(gp(this,nc)||Ck(this,nc,new Set(Pe.getValidEnumValues(this._def.values))),!gp(this,nc).has(e.data)){const s=Pe.objectValues(n);return te(r,{received:r.data,code:W.invalid_enum_value,options:s}),Ce}return Un(e.data)}get enum(){return this._def.values}}nc=new WeakMap;Fu.create=(t,e)=>new Fu({values:t,typeName:ve.ZodNativeEnum,...be(e)});class Ho extends Fe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ae.promise&&n.common.async===!1)return te(n,{code:W.invalid_type,expected:ae.promise,received:n.parsedType}),Ce;const r=n.parsedType===ae.promise?n.data:Promise.resolve(n.data);return Un(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ho.create=(t,e)=>new Ho({type:t,typeName:ve.ZodPromise,...be(e)});class Dr extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:A=>{te(r,A),A.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const A=s.transform(r.data,i);if(r.common.async)return Promise.resolve(A).then(async a=>{if(n.value==="aborted")return Ce;const o=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return o.status==="aborted"?Ce:o.status==="dirty"||n.value==="dirty"?ro(o.value):o});{if(n.value==="aborted")return Ce;const a=this._def.schema._parseSync({data:A,path:r.path,parent:r});return a.status==="aborted"?Ce:a.status==="dirty"||n.value==="dirty"?ro(a.value):a}}if(s.type==="refinement"){const A=a=>{const o=s.refinement(a,i);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),A(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),A(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const A=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!na(A))return A;const a=s.transform(A.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(A=>na(A)?Promise.resolve(s.transform(A.value,i)).then(a=>({status:n.value,value:a})):A);Pe.assertNever(s)}}Dr.create=(t,e,n)=>new Dr({schema:t,typeName:ve.ZodEffects,effect:e,...be(n)});Dr.createWithPreprocess=(t,e,n)=>new Dr({schema:e,effect:{type:"preprocess",transform:t},typeName:ve.ZodEffects,...be(n)});class ss extends Fe{_parse(e){return this._getType(e)===ae.undefined?Un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ss.create=(t,e)=>new ss({innerType:t,typeName:ve.ZodOptional,...be(e)});class rA extends Fe{_parse(e){return this._getType(e)===ae.null?Un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rA.create=(t,e)=>new rA({innerType:t,typeName:ve.ZodNullable,...be(e)});class Uu extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ae.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Uu.create=(t,e)=>new Uu({innerType:t,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...be(e)});class Su extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return wu(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Zn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Su.create=(t,e)=>new Su({innerType:t,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...be(e)});class wp extends Fe{_parse(e){if(this._getType(e)!==ae.nan){const r=this._getOrReturnCtx(e);return te(r,{code:W.invalid_type,expected:ae.nan,received:r.parsedType}),Ce}return{status:"valid",value:e.data}}}wp.create=t=>new wp({typeName:ve.ZodNaN,...be(t)});const W7=Symbol("zod_brand");class Wx extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ud extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ce:i.status==="dirty"?(n.dirty(),ro(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ud({in:e,out:n,typeName:ve.ZodPipeline})}}class Qu extends Fe{_parse(e){const n=this._def.innerType._parse(e),r=s=>(na(s)&&(s.value=Object.freeze(s.value)),s);return wu(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Qu.create=(t,e)=>new Qu({innerType:t,typeName:ve.ZodReadonly,...be(e)});function Tk(t,e={},n){return t?Vo.create().superRefine((r,s)=>{var i,A;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,o=(A=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&A!==void 0?A:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:o})}}):Vo.create()}const $7={object:ct.lazycreate};var ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ve||(ve={}));const q7=(t,e={message:`Input not instance of ${t.name}`})=>Tk(n=>n instanceof t,e),Fk=Fr.create,Uk=eA.create,X7=wp.create,Y7=tA.create,Sk=Bu.create,J7=ra.create,Z7=mp.create,eW=xu.create,tW=Cu.create,nW=Vo.create,rW=jA.create,sW=$s.create,iW=yp.create,AW=Qr.create,aW=ct.create,oW=ct.strictCreate,lW=Eu.create,cW=Kg.create,uW=_u.create,dW=ls.create,hW=bu.create,fW=vp.create,pW=sa.create,gW=vo.create,mW=Iu.create,yW=Tu.create,vW=nA.create,wW=Fu.create,BW=Ho.create,_I=Dr.create,xW=ss.create,CW=rA.create,EW=Dr.createWithPreprocess,_W=ud.create,bW=()=>Fk().optional(),IW=()=>Uk().optional(),TW=()=>Sk().optional(),FW={string:t=>Fr.create({...t,coerce:!0}),number:t=>eA.create({...t,coerce:!0}),boolean:t=>Bu.create({...t,coerce:!0}),bigint:t=>tA.create({...t,coerce:!0}),date:t=>ra.create({...t,coerce:!0})},UW=Ce;var kn=Object.freeze({__proto__:null,defaultErrorMap:jo,setErrorMap:E7,getErrorMap:fp,makeIssue:pp,EMPTY_PATH:_7,addIssueToContext:te,ParseStatus:Bn,INVALID:Ce,DIRTY:ro,OK:Un,isAborted:Nv,isDirty:kv,isValid:na,isAsync:wu,get util(){return Pe},get objectUtil(){return Qv},ZodParsedType:ae,getParsedType:Cs,ZodType:Fe,datetimeRegex:bk,ZodString:Fr,ZodNumber:eA,ZodBigInt:tA,ZodBoolean:Bu,ZodDate:ra,ZodSymbol:mp,ZodUndefined:xu,ZodNull:Cu,ZodAny:Vo,ZodUnknown:jA,ZodNever:$s,ZodVoid:yp,ZodArray:Qr,ZodObject:ct,ZodUnion:Eu,ZodDiscriminatedUnion:Kg,ZodIntersection:_u,ZodTuple:ls,ZodRecord:bu,ZodMap:vp,ZodSet:sa,ZodFunction:vo,ZodLazy:Iu,ZodLiteral:Tu,ZodEnum:nA,ZodNativeEnum:Fu,ZodPromise:Ho,ZodEffects:Dr,ZodTransformer:Dr,ZodOptional:ss,ZodNullable:rA,ZodDefault:Uu,ZodCatch:Su,ZodNaN:wp,BRAND:W7,ZodBranded:Wx,ZodPipeline:ud,ZodReadonly:Qu,custom:Tk,Schema:Fe,ZodSchema:Fe,late:$7,get ZodFirstPartyTypeKind(){return ve},coerce:FW,any:nW,array:AW,bigint:Y7,boolean:Sk,date:J7,discriminatedUnion:cW,effect:_I,enum:vW,function:gW,instanceof:q7,intersection:uW,lazy:mW,literal:yW,map:fW,nan:X7,nativeEnum:wW,never:sW,null:tW,nullable:CW,number:Uk,object:aW,oboolean:TW,onumber:IW,optional:xW,ostring:bW,pipeline:_W,preprocess:EW,promise:BW,record:hW,set:pW,strictObject:oW,string:Fk,symbol:Z7,transformer:_I,tuple:dW,undefined:eW,union:lW,unknown:rW,void:iW,NEVER:UW,ZodIssueCode:W,quotelessJson:C7,ZodError:Zn});const v0={clientId:"164337596330-todg1eiufp3sb6h4aotrnq6srh06a478.apps.googleusercontent.com",clientSecret:"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",redirectUri:`${window.location.origin}/calendar/callback`,scopes:["https://www.googleapis.com/auth/calendar.events"]},Dv={defaultDuration:60,defaultReminder:60,timeZone:"Europe/Rome"};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function nr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ve(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function wt(t){Ve(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Bp(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function xp(t,e){Ve(2,arguments);var n=wt(t),r=nr(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var A=i.getDate();return s>=A?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function Qk(t,e){Ve(2,arguments);var n=wt(t).getTime(),r=nr(e);return new Date(n+r)}var SW={};function zg(){return SW}function Pv(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Lv(t){Ve(1,arguments);var e=wt(t);return e.setHours(0,0,0,0),e}var QW=864e5;function NW(t,e){Ve(2,arguments);var n=Lv(t),r=Lv(e),s=n.getTime()-Pv(n),i=r.getTime()-Pv(r);return Math.round((s-i)/QW)}var kW=6e4;function Nk(t,e){Ve(2,arguments);var n=nr(e);return Qk(t,n*kW)}var $x=6e4,qx=36e5;function RW(t){return Ve(1,arguments),t instanceof Date||Bp(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Cp(t){if(Ve(1,arguments),!RW(t)&&typeof t!="number")return!1;var e=wt(t);return!isNaN(Number(e))}function bI(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function kk(t,e){Ve(2,arguments);var n=wt(t),r=wt(e),s=bI(n,r),i=Math.abs(NW(n,r));n.setDate(n.getDate()-s*i);var A=+(bI(n,r)===-s),a=s*(i-A);return a===0?0:a}function Xx(t,e){return Ve(2,arguments),wt(t).getTime()-wt(e).getTime()}var II={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},DW="trunc";function Yx(t){return t?II[t]:II[DW]}function PW(t,e,n){Ve(2,arguments);var r=Xx(t,e)/qx;return Yx(void 0)(r)}function LW(t,e,n){Ve(2,arguments);var r=Xx(t,e)/$x;return Yx(void 0)(r)}function MW(t,e,n){Ve(2,arguments);var r=Xx(t,e)/1e3;return Yx(void 0)(r)}function OW(t,e){Ve(2,arguments);var n=nr(e);return Qk(t,-n)}var jW=864e5;function VW(t){Ve(1,arguments);var e=wt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/jW)+1}function Ep(t){Ve(1,arguments);var e=1,n=wt(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function Rk(t){Ve(1,arguments);var e=wt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Ep(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var A=Ep(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=A.getTime()?n:n-1}function HW(t){Ve(1,arguments);var e=Rk(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Ep(n);return r}var KW=6048e5;function zW(t){Ve(1,arguments);var e=wt(t),n=Ep(e).getTime()-HW(e).getTime();return Math.round(n/KW)+1}function Ko(t,e){var n,r,s,i,A,a,o,l;Ve(1,arguments);var u=zg(),h=nr((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=wt(t),g=f.getUTCDay(),m=(g<h?7:0)+g-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function Dk(t,e){var n,r,s,i,A,a,o,l;Ve(1,arguments);var u=wt(t),h=u.getUTCFullYear(),f=zg(),g=nr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(o=f.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,g),m.setUTCHours(0,0,0,0);var y=Ko(m,e),C=new Date(0);C.setUTCFullYear(h,0,g),C.setUTCHours(0,0,0,0);var B=Ko(C,e);return u.getTime()>=y.getTime()?h+1:u.getTime()>=B.getTime()?h:h-1}function GW(t,e){var n,r,s,i,A,a,o,l;Ve(1,arguments);var u=zg(),h=nr((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(A=e.locale)===null||A===void 0||(a=A.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(o=u.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Dk(t,e),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var m=Ko(g,e);return m}var WW=6048e5;function $W(t,e){Ve(1,arguments);var n=wt(t),r=Ko(n,e).getTime()-GW(n,e).getTime();return Math.round(r/WW)+1}function ze(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Ai={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return ze(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):ze(r+1,2)},d:function(e,n){return ze(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return ze(e.getUTCHours()%12||12,n.length)},H:function(e,n){return ze(e.getUTCHours(),n.length)},m:function(e,n){return ze(e.getUTCMinutes(),n.length)},s:function(e,n){return ze(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return ze(i,n.length)}},Ea={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qW={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return Ai.y(e,n)},Y:function(e,n,r,s){var i=Dk(e,s),A=i>0?i:1-i;if(n==="YY"){var a=A%100;return ze(a,2)}return n==="Yo"?r.ordinalNumber(A,{unit:"year"}):ze(A,n.length)},R:function(e,n){var r=Rk(e);return ze(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return ze(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return ze(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return ze(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return Ai.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return ze(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=$W(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,n.length)},I:function(e,n,r){var s=zW(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):ze(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ai.d(e,n)},D:function(e,n,r){var s=VW(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ze(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(A);case"ee":return ze(A,2);case"eo":return r.ordinalNumber(A,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),A=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(A);case"cc":return ze(A,n.length);case"co":return r.ordinalNumber(A,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return ze(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Ea.noon:s===0?i=Ea.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Ea.evening:s>=12?i=Ea.afternoon:s>=4?i=Ea.morning:i=Ea.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ai.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ai.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):ze(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ai.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ai.s(e,n)},S:function(e,n){return Ai.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();if(A===0)return"Z";switch(n){case"X":return FI(A);case"XXXX":case"XX":return TA(A);case"XXXXX":case"XXX":default:return TA(A,":")}},x:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"x":return FI(A);case"xxxx":case"xx":return TA(A);case"xxxxx":case"xxx":default:return TA(A,":")}},O:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+TI(A,":");case"OOOO":default:return"GMT"+TA(A,":")}},z:function(e,n,r,s){var i=s._originalDate||e,A=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+TI(A,":");case"zzzz":default:return"GMT"+TA(A,":")}},t:function(e,n,r,s){var i=s._originalDate||e,A=Math.floor(i.getTime()/1e3);return ze(A,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,A=i.getTime();return ze(A,n.length)}};function TI(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var A=e;return n+String(s)+A+ze(i,2)}function FI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+ze(Math.abs(t)/60,2)}return TA(t,e)}function TA(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=ze(Math.floor(s/60),2),A=ze(s%60,2);return r+i+n+A}var UI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Pk=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},XW=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return UI(e,n);var A;switch(s){case"P":A=n.dateTime({width:"short"});break;case"PP":A=n.dateTime({width:"medium"});break;case"PPP":A=n.dateTime({width:"long"});break;case"PPPP":default:A=n.dateTime({width:"full"});break}return A.replace("{{date}}",UI(s,n)).replace("{{time}}",Pk(i,n))},YW={p:Pk,P:XW},JW=["D","DD"],ZW=["YY","YYYY"];function e$(t){return JW.indexOf(t)!==-1}function t$(t){return ZW.indexOf(t)!==-1}function SI(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var n$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r$=function(e,n,r){var s,i=n$[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function wo(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var s$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a$={date:wo({formats:s$,defaultWidth:"full"}),time:wo({formats:i$,defaultWidth:"full"}),dateTime:wo({formats:A$,defaultWidth:"full"})},o$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l$=function(e,n,r,s){return o$[e]};function Wr(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,A=n!=null&&n.width?String(n.width):i;s=t.formattingValues[A]||t.formattingValues[i]}else{var a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}var l=t.argumentCallback?t.argumentCallback(e):e;return s[l]}}var c$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},h$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},f$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},p$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},g$=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},m$={ordinalNumber:g$,era:Wr({values:c$,defaultWidth:"wide"}),quarter:Wr({values:u$,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wr({values:d$,defaultWidth:"wide"}),day:Wr({values:h$,defaultWidth:"wide"}),dayPeriod:Wr({values:f$,defaultWidth:"wide",formattingValues:p$,defaultFormattingWidth:"wide"})};function $r(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var A=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],o=Array.isArray(a)?v$(a,function(h){return h.test(A)}):y$(a,function(h){return h.test(A)}),l;l=t.valueCallback?t.valueCallback(o):o,l=n.valueCallback?n.valueCallback(l):l;var u=e.slice(A.length);return{value:l,rest:u}}}function y$(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function v$(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Lk(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var A=t.valueCallback?t.valueCallback(i[0]):i[0];A=n.valueCallback?n.valueCallback(A):A;var a=e.slice(s.length);return{value:A,rest:a}}}var w$=/^(\d+)(th|st|nd|rd)?/i,B$=/\d+/i,x$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C$={any:[/^b/i,/^(a|c)/i]},E$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_$={any:[/1/i,/2/i,/3/i,/4/i]},b$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},S$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q$={ordinalNumber:Lk({matchPattern:w$,parsePattern:B$,valueCallback:function(e){return parseInt(e,10)}}),era:$r({matchPatterns:x$,defaultMatchWidth:"wide",parsePatterns:C$,defaultParseWidth:"any"}),quarter:$r({matchPatterns:E$,defaultMatchWidth:"wide",parsePatterns:_$,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$r({matchPatterns:b$,defaultMatchWidth:"wide",parsePatterns:I$,defaultParseWidth:"any"}),day:$r({matchPatterns:T$,defaultMatchWidth:"wide",parsePatterns:F$,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:U$,defaultMatchWidth:"any",parsePatterns:S$,defaultParseWidth:"any"})},N$={code:"en-US",formatDistance:r$,formatLong:a$,formatRelative:l$,localize:m$,match:Q$,options:{weekStartsOn:0,firstWeekContainsDate:1}},k$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D$=/^'([^]*?)'?$/,P$=/''/g,L$=/[a-zA-Z]/;function $e(t,e,n){var r,s,i,A,a,o,l,u,h,f,g,m,y,C,B,v,w,F;Ve(2,arguments);var N=String(e),k=zg(),I=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:k.locale)!==null&&r!==void 0?r:N$,E=nr((i=(A=(a=(o=n==null?void 0:n.firstWeekContainsDate)!==null&&o!==void 0?o:n==null||(l=n.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:k.firstWeekContainsDate)!==null&&A!==void 0?A:(h=k.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=nr((g=(m=(y=(C=n==null?void 0:n.weekStartsOn)!==null&&C!==void 0?C:n==null||(B=n.locale)===null||B===void 0||(v=B.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&y!==void 0?y:k.weekStartsOn)!==null&&m!==void 0?m:(w=k.locale)===null||w===void 0||(F=w.options)===null||F===void 0?void 0:F.weekStartsOn)!==null&&g!==void 0?g:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!I.localize)throw new RangeError("locale must contain localize property");if(!I.formatLong)throw new RangeError("locale must contain formatLong property");var _=wt(t);if(!Cp(_))throw new RangeError("Invalid time value");var Q=Pv(_),R=OW(_,Q),T={firstWeekContainsDate:E,weekStartsOn:b,locale:I,_originalDate:_},Y=N.match(R$).map(function(ie){var V=ie[0];if(V==="p"||V==="P"){var X=YW[V];return X(ie,I.formatLong)}return ie}).join("").match(k$).map(function(ie){if(ie==="''")return"'";var V=ie[0];if(V==="'")return M$(ie);var X=qW[V];if(X)return!(n!=null&&n.useAdditionalWeekYearTokens)&&t$(ie)&&SI(ie,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&e$(ie)&&SI(ie,e,String(t)),X(R,ie,I.localize,T);if(V.match(L$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return ie}).join("");return Y}function M$(t){var e=t.match(D$);return e?e[1].replace(P$,"'"):t}function w0(t,e){Ve(2,arguments);var n=wt(t),r=wt(e);return n.getTime()<r.getTime()}function O$(t,e){Ve(2,arguments);var n=wt(t),r=wt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function B0(t,e){var n;Ve(1,arguments);var r=nr((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=K$(t),i;if(s.date){var A=z$(s.date,r);i=G$(A.restDateString,A.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),o=0,l;if(s.time&&(o=W$(s.time),isNaN(o)))return new Date(NaN);if(s.timezone){if(l=$$(s.timezone),isNaN(l))return new Date(NaN)}else{var u=new Date(a+o),h=new Date(0);return h.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),h.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),h}return new Date(a+o+l)}var ih={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},j$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,V$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,H$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function K$(t){var e={},n=t.split(ih.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ih.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ih.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var s=ih.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function z$(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function G$(t,e){if(e===null)return new Date(NaN);var n=t.match(j$);if(!n)return new Date(NaN);var r=!!n[4],s=Dl(n[1]),i=Dl(n[2])-1,A=Dl(n[3]),a=Dl(n[4]),o=Dl(n[5])-1;if(r)return Z$(e,a,o)?q$(e,a,o):new Date(NaN);var l=new Date(0);return!Y$(e,i,A)||!J$(e,s)?new Date(NaN):(l.setUTCFullYear(e,i,Math.max(s,A)),l)}function Dl(t){return t?parseInt(t):1}function W$(t){var e=t.match(V$);if(!e)return NaN;var n=x0(e[1]),r=x0(e[2]),s=x0(e[3]);return eq(n,r,s)?n*qx+r*$x+s*1e3:NaN}function x0(t){return t&&parseFloat(t.replace(",","."))||0}function $$(t){if(t==="Z")return 0;var e=t.match(H$);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return tq(r,s)?n*(r*qx+s*$x):NaN}function q$(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var X$=[31,null,31,30,31,30,31,31,30,31,30,31];function Mk(t){return t%400===0||t%4===0&&t%100!==0}function Y$(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(X$[e]||(Mk(t)?29:28))}function J$(t,e){return e>=1&&e<=(Mk(t)?366:365)}function Z$(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function eq(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function tq(t,e){return e>=0&&e<=59}function _p(t,e){Ve(2,arguments);var n=wt(t),r=nr(e);return n.setHours(r),n}function bp(t,e){Ve(2,arguments);var n=wt(t),r=nr(e);return n.setMinutes(r),n}function QI(){return Lv(Date.now())}function nq(t,e){Ve(2,arguments);var n=nr(e);return xp(t,-n)}const rq=async(t,e)=>{try{const r=(await qi(lt(_e,"users",t))).data();if(!(r!=null&&r.googleCalendarToken))throw new Error("Token Google Calendar non trovato");const s={summary:e.summary,description:e.description,start:{dateTime:e.startTime.toISOString(),timeZone:Dv.timeZone},end:{dateTime:e.endTime.toISOString(),timeZone:Dv.timeZone},location:e.location,reminders:{useDefault:!0}},i=await fetch("https://www.googleapis.com/calendar/v3/calendars/primary/events",{method:"POST",headers:{Authorization:`Bearer ${r.googleCalendarToken}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error("Errore durante l'aggiunta dell'evento al calendario");return await i.json()}catch(n){throw console.error("Error adding event to Google Calendar:",n),n}},sq=async(t,e)=>{try{const n=await fetch("https://oauth2.googleapis.com/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({code:t,client_id:v0.clientId,client_secret:v0.clientSecret,redirect_uri:v0.redirectUri,grant_type:"authorization_code"})});if(!n.ok)throw new Error("Errore durante lo scambio del codice di autorizzazione");const r=await n.json();return await Qg(lt(_e,"users",e),{googleCalendarToken:r.access_token,googleCalendarRefreshToken:r.refresh_token,calendarConnected:!0,updatedAt:Ln()},{merge:!0}),!0}catch(n){throw console.error("Error handling Google Calendar callback:",n),n}},iq=(t,e,n,r,s)=>{const i=f=>$e(f,"yyyyMMdd'T'HHmmss"),A=new URLSearchParams({action:"TEMPLATE",text:t,details:e,location:"",dates:`${i(n)}/${i(r)}`,ctz:Dv.timeZone}),a=$e(n,"yyyyMMdd'T'HHmmss'Z'"),o=$e(r,"yyyyMMdd'T'HHmmss'Z'"),l=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",`DTSTART:${a}`,`DTEND:${o}`,`SUMMARY:${t}`,`DESCRIPTION:${e}`,"","END:VEVENT","END:VCALENDAR"].filter(Boolean).join(`
`),u=new Blob([l],{type:"text/calendar;charset=utf-8"}),h=URL.createObjectURL(u);return{google:`https://calendar.google.com/calendar/render?${A.toString()}`,ical:h}},Aq=t=>t.replace(/\D/g,""),aq=t=>`https://wa.me/39${t.replace(/\D/g,"")}`,oq=t=>{const e=t.replace(/\D/g,"");return!(e.length<9||e.length>10)};function NI(t,e,n){Ve(2,arguments);var r=Ko(t,n),s=Ko(e,n);return r.getTime()===s.getTime()}var lq={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},cq=function(e,n,r){var s,i=lq[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"tra "+s:s+" fa":s},uq={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},dq={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hq={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},fq={date:wo({formats:uq,defaultWidth:"full"}),time:wo({formats:dq,defaultWidth:"full"}),dateTime:wo({formats:hq,defaultWidth:"full"})},Jx=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function pq(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+Jx[t]+" scorso alle' p"}}function kI(t){return"'"+Jx[t]+" alle' p"}function gq(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+Jx[t]+" prossimo alle' p"}}var mq={lastWeek:function(e,n,r){var s=e.getUTCDay();return NI(e,n,r)?kI(s):pq(s)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:function(e,n,r){var s=e.getUTCDay();return NI(e,n,r)?kI(s):gq(s)},other:"P"},yq=function(e,n,r,s){var i=mq[e];return typeof i=="function"?i(n,r,s):i},vq={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},wq={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Bq={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},xq={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},Cq={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},Eq={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},_q=function(e,n){var r=Number(e);return String(r)},bq={ordinalNumber:_q,era:Wr({values:vq,defaultWidth:"wide"}),quarter:Wr({values:wq,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Wr({values:Bq,defaultWidth:"wide"}),day:Wr({values:xq,defaultWidth:"wide"}),dayPeriod:Wr({values:Cq,defaultWidth:"wide",formattingValues:Eq,defaultFormattingWidth:"wide"})},Iq=/^(\d+)()?/i,Tq=/\d+/i,Fq={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},Uq={any:[/^a/i,/^(d|e)/i]},Sq={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},Qq={any:[/1/i,/2/i,/3/i,/4/i]},Nq={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},kq={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rq={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},Dq={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},Pq={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},Lq={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},Mq={ordinalNumber:Lk({matchPattern:Iq,parsePattern:Tq,valueCallback:function(e){return parseInt(e,10)}}),era:$r({matchPatterns:Fq,defaultMatchWidth:"wide",parsePatterns:Uq,defaultParseWidth:"any"}),quarter:$r({matchPatterns:Sq,defaultMatchWidth:"wide",parsePatterns:Qq,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$r({matchPatterns:Nq,defaultMatchWidth:"wide",parsePatterns:kq,defaultParseWidth:"any"}),day:$r({matchPatterns:Rq,defaultMatchWidth:"wide",parsePatterns:Dq,defaultParseWidth:"any"}),dayPeriod:$r({matchPatterns:Pq,defaultMatchWidth:"any",parsePatterns:Lq,defaultParseWidth:"any"})},qs={code:"it",formatDistance:cq,formatLong:fq,formatRelative:yq,localize:bq,match:Mq,options:{weekStartsOn:1,firstWeekContainsDate:4}};const Ok="settings",Ip="event-settings",Ah={id:Ip,eventName:"Carnevale Cinematografico",countdownDate:"2024-03-04T09:00:00",showCountdown:!0,bookingIntervals:30,maxBookingsPerDay:20,startTime:"09:00",endTime:"18:00",serviceTypes:[{id:"carnival",name:"Carnevale",enabled:!0,duration:30,bookingStartDate:"2024-03-04",bookingEndDate:"2024-03-31",excludedDays:[0],excludedDates:[]}],breakTimes:[{start:"13:00",end:"14:00",enabled:!0}],bookingStatuses:[{id:"pending",name:"In attesa",color:"#FFA500",enabled:!0},{id:"confirmed",name:"Confermato",color:"#10B981",enabled:!0},{id:"cancelled",name:"Cancellato",color:"#EF4444",enabled:!0}],products:[],company:{name:"Image Studio",logo:"",address:"Via Quinto Orazio Flacco 5, Aversa",phone:"",email:"",website:"",socialLinks:{}},animation:{enabled:!0,title:"Carnevale 2025",subtitle:"3... 2... 1...",type:"curtain",ticketStampType:"classic"},social:{image:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819",title:"Carnevale Cinematografico 2025",description:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025",url:"https://gennaromazzacane.it/carnival2025"},ticketTemplate:{type:"classic",enabled:!0},whatsappTemplate:{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`* ACCONTI VERSATI*
{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`}},Tp=async t=>{try{const e=lt(_e,Ok,Ip);await Qg(e,{...t,id:Ip},{merge:!0})}catch(e){throw console.error("Error updating settings:",e),e}},Oq=t=>{const e=lt(_e,Ok,Ip);return sl(e,r=>{if(r.exists()){const s=r.data();t({...Ah,...s,company:{...Ah.company,...s.company||{}},whatsappTemplate:{...Ah.whatsappTemplate,...s.whatsappTemplate||{}}})}else t(Ah)},r=>{console.error("Error observing settings:",r)})},pA=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(!1);S.useEffect(()=>{r(!0);const u=Oq(h=>{e(h),r(!1),i(null)});return()=>u()},[]);const o=S.useCallback(async u=>{if(t){a(!0),i(null);try{await Tp(u)}catch(h){throw console.error("Error updating settings:",h),i("Errore durante l'aggiornamento delle impostazioni"),h}finally{a(!1)}}},[t]),l=S.useCallback(()=>{i(null)},[]);return{settings:t,loading:n,error:s,saving:A,updateSettings:o,resetError:l}},jq=({selectedDate:t,selectedTime:e,selectedService:n,onSlotSelect:r})=>{var b;const{settings:s,loading:i}=pA(),[A,a]=S.useState(new Date),[o,l]=S.useState({}),[u,h]=S.useState(!0),[f,g]=S.useState(null),[m,y]=S.useState(null),[C,B]=S.useState({});S.useEffect(()=>{if(s&&!i){const _=s.serviceTypes.find(Q=>Q.enabled);if(_!=null&&_.bookingStartDate){const Q=B0(_.bookingStartDate),R=QI();a(w0(Q,R)?R:Q)}h(!1)}},[s,i]),S.useEffect(()=>{(async()=>{if(!s)return;const Q=new Date(A.getFullYear(),A.getMonth(),1),R=new Date(A.getFullYear(),A.getMonth()+1,0);try{const T=sn(_e,"bookings"),Y=hA(T,hu("booking_date",">=",$e(Q,"yyyy-MM-dd")),hu("booking_date","<=",$e(R,"yyyy-MM-dd"))),ie=await Sg(Y),V={};ie.docs.forEach(X=>{const P=X.data(),K=P.booking_date;V[K]||(V[K]=[]),V[K].push(P.booking_time)}),B(V)}catch(T){console.error("Error loading existing bookings:",T),g("Errore nel caricamento delle prenotazioni esistenti")}})()},[A,s]),S.useEffect(()=>{if(t&&s){const _=N(t),Q=$e(t,"yyyy-MM-dd");l(R=>({...R,[Q]:_}))}},[t,s,n,C]);const v=_=>{var Y,ie;if(!s)return!0;const Q=s.serviceTypes.find(V=>V.id===n||V.enabled);if(!Q)return!0;if(Q.bookingStartDate&&Q.bookingEndDate){const V=B0(Q.bookingStartDate),X=B0(Q.bookingEndDate);if(w0(_,V)||_>X)return!0}const R=$e(_,"yyyy-MM-dd");if((Y=Q.excludedDates)!=null&&Y.includes(R))return!0;const T=_.getDay();return((ie=Q.excludedDays)==null?void 0:ie.includes(T))||!1},w=(_,Q)=>{var T;const R=$e(_,"yyyy-MM-dd");return((T=C[R])==null?void 0:T.includes(Q))||!1},F=_=>{if(!(s!=null&&s.breakTimes))return!1;const[Q,R]=_.split(":").map(Number),T=new Date;return T.setHours(Q,R,0,0),s.breakTimes.some(Y=>{if(!Y.enabled)return!1;const[ie,V]=Y.start.split(":").map(Number),[X,P]=Y.end.split(":").map(Number),K=new Date;K.setHours(ie,V,0,0);const z=new Date;return z.setHours(X,P,0,0),T>=K&&T<z})},N=_=>{if(!s||v(_))return[];const Q=[],[R,T=0]=s.startTime.split(":").map(Number),[Y,ie=0]=s.endTime.split(":").map(Number),V=s.serviceTypes.find(z=>z.id===n||z.enabled),X=(V==null?void 0:V.duration)||s.bookingIntervals||30;let P=_p(bp(new Date(_),T),R);const K=_p(bp(new Date(_),ie),Y);for(;P<K;){const z=$e(P,"HH:mm"),ge=F(z),we=w(_,z);!ge&&!we&&Q.push(z),P=Nk(P,X)}return Q},k=_=>{if(v(_))return;const Q=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate())),R=N(Q);if(R.length===0){g("Nessun orario disponibile per questa data");return}g(null),r(Q,R[0])},I=_=>{t&&r(t,_)},E=Array.from({length:42},(_,Q)=>{const R=new Date(A.getFullYear(),A.getMonth(),1),Y=(R.getDay()+6)%7;return R.setDate(1-Y+Q),R});return u?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:""}),"Caricamento calendario..."]})}):c.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:c.jsxs("div",{className:"space-y-6",children:[f&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Mt,{size:20}),f]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("button",{onClick:()=>a(_=>nq(_,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(A6,{size:20})}),c.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[c.jsx(Fn,{className:"w-5 h-5 text-[--theater-gold]"}),$e(A,"MMMM yyyy",{locale:qs})]}),c.jsx("button",{onClick:()=>a(_=>xp(_,1)),className:"p-2 text-gray-400 hover:text-white transition-colors",children:c.jsx(a6,{size:20})})]}),c.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map(_=>c.jsx("div",{className:"text-center text-gray-400 text-sm py-2 font-medium",children:_},_))}),c.jsx("div",{className:"grid grid-cols-7 gap-1",children:E.map((_,Q)=>{const R=$e(_,"yyyy-MM-dd"),T=v(_),Y=N(_),ie=Y.length>0,V=t&&$e(t,"yyyy-MM-dd")===R,X=w0(_,QI()),P=T||X||!ie,K=m&&$e(m,"yyyy-MM-dd")===R;return c.jsxs($.button,{onClick:()=>!P&&k(_),onMouseEnter:()=>y(_),onMouseLeave:()=>y(null),disabled:P,whileHover:P?void 0:{scale:1.05},whileTap:P?void 0:{scale:.95},className:`
                  relative p-3 rounded-lg text-center transition-all duration-200
                  ${O$(_,A)?"":"opacity-40"}
                  ${V?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":K&&!P?"bg-gray-700 text-white shadow-md":P?"bg-gray-800 text-gray-500 cursor-not-allowed":ie?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-500"}
                `,children:[c.jsx("span",{className:"relative z-10 font-medium",children:$e(_,"d")}),T&&c.jsx(Yl,{size:12,className:"absolute top-1 right-1 text-red-400"}),ie&&!X&&!T&&c.jsx($.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:[...Array(Math.min(3,Y.length))].map((z,ge)=>c.jsx("div",{className:`w-1 h-1 rounded-full ${V?"bg-black":K?"bg-white":"bg-[--theater-gold]"}`},ge))})]},R)})}),c.jsx(An,{children:t&&o[$e(t,"yyyy-MM-dd")]&&c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6 space-y-4",children:[c.jsxs("h3",{className:"text-white mb-4 flex items-center gap-2",children:[c.jsx(Gs,{className:"w-4 h-4 text-[--theater-gold]"}),"Orari disponibili per il ",$e(t,"d MMMM yyyy",{locale:qs})]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:(b=o[$e(t,"yyyy-MM-dd")])==null?void 0:b.map(_=>c.jsxs($.button,{onClick:()=>I(_),whileHover:{scale:1.05,backgroundColor:"var(--theater-gold)",color:"black",transition:{duration:.2}},whileTap:{scale:.95},className:`
                      relative p-3 rounded-lg text-center transition-all duration-200
                      ${e===_?"bg-[--theater-gold] text-black shadow-lg ring-2 ring-[--theater-gold] ring-opacity-50":"bg-gray-700 text-white hover:shadow-md"}
                    `,children:[_,e===_&&c.jsx($.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 rounded-full p-1",children:c.jsx(Vn,{className:"w-3 h-3 text-white"})})]},_))})]})})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mv=function(t,e){return Mv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Mv(t,e)};function Mr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ov=function(){return Ov=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ov.apply(this,arguments)};function Cn(t,e,n,r){function s(i){return i instanceof n?i:new n(function(A){A(i)})}return new(n||(n=Promise))(function(i,A){function a(u){try{l(r.next(u))}catch(h){A(h)}}function o(u){try{l(r.throw(u))}catch(h){A(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,o)}l((r=r.apply(t,[])).next())})}function dn(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,A;return A={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function a(l){return function(u){return o([l,u])}}function o(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ah(t,e,n){if(arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var Xs=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Gg=function(t,e){return Xs.fromClientRect(t,e.getBoundingClientRect())},Vq=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Xs(0,0,r,s)},Wg=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},Ct=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},RI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oh=0;oh<RI.length;oh++)Hq[RI.charCodeAt(oh)]=oh;var DI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lh=0;lh<DI.length;lh++)rc[DI.charCodeAt(lh)]=lh;var Kq=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=rc[t.charCodeAt(r)],A=rc[t.charCodeAt(r+1)],a=rc[t.charCodeAt(r+2)],o=rc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return l},zq=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},Gq=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},VA=5,Zx=11,C0=2,Wq=Zx-VA,jk=65536>>VA,$q=1<<VA,E0=$q-1,qq=1024>>VA,Xq=jk+qq,Yq=Xq,Jq=32,Zq=Yq+Jq,eX=65536>>Zx,tX=1<<Wq,nX=tX-1,PI=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},rX=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},sX=function(t,e){var n=Kq(t),r=Array.isArray(n)?Gq(n):new Uint32Array(n),s=Array.isArray(n)?zq(n):new Uint16Array(n),i=24,A=PI(s,i/2,r[4]/2),a=r[5]===2?PI(s,(i+r[4])/2):rX(r,Math.ceil((i+r[4])/4));return new iX(r[0],r[1],r[2],r[3],A,a)},iX=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>VA],n=(n<<C0)+(e&E0),this.data[n];if(e<=65535)return n=this.index[jk+(e-55296>>VA)],n=(n<<C0)+(e&E0),this.data[n];if(e<this.highStart)return n=Zq-eX+(e>>Zx),n=this.index[n],n+=e>>VA&nX,n=this.index[n],n=(n<<C0)+(e&E0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),LI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ch=0;ch<LI.length;ch++)AX[LI.charCodeAt(ch)]=ch;var aX="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",MI=50,oX=1,Vk=2,Hk=3,lX=4,cX=5,OI=7,Kk=8,jI=9,_i=10,jv=11,VI=12,Vv=13,uX=14,sc=15,Hv=16,uh=17,Pl=18,dX=19,HI=20,Kv=21,Ll=22,_0=23,_a=24,Gn=25,ic=26,Ac=27,ba=28,hX=29,FA=30,fX=31,dh=32,hh=33,zv=34,Gv=35,Wv=36,Nu=37,$v=38,rf=39,sf=40,b0=41,zk=42,pX=43,gX=[9001,65288],Gk="!",Se="",fh="",qv=sX(aX),ys=[FA,Wv],Xv=[oX,Vk,Hk,cX],Wk=[_i,Kk],KI=[Ac,ic],mX=Xv.concat(Wk),zI=[$v,rf,sf,zv,Gv],yX=[sc,Vv],vX=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,A){var a=qv.get(i);if(a>MI?(s.push(!0),a-=MI):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(A),n.push(Hv);if(a===lX||a===jv){if(A===0)return r.push(A),n.push(FA);var o=n[A-1];return mX.indexOf(o)===-1?(r.push(r[A-1]),n.push(o)):(r.push(A),n.push(FA))}if(r.push(A),a===fX)return n.push(e==="strict"?Kv:Nu);if(a===zk||a===hX)return n.push(FA);if(a===pX)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(Nu):n.push(FA);n.push(a)}),[r,n,s]},I0=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var A=r[i];if(A===e)return!0;if(A!==_i)break}if(s===_i)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===e)return!0;if(A!==_i)break}if(a!==_i)break}return!1},GI=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===_i)n--;else return r}return 0},wX=function(t,e,n,r,s){if(n[r]===0)return Se;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Se;var A=i-1,a=i+1,o=e[i],l=A>=0?e[A]:0,u=e[a];if(o===Vk&&u===Hk)return Se;if(Xv.indexOf(o)!==-1)return Gk;if(Xv.indexOf(u)!==-1||Wk.indexOf(u)!==-1)return Se;if(GI(i,e)===Kk)return fh;if(qv.get(t[i])===jv||(o===dh||o===hh)&&qv.get(t[a])===jv||o===OI||u===OI||o===jI||[_i,Vv,sc].indexOf(o)===-1&&u===jI||[uh,Pl,dX,_a,ba].indexOf(u)!==-1||GI(i,e)===Ll||I0(_0,Ll,i,e)||I0([uh,Pl],Kv,i,e)||I0(VI,VI,i,e))return Se;if(o===_i)return fh;if(o===_0||u===_0)return Se;if(u===Hv||o===Hv)return fh;if([Vv,sc,Kv].indexOf(u)!==-1||o===uX||l===Wv&&yX.indexOf(o)!==-1||o===ba&&u===Wv||u===HI||ys.indexOf(u)!==-1&&o===Gn||ys.indexOf(o)!==-1&&u===Gn||o===Ac&&[Nu,dh,hh].indexOf(u)!==-1||[Nu,dh,hh].indexOf(o)!==-1&&u===ic||ys.indexOf(o)!==-1&&KI.indexOf(u)!==-1||KI.indexOf(o)!==-1&&ys.indexOf(u)!==-1||[Ac,ic].indexOf(o)!==-1&&(u===Gn||[Ll,sc].indexOf(u)!==-1&&e[a+1]===Gn)||[Ll,sc].indexOf(o)!==-1&&u===Gn||o===Gn&&[Gn,ba,_a].indexOf(u)!==-1)return Se;if([Gn,ba,_a,uh,Pl].indexOf(u)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Gn)return Se;if([ba,_a].indexOf(f)!==-1)h--;else break}if([Ac,ic].indexOf(u)!==-1)for(var h=[uh,Pl].indexOf(o)!==-1?A:i;h>=0;){var f=e[h];if(f===Gn)return Se;if([ba,_a].indexOf(f)!==-1)h--;else break}if($v===o&&[$v,rf,zv,Gv].indexOf(u)!==-1||[rf,zv].indexOf(o)!==-1&&[rf,sf].indexOf(u)!==-1||[sf,Gv].indexOf(o)!==-1&&u===sf||zI.indexOf(o)!==-1&&[HI,ic].indexOf(u)!==-1||zI.indexOf(u)!==-1&&o===Ac||ys.indexOf(o)!==-1&&ys.indexOf(u)!==-1||o===_a&&ys.indexOf(u)!==-1||ys.concat(Gn).indexOf(o)!==-1&&u===Ll&&gX.indexOf(t[a])===-1||ys.concat(Gn).indexOf(u)!==-1&&o===Pl)return Se;if(o===b0&&u===b0){for(var g=n[i],m=1;g>0&&(g--,e[g]===b0);)m++;if(m%2!==0)return Se}return o===dh&&u===hh?Se:fh},BX=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=vX(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Gn,FA,zk].indexOf(a)!==-1?Nu:a}));var A=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&t[o]>=19968&&t[o]<=40959}):void 0;return[r,s,A]},xX=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===Gk,this.start=r,this.end=s}return t.prototype.slice=function(){return Ct.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),CX=function(t,e){var n=Wg(t),r=BX(n,e),s=r[0],i=r[1],A=r[2],a=n.length,o=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var u=Se;l<a&&(u=wX(n,i,s,++l,A))===Se;);if(u!==Se||l===a){var h=new xX(n,u,o,l);return o=l,{value:h,done:!1}}return{done:!0,value:null}}}},EX=1,_X=2,dd=4,WI=8,Fp=10,$I=47,Nc=92,bX=9,IX=32,ph=34,Ml=61,TX=35,FX=36,UX=37,gh=39,mh=40,Ol=41,SX=95,Rn=45,QX=33,NX=60,kX=62,RX=64,DX=91,PX=93,LX=61,MX=123,yh=63,OX=125,qI=124,jX=126,VX=128,XI=65533,T0=42,DA=43,HX=44,KX=58,zX=59,ku=46,GX=0,WX=8,$X=11,qX=14,XX=31,YX=127,Vr=-1,$k=48,qk=97,Xk=101,JX=102,ZX=117,eY=122,Yk=65,Jk=69,Zk=70,tY=85,nY=90,gn=function(t){return t>=$k&&t<=57},rY=function(t){return t>=55296&&t<=57343},Ia=function(t){return gn(t)||t>=Yk&&t<=Zk||t>=qk&&t<=JX},sY=function(t){return t>=qk&&t<=eY},iY=function(t){return t>=Yk&&t<=nY},AY=function(t){return sY(t)||iY(t)},aY=function(t){return t>=VX},vh=function(t){return t===Fp||t===bX||t===IX},Up=function(t){return AY(t)||aY(t)||t===SX},YI=function(t){return Up(t)||gn(t)||t===Rn},oY=function(t){return t>=GX&&t<=WX||t===$X||t>=qX&&t<=XX||t===YX},di=function(t,e){return t!==Nc?!1:e!==Fp},wh=function(t,e,n){return t===Rn?Up(e)||di(e,n):Up(t)?!0:!!(t===Nc&&di(t,e))},F0=function(t,e,n){return t===DA||t===Rn?gn(e)?!0:e===ku&&gn(n):gn(t===ku?e:t)},lY=function(t){var e=0,n=1;(t[e]===DA||t[e]===Rn)&&(t[e]===Rn&&(n=-1),e++);for(var r=[];gn(t[e]);)r.push(t[e++]);var s=r.length?parseInt(Ct.apply(void 0,r),10):0;t[e]===ku&&e++;for(var i=[];gn(t[e]);)i.push(t[e++]);var A=i.length,a=A?parseInt(Ct.apply(void 0,i),10):0;(t[e]===Jk||t[e]===Xk)&&e++;var o=1;(t[e]===DA||t[e]===Rn)&&(t[e]===Rn&&(o=-1),e++);for(var l=[];gn(t[e]);)l.push(t[e++]);var u=l.length?parseInt(Ct.apply(void 0,l),10):0;return n*(s+a*Math.pow(10,-A))*Math.pow(10,o*u)},cY={type:2},uY={type:3},dY={type:4},hY={type:13},fY={type:8},pY={type:21},gY={type:9},mY={type:10},yY={type:11},vY={type:12},wY={type:14},Bh={type:23},BY={type:1},xY={type:25},CY={type:24},EY={type:26},_Y={type:27},bY={type:28},IY={type:29},TY={type:31},Yv={type:32},eR=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Wg(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==Yv;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case ph:return this.consumeStringToken(ph);case TX:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(YI(n)||di(r,s)){var i=wh(n,r,s)?_X:EX,A=this.consumeName();return{type:5,value:A,flags:i}}break;case FX:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),hY;break;case gh:return this.consumeStringToken(gh);case mh:return cY;case Ol:return uY;case T0:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),wY;break;case DA:if(F0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case HX:return dY;case Rn:var a=e,o=this.peekCodePoint(0),l=this.peekCodePoint(1);if(F0(a,o,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wh(a,o,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===Rn&&l===kX)return this.consumeCodePoint(),this.consumeCodePoint(),CY;break;case ku:if(F0(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $I:if(this.peekCodePoint(0)===T0)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===T0&&(u=this.consumeCodePoint(),u===$I))return this.consumeToken();if(u===Vr)return this.consumeToken()}break;case KX:return EY;case zX:return _Y;case NX:if(this.peekCodePoint(0)===QX&&this.peekCodePoint(1)===Rn&&this.peekCodePoint(2)===Rn)return this.consumeCodePoint(),this.consumeCodePoint(),xY;break;case RX:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(wh(h,f,g)){var A=this.consumeName();return{type:7,value:A}}break;case DX:return bY;case Nc:if(di(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case PX:return IY;case LX:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),fY;break;case MX:return yY;case OX:return vY;case ZX:case tY:var m=this.peekCodePoint(0),y=this.peekCodePoint(1);return m===DA&&(Ia(y)||y===yh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case qI:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),gY;if(this.peekCodePoint(0)===qI)return this.consumeCodePoint(),pY;break;case jX:if(this.peekCodePoint(0)===Ml)return this.consumeCodePoint(),mY;break;case Vr:return Yv}return vh(e)?(this.consumeWhiteSpace(),TY):gn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Up(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ct(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();Ia(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===yh&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(Ct.apply(void 0,e.map(function(o){return o===yh?$k:o})),16),i=parseInt(Ct.apply(void 0,e.map(function(o){return o===yh?Zk:o})),16);return{type:30,start:s,end:i}}var A=parseInt(Ct.apply(void 0,e),16);if(this.peekCodePoint(0)===Rn&&Ia(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];Ia(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(Ct.apply(void 0,a),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===mh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===mh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vr)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===gh||n===ph){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Vr||this.peekCodePoint(0)===Ol)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Bh)}for(;;){var s=this.consumeCodePoint();if(s===Vr||s===Ol)return{type:22,value:Ct.apply(void 0,e)};if(vh(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Vr||this.peekCodePoint(0)===Ol?(this.consumeCodePoint(),{type:22,value:Ct.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Bh);if(s===ph||s===gh||s===mh||oY(s))return this.consumeBadUrlRemnants(),Bh;if(s===Nc)if(di(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Bh;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;vh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Ol||e===Vr)return;di(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=Ct.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===Vr||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===Fp)return this._value.splice(0,r),BY;if(s===Nc){var i=this._value[r+1];i!==Vr&&i!==void 0&&(i===Fp?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):di(s,i)&&(n+=this.consumeStringSlice(r),n+=Ct(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=dd,r=this.peekCodePoint(0);for((r===DA||r===Rn)&&e.push(this.consumeCodePoint());gn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===ku&&gn(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=WI;gn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Jk||r===Xk)&&((s===DA||s===Rn)&&gn(i)||gn(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=WI;gn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[lY(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(wh(s,i,A)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===UX?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ia(e)){for(var n=Ct(e);Ia(this.peekCodePoint(0))&&n.length<6;)n+=Ct(this.consumeCodePoint());vh(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||rY(r)||r>1114111?XI:r}return e===Vr?XI:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(YI(n))e+=Ct(n);else if(di(n,this.peekCodePoint(0)))e+=Ct(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),tR=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new eR;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||UY(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Yv:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),hd=function(t){return t.type===15},ol=function(t){return t.type===17},qe=function(t){return t.type===20},FY=function(t){return t.type===0},Jv=function(t,e){return qe(t)&&t.value===e},nR=function(t){return t.type!==31},zo=function(t){return t.type!==31&&t.type!==4},us=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},UY=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},sA=function(t){return t.type===17||t.type===15},St=function(t){return t.type===16||sA(t)},rR=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Jt={type:17,number:0,flags:dd},eC={type:16,number:50,flags:dd},bi={type:16,number:100,flags:dd},ac=function(t,e,n){var r=t[0],s=t[1];return[Je(r,e),Je(typeof s<"u"?s:r,n)]},Je=function(t,e){if(t.type===16)return t.number/100*e;if(hd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},sR="deg",iR="grad",AR="rad",aR="turn",$g={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case sR:return Math.PI*e.number/180;case iR:return Math.PI/200*e.number;case AR:return e.number;case aR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},oR=function(t){return t.type===15&&(t.unit===sR||t.unit===iR||t.unit===AR||t.unit===aR)},lR=function(t){var e=t.filter(qe).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Jt,Jt];case"to top":case"bottom":return fr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Jt,bi];case"to right":case"left":return fr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[bi,bi];case"to bottom":case"top":return fr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[bi,Jt];case"to left":case"right":return fr(270)}return 0},fr=function(t){return Math.PI*t/180},ji={name:"color",parse:function(t,e){if(e.type===18){var n=SY[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Ii(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return Ii(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Ii(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return Ii(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var a=ks[e.value.toUpperCase()];if(typeof a<"u")return a}return ks.TRANSPARENT}},Vi=function(t){return(255&t)===0},Ot=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Ii=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},JI=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},ZI=function(t,e){var n=e.filter(zo);if(n.length===3){var r=n.map(JI),s=r[0],i=r[1],A=r[2];return Ii(s,i,A,1)}if(n.length===4){var a=n.map(JI),s=a[0],i=a[1],A=a[2],o=a[3];return Ii(s,i,A,o)}return 0};function U0(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var eT=function(t,e){var n=e.filter(zo),r=n[0],s=n[1],i=n[2],A=n[3],a=(r.type===17?fr(r.number):$g.parse(t,r))/(Math.PI*2),o=St(s)?s.number/100:0,l=St(i)?i.number/100:0,u=typeof A<"u"&&St(A)?Je(A,1):1;if(o===0)return Ii(l*255,l*255,l*255,1);var h=l<=.5?l*(o+1):l+o-l*o,f=l*2-h,g=U0(f,h,a+1/3),m=U0(f,h,a),y=U0(f,h,a-1/3);return Ii(g*255,m*255,y*255,u)},SY={hsl:eT,hsla:eT,rgb:ZI,rgba:ZI},kc=function(t,e){return ji.parse(t,tR.create(e).parseComponentValue())},ks={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},QY={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(qe(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},NY={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},qg=function(t,e){var n=ji.parse(t,e[0]),r=e[1];return r&&St(r)?{color:n,stop:r}:{color:n,stop:null}},tT=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Jt),r.stop===null&&(r.stop=bi);for(var s=[],i=0,A=0;A<t.length;A++){var a=t[A].stop;if(a!==null){var o=Je(a,e);o>i?s.push(o):s.push(i),i=o}else s.push(null)}for(var l=null,A=0;A<s.length;A++){var u=s[A];if(u===null)l===null&&(l=A);else if(l!==null){for(var h=A-l,f=s[l-1],g=(u-f)/(h+1),m=1;m<=h;m++)s[l+m-1]=g*m;l=null}}return t.map(function(y,C){var B=y.color;return{color:B,stop:Math.max(Math.min(1,s[C]/e),0)}})},kY=function(t,e,n){var r=e/2,s=n/2,i=Je(t[0],e)-r,A=s-Je(t[1],n);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},RY=function(t,e,n){var r=typeof t=="number"?t:kY(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,A=n/2,a=s/2,o=Math.sin(r-Math.PI/2)*a,l=Math.cos(r-Math.PI/2)*a;return[s,i-l,i+l,A-o,A+o]},xr=function(t,e){return Math.sqrt(t*t+e*e)},nT=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,a){var o=a[0],l=a[1],u=xr(n-o,r-l);return(s?u<A.optimumDistance:u>A.optimumDistance)?{optimumCorner:a,optimumDistance:u}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},DY=function(t,e,n,r,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),A=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=A=Math.min(xr(e,n),xr(e,n-s),xr(e-r,n),xr(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),o=nT(r,s,e,n,!0),l=o[0],u=o[1];i=xr(l-e,(u-n)/a),A=a*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),A=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=A=Math.max(xr(e,n),xr(e,n-s),xr(e-r,n),xr(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),h=nT(r,s,e,n,!1),l=h[0],u=h[1];i=xr(l-e,(u-n)/a),A=a*i}break}return Array.isArray(t.size)&&(i=Je(t.size[0],r),A=t.size.length===2?Je(t.size[1],s):i),[i,A]},PY=function(t,e){var n=fr(180),r=[];return us(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){n=lR(s);return}else if(oR(A)){n=$g.parse(t,A);return}}var a=qg(t,s);r.push(a)}),{angle:n,stops:r,type:1}},xh=function(t,e){var n=fr(180),r=[];return us(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){n=lR(s);return}else if(oR(A)){n=($g.parse(t,A)+fr(270))%fr(360);return}}var a=qg(t,s);r.push(a)}),{angle:n,stops:r,type:1}},LY=function(t,e){var n=fr(180),r=[],s=1,i=0,A=3,a=[];return us(e).forEach(function(o,l){var u=o[0];if(l===0){if(qe(u)&&u.value==="linear"){s=1;return}else if(qe(u)&&u.value==="radial"){s=2;return}}if(u.type===18){if(u.name==="from"){var h=ji.parse(t,u.values[0]);r.push({stop:Jt,color:h})}else if(u.name==="to"){var h=ji.parse(t,u.values[0]);r.push({stop:bi,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(zo);if(f.length===2){var h=ji.parse(t,f[1]),g=f[0];ol(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),s===1?{angle:(n+fr(180))%fr(360),stops:r,type:s}:{size:A,shape:i,stops:r,position:a,type:s}},cR="closest-side",uR="farthest-side",dR="closest-corner",hR="farthest-corner",fR="circle",pR="ellipse",gR="cover",mR="contain",MY=function(t,e){var n=0,r=3,s=[],i=[];return us(e).forEach(function(A,a){var o=!0;if(a===0){var l=!1;o=A.reduce(function(h,f){if(l)if(qe(f))switch(f.value){case"center":return i.push(eC),h;case"top":case"left":return i.push(Jt),h;case"right":case"bottom":return i.push(bi),h}else(St(f)||sA(f))&&i.push(f);else if(qe(f))switch(f.value){case fR:return n=0,!1;case pR:return n=1,!1;case"at":return l=!0,!1;case cR:return r=0,!1;case gR:case uR:return r=1,!1;case mR:case dR:return r=2,!1;case hR:return r=3,!1}else if(sA(f)||St(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return h},o)}if(o){var u=qg(t,A);s.push(u)}}),{size:r,shape:n,stops:s,position:i,type:2}},Ch=function(t,e){var n=0,r=3,s=[],i=[];return us(e).forEach(function(A,a){var o=!0;if(a===0?o=A.reduce(function(u,h){if(qe(h))switch(h.value){case"center":return i.push(eC),!1;case"top":case"left":return i.push(Jt),!1;case"right":case"bottom":return i.push(bi),!1}else if(St(h)||sA(h))return i.push(h),!1;return u},o):a===1&&(o=A.reduce(function(u,h){if(qe(h))switch(h.value){case fR:return n=0,!1;case pR:return n=1,!1;case mR:case cR:return r=0,!1;case uR:return r=1,!1;case dR:return r=2,!1;case gR:case hR:return r=3,!1}else if(sA(h)||St(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},o)),o){var l=qg(t,A);s.push(l)}}),{size:r,shape:n,stops:s,position:i,type:2}},OY=function(t){return t.type===1},jY=function(t){return t.type===2},tC={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=yR[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function VY(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!yR[t.name])}var yR={"linear-gradient":PY,"-moz-linear-gradient":xh,"-ms-linear-gradient":xh,"-o-linear-gradient":xh,"-webkit-linear-gradient":xh,"radial-gradient":MY,"-moz-radial-gradient":Ch,"-ms-radial-gradient":Ch,"-o-radial-gradient":Ch,"-webkit-radial-gradient":Ch,"-webkit-gradient":LY},HY={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return zo(r)&&VY(r)}).map(function(r){return tC.parse(t,r)})}},KY={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(qe(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zY={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return us(e).map(function(n){return n.filter(St)}).map(rR)}},GY={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return us(e).map(function(n){return n.filter(qe).map(function(r){return r.value}).join(" ")}).map(WY)}},WY=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Bo;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Bo||(Bo={}));var $Y={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return us(e).map(function(n){return n.filter(qY)})}},qY=function(t){return qe(t)||St(t)},Xg=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},XY=Xg("top"),YY=Xg("right"),JY=Xg("bottom"),ZY=Xg("left"),Yg=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return rR(n.filter(St))}}},eJ=Yg("top-left"),tJ=Yg("top-right"),nJ=Yg("bottom-right"),rJ=Yg("bottom-left"),Jg=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},sJ=Jg("top"),iJ=Jg("right"),AJ=Jg("bottom"),aJ=Jg("left"),Zg=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return hd(n)?n.number:0}}},oJ=Zg("top"),lJ=Zg("right"),cJ=Zg("bottom"),uJ=Zg("left"),dJ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hJ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},fJ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).reduce(function(n,r){return n|pJ(r.value)},0)}},pJ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gJ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mJ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Sp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Sp||(Sp={}));var yJ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Sp.STRICT;case"normal":default:return Sp.NORMAL}}},vJ={name:"line-height",initialValue:"normal",prefix:!1,type:4},rT=function(t,e){return qe(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:St(t)?Je(t,e):e},wJ={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:tC.parse(t,e)}},BJ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Zv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},em=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},xJ=em("top"),CJ=em("right"),EJ=em("bottom"),_J=em("left"),bJ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},IJ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},tm=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},TJ=tm("top"),FJ=tm("right"),UJ=tm("bottom"),SJ=tm("left"),QJ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},NJ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},kJ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Jv(e[0],"none")?[]:us(e).map(function(n){for(var r={color:ks.TRANSPARENT,offsetX:Jt,offsetY:Jt,blur:Jt},s=0,i=0;i<n.length;i++){var A=n[i];sA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:r.blur=A,s++):r.color=ji.parse(t,A)}return r})}},RJ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},DJ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=MJ[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},PJ=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},LJ=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,A,a]:null},MJ={matrix:PJ,matrix3d:LJ},sT={type:16,number:50,flags:dd},OJ=[sT,sT],jJ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(St);return n.length!==2?OJ:[n[0],n[1]]}},VJ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Rc;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Rc||(Rc={}));var HJ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Rc.BREAK_ALL;case"keep-all":return Rc.KEEP_ALL;case"normal":default:return Rc.NORMAL}}},KJ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ol(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},vR={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},zJ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ol(e)?e.number:1}},GJ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},WJ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(qe).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},$J={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},qJ={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},XJ={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ol(e))return e.number;if(qe(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},YJ={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(qe).map(function(n){return n.value})}},JJ={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Dt=function(t,e){return(t&e)!==0},ZJ={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},eZ={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(nR),i=0;i<s.length;i++){var A=s[i],a=s[i+1];if(A.type===20){var o=a&&ol(a)?a.number:1;r.push({counter:A.value,increment:o})}}return r}},tZ={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(nR),s=0;s<r.length;s++){var i=r[s],A=r[s+1];if(qe(i)&&i.value!=="none"){var a=A&&ol(A)?A.number:0;n.push({counter:i.value,reset:a})}}return n}},nZ={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(hd).map(function(n){return vR.parse(t,n)})}},rZ={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(FY);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,a=s[i+1].value;r.push({open:A,close:a})}return r}},iT=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},sZ={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Jv(e[0],"none")?[]:us(e).map(function(n){for(var r={color:255,offsetX:Jt,offsetY:Jt,blur:Jt,spread:Jt,inset:!1},s=0,i=0;i<n.length;i++){var A=n[i];Jv(A,"inset")?r.inset=!0:sA(A)?(s===0?r.offsetX=A:s===1?r.offsetY=A:s===2?r.blur=A:r.spread=A,s++):r.color=ji.parse(t,A)}return r})}},iZ={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(qe).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},AZ={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},aZ={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return hd(e)?e.number:0}},oZ=function(){function t(e,n){var r,s;this.animationDuration=Ae(e,nZ,n.animationDuration),this.backgroundClip=Ae(e,QY,n.backgroundClip),this.backgroundColor=Ae(e,NY,n.backgroundColor),this.backgroundImage=Ae(e,HY,n.backgroundImage),this.backgroundOrigin=Ae(e,KY,n.backgroundOrigin),this.backgroundPosition=Ae(e,zY,n.backgroundPosition),this.backgroundRepeat=Ae(e,GY,n.backgroundRepeat),this.backgroundSize=Ae(e,$Y,n.backgroundSize),this.borderTopColor=Ae(e,XY,n.borderTopColor),this.borderRightColor=Ae(e,YY,n.borderRightColor),this.borderBottomColor=Ae(e,JY,n.borderBottomColor),this.borderLeftColor=Ae(e,ZY,n.borderLeftColor),this.borderTopLeftRadius=Ae(e,eJ,n.borderTopLeftRadius),this.borderTopRightRadius=Ae(e,tJ,n.borderTopRightRadius),this.borderBottomRightRadius=Ae(e,nJ,n.borderBottomRightRadius),this.borderBottomLeftRadius=Ae(e,rJ,n.borderBottomLeftRadius),this.borderTopStyle=Ae(e,sJ,n.borderTopStyle),this.borderRightStyle=Ae(e,iJ,n.borderRightStyle),this.borderBottomStyle=Ae(e,AJ,n.borderBottomStyle),this.borderLeftStyle=Ae(e,aJ,n.borderLeftStyle),this.borderTopWidth=Ae(e,oJ,n.borderTopWidth),this.borderRightWidth=Ae(e,lJ,n.borderRightWidth),this.borderBottomWidth=Ae(e,cJ,n.borderBottomWidth),this.borderLeftWidth=Ae(e,uJ,n.borderLeftWidth),this.boxShadow=Ae(e,sZ,n.boxShadow),this.color=Ae(e,dJ,n.color),this.direction=Ae(e,hJ,n.direction),this.display=Ae(e,fJ,n.display),this.float=Ae(e,gJ,n.cssFloat),this.fontFamily=Ae(e,$J,n.fontFamily),this.fontSize=Ae(e,qJ,n.fontSize),this.fontStyle=Ae(e,JJ,n.fontStyle),this.fontVariant=Ae(e,YJ,n.fontVariant),this.fontWeight=Ae(e,XJ,n.fontWeight),this.letterSpacing=Ae(e,mJ,n.letterSpacing),this.lineBreak=Ae(e,yJ,n.lineBreak),this.lineHeight=Ae(e,vJ,n.lineHeight),this.listStyleImage=Ae(e,wJ,n.listStyleImage),this.listStylePosition=Ae(e,BJ,n.listStylePosition),this.listStyleType=Ae(e,Zv,n.listStyleType),this.marginTop=Ae(e,xJ,n.marginTop),this.marginRight=Ae(e,CJ,n.marginRight),this.marginBottom=Ae(e,EJ,n.marginBottom),this.marginLeft=Ae(e,_J,n.marginLeft),this.opacity=Ae(e,zJ,n.opacity);var i=Ae(e,bJ,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ae(e,IJ,n.overflowWrap),this.paddingTop=Ae(e,TJ,n.paddingTop),this.paddingRight=Ae(e,FJ,n.paddingRight),this.paddingBottom=Ae(e,UJ,n.paddingBottom),this.paddingLeft=Ae(e,SJ,n.paddingLeft),this.paintOrder=Ae(e,iZ,n.paintOrder),this.position=Ae(e,NJ,n.position),this.textAlign=Ae(e,QJ,n.textAlign),this.textDecorationColor=Ae(e,GJ,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Ae(e,WJ,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=Ae(e,kJ,n.textShadow),this.textTransform=Ae(e,RJ,n.textTransform),this.transform=Ae(e,DJ,n.transform),this.transformOrigin=Ae(e,jJ,n.transformOrigin),this.visibility=Ae(e,VJ,n.visibility),this.webkitTextStrokeColor=Ae(e,AZ,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ae(e,aZ,n.webkitTextStrokeWidth),this.wordBreak=Ae(e,HJ,n.wordBreak),this.zIndex=Ae(e,KJ,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Vi(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Dt(this.display,4)||Dt(this.display,33554432)||Dt(this.display,268435456)||Dt(this.display,536870912)||Dt(this.display,67108864)||Dt(this.display,134217728)},t}(),lZ=function(){function t(e,n){this.content=Ae(e,ZJ,n.content),this.quotes=Ae(e,rZ,n.quotes)}return t}(),AT=function(){function t(e,n){this.counterIncrement=Ae(e,eZ,n.counterIncrement),this.counterReset=Ae(e,tZ,n.counterReset)}return t}(),Ae=function(t,e,n){var r=new eR,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new tR(r.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,qe(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return $g.parse(t,i.parseComponentValue());case"color":return ji.parse(t,i.parseComponentValue());case"image":return tC.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return sA(a)?a:Jt;case"length-percentage":var o=i.parseComponentValue();return St(o)?o:Jt;case"time":return vR.parse(t,i.parseComponentValue())}break}},cZ="data-html2canvas-debug",uZ=function(t){var e=t.getAttribute(cZ);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ew=function(t,e){var n=uZ(t);return n===1||e===n},ds=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ew(n,3))debugger;this.styles=new oZ(e,window.getComputedStyle(n,null)),rw(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Gg(this.context,n),ew(n,4)&&(this.flags|=16)}return t}(),dZ="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",aT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eh=0;Eh<aT.length;Eh++)oc[aT.charCodeAt(Eh)]=Eh;var hZ=function(t){var e=t.length*.75,n=t.length,r,s=0,i,A,a,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=oc[t.charCodeAt(r)],A=oc[t.charCodeAt(r+1)],a=oc[t.charCodeAt(r+2)],o=oc[t.charCodeAt(r+3)],u[s++]=i<<2|A>>4,u[s++]=(A&15)<<4|a>>2,u[s++]=(a&3)<<6|o&63;return l},fZ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},pZ=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},HA=5,nC=11,S0=2,gZ=nC-HA,wR=65536>>HA,mZ=1<<HA,Q0=mZ-1,yZ=1024>>HA,vZ=wR+yZ,wZ=vZ,BZ=32,xZ=wZ+BZ,CZ=65536>>nC,EZ=1<<gZ,_Z=EZ-1,oT=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},bZ=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},IZ=function(t,e){var n=hZ(t),r=Array.isArray(n)?pZ(n):new Uint32Array(n),s=Array.isArray(n)?fZ(n):new Uint16Array(n),i=24,A=oT(s,i/2,r[4]/2),a=r[5]===2?oT(s,(i+r[4])/2):bZ(r,Math.ceil((i+r[4])/4));return new TZ(r[0],r[1],r[2],r[3],A,a)},TZ=function(){function t(e,n,r,s,i,A){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>HA],n=(n<<S0)+(e&Q0),this.data[n];if(e<=65535)return n=this.index[wR+(e-55296>>HA)],n=(n<<S0)+(e&Q0),this.data[n];if(e<this.highStart)return n=xZ-CZ+(e>>nC),n=this.index[n],n+=e>>HA&_Z,n=this.index[n],n=(n<<S0)+(e&Q0),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),lT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FZ=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _h=0;_h<lT.length;_h++)FZ[lT.charCodeAt(_h)]=_h;var UZ=1,N0=2,k0=3,cT=4,uT=5,SZ=7,dT=8,R0=9,D0=10,hT=11,fT=12,pT=13,gT=14,P0=15,QZ=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},NZ=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var A=t[s];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},kZ=IZ(dZ),or="",L0="",RZ=function(t){return kZ.get(t)},DZ=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],A=e[n];if(i===N0&&A===k0)return or;if(i===N0||i===k0||i===cT||A===N0||A===k0||A===cT)return L0;if(i===dT&&[dT,R0,hT,fT].indexOf(A)!==-1||(i===hT||i===R0)&&(A===R0||A===D0)||(i===fT||i===D0)&&A===D0||A===pT||A===uT||A===SZ||i===UZ)return or;if(i===pT&&A===gT){for(;s===uT;)s=e[--r];if(s===gT)return or}if(i===P0&&A===P0){for(var a=0;s===P0;)a++,s=e[--r];if(a%2===0)return or}return L0},PZ=function(t){var e=QZ(t),n=e.length,r=0,s=0,i=e.map(RZ);return{next:function(){if(r>=n)return{done:!0,value:null};for(var A=or;r<n&&(A=DZ(e,i,++r))===or;);if(A!==or||r===n){var a=NZ.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},LZ=function(t){for(var e=PZ(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},MZ=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},OZ=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=Wg(r.data).map(function(o){return Ct(o)}),i=0,A={},a=s.every(function(o,l){n.setStart(r,i),n.setEnd(r,i+o.length);var u=n.getBoundingClientRect();i+=o.length;var h=u.x>A.x||u.y>A.y;return A=u,l===0?!0:h});return t.body.removeChild(e),a},jZ=function(){return typeof new Image().crossOrigin<"u"},VZ=function(){return typeof new XMLHttpRequest().responseType=="string"},HZ=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},mT=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},KZ=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var A=tw(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),yT(A).then(function(a){r.drawImage(a,0,0);var o=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var l=t.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=n+"px",mT(o)?yT(tw(n,n,0,0,l)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),mT(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},tw=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(s),A},yT=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},$t={get SUPPORT_RANGE_BOUNDS(){var t=MZ(document);return Object.defineProperty($t,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=$t.SUPPORT_RANGE_BOUNDS&&OZ(document);return Object.defineProperty($t,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=HZ(document);return Object.defineProperty($t,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?KZ(document):Promise.resolve(!1);return Object.defineProperty($t,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=jZ();return Object.defineProperty($t,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=VZ();return Object.defineProperty($t,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty($t,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty($t,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Dc=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),zZ=function(t,e,n,r){var s=$Z(e,n),i=[],A=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if($t.SUPPORT_RANGE_BOUNDS){var o=vT(r,A,a.length).getClientRects();if(o.length>1){var l=rC(a),u=0;l.forEach(function(f){i.push(new Dc(f,Xs.fromDOMRectList(t,vT(r,u+A,f.length).getClientRects()))),u+=f.length})}else i.push(new Dc(a,Xs.fromDOMRectList(t,o)))}else{var h=r.splitText(a.length);i.push(new Dc(a,GZ(t,r))),r=h}else $t.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));A+=a.length}),i},GZ=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=Gg(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return Xs.EMPTY},vT=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},rC=function(t){if($t.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return LZ(t)},WZ=function(t,e){if($t.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return XZ(t,e)},$Z=function(t,e){return e.letterSpacing!==0?rC(t):WZ(t,e)},qZ=[32,160,4961,65792,65793,4153,4241],XZ=function(t,e){for(var n=CX(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var A=s.value.slice(),a=Wg(A),o="";a.forEach(function(l){qZ.indexOf(l)===-1?o+=Ct(l):(o.length&&r.push(o),r.push(Ct(l)),o="")}),o.length&&r.push(o)}};!(s=n.next()).done;)i();return r},YZ=function(){function t(e,n,r){this.text=JZ(n.data,r.textTransform),this.textBounds=zZ(e,this.text,r,n)}return t}(),JZ=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(ZZ,eee);case 2:return t.toUpperCase();default:return t}},ZZ=/(^|\s|:|-|\(|\))([a-z])/g,eee=function(t,e,n){return t.length>0?e+n.toUpperCase():t},BR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(ds),xR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(ds),CR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,A=Gg(n,r);return r.setAttribute("width",A.width+"px"),r.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(ds),ER=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ds),nw=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(ds),tee=[{type:15,flags:0,unit:"px",number:3}],nee=[{type:16,flags:0,number:50}],ree=function(t){return t.width>t.height?new Xs(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Xs(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},see=function(t){var e=t.type===iee?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Qp="checkbox",Np="radio",iee="password",wT=707406591,sC=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=see(r),(s.type===Qp||s.type===Np)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=ree(s.bounds)),s.type){case Qp:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=tee;break;case Np:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=nee;break}return s}return e}(ds),_R=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(ds),bR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(ds),IR=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=FR(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?kc(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):ks.TRANSPARENT,A=r.contentWindow.document.body?kc(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):ks.TRANSPARENT;s.backgroundColor=Vi(i)?Vi(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(ds),Aee=["OL","UL","MENU"],Af=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,UR(s)&&s.data.trim().length>0)n.textNodes.push(new YZ(t,s,n.styles));else if(so(s))if(kR(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return Af(t,a,n,r)});else{var A=TR(t,s);A.styles.isVisible()&&(aee(s,A,r)?A.flags|=4:oee(A.styles)&&(A.flags|=2),Aee.indexOf(s.tagName)!==-1&&(A.flags|=8),n.elements.push(A),s.slot,s.shadowRoot?Af(t,s.shadowRoot,A,r):!kp(s)&&!SR(s)&&!Rp(s)&&Af(t,s,A,r))}},TR=function(t,e){return sw(e)?new BR(t,e):QR(e)?new xR(t,e):SR(e)?new CR(t,e):lee(e)?new ER(t,e):cee(e)?new nw(t,e):uee(e)?new sC(t,e):Rp(e)?new _R(t,e):kp(e)?new bR(t,e):NR(e)?new IR(t,e):new ds(t,e)},FR=function(t,e){var n=TR(t,e);return n.flags|=4,Af(t,e,n,n),n},aee=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||iC(t)&&n.styles.isTransparent()},oee=function(t){return t.isPositioned()||t.isFloating()},UR=function(t){return t.nodeType===Node.TEXT_NODE},so=function(t){return t.nodeType===Node.ELEMENT_NODE},rw=function(t){return so(t)&&typeof t.style<"u"&&!af(t)},af=function(t){return typeof t.className=="object"},lee=function(t){return t.tagName==="LI"},cee=function(t){return t.tagName==="OL"},uee=function(t){return t.tagName==="INPUT"},dee=function(t){return t.tagName==="HTML"},SR=function(t){return t.tagName==="svg"},iC=function(t){return t.tagName==="BODY"},QR=function(t){return t.tagName==="CANVAS"},BT=function(t){return t.tagName==="VIDEO"},sw=function(t){return t.tagName==="IMG"},NR=function(t){return t.tagName==="IFRAME"},xT=function(t){return t.tagName==="STYLE"},hee=function(t){return t.tagName==="SCRIPT"},kp=function(t){return t.tagName==="TEXTAREA"},Rp=function(t){return t.tagName==="SELECT"},kR=function(t){return t.tagName==="SLOT"},CT=function(t){return t.tagName.indexOf("-")>0},fee=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var o=n.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var A=[];return i&&s.forEach(function(a){var o=n.counters[a.counter];A.push(a.counter),o||(o=n.counters[a.counter]=[]),o.push(a.reset)}),A},t}(),ET={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_T={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gee={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ta=function(t,e,n,r,s,i){return t<e||t>n?Ru(t,s,i.length>0):r.integers.reduce(function(A,a,o){for(;t>=a;)t-=a,A+=r.values[o];return A},"")+i},RR=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},Bt=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(RR(Math.abs(t),i,r,function(A){return Ct(Math.floor(A%i)+e)})+s)},xA=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return RR(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},Ra=1,oi=2,li=4,lc=8,vs=function(t,e,n,r,s,i){if(t<-9999||t>9999)return Ru(t,4,s.length>0);var A=Math.abs(t),a=s;if(A===0)return e[0]+a;for(var o=0;A>0&&o<=4;o++){var l=A%10;l===0&&Dt(i,Ra)&&a!==""?a=e[l]+a:l>1||l===1&&o===0||l===1&&o===1&&Dt(i,oi)||l===1&&o===1&&Dt(i,li)&&t>100||l===1&&o>1&&Dt(i,lc)?a=e[l]+(o>0?n[o-1]:"")+a:l===1&&o>0&&(a=n[o-1]+a),A=Math.floor(A/10)}return(t<0?r:"")+a},bT="",IT="",TT="",M0="",Ru=function(t,e,n){var r=n?". ":"",s=n?"":"",i=n?", ":"",A=n?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var a=Bt(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return xA(t,"",s);case 6:return Ta(t,1,3999,ET,3,r).toLowerCase();case 7:return Ta(t,1,3999,ET,3,r);case 8:return Bt(t,945,969,!1,r);case 9:return Bt(t,97,122,!1,r);case 10:return Bt(t,65,90,!1,r);case 11:return Bt(t,1632,1641,!0,r);case 12:case 49:return Ta(t,1,9999,_T,3,r);case 35:return Ta(t,1,9999,_T,3,r).toLowerCase();case 13:return Bt(t,2534,2543,!0,r);case 14:case 30:return Bt(t,6112,6121,!0,r);case 15:return xA(t,"",s);case 16:return xA(t,"",s);case 17:case 48:return vs(t,"",bT,"",s,oi|li|lc);case 47:return vs(t,"",IT,"",s,Ra|oi|li|lc);case 42:return vs(t,"",bT,"",s,oi|li|lc);case 41:return vs(t,"",IT,"",s,Ra|oi|li|lc);case 26:return vs(t,"","",TT,s,0);case 25:return vs(t,"","",TT,s,Ra|oi|li);case 31:return vs(t,"","",M0,i,Ra|oi|li);case 33:return vs(t,"","",M0,i,0);case 32:return vs(t,"","",M0,i,Ra|oi|li);case 18:return Bt(t,2406,2415,!0,r);case 20:return Ta(t,1,19999,gee,3,r);case 21:return Bt(t,2790,2799,!0,r);case 22:return Bt(t,2662,2671,!0,r);case 22:return Ta(t,1,10999,pee,3,r);case 23:return xA(t,"");case 24:return xA(t,"");case 27:return Bt(t,3302,3311,!0,r);case 28:return xA(t,"",s);case 29:return xA(t,"",s);case 34:return Bt(t,3792,3801,!0,r);case 37:return Bt(t,6160,6169,!0,r);case 38:return Bt(t,4160,4169,!0,r);case 39:return Bt(t,2918,2927,!0,r);case 40:return Bt(t,1776,1785,!0,r);case 43:return Bt(t,3046,3055,!0,r);case 44:return Bt(t,3174,3183,!0,r);case 45:return Bt(t,3664,3673,!0,r);case 46:return Bt(t,3872,3881,!0,r);case 3:default:return Bt(t,48,57,!0,r)}},DR="data-html2canvas-ignore",FT=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new fee,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=mee(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,a=s.contentWindow,o=a.document,l=wee(s).then(function(){return Cn(r,void 0,void 0,function(){var u,h;return dn(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(Eee),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vee(o)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(o,h)}).then(function(){return s})]:[2,s]}})})});return o.open(),o.write(xee(document.doctype)+"<html></html>"),Cee(this.referenceElement.ownerDocument,i,A),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),l},t.prototype.createElementClone=function(e){if(ew(e,2))debugger;if(QR(e))return this.createCanvasClone(e);if(BT(e))return this.createVideoClone(e);if(xT(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return sw(n)&&(sw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),CT(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return O0(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var o=a.getContextAttributes();(o==null?void 0:o.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!so(n)||!hee(n)&&!n.hasAttribute(DR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!so(n)||!xT(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(so(i)&&kR(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(UR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&so(e)&&(rw(e)||af(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),A=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&rw(s)&&(this.clonedReferenceElement=s),iC(s)&&Iee(s);var o=this.counters.parse(new AT(this.context,i)),l=this.resolvePseudoContent(e,s,A,Pc.BEFORE);CT(e)&&(n=!0),BT(e)||this.cloneChildNodes(e,s,n),l&&s.insertBefore(l,s.firstChild);var u=this.resolvePseudoContent(e,s,a,Pc.AFTER);return u&&s.appendChild(u),this.counters.pop(o),(i&&(this.options.copyStyles||af(e))&&!NR(e)||n)&&O0(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(kp(e)||Rp(e))&&(kp(s)||Rp(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(r){var A=r.content,a=n.ownerDocument;if(!(!a||!A||A==="none"||A==="-moz-alt-content"||r.display==="none")){this.counters.parse(new AT(this.context,r));var o=new lZ(this.context,r),l=a.createElement("html2canvaspseudoelement");O0(r,l),o.content.forEach(function(h){if(h.type===0)l.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",l.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(qe);g.length&&l.appendChild(a.createTextNode(e.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var m=h.values.filter(zo),y=m[0],C=m[1];if(y&&qe(y)){var B=i.counters.getCounterValue(y.value),v=C&&qe(C)?Zv.parse(i.context,C.value):3;l.appendChild(a.createTextNode(Ru(B,v,!1)))}}else if(h.name==="counters"){var w=h.values.filter(zo),y=w[0],F=w[1],C=w[2];if(y&&qe(y)){var N=i.counters.getCounterValues(y.value),k=C&&qe(C)?Zv.parse(i.context,C.value):3,I=F&&F.type===0?F.value:"",E=N.map(function(Q){return Ru(Q,k,!1)}).join(I);l.appendChild(a.createTextNode(E))}}}else if(h.type===20)switch(h.value){case"open-quote":l.appendChild(a.createTextNode(iT(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(iT(o.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(h.value))}}),l.className=iw+" "+Aw;var u=s===Pc.BEFORE?" "+iw:" "+Aw;return af(n)?n.className.baseValue+=u:n.className+=u,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Pc;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Pc||(Pc={}));var mee=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(DR,"true"),t.body.appendChild(n),n},yee=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},vee=function(t){return Promise.all([].slice.call(t.images,0).map(yee))},wee=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},Bee=["all","d","content"],O0=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);Bee.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},xee=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Cee=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},Eee=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},_ee=":before",bee=":after",iw="___html2canvas___pseudoelement_before",Aw="___html2canvas___pseudoelement_after",UT=`{
    content: "" !important;
    display: none !important;
}`,Iee=function(t){Tee(t,"."+iw+_ee+UT+`
         .`+Aw+bee+UT)},Tee=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},PR=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Fee=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(V0(e)||Nee(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Cn(this,void 0,void 0,function(){var n,r,s,i,A=this;return dn(this,function(a){switch(a.label){case 0:return n=PR.isSameOrigin(e),r=!j0(e)&&this._options.useCORS===!0&&$t.SUPPORT_CORS_IMAGES&&!n,s=!j0(e)&&!n&&!V0(e)&&typeof this._options.proxy=="string"&&$t.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!j0(e)&&!V0(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,l){var u=new Image;u.onload=function(){return o(u)},u.onerror=l,(kee(i)||r)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return o(u)},500),A._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var a=$t.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return A(f)},!1),h.readAsDataURL(o.response)}else A("Failed to proxy resource "+s+" with status code "+o.status)},o.onerror=A;var l=r.indexOf("?")>-1?"&":"?";if(o.open("GET",""+r+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),n._options.imageTimeout){var u=n._options.imageTimeout;o.timeout=u,o.ontimeout=function(){return A("Timed out ("+u+"ms) proxying "+s)}}o.send()})},t}(),Uee=/^data:image\/svg\+xml/i,See=/^data:image\/.*;base64,/i,Qee=/^data:image\/.*/i,Nee=function(t){return $t.SUPPORT_SVG_DRAWING||!Ree(t)},j0=function(t){return Qee.test(t)},kee=function(t){return See.test(t)},V0=function(t){return t.substr(0,4)==="blob"},Ree=function(t){return t.substr(-3).toLowerCase()==="svg"||Uee.test(t)},se=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Fa=function(t,e,n){return new se(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},bh=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=Fa(this.start,this.startControl,e),s=Fa(this.startControl,this.endControl,e),i=Fa(this.endControl,this.end,e),A=Fa(r,s,e),a=Fa(s,i,e),o=Fa(A,a,e);return n?new t(this.start,r,A,o):new t(o,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),dr=function(t){return t.type===1},Dee=function(){function t(e){var n=e.styles,r=e.bounds,s=ac(n.borderTopLeftRadius,r.width,r.height),i=s[0],A=s[1],a=ac(n.borderTopRightRadius,r.width,r.height),o=a[0],l=a[1],u=ac(n.borderBottomRightRadius,r.width,r.height),h=u[0],f=u[1],g=ac(n.borderBottomLeftRadius,r.width,r.height),m=g[0],y=g[1],C=[];C.push((i+o)/r.width),C.push((m+h)/r.width),C.push((A+y)/r.height),C.push((l+f)/r.height);var B=Math.max.apply(Math,C);B>1&&(i/=B,A/=B,o/=B,l/=B,h/=B,f/=B,m/=B,y/=B);var v=r.width-o,w=r.height-f,F=r.width-h,N=r.height-y,k=n.borderTopWidth,I=n.borderRightWidth,E=n.borderBottomWidth,b=n.borderLeftWidth,_=Je(n.paddingTop,e.bounds.width),Q=Je(n.paddingRight,e.bounds.width),R=Je(n.paddingBottom,e.bounds.width),T=Je(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?at(r.left+b/3,r.top+k/3,i-b/3,A-k/3,He.TOP_LEFT):new se(r.left+b/3,r.top+k/3),this.topRightBorderDoubleOuterBox=i>0||A>0?at(r.left+v,r.top+k/3,o-I/3,l-k/3,He.TOP_RIGHT):new se(r.left+r.width-I/3,r.top+k/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?at(r.left+F,r.top+w,h-I/3,f-E/3,He.BOTTOM_RIGHT):new se(r.left+r.width-I/3,r.top+r.height-E/3),this.bottomLeftBorderDoubleOuterBox=m>0||y>0?at(r.left+b/3,r.top+N,m-b/3,y-E/3,He.BOTTOM_LEFT):new se(r.left+b/3,r.top+r.height-E/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?at(r.left+b*2/3,r.top+k*2/3,i-b*2/3,A-k*2/3,He.TOP_LEFT):new se(r.left+b*2/3,r.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?at(r.left+v,r.top+k*2/3,o-I*2/3,l-k*2/3,He.TOP_RIGHT):new se(r.left+r.width-I*2/3,r.top+k*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?at(r.left+F,r.top+w,h-I*2/3,f-E*2/3,He.BOTTOM_RIGHT):new se(r.left+r.width-I*2/3,r.top+r.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||y>0?at(r.left+b*2/3,r.top+N,m-b*2/3,y-E*2/3,He.BOTTOM_LEFT):new se(r.left+b*2/3,r.top+r.height-E*2/3),this.topLeftBorderStroke=i>0||A>0?at(r.left+b/2,r.top+k/2,i-b/2,A-k/2,He.TOP_LEFT):new se(r.left+b/2,r.top+k/2),this.topRightBorderStroke=i>0||A>0?at(r.left+v,r.top+k/2,o-I/2,l-k/2,He.TOP_RIGHT):new se(r.left+r.width-I/2,r.top+k/2),this.bottomRightBorderStroke=h>0||f>0?at(r.left+F,r.top+w,h-I/2,f-E/2,He.BOTTOM_RIGHT):new se(r.left+r.width-I/2,r.top+r.height-E/2),this.bottomLeftBorderStroke=m>0||y>0?at(r.left+b/2,r.top+N,m-b/2,y-E/2,He.BOTTOM_LEFT):new se(r.left+b/2,r.top+r.height-E/2),this.topLeftBorderBox=i>0||A>0?at(r.left,r.top,i,A,He.TOP_LEFT):new se(r.left,r.top),this.topRightBorderBox=o>0||l>0?at(r.left+v,r.top,o,l,He.TOP_RIGHT):new se(r.left+r.width,r.top),this.bottomRightBorderBox=h>0||f>0?at(r.left+F,r.top+w,h,f,He.BOTTOM_RIGHT):new se(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=m>0||y>0?at(r.left,r.top+N,m,y,He.BOTTOM_LEFT):new se(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||A>0?at(r.left+b,r.top+k,Math.max(0,i-b),Math.max(0,A-k),He.TOP_LEFT):new se(r.left+b,r.top+k),this.topRightPaddingBox=o>0||l>0?at(r.left+Math.min(v,r.width-I),r.top+k,v>r.width+I?0:Math.max(0,o-I),Math.max(0,l-k),He.TOP_RIGHT):new se(r.left+r.width-I,r.top+k),this.bottomRightPaddingBox=h>0||f>0?at(r.left+Math.min(F,r.width-b),r.top+Math.min(w,r.height-E),Math.max(0,h-I),Math.max(0,f-E),He.BOTTOM_RIGHT):new se(r.left+r.width-I,r.top+r.height-E),this.bottomLeftPaddingBox=m>0||y>0?at(r.left+b,r.top+Math.min(N,r.height-E),Math.max(0,m-b),Math.max(0,y-E),He.BOTTOM_LEFT):new se(r.left+b,r.top+r.height-E),this.topLeftContentBox=i>0||A>0?at(r.left+b+T,r.top+k+_,Math.max(0,i-(b+T)),Math.max(0,A-(k+_)),He.TOP_LEFT):new se(r.left+b+T,r.top+k+_),this.topRightContentBox=o>0||l>0?at(r.left+Math.min(v,r.width+b+T),r.top+k+_,v>r.width+b+T?0:o-b+T,l-(k+_),He.TOP_RIGHT):new se(r.left+r.width-(I+Q),r.top+k+_),this.bottomRightContentBox=h>0||f>0?at(r.left+Math.min(F,r.width-(b+T)),r.top+Math.min(w,r.height+k+_),Math.max(0,h-(I+Q)),f-(E+R),He.BOTTOM_RIGHT):new se(r.left+r.width-(I+Q),r.top+r.height-(E+R)),this.bottomLeftContentBox=m>0||y>0?at(r.left+b+T,r.top+N,Math.max(0,m-(b+T)),y-(E+R),He.BOTTOM_LEFT):new se(r.left+b+T,r.top+r.height-(E+R))}return t}(),He;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(He||(He={}));var at=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),A=n*i,a=r*i,o=t+n,l=e+r;switch(s){case He.TOP_LEFT:return new bh(new se(t,l),new se(t,l-a),new se(o-A,e),new se(o,e));case He.TOP_RIGHT:return new bh(new se(t,e),new se(t+A,e),new se(o,l-a),new se(o,l));case He.BOTTOM_RIGHT:return new bh(new se(o,e),new se(o,e+a),new se(t+A,l),new se(t,l));case He.BOTTOM_LEFT:default:return new bh(new se(o,l),new se(o-A,l),new se(t,e+a),new se(t,e))}},Dp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Pee=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Pp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Lee=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Ih=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),Mee=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Oee=function(t){return t.type===0},LR=function(t){return t.type===1},jee=function(t){return t.type===2},ST=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},Vee=function(t,e,n,r,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},MR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),OR=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new Dee(this.container),this.container.styles.opacity<1&&this.effects.push(new Mee(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Lee(r,s,i))}if(this.container.styles.overflowX!==0){var A=Dp(this.curves),a=Pp(this.curves);ST(A,a)?this.effects.push(new Ih(A,6)):(this.effects.push(new Ih(A,2)),this.effects.push(new Ih(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(o){return!LR(o)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var A=Dp(r.curves),a=Pp(r.curves);ST(A,a)||s.unshift(new Ih(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(o){return Dt(o.target,e)})},t}(),aw=function(t,e,n,r){t.container.elements.forEach(function(s){var i=Dt(s.flags,4),A=Dt(s.flags,2),a=new OR(s,t);Dt(s.styles.display,2048)&&r.push(a);var o=Dt(s.flags,8)?[]:r;if(i||A){var l=i||s.styles.isPositioned()?n:e,u=new MR(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var h=s.styles.zIndex.order;if(h<0){var f=0;l.negativeZIndex.some(function(m,y){return h>m.element.container.styles.zIndex.order?(f=y,!1):f>0}),l.negativeZIndex.splice(f,0,u)}else if(h>0){var g=0;l.positiveZIndex.some(function(m,y){return h>=m.element.container.styles.zIndex.order?(g=y+1,!1):g>0}),l.positiveZIndex.splice(g,0,u)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else s.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u);aw(a,u,i?u:n,o)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),aw(a,e,n,o);Dt(s.flags,8)&&jR(s,o)})},jR=function(t,e){for(var n=t instanceof nw?t.start:1,r=t instanceof nw?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof ER&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=Ru(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},Hee=function(t){var e=new OR(t,null),n=new MR(e),r=[];return aw(e,n,n,r),jR(e.container,r),n},QT=function(t,e){switch(e){case 0:return pr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return pr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return pr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return pr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Kee=function(t,e){switch(e){case 0:return pr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return pr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return pr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return pr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},zee=function(t,e){switch(e){case 0:return pr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return pr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return pr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return pr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Gee=function(t,e){switch(e){case 0:return Th(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Th(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Th(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Th(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Th=function(t,e){var n=[];return dr(t)?n.push(t.subdivide(.5,!1)):n.push(t),dr(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},pr=function(t,e,n,r){var s=[];return dr(t)?s.push(t.subdivide(.5,!1)):s.push(t),dr(n)?s.push(n.subdivide(.5,!0)):s.push(n),dr(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),dr(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},VR=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Lp=function(t){var e=t.styles,n=t.bounds,r=Je(e.paddingLeft,n.width),s=Je(e.paddingRight,n.width),i=Je(e.paddingTop,n.width),A=Je(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},Wee=function(t,e){return t===0?e.bounds:t===2?Lp(e):VR(e)},$ee=function(t,e){return t===0?e.bounds:t===2?Lp(e):VR(e)},H0=function(t,e,n){var r=Wee(Da(t.styles.backgroundOrigin,e),t),s=$ee(Da(t.styles.backgroundClip,e),t),i=qee(Da(t.styles.backgroundSize,e),n,r),A=i[0],a=i[1],o=ac(Da(t.styles.backgroundPosition,e),r.width-A,r.height-a),l=Xee(Da(t.styles.backgroundRepeat,e),o,i,r,s),u=Math.round(r.left+o[0]),h=Math.round(r.top+o[1]);return[l,u,h,A,a]},Ua=function(t){return qe(t)&&t.value===Bo.AUTO},Fh=function(t){return typeof t=="number"},qee=function(t,e,n){var r=e[0],s=e[1],i=e[2],A=t[0],a=t[1];if(!A)return[0,0];if(St(A)&&a&&St(a))return[Je(A,n.width),Je(a,n.height)];var o=Fh(i);if(qe(A)&&(A.value===Bo.CONTAIN||A.value===Bo.COVER)){if(Fh(i)){var l=n.width/n.height;return l<i!=(A.value===Bo.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var u=Fh(r),h=Fh(s),f=u||h;if(Ua(A)&&(!a||Ua(a))){if(u&&h)return[r,s];if(!o&&!f)return[n.width,n.height];if(f&&o){var g=u?r:s*i,m=h?s:r/i;return[g,m]}var y=u?r:n.width,C=h?s:n.height;return[y,C]}if(o){var B=0,v=0;return St(A)?B=Je(A,n.width):St(a)&&(v=Je(a,n.height)),Ua(A)?B=v*i:(!a||Ua(a))&&(v=B/i),[B,v]}var w=null,F=null;if(St(A)?w=Je(A,n.width):a&&St(a)&&(F=Je(a,n.height)),w!==null&&(!a||Ua(a))&&(F=u&&h?w/r*s:n.height),F!==null&&Ua(A)&&(w=u&&h?F/s*r:n.width),w!==null&&F!==null)return[w,F];throw new Error("Unable to calculate background-size for element")},Da=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},Xee=function(t,e,n,r,s){var i=e[0],A=e[1],a=n[0],o=n[1];switch(t){case 2:return[new se(Math.round(r.left),Math.round(r.top+A)),new se(Math.round(r.left+r.width),Math.round(r.top+A)),new se(Math.round(r.left+r.width),Math.round(o+r.top+A)),new se(Math.round(r.left),Math.round(o+r.top+A))];case 3:return[new se(Math.round(r.left+i),Math.round(r.top)),new se(Math.round(r.left+i+a),Math.round(r.top)),new se(Math.round(r.left+i+a),Math.round(r.height+r.top)),new se(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new se(Math.round(r.left+i),Math.round(r.top+A)),new se(Math.round(r.left+i+a),Math.round(r.top+A)),new se(Math.round(r.left+i+a),Math.round(r.top+A+o)),new se(Math.round(r.left+i),Math.round(r.top+A+o))];default:return[new se(Math.round(s.left),Math.round(s.top)),new se(Math.round(s.left+s.width),Math.round(s.top)),new se(Math.round(s.left+s.width),Math.round(s.height+s.top)),new se(Math.round(s.left),Math.round(s.height+s.top))]}},Yee="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",NT="Hidden Text",Jee=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",A.appendChild(r),s.src=Yee,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(NT)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(NT)),r.style.lineHeight="normal",s.style.verticalAlign="super";var o=s.offsetTop-r.offsetTop+2;return A.removeChild(r),{baseline:a,middle:o}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),HR=function(){function t(e,n){this.context=e,this.options=n}return t}(),Zee=1e4,ete=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new Jee(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),jee(n)&&(this.ctx.globalAlpha=n.opacity),Oee(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),LR(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Cn(this,void 0,void 0,function(){var r;return dn(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Cn(this,void 0,void 0,function(){return dn(this,function(r){switch(r.label){case 0:if(Dt(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var A=rC(n.text);A.reduce(function(a,o){return i.ctx.fillText(o,a,n.bounds.top+s),a+i.ctx.measureText(o).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=ite(n.fontFamily).join(", "),i=hd(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Cn(this,void 0,void 0,function(){var s,i,A,a,o,l,u,h,f=this;return dn(this,function(g){return s=this.createFontStyle(r),i=s[0],A=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(A,a),l=o.baseline,u=o.middle,h=r.paintOrder,n.textBounds.forEach(function(m){h.forEach(function(y){switch(y){case 0:f.ctx.fillStyle=Ot(r.color),f.renderTextWithLetterSpacing(m,r.letterSpacing,l);var C=r.textShadow;C.length&&m.text.trim().length&&(C.slice(0).reverse().forEach(function(B){f.ctx.shadowColor=Ot(B.color),f.ctx.shadowOffsetX=B.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=B.offsetY.number*f.options.scale,f.ctx.shadowBlur=B.blur.number,f.renderTextWithLetterSpacing(m,r.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=Ot(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(B){switch(B){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+u),m.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=Ot(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=Lp(n),A=Pp(r);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Cn(this,void 0,void 0,function(){var r,s,i,A,a,o,v,v,l,u,h,f,F,g,m,N,y,C,B,v,w,F,N;return dn(this,function(k){switch(k.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,A=0,a=r.textNodes,k.label=1;case 1:return A<a.length?(o=a[A],[4,this.renderTextNode(o,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return A++,[3,1];case 4:if(!(r instanceof BR))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=k.sent(),this.renderReplacedElement(r,s,v),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof xR&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof CR))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=k.sent(),this.renderReplacedElement(r,s,v),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof IR&&r.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:u=k.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),k.label=14;case 14:if(r instanceof sC&&(h=Math.min(r.bounds.width,r.bounds.height),r.type===Qp?r.checked&&(this.ctx.save(),this.path([new se(r.bounds.left+h*.39363,r.bounds.top+h*.79),new se(r.bounds.left+h*.16,r.bounds.top+h*.5549),new se(r.bounds.left+h*.27347,r.bounds.top+h*.44071),new se(r.bounds.left+h*.39694,r.bounds.top+h*.5649),new se(r.bounds.left+h*.72983,r.bounds.top+h*.23),new se(r.bounds.left+h*.84,r.bounds.top+h*.34085),new se(r.bounds.left+h*.39363,r.bounds.top+h*.79)]),this.ctx.fillStyle=Ot(wT),this.ctx.fill(),this.ctx.restore()):r.type===Np&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+h/2,r.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ot(wT),this.ctx.fill(),this.ctx.restore())),tte(r)&&r.value.length){switch(f=this.createFontStyle(i),F=f[0],g=f[1],m=this.fontMetrics.getMetrics(F,g).baseline,this.ctx.font=F,this.ctx.fillStyle=Ot(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=rte(r.styles.textAlign),N=Lp(r),y=0,r.styles.textAlign){case 1:y+=N.width/2;break;case 2:y+=N.width;break}C=N.add(y,0,0,-N.height/2+1),this.ctx.save(),this.path([new se(N.left,N.top),new se(N.left+N.width,N.top),new se(N.left+N.width,N.top+N.height),new se(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Dc(r.value,C),i.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Dt(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(B=r.styles.listStyleImage,B.type!==0)return[3,18];v=void 0,w=B.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return v=k.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(F=this.createFontStyle(i)[0],this.ctx.font=F,this.ctx.fillStyle=Ot(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new Xs(r.bounds.left,r.bounds.top+Je(r.styles.paddingTop,r.bounds.width),r.bounds.width,rT(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Dc(n.listValue,N),i.letterSpacing,rT(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Cn(this,void 0,void 0,function(){var r,s,B,i,A,B,a,o,B,l,u,B,h,f,B,g,m,B,y,C,B;return dn(this,function(v){switch(v.label){case 0:if(Dt(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,s=n.negativeZIndex,v.label=2;case 2:return r<s.length?(B=s[r],[4,this.renderStack(B)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),i=0,A=n.nonInlineLevel,v.label=7;case 7:return i<A.length?(B=A[i],[4,this.renderNode(B)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:a=0,o=n.nonPositionedFloats,v.label=11;case 11:return a<o.length?(B=o[a],[4,this.renderStack(B)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:l=0,u=n.nonPositionedInlineLevel,v.label=15;case 15:return l<u.length?(B=u[l],[4,this.renderStack(B)]):[3,18];case 16:v.sent(),v.label=17;case 17:return l++,[3,15];case 18:h=0,f=n.inlineLevel,v.label=19;case 19:return h<f.length?(B=f[h],[4,this.renderNode(B)]):[3,22];case 20:v.sent(),v.label=21;case 21:return h++,[3,19];case 22:g=0,m=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return g<m.length?(B=m[g],[4,this.renderStack(B)]):[3,26];case 24:v.sent(),v.label=25;case 25:return g++,[3,23];case 26:y=0,C=n.positiveZIndex,v.label=27;case 27:return y<C.length?(B=C[y],[4,this.renderStack(B)]):[3,30];case 28:v.sent(),v.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var A=dr(s)?s.start:s;i===0?r.ctx.moveTo(A.x,A.y):r.ctx.lineTo(A.x,A.y),dr(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=A.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var o=a.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return Cn(this,void 0,void 0,function(){var r,s,i,A,a,o;return dn(this,function(l){switch(l.label){case 0:r=n.styles.backgroundImage.length-1,s=function(u){var h,f,g,_,V,X,T,Y,E,m,_,V,X,T,Y,y,C,B,v,w,F,N,k,I,E,b,_,Q,R,T,Y,ie,V,X,P,K,z,ge,we,Te,Ke,tt;return dn(this,function(At){switch(At.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,At.label=1;case 1:return At.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=At.sent(),[3,4];case 3:return At.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(g=H0(n,r,[h.width,h.height,h.width/h.height]),_=g[0],V=g[1],X=g[2],T=g[3],Y=g[4],E=i.ctx.createPattern(i.resizeImage(h,T,Y),"repeat"),i.renderRepeat(_,E,V,X)),[3,6];case 5:OY(u)?(m=H0(n,r,[null,null,null]),_=m[0],V=m[1],X=m[2],T=m[3],Y=m[4],y=RY(u.angle,T,Y),C=y[0],B=y[1],v=y[2],w=y[3],F=y[4],N=document.createElement("canvas"),N.width=T,N.height=Y,k=N.getContext("2d"),I=k.createLinearGradient(B,w,v,F),tT(u.stops,C).forEach(function(gt){return I.addColorStop(gt.stop,Ot(gt.color))}),k.fillStyle=I,k.fillRect(0,0,T,Y),T>0&&Y>0&&(E=i.ctx.createPattern(N,"repeat"),i.renderRepeat(_,E,V,X))):jY(u)&&(b=H0(n,r,[null,null,null]),_=b[0],Q=b[1],R=b[2],T=b[3],Y=b[4],ie=u.position.length===0?[eC]:u.position,V=Je(ie[0],T),X=Je(ie[ie.length-1],Y),P=DY(u,V,X,T,Y),K=P[0],z=P[1],K>0&&z>0&&(ge=i.ctx.createRadialGradient(Q+V,R+X,0,Q+V,R+X,K),tT(u.stops,K*2).forEach(function(gt){return ge.addColorStop(gt.stop,Ot(gt.color))}),i.path(_),i.ctx.fillStyle=ge,K!==z?(we=n.bounds.left+.5*n.bounds.width,Te=n.bounds.top+.5*n.bounds.height,Ke=z/K,tt=1/Ke,i.ctx.save(),i.ctx.translate(we,Te),i.ctx.transform(1,0,0,Ke,0,0),i.ctx.translate(-we,-Te),i.ctx.fillRect(Q,tt*(R-Te)+Te,T,Y*tt),i.ctx.restore()):i.ctx.fill())),At.label=6;case 6:return r--,[2]}})},i=this,A=0,a=n.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return A<a.length?(o=a[A],[5,s(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Cn(this,void 0,void 0,function(){return dn(this,function(i){return this.path(QT(s,r)),this.ctx.fillStyle=Ot(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Cn(this,void 0,void 0,function(){var A,a;return dn(this,function(o){switch(o.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return o.sent(),[2];case 2:return A=Kee(i,s),this.path(A),this.ctx.fillStyle=Ot(n),this.ctx.fill(),a=zee(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Cn(this,void 0,void 0,function(){var r,s,i,A,a,o,l,u,h=this;return dn(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Vi(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],A=nte(Da(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),Vi(r.backgroundColor)||(this.ctx.fillStyle=Ot(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var m=Dp(n.curves),y=g.inset?0:Zee,C=Vee(m,-y+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(m),h.ctx.clip(),h.mask(C)):(h.mask(m),h.ctx.clip(),h.path(C)),h.ctx.shadowOffsetX=g.offsetX.number+y,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=Ot(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?Ot(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,o=0,l=i,f.label=3;case 3:return o<l.length?(u=l[o],u.style!==0&&!Vi(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,a,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,a,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,a,n.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,A){return Cn(this,void 0,void 0,function(){var a,o,l,u,h,f,g,m,y,C,B,v,w,F,N,k,N,k;return dn(this,function(I){return this.ctx.save(),a=Gee(i,s),o=QT(i,s),A===2&&(this.path(o),this.ctx.clip()),dr(o[0])?(l=o[0].start.x,u=o[0].start.y):(l=o[0].x,u=o[0].y),dr(o[1])?(h=o[1].end.x,f=o[1].end.y):(h=o[1].x,f=o[1].y),s===0||s===2?g=Math.abs(l-h):g=Math.abs(u-f),this.ctx.beginPath(),A===3?this.formatPath(a):this.formatPath(o.slice(0,2)),m=r<3?r*3:r*2,y=r<3?r*2:r,A===3&&(m=r,y=r),C=!0,g<=m*2?C=!1:g<=m*2+y?(B=g/(2*m+y),m*=B,y*=B):(v=Math.floor((g+y)/(m+y)),w=(g-v*m)/(v-1),F=(g-(v+1)*m)/v,y=F<=0||Math.abs(y-w)<Math.abs(y-F)?w:F),C&&(A===3?this.ctx.setLineDash([0,m+y]):this.ctx.setLineDash([m,y])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ot(n),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(dr(o[0])&&(N=o[3],k=o[0],this.ctx.beginPath(),this.formatPath([new se(N.end.x,N.end.y),new se(k.start.x,k.start.y)]),this.ctx.stroke()),dr(o[1])&&(N=o[1],k=o[2],this.ctx.beginPath(),this.formatPath([new se(N.end.x,N.end.y),new se(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Cn(this,void 0,void 0,function(){var r;return dn(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ot(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Hee(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(HR),tte=function(t){return t instanceof bR||t instanceof _R?!0:t instanceof sC&&t.type!==Np&&t.type!==Qp},nte=function(t,e){switch(t){case 0:return Dp(e);case 2:return Pee(e);case 1:default:return Pp(e)}},rte=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ste=["-apple-system","system-ui"],ite=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return ste.indexOf(e)===-1}):t},Ate=function(t){Mr(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Cn(this,void 0,void 0,function(){var r,s;return dn(this,function(i){switch(i.label){case 0:return r=tw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,ate(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ot(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(HR),ate=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ote=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ah([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ah([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),lte=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new ote({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new Fee(this,e)}return t.instanceCount=1,t}(),cte=function(t,e){return e===void 0&&(e={}),ute(t,e)};typeof window<"u"&&PR.setContext(window);var ute=function(t,e){return Cn(void 0,void 0,void 0,function(){var n,r,s,i,A,a,o,l,u,h,f,g,m,y,C,B,v,w,F,N,I,k,I,E,b,_,Q,R,T,Y,ie,V,X,P,K,z,ge,we,Te,Ke;return dn(this,function(tt){switch(tt.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(b=e.imageTimeout)!==null&&b!==void 0?b:15e3,proxy:e.proxy,useCORS:(_=e.useCORS)!==null&&_!==void 0?_:!1},i=Ov({logging:(Q=e.logging)!==null&&Q!==void 0?Q:!0,cache:e.cache},s),A={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:r.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:r.innerHeight,scrollX:(Y=e.scrollX)!==null&&Y!==void 0?Y:r.pageXOffset,scrollY:(ie=e.scrollY)!==null&&ie!==void 0?ie:r.pageYOffset},a=new Xs(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),o=new lte(i,a),l=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,u={allowTaint:(X=e.allowTaint)!==null&&X!==void 0?X:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new FT(o,t,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=tt.sent(),m=iC(f)||dee(f)?Vq(f.ownerDocument):Gg(o,f),y=m.width,C=m.height,B=m.left,v=m.top,w=dte(o,f,e.backgroundColor),F={canvas:e.canvas,backgroundColor:w,scale:(K=(P=e.scale)!==null&&P!==void 0?P:r.devicePixelRatio)!==null&&K!==void 0?K:1,x:((z=e.x)!==null&&z!==void 0?z:0)+B,y:((ge=e.y)!==null&&ge!==void 0?ge:0)+v,width:(we=e.width)!==null&&we!==void 0?we:Math.ceil(y),height:(Te=e.height)!==null&&Te!==void 0?Te:Math.ceil(C)},l?(o.logger.debug("Document cloned, using foreign object rendering"),I=new Ate(o,F),[4,I.render(f)]):[3,3];case 2:return N=tt.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+B+","+v+" with size "+y+"x"+C+" using computed rendering"),o.logger.debug("Starting DOM parsing"),k=FR(o,f),w===k.styles.backgroundColor&&(k.styles.backgroundColor=ks.TRANSPARENT),o.logger.debug("Starting renderer for element at "+F.x+","+F.y+" with size "+F.width+"x"+F.height),I=new ete(o,F),[4,I.render(k)];case 4:N=tt.sent(),tt.label=5;case 5:return(!((Ke=e.removeContainer)!==null&&Ke!==void 0)||Ke)&&(FT.destroy(g)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,N]}})})},dte=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?kc(t,getComputedStyle(r.documentElement).backgroundColor):ks.TRANSPARENT,i=r.body?kc(t,getComputedStyle(r.body).backgroundColor):ks.TRANSPARENT,A=typeof n=="string"?kc(t,n):n===null?ks.TRANSPARENT:4294967295;return e===r.documentElement?Vi(s)?Vi(i)?A:i:s:A},hte=Object.defineProperty,Mp=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,zR=Object.prototype.propertyIsEnumerable,kT=(t,e,n)=>e in t?hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fte=(t,e)=>{for(var n in e||(e={}))KR.call(e,n)&&kT(t,n,e[n]);if(Mp)for(var n of Mp(e))zR.call(e,n)&&kT(t,n,e[n]);return t},pte=(t,e)=>{var n={};for(var r in t)KR.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Mp)for(var r of Mp(t))e.indexOf(r)<0&&zR.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ia;(t=>{const e=class{constructor(o,l,u,h){if(this.version=o,this.errorCorrectionLevel=l,this.modules=[],this.isFunction=[],o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let f=[];for(let m=0;m<this.size;m++)f.push(!1);for(let m=0;m<this.size;m++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(u);if(this.drawCodewords(g),h==-1){let m=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const C=this.getPenaltyScore();C<m&&(h=y,m=C),this.applyMask(y)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(o,l){const u=t.QrSegment.makeSegments(o);return e.encodeSegments(u,l)}static encodeBinary(o,l){const u=t.QrSegment.makeBytes(o);return e.encodeSegments([u],l)}static encodeSegments(o,l,u=1,h=40,f=-1,g=!0){if(!(e.MIN_VERSION<=u&&u<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let m,y;for(m=u;;m++){const w=e.getNumDataCodewords(m,l)*8,F=a.getTotalBits(o,m);if(F<=w){y=F;break}if(m>=h)throw new RangeError("Data too long")}for(const w of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])g&&y<=e.getNumDataCodewords(m,w)*8&&(l=w);let C=[];for(const w of o){r(w.mode.modeBits,4,C),r(w.numChars,w.mode.numCharCountBits(m),C);for(const F of w.getData())C.push(F)}i(C.length==y);const B=e.getNumDataCodewords(m,l)*8;i(C.length<=B),r(0,Math.min(4,B-C.length),C),r(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let w=236;C.length<B;w^=253)r(w,8,C);let v=[];for(;v.length*8<C.length;)v.push(0);return C.forEach((w,F)=>v[F>>>3]|=w<<7-(F&7)),new e(m,l,v,f)}getModule(o,l){return 0<=o&&o<this.size&&0<=l&&l<this.size&&this.modules[l][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),l=o.length;for(let u=0;u<l;u++)for(let h=0;h<l;h++)u==0&&h==0||u==0&&h==l-1||u==l-1&&h==0||this.drawAlignmentPattern(o[u],o[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const l=this.errorCorrectionLevel.formatBits<<3|o;let u=l;for(let f=0;f<10;f++)u=u<<1^(u>>>9)*1335;const h=(l<<10|u)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,s(h,f));this.setFunctionModule(8,7,s(h,6)),this.setFunctionModule(8,8,s(h,7)),this.setFunctionModule(7,8,s(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,s(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,s(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,s(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let u=0;u<12;u++)o=o<<1^(o>>>11)*7973;const l=this.version<<12|o;i(l>>>18==0);for(let u=0;u<18;u++){const h=s(l,u),f=this.size-11+u%3,g=Math.floor(u/3);this.setFunctionModule(f,g,h),this.setFunctionModule(g,f,h)}}drawFinderPattern(o,l){for(let u=-4;u<=4;u++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(u)),g=o+h,m=l+u;0<=g&&g<this.size&&0<=m&&m<this.size&&this.setFunctionModule(g,m,f!=2&&f!=4)}}drawAlignmentPattern(o,l){for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)this.setFunctionModule(o+h,l+u,Math.max(Math.abs(h),Math.abs(u))!=1)}setFunctionModule(o,l,u){this.modules[l][o]=u,this.isFunction[l][o]=!0}addEccAndInterleave(o){const l=this.version,u=this.errorCorrectionLevel;if(o.length!=e.getNumDataCodewords(l,u))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l],f=e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l],g=Math.floor(e.getNumRawDataModules(l)/8),m=h-g%h,y=Math.floor(g/h);let C=[];const B=e.reedSolomonComputeDivisor(f);for(let w=0,F=0;w<h;w++){let N=o.slice(F,F+y-f+(w<m?0:1));F+=N.length;const k=e.reedSolomonComputeRemainder(N,B);w<m&&N.push(0),C.push(N.concat(k))}let v=[];for(let w=0;w<C[0].length;w++)C.forEach((F,N)=>{(w!=y-f||N>=m)&&v.push(F[w])});return i(v.length==g),v}drawCodewords(o){if(o.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let l=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const g=u-f,y=(u+1&2)==0?this.size-1-h:h;!this.isFunction[y][g]&&l<o.length*8&&(this.modules[y][g]=s(o[l>>>3],7-(l&7)),l++)}}i(l==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let l=0;l<this.size;l++)for(let u=0;u<this.size;u++){let h;switch(o){case 0:h=(u+l)%2==0;break;case 1:h=l%2==0;break;case 2:h=u%3==0;break;case 3:h=(u+l)%3==0;break;case 4:h=(Math.floor(u/3)+Math.floor(l/2))%2==0;break;case 5:h=u*l%2+u*l%3==0;break;case 6:h=(u*l%2+u*l%3)%2==0;break;case 7:h=((u+l)%2+u*l%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[l][u]&&h&&(this.modules[l][u]=!this.modules[l][u])}}getPenaltyScore(){let o=0;for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[f][C]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[f][C],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,m=0,y=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][f]==g?(m++,m==5?o+=e.PENALTY_N1:m>5&&o++):(this.finderPenaltyAddHistory(m,y),g||(o+=this.finderPenaltyCountPatterns(y)*e.PENALTY_N3),g=this.modules[C][f],m=1);o+=this.finderPenaltyTerminateAndCount(g,m,y)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const m=this.modules[f][g];m==this.modules[f][g+1]&&m==this.modules[f+1][g]&&m==this.modules[f+1][g+1]&&(o+=e.PENALTY_N2)}let l=0;for(const f of this.modules)l=f.reduce((g,m)=>g+(m?1:0),l);const u=this.size*this.size,h=Math.ceil(Math.abs(l*20-u*10)/u)-1;return i(0<=h&&h<=9),o+=h*e.PENALTY_N4,i(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,l=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let u=[6];for(let h=this.size-7;u.length<o;h-=l)u.splice(1,0,h);return u}}static getNumRawDataModules(o){if(o<e.MIN_VERSION||o>e.MAX_VERSION)throw new RangeError("Version number out of range");let l=(16*o+128)*o+64;if(o>=2){const u=Math.floor(o/7)+2;l-=(25*u-10)*u-55,o>=7&&(l-=36)}return i(208<=l&&l<=29648),l}static getNumDataCodewords(o,l){return Math.floor(e.getNumRawDataModules(o)/8)-e.ECC_CODEWORDS_PER_BLOCK[l.ordinal][o]*e.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let l=[];for(let h=0;h<o-1;h++)l.push(0);l.push(1);let u=1;for(let h=0;h<o;h++){for(let f=0;f<l.length;f++)l[f]=e.reedSolomonMultiply(l[f],u),f+1<l.length&&(l[f]^=l[f+1]);u=e.reedSolomonMultiply(u,2)}return l}static reedSolomonComputeRemainder(o,l){let u=l.map(h=>0);for(const h of o){const f=h^u.shift();u.push(0),l.forEach((g,m)=>u[m]^=e.reedSolomonMultiply(g,f))}return u}static reedSolomonMultiply(o,l){if(o>>>8||l>>>8)throw new RangeError("Byte out of range");let u=0;for(let h=7;h>=0;h--)u=u<<1^(u>>>7)*285,u^=(l>>>h&1)*o;return i(u>>>8==0),u}finderPenaltyCountPatterns(o){const l=o[1];i(l<=this.size*3);const u=l>0&&o[2]==l&&o[3]==l*3&&o[4]==l&&o[5]==l;return(u&&o[0]>=l*4&&o[6]>=l?1:0)+(u&&o[6]>=l*4&&o[0]>=l?1:0)}finderPenaltyTerminateAndCount(o,l,u){return o&&(this.finderPenaltyAddHistory(l,u),l=0),l+=this.size,this.finderPenaltyAddHistory(l,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(o,l){l[0]==0&&(o+=this.size),l.pop(),l.unshift(o)}};let n=e;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=n;function r(o,l,u){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let h=l-1;h>=0;h--)u.push(o>>>h&1)}function s(o,l){return(o>>>l&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const A=class{constructor(o,l,u){if(this.mode=o,this.numChars=l,this.bitData=u,l<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(o){let l=[];for(const u of o)r(u,8,l);return new A(A.Mode.BYTE,o.length,l)}static makeNumeric(o){if(!A.isNumeric(o))throw new RangeError("String contains non-numeric characters");let l=[];for(let u=0;u<o.length;){const h=Math.min(o.length-u,3);r(parseInt(o.substr(u,h),10),h*3+1,l),u+=h}return new A(A.Mode.NUMERIC,o.length,l)}static makeAlphanumeric(o){if(!A.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let l=[],u;for(u=0;u+2<=o.length;u+=2){let h=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;h+=A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),r(h,11,l)}return u<o.length&&r(A.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,l),new A(A.Mode.ALPHANUMERIC,o.length,l)}static makeSegments(o){return o==""?[]:A.isNumeric(o)?[A.makeNumeric(o)]:A.isAlphanumeric(o)?[A.makeAlphanumeric(o)]:[A.makeBytes(A.toUtf8ByteArray(o))]}static makeEci(o){let l=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)r(o,8,l);else if(o<16384)r(2,2,l),r(o,14,l);else if(o<1e6)r(6,3,l),r(o,21,l);else throw new RangeError("ECI assignment value out of range");return new A(A.Mode.ECI,0,l)}static isNumeric(o){return A.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return A.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,l){let u=0;for(const h of o){const f=h.mode.numCharCountBits(l);if(h.numChars>=1<<f)return 1/0;u+=4+f+h.bitData.length}return u}static toUtf8ByteArray(o){o=encodeURI(o);let l=[];for(let u=0;u<o.length;u++)o.charAt(u)!="%"?l.push(o.charCodeAt(u)):(l.push(parseInt(o.substr(u+1,2),16)),u+=2);return l}};let a=A;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=a})(ia||(ia={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(ia||(ia={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(ia||(ia={}));var cc=ia;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var gte={L:cc.QrCode.Ecc.LOW,M:cc.QrCode.Ecc.MEDIUM,Q:cc.QrCode.Ecc.QUARTILE,H:cc.QrCode.Ecc.HIGH},mte=128,yte="L",vte="#FFFFFF",wte="#000000",Bte=!1,GR=4,xte=.1;function Cte(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(A,a){if(!A&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!A)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}A&&i===null&&(i=a)})}),n.join("")}function Ete(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function _te(t,e,n,r){if(r==null)return null;const s=n?GR:0,i=t.length+s*2,A=Math.floor(e*xte),a=i/e,o=(r.width||A)*a,l=(r.height||A)*a,u=r.x==null?t.length/2-o/2:r.x*a,h=r.y==null?t.length/2-l/2:r.y*a;let f=null;if(r.excavate){let g=Math.floor(u),m=Math.floor(h),y=Math.ceil(o+u-g),C=Math.ceil(l+h-m);f={x:g,y:m,w:y,h:C}}return{x:u,y:h,h:l,w:o,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function bte(t){const e=t,{value:n,size:r=mte,level:s=yte,bgColor:i=vte,fgColor:A=wte,includeMargin:a=Bte,imageSettings:o}=e,l=pte(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=cc.QrCode.encodeText(n,gte[s]).getModules();const h=a?GR:0,f=u.length+h*2,g=_te(u,r,a,o);let m=null;o!=null&&g!=null&&(g.excavation!=null&&(u=Ete(u,g.excavation)),m=pe.createElement("image",{xlinkHref:o.src,height:g.h,width:g.w,x:g.x+h,y:g.y+h,preserveAspectRatio:"none"}));const y=Cte(u,h);return pe.createElement("svg",fte({height:r,width:r,viewBox:`0 0 ${f} ${f}`},l),pe.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),pe.createElement("path",{fill:A,d:y,shapeRendering:"crispEdges"}),m)}const Ite=({bookingData:t,settings:e,selectedDate:n,selectedTime:r,onDownload:s})=>{var a;const i=(a=e.serviceTypes.find(o=>o.id===t.service))==null?void 0:a.name,A=Cp(n)?$e(n,"dd/MM/yyyy"):"";return A?c.jsxs("div",{className:"max-w-md mx-auto",children:[c.jsxs("div",{id:"ticket",className:"relative bg-[#f8f4e9] aspect-[9/16] rounded-2xl overflow-hidden shadow-2xl",children:[c.jsxs("div",{className:"bg-gradient-to-b from-[--theater-red] to-red-700 text-white p-6 text-center",children:[c.jsx(Ss,{className:"w-12 h-12 mx-auto mb-2"}),c.jsx("h1",{className:"text-2xl font-bold mb-1",children:e.eventName}),c.jsx("p",{className:"text-sm opacity-80",children:e.company.name})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-inner",children:[c.jsx(bte,{value:t.ticketNumber,size:150,bgColor:"#ffffff",fgColor:"#D22B2B",level:"H",includeMargin:!1}),c.jsx("div",{className:"mt-2 text-center font-mono text-sm text-[--theater-red]",children:t.ticketNumber})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Fn,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Data"}),c.jsx("div",{className:"font-semibold",children:A})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Gs,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Orario"}),c.jsx("div",{className:"font-semibold",children:r})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(Ss,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Servizio"}),c.jsx("div",{className:"font-semibold",children:i})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx(ua,{className:"w-5 h-5 text-[--theater-red]"}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Cliente"}),c.jsxs("div",{className:"font-semibold truncate",children:[t.firstName," ",t.lastName]}),c.jsx("div",{className:"text-sm text-gray-500 truncate",children:t.email})]})]})]}),c.jsxs("div",{className:"text-center text-sm text-gray-600 mt-auto",children:[c.jsx(f6,{className:"w-4 h-4 mx-auto mb-1"}),c.jsx("p",{children:e.company.address})]})]}),c.jsx("div",{className:"absolute top-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute top-0 right-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute bottom-0 left-4 w-2 h-2 bg-gray-800 rounded-full"}),c.jsx("div",{className:"absolute bottom-0 right-4 w-2 h-2 bg-gray-800 rounded-full"})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 print:hidden",children:[t.calendarLinks&&c.jsxs(c.Fragment,{children:[c.jsxs("a",{href:t.calendarLinks.google,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[c.jsx(z1,{className:"w-4 h-4"}),"Google Calendar"]}),c.jsxs("a",{href:t.calendarLinks.ical,download:"prenotazione.ics",className:"flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-red] text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[c.jsx(z1,{className:"w-4 h-4"}),"iCal/Outlook"]})]}),c.jsxs("button",{onClick:s,className:"col-span-2 flex items-center justify-center gap-2 px-4 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(Ic,{className:"w-4 h-4"}),"Scarica Biglietto"]})]})]}):(console.error("Invalid date provided to TicketCard"),null)},Tte=({type:t,ticketNumber:e,onComplete:n})=>{const r={classic:{stamp:{initial:{scale:2,opacity:0,rotate:-45},animate:{scale:1,opacity:1,rotate:0},transition:{type:"spring",damping:12}},text:{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}}},modern:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},stamp:{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:20}},circle:{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1,ease:"easeInOut"}}},vintage:{container:{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},stamp:{initial:{scale:1.5,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:15}}}};return pe.useEffect(()=>{const s=setTimeout(n,2e3);return()=>clearTimeout(s)},[n]),t==="classic"?c.jsx($.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsx($.div,{...r.classic.stamp,className:"bg-red-600 text-white p-8 rounded-lg shadow-xl transform",children:c.jsxs($.div,{...r.classic.text,children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Prenotazione Confermata!"}),c.jsxs("p",{className:"text-lg",children:["Ticket #",e]})]})})}):t==="modern"?c.jsx($.div,{...r.modern.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:c.jsxs($.div,{...r.modern.stamp,className:"bg-gradient-to-br from-blue-500 to-purple-600 p-8 rounded-xl shadow-2xl text-white",children:[c.jsxs("svg",{className:"w-24 h-24 mx-auto mb-4",viewBox:"0 0 100 100",children:[c.jsx($.circle,{...r.modern.circle,cx:"50",cy:"50",r:"45",stroke:"white",strokeWidth:"2",fill:"none"}),c.jsx($.path,{...r.modern.circle,d:"M 30 50 L 45 65 L 70 35",stroke:"white",strokeWidth:"3",fill:"none"})]}),c.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Confermato"}),c.jsxs("p",{className:"text-center opacity-90",children:["#",e]})]})}):c.jsx($.div,{...r.vintage.container,className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center",children:c.jsx($.div,{...r.vintage.stamp,className:"bg-[#f8e5b9] p-8 rounded-lg border-4 border-[#8b4513] shadow-xl transform",style:{backgroundImage:'url("data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Cpath d="M0 0h20L0 20z"/%3E%3C/g%3E%3C/svg%3E")'},children:c.jsxs("div",{className:"text-[#8b4513] text-center",children:[c.jsx("h2",{className:"text-3xl font-serif mb-2",children:"APPROVATO"}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),c.jsx("p",{className:"font-mono",children:e}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-2"}),c.jsx("p",{className:"text-sm font-serif",children:"Carnevale Cinematografico"})]})})})},Fte=t=>kn.object({firstName:kn.string().min(2,"Nome richiesto"),lastName:kn.string().min(2,"Cognome richiesto"),email:kn.string().email("Email non valida"),phone:kn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service:kn.enum(t,{required_error:"Seleziona un tipo di servizio"}),notes:kn.string().optional()}),Ute=({existingBookings:t=[]})=>{const{settings:e,loading:n}=pA(),[r,s]=S.useState(null),[i,A]=S.useState(""),[a,o]=S.useState(!1),[l,u]=S.useState(""),[h,f]=S.useState(null),[g,m]=S.useState(null),[y,C]=S.useState(!1),[B,v]=S.useState(!1),[w,F]=S.useState(null),[N,k]=S.useState(""),I=(e==null?void 0:e.serviceTypes.filter(P=>P.enabled).map(P=>P.id))||[],E=Fte(I),{register:b,handleSubmit:_,formState:{errors:Q},reset:R,setValue:T}=vk({resolver:Bk(E)});S.useEffect(()=>{if(e!=null&&e.serviceTypes&&!l){const P=e.serviceTypes.filter(K=>K.enabled);if(P.length>0){const K=P[0];u(K.id),T("service",K.id)}}},[e==null?void 0:e.serviceTypes,l,T]);const Y=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,ie=(P,K)=>{const z=new Date(Date.UTC(P.getFullYear(),P.getMonth(),P.getDate()));s(z),A(K)},V=async P=>new Promise(K=>{var we;const z=document.createElement("div");document.body.appendChild(z);const ge=rB(z);ge.render(c.jsx(Tte,{type:((we=e==null?void 0:e.ticketTemplate)==null?void 0:we.type)||"classic",ticketNumber:P,onComplete:()=>{ge.unmount(),document.body.removeChild(z),K()}}))}),X=async P=>{var K,z;if(!r||!i||!e){m("Seleziona data e ora per la prenotazione");return}if(!oq(P.phone)){m("Inserisci un numero di telefono italiano valido (9-10 cifre)");return}C(!0),m(null);try{const ge=Aq(P.phone),we=r.toISOString().split("T")[0],Te=Y(),Ke=new Date(`${we}T${i}`),tt=new Date(Ke.getTime()+e.bookingIntervals*6e4),At=((K=e.serviceTypes.find(hs=>hs.id===P.service))==null?void 0:K.name)||"Servizio Fotografico",gt=iq(e.eventName,`${At}
Prenotazione: ${Te}
Nome: ${P.firstName} ${P.lastName}`,Ke,tt);await zs(sn(_e,"bookings"),{firstName:P.firstName,lastName:P.lastName,email:P.email,phone:ge,service_type:P.service,booking_date:we,booking_time:i,ticket_number:Te,notes:P.notes,status:"pending",created_at:Ln()}),F(r),k(i),f({...P,ticketNumber:Te,calendarLinks:gt}),(z=e.ticketTemplate)!=null&&z.enabled&&await V(Te),v(!0),o(!0),R(),s(null),A("")}catch(ge){console.error("Error creating booking:",ge),m(ge.message||"Errore durante la prenotazione. Riprova pi tardi.")}finally{C(!1)}};return n?c.jsx("div",{className:"text-center text-white",children:"Caricamento..."}):B&&a&&h&&h.ticketNumber&&e&&w?c.jsx("div",{className:"max-w-3xl mx-auto p-4",children:c.jsx(Ite,{bookingData:h,settings:e,selectedDate:w,selectedTime:N,onDownload:()=>{const P=document.getElementById("ticket");P&&cte(P,{scale:2,backgroundColor:"#f8f4e9",logging:!1,useCORS:!0,allowTaint:!0,onclone:K=>{const z=K.getElementById("ticket");z&&(z.style.display="block",z.style.width="800px",z.style.height="auto")}}).then(K=>{const z=document.createElement("a");z.download=`biglietto-${h.ticketNumber}.jpg`,z.href=K.toDataURL("image/jpeg",.95),z.click()})}})}):c.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4",children:[c.jsxs("select",{...b("service"),value:l,onChange:P=>{u(P.target.value),T("service",P.target.value)},className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",children:[c.jsx("option",{value:"",children:"Seleziona servizio"}),e==null?void 0:e.serviceTypes.filter(P=>P.enabled).map(P=>c.jsx("option",{value:P.id,children:P.name},P.id))]}),Q.service&&c.jsx("p",{className:"text-red-500 mt-1",children:Q.service.message})]}),c.jsx(jq,{onSlotSelect:ie,selectedDate:r,selectedTime:i,selectedService:l})]}),c.jsxs("form",{onSubmit:_(X),className:"space-y-6",children:[g&&c.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:g}),r&&i&&c.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded mb-4",children:["Hai selezionato: ",r.toLocaleDateString()," alle ",i]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Nome"}),c.jsx("input",{...b("firstName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Mario"}),Q.firstName&&c.jsx("p",{className:"text-red-500 mt-1",children:Q.firstName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Cognome"}),c.jsx("input",{...b("lastName"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Rossi"}),Q.lastName&&c.jsx("p",{className:"text-red-500 mt-1",children:Q.lastName.message})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Email"}),c.jsx("input",{type:"email",...b("email"),className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"mario.rossi@example.com"}),Q.email&&c.jsx("p",{className:"text-red-500 mt-1",children:Q.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",...b("phone"),className:"w-full pl-10 p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none",placeholder:"Inserisci il numero senza prefisso (es: 3401234567)"})]}),Q.phone&&c.jsx("p",{className:"text-red-500 mt-1",children:Q.phone.message}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inserisci solo le cifre del numero senza prefisso internazionale"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{...b("notes"),rows:3,className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-700 focus:border-[--theater-gold] outline-none"})]}),c.jsx("button",{type:"submit",disabled:y||!r||!i,className:"w-full bg-[--theater-red] text-white py-3 px-6 rounded-full hover:bg-red-700 transition-colors text-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Conferma in corso...":"Conferma Prenotazione"})]})]})},Ste=({type:t,title:e,subtitle:n,onComplete:r})=>{const s={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},curtainLeft:{initial:{scaleX:1,transformOrigin:"left"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},curtainRight:{initial:{scaleX:1,transformOrigin:"right"},animate:{scaleX:0},transition:{duration:2,delay:2,ease:[.22,1,.36,1]}},content:{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5}}},i={container:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5}},content:{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.8}}},A={container:{initial:{opacity:1},exit:{opacity:0},transition:{duration:1}},content:{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},transition:{type:"spring",damping:20,stiffness:100}}};return pe.useEffect(()=>{const a=setTimeout(r,4e3);return()=>clearTimeout(a)},[r]),t==="curtain"?c.jsxs($.div,{...s.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:[c.jsx($.div,{...s.curtainLeft,className:"absolute top-0 left-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:c.jsx("div",{className:"absolute top-0 right-0 w-12 h-full bg-gradient-to-l from-black/40 to-transparent"})}),c.jsx($.div,{...s.curtainRight,className:"absolute top-0 right-0 w-1/2 h-full bg-[--theater-red]",style:{backgroundImage:`
              repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 20px,
                rgba(0, 0, 0, 0.2) 20px,
                rgba(0, 0, 0, 0.2) 40px
              ),
              repeating-linear-gradient(
                to right,
                rgba(0, 0, 0, 0) 0px,
                rgba(0, 0, 0, 0.1) 50px,
                rgba(0, 0, 0, 0) 100px
              )
            `,backgroundSize:"100% 40px, 200px 100%"},children:c.jsx("div",{className:"absolute top-0 left-0 w-12 h-full bg-gradient-to-r from-black/40 to-transparent"})}),c.jsxs($.div,{...s.content,className:"text-center z-10",children:[c.jsx(Ss,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx($.div,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,times:[0,.5,1],repeat:1},className:"text-white text-2xl",children:n})]})]}):t==="fade"?c.jsx($.div,{...i.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center",children:c.jsxs($.div,{...i.content,className:"text-center",children:[c.jsx(Ss,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx("p",{className:"text-white text-2xl",children:n})]})}):c.jsx($.div,{...A.container,className:"fixed inset-0 z-50 bg-black flex items-center justify-center overflow-hidden",children:c.jsxs($.div,{...A.content,className:"text-center",children:[c.jsx(Ss,{className:"w-16 h-16 mx-auto mb-6 text-[--theater-gold]"}),c.jsx("h1",{className:"text-[--theater-gold] text-6xl font-marquee mb-4",children:e}),c.jsx("p",{className:"text-white text-2xl",children:n})]})})},Qte=({targetDate:t,eventName:e})=>{const[n,r]=S.useState({days:0,hours:0,minutes:0,seconds:0});return S.useEffect(()=>{const s=setInterval(()=>{const i=new Date(t),A=new Date;r({days:kk(i,A),hours:PW(i,A)%24,minutes:LW(i,A)%60,seconds:MW(i,A)%60})},1e3);return()=>clearInterval(s)},[t]),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"text-2xl text-white text-center",children:[e," inizia tra:"]}),c.jsx("div",{className:"flex justify-center gap-4 text-white",children:Object.entries(n).map(([s,i])=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-[--theater-red] rounded-lg p-3 min-w-[80px]",children:c.jsx("span",{className:"text-2xl font-bold",children:i})}),c.jsx("div",{className:"text-sm mt-1 capitalize",children:s})]},s))})]})},Nte=()=>{var f,g;const{settings:t,loading:e}=pA(),[n,r]=S.useState(!0),[s,i]=S.useState(!1),[A,a]=S.useState([]),[o,l]=S.useState(!0),[u,h]=S.useState(null);return S.useEffect(()=>{var m;if((m=t==null?void 0:t.animation)!=null&&m.enabled){const y=setTimeout(()=>r(!1),4e3);return()=>clearTimeout(y)}else r(!1)},[(f=t==null?void 0:t.animation)==null?void 0:f.enabled]),S.useEffect(()=>{(async()=>{try{const y=new Date().toISOString().split("T")[0],C=sn(_e,"bookings"),B=hA(C,hu("booking_date","==",y)),w=(await Sg(B)).docs.map(F=>({id:F.id,...F.data()}));a(w),h(null)}catch(y){console.error("Error loading bookings:",y),h("Errore nel caricamento delle prenotazioni")}finally{l(!1)}})()},[]),e||o?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"text-white text-xl flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):u?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-6 rounded-lg max-w-md w-full flex items-center gap-3",children:[c.jsx(Mt,{size:24}),c.jsx("p",{children:u})]})}):c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx(An,{children:n&&((g=t==null?void 0:t.animation)==null?void 0:g.enabled)&&c.jsx(Ste,{type:t.animation.type,title:t.animation.title||"Carnevale 2025",subtitle:t.animation.subtitle||"3... 2... 1...",onComplete:()=>r(!1)})}),c.jsx($.div,{initial:{opacity:0},animate:{opacity:n?0:1},transition:{duration:.5},children:c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("header",{className:"mb-12",children:[c.jsxs($.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex justify-center items-center mb-8",children:[t!=null&&t.company.logo?c.jsx("img",{src:t.company.logo,alt:t.company.name,className:"w-12 h-12 object-contain"}):c.jsx(Ss,{className:"w-12 h-12 text-[--theater-gold]"}),c.jsx("h1",{className:"text-4xl md:text-5xl font-marquee text-[--theater-gold] ml-4",children:(t==null?void 0:t.company.name)||"Image Studio"})]}),(t==null?void 0:t.showCountdown)&&c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-12",children:c.jsx(Qte,{targetDate:t.countdownDate,eventName:t.eventName})})]}),c.jsxs("main",{className:"max-w-6xl mx-auto",children:[c.jsx($.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-3xl md:text-4xl text-white text-center mb-8 font-marquee",children:"Prenota il tuo servizio fotografico"}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gray-800 rounded-lg shadow-xl p-4 md:p-8",children:c.jsx(Ute,{existingBookings:A})})]}),c.jsx($.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-12 text-center text-gray-400",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm md:text-base",children:t==null?void 0:t.company.address}),(t==null?void 0:t.company.phone)&&c.jsxs("p",{className:"text-sm md:text-base",children:["Tel: ",t.company.phone]}),(t==null?void 0:t.company.email)&&c.jsxs("p",{className:"text-sm md:text-base",children:["Email: ",t.company.email]})]})})]})}),c.jsx("button",{onClick:()=>i(!s),className:"fixed bottom-4 right-4 z-50 md:hidden bg-[--theater-gold] text-black p-4 rounded-full shadow-lg",children:c.jsx(Fn,{className:"w-6 h-6"})}),c.jsx(An,{children:s&&c.jsx($.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed inset-x-0 bottom-0 z-40 md:hidden bg-gray-800 border-t border-gray-700 p-4 rounded-t-xl shadow-xl",children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-white font-semibold",children:"Menu Rapido"}),c.jsx("nav",{className:"grid grid-cols-2 gap-4",children:t==null?void 0:t.serviceTypes.map(m=>c.jsx("button",{onClick:()=>{var y;i(!1),(y=document.querySelector("form"))==null||y.scrollIntoView({behavior:"smooth"})},className:"p-3 bg-gray-700 rounded-lg text-white text-sm hover:bg-gray-600 transition-colors",children:m.name},m.id))})]})})})]})},kte=({searchTerm:t,statusFilter:e,serviceFilter:n,serviceTypes:r=[],onSearchChange:s,onStatusFilterChange:i,onServiceFilterChange:A})=>{const{statuses:a=[]}=sd();return c.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg space-y-4 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per nome, email, telefono o ticket...",value:t,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rp,{className:"text-gray-400 flex-shrink-0"}),c.jsxs("select",{value:e,onChange:o=>i(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),a.filter(o=>o.enabled).map(o=>c.jsx("option",{value:o.id,children:o.name},o.id))]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fn,{className:"text-gray-400 flex-shrink-0"}),c.jsxs("select",{value:n,onChange:o=>A(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti i servizi"}),r.filter(o=>o.enabled).map(o=>c.jsx("option",{value:o.id,children:o.name},o.id))]})]})]})},Rte=({booking:t,onEdit:e,onDelete:n,getServiceLabel:r,getStatusColor:s,onClick:i,isSelected:A})=>{const{getStatusName:a}=sd();return c.jsxs("tr",{onClick:i,className:`border-b border-gray-700 hover:bg-gray-700/50 cursor-pointer transition-colors ${A?"bg-gray-700/50":""}`,children:[c.jsxs("td",{className:"p-4 text-white",children:[c.jsx("div",{className:"font-medium",children:$e(new Date(t.booking_date),"dd/MM/yyyy")}),c.jsx("div",{className:"text-sm text-gray-400",children:t.booking_time})]}),c.jsx("td",{className:"p-4 text-white",children:c.jsxs("div",{className:"font-medium",children:[t.firstName," ",t.lastName]})}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-blue-400 hover:text-blue-300",children:[c.jsx(ua,{size:16}),t.email]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-1 text-green-400 hover:text-green-300",children:[c.jsx(il,{size:16}),t.phone]}),c.jsx("a",{href:aq(t.phone),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-1 bg-green-600 text-white rounded-full hover:bg-green-700",title:"Contatta su WhatsApp",children:c.jsx(p6,{size:16})})]})]})}),c.jsx("td",{className:"p-4 text-white",children:r(t.service_type)}),c.jsx("td",{className:"p-4 text-white font-mono",children:t.ticket_number}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:s(t.status)},children:a(t.status)})}),c.jsx("td",{className:"p-4 text-white text-sm",children:t.notes||"-"}),c.jsx("td",{className:"p-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:o=>{o.stopPropagation(),e()},className:"p-2 text-yellow-400 hover:text-yellow-300 transition-colors",title:"Modifica prenotazione",children:c.jsx(k2,{size:20})}),c.jsx("button",{onClick:o=>{o.stopPropagation(),n()},className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Elimina prenotazione",children:c.jsx(Yi,{size:20})})]})})]})},Dte=({booking:t,editedBooking:e,serviceTypes:n,bookingStatuses:r,onClose:s,onSave:i,onChange:A})=>{const{statuses:a}=sd(),[o,l]=S.useState(!1),[u,h]=S.useState(null),[f,g]=S.useState(!1),m=async y=>{y.preventDefault(),l(!0),h(null),g(!1);try{const C=lt(_e,"bookings",t.id),B={...e,updated_at:new Date().toISOString()};Object.keys(B).forEach(v=>B[v]===void 0&&delete B[v]),await Ks(C,B),g(!0),setTimeout(()=>{i()},1500)}catch(C){console.error("Error updating booking:",C),h("Errore durante l'aggiornamento della prenotazione"),l(!1)}};return c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:c.jsx(Hn,{size:24})}),c.jsxs("h2",{className:"text-2xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(w6,{className:"text-[--theater-gold]"}),"Modifica Prenotazione"]}),u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),u]}),f&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Vn,{size:20}),"Prenotazione aggiornata con successo!"]}),c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),c.jsxs("div",{className:"relative",children:[c.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"date",value:e.booking_date||t.booking_date,onChange:y=>A({booking_date:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Ora"}),c.jsxs("div",{className:"relative",children:[c.jsx(Gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"time",value:e.booking_time||t.booking_time,onChange:y=>A({booking_time:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),c.jsx("input",{type:"text",value:e.firstName||t.firstName,onChange:y=>A({firstName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),c.jsx("input",{type:"text",value:e.lastName||t.lastName,onChange:y=>A({lastName:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"email",value:e.email||t.email,onChange:y=>A({email:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",value:e.phone||t.phone,onChange:y=>A({phone:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),c.jsx("select",{value:e.service_type||t.service_type,onChange:y=>A({service_type:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:n.filter(y=>y.enabled).map(y=>c.jsx("option",{value:y.id,children:y.name},y.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Stato"}),c.jsx("select",{value:e.status||t.status,onChange:y=>A({status:y.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:a.filter(y=>y.enabled).map(y=>c.jsx("option",{value:y.id,children:y.name},y.id))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note"}),c.jsxs("div",{className:"relative",children:[c.jsx(N2,{className:"absolute left-3 top-3 text-gray-400",size:20}),c.jsx("textarea",{value:e.notes||t.notes||"",onChange:y=>A({notes:y.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[c.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",disabled:o,children:"Annulla"}),c.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Vn,{size:20}),"Salva Modifiche"]})})]})]})]})})},Pte=async(t,e)=>{const n=e.reduce((s,i)=>s+i.price*i.quantity,0),r={bookingId:t,items:e,totalAmount:n,paidAmount:0,balance:n,status:"pending",createdAt:Ln()};try{return{id:(await zs(sn(_e,"orders"),r)).id,...r}}catch(s){throw console.error("Error creating order:",s),s}},ow=async(t,e)=>{try{const n=lt(_e,"orders",t);await Ks(n,{...e,updatedAt:Ln()})}catch(n){throw console.error("Error updating order:",n),n}},Lte=async(t,e,n,r)=>{try{const s=lt(_e,"orders",t),i=await qi(s);if(!i.exists())throw new Error("Ordine non trovato");const A=i.data(),a=(A.paidAmount||0)+e,o=A.totalAmount-a,l=o<=0?"paid":o<A.totalAmount?"partial":"pending",u={orderId:t,amount:e,method:n,notes:r,date:Ln(),createdAt:Ln()};await zs(sn(_e,"payment_history"),u),await Ks(s,{paidAmount:a,balance:o,status:l,paymentDate:Ln(),updatedAt:Ln()})}catch(s){throw console.error("Error recording payment:",s),s}},Mte=async(t,e)=>{try{const n=lt(_e,"payment_history",e),r=await qi(n);if(!r.exists())throw new Error("Pagamento non trovato");const s=r.data(),i=lt(_e,"orders",t),A=await qi(i);if(!A.exists())throw new Error("Ordine non trovato");const a=A.data(),o=a.paidAmount-s.amount,l=a.totalAmount-o,u=o===0?"pending":o<a.totalAmount?"partial":"paid";await Ks(i,{paidAmount:o,balance:l,status:u,updatedAt:Ln()}),await x2(n)}catch(n){throw console.error("Error deleting payment:",n),n}},WR=async t=>{try{if(!(await qi(lt(_e,"orders",t))).exists())throw new Error("Ordine non trovato");const n=sn(_e,"payment_history"),r=hA(n,hu("orderId","==",t));try{return(await Sg(r)).docs.map(i=>{var A;return{id:i.id,...i.data(),date:(A=i.data().date)==null?void 0:A.toDate()}})}catch(s){return console.error("Error fetching payment history:",s),[]}}catch(e){return console.error("Error checking order:",e),[]}},Ote=async(t,e,n,r)=>{var s,i;try{const A=(r==null?void 0:r.whatsappTemplate)||{header:`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*
`,productFormat:`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,paymentFormat:`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,footer:`
 {address}
 Per assistenza: {phone}`};let a=A.header.replace("{firstName}",e.firstName||"").replace("{lastName}",e.lastName||"").replace("{ticketNumber}",e.ticket_number||"");t.items.length>0&&(t.items.forEach((l,u)=>{const h=n.find(f=>f.id===l.productId);h&&(a+=A.productFormat.replace("{index}",(u+1).toString()).replace("{productName}",h.name).replace("{quantity}",l.quantity.toString()).replace("{price}",l.price.toFixed(2)).replace("{total}",(l.price*l.quantity).toFixed(2)))}),a+=`
* TOTALE ORDINE:* ${t.totalAmount.toFixed(2)}`);try{const l=await WR(t.id);l.length>0&&(a+=`

* ACCONTI VERSATI*
`,l.forEach((u,h)=>{a+=A.paymentFormat.replace("{index}",(h+1).toString()).replace("{date}",u.date.toLocaleDateString()).replace("{method}",jte(u.method)).replace("{amount}",u.amount.toFixed(2))}),t.balance>0&&(a+=`
* SALDO RIMANENTE:* ${t.balance.toFixed(2)}`))}catch(l){console.error("Error adding payment history to receipt:",l)}return a+=A.footer.replace("{address}",((s=r==null?void 0:r.company)==null?void 0:s.address)||"Via Quinto Orazio Flacco 5, Aversa").replace("{phone}",((i=r==null?void 0:r.company)==null?void 0:i.phone)||""),`https://wa.me/39${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(a)}`}catch(A){throw console.error("Error generating receipt:",A),new Error("Errore nella generazione della ricevuta WhatsApp")}},jte=t=>{switch(t){case"cash":return"Contanti";case"card":return"Carta";case"transfer":return"Bonifico";default:return t}},Vte=({order:t,isOpen:e,onClose:n})=>{const[r,s]=S.useState(t.notes||""),[i,A]=S.useState(!1),[a,o]=S.useState(null),l=async()=>{A(!0),o(null);try{await ow(t.id,{notes:r}),n()}catch(u){console.error("Error saving notes:",u),o("Errore durante il salvataggio delle note")}finally{A(!1)}};return c.jsx(An,{children:e&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(bc,{className:"text-[--theater-gold]"}),"Note Ordine"]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Hn,{size:24})})]}),a&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6",children:a}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:r,onChange:u=>s(u.target.value),className:"w-full h-48 p-4 bg-gray-700 border border-gray-600 rounded text-white resize-none",placeholder:"Inserisci le note per questo ordine..."}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:l,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Rg,{size:20}),"Salva Note"]})})]})]})]})})})},Hte=({bookingId:t,booking:e})=>{const[n,r]=S.useState(null),[s,i]=S.useState(!1),[A,a]=S.useState(!1),[o,l]=S.useState(!1),[u,h]=S.useState(!1),[f,g]=S.useState({}),[m,y]=S.useState(0),[C,B]=S.useState("cash"),[v,w]=S.useState(""),[F,N]=S.useState([]),[k,I]=S.useState(!1),[E,b]=S.useState(null);S.useState(null);const{settings:_}=pA();S.useEffect(()=>{const V=sn(_e,"orders"),X=hA(V,hu("bookingId","==",t)),P=sl(X,K=>{if(!K.empty){const z=K.docs[0].data();r({...z,id:K.docs[0].id})}});return()=>P()},[t]),S.useEffect(()=>{n&&o&&Q()},[n,o]),S.useEffect(()=>{s&&g({})},[s]);const Q=async()=>{if(n)try{const V=await WR(n.id);N(V)}catch(V){console.error("Error loading payment history:",V),b("Errore nel caricamento dello storico pagamenti")}},R=async()=>{I(!0),b(null);try{const V=Object.entries(f).map(([X,P])=>({productId:X,quantity:P.quantity,price:P.price}));if(n){const X=[...n.items,...V],P=X.reduce((K,z)=>K+z.price*z.quantity,0);await ow(n.id,{items:X,totalAmount:P,balance:P-(n.paidAmount||0)})}else await Pte(t,V);i(!1),g({})}catch(V){console.error("Error adding products:",V),b("Errore durante l'aggiunta dei prodotti")}finally{I(!1)}},T=async V=>{if(n){I(!0),b(null);try{const X=n.items.filter(K=>K.productId!==V),P=X.reduce((K,z)=>K+z.price*z.quantity,0);await ow(n.id,{items:X,totalAmount:P,balance:P-(n.paidAmount||0)})}catch(X){console.error("Error removing product:",X),b("Errore durante la rimozione del prodotto")}finally{I(!1)}}},Y=async()=>{if(!(!n||!_))try{I(!0),b(null);const V=await Ote(n,e,_.products,_);window.open(V,"_blank")}catch(V){console.error("Error generating receipt:",V),b("Errore nella generazione della ricevuta WhatsApp")}finally{I(!1)}},ie=()=>!n||!_?null:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`px-2 py-0.5 rounded-full ${n.status==="paid"?"bg-green-500/20 text-green-400":n.status==="partial"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:n.status==="paid"?"Pagato":n.status==="partial"?"Acconto":"In attesa"}),c.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",n.totalAmount.toFixed(2)]})]}),n.paidAmount>0&&c.jsxs("span",{className:"text-green-400 text-xs",children:["Pagato: ",n.paidAmount.toFixed(2)]})]}),c.jsx("div",{className:"space-y-2 mt-4",children:n.items.map((V,X)=>{const P=_.products.find(K=>K.id===V.productId);return P?c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center justify-between bg-gray-700 p-2 rounded",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[P.imageUrl&&c.jsx("img",{src:P.imageUrl,alt:P.name,className:"w-10 h-10 object-cover rounded"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-white",children:P.name}),c.jsxs("div",{className:"text-sm text-gray-400",children:[V.quantity,"x ",V.price.toFixed(2)]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{className:"text-[--theater-gold]",children:["",(V.quantity*V.price).toFixed(2)]}),c.jsx("button",{onClick:()=>T(V.productId),className:"p-1 text-red-400 hover:text-red-300 transition-colors",title:"Rimuovi prodotto",children:c.jsx(Yi,{size:16})})]})]},`${V.productId}-${X}`):null})}),n.notes&&c.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 mt-2",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(bc,{size:16,className:"text-yellow-400 mt-1 flex-shrink-0"}),c.jsx("p",{className:"text-sm text-yellow-400 line-clamp-2",children:n.notes})]})})]});return c.jsxs("div",{className:"space-y-2",children:[n?c.jsxs(c.Fragment,{children:[ie(),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-sm",children:[c.jsx(Xi,{size:14}),"Prodotti"]}),c.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-green-600/20 text-green-400 rounded hover:bg-green-600/30 text-sm",children:[c.jsx(hv,{size:14}),"Pagamento"]}),c.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-600/20 text-blue-400 rounded hover:bg-blue-600/30 text-sm",children:[c.jsx(Gs,{size:14}),"Storico"]}),c.jsxs("button",{onClick:Y,disabled:k,className:"inline-flex items-center gap-1 px-2 py-1 bg-[#25D366]/20 text-[#25D366] rounded hover:bg-[#25D366]/30 text-sm disabled:opacity-50",children:[k?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(y6,{size:14}),"Ricevuta"]}),c.jsxs("button",{onClick:()=>h(!0),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${n.notes?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(bc,{size:14}),n.notes?"Modifica Note":"Note"]})]})]}):c.jsx("div",{className:"flex justify-center",children:c.jsxs("button",{onClick:()=>i(!0),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 text-sm font-medium",children:[c.jsx(Xi,{size:16}),"Nuovo Ordine"]})}),c.jsxs(An,{children:[s&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:n?"Aggiungi Prodotti all'Ordine":"Nuovo Ordine"}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto",children:_==null?void 0:_.products.filter(V=>V.enabled).map(V=>{var X;return c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[V.imageUrl&&c.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-full h-32 object-cover rounded mb-3"}),c.jsx("h4",{className:"text-white font-medium",children:V.name}),c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:V.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"text-[--theater-gold]",children:["",V.price.toFixed(2)]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("input",{type:"number",min:"0",value:((X=f[V.id])==null?void 0:X.quantity)||0,onChange:P=>{const K=parseInt(P.target.value);if(K===0){const{[V.id]:z,...ge}=f;g(ge)}else g({...f,[V.id]:{quantity:K,price:V.price}})},className:"w-20 p-1 bg-gray-600 border border-gray-500 rounded text-white text-center"})})]})]},V.id)})}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:()=>{i(!1),g({})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:R,disabled:Object.keys(f).length===0||k,className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:k?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),n?"Aggiunta in corso...":"Creazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Vn,{size:20}),n?"Aggiungi Prodotti":"Crea Ordine"]})})]})]})}),A&&n&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Registra Pagamento"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Totale da Pagare:"}),c.jsxs("span",{className:"block text-xl text-[--theater-gold]",children:["",n.totalAmount.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-gray-400",children:"Saldo Rimanente:"}),c.jsxs("span",{className:"block text-xl text-red-400",children:["",n.balance.toFixed(2)]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Importo Pagamento"}),c.jsxs("div",{className:"relative",children:[c.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"number",step:"0.01",min:"0",max:n.balance,value:m,onChange:V=>y(parseFloat(V.target.value)),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Metodo di Pagamento"}),c.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>B("cash"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="cash"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(H1,{size:16}),"Contanti"]}),c.jsxs("button",{type:"button",onClick:()=>B("card"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="card"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(fu,{size:16}),"Carta"]}),c.jsxs("button",{type:"button",onClick:()=>B("transfer"),className:`flex items-center justify-center gap-2 p-2 rounded ${C==="transfer"?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[c.jsx(q1,{size:16}),"Bonifico"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{value:v,onChange:V=>w(V.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Aggiungi una nota per questo pagamento..."})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{onClick:()=>{a(!1),y(0),B("cash"),w("")},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{onClick:async()=>{I(!0);try{await Lte(n.id,m,C,v),a(!1),y(0),B("cash"),w("")}catch(V){console.error("Error recording payment:",V),b("Errore durante la registrazione del pagamento")}finally{I(!1)}},disabled:m<=0||m>n.balance||k,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:k?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Registrazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Vn,{size:20}),"Conferma Pagamento"]})})]})]})]})}),o&&n&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(Hn,{size:24})}),c.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Gs,{className:"text-[--theater-gold]"}),"Storico Pagamenti"]}),E&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),E]}),c.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[F.map(V=>c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"text-[--theater-gold] font-medium",children:["",V.amount.toFixed(2)]}),c.jsx("div",{className:"text-sm text-gray-400 mt-1",children:V.date.toLocaleDateString()}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[V.method==="cash"&&c.jsx(H1,{size:16,className:"text-green-400"}),V.method==="card"&&c.jsx(fu,{size:16,className:"text-blue-400"}),V.method==="transfer"&&c.jsx(q1,{size:16,className:"text-purple-400"}),c.jsx("span",{className:"text-gray-300",children:V.method==="cash"?"Contanti":V.method==="card"?"Carta":"Bonifico"})]})]}),V.notes&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-300",children:[c.jsx(bc,{size:14,className:"mt-1"}),c.jsx("p",{children:V.notes})]}),c.jsx("button",{onClick:()=>{window.confirm("Sei sicuro di voler eliminare questo pagamento?")&&Mte(n.id,V.id)},className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",title:"Elimina pagamento",children:c.jsx(Yi,{size:16})})]})},V.id)),F.length===0&&c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessun pagamento registrato"})]})]})}),u&&n&&c.jsx(Vte,{order:n,isOpen:u,onClose:()=>h(!1)})]}),E&&c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mt-4",children:E})]})},Kte=({bookings:t,serviceTypes:e,bookingStatuses:n,getServiceLabel:r,getStatusColor:s})=>{const[i,A]=S.useState(null),[a,o]=S.useState(null),[l,u]=S.useState({}),[h,f]=S.useState(null),g=w=>{A(i===w?null:w)},m=w=>{o(w),u({...w})},y=async()=>{if(a)try{const w=lt(_e,"bookings",a.id);await Ks(w,{...l,updated_at:new Date().toISOString()}),o(null),u({})}catch(w){console.error("Error saving booking:",w),f("Errore durante il salvataggio della prenotazione")}},C=async w=>{if(window.confirm("Sei sicuro di voler eliminare questa prenotazione?"))try{f(null),await x2(lt(_e,"bookings",w)),i===w&&A(null),(a==null?void 0:a.id)===w&&(o(null),u({}))}catch(F){console.error("Error deleting booking:",F),f("Errore durante l'eliminazione della prenotazione")}},B=()=>{o(null),u({})},v=[...t].sort((w,F)=>{const N=w.booking_date.localeCompare(F.booking_date);return N!==0?N:w.booking_time.localeCompare(F.booking_time)});return c.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[h&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 m-4 rounded-lg",children:h}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Data e Ora"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Cliente"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Contatti"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Servizio"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Ticket"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Stato"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Note"}),c.jsx("th",{className:"p-4 text-left text-gray-300",children:"Azioni"})]})}),c.jsx("tbody",{children:v.map(w=>c.jsxs(pe.Fragment,{children:[c.jsx(Rte,{booking:w,onEdit:()=>m(w),onDelete:()=>C(w.id),getServiceLabel:r,getStatusColor:s,onClick:()=>g(w.id),isSelected:i===w.id}),i===w.id&&c.jsx("tr",{children:c.jsx("td",{colSpan:8,className:"p-4 bg-gray-700/30",children:c.jsx(Hte,{bookingId:w.id,booking:w})})})]},w.id))})]})}),c.jsx(An,{children:a&&c.jsx(Dte,{booking:a,editedBooking:l,serviceTypes:e,bookingStatuses:n,onClose:B,onSave:y,onChange:u})})]})},zte=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(!1);S.useEffect(()=>{o()},[]);const o=async()=>{if(!pn.currentUser){r(!1);return}try{await N1(_e,async h=>{const f=lt(_e,"users",pn.currentUser.uid),g=await h.get(f);if(!g.exists())h.set(f,{email:pn.currentUser.email,createdAt:new Date,updatedAt:new Date}),e(!1);else{const m=g.data();e(!!(m!=null&&m.googleCalendarToken))}})}catch(h){console.error("Error checking calendar connection:",h),h.code==="permission-denied"?e(!1):i("Errore durante la verifica della connessione")}finally{r(!1)}},l=()=>{if(!pn.currentUser){i("Devi essere autenticato per connettere il calendario");return}{i("Configurazione Google Calendar non disponibile");return}},u=async()=>{if(!pn.currentUser){i("Devi essere autenticato per disconnettere il calendario");return}try{r(!0),i(null),await N1(_e,async h=>{const f=lt(_e,"users",pn.currentUser.uid);if(!(await h.get(f)).exists())throw new Error("User document not found");h.update(f,{googleCalendarToken:null,googleCalendarRefreshToken:null,calendarConnected:!1,updatedAt:new Date})}),e(!1),a(!0),setTimeout(()=>a(!1),3e3)}catch(h){console.error("Error disconnecting calendar:",h),h.code==="permission-denied"?i("Non hai i permessi per disconnettere il calendario"):i("Errore durante la disconnessione del calendario")}finally{r(!1)}};return n?c.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400",children:[c.jsx(d6,{className:"animate-spin",size:20}),c.jsx("span",{children:"Verifica connessione..."})]}):c.jsxs("div",{className:"space-y-4",children:[s&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Mt,{size:20}),s]}),A&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Vn,{size:20}),t?"Calendario connesso con successo!":"Calendario disconnesso con successo!"]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:t?"Calendario Connesso":"Connetti Google Calendar"}),c.jsx("p",{className:"text-gray-400",children:t?"Le tue prenotazioni verranno automaticamente sincronizzate con il tuo Google Calendar":"Connetti il tuo Google Calendar per sincronizzare automaticamente le prenotazioni"})]}),c.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t?u:l,disabled:n,className:`flex items-center gap-2 px-6 py-2 rounded transition-colors ${t?"bg-red-500 text-white hover:bg-red-600":"bg-[--theater-gold] text-black hover:bg-yellow-500"} disabled:opacity-50`,children:n?c.jsx("span",{className:"animate-spin",children:""}):t?c.jsxs(c.Fragment,{children:[c.jsx(C6,{size:20}),"Disconnetti"]}):c.jsxs(c.Fragment,{children:[c.jsx(u6,{size:20}),"Connetti"]})})]}),t&&c.jsx("div",{className:"text-sm text-gray-400",children:c.jsx("p",{children:"Le nuove prenotazioni verranno automaticamente aggiunte al tuo Google Calendar. Puoi disconnettere il calendario in qualsiasi momento."})})]})},Gte=({settings:t,onChange:e})=>{var s,i,A,a;const n=(o,l)=>{e({company:{...t.company,[o]:l}})},r=(o,l)=>{e({whatsappTemplate:{...t.whatsappTemplate,[o]:l}})};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Informazioni Aziendali"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(K1,{size:16}),"Nome Azienda"]}),c.jsx("input",{type:"text",value:t.company.name,onChange:o=>n("name",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(G1,{size:16}),"Logo URL"]}),c.jsx("input",{type:"url",value:t.company.logo,onChange:o=>n("logo",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/logo.png"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(K1,{size:16}),"Indirizzo"]}),c.jsx("input",{type:"text",value:t.company.address,onChange:o=>n("address",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(G1,{size:16}),"Sito Web"]}),c.jsx("input",{type:"url",value:t.company.website,onChange:o=>n("website",o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com"})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Fn,{className:"text-[--theater-gold]"}),"Sincronizzazione Google Calendar"]}),c.jsx("div",{className:"bg-gray-700 rounded-lg p-6",children:c.jsx(zte,{})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(N2,{className:"text-[--theater-gold]"}),"Template WhatsApp"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Intestazione Messaggio"}),c.jsx("textarea",{value:((s=t.whatsappTemplate)==null?void 0:s.header)||`* CARNEVALE CINEMATOGRAFICO*

* CLIENTE*
Nome: {firstName} {lastName}
Ticket: #{ticketNumber}

* PRODOTTI ORDINATI*`,onChange:o=>r("header",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-32",placeholder:"Intestazione del messaggio..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Prodotto"}),c.jsx("textarea",{value:((i=t.whatsappTemplate)==null?void 0:i.productFormat)||`{index}. {productName}
   Quantit: {quantity}
   Prezzo: {price}
   Totale: {total}
`,onChange:o=>r("productFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni prodotto..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Formato Pagamento"}),c.jsx("textarea",{value:((A=t.whatsappTemplate)==null?void 0:A.paymentFormat)||`{index}. {date}
   Metodo: {method}
   Importo: {amount}
`,onChange:o=>r("paymentFormat",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Formato per ogni pagamento..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Footer Messaggio"}),c.jsx("textarea",{value:((a=t.whatsappTemplate)==null?void 0:a.footer)||`
 {address}
 Per assistenza: {phone}`,onChange:o=>r("footer",o.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white h-24",placeholder:"Footer del messaggio..."})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-white font-medium mb-2",children:"Variabili Disponibili"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Generali:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsxs("li",{children:["{firstName}"," - Nome cliente"]}),c.jsxs("li",{children:["{lastName}"," - Cognome cliente"]}),c.jsxs("li",{children:["{ticketNumber}"," - Numero ticket"]}),c.jsxs("li",{children:["{address}"," - Indirizzo"]}),c.jsxs("li",{children:["{phone}"," - Telefono"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-[--theater-gold] mb-1",children:"Prodotti:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsxs("li",{children:["{index}"," - Numero prodotto"]}),c.jsxs("li",{children:["{productName}"," - Nome prodotto"]}),c.jsxs("li",{children:["{quantity}"," - Quantit"]}),c.jsxs("li",{children:["{price}"," - Prezzo unitario"]}),c.jsxs("li",{children:["{total}"," - Totale prodotto"]})]})]})]})]})]})]})]})},Wte=[{value:0,label:"Domenica"},{value:1,label:"Luned"},{value:2,label:"Marted"},{value:3,label:"Mercoled"},{value:4,label:"Gioved"},{value:5,label:"Venerd"},{value:6,label:"Sabato"}],$te=[{value:15,label:"15 minuti"},{value:30,label:"30 minuti"},{value:45,label:"45 minuti"},{value:60,label:"1 ora"},{value:90,label:"1 ora e 30 minuti"},{value:120,label:"2 ore"}],qte=({serviceTypes:t,newServiceType:e,onServiceTypeChange:n,onNewServiceTypeChange:r,onAddServiceType:s,onRemoveServiceType:i})=>{const[A,a]=S.useState(null),[o,l]=S.useState(""),[u,h]=S.useState(null),f=(m,y)=>{const v=(t[m].excludedDays||[]).map(Number),F=v.indexOf(y)>=0?v.filter(N=>N!==y):[...v,y];F.sort((N,k)=>N-k),n(m,"excludedDays",F)},g=m=>{var B;if(!o){h("Seleziona una data da escludere");return}const y=t[m];if(y.bookingStartDate&&y.bookingEndDate){const v=new Date(o),w=new Date(y.bookingStartDate),F=new Date(y.bookingEndDate);if(v<w||v>F){h("La data deve essere compresa nel periodo di prenotazione");return}}if((B=y.excludedDates)!=null&&B.includes(o)){h("Questa data  gi stata esclusa");return}const C=[...y.excludedDates||[],o].sort();n(m,"excludedDates",C),l(""),a(null),h(null)};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Tipi di Servizio"}),c.jsx("div",{className:"space-y-4",children:t.map((m,y)=>c.jsxs($.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-4 rounded-lg space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"text",value:m.name,onChange:C=>n(y,"name",C.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"Nome servizio"}),c.jsxs("label",{className:"flex items-center gap-2 text-white",children:[c.jsx("input",{type:"checkbox",checked:m.enabled,onChange:C=>n(y,"enabled",C.target.checked),className:"w-4 h-4"}),"Attivo"]}),c.jsx("button",{type:"button",onClick:()=>i(y),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:c.jsx(Yi,{size:20})})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Gs,{size:16}),"Durata Servizio"]}),c.jsx("select",{value:m.duration||30,onChange:C=>n(y,"duration",parseInt(C.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white",children:$te.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Fn,{size:16}),"Data Inizio Prenotazioni"]}),c.jsx("input",{type:"date",value:m.bookingStartDate||"",onChange:C=>n(y,"bookingStartDate",C.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Fn,{size:16}),"Data Fine Prenotazioni"]}),c.jsx("input",{type:"date",value:m.bookingEndDate||"",onChange:C=>n(y,"bookingEndDate",C.target.value),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Yl,{size:16}),"Giorni della Settimana Esclusi"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Wte.map(C=>c.jsxs($.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(y,C.value),className:`
                      px-3 py-1 rounded-full text-sm flex items-center gap-2 transition-colors
                      ${(m.excludedDays||[]).includes(C.value)?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-gray-600 text-gray-300 hover:bg-gray-500"}
                    `,children:[(m.excludedDays||[]).includes(C.value)&&c.jsx(Yl,{size:14,className:"text-red-400"}),C.label]},C.value))})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"flex items-center gap-2 text-gray-300 mb-2",children:[c.jsx(Yl,{size:16}),"Date Specifiche Escluse"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"flex flex-wrap gap-2",children:c.jsx(An,{mode:"popLayout",children:(m.excludedDates||[]).map(C=>c.jsxs($.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 text-red-400 rounded-full text-sm",children:[c.jsx(Yl,{size:14}),$e(new Date(C),"dd MMM yyyy",{locale:qs}),c.jsx("button",{type:"button",onClick:()=>{const B=(m.excludedDates||[]).filter(v=>v!==C);n(y,"excludedDates",B)},className:"text-red-400 hover:text-red-300",children:c.jsx(Hn,{size:14})})]},C))})}),c.jsx(An,{children:u&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center gap-2 text-red-400 text-sm mt-2",children:[c.jsx(Mt,{size:14}),u]})}),A===m.id?c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex gap-2",children:[c.jsx("input",{type:"date",value:o,onChange:C=>{l(C.target.value),h(null)},className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white",min:m.bookingStartDate,max:m.bookingEndDate}),c.jsxs("button",{type:"button",onClick:()=>g(y),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[c.jsx(Vn,{size:16}),"Aggiungi"]}),c.jsxs("button",{type:"button",onClick:()=>{a(null),l(""),h(null)},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500",children:[c.jsx(Hn,{size:16}),"Annulla"]})]}):c.jsxs($.button,{type:"button",onClick:()=>a(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 text-sm text-[--theater-gold] hover:text-yellow-500",children:[c.jsx(Xi,{size:14}),"Aggiungi data esclusa"]})]})]})]},m.id))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",value:e.name,onChange:m=>r({...e,name:m.target.value}),placeholder:"Nuovo tipo di servizio",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white"}),c.jsxs($.button,{type:"button",onClick:s,disabled:!e.name,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Xi,{size:20}),"Aggiungi"]})]})]})},Xte=({breakTimes:t,newBreakTime:e,onBreakTimeChange:n,onNewBreakTimeChange:r,onAddBreakTime:s,onRemoveBreakTime:i})=>c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-white",children:"Pause e Intervalli"}),c.jsx("div",{className:"space-y-4",children:t.map((A,a)=>c.jsxs("div",{className:"flex items-center gap-4 bg-gray-700 p-4 rounded",children:[c.jsx("input",{type:"time",value:A.start,onChange:o=>n(a,"start",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),c.jsx("span",{className:"text-white",children:"a"}),c.jsx("input",{type:"time",value:A.end,onChange:o=>n(a,"end",o.target.value),className:"p-2 bg-gray-600 border border-gray-500 rounded text-white"}),c.jsxs("label",{className:"flex items-center gap-2 text-white",children:[c.jsx("input",{type:"checkbox",checked:A.enabled,onChange:o=>n(a,"enabled",o.target.checked),className:"w-4 h-4"}),"Attivo"]}),c.jsx("button",{type:"button",onClick:()=>i(a),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:c.jsx(Yi,{size:20})})]},a))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"time",value:e.start,onChange:A=>r({...e,start:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inizio pausa"}),c.jsx("input",{type:"time",value:e.end,onChange:A=>r({...e,end:A.target.value}),className:"p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Fine pausa"}),c.jsxs("button",{type:"button",onClick:s,disabled:!e.start||!e.end,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Xi,{size:20}),"Aggiungi Pausa"]})]})]}),Yte=["#EF4444","#F97316","#F59E0B","#10B981","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#6B7280"],RT=({color:t,onChange:e})=>c.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg shadow-xl border border-gray-700 w-64",children:[c.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:Yte.map(n=>c.jsx("button",{onClick:()=>e(n),className:`w-8 h-8 rounded-full transition-transform hover:scale-110 ${t===n?"ring-2 ring-white ring-offset-2 ring-offset-gray-800":""}`,style:{backgroundColor:n},title:n},n))}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-sm text-gray-300",children:"Custom Color"}),c.jsx("input",{type:"color",value:t,onChange:n=>e(n.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),Jte=({statuses:t,onSave:e})=>{const[n,r]=S.useState(t.map(w=>({...w,enabled:w.enabled??!0}))),[s,i]=S.useState(null),[A,a]=S.useState(!1),[o,l]=S.useState(null),[u,h]=S.useState({name:"",color:"#4CAF50",enabled:!0}),[f,g]=S.useState(null),m=w=>{g(w),setTimeout(()=>g(null),3e3)},y=async()=>{if(!u.name){i("Inserisci un nome per lo stato");return}if(n.some(k=>k.name.toLowerCase()===u.name.toLowerCase())){i("Esiste gi uno stato con questo nome");return}const w=u.name.toLowerCase().replace(/\s+/g,"_"),F={...u,id:w,enabled:!0},N=[...n,F];r(N);try{a(!0),await e(N),h({name:"",color:"#4CAF50",enabled:!0}),i(null),m("Nuovo stato aggiunto con successo")}catch(k){console.error("Error saving new status:",k),i("Errore durante il salvataggio del nuovo stato"),r(n)}finally{a(!1)}},C=async(w,F,N)=>{const k=[...n];k[w]={...k[w],[F]:N},r(k);try{a(!0),await e(k),m("Modifiche salvate con successo")}catch(I){console.error("Error saving status changes:",I),i("Errore durante il salvataggio delle modifiche"),r(n)}finally{a(!1)}},B=async(w,F)=>{await C(w,"color",F)},v=async w=>{const F=n.filter((N,k)=>k!==w);try{a(!0),await e(F),r(F),m("Stato rimosso con successo")}catch(N){console.error("Error removing status:",N),i("Errore durante la rimozione dello stato")}finally{a(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(Ei,{className:"text-[--theater-gold]"}),"Stati Prenotazione"]})}),c.jsxs(An,{children:[s&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Mt,{size:20}),s]}),f&&c.jsxs($.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Mt,{size:20}),f]})]}),c.jsx("div",{className:"space-y-4",children:n.map((w,F)=>c.jsx($.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-600/50 transition-colors",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"text",value:w.name,onChange:N=>C(F,"name",N.target.value),className:"flex-1 p-2 bg-gray-600 border border-gray-500 rounded text-white focus:border-[--theater-gold] transition-colors",placeholder:"Nome stato"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>l(o===w.id?null:w.id),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:w.color}}),o===w.id&&c.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[c.jsx("div",{className:"fixed inset-0",onClick:()=>l(null)}),c.jsx(RT,{color:w.color,onChange:N=>B(F,N)})]})]}),c.jsxs("label",{className:"flex items-center gap-2 text-white hover:text-[--theater-gold] transition-colors cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:w.enabled,onChange:N=>C(F,"enabled",N.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Attivo"]}),c.jsx("button",{onClick:()=>v(F),className:"p-2 text-red-400 hover:text-red-300 hover:scale-110 transition-all",title:"Rimuovi stato",disabled:A,children:c.jsx(Yi,{size:20})})]})},w.id))}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("input",{type:"text",value:u.name,onChange:w=>h({...u,name:w.target.value}),placeholder:"Nuovo stato",className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-[--theater-gold] transition-colors"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>l(o==="new"?null:"new"),className:"w-10 h-10 rounded-lg cursor-pointer border-2 border-gray-600 hover:scale-105 transition-transform",style:{backgroundColor:u.color}}),o==="new"&&c.jsxs("div",{className:"absolute right-0 top-12 z-10",children:[c.jsx("div",{className:"fixed inset-0",onClick:()=>l(null)}),c.jsx(RT,{color:u.color,onChange:w=>h({...u,color:w})})]})]}),c.jsxs($.button,{onClick:y,disabled:!u.name||A,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[c.jsx(Xi,{size:20}),A?"Aggiunta...":"Aggiungi"]})]})]})},Zte=({settings:t,onChange:e})=>{var r,s,i,A;const n=(a,o)=>{e({social:{...t.social,[a]:o}})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(ax,{className:"text-[--theater-gold]"}),"Impostazioni Condivisione Social"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(id,{size:16}),"Immagine Anteprima"]}),c.jsx("input",{type:"url",value:((r=t.social)==null?void 0:r.image)||"",onChange:a=>n("image",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://example.com/image.jpg"}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Dimensioni consigliate: 1200x630 pixel"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(x6,{size:16}),"Titolo Anteprima"]}),c.jsx("input",{type:"text",value:((s=t.social)==null?void 0:s.title)||"",onChange:a=>n("title",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale Cinematografico 2025"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(bc,{size:16}),"Descrizione Anteprima"]}),c.jsx("textarea",{value:((i=t.social)==null?void 0:i.description)||"",onChange:a=>n("description",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Prenota il tuo servizio fotografico per il Carnevale Cinematografico 2025"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center gap-2",children:[c.jsx(l6,{size:16}),"URL Sito"]}),c.jsx("input",{type:"url",value:((A=t.social)==null?void 0:A.url)||"",onChange:a=>n("url",a.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"https://gennaromazzacane.it/carnival2025"})]}),c.jsx("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-4",children:c.jsx("div",{className:"flex items-start gap-2",children:c.jsxs("div",{className:"text-blue-400 text-sm",children:[c.jsx("p",{className:"font-medium mb-1",children:"Anteprima Social"}),c.jsx("p",{children:"Queste impostazioni controllano come appare il link quando viene condiviso su WhatsApp, Facebook e altri social media. L'immagine dovrebbe essere rappresentativa del tuo evento e catturare l'attenzione."})]})})})]})]})},ene=({type:t,enabled:e,onChange:n})=>{const r=s=>{const i="w-full aspect-[9/16] rounded-lg overflow-hidden";switch(s){case"classic":return c.jsxs("div",{className:`${i} bg-gradient-to-br from-red-600 to-red-700 text-white p-6 flex flex-col`,children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Ic,{className:"w-12 h-12 mx-auto mb-4"}),c.jsx("h3",{className:"text-2xl font-bold",children:"Carnevale 2025"}),c.jsx("p",{className:"text-sm opacity-75",children:"CNC-123456"})]}),c.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-4",children:[c.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm opacity-75",children:"Nome"}),c.jsx("p",{className:"font-bold",children:"Mario Rossi"})]}),c.jsxs("div",{className:"bg-white/10 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm opacity-75",children:"Data"}),c.jsx("p",{className:"font-bold",children:"01/03/2025"})]})]})]});case"modern":return c.jsx("div",{className:`${i} bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6`,children:c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"text-center flex-1 flex flex-col justify-center",children:[c.jsx(Ic,{className:"w-16 h-16 mx-auto mb-6"}),c.jsx("h3",{className:"text-3xl font-bold mb-2",children:"Carnevale"}),c.jsx("p",{className:"text-lg mb-8",children:"2025"}),c.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-6 rounded-xl",children:c.jsx("p",{className:"font-mono text-xl",children:"CNC-123456"})})]}),c.jsx("div",{className:"mt-auto text-center",children:c.jsx("p",{className:"text-sm opacity-75",children:"Via Quinto Orazio Flacco 5, Aversa"})})]})});case"vintage":return c.jsx("div",{className:`${i} bg-[#f8e5b9] p-6 border-8 border-[#8b4513]`,children:c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-[#8b4513]",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h3",{className:"text-3xl font-serif mb-2",children:"CARNEVALE"}),c.jsx("p",{className:"text-xl font-serif",children:"CINEMATOGRAFICO"})]}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),c.jsx("div",{className:"font-mono text-xl mb-6",children:"CNC-123456"}),c.jsx("div",{className:"w-full h-px bg-[#8b4513] my-6"}),c.jsxs("div",{className:"text-center mt-auto",children:[c.jsx("p",{className:"font-serif",children:"01 Marzo 2025"}),c.jsx("p",{className:"font-serif text-sm mt-2",children:"Aversa"})]})]})})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Ic,{className:"text-[--theater-gold]"}),"Template Ticket"]}),c.jsx("div",{className:"grid grid-cols-3 gap-6",children:["classic","modern","vintage"].map(s=>c.jsxs($.div,{whileHover:{scale:1.02},className:`relative cursor-pointer rounded-lg overflow-hidden ${t===s?"ring-2 ring-[--theater-gold]":""}`,onClick:()=>n({type:s,enabled:e}),children:[r(s),c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:c.jsx("button",{className:"px-4 py-2 bg-[--theater-gold] text-black rounded-lg",children:"Seleziona"})})]},s))}),c.jsx("div",{className:"mt-6",children:c.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:e,onChange:s=>n({type:t,enabled:s.target.checked}),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione ticket"]})})]})},tne=({enabled:t,title:e,subtitle:n,type:r,onChange:s})=>{var a;const i=[{id:"curtain",label:"Sipario",description:"Un elegante sipario teatrale che si apre per rivelare il contenuto"},{id:"fade",label:"Dissolvenza",description:"Una transizione fluida con dissolvenza del contenuto"},{id:"slide",label:"Scorrimento",description:"Un effetto dinamico di scorrimento laterale"}],A=o=>l=>{s({enabled:t,title:e,subtitle:n,type:r,[o]:l})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(Ss,{className:"text-[--theater-gold]"}),"Animazione Introduttiva"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:t,onChange:o=>A("enabled")(o.target.checked),className:"w-4 h-4 rounded accent-[--theater-gold]"}),"Mostra animazione all'apertura"]})}),t&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Titolo Animazione"}),c.jsx("input",{type:"text",value:e,onChange:o=>A("title")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Carnevale 2025"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Sottotitolo"}),c.jsx("input",{type:"text",value:n,onChange:o=>A("subtitle")(o.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"3... 2... 1..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-4",children:"Tipo Animazione"}),c.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(o=>c.jsxs($.button,{type:"button",whileHover:{scale:1.02},onClick:()=>A("type")(o.id),className:`p-4 rounded-lg border-2 transition-colors ${r===o.id?"border-[--theater-gold] bg-[--theater-gold]/10":"border-gray-700 hover:border-gray-600"}`,children:[c.jsx(m6,{className:`w-8 h-8 mx-auto mb-2 ${r===o.id?"text-[--theater-gold]":"text-gray-400"}`}),c.jsx("span",{className:`block font-medium mb-2 ${r===o.id?"text-white":"text-gray-300"}`,children:o.label}),c.jsx("p",{className:"text-sm text-gray-400",children:o.description})]},o.id))})]})]}),c.jsxs("div",{className:"mt-4 p-4 bg-gray-700 rounded-lg",children:[c.jsx("h4",{className:"text-white font-medium mb-4",children:"Anteprima Impostazioni"}),c.jsxs("div",{className:"space-y-2 text-gray-300",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Stato:"})," ",t?"Attivo":"Disattivato"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Titolo:"})," ",e||"(non impostato)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Sottotitolo:"})," ",n||"(non impostato)"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Tipo:"})," ",((a=i.find(o=>o.id===r))==null?void 0:a.label)||r]})]})]})]})]})},nne=[{id:"general",label:"Generali",icon:Ei},{id:"status",label:"Stati Prenotazione",icon:Ei},{id:"services",label:"Servizi",icon:Ei},{id:"breaks",label:"Pause",icon:Ei},{id:"social",label:"Condivisione",icon:ax},{id:"ticket",label:"Template Ticket",icon:Ic},{id:"intro",label:"Intro",icon:Ss}],rne=({settings:t,onSave:e,onClose:n})=>{const[r,s]=S.useState(!1),[i,A]=S.useState(t),[a,o]=S.useState(null),[l,u]=S.useState("general"),[h,f]=S.useState(!1),{statuses:g}=sd(),m=async C=>{C.preventDefault(),s(!0),o(null);try{await e(i),f(!0),setTimeout(()=>f(!1),3e3)}catch(B){console.error("Error saving settings:",B),o("Errore durante il salvataggio delle impostazioni")}finally{s(!1)}},y=()=>{var C,B,v,w,F,N;switch(l){case"general":return c.jsx(Gte,{settings:i,onChange:k=>A({...i,...k})});case"status":return c.jsx(Jte,{statuses:g,onSave:async k=>{A({...i,bookingStatuses:k})}});case"services":return c.jsx(qte,{serviceTypes:i.serviceTypes,newServiceType:{id:"",name:"",enabled:!0,bookingStartDate:"",bookingEndDate:""},onServiceTypeChange:(k,I,E)=>{const b=[...i.serviceTypes];b[k]={...b[k],[I]:E},A({...i,serviceTypes:b})},onNewServiceTypeChange:()=>{},onAddServiceType:()=>{},onRemoveServiceType:k=>{const I=i.serviceTypes.filter((E,b)=>b!==k);A({...i,serviceTypes:I})}});case"breaks":return c.jsx(Xte,{breakTimes:i.breakTimes,newBreakTime:{start:"",end:"",enabled:!0},onBreakTimeChange:(k,I,E)=>{const b=[...i.breakTimes];b[k]={...b[k],[I]:E},A({...i,breakTimes:b})},onNewBreakTimeChange:()=>{},onAddBreakTime:()=>{},onRemoveBreakTime:k=>{const I=i.breakTimes.filter((E,b)=>b!==k);A({...i,breakTimes:I})}});case"social":return c.jsx(Zte,{settings:i,onChange:k=>A({...i,...k})});case"ticket":return c.jsx(ene,{type:((C=i.ticketTemplate)==null?void 0:C.type)||"classic",enabled:((B=i.ticketTemplate)==null?void 0:B.enabled)??!0,onChange:k=>A(I=>({...I,ticketTemplate:k}))});case"intro":return c.jsx(tne,{enabled:((v=i.animation)==null?void 0:v.enabled)??!0,title:((w=i.animation)==null?void 0:w.title)||"",subtitle:((F=i.animation)==null?void 0:F.subtitle)||"",type:((N=i.animation)==null?void 0:N.type)||"curtain",onChange:k=>A(I=>({...I,animation:{...I.animation,...k}}))});default:return null}};return c.jsx("div",{className:"bg-gray-800 p-6 rounded-lg",children:c.jsxs("form",{onSubmit:m,className:"space-y-8",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Impostazioni"}),c.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-white",children:c.jsx(Hn,{size:24})})]}),a&&c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:a}),h&&c.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg",children:"Impostazioni salvate con successo"}),c.jsx("div",{className:"flex gap-4 border-b border-gray-700 overflow-x-auto",children:nne.map(C=>c.jsxs("button",{type:"button",onClick:()=>u(C.id),className:`px-4 py-2 -mb-px whitespace-nowrap flex items-center gap-2 ${l===C.id?"text-[--theater-gold] border-b-2 border-[--theater-gold]":"text-gray-400 hover:text-white"}`,children:[c.jsx(C.icon,{size:16}),C.label]},C.id))}),c.jsx("div",{className:"pt-6",children:y()}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 disabled:opacity-50",children:r?"Salvataggio...":"Salva Impostazioni"})]})]})})},sne=()=>{const{settings:t,loading:e}=pA(),[n,r]=S.useState(null),[s,i]=S.useState(!1),[A,a]=S.useState({name:"",description:"",price:0,imageUrl:"",enabled:!0}),o=async h=>{if(h.preventDefault(),!!t)try{let f=[...t.products];if(n){const g=f.findIndex(m=>m.id===n);g!==-1&&(f[g]={...A,id:n})}else{const g={...A,id:crypto.randomUUID()};f.push(g)}await Tp({products:f}),i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})}catch(f){console.error("Error saving product:",f),alert("Errore durante il salvataggio del prodotto")}},l=async h=>{if(window.confirm("Sei sicuro di voler eliminare questo prodotto?")&&t)try{const f=t.products.filter(g=>g.id!==h);await Tp({products:f})}catch(f){console.error("Error deleting product:",f),alert("Errore durante l'eliminazione del prodotto")}},u=h=>{a(h),r(h.id),i(!0)};return e?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsxs("div",{className:"text-white flex items-center gap-2",children:[c.jsx("div",{className:"animate-spin",children:""}),"Caricamento..."]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestione Prodotti"}),c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[c.jsx(Xi,{size:20}),"Nuovo Prodotto"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t==null?void 0:t.products.map(h=>c.jsxs($.div,{layout:!0,className:"bg-gray-800 rounded-lg overflow-hidden shadow-lg",children:[h.imageUrl&&c.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-48 object-cover"}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:h.name}),c.jsx("p",{className:"text-gray-400 mb-4",children:h.description}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-[--theater-gold] text-xl",children:["",h.price.toFixed(2)]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>u(h),className:"p-2 text-blue-400 hover:text-blue-300",children:c.jsx(k2,{size:20})}),c.jsx("button",{onClick:()=>l(h.id),className:"p-2 text-red-400 hover:text-red-300",children:c.jsx(Yi,{size:20})})]})]})]})]},h.id))}),c.jsx(An,{children:(s||n)&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white",children:n?"Modifica Prodotto":"Nuovo Prodotto"}),c.jsx("button",{onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"text-gray-400 hover:text-white",children:c.jsx(Hn,{size:24})})]}),c.jsxs("form",{onSubmit:o,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome Prodotto"}),c.jsx("input",{type:"text",value:A.name,onChange:h=>a({...A,name:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Descrizione"}),c.jsx("textarea",{value:A.description,onChange:h=>a({...A,description:h.target.value}),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Prezzo"}),c.jsxs("div",{className:"relative",children:[c.jsx(hv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"number",step:"0.01",min:"0",value:A.price,onChange:h=>a({...A,price:parseFloat(h.target.value)}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"URL Immagine"}),c.jsxs("div",{className:"relative",children:[c.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"url",value:A.imageUrl,onChange:h=>a({...A,imageUrl:h.target.value}),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:A.enabled,onChange:h=>a({...A,enabled:h.target.checked}),className:"w-4 h-4"}),c.jsx("label",{className:"text-gray-300",children:"Prodotto attivo"})]}),c.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{i(!1),r(null),a({name:"",description:"",price:0,imageUrl:"",enabled:!0})},className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:[c.jsx(Rg,{size:20}),n?"Salva Modifiche":"Crea Prodotto"]})]})]})]})})})]})},ine=async t=>{try{console.log("Preparing email:",{to:t.to,type:t.type,data:t.data});const e=Ane(t.type,t.data);if(!e.subject||!e.html)throw new Error("Email template generation failed");console.log("Email template generated:",{subject:e.subject,htmlLength:e.html.length});const r=await g5(W5,"sendEmailFunction")({to:t.to,type:t.type,data:{...t.data,subject:e.subject,html:e.html,text:e.text}}),s=r.data.success;console.log("Email function result:",r.data);try{await zs(sn(_e,"email_logs"),{to:t.to,type:t.type,data:t.data,success:s,timestamp:Ln()})}catch(i){console.error("Error logging email:",i)}return s}catch(e){console.error("Error in sendEmail:",e instanceof Error?e.message:"Unknown error");try{await zs(sn(_e,"email_logs"),{to:t.to,type:t.type,data:t.data,success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:Ln()})}catch(n){console.error("Error logging email failure:",n)}throw e}},Ane=(t,e)=>{try{const n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #D22B2B; text-align: center;">Carnevale Cinematografico</h1>
        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;">
          {{content}}
        </div>
        <div style="text-align: center; color: #666; font-size: 12px; margin-top: 20px;">
          <p> ${new Date().getFullYear()} Carnevale Cinematografico. Tutti i diritti riservati.</p>
        </div>
      </div>
    `;let r="",s="",i="";switch(t){case"welcome":s="Benvenuto in Carnevale Cinematografico",r=`
          <p>Gentile ${(e==null?void 0:e.name)||"Utente"},</p>
          <p>Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.</p>
          <p>Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.</p>
        `,i=`
          Gentile ${(e==null?void 0:e.name)||"Utente"},
          
          Benvenuto in Carnevale Cinematografico! Siamo lieti di averti con noi.
          Da ora potrai gestire le tue prenotazioni e accedere a tutti i nostri servizi.
        `;break;case"booking":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time)||!(e!=null&&e.ticketNumber))throw new Error("Missing required booking data");s="Conferma della prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>La tua prenotazione  stata confermata con successo!</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
            <p><strong>Numero Ticket:</strong> ${e.ticketNumber}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo per il tuo servizio fotografico!</p>
        `,i=`
          Gentile ${e.name},
          
          La tua prenotazione  stata confermata con successo!
          
          Data: ${e.date}
          Orario: ${e.time}
          Numero Ticket: ${e.ticketNumber}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo per il tuo servizio fotografico!
        `;break;case"reminder":if(!(e!=null&&e.name)||!(e!=null&&e.date)||!(e!=null&&e.time))throw new Error("Missing required reminder data");s="Promemoria prenotazione",r=`
          <p>Gentile ${e.name},</p>
          <p>Ti ricordiamo che hai una prenotazione per domani:</p>
          <div style="margin: 20px 0; padding: 15px; background-color: #fff; border-radius: 4px;">
            <p><strong>Data:</strong> ${e.date}</p>
            <p><strong>Orario:</strong> ${e.time}</p>
          </div>
          <p>Indirizzo: Via Quinto Orazio Flacco 5, Aversa</p>
          <p>Ti aspettiamo!</p>
        `,i=`
          Gentile ${e.name},
          
          Ti ricordiamo che hai una prenotazione per domani:
          
          Data: ${e.date}
          Orario: ${e.time}
          
          Indirizzo: Via Quinto Orazio Flacco 5, Aversa
          
          Ti aspettiamo!
        `;break;case"subscription":if(s="Informazioni abbonamento",e!=null&&e.endDate){const A=new Date(e.endDate);if(isNaN(A.getTime()))throw new Error("Invalid subscription end date");r=`
            <p>Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.</p>
            <p>Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.</p>
            <div style="text-align: center; margin-top: 20px;">
              <a href="https://carnevale-cinematografico.web.app/profile/subscription" 
                 style="background-color: #D22B2B; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">
                Rinnova Ora
              </a>
            </div>
          `,i=`
            Il tuo abbonamento scadr il ${A.toLocaleDateString("it-IT")}.
            Per continuare ad utilizzare tutti i servizi, rinnova il tuo abbonamento.
            
            Rinnova ora: https://carnevale-cinematografico.web.app/profile/subscription
          `}else r=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.",i=(e==null?void 0:e.message)||"Controlla il tuo abbonamento.";break;case"custom":default:s="Notifica da Carnevale Cinematografico",r=`<p>${(e==null?void 0:e.message)||"Nessun messaggio"}</p>`,i=(e==null?void 0:e.message)||"Nessun messaggio";break}return{subject:s,html:n.replace("{{content}}",r),text:i.trim().replace(/\n\s+/g,`
`)}}catch(n){throw console.error("Error generating email template:",n),n}},Op=async(t,e)=>ine({to:t,type:"subscription",data:{endDate:e.endDate,message:e.message}}),ane=({subscription:t,onClose:e})=>{const[n,r]=S.useState(!1),[s,i]=S.useState(null),[A,a]=S.useState(null),[o,l]=S.useState(1),[u,h]=S.useState(""),[f,g]=S.useState(!1),m=async()=>{r(!0),i(null),a(null);try{const C=xp(t.endDate,o);await Ks(lt(_e,"subscriptions",t.userId),{endDate:C,status:"active"}),await zs(sn(_e,"subscription_history"),{userId:t.userId,email:t.email,action:"extension",months:o,previousEndDate:t.endDate,newEndDate:C,timestamp:new Date}),a(`Abbonamento esteso di ${o} ${o===1?"mese":"mesi"}`),await Op(t.email,{type:"extension",endDate:C})}catch(C){console.error("Error extending subscription:",C),i("Errore durante l'estensione dell'abbonamento")}finally{r(!1)}},y=async()=>{if(!u.trim()){i("Inserisci un messaggio per la notifica");return}r(!0),i(null),a(null);try{await Op(t.email,{type:"custom",message:u}),await zs(sn(_e,"notification_history"),{userId:t.userId,email:t.email,message:u,timestamp:new Date}),a("Notifica inviata con successo"),h("")}catch(C){console.error("Error sending notification:",C),i("Errore durante l'invio della notifica")}finally{r(!1)}};return c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-md relative",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(Hn,{size:24})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Gestione Abbonamento"}),s&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),s]}),A&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Vn,{size:20}),A]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[c.jsx(Fn,{className:"text-[--theater-gold]"}),"Estendi Abbonamento"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Durata estensione (mesi)"}),c.jsx("input",{type:"number",min:"1",max:"12",value:o,onChange:C=>l(parseInt(C.target.value)),className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{className:"text-sm text-gray-400",children:["Nuova data di scadenza:"," ",c.jsx("span",{className:"text-white",children:$e(xp(t.endDate,o),"dd MMMM yyyy",{locale:qs})})]}),c.jsxs("button",{onClick:m,disabled:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[n?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Vn,{size:20}),"Estendi Abbonamento"]})]})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("h3",{className:"text-lg font-medium text-white flex items-center gap-2 mb-4",children:[c.jsx(dv,{className:"text-[--theater-gold]"}),"Invia Notifica"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("textarea",{value:u,onChange:C=>h(C.target.value),placeholder:"Scrivi un messaggio...",className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white h-24 resize-none"}),c.jsxs("button",{onClick:y,disabled:n||!u.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[n?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(dv,{size:20}),"Invia Notifica"]})]})]}),c.jsxs("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-500 transition-colors",children:[c.jsx(c6,{size:20}),"Visualizza Storico"]})]}),c.jsx(An,{children:f&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-2xl relative",children:[c.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:c.jsx(Hn,{size:24})}),c.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Gs,{className:"text-[--theater-gold]"}),"Storico Abbonamento"]}),c.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Storico in fase di implementazione"})})]})})})]})})},one=({subscriptions:t})=>{const e={total:t.length,active:t.filter(n=>n.status==="active").length,expiringSoon:t.filter(n=>{const r=Math.ceil((n.endDate.getTime()-Date.now())/864e5);return n.status==="active"&&r<=7}).length,monthlyRevenue:t.filter(n=>n.status==="active"&&n.plan==="monthly").length*20+t.filter(n=>n.status==="active"&&n.plan==="yearly").length*8.333333333333334};return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:c.jsx(ox,{className:"w-6 h-6 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Totale Abbonati"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.total})]})]})}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:c.jsx(fu,{className:"w-6 h-6 text-green-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Abbonamenti Attivi"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.active})]})]})}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:c.jsx(Gs,{className:"w-6 h-6 text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"In Scadenza"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:e.expiringSoon})]})]})}),c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-700 p-6 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-[--theater-gold]/20 rounded-lg",children:c.jsx(B6,{className:"w-6 h-6 text-[--theater-gold]"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-400 text-sm",children:"Ricavi Mensili"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:["",Math.round(e.monthlyRevenue)]})]})]})})]})},lne=({subscriptions:t})=>{const[e,n]=S.useState(!1),[r,s]=S.useState(null),i=()=>{n(!0),s(null);try{const A=["Email","Piano","Stato","Data Inizio","Data Scadenza","Prenotazioni Usate","Limite Prenotazioni"],a=t.map(f=>[f.email,f.plan,f.status,$e(f.startDate,"dd/MM/yyyy",{locale:qs}),$e(f.endDate,"dd/MM/yyyy",{locale:qs}),f.bookingsUsed,f.maxBookings]),o=[A.join(","),...a.map(f=>f.join(","))].join(`
`),l=new Blob([o],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(l);u.setAttribute("href",h),u.setAttribute("download",`abbonamenti_${$e(new Date,"yyyy-MM-dd")}.csv`),document.body.appendChild(u),u.click(),document.body.removeChild(u)}catch(A){console.error("Error exporting subscriptions:",A),s("Errore durante l'esportazione")}finally{n(!1)}};return c.jsxs("div",{className:"mb-6",children:[r&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-4 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),r]}),c.jsxs($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors disabled:opacity-50",children:[e?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(o6,{size:20}),"Esporta Abbonamenti"]})]})},$R=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(""),[o,l]=S.useState("all"),[u,h]=S.useState(null);S.useEffect(()=>{const g=sn(_e,"subscriptions"),m=hA(g,Do("endDate","desc")),y=sl(m,C=>{const B=C.docs.map(v=>{const w=v.data();return{...w,id:v.id,startDate:w.startDate?new Date(w.startDate):new Date,endDate:w.endDate?new Date(w.endDate):new Date}});e(B),r(!1)},C=>{console.error("Error fetching subscriptions:",C),i("Errore nel caricamento degli abbonamenti"),r(!1)});return()=>y()},[]);const f=t.filter(g=>{const m=g.email.toLowerCase().includes(A.toLowerCase()),y=o==="all"||g.status===o;return m&&y});return n?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):c.jsxs("div",{className:"min-h-screen bg-gray-900 py-8",children:[c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(ox,{className:"text-[--theater-gold]"}),"Gestione Abbonamenti"]}),c.jsx("div",{className:"flex gap-4",children:c.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:c.jsx(R2,{size:20})})})]}),c.jsx(one,{subscriptions:t}),c.jsx(lne,{subscriptions:t}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per email...",value:A,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rp,{className:"text-gray-400"}),c.jsxs("select",{value:o,onChange:g=>l(g.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),c.jsx("option",{value:"active",children:"Attivi"}),c.jsx("option",{value:"expired",children:"Scaduti"})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Piano"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Scadenza"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Prenotazioni"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),c.jsx("tbody",{children:f.map(g=>c.jsxs($.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-4 text-white",children:g.email}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-500/20 text-blue-400",children:g.plan})}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${g.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:g.status==="active"?"Attivo":"Scaduto"})}),c.jsx("td",{className:"p-4 text-white",children:$e(g.endDate,"dd MMM yyyy",{locale:qs})}),c.jsxs("td",{className:"p-4 text-white",children:[g.bookingsUsed," / ",g.maxBookings]}),c.jsx("td",{className:"p-4",children:c.jsx("button",{onClick:()=>h(g),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:c.jsx(Ei,{size:18})})})]},g.id))})]})})]})}),c.jsx(An,{children:u&&c.jsx(ane,{subscription:u,onClose:()=>h(null)})})]})},cne=async t=>{try{const e=new Date(t.booking_date);if(isNaN(e.getTime()))throw new Error("Data di prenotazione non valida");const n=e.toISOString().split("T")[0],r=await zs(sn(_e,"bookings"),{...t,booking_date:n,created_at:Ln()});if(t.userId)try{const i=(await qi(lt(_e,"users",t.userId))).data();if(i!=null&&i.calendarConnected){const A=new Date(`${n}T${t.booking_time}`),a=new Date(A.getTime()+60*60*1e3);await rq(t.userId,{summary:`Prenotazione Fotografica - ${t.firstName} ${t.lastName}`,description:`Prenotazione: ${t.ticket_number}
Servizio: ${t.service_type}`,startTime:A,endTime:a,location:"Via Quinto Orazio Flacco 5, Aversa"})}}catch(s){console.error("Error syncing with Google Calendar:",s)}return r.id}catch(e){throw console.error("Error creating booking:",e),e}},une=({selectedDate:t,selectedTime:e,onTimeSelect:n})=>{const{settings:r}=pA(),[s,i]=S.useState([]);return S.useEffect(()=>{if(!r)return;const A=[],[a,o=0]=r.startTime.split(":").map(Number),[l,u=0]=r.endTime.split(":").map(Number),h=r.bookingIntervals||30;let f=_p(bp(t,o),a);const g=_p(bp(t,u),l);for(;f<g;){const m=$e(f,"HH:mm");A.push(m),f=Nk(f,h)}i(A)},[t,r]),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("label",{className:"block text-gray-300",children:[c.jsx(Gs,{size:16,className:"inline-block mr-2"}),"Orari Disponibili"]}),c.jsx("div",{className:"grid grid-cols-4 gap-2",children:s.map(A=>c.jsx("button",{type:"button",onClick:()=>n(A),className:`
              p-2 rounded text-center transition-colors
              ${e===A?"bg-[--theater-gold] text-black":"bg-gray-700 text-white hover:bg-gray-600"}
            `,children:A},A))})]})},dne=kn.object({firstName:kn.string().min(2,"Nome richiesto"),lastName:kn.string().min(2,"Cognome richiesto"),email:kn.string().email("Email non valida"),phone:kn.string().min(9,"Numero di telefono non valido").max(10,"Numero di telefono non valido"),service_type:kn.string().min(1,"Seleziona un tipo di servizio"),notes:kn.string().optional()}),hne=({isOpen:t,onClose:e,onSuccess:n})=>{const{settings:r}=pA(),[s,i]=S.useState(null),[A,a]=S.useState(""),[o,l]=S.useState(!1),[u,h]=S.useState(null),{register:f,handleSubmit:g,formState:{errors:m},reset:y}=vk({resolver:Bk(dne)}),C=()=>`CNC-${Math.random().toString(36).substr(2,6).toUpperCase()}`,B=async v=>{if(!s||!A){h("Seleziona data e ora per la prenotazione");return}l(!0),h(null);try{const w={...v,booking_date:s.toISOString().split("T")[0],booking_time:A,ticket_number:C(),status:"pending"};await cne(w),y(),i(null),a(""),n&&n(),e()}catch(w){console.error("Error creating booking:",w),h("Errore durante la creazione della prenotazione")}finally{l(!1)}};return c.jsx(An,{children:t&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Fn,{className:"text-[--theater-gold]"}),"Nuova Prenotazione"]}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:c.jsx(Hn,{size:24})})]}),u&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),u]}),c.jsxs("form",{onSubmit:g(B),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nome"}),c.jsxs("div",{className:"relative",children:[c.jsx(Po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("firstName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome"})]}),m.firstName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Cognome"}),c.jsxs("div",{className:"relative",children:[c.jsx(Po,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("lastName"),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Cognome"})]}),m.lastName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("email"),type:"email",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"email@esempio.com"})]}),m.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{...f("phone"),type:"tel",className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il numero senza prefisso"})]}),m.phone&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Servizio"}),c.jsxs("select",{...f("service_type"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"",children:"Seleziona servizio"}),r==null?void 0:r.serviceTypes.filter(v=>v.enabled).map(v=>c.jsx("option",{value:v.id,children:v.name},v.id))]}),m.service_type&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.service_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Note (opzionale)"}),c.jsx("textarea",{...f("notes"),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",rows:3,placeholder:"Note aggiuntive..."})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Data"}),c.jsx("input",{type:"date",value:s?s.toISOString().split("T")[0]:"",onChange:v=>i(v.target.value?new Date(v.target.value):null),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),s&&c.jsx(une,{selectedDate:s,selectedTime:A,onTimeSelect:a})]})]}),c.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-700",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Annulla"}),c.jsx("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:o?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Creazione in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Vn,{size:20}),"Crea Prenotazione"]})})]})]})]})})})},qR=1024*1024,jp=4096,fne=["image/jpeg","image/png"],Uh={FILE_TOO_LARGE:`Il file  troppo grande (max ${qR/1024/1024}MB)`,INVALID_TYPE:"Formato file non valido (solo JPG e PNG sono permessi)",DIMENSIONS_TOO_LARGE:`Dimensioni immagine troppo grandi (max ${jp}x${jp}px)`,CORRUPT_FILE:"File immagine non valido o corrotto",MISSING_BOOKING_ID:"ID prenotazione mancante",MISSING_PHOTO_ID:"ID foto mancante",NETWORK_ERROR:"Errore di rete durante il caricamento",UPLOAD_FAILED:"Caricamento fallito",DELETE_FAILED:"Eliminazione fallita"},XR=async t=>t.size>qR?{valid:!1,error:Uh.FILE_TOO_LARGE}:fne.includes(t.type)?new Promise(e=>{const n=new Image,r=URL.createObjectURL(t);n.onload=()=>{URL.revokeObjectURL(r),(n.width>jp||n.height>jp)&&e({valid:!1,error:Uh.DIMENSIONS_TOO_LARGE}),e({valid:!0,width:n.width,height:n.height})},n.onerror=()=>{URL.revokeObjectURL(r),e({valid:!1,error:Uh.CORRUPT_FILE})},n.src=r}):{valid:!1,error:Uh.INVALID_TYPE},pne=async(t,e,n,r,s)=>{try{const i=await XR(e);if(!i.valid)throw new Error(i.error);const A=new FormData;A.append("photo",e),A.append("bookingId",t);const a=new XMLHttpRequest;a.upload.onprogress=o=>{if(o.lengthComputable&&n){const l=o.loaded/o.total*100;n(l)}},a.onload=async()=>{if(a.status===200)try{const o=JSON.parse(a.responseText);if(o.success&&o.url){const l={id:o.name,url:o.url,name:o.name,uploadedAt:new Date,width:i.width,height:i.height,size:e.size};r&&r(l)}else throw new Error(o.error||"Upload failed")}catch{s&&s(new Error("Error parsing server response"))}else s&&s(new Error("Upload failed"))},a.onerror=()=>{s&&s(new Error("Network error"))},a.open("POST","/carnival2025/api/upload.php",!0),a.send(A)}catch(i){console.error("Error uploading photo:",i),s&&s(i)}},gne=async(t,e)=>{try{const n=await fetch("/carnival2025/api/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bookingId:t,photoUrl:e})});if(!n.ok)throw new Error("Error deleting photo");const r=await n.json();if(!r.success)throw new Error(r.error||"Error deleting photo")}catch(n){throw console.error("Error deleting photo:",n),n}};function mne(t,e){if(t==null)return{};var n=yne(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yne(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Vp(){return Vp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){vne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const wne={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},K0=2;class YR extends pe.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let n;this.props.breakpointCols&&this.props.breakpointCols.default?n=this.props.breakpointCols.default:n=parseInt(this.props.breakpointCols)||K0,this.state={columnCount:n}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let n=this.props.breakpointCols;typeof n!="object"&&(n={default:parseInt(n)||K0});let r=1/0,s=n.default||K0;for(let i in n){const A=parseInt(i);A>0&&e<=A&&A<r&&(r=A,s=n[i])}s=Math.max(1,parseInt(s)||1),this.state.columnCount!==s&&this.setState({columnCount:s})}itemsInColumns(){const e=this.state.columnCount,n=new Array(e),r=pe.Children.toArray(this.props.children);for(let s=0;s<r.length;s++){const i=s%e;n[i]||(n[i]=[]),n[i].push(r[s])}return n}renderColumns(){const{column:e,columnAttrs:n={},columnClassName:r}=this.props,s=this.itemsInColumns(),i=`${100/s.length}%`;let A=r;A&&typeof A!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof A>"u"&&(A="my-masonry-grid_column"));const a=jl(jl(jl({},e),n),{},{style:jl(jl({},n.style),{},{width:i}),className:A});return s.map((o,l)=>pe.createElement("div",Vp({},a,{key:l}),o))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:n,breakpointCols:r,columnClassName:s,columnAttrs:i,column:A,className:a}=e,o=mne(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let l=a;return typeof a!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof a>"u"&&(l="my-masonry-grid")),pe.createElement("div",Vp({},o,{className:l}),this.renderColumns())}}YR.defaultProps=wne;function Bne(){return pe.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},pe.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))}function xne(){return pe.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},pe.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))}const Hp=(t,e)=>{var n,r;return t===((r=(n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase)==null?void 0:r.call(n))},AC=t=>Hp("DIV",t)||Hp("SPAN",t),Kp=t=>Hp("IMG",t),PT=t=>t.complete&&t.naturalHeight!==0,of=t=>Hp("SVG",t),JR=({height:t,offset:e,width:n})=>Math.min((window.innerWidth-e*2)/n,(window.innerHeight-e*2)/t),Cne=({containerHeight:t,containerWidth:e,offset:n,targetHeight:r,targetWidth:s})=>{const i=JR({height:r,offset:n,width:s}),A=s>r?s/e:r/t;return i>1?A:i*A},KA=({containerHeight:t,containerWidth:e,hasScalableSrc:n,offset:r,targetHeight:s,targetWidth:i})=>!t||!e?1:!n&&s&&i?Cne({containerHeight:t,containerWidth:e,offset:r,targetHeight:s,targetWidth:i}):JR({height:t,offset:r,width:e}),Ene=/url(?:\(['"]?)(.*?)(?:['"]?\))/,LT=t=>{var e;if(t){if(Kp(t))return t.currentSrc;if(AC(t)){const n=window.getComputedStyle(t).backgroundImage;if(n)return(e=Ene.exec(n))==null?void 0:e[1]}}},_ne=t=>{if(t)return Kp(t)?t.alt??void 0:t.getAttribute("aria-label")??void 0},bne=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:r,hasScalableSrc:s,offset:i,targetHeight:A,targetWidth:a})=>{const o=KA({containerHeight:t,containerWidth:r,hasScalableSrc:s,offset:i,targetHeight:A,targetWidth:a});return{top:n,left:e,width:r*o,height:t*o,transform:`translate(0,0) scale(${1/o})`}},lr=({position:t,relativeNum:e})=>{const n=parseFloat(t);return t.endsWith("%")?e*n/100:n},Ine=({containerHeight:t,containerLeft:e,containerTop:n,containerWidth:r,hasScalableSrc:s,objectFit:i,objectPosition:A,offset:a,targetHeight:o,targetWidth:l})=>{if(i==="scale-down"&&(l<=r&&o<=t?i="none":i="contain"),i==="cover"||i==="contain"){const u=r/l,h=t/o,f=i==="cover"?Math.max(u,h):Math.min(u,h),[g="50%",m="50%"]=A.split(" "),y=lr({position:g,relativeNum:r-l*f}),C=lr({position:m,relativeNum:t-o*f}),B=KA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{top:n+C,left:e+y,width:l*f*B,height:o*f*B,transform:`translate(0,0) scale(${1/B})`}}else if(i==="none"){const[u="50%",h="50%"]=A.split(" "),f=lr({position:u,relativeNum:r-l}),g=lr({position:h,relativeNum:t-o}),m=KA({containerHeight:o,containerWidth:l,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{top:n+g,left:e+f,width:l*m,height:o*m,transform:`translate(0,0) scale(${1/m})`}}else if(i==="fill"){const u=r/l,h=t/o,f=Math.max(u,h),g=KA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:s,offset:a,targetHeight:o,targetWidth:l});return{width:r*g,height:t*g,transform:`translate(0,0) scale(${1/g})`}}else return{}},Tne=({backgroundPosition:t,backgroundSize:e,containerHeight:n,containerLeft:r,containerTop:s,containerWidth:i,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l})=>{if(e==="cover"||e==="contain"){const u=i/l,h=n/o,f=e==="cover"?Math.max(u,h):Math.min(u,h),[g="50%",m="50%"]=t.split(" "),y=lr({position:g,relativeNum:i-l*f}),C=lr({position:m,relativeNum:n-o*f}),B=KA({containerHeight:o*f,containerWidth:l*f,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+C,left:r+y,width:l*f*B,height:o*f*B,transform:`translate(0,0) scale(${1/B})`}}else if(e==="auto"){const[u="50%",h="50%"]=t.split(" "),f=lr({position:u,relativeNum:i-l}),g=lr({position:h,relativeNum:n-o}),m=KA({containerHeight:o,containerWidth:l,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+g,left:r+f,width:l*m,height:o*m,transform:`translate(0,0) scale(${1/m})`}}else{const[u="50%",h="50%"]=e.split(" "),f=lr({position:u,relativeNum:i}),g=lr({position:h,relativeNum:n}),m=f/l,y=g/o,C=Math.min(m,y),[B="50%",v="50%"]=t.split(" "),w=lr({position:B,relativeNum:i-l*C}),F=lr({position:v,relativeNum:n-o*C}),N=KA({containerHeight:o*C,containerWidth:l*C,hasScalableSrc:A,offset:a,targetHeight:o,targetWidth:l});return{top:s+F,left:r+w,width:l*C*N,height:o*C*N,transform:`translate(0,0) scale(${1/N})`}}},Fne=/\.svg$/i,Une=({hasZoomImg:t,imgSrc:e,isSvg:n,isZoomed:r,loadedImgEl:s,offset:i,shouldRefresh:A,targetEl:a})=>{var B;const o=n||((B=e==null?void 0:e.slice)==null?void 0:B.call(e,0,18))==="data:image/svg+xml"||t||!!(e&&Fne.test(e)),l=a.getBoundingClientRect(),u=window.getComputedStyle(a),h=s!=null&&AC(a),f=s!=null&&!h,g=bne({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}),m=f?Ine({containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,objectFit:u.objectFit,objectPosition:u.objectPosition,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}):void 0,y=h?Tne({backgroundPosition:u.backgroundPosition,backgroundSize:u.backgroundSize,containerHeight:l.height,containerLeft:l.left,containerTop:l.top,containerWidth:l.width,hasScalableSrc:o,offset:i,targetHeight:(s==null?void 0:s.naturalHeight)||l.height,targetWidth:(s==null?void 0:s.naturalWidth)||l.width}):void 0,C=Object.assign({},g,m,y);if(r){const v=window.innerWidth/2,w=window.innerHeight/2,F=parseFloat(String(C.left||0))+parseFloat(String(C.width||0))/2,N=parseFloat(String(C.top||0))+parseFloat(String(C.height||0))/2,k=v-F,I=w-N;A&&(C.transitionDuration="0.01ms"),C.transform=`translate(${k}px,${I}px) scale(1)`}return C},z0=t=>{if(!t)return{};if(of(t)){const e=t.parentElement,n=t.getBoundingClientRect();if(e){const r=e.getBoundingClientRect();return{height:n.height,left:r.left-n.left,top:r.top-n.top,width:n.width}}else return{height:n.height,left:n.left,width:n.width,top:n.top}}else return{height:t.offsetHeight,left:t.offsetLeft,width:t.offsetWidth,top:t.offsetTop}},Sne=t=>{const e="-zoom",n=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],r=new Map;if(t.hasAttribute("id")){const s=t.id,i=s+e;r.set(s,i),t.id=i}t.querySelectorAll("[id]").forEach(s=>{const i=s.id,A=i+e;r.set(i,A),s.id=A}),r.forEach((s,i)=>{const A=`url(#${i})`,a=`url(#${s})`,o=n.map(l=>`[${l}="${A}"]`).join(", ");t.querySelectorAll(o).forEach(l=>{n.forEach(u=>{l.getAttribute(u)===A&&l.setAttribute(u,a)})})}),t.querySelectorAll("style").forEach(s=>{r.forEach((i,A)=>{s.textContent&&(s.textContent=s.textContent.replaceAll(`#${A}`,`#${i}`))})})},Qne=["img","svg",'[role="img"]',"[data-zoom]"].map(t=>`${t}:not([aria-hidden="true"])`).join(","),MT={overflow:"",width:""};function Nne(t){return pe.createElement(ZR,{...t})}class ZR extends pe.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=pe.createRef(),this.refDialog=pe.createRef(),this.refModalContent=pe.createRef(),this.refModalImg=pe.createRef(),this.refWrap=pe.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=MT,this.styleModalImg={},this.handleModalStateChange=e=>{var r,s,i,A;const{modalState:n}=this.state;e!=="LOADING"&&n==="LOADING"?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):e!=="LOADED"&&n==="LOADED"?window.addEventListener("wheel",this.handleWheel,{passive:!0}):e!=="UNLOADING"&&n==="UNLOADING"?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):e!=="UNLOADED"&&n==="UNLOADED"&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),(s=(r=this.refModalImg.current)==null?void 0:r.removeEventListener)==null||s.call(r,"transitionend",this.handleImgTransitionEnd),(A=(i=this.refDialog.current)==null?void 0:i.close)==null||A.call(i))},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return e==null&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{var n,r;const e=this.refContent.current;e&&(this.imgEl=e.querySelector(Qne),this.imgEl?((r=(n=this.contentNotFoundChangeObserver)==null?void 0:n.disconnect)==null||r.call(n),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver(s=>{const i=s[0];i!=null&&i.target&&(this.imgEl=i.target,this.setState({styleGhost:z0(this.imgEl)}))}),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver(()=>{this.setState({styleGhost:z0(this.imgEl)})}),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:n}=this.props;!e&&n?this.zoom():e&&!n&&this.unzoom()},this.handleImgLoad=()=>{const e=LT(this.imgEl);if(!e)return;const n=new Image;Kp(this.imgEl)&&(n.sizes=this.imgEl.sizes,n.srcset=this.imgEl.srcset),n.src=e;const r=()=>{this.setState({loadedImgEl:n,styleGhost:z0(this.imgEl)})};n.decode().then(r).catch(()=>{if(PT(n)){r();return}n.onload=r})},this.handleZoom=()=>{var e,n;this.hasImage()&&((n=(e=this.props).onZoomChange)==null||n.call(e,!0))},this.handleUnzoom=()=>{var e,n;(n=(e=this.props).onZoomChange)==null||n.call(e,!1)},this.handleBtnUnzoomClick=e=>{e.preventDefault(),e.stopPropagation(),this.handleUnzoom()},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{(e.target===this.refModalContent.current||e.target===this.refModalImg.current)&&(e.stopPropagation(),this.handleUnzoom())},this.handleDialogClose=e=>{e.stopPropagation(),this.handleUnzoom()},this.handleKeyDown=e=>{(e.key==="Escape"||e.keyCode===27)&&(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask(()=>{this.handleUnzoom()}))},this.handleTouchStart=e=>{if(e.touches.length>1){this.isScaling=!0;return}e.changedTouches.length===1&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{var r;const n=((r=window.visualViewport)==null?void 0:r.scale)??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&n<=1&&this.touchYStart!=null&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const s=Math.max(this.touchYStart,this.touchYEnd),i=Math.min(this.touchYStart,this.touchYEnd);Math.abs(s-i)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||of(this.imgEl))&&window.getComputedStyle(this.imgEl).display!=="none",this.zoom=()=>{var e,n,r,s;this.bodyScrollDisable(),(n=(e=this.refDialog.current)==null?void 0:e.showModal)==null||n.call(e),(s=(r=this.refModalImg.current)==null?void 0:r.addEventListener)==null||s.call(r,"transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),this.state.modalState==="LOADING"?this.setState({modalState:"LOADED"}):this.state.modalState==="UNLOADING"&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,n=parseFloat(e);if(n){const r=n*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,r)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=MT},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,n=e==null?void 0:e.src;if(n){const r=new Image;r.sizes=(e==null?void 0:e.sizes)??"",r.srcset=(e==null?void 0:e.srcSet)??"",r.src=n;const s=()=>{this.setState({isZoomImgLoaded:!0})};r.decode().then(s).catch(()=>{if(PT(r)){s();return}r.onload=s})}},this.UNSAFE_handleSvg=()=>{var s,i,A,a,o;const{imgEl:e,refModalImg:n,styleModalImg:r}=this;if(of(e)){const l=e.cloneNode(!0);Sne(l),l.style.width=`${r.width||0}px`,l.style.height=`${r.height||0}px`,l.addEventListener("click",this.handleUnzoom),(A=(i=(s=n.current)==null?void 0:s.firstChild)==null?void 0:i.remove)==null||A.call(i),(o=(a=n.current)==null?void 0:a.appendChild)==null||o.call(a,l)}}}render(){const{handleBtnUnzoomClick:e,handleDialogCancel:n,handleDialogClick:r,handleDialogClose:s,handleUnzoom:i,handleZoom:A,imgEl:a,props:{a11yNameButtonUnzoom:o,a11yNameButtonZoom:l,children:u,classDialog:h,IconUnzoom:f,IconZoom:g,isZoomed:m,wrapElement:y,ZoomContent:C,zoomImg:B,zoomMargin:v},refContent:w,refDialog:F,refModalContent:N,refModalImg:k,refWrap:I,state:{id:E,isZoomImgLoaded:b,loadedImgEl:_,modalState:Q,shouldRefresh:R,styleGhost:T}}=this,Y=`rmiz-modal-${E}`,ie=`rmiz-modal-img-${E}`,V=AC(a),X=Kp(a),P=of(a),K=_ne(a),z=LT(a),ge=X?a.sizes:void 0,we=X?a.srcset:void 0,Te=!!(B!=null&&B.src),Ke=this.hasImage(),tt=K?`${l}: ${K}`:l,At=Q==="LOADING"||Q==="LOADED",gt=Ke?"found":"not-found",hs=Q==="UNLOADED"||Q==="UNLOADING"?"hidden":"visible",ha={visibility:Q==="UNLOADED"?"visible":"hidden"};this.styleModalImg=Ke?Une({hasZoomImg:Te,imgSrc:z,isSvg:P,isZoomed:m&&At,loadedImgEl:_,offset:v,shouldRefresh:R,targetEl:a}):{};let fs=null;if(Ke){const Or=X||V?pe.createElement("img",{alt:K,sizes:ge,src:z,srcSet:we,...b&&Q==="LOADED"?B:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:ie,ref:k,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):P?pe.createElement("div",{"data-rmiz-modal-img":!0,ref:k,style:this.styleModalImg}):null,ei=pe.createElement("button",{"aria-label":o,"data-rmiz-btn-unzoom":"",onClick:e,type:"button"},pe.createElement(f,null));fs=C?pe.createElement(C,{buttonUnzoom:ei,modalState:Q,img:Or,onUnzoom:i}):pe.createElement(pe.Fragment,null,Or,ei)}return pe.createElement(y,{"aria-owns":Y,"data-rmiz":"",ref:I},pe.createElement(y,{"data-rmiz-content":gt,ref:w,style:ha},u),Ke&&pe.createElement(y,{"data-rmiz-ghost":"",style:T},pe.createElement("button",{"aria-label":tt,"data-rmiz-btn-zoom":"",onClick:A,type:"button"},pe.createElement(g,null))),Ke&&nL.createPortal(pe.createElement("dialog",{"aria-labelledby":ie,"aria-modal":"true",className:h,"data-rmiz-modal":"",id:Y,onClick:r,onClose:s,onCancel:n,ref:F,role:"dialog"},pe.createElement("div",{"data-rmiz-modal-overlay":hs}),pe.createElement("div",{"data-rmiz-modal-content":"",ref:N},fs)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){var e,n,r,s,i,A,a,o,l,u,h,f;this.state.modalState!=="UNLOADED"&&this.bodyScrollEnable(),(n=(e=this.contentChangeObserver)==null?void 0:e.disconnect)==null||n.call(e),(s=(r=this.contentNotFoundChangeObserver)==null?void 0:r.disconnect)==null||s.call(r),(A=(i=this.imgElResizeObserver)==null?void 0:i.disconnect)==null||A.call(i),(o=(a=this.imgEl)==null?void 0:a.removeEventListener)==null||o.call(a,"load",this.handleImgLoad),(u=(l=this.imgEl)==null?void 0:l.removeEventListener)==null||u.call(l,"click",this.handleZoom),(f=(h=this.refModalImg.current)==null?void 0:h.removeEventListener)==null||f.call(h,"transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,n){this.handleModalStateChange(n.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}ZR.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:Bne,IconZoom:xne,swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0};function kne(t){const[e,n]=pe.useState(!1);return pe.createElement(Nne,{...t,isZoomed:e,onZoomChange:n})}const Rne=({bookingId:t,isOpen:e,onClose:n})=>{const[r,s]=S.useState([]),[i,A]=S.useState(!1),[a,o]=S.useState(0),[l,u]=S.useState(null),[h,f]=S.useState(null),[g,m]=S.useState(0),[y,C]=S.useState(!1),B=3,v=async I=>{const E=Array.from(I.target.files||[]);if(E.length!==0){A(!0),u(null),f(null);try{for(const b of E){const _=await XR(b);if(!_.valid)throw new Error(_.error);let Q=0,R=!1;for(;Q<B&&!R;)try{await pne(t,b,T=>o(T),T=>{s(Y=>[...Y,T]),f("Foto caricata con successo"),R=!0},T=>{if(Q<B-1)Q++,m(Q);else throw T})}catch(T){if(Q===B-1)throw T;await new Promise(Y=>setTimeout(Y,1e3*(Q+1)))}}}catch(b){console.error("Error uploading photos:",b),u(b instanceof Error?b.message:"Errore durante il caricamento")}finally{A(!1),o(0),m(0),I.target.value=""}}},w=async I=>{if(window.confirm("Sei sicuro di voler eliminare questa foto? Questa azione non pu essere annullata."))try{await gne(t,I),s(E=>E.filter(b=>b.id!==I)),f("Foto eliminata con successo")}catch(E){console.error("Error deleting photo:",E),u("Errore durante l'eliminazione della foto")}},F=()=>{C(!0)},N=async()=>{const I=`${window.location.origin}/gallery/${t}`;try{await navigator.clipboard.writeText(I),f("Link copiato negli appunti"),setTimeout(()=>f(null),2e3)}catch{u("Errore durante la copia del link")}},k={default:4,1100:3,700:2,500:1};return c.jsx(An,{children:e&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-900 rounded-xl p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4 mb-6",children:[c.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[c.jsx(id,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[c.jsx(ax,{size:20}),"Condividi"]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(Hn,{size:24})})]})]}),l&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),l,g>0&&` (Tentativo ${g}/${B})`]}),h&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Vn,{size:20}),h]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("input",{type:"file",multiple:!0,accept:"image/jpeg,image/png",onChange:v,className:"hidden",id:"photo-upload",disabled:i}),c.jsx("label",{htmlFor:"photo-upload",className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors cursor-pointer disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-black border-t-transparent animate-spin"}),"Caricamento... ",Math.round(a),"%"]}):c.jsxs(c.Fragment,{children:[c.jsx(E6,{size:20}),"Carica Foto"]})})]}),c.jsx(YR,{breakpointCols:k,className:"flex -ml-4 w-auto",columnClassName:"pl-4 bg-clip-padding",children:r.map(I=>c.jsxs("div",{className:"mb-4 relative group",children:[c.jsx(kne,{children:c.jsx("img",{src:I.url,alt:I.name,className:"w-full rounded-lg",loading:"lazy"})}),c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:c.jsx("button",{onClick:()=>w(I.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-full transition-colors",children:c.jsx(Yi,{size:20})})})]},I.id))}),c.jsx(An,{children:y&&c.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:c.jsxs($.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-gray-800 rounded-lg p-6 max-w-md w-full",children:[c.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Condividi Galleria"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"Condividi questo link con i tuoi clienti per permettere loro di visualizzare e selezionare le foto."}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:`${window.location.origin}/gallery/${t}`,readOnly:!0,className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white"}),c.jsx("button",{onClick:N,className:"px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500",children:"Copia"})]}),c.jsx("div",{className:"flex justify-end mt-4",children:c.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Chiudi"})})]})})})]})})})},Dne=()=>{const[t,e]=S.useState(""),[n,r]=S.useState([]),[s,i]=S.useState([]),[A,a]=S.useState(!1),[o,l]=S.useState(null),[u,h]=S.useState(null),[f,g]=S.useState(!1);S.useEffect(()=>{(async()=>{a(!0),l(null);try{const C=sn(_e,"bookings"),B=hA(C,Do("booking_date","desc"),Do("booking_time","desc")),w=(await Sg(B)).docs.map(F=>({id:F.id,...F.data()}));r(w),i(w)}catch(C){console.error("Error loading bookings:",C),l("Errore durante il caricamento delle prenotazioni")}finally{a(!1)}})()},[]),S.useEffect(()=>{const y=n.filter(C=>C.ticket_number.toLowerCase().includes(t.toLowerCase())||C.firstName.toLowerCase().includes(t.toLowerCase())||C.lastName.toLowerCase().includes(t.toLowerCase())||C.email.toLowerCase().includes(t.toLowerCase())||C.phone.includes(t));i(y)},[t,n]);const m=y=>{h(y),g(!0)};return c.jsx("div",{className:"space-y-6",children:f?c.jsx(Rne,{bookingId:u==null?void 0:u.id,isOpen:!0,onClose:()=>{g(!1),h(null),e("")}}):c.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[c.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-2",children:[c.jsx(id,{className:"text-[--theater-gold]"}),"Gestione Galleria"]}),o&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),o]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Dg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:t,onChange:y=>e(y.target.value),placeholder:"Cerca per nome, email, telefono o ticket...",className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsx("div",{className:"space-y-4",children:A?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Caricamento prenotazioni..."}):s.length===0?c.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nessuna prenotazione trovata"}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(y=>c.jsx($.button,{onClick:()=>m(y),className:"bg-gray-700 p-4 rounded-lg text-left hover:bg-gray-600 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Po,{size:16,className:"text-[--theater-gold]"}),c.jsxs("span",{className:"text-white font-medium",children:[y.firstName," ",y.lastName]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[c.jsx(Fn,{size:14}),c.jsxs("span",{children:[$e(new Date(y.booking_date),"d MMMM yyyy",{locale:qs})," ",y.booking_time]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[c.jsx(il,{size:14}),c.jsx("span",{children:y.phone})]})]}),c.jsxs("span",{className:"px-2 py-1 bg-[--theater-gold]/10 text-[--theater-gold] rounded text-sm",children:["#",y.ticket_number]})]})},y.id))})})]})]})})},Pne=()=>{const[t,e]=S.useState("bookings"),[n,r]=S.useState(!1),[s,i]=S.useState(!1),[A,a]=S.useState([]),[o,l]=S.useState(""),[u,h]=S.useState("all"),[f,g]=S.useState("all"),[m,y]=S.useState(!0),[C,B]=S.useState(null),[v,w]=S.useState(!1),{settings:F}=pA(),{statuses:N,getStatusColor:k}=sd(),{user:I}=Zs();S.useEffect(()=>{if(I)try{const _=hA(sn(_e,"bookings"),Do("booking_date","asc"),Do("booking_time","asc")),Q=sl(_,R=>{const T=R.docs.map(Y=>({id:Y.id,...Y.data()}));a(T),y(!1),B(null)},R=>{console.error("Error fetching bookings:",R),B("Errore nel caricamento delle prenotazioni. Verifica di avere i permessi necessari."),y(!1)});return()=>Q()}catch(_){console.error("Error setting up bookings listener:",_),B("Errore nella configurazione del listener delle prenotazioni"),y(!1)}},[I]);const E=_=>{if(!(F!=null&&F.serviceTypes))return _;const Q=F.serviceTypes.find(R=>R.id===_);return(Q==null?void 0:Q.name)||_},b=A.filter(_=>{var Y,ie,V;const Q=(_.firstName+" "+_.lastName).toLowerCase().includes(o.toLowerCase())||((Y=_.email)==null?void 0:Y.toLowerCase().includes(o.toLowerCase()))||((ie=_.phone)==null?void 0:ie.includes(o))||((V=_.ticket_number)==null?void 0:V.toLowerCase().includes(o.toLowerCase())),R=u==="all"||_.status===u,T=f==="all"||_.service_type===f;return Q&&R&&T});return m?c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):C?c.jsx("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg",children:C}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"lg:hidden flex items-center justify-between bg-gray-800 p-4 sticky top-0 z-30",children:[c.jsx("h1",{className:"text-xl font-bold text-white",children:"Dashboard"}),c.jsx("button",{onClick:()=>w(!v),className:"p-2 text-gray-400 hover:text-white",children:v?c.jsx(Hn,{size:24}):c.jsx(Q2,{size:24})})]}),c.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>e("bookings"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="bookings"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(Fn,{size:20}),"Prenotazioni"]}),c.jsxs("button",{onClick:()=>e("products"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="products"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(g6,{size:20}),"Prodotti"]}),c.jsxs("button",{onClick:()=>e("gallery"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${t==="gallery"?"bg-[--theater-gold] text-black":"text-white hover:bg-gray-700"}`,children:[c.jsx(id,{size:20}),"Gallerie"]})]}),c.jsx("div",{className:"flex gap-4",children:t==="bookings"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(Xi,{size:20}),"Nuova Prenotazione"]}),c.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500",children:[c.jsx(Ss,{size:20}),"Impostazioni"]})]})})]}),t==="products"&&c.jsx(sne,{}),t==="subscriptions"&&c.jsx($R,{}),t==="gallery"&&c.jsx(Dne,{}),t==="bookings"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl text-white text-center mb-8 font-marquee",children:"Gestione Prenotazioni"}),n&&F&&c.jsx(rne,{settings:F,onSave:Tp,onClose:()=>r(!1)}),c.jsx(kte,{searchTerm:o,statusFilter:u,serviceFilter:f,serviceTypes:(F==null?void 0:F.serviceTypes)||[],onSearchChange:l,onStatusFilterChange:h,onServiceFilterChange:g}),c.jsx(Kte,{bookings:b,serviceTypes:(F==null?void 0:F.serviceTypes)||[],bookingStatuses:N,getServiceLabel:E,getStatusColor:k}),c.jsx(hne,{isOpen:s,onClose:()=>i(!1),onSuccess:()=>{i(!1)}})]})]})},Lne=[{icon:Po,label:"Profilo",path:"/profile"},{icon:Ya,label:"Sicurezza",path:"/profile/security"}],eD=()=>{const t=lA(),e=Yo();return c.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsx("div",{className:"md:col-span-1",children:c.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:c.jsx("nav",{children:c.jsx("ul",{className:"space-y-2",children:Lne.map(n=>c.jsx("li",{children:c.jsxs($.button,{whileHover:{x:4},onClick:()=>e(n.path),className:`w-full flex items-center gap-3 px-4 py-2 rounded transition-colors ${t.pathname===n.path?"bg-[--theater-gold] text-black":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:[c.jsx(n.icon,{size:18}),n.label]})},n.path))})})})}),c.jsx("div",{className:"md:col-span-3",children:c.jsx(lS,{})})]})})})},tD=()=>{const{user:t}=Zs(),[e,n]=S.useState(!1),[r,s]=S.useState(null),[i,A]=S.useState(!1),[a,o]=S.useState({displayName:(t==null?void 0:t.displayName)||"",phoneNumber:(t==null?void 0:t.phoneNumber)||"",customUrl:""}),l=async u=>{if(u.preventDefault(),!!t){n(!0),s(null),A(!1);try{await Pj(t,{displayName:a.displayName}),A(!0)}catch(h){console.error("Error updating profile:",h),s("Errore durante l'aggiornamento del profilo")}finally{n(!1)}}};return c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(Po,{className:"text-[--theater-gold]"}),"Profilo"]}),r&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),r]}),i&&c.jsx("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6",children:"Profilo aggiornato con successo!"}),c.jsxs("form",{onSubmit:l,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Email"}),c.jsxs("div",{className:"flex items-center gap-2 text-white bg-gray-700 p-3 rounded",children:[c.jsx(ua,{className:"text-[--theater-gold]",size:20}),t==null?void 0:t.email]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Telefono"}),c.jsxs("div",{className:"relative",children:[c.jsx(il,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"tel",value:a.phoneNumber,onChange:u=>o({...a,phoneNumber:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Inserisci il tuo numero"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-gray-400 mb-2",children:"Nome Azienda"}),c.jsxs("div",{className:"relative",children:[c.jsx(s6,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",value:a.displayName,onChange:u=>o({...a,displayName:u.target.value}),className:"w-full pl-10 p-3 bg-gray-700 border border-gray-600 rounded text-white",placeholder:"Nome della tua azienda"})]})]})]}),c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Personalizzazione Pagina Prenotazioni"}),c.jsx("p",{className:"text-gray-400 mb-4",children:"Personalizza l'URL della tua pagina di prenotazioni."}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("input",{type:"text",value:a.customUrl,onChange:u=>o({...a,customUrl:u.target.value}),className:"flex-1 p-3 bg-gray-600 border border-gray-500 rounded text-white",placeholder:"URL personalizzato (es: /booking/your-business)"})})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:e,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[e?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Rg,{size:20}),"Salva Modifiche"]})})]})]})})},Mne=()=>{const{subscription:t}=Zs();if(!t)return c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 rounded-lg p-6 flex items-start gap-4",children:[c.jsx(Mt,{className:"w-6 h-6 text-red-500 mt-1"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-red-500",children:"Nessun abbonamento attivo"}),c.jsx("p",{className:"text-gray-400 mt-1",children:"Per utilizzare tutte le funzionalit, attiva un abbonamento."})]})]});const e=t.status==="active",n=new Date(t.endDate),r=Cp(n)?kk(n,new Date):0;return c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{className:`rounded-lg p-6 flex items-start gap-4 ${e?"bg-green-500/10 border border-green-500":"bg-red-500/10 border border-red-500"}`,children:[e?c.jsx(i6,{className:"w-6 h-6 text-green-500 mt-1"}):c.jsx(_6,{className:"w-6 h-6 text-red-500 mt-1"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h3",{className:"text-lg font-medium text-white",children:["Piano ",t.plan==="monthly"?"Mensile":"Annuale"]}),c.jsx("span",{className:`px-2 py-0.5 rounded text-sm ${e?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e?"Attivo":"Scaduto"})]}),c.jsxs("div",{className:"mt-4 space-y-2",children:[Cp(n)&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(Fn,{className:"w-4 h-4"}),c.jsxs("span",{children:["Scade il ",$e(n,"d MMMM yyyy",{locale:qs}),e&&r>0&&` (${r} giorni rimanenti)`]})]}),t.paypalSubscriptionId&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsx(fu,{className:"w-4 h-4"}),c.jsx("span",{children:"Rinnovo automatico attivo"})]})]})]})]}),t.plan==="trial"&&c.jsxs("div",{className:"bg-blue-500/10 border border-blue-500 rounded-lg p-6",children:[c.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Piano di prova"}),c.jsxs("p",{className:"text-gray-400",children:["Stai utilizzando il piano di prova gratuito. Hai ancora ",t.maxBookings-t.bookingsUsed," prenotazioni disponibili."]})]}),!e&&c.jsx($.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors font-medium",children:"Rinnova Abbonamento"})]})},One=()=>c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(fu,{className:"text-[--theater-gold]"}),"Abbonamento"]}),c.jsx(Mne,{})]}),c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Storico Fatturazione"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Data"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Importo"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left py-3 text-gray-400",children:"Fattura"})]})}),c.jsx("tbody",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("td",{className:"py-3 text-white",children:"01/01/2024"}),c.jsx("td",{className:"py-3 text-white",children:"20.00"}),c.jsx("td",{className:"py-3",children:c.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Pagato"})}),c.jsx("td",{className:"py-3",children:c.jsx("button",{className:"text-[--theater-gold] hover:underline",children:"Scarica PDF"})})]})})]})})]})]}),jne=()=>{var m,y,C;const[t,e]=S.useState(""),[n,r]=S.useState(""),[s,i]=S.useState(""),[A,a]=S.useState(!1),[o,l]=S.useState(null),[u,h]=S.useState(!1),f=async B=>{if(B.preventDefault(),!!pn.currentUser){if(n!==s){l("Le password non coincidono");return}a(!0),l(null),h(!1);try{await Lj(pn.currentUser,n),h(!0),e(""),r(""),i("")}catch(v){console.error("Error updating password:",v),l("Errore durante l'aggiornamento della password")}finally{a(!1)}}},g=async()=>{if(pn.currentUser){a(!0),l(null),h(!1);try{await Rj(pn.currentUser),h(!0)}catch(B){console.error("Error sending verification email:",B),l("Errore durante l'invio dell'email di verifica")}finally{a(!1)}}};return c.jsxs("div",{className:"space-y-6",children:[o&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Mt,{size:20}),o]}),u&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg flex items-center gap-2",children:[c.jsx(Vn,{size:20}),(m=pn.currentUser)!=null&&m.emailVerified?"Password aggiornata con successo!":"Email di verifica inviata con successo!"]}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Password Attuale"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:t,onChange:B=>e(B.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuova Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:n,onChange:B=>r(B.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Conferma Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"password",value:s,onChange:B=>i(B.target.value),className:"w-full pl-10 p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0,minLength:6})]})]}),c.jsx("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:A?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Aggiornamento in corso..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ya,{size:20}),"Aggiorna Password"]})})]}),c.jsx("div",{className:"border-t border-gray-700 pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Verifica Email"}),c.jsx("p",{className:"text-gray-400",children:(y=pn.currentUser)!=null&&y.emailVerified?"La tua email  verificata":"Verifica la tua email per accedere a tutte le funzionalit"})]}),!((C=pn.currentUser)!=null&&C.emailVerified)&&c.jsxs("button",{onClick:g,disabled:A,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50",children:[A?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(ua,{size:20}),"Invia Verifica"]})]})})]})},nD=()=>c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(v6,{className:"text-[--theater-gold]"}),"Sicurezza"]}),c.jsx(jne,{})]})}),Vne=async(t,e)=>{try{const n=lt(_e,"notification_settings",t);return await Qg(n,{settings:e.reduce((r,s)=>({...r,[s.id]:{enabled:s.enabled,template:s.template}}),{}),updatedAt:new Date}),await zs(sn(_e,"notification_logs"),{userId:t,type:"settings_update",timestamp:new Date,details:{settings:e}}),!0}catch(n){throw console.error("Error saving notification settings:",n),n}},Hne=async t=>{try{const e=lt(_e,"notification_settings",t),n=await qi(e);return n.exists()?n.data():{settings:{subscription_expiring:{enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},subscription_expired:{enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},subscription_renewed:{enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}}}}catch(e){throw console.error("Error getting notification settings:",e),e}},Kne=[{id:"subscription_expiring",enabled:!0,template:{subject:"Il tuo abbonamento sta per scadere",body:"Il tuo abbonamento scadr tra {days_left} giorni. Rinnova ora per continuare ad utilizzare tutti i servizi."}},{id:"subscription_expired",enabled:!0,template:{subject:"Il tuo abbonamento  scaduto",body:"Il tuo abbonamento  scaduto. Rinnova ora per riprendere ad utilizzare tutti i servizi."}},{id:"subscription_renewed",enabled:!0,template:{subject:"Abbonamento rinnovato con successo",body:"Grazie per aver rinnovato il tuo abbonamento! Il tuo nuovo periodo di abbonamento  attivo fino al {expiry_date}."}}],zne=()=>{const{user:t}=Zs(),[e,n]=S.useState(Kne),[r,s]=S.useState(null),[i,A]=S.useState(!1),[a,o]=S.useState(null),[l,u]=S.useState(!1);S.useEffect(()=>{(async()=>{if(t)try{const g=await Hne(t.uid);if(g){const m=Object.entries(g.settings).map(([y,C])=>({id:y,...C}));n(m)}}catch(g){console.error("Error loading notification settings:",g),o("Errore nel caricamento delle preferenze di notifica")}})()},[t]);const h=async()=>{if(!t){o("Utente non autenticato");return}A(!0),o(null),u(!1);try{await Vne(t.uid,e),e.some(f=>f.enabled)?await Op(t.email,{type:"custom",message:"Questa  una notifica di test. Le tue preferenze di notifica sono state aggiornate con successo!"})?u(!0):o("Le preferenze sono state salvate ma non  stato possibile inviare la notifica di test"):u(!0),s(null)}catch(f){console.error("Error saving notification settings:",f),o("Errore durante il salvataggio delle preferenze")}finally{A(!1)}};return c.jsx($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(dv,{className:"text-[--theater-gold]"}),"Notifiche"]}),a&&c.jsxs("div",{className:"bg-red-500/10 border border-red-500 text-red-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Mt,{size:20}),a]}),l&&c.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-500 p-4 rounded-lg mb-6 flex items-center gap-2",children:[c.jsx(Vn,{size:20}),"Preferenze salvate con successo"]}),c.jsx("div",{className:"space-y-6",children:e.map(f=>c.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:f.enabled,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,enabled:g.target.checked}:y);n(m)},className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[--theater-gold]"})]}),c.jsxs("h3",{className:"text-lg font-medium text-white",children:[f.id==="subscription_expiring"&&"Abbonamento in Scadenza",f.id==="subscription_expired"&&"Abbonamento Scaduto",f.id==="subscription_renewed"&&"Abbonamento Rinnovato"]})]}),c.jsx("button",{onClick:()=>s(r===f.id?null:f.id),className:"text-[--theater-gold] hover:text-yellow-500 transition-colors",children:r===f.id?"Chiudi":"Personalizza"})]}),r===f.id&&c.jsxs("div",{className:"space-y-4 mt-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Oggetto Email"}),c.jsx("input",{type:"text",value:f.template.subject,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,subject:g.target.value}}:y);n(m)},className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-gray-300 mb-2",children:"Testo Email"}),c.jsx("textarea",{value:f.template.body,onChange:g=>{const m=e.map(y=>y.id===f.id?{...y,template:{...y.template,body:g.target.value}}:y);n(m)},rows:4,className:"w-full p-2 bg-gray-600 border border-gray-500 rounded text-white"})]}),c.jsxs("div",{className:"text-sm text-gray-400",children:[c.jsx("p",{children:"Variabili disponibili:"}),c.jsxs("ul",{className:"list-disc list-inside mt-1",children:[f.id==="subscription_expiring"&&c.jsxs("li",{children:["{days_left}"," - Giorni rimanenti alla scadenza"]}),f.id==="subscription_renewed"&&c.jsxs("li",{children:["{expiry_date}"," - Data di scadenza del nuovo abbonamento"]})]})]})]})]},f.id))}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:h,disabled:i,className:"flex items-center gap-2 px-6 py-2 bg-[--theater-gold] text-black rounded hover:bg-yellow-500 transition-colors disabled:opacity-50",children:i?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"animate-spin",children:""}),"Salvataggio..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Rg,{size:20}),"Salva Preferenze"]})})})]})})},Gne=async(t,e,n,r)=>{var s;try{const i=new Date,A=new Date(i);A.setMonth(A.getMonth()+(e==="yearly"?12:1));const a=lt(_e,"subscriptions",t),o=lt(_e,"users",t),u=(s=(await qi(o)).data())==null?void 0:s.email;await Qg(a,{userId:t,plan:e,status:"active",startDate:i,endDate:A,maxBookings:e==="yearly"?1e3:100,bookingsUsed:0,...n==="stripe"&&{stripeSubscriptionId:r},...n==="paypal"&&{paypalSubscriptionId:r},updatedAt:Ln()},{merge:!0}),await Ks(o,{"subscription.status":"active","subscription.plan":e,"subscription.endDate":A,updatedAt:Ln()}),u&&await Op(u,{type:"extension",endDate:A})}catch(i){throw console.error("Error activating subscription:",i),i}},Wne=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[s,i]=S.useState(null),[A,a]=S.useState(""),[o,l]=S.useState("all"),[u,h]=S.useState("all"),[f,g]=S.useState(null),[m,y]=S.useState(!1);S.useEffect(()=>{const w=sn(_e,"users"),F=hA(w,Do("createdAt","desc")),N=sl(F,k=>{const I=k.docs.map(E=>{var b,_,Q,R;return{id:E.id,...E.data(),createdAt:(b=E.data().createdAt)==null?void 0:b.toDate(),updatedAt:(_=E.data().updatedAt)==null?void 0:_.toDate(),lastLoginAt:(Q=E.data().lastLoginAt)==null?void 0:Q.toDate(),subscription:E.data().subscription?{...E.data().subscription,endDate:(R=E.data().subscription.endDate)==null?void 0:R.toDate()}:void 0}});e(I),r(!1)},k=>{console.error("Error fetching users:",k),i("Errore nel caricamento degli utenti"),r(!1)});return()=>N()},[]);const C=async(w,F)=>{y(!0),i(null);try{await Gne(w,"monthly","admin_activation"),await Ks(lt(_e,"users",w),{subscription:{status:"active",plan:"monthly",endDate:new Date(Date.now()+30*24*60*60*1e3)},updatedAt:new Date})}catch(N){console.error("Error activating subscription:",N),i("Errore durante l'attivazione dell'abbonamento")}finally{y(!1)}},B=async(w,F)=>{try{await Ks(lt(_e,"users",w),{status:F,updatedAt:new Date})}catch(N){console.error("Error updating user status:",N),i("Errore durante l'aggiornamento dello stato utente")}},v=t.filter(w=>{var I;const F=w.email.toLowerCase().includes(A.toLowerCase())||((I=w.displayName)==null?void 0:I.toLowerCase().includes(A.toLowerCase())),N=o==="all"||w.role===o,k=u==="all"||w.status===u;return F&&N&&k});return n?c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:c.jsx("div",{className:"text-white text-xl",children:"Caricamento..."})}):c.jsx("div",{className:"min-h-screen bg-gray-900 py-8",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-8",children:[c.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(ox,{className:"text-[--theater-gold]"}),"Gestione Utenti"]}),c.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 text-gray-400 hover:text-white rounded-full transition-colors",title:"Aggiorna",children:c.jsx(R2,{size:20})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Dg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cerca per email o nome...",value:A,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rp,{className:"text-gray-400"}),c.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti i ruoli"}),c.jsx("option",{value:"user",children:"Utenti"}),c.jsx("option",{value:"admin",children:"Admin"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(rp,{className:"text-gray-400"}),c.jsxs("select",{value:u,onChange:w=>h(w.target.value),className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",children:[c.jsx("option",{value:"all",children:"Tutti gli stati"}),c.jsx("option",{value:"active",children:"Attivi"}),c.jsx("option",{value:"suspended",children:"Sospesi"}),c.jsx("option",{value:"pending",children:"In attesa"})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-700",children:[c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Email"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Nome"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ruolo"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Stato"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Abbonamento"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Ultimo Accesso"}),c.jsx("th",{className:"text-left p-4 text-gray-400",children:"Azioni"})]})}),c.jsx("tbody",{children:v.map(w=>{var F;return c.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50",children:[c.jsx("td",{className:"p-4 text-white",children:w.email}),c.jsx("td",{className:"p-4 text-white",children:w.displayName||"-"}),c.jsx("td",{className:"p-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:w.role==="admin"?"Admin":"Utente"})}),c.jsx("td",{className:"p-4",children:c.jsxs("select",{value:w.status,onChange:N=>B(w.id,N.target.value),className:`px-3 py-1 rounded text-sm ${w.status==="active"?"bg-green-500/20 text-green-400":w.status==="suspended"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:[c.jsx("option",{value:"active",children:"Attivo"}),c.jsx("option",{value:"suspended",children:"Sospeso"}),c.jsx("option",{value:"pending",children:"In attesa"})]})}),c.jsx("td",{className:"p-4",children:w.subscription?c.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${w.subscription.status==="active"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:w.subscription.status==="active"?`${w.subscription.plan} (attivo)`:"Scaduto"}):c.jsxs("button",{onClick:()=>C(w.id,w.email),disabled:m,className:"flex items-center gap-2 px-3 py-1 bg-[--theater-gold] text-black rounded-full text-sm hover:bg-yellow-500 transition-colors disabled:opacity-50",children:[m?c.jsx("span",{className:"animate-spin",children:""}):c.jsx($1,{size:14}),"Attiva"]})}),c.jsx("td",{className:"p-4 text-gray-400",children:((F=w.lastLoginAt)==null?void 0:F.toLocaleDateString())||"Mai"}),c.jsx("td",{className:"p-4",children:c.jsx("button",{onClick:()=>g(w),className:"p-2 text-[--theater-gold] hover:bg-[--theater-gold]/10 rounded-full transition-colors",children:c.jsx($1,{size:18})})})]},w.id)})})]})})]})})})},$ne=()=>{const{user:t,isAdmin:e}=Zs(),n=Yo();if(!t)return c.jsx(uo,{to:"/login",replace:!0});if(!e)return c.jsx(uo,{to:"/",replace:!0});const r=async()=>{try{await pn.signOut(),n("/")}catch(s){console.error("Error signing out:",s)}};return c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsx("header",{className:"bg-gray-800 border-b border-gray-700 sticky top-0 z-50",children:c.jsx("div",{className:"container mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx(ho,{to:"/dashboard",className:"text-2xl font-marquee text-[--theater-gold]",children:"Booking Manager"}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{className:"relative group",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:[c.jsx(Po,{size:18}),c.jsx("span",{className:"max-w-[150px] truncate",children:t==null?void 0:t.email})]}),c.jsxs("div",{className:"absolute right-0 mt-2 w-48 py-2 bg-gray-700 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all",children:[c.jsx(ho,{to:"/dashboard/profile",className:"block px-4 py-2 text-white hover:bg-gray-600 transition-colors",children:"Profilo"}),c.jsxs("button",{onClick:r,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-gray-600 transition-colors flex items-center gap-2",children:[c.jsx(h6,{size:18}),"Esci"]})]})]})})]})})}),c.jsx("main",{className:"container mx-auto px-4 py-8",children:c.jsxs(cS,{children:[c.jsx(Ft,{path:"/",element:c.jsx(Pne,{})}),c.jsx(Ft,{path:"users",element:c.jsx(Wne,{})}),c.jsx(Ft,{path:"subscriptions",element:c.jsx($R,{})}),c.jsxs(Ft,{path:"profile/*",element:c.jsx(eD,{}),children:[c.jsx(Ft,{index:!0,element:c.jsx(tD,{})}),c.jsx(Ft,{path:"subscription",element:c.jsx(One,{})}),c.jsx(Ft,{path:"security",element:c.jsx(nD,{})}),c.jsx(Ft,{path:"notifications",element:c.jsx(zne,{})})]}),c.jsx(Ft,{path:"*",element:c.jsx(uo,{to:"/dashboard",replace:!0})})]})})]})},qne=()=>c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx(U2,{className:"w-24 h-24 text-[--theater-gold]"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Pagina non trovata"}),c.jsx("p",{className:"text-gray-400 mb-8",children:"La pagina che stai cercando non esiste o  stata spostata."}),c.jsxs(ho,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-[--theater-gold] text-black rounded-lg hover:bg-yellow-500 transition-colors",children:[c.jsx(S2,{size:20}),"Torna alla Home"]})]})}),Xne=()=>{const t=Yo(),e=lA(),{user:n}=Zs(),[r,s]=S.useState(null);return S.useEffect(()=>{(async()=>{if(n)try{const a=new URLSearchParams(e.search).get("code");if(!a)throw new Error("Codice di autorizzazione mancante");await sq(a,n.uid);const o=sessionStorage.getItem("calendarReturnTo")||"/dashboard";sessionStorage.removeItem("calendarReturnTo"),t(o)}catch(A){console.error("Error handling calendar callback:",A),s("Errore durante la connessione a Google Calendar")}})()},[n,e.search,t]),c.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:c.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 p-8 rounded-lg shadow-xl max-w-md w-full text-center",children:[c.jsx(Fn,{className:"w-16 h-16 text-[--theater-gold] mx-auto mb-6"}),r?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-500 mb-4",children:[c.jsx(Mt,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Errore di Connessione"})]}),c.jsx("p",{className:"text-gray-400",children:r})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-500 mb-4",children:[c.jsx(Vn,{size:24}),c.jsx("h2",{className:"text-xl font-semibold",children:"Connessione in corso..."})]}),c.jsx("p",{className:"text-gray-400",children:"Stiamo connettendo il tuo Google Calendar..."})]})]})})},Yne="/carnival2025",Jne=()=>(Zs(),c.jsxs(cS,{children:[c.jsx(Ft,{path:"/",element:c.jsx(uo,{to:"/prenota",replace:!0})}),c.jsxs(Ft,{element:c.jsx(e7,{}),children:[c.jsx(Ft,{path:"/prenota",element:c.jsx(Nte,{})}),c.jsx(Ft,{path:"/dashboard/*",element:c.jsx(X1,{requireAdmin:!0,children:c.jsx($ne,{})})}),c.jsxs(Ft,{path:"/profile",element:c.jsx(X1,{children:c.jsx(eD,{})}),children:[c.jsx(Ft,{index:!0,element:c.jsx(tD,{})}),c.jsx(Ft,{path:"security",element:c.jsx(nD,{})})]}),c.jsx(Ft,{path:"/calendar/callback",element:c.jsx(Xne,{})}),c.jsx(Ft,{path:"/404",element:c.jsx(qne,{})}),c.jsx(Ft,{path:"*",element:c.jsx(uo,{to:"/404",replace:!0})})]})]})),Zne=()=>c.jsx(b6,{children:c.jsx(t6,{children:c.jsx(ZL,{basename:Yne,children:c.jsx(X5,{children:c.jsx(Jne,{})})})})}),rD=document.getElementById("root");if(!rD)throw new Error("Failed to find the root element");rB(rD).render(c.jsx(S.StrictMode,{children:c.jsx(Zne,{})}));
